function Nne(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var UM={exports:{}},hy={},zM={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function Ine(){if(IL)return gr;IL=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),c=Symbol.iterator;function f(Z){return Z===null||typeof Z!="object"?null:(Z=c&&Z[c]||Z["@@iterator"],typeof Z=="function"?Z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function y(Z,oe,ye){this.props=Z,this.context=oe,this.refs=b,this.updater=ye||m}y.prototype.isReactComponent={},y.prototype.setState=function(Z,oe){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,oe,"setState")},y.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function w(){}w.prototype=y.prototype;function A(Z,oe,ye){this.props=Z,this.context=oe,this.refs=b,this.updater=ye||m}var E=A.prototype=new w;E.constructor=A,v(E,y.prototype),E.isPureReactComponent=!0;var C=Array.isArray,M=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(Z,oe,ye){var Be,Xe={},we=null,Ae=null;if(oe!=null)for(Be in oe.ref!==void 0&&(Ae=oe.ref),oe.key!==void 0&&(we=""+oe.key),oe)M.call(oe,Be)&&!O.hasOwnProperty(Be)&&(Xe[Be]=oe[Be]);var ke=arguments.length-2;if(ke===1)Xe.children=ye;else if(1<ke){for(var Oe=Array(ke),Ge=0;Ge<ke;Ge++)Oe[Ge]=arguments[Ge+2];Xe.children=Oe}if(Z&&Z.defaultProps)for(Be in ke=Z.defaultProps,ke)Xe[Be]===void 0&&(Xe[Be]=ke[Be]);return{$$typeof:n,type:Z,key:we,ref:Ae,props:Xe,_owner:P.current}}function D(Z,oe){return{$$typeof:n,type:Z.type,key:oe,ref:Z.ref,props:Z.props,_owner:Z._owner}}function I(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function L(Z){var oe={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(ye){return oe[ye]})}var W=/\/+/g;function q(Z,oe){return typeof Z=="object"&&Z!==null&&Z.key!=null?L(""+Z.key):oe.toString(36)}function K(Z,oe,ye,Be,Xe){var we=typeof Z;(we==="undefined"||we==="boolean")&&(Z=null);var Ae=!1;if(Z===null)Ae=!0;else switch(we){case"string":case"number":Ae=!0;break;case"object":switch(Z.$$typeof){case n:case e:Ae=!0}}if(Ae)return Ae=Z,Xe=Xe(Ae),Z=Be===""?"."+q(Ae,0):Be,C(Xe)?(ye="",Z!=null&&(ye=Z.replace(W,"$&/")+"/"),K(Xe,oe,ye,"",function(Ge){return Ge})):Xe!=null&&(I(Xe)&&(Xe=D(Xe,ye+(!Xe.key||Ae&&Ae.key===Xe.key?"":(""+Xe.key).replace(W,"$&/")+"/")+Z)),oe.push(Xe)),1;if(Ae=0,Be=Be===""?".":Be+":",C(Z))for(var ke=0;ke<Z.length;ke++){we=Z[ke];var Oe=Be+q(we,ke);Ae+=K(we,oe,ye,Oe,Xe)}else if(Oe=f(Z),typeof Oe=="function")for(Z=Oe.call(Z),ke=0;!(we=Z.next()).done;)we=we.value,Oe=Be+q(we,ke++),Ae+=K(we,oe,ye,Oe,Xe);else if(we==="object")throw oe=String(Z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Ae}function ie(Z,oe,ye){if(Z==null)return Z;var Be=[],Xe=0;return K(Z,Be,"","",function(we){return oe.call(ye,we,Xe++)}),Be}function V(Z){if(Z._status===-1){var oe=Z._result;oe=oe(),oe.then(function(ye){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=ye)},function(ye){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=ye)}),Z._status===-1&&(Z._status=0,Z._result=oe)}if(Z._status===1)return Z._result.default;throw Z._result}var J={current:null},H={transition:null},Y={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:H,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return gr.Children={map:ie,forEach:function(Z,oe,ye){ie(Z,function(){oe.apply(this,arguments)},ye)},count:function(Z){var oe=0;return ie(Z,function(){oe++}),oe},toArray:function(Z){return ie(Z,function(oe){return oe})||[]},only:function(Z){if(!I(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},gr.Component=y,gr.Fragment=t,gr.Profiler=i,gr.PureComponent=A,gr.StrictMode=r,gr.Suspense=l,gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,gr.act=ne,gr.cloneElement=function(Z,oe,ye){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Be=v({},Z.props),Xe=Z.key,we=Z.ref,Ae=Z._owner;if(oe!=null){if(oe.ref!==void 0&&(we=oe.ref,Ae=P.current),oe.key!==void 0&&(Xe=""+oe.key),Z.type&&Z.type.defaultProps)var ke=Z.type.defaultProps;for(Oe in oe)M.call(oe,Oe)&&!O.hasOwnProperty(Oe)&&(Be[Oe]=oe[Oe]===void 0&&ke!==void 0?ke[Oe]:oe[Oe])}var Oe=arguments.length-2;if(Oe===1)Be.children=ye;else if(1<Oe){ke=Array(Oe);for(var Ge=0;Ge<Oe;Ge++)ke[Ge]=arguments[Ge+2];Be.children=ke}return{$$typeof:n,type:Z.type,key:Xe,ref:we,props:Be,_owner:Ae}},gr.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},gr.createElement=k,gr.createFactory=function(Z){var oe=k.bind(null,Z);return oe.type=Z,oe},gr.createRef=function(){return{current:null}},gr.forwardRef=function(Z){return{$$typeof:a,render:Z}},gr.isValidElement=I,gr.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:V}},gr.memo=function(Z,oe){return{$$typeof:u,type:Z,compare:oe===void 0?null:oe}},gr.startTransition=function(Z){var oe=H.transition;H.transition={};try{Z()}finally{H.transition=oe}},gr.unstable_act=ne,gr.useCallback=function(Z,oe){return J.current.useCallback(Z,oe)},gr.useContext=function(Z){return J.current.useContext(Z)},gr.useDebugValue=function(){},gr.useDeferredValue=function(Z){return J.current.useDeferredValue(Z)},gr.useEffect=function(Z,oe){return J.current.useEffect(Z,oe)},gr.useId=function(){return J.current.useId()},gr.useImperativeHandle=function(Z,oe,ye){return J.current.useImperativeHandle(Z,oe,ye)},gr.useInsertionEffect=function(Z,oe){return J.current.useInsertionEffect(Z,oe)},gr.useLayoutEffect=function(Z,oe){return J.current.useLayoutEffect(Z,oe)},gr.useMemo=function(Z,oe){return J.current.useMemo(Z,oe)},gr.useReducer=function(Z,oe,ye){return J.current.useReducer(Z,oe,ye)},gr.useRef=function(Z){return J.current.useRef(Z)},gr.useState=function(Z){return J.current.useState(Z)},gr.useSyncExternalStore=function(Z,oe,ye){return J.current.useSyncExternalStore(Z,oe,ye)},gr.useTransition=function(){return J.current.useTransition()},gr.version="18.3.1",gr}var OL;function lE(){return OL||(OL=1,zM.exports=Ine()),zM.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL;function One(){if(FL)return hy;FL=1;var n=lE(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var d,c={},f=null,m=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(c[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)c[d]===void 0&&(c[d]=l[d]);return{$$typeof:e,type:a,key:f,ref:m,props:c,_owner:i.current}}return hy.Fragment=t,hy.jsx=o,hy.jsxs=o,hy}var DL;function Fne(){return DL||(DL=1,UM.exports=One()),UM.exports}var p=Fne(),B=lE();const ue=Hr(B),MF=Nne({__proto__:null,default:ue},[B]);var i1={},HM={exports:{}},sa={},GM={exports:{}},VM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BL;function Dne(){return BL||(BL=1,(function(n){function e(H,Y){var ne=H.length;H.push(Y);e:for(;0<ne;){var Z=ne-1>>>1,oe=H[Z];if(0<i(oe,Y))H[Z]=Y,H[ne]=oe,ne=Z;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],ne=H.pop();if(ne!==Y){H[0]=ne;e:for(var Z=0,oe=H.length,ye=oe>>>1;Z<ye;){var Be=2*(Z+1)-1,Xe=H[Be],we=Be+1,Ae=H[we];if(0>i(Xe,ne))we<oe&&0>i(Ae,Xe)?(H[Z]=Ae,H[we]=ne,Z=we):(H[Z]=Xe,H[Be]=ne,Z=Be);else if(we<oe&&0>i(Ae,ne))H[Z]=Ae,H[we]=ne,Z=we;else break e}}return Y}function i(H,Y){var ne=H.sortIndex-Y.sortIndex;return ne!==0?ne:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Y=t(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=H)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(u)}}function C(H){if(b=!1,E(H),!v)if(t(l)!==null)v=!0,V(M);else{var Y=t(u);Y!==null&&J(C,Y.startTime-H)}}function M(H,Y){v=!1,b&&(b=!1,w(k),k=-1),m=!0;var ne=f;try{for(E(Y),c=t(l);c!==null&&(!(c.expirationTime>Y)||H&&!L());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var oe=Z(c.expirationTime<=Y);Y=n.unstable_now(),typeof oe=="function"?c.callback=oe:c===t(l)&&r(l),E(Y)}else r(l);c=t(l)}if(c!==null)var ye=!0;else{var Be=t(u);Be!==null&&J(C,Be.startTime-Y),ye=!1}return ye}finally{c=null,f=ne,m=!1}}var P=!1,O=null,k=-1,D=5,I=-1;function L(){return!(n.unstable_now()-I<D)}function W(){if(O!==null){var H=n.unstable_now();I=H;var Y=!0;try{Y=O(!0,H)}finally{Y?q():(P=!1,O=null)}}else P=!1}var q;if(typeof A=="function")q=function(){A(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=W,q=function(){ie.postMessage(null)}}else q=function(){y(W,0)};function V(H){O=H,P||(P=!0,q())}function J(H,Y){k=y(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,V(M))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ne=f;f=Y;try{return H()}finally{f=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=f;f=H;try{return Y()}finally{f=ne}},n.unstable_scheduleCallback=function(H,Y,ne){var Z=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Z+ne:Z):ne=Z,H){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,H={id:d++,callback:Y,priorityLevel:H,startTime:ne,expirationTime:oe,sortIndex:-1},ne>Z?(H.sortIndex=ne,e(u,H),t(l)===null&&H===t(u)&&(b?(w(k),k=-1):b=!0,J(C,ne-Z))):(H.sortIndex=oe,e(l,H),v||m||(v=!0,V(M))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var Y=f;return function(){var ne=f;f=Y;try{return H.apply(this,arguments)}finally{f=ne}}}})(VM)),VM}var kL;function Bne(){return kL||(kL=1,GM.exports=Dne()),GM.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL;function kne(){if(LL)return sa;LL=1;var n=lE(),e=Bne();function t(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,g){o(h,g),o(h+"Capture",g)}function o(h,g){for(i[h]=g,h=0;h<g.length;h++)r.add(g[h])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},c={};function f(h){return l.call(c,h)?!0:l.call(d,h)?!1:u.test(h)?c[h]=!0:(d[h]=!0,!1)}function m(h,g,S,N){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return N?!1:S!==null?!S.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function v(h,g,S,N){if(g===null||typeof g>"u"||m(h,g,S,N))return!0;if(N)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function b(h,g,S,N,j,G,se){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=N,this.attributeNamespace=j,this.mustUseProperty=S,this.propertyName=h,this.type=g,this.sanitizeURL=G,this.removeEmptyString=se}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){y[h]=new b(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];y[g]=new b(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){y[h]=new b(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){y[h]=new b(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){y[h]=new b(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){y[h]=new b(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){y[h]=new b(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){y[h]=new b(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){y[h]=new b(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(w,A);y[g]=new b(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(w,A);y[g]=new b(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(w,A);y[g]=new b(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){y[h]=new b(h,1,!1,h.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){y[h]=new b(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,g,S,N){var j=y.hasOwnProperty(g)?y[g]:null;(j!==null?j.type!==0:N||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(v(g,S,j,N)&&(S=null),N||j===null?f(g)&&(S===null?h.removeAttribute(g):h.setAttribute(g,""+S)):j.mustUseProperty?h[j.propertyName]=S===null?j.type===3?!1:"":S:(g=j.attributeName,N=j.attributeNamespace,S===null?h.removeAttribute(g):(j=j.type,S=j===3||j===4&&S===!0?"":""+S,N?h.setAttributeNS(N,g,S):h.setAttribute(g,S))))}var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),H=Symbol.iterator;function Y(h){return h===null||typeof h!="object"?null:(h=H&&h[H]||h["@@iterator"],typeof h=="function"?h:null)}var ne=Object.assign,Z;function oe(h){if(Z===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);Z=g&&g[1]||""}return`
`+Z+h}var ye=!1;function Be(h,g){if(!h||ye)return"";ye=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ze){var N=Ze}Reflect.construct(h,[],g)}else{try{g.call()}catch(Ze){N=Ze}h.call(g.prototype)}else{try{throw Error()}catch(Ze){N=Ze}h()}}catch(Ze){if(Ze&&N&&typeof Ze.stack=="string"){for(var j=Ze.stack.split(`
`),G=N.stack.split(`
`),se=j.length-1,be=G.length-1;1<=se&&0<=be&&j[se]!==G[be];)be--;for(;1<=se&&0<=be;se--,be--)if(j[se]!==G[be]){if(se!==1||be!==1)do if(se--,be--,0>be||j[se]!==G[be]){var Me=`
`+j[se].replace(" at new "," at ");return h.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",h.displayName)),Me}while(1<=se&&0<=be);break}}}finally{ye=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?oe(h):""}function Xe(h){switch(h.tag){case 5:return oe(h.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return h=Be(h.type,!1),h;case 11:return h=Be(h.type.render,!1),h;case 1:return h=Be(h.type,!0),h;default:return""}}function we(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case O:return"Fragment";case P:return"Portal";case D:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case K:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case L:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case W:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case ie:return g=h.displayName||null,g!==null?g:we(h.type)||"Memo";case V:g=h._payload,h=h._init;try{return we(h(g))}catch{}}return null}function Ae(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(g);case 8:return g===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function ke(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Oe(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ge(h){var g=Oe(h)?"checked":"value",S=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),N=""+h[g];if(!h.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var j=S.get,G=S.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return j.call(this)},set:function(se){N=""+se,G.call(this,se)}}),Object.defineProperty(h,g,{enumerable:S.enumerable}),{getValue:function(){return N},setValue:function(se){N=""+se},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function et(h){h._valueTracker||(h._valueTracker=Ge(h))}function ze(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var S=g.getValue(),N="";return h&&(N=Oe(h)?h.checked?"true":"false":h.value),h=N,h!==S?(g.setValue(h),!0):!1}function nt(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Fe(h,g){var S=g.checked;return ne({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??h._wrapperState.initialChecked})}function ce(h,g){var S=g.defaultValue==null?"":g.defaultValue,N=g.checked!=null?g.checked:g.defaultChecked;S=ke(g.value!=null?g.value:S),h._wrapperState={initialChecked:N,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function rt(h,g){g=g.checked,g!=null&&E(h,"checked",g,!1)}function ct(h,g){rt(h,g);var S=ke(g.value),N=g.type;if(S!=null)N==="number"?(S===0&&h.value===""||h.value!=S)&&(h.value=""+S):h.value!==""+S&&(h.value=""+S);else if(N==="submit"||N==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?Te(h,g.type,S):g.hasOwnProperty("defaultValue")&&Te(h,g.type,ke(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function wt(h,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var N=g.type;if(!(N!=="submit"&&N!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,S||g===h.value||(h.value=g),h.defaultValue=g}S=h.name,S!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,S!==""&&(h.name=S)}function Te(h,g,S){(g!=="number"||nt(h.ownerDocument)!==h)&&(S==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+S&&(h.defaultValue=""+S))}var tt=Array.isArray;function st(h,g,S,N){if(h=h.options,g){g={};for(var j=0;j<S.length;j++)g["$"+S[j]]=!0;for(S=0;S<h.length;S++)j=g.hasOwnProperty("$"+h[S].value),h[S].selected!==j&&(h[S].selected=j),j&&N&&(h[S].defaultSelected=!0)}else{for(S=""+ke(S),g=null,j=0;j<h.length;j++){if(h[j].value===S){h[j].selected=!0,N&&(h[j].defaultSelected=!0);return}g!==null||h[j].disabled||(g=h[j])}g!==null&&(g.selected=!0)}}function ft(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function ae(h,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(t(92));if(tt(S)){if(1<S.length)throw Error(t(93));S=S[0]}g=S}g==null&&(g=""),S=g}h._wrapperState={initialValue:ke(S)}}function te(h,g){var S=ke(g.value),N=ke(g.defaultValue);S!=null&&(S=""+S,S!==h.value&&(h.value=S),g.defaultValue==null&&h.defaultValue!==S&&(h.defaultValue=S)),N!=null&&(h.defaultValue=""+N)}function Ne(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function Ye(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?Ye(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Ke,Jt=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,N,j){MSApp.execUnsafeLocalFunction(function(){return h(g,S,N,j)})}:h})(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Ke.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function It(h,g){if(g){var S=h.firstChild;if(S&&S===h.lastChild&&S.nodeType===3){S.nodeValue=g;return}}h.textContent=g}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(h){Lt.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),Vt[g]=Vt[h]})});function yt(h,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||Vt.hasOwnProperty(h)&&Vt[h]?(""+g).trim():g+"px"}function bt(h,g){h=h.style;for(var S in g)if(g.hasOwnProperty(S)){var N=S.indexOf("--")===0,j=yt(S,g[S],N);S==="float"&&(S="cssFloat"),N?h.setProperty(S,j):h[S]=j}}var Zt=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(h,g){if(g){if(Zt[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(t(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(t(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(t(61))}if(g.style!=null&&typeof g.style!="object")throw Error(t(62))}}function Pe(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ht=null;function he(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Le=null,lt=null,vt=null;function mt(h){if(h=Il(h)){if(typeof Le!="function")throw Error(t(280));var g=h.stateNode;g&&(g=Gm(g),Le(h.stateNode,h.type,g))}}function je(h){lt?vt?vt.push(h):vt=[h]:lt=h}function _t(){if(lt){var h=lt,g=vt;if(vt=lt=null,mt(h),g)for(h=0;h<g.length;h++)mt(g[h])}}function jt(h,g){return h(g)}function _n(){}var Sn=!1;function An(h,g,S){if(Sn)return h(g,S);Sn=!0;try{return jt(h,g,S)}finally{Sn=!1,(lt!==null||vt!==null)&&(_n(),_t())}}function kn(h,g){var S=h.stateNode;if(S===null)return null;var N=Gm(S);if(N===null)return null;S=N[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(S&&typeof S!="function")throw Error(t(231,g,typeof S));return S}var Kr=!1;if(a)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Kr=!1}function xr(h,g,S,N,j,G,se,be,Me){var Ze=Array.prototype.slice.call(arguments,3);try{g.apply(S,Ze)}catch(Rt){this.onError(Rt)}}var Fr=!1,Yr=null,tr=!1,En=null,Mo={onError:function(h){Fr=!0,Yr=h}};function bc(h,g,S,N,j,G,se,be,Me){Fr=!1,Yr=null,xr.apply(Mo,arguments)}function Q(h,g,S,N,j,G,se,be,Me){if(bc.apply(this,arguments),Fr){if(Fr){var Ze=Yr;Fr=!1,Yr=null}else throw Error(t(198));tr||(tr=!0,En=Ze)}}function le(h){var g=h,S=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(S=g.return),h=g.return;while(h)}return g.tag===3?S:null}function Ee(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function Ve(h){if(le(h)!==h)throw Error(t(188))}function ot(h){var g=h.alternate;if(!g){if(g=le(h),g===null)throw Error(t(188));return g!==h?null:h}for(var S=h,N=g;;){var j=S.return;if(j===null)break;var G=j.alternate;if(G===null){if(N=j.return,N!==null){S=N;continue}break}if(j.child===G.child){for(G=j.child;G;){if(G===S)return Ve(j),h;if(G===N)return Ve(j),g;G=G.sibling}throw Error(t(188))}if(S.return!==N.return)S=j,N=G;else{for(var se=!1,be=j.child;be;){if(be===S){se=!0,S=j,N=G;break}if(be===N){se=!0,N=j,S=G;break}be=be.sibling}if(!se){for(be=G.child;be;){if(be===S){se=!0,S=G,N=j;break}if(be===N){se=!0,N=G,S=j;break}be=be.sibling}if(!se)throw Error(t(189))}}if(S.alternate!==N)throw Error(t(190))}if(S.tag!==3)throw Error(t(188));return S.stateNode.current===S?h:g}function it(h){return h=ot(h),h!==null?Ft(h):null}function Ft(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=Ft(h);if(g!==null)return g;h=h.sibling}return null}var Mt=e.unstable_scheduleCallback,Ot=e.unstable_cancelCallback,ee=e.unstable_shouldYield,ve=e.unstable_requestPaint,xe=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,Se=e.unstable_ImmediatePriority,Je=e.unstable_UserBlockingPriority,dt=e.unstable_NormalPriority,St=e.unstable_LowPriority,Et=e.unstable_IdlePriority,Pt=null,At=null;function Nt(h){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Pt,h,void 0,(h.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Tn,yn=Math.log,un=Math.LN2;function Tn(h){return h>>>=0,h===0?32:31-(yn(h)/un|0)|0}var Rn=64,Yt=4194304;function Ln(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function sn(h,g){var S=h.pendingLanes;if(S===0)return 0;var N=0,j=h.suspendedLanes,G=h.pingedLanes,se=S&268435455;if(se!==0){var be=se&~j;be!==0?N=Ln(be):(G&=se,G!==0&&(N=Ln(G)))}else se=S&~j,se!==0?N=Ln(se):G!==0&&(N=Ln(G));if(N===0)return 0;if(g!==0&&g!==N&&(g&j)===0&&(j=N&-N,G=g&-g,j>=G||j===16&&(G&4194240)!==0))return g;if((N&4)!==0&&(N|=S&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=N;0<g;)S=31-Wt(g),j=1<<S,N|=h[S],g&=~j;return N}function jn(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(h,g){for(var S=h.suspendedLanes,N=h.pingedLanes,j=h.expirationTimes,G=h.pendingLanes;0<G;){var se=31-Wt(G),be=1<<se,Me=j[se];Me===-1?((be&S)===0||(be&N)!==0)&&(j[se]=jn(be,g)):Me<=g&&(h.expiredLanes|=be),G&=~be}}function Pn(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function mr(){var h=Rn;return Rn<<=1,(Rn&4194240)===0&&(Rn=64),h}function dr(h){for(var g=[],S=0;31>S;S++)g.push(h);return g}function fr(h,g,S){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-Wt(g),h[g]=S}function Jr(h,g){var S=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var N=h.eventTimes;for(h=h.expirationTimes;0<S;){var j=31-Wt(S),G=1<<j;g[j]=0,N[j]=-1,h[j]=-1,S&=~G}}function ti(h,g){var S=h.entangledLanes|=g;for(h=h.entanglements;S;){var N=31-Wt(S),j=1<<N;j&g|h[N]&g&&(h[N]|=g),S&=~j}}var Nn=0;function To(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Ki,Id,ph,za,Od,Cl=!1,Fd=[],Ko=null,Kn=null,Vs=null,Ml=new Map,_c=new Map,Ha=[],Pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oi(h,g){switch(h){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Ml.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(g.pointerId)}}function Ga(h,g,S,N,j,G){return h===null||h.nativeEvent!==G?(h={blockedOn:g,domEventName:S,eventSystemFlags:N,nativeEvent:G,targetContainers:[j]},g!==null&&(g=Il(g),g!==null&&Id(g)),h):(h.eventSystemFlags|=N,g=h.targetContainers,j!==null&&g.indexOf(j)===-1&&g.push(j),h)}function Am(h,g,S,N,j){switch(g){case"focusin":return Ko=Ga(Ko,h,g,S,N,j),!0;case"dragenter":return Kn=Ga(Kn,h,g,S,N,j),!0;case"mouseover":return Vs=Ga(Vs,h,g,S,N,j),!0;case"pointerover":var G=j.pointerId;return Ml.set(G,Ga(Ml.get(G)||null,h,g,S,N,j)),!0;case"gotpointercapture":return G=j.pointerId,_c.set(G,Ga(_c.get(G)||null,h,g,S,N,j)),!0}return!1}function Va(h){var g=Fc(h.target);if(g!==null){var S=le(g);if(S!==null){if(g=S.tag,g===13){if(g=Ee(S),g!==null){h.blockedOn=g,Od(h.priority,function(){ph(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){h.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Ts(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var S=io(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(S===null){S=h.nativeEvent;var N=new S.constructor(S.type,S);ht=N,S.target.dispatchEvent(N),ht=null}else return g=Il(S),g!==null&&Id(g),h.blockedOn=S,!1;g.shift()}return!0}function bu(h,g,S){Ts(h)&&S.delete(g)}function Yo(){Cl=!1,Ko!==null&&Ts(Ko)&&(Ko=null),Kn!==null&&Ts(Kn)&&(Kn=null),Vs!==null&&Ts(Vs)&&(Vs=null),Ml.forEach(bu),_c.forEach(bu)}function wc(h,g){h.blockedOn===g&&(h.blockedOn=null,Cl||(Cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yo)))}function Sc(h){function g(j){return wc(j,h)}if(0<Fd.length){wc(Fd[0],h);for(var S=1;S<Fd.length;S++){var N=Fd[S];N.blockedOn===h&&(N.blockedOn=null)}}for(Ko!==null&&wc(Ko,h),Kn!==null&&wc(Kn,h),Vs!==null&&wc(Vs,h),Ml.forEach(g),_c.forEach(g),S=0;S<Ha.length;S++)N=Ha[S],N.blockedOn===h&&(N.blockedOn=null);for(;0<Ha.length&&(S=Ha[0],S.blockedOn===null);)Va(S),S.blockedOn===null&&Ha.shift()}var Ui=C.ReactCurrentBatchConfig,Ps=!0;function va(h,g,S,N){var j=Nn,G=Ui.transition;Ui.transition=null;try{Nn=1,Ac(h,g,S,N)}finally{Nn=j,Ui.transition=G}}function Dd(h,g,S,N){var j=Nn,G=Ui.transition;Ui.transition=null;try{Nn=4,Ac(h,g,S,N)}finally{Nn=j,Ui.transition=G}}function Ac(h,g,S,N){if(Ps){var j=io(h,g,S,N);if(j===null)km(h,g,N,Bd,S),oi(h,N);else if(Am(j,h,g,S,N))N.stopPropagation();else if(oi(h,N),g&4&&-1<Pv.indexOf(h)){for(;j!==null;){var G=Il(j);if(G!==null&&Ki(G),G=io(h,g,S,N),G===null&&km(h,g,N,Bd,S),G===j)break;j=G}j!==null&&N.stopPropagation()}else km(h,g,N,null,S)}}var Bd=null;function io(h,g,S,N){if(Bd=null,h=he(N),h=Fc(h),h!==null)if(g=le(h),g===null)h=null;else if(S=g.tag,S===13){if(h=Ee(g),h!==null)return h;h=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Bd=h,null}function Ec(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ue()){case Se:return 1;case Je:return 4;case dt:case St:return 16;case Et:return 536870912;default:return 16}default:return 16}}var so=null,kd=null,Rs=null;function _u(){if(Rs)return Rs;var h,g=kd,S=g.length,N,j="value"in so?so.value:so.textContent,G=j.length;for(h=0;h<S&&g[h]===j[h];h++);var se=S-h;for(N=1;N<=se&&g[S-N]===j[G-N];N++);return Rs=j.slice(h,1<N?1-N:void 0)}function Jo(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function Zo(){return!0}function Ld(){return!1}function Yi(h){function g(S,N,j,G,se){this._reactName=S,this._targetInst=j,this.type=N,this.nativeEvent=G,this.target=se,this.currentTarget=null;for(var be in h)h.hasOwnProperty(be)&&(S=h[be],this[be]=S?S(G):G[be]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?Zo:Ld,this.isPropagationStopped=Ld,this}return ne(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),g}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Yi(Tl),ya=ne({},Tl,{view:0,detail:0}),Wa=Yi(ya),ds,oo,ao,Cc=ne({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==ao&&(ao&&h.type==="mousemove"?(ds=h.screenX-ao.screenX,oo=h.screenY-ao.screenY):oo=ds=0,ao=h),ds)},movementY:function(h){return"movementY"in h?h.movementY:oo}}),mh=Yi(Cc),Qo=ne({},Cc,{dataTransfer:0}),$a=Yi(Qo),jd=ne({},ya,{relatedTarget:0}),Mc=Yi(jd),Ud=ne({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=Yi(Ud),Cm=ne({},Tl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Tc=Yi(Cm),zd=ne({},Tl,{data:0}),gh=Yi(zd),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Hd[h])?!!g[h]:!1}function U(){return R}var $=ne({},ya,{key:function(h){if(h.key){var g=Mm[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=Jo(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?vh[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U,charCode:function(h){return h.type==="keypress"?Jo(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Jo(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),re=Yi($),fe=ne({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),me=Yi(fe),pe=ne({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U}),Ce=Yi(pe),We=ne({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ct=Yi(We),qt=ne({},Cc,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=Yi(qt),vn=[9,13,27,32],Ht=a&&"CompositionEvent"in window,an=null;a&&"documentMode"in document&&(an=document.documentMode);var fn=a&&"TextEvent"in window&&!an,Ar=a&&(!Ht||an&&8<an&&11>=an),ar=" ",xi=!1;function Ns(h,g){switch(h){case"keyup":return vn.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Zn=!1;function Ri(h,g){switch(h){case"compositionend":return zi(g);case"keypress":return g.which!==32?null:(xi=!0,ar);case"textInput":return h=g.data,h===ar&&xi?null:h;default:return null}}function lo(h,g){if(Zn)return h==="compositionend"||!Ht&&Ns(h,g)?(h=_u(),Rs=kd=so=null,Zn=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Ar&&g.locale!=="ko"?null:g.data;default:return null}}var Pc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!Pc[h.type]:g==="textarea"}function Rc(h,g,S,N){je(N),g=Lm(g,"onChange"),0<g.length&&(S=new wu("onChange","change",null,S,N),h.push({event:S,listeners:g}))}var qa=null,Nc=null;function Su(h){qd(h,0)}function Pl(h){var g=bi(h);if(ze(g))return h}function __(h,g){if(h==="change")return g}var Vd=!1;if(a){var co;if(a){var Au="oninput"in document;if(!Au){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Au=typeof Eu.oninput=="function"}co=Au}else co=!1;Vd=co&&(!document.documentMode||9<document.documentMode)}function xa(){qa&&(qa.detachEvent("onpropertychange",Tm),Nc=qa=null)}function Tm(h){if(h.propertyName==="value"&&Pl(Nc)){var g=[];Rc(g,Nc,h,he(h)),An(Su,g)}}function Wd(h,g,S){h==="focusin"?(xa(),qa=g,Nc=S,qa.attachEvent("onpropertychange",Tm)):h==="focusout"&&xa()}function w_(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Pl(Nc)}function Rv(h,g){if(h==="click")return Pl(g)}function ai(h,g){if(h==="input"||h==="change")return Pl(g)}function Pm(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Po=typeof Object.is=="function"?Object.is:Pm;function Cu(h,g){if(Po(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var S=Object.keys(h),N=Object.keys(g);if(S.length!==N.length)return!1;for(N=0;N<S.length;N++){var j=S[N];if(!l.call(g,j)||!Po(h[j],g[j]))return!1}return!0}function yh(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Ro(h,g){var S=yh(h);h=0;for(var N;S;){if(S.nodeType===3){if(N=h+S.textContent.length,h<=g&&N>=g)return{node:S,offset:g-h};h=N}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=yh(S)}}function Mu(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Mu(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function li(){for(var h=window,g=nt();g instanceof h.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)h=g.contentWindow;else break;g=nt(h.document)}return g}function Ji(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function Zi(h){var g=li(),S=h.focusedElem,N=h.selectionRange;if(g!==S&&S&&S.ownerDocument&&Mu(S.ownerDocument.documentElement,S)){if(N!==null&&Ji(S)){if(g=N.start,h=N.end,h===void 0&&(h=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(h,S.value.length);else if(h=(g=S.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var j=S.textContent.length,G=Math.min(N.start,j);N=N.end===void 0?G:Math.min(N.end,j),!h.extend&&G>N&&(j=N,N=G,G=j),j=Ro(S,G);var se=Ro(S,N);j&&se&&(h.rangeCount!==1||h.anchorNode!==j.node||h.anchorOffset!==j.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(g=g.createRange(),g.setStart(j.node,j.offset),h.removeAllRanges(),G>N?(h.addRange(g),h.extend(se.node,se.offset)):(g.setEnd(se.node,se.offset),h.addRange(g)))}}for(g=[],h=S;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)h=g[S],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Rm=a&&"documentMode"in document&&11>=document.documentMode,Xa=null,Tu=null,xh=null,Qi=!1;function Nm(h,g,S){var N=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Qi||Xa==null||Xa!==nt(N)||(N=Xa,"selectionStart"in N&&Ji(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),xh&&Cu(xh,N)||(xh=N,N=Lm(Tu,"onSelect"),0<N.length&&(g=new wu("onSelect","select",null,g,S),h.push({event:g,listeners:N}),g.target=Xa)))}function $d(h,g){var S={};return S[h.toLowerCase()]=g.toLowerCase(),S["Webkit"+h]="webkit"+g,S["Moz"+h]="moz"+g,S}var Ic={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},ba={},_a={};a&&(_a=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function Ka(h){if(ba[h])return ba[h];if(!Ic[h])return h;var g=Ic[h],S;for(S in g)if(g.hasOwnProperty(S)&&S in _a)return ba[h]=g[S];return h}var bh=Ka("animationend"),_h=Ka("animationiteration"),Nv=Ka("animationstart"),Iv=Ka("transitionend"),Ov=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(h,g){Ov.set(h,g),s(g,[h])}for(var Im=0;Im<Fv.length;Im++){var wh=Fv[Im],Sh=wh.toLowerCase(),S_=wh[0].toUpperCase()+wh.slice(1);Rl(Sh,"on"+S_)}Rl(bh,"onAnimationEnd"),Rl(_h,"onAnimationIteration"),Rl(Nv,"onAnimationStart"),Rl("dblclick","onDoubleClick"),Rl("focusin","onFocus"),Rl("focusout","onBlur"),Rl(Iv,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function Fm(h,g,S){var N=h.type||"unknown-event";h.currentTarget=S,Q(N,g,void 0,h),h.currentTarget=null}function qd(h,g){g=(g&4)!==0;for(var S=0;S<h.length;S++){var N=h[S],j=N.event;N=N.listeners;e:{var G=void 0;if(g)for(var se=N.length-1;0<=se;se--){var be=N[se],Me=be.instance,Ze=be.currentTarget;if(be=be.listener,Me!==G&&j.isPropagationStopped())break e;Fm(j,be,Ze),G=Me}else for(se=0;se<N.length;se++){if(be=N[se],Me=be.instance,Ze=be.currentTarget,be=be.listener,Me!==G&&j.isPropagationStopped())break e;Fm(j,be,Ze),G=Me}}}if(tr)throw h=En,tr=!1,En=null,h}function Wr(h,g){var S=g[Nu];S===void 0&&(S=g[Nu]=new Set);var N=h+"__bubble";S.has(N)||(Bm(g,h,2,!1),S.add(N))}function Dm(h,g,S){var N=0;g&&(N|=4),Bm(S,h,N,g)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Xd(h){if(!h[Ah]){h[Ah]=!0,r.forEach(function(S){S!=="selectionchange"&&(Om.has(S)||Dm(S,!1,h),Dm(S,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Ah]||(g[Ah]=!0,Dm("selectionchange",!1,g))}}function Bm(h,g,S,N){switch(Ec(g)){case 1:var j=va;break;case 4:j=Dd;break;default:j=Ac}S=j.bind(null,g,S,h),j=void 0,!Kr||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(j=!0),N?j!==void 0?h.addEventListener(g,S,{capture:!0,passive:j}):h.addEventListener(g,S,!0):j!==void 0?h.addEventListener(g,S,{passive:j}):h.addEventListener(g,S,!1)}function km(h,g,S,N,j){var G=N;if((g&1)===0&&(g&2)===0&&N!==null)e:for(;;){if(N===null)return;var se=N.tag;if(se===3||se===4){var be=N.stateNode.containerInfo;if(be===j||be.nodeType===8&&be.parentNode===j)break;if(se===4)for(se=N.return;se!==null;){var Me=se.tag;if((Me===3||Me===4)&&(Me=se.stateNode.containerInfo,Me===j||Me.nodeType===8&&Me.parentNode===j))return;se=se.return}for(;be!==null;){if(se=Fc(be),se===null)return;if(Me=se.tag,Me===5||Me===6){N=G=se;continue e}be=be.parentNode}}N=N.return}An(function(){var Ze=G,Rt=he(S),kt=[];e:{var Tt=Ov.get(h);if(Tt!==void 0){var on=wu,mn=h;switch(h){case"keypress":if(Jo(S)===0)break e;case"keydown":case"keyup":on=re;break;case"focusin":mn="focus",on=Mc;break;case"focusout":mn="blur",on=Mc;break;case"beforeblur":case"afterblur":on=Mc;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":on=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":on=$a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":on=Ce;break;case bh:case _h:case Nv:on=Em;break;case Iv:on=Ct;break;case"scroll":on=Wa;break;case"wheel":on=Cn;break;case"copy":case"cut":case"paste":on=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":on=me}var xn=(g&4)!==0,Gi=!xn&&h==="scroll",He=xn?Tt!==null?Tt+"Capture":null:Tt;xn=[];for(var Re=Ze,$e;Re!==null;){$e=Re;var Gt=$e.stateNode;if($e.tag===5&&Gt!==null&&($e=Gt,He!==null&&(Gt=kn(Re,He),Gt!=null&&xn.push(Kd(Re,Gt,$e)))),Gi)break;Re=Re.return}0<xn.length&&(Tt=new on(Tt,mn,null,S,Rt),kt.push({event:Tt,listeners:xn}))}}if((g&7)===0){e:{if(Tt=h==="mouseover"||h==="pointerover",on=h==="mouseout"||h==="pointerout",Tt&&S!==ht&&(mn=S.relatedTarget||S.fromElement)&&(Fc(mn)||mn[No]))break e;if((on||Tt)&&(Tt=Rt.window===Rt?Rt:(Tt=Rt.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,on?(mn=S.relatedTarget||S.toElement,on=Ze,mn=mn?Fc(mn):null,mn!==null&&(Gi=le(mn),mn!==Gi||mn.tag!==5&&mn.tag!==6)&&(mn=null)):(on=null,mn=Ze),on!==mn)){if(xn=mh,Gt="onMouseLeave",He="onMouseEnter",Re="mouse",(h==="pointerout"||h==="pointerover")&&(xn=me,Gt="onPointerLeave",He="onPointerEnter",Re="pointer"),Gi=on==null?Tt:bi(on),$e=mn==null?Tt:bi(mn),Tt=new xn(Gt,Re+"leave",on,S,Rt),Tt.target=Gi,Tt.relatedTarget=$e,Gt=null,Fc(Rt)===Ze&&(xn=new xn(He,Re+"enter",mn,S,Rt),xn.target=$e,xn.relatedTarget=Gi,Gt=xn),Gi=Gt,on&&mn)t:{for(xn=on,He=mn,Re=0,$e=xn;$e;$e=Pu($e))Re++;for($e=0,Gt=He;Gt;Gt=Pu(Gt))$e++;for(;0<Re-$e;)xn=Pu(xn),Re--;for(;0<$e-Re;)He=Pu(He),$e--;for(;Re--;){if(xn===He||He!==null&&xn===He.alternate)break t;xn=Pu(xn),He=Pu(He)}xn=null}else xn=null;on!==null&&A_(kt,Tt,on,xn,!1),mn!==null&&Gi!==null&&A_(kt,Gi,mn,xn,!0)}}e:{if(Tt=Ze?bi(Ze):window,on=Tt.nodeName&&Tt.nodeName.toLowerCase(),on==="select"||on==="input"&&Tt.type==="file")var wn=__;else if(Gd(Tt))if(Vd)wn=ai;else{wn=w_;var In=Wd}else(on=Tt.nodeName)&&on.toLowerCase()==="input"&&(Tt.type==="checkbox"||Tt.type==="radio")&&(wn=Rv);if(wn&&(wn=wn(h,Ze))){Rc(kt,wn,S,Rt);break e}In&&In(h,Tt,Ze),h==="focusout"&&(In=Tt._wrapperState)&&In.controlled&&Tt.type==="number"&&Te(Tt,"number",Tt.value)}switch(In=Ze?bi(Ze):window,h){case"focusin":(Gd(In)||In.contentEditable==="true")&&(Xa=In,Tu=Ze,xh=null);break;case"focusout":xh=Tu=Xa=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Nm(kt,S,Rt);break;case"selectionchange":if(Rm)break;case"keydown":case"keyup":Nm(kt,S,Rt)}var On;if(Ht)e:{switch(h){case"compositionstart":var Gn="onCompositionStart";break e;case"compositionend":Gn="onCompositionEnd";break e;case"compositionupdate":Gn="onCompositionUpdate";break e}Gn=void 0}else Zn?Ns(h,S)&&(Gn="onCompositionEnd"):h==="keydown"&&S.keyCode===229&&(Gn="onCompositionStart");Gn&&(Ar&&S.locale!=="ko"&&(Zn||Gn!=="onCompositionStart"?Gn==="onCompositionEnd"&&Zn&&(On=_u()):(so=Rt,kd="value"in so?so.value:so.textContent,Zn=!0)),In=Lm(Ze,Gn),0<In.length&&(Gn=new gh(Gn,h,null,S,Rt),kt.push({event:Gn,listeners:In}),On?Gn.data=On:(On=zi(S),On!==null&&(Gn.data=On)))),(On=fn?Ri(h,S):lo(h,S))&&(Ze=Lm(Ze,"onBeforeInput"),0<Ze.length&&(Rt=new gh("onBeforeInput","beforeinput",null,S,Rt),kt.push({event:Rt,listeners:Ze}),Rt.data=On))}qd(kt,g)})}function Kd(h,g,S){return{instance:h,listener:g,currentTarget:S}}function Lm(h,g){for(var S=g+"Capture",N=[];h!==null;){var j=h,G=j.stateNode;j.tag===5&&G!==null&&(j=G,G=kn(h,S),G!=null&&N.unshift(Kd(h,G,j)),G=kn(h,g),G!=null&&N.push(Kd(h,G,j))),h=h.return}return N}function Pu(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function A_(h,g,S,N,j){for(var G=g._reactName,se=[];S!==null&&S!==N;){var be=S,Me=be.alternate,Ze=be.stateNode;if(Me!==null&&Me===N)break;be.tag===5&&Ze!==null&&(be=Ze,j?(Me=kn(S,G),Me!=null&&se.unshift(Kd(S,Me,be))):j||(Me=kn(S,G),Me!=null&&se.push(Kd(S,Me,be)))),S=S.return}se.length!==0&&h.push({event:g,listeners:se})}var hM=/\r\n?/g,E_=/\u0000|\uFFFD/g;function Dv(h){return(typeof h=="string"?h:""+h).replace(hM,`
`).replace(E_,"")}function Eh(h,g,S){if(g=Dv(g),Dv(h)!==g&&S)throw Error(t(425))}function Ch(){}var Yd=null,Bv=null;function kv(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,jv=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,pM=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(h){return jm.resolve(null).then(h).catch(C_)}:Lv;function C_(h){setTimeout(function(){throw h})}function Um(h,g){var S=g,N=0;do{var j=S.nextSibling;if(h.removeChild(S),j&&j.nodeType===8)if(S=j.data,S==="/$"){if(N===0){h.removeChild(j),Sc(g);return}N--}else S!=="$"&&S!=="$?"&&S!=="$!"||N++;S=j}while(S);Sc(g)}function Nl(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function Uv(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var S=h.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return h;g--}else S==="/$"&&g++}h=h.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Ru,Jd="__reactProps$"+Ru,No="__reactContainer$"+Ru,Nu="__reactEvents$"+Ru,zm="__reactListeners$"+Ru,Hm="__reactHandles$"+Ru;function Fc(h){var g=h[Hi];if(g)return g;for(var S=h.parentNode;S;){if(g=S[No]||S[Hi]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(h=Uv(h);h!==null;){if(S=h[Hi])return S;h=Uv(h)}return g}h=S,S=h.parentNode}return null}function Il(h){return h=h[Hi]||h[No],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function bi(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(t(33))}function Gm(h){return h[Jd]||null}var zv=[],es=-1;function hi(h){return{current:h}}function $r(h){0>es||(h.current=zv[es],zv[es]=null,es--)}function Gr(h,g){es++,zv[es]=h.current,h.current=g}var Ol={},fs=hi(Ol),Ws=hi(!1),Fl=Ol;function Iu(h,g){var S=h.type.contextTypes;if(!S)return Ol;var N=h.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var j={},G;for(G in S)j[G]=g[G];return N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=j),j}function Is(h){return h=h.childContextTypes,h!=null}function Mh(){$r(Ws),$r(fs)}function Hv(h,g,S){if(fs.current!==Ol)throw Error(t(168));Gr(fs,g),Gr(Ws,S)}function Th(h,g,S){var N=h.stateNode;if(g=g.childContextTypes,typeof N.getChildContext!="function")return S;N=N.getChildContext();for(var j in N)if(!(j in g))throw Error(t(108,Ae(h)||"Unknown",j));return ne({},S,N)}function Ou(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ol,Fl=fs.current,Gr(fs,h),Gr(Ws,Ws.current),!0}function Gv(h,g,S){var N=h.stateNode;if(!N)throw Error(t(169));S?(h=Th(h,g,Fl),N.__reactInternalMemoizedMergedChildContext=h,$r(Ws),$r(fs),Gr(fs,h)):$r(Ws),Gr(Ws,S)}var wa=null,Ph=!1,Vm=!1;function Rh(h){wa===null?wa=[h]:wa.push(h)}function M_(h){Ph=!0,Rh(h)}function Ya(){if(!Vm&&wa!==null){Vm=!0;var h=0,g=Nn;try{var S=wa;for(Nn=1;h<S.length;h++){var N=S[h];do N=N(!0);while(N!==null)}wa=null,Ph=!1}catch(j){throw wa!==null&&(wa=wa.slice(h+1)),Mt(Se,Ya),j}finally{Nn=g,Vm=!1}}return null}var Fu=[],uo=0,Wm=null,$m=0,$s=[],ts=0,Du=null,Kt=1,ea="";function Dl(h,g){Fu[uo++]=$m,Fu[uo++]=Wm,Wm=h,$m=g}function Vv(h,g,S){$s[ts++]=Kt,$s[ts++]=ea,$s[ts++]=Du,Du=h;var N=Kt;h=ea;var j=32-Wt(N)-1;N&=~(1<<j),S+=1;var G=32-Wt(g)+j;if(30<G){var se=j-j%5;G=(N&(1<<se)-1).toString(32),N>>=se,j-=se,Kt=1<<32-Wt(g)+j|S<<j|N,ea=G+h}else Kt=1<<G|S<<j|N,ea=h}function Wv(h){h.return!==null&&(Dl(h,1),Vv(h,1,0))}function Bl(h){for(;h===Wm;)Wm=Fu[--uo],Fu[uo]=null,$m=Fu[--uo],Fu[uo]=null;for(;h===Du;)Du=$s[--ts],$s[ts]=null,ea=$s[--ts],$s[ts]=null,Kt=$s[--ts],$s[ts]=null}var hs=null,qs=null,Zr=!1,ta=null;function $v(h,g){var S=tl(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=h,g=h.deletions,g===null?(h.deletions=[S],h.flags|=16):g.push(S)}function qv(h,g){switch(h.tag){case 5:var S=h.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,hs=h,qs=Nl(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,hs=h,qs=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Du!==null?{id:Kt,overflow:ea}:null,h.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=tl(18,null,null,0),S.stateNode=g,S.return=h,h.child=S,hs=h,qs=null,!0):!1;default:return!1}}function qm(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Xm(h){if(Zr){var g=qs;if(g){var S=g;if(!qv(h,g)){if(qm(h))throw Error(t(418));g=Nl(S.nextSibling);var N=hs;g&&qv(h,g)?$v(N,S):(h.flags=h.flags&-4097|2,Zr=!1,hs=h)}}else{if(qm(h))throw Error(t(418));h.flags=h.flags&-4097|2,Zr=!1,hs=h}}}function Km(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;hs=h}function Zd(h){if(h!==hs)return!1;if(!Zr)return Km(h),Zr=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!kv(h.type,h.memoizedProps)),g&&(g=qs)){if(qm(h))throw Xv(),Error(t(418));for(;g;)$v(h,g),g=Nl(g.nextSibling)}if(Km(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(t(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var S=h.data;if(S==="/$"){if(g===0){qs=Nl(h.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}h=h.nextSibling}qs=null}}else qs=hs?Nl(h.stateNode.nextSibling):null;return!0}function Xv(){for(var h=qs;h;)h=Nl(h.nextSibling)}function Dc(){qs=hs=null,Zr=!1}function Qd(h){ta===null?ta=[h]:ta.push(h)}var mM=C.ReactCurrentBatchConfig;function Nh(h,g,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(t(309));var N=S.stateNode}if(!N)throw Error(t(147,h));var j=N,G=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===G?g.ref:(g=function(se){var be=j.refs;se===null?delete be[G]:be[G]=se},g._stringRef=G,g)}if(typeof h!="string")throw Error(t(284));if(!S._owner)throw Error(t(290,h))}return h}function Ih(h,g){throw h=Object.prototype.toString.call(g),Error(t(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function Kv(h){var g=h._init;return g(h._payload)}function Yv(h){function g(He,Re){if(h){var $e=He.deletions;$e===null?(He.deletions=[Re],He.flags|=16):$e.push(Re)}}function S(He,Re){if(!h)return null;for(;Re!==null;)g(He,Re),Re=Re.sibling;return null}function N(He,Re){for(He=new Map;Re!==null;)Re.key!==null?He.set(Re.key,Re):He.set(Re.index,Re),Re=Re.sibling;return He}function j(He,Re){return He=df(He,Re),He.index=0,He.sibling=null,He}function G(He,Re,$e){return He.index=$e,h?($e=He.alternate,$e!==null?($e=$e.index,$e<Re?(He.flags|=2,Re):$e):(He.flags|=2,Re)):(He.flags|=1048576,Re)}function se(He){return h&&He.alternate===null&&(He.flags|=2),He}function be(He,Re,$e,Gt){return Re===null||Re.tag!==6?(Re=FM($e,He.mode,Gt),Re.return=He,Re):(Re=j(Re,$e),Re.return=He,Re)}function Me(He,Re,$e,Gt){var wn=$e.type;return wn===O?Rt(He,Re,$e.props.children,Gt,$e.key):Re!==null&&(Re.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===V&&Kv(wn)===Re.type)?(Gt=j(Re,$e.props),Gt.ref=Nh(He,Re,$e),Gt.return=He,Gt):(Gt=Y_($e.type,$e.key,$e.props,null,He.mode,Gt),Gt.ref=Nh(He,Re,$e),Gt.return=He,Gt)}function Ze(He,Re,$e,Gt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==$e.containerInfo||Re.stateNode.implementation!==$e.implementation?(Re=DM($e,He.mode,Gt),Re.return=He,Re):(Re=j(Re,$e.children||[]),Re.return=He,Re)}function Rt(He,Re,$e,Gt,wn){return Re===null||Re.tag!==7?(Re=Kh($e,He.mode,Gt,wn),Re.return=He,Re):(Re=j(Re,$e),Re.return=He,Re)}function kt(He,Re,$e){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=FM(""+Re,He.mode,$e),Re.return=He,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case M:return $e=Y_(Re.type,Re.key,Re.props,null,He.mode,$e),$e.ref=Nh(He,null,Re),$e.return=He,$e;case P:return Re=DM(Re,He.mode,$e),Re.return=He,Re;case V:var Gt=Re._init;return kt(He,Gt(Re._payload),$e)}if(tt(Re)||Y(Re))return Re=Kh(Re,He.mode,$e,null),Re.return=He,Re;Ih(He,Re)}return null}function Tt(He,Re,$e,Gt){var wn=Re!==null?Re.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return wn!==null?null:be(He,Re,""+$e,Gt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case M:return $e.key===wn?Me(He,Re,$e,Gt):null;case P:return $e.key===wn?Ze(He,Re,$e,Gt):null;case V:return wn=$e._init,Tt(He,Re,wn($e._payload),Gt)}if(tt($e)||Y($e))return wn!==null?null:Rt(He,Re,$e,Gt,null);Ih(He,$e)}return null}function on(He,Re,$e,Gt,wn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return He=He.get($e)||null,be(Re,He,""+Gt,wn);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case M:return He=He.get(Gt.key===null?$e:Gt.key)||null,Me(Re,He,Gt,wn);case P:return He=He.get(Gt.key===null?$e:Gt.key)||null,Ze(Re,He,Gt,wn);case V:var In=Gt._init;return on(He,Re,$e,In(Gt._payload),wn)}if(tt(Gt)||Y(Gt))return He=He.get($e)||null,Rt(Re,He,Gt,wn,null);Ih(Re,Gt)}return null}function mn(He,Re,$e,Gt){for(var wn=null,In=null,On=Re,Gn=Re=0,Bs=null;On!==null&&Gn<$e.length;Gn++){On.index>Gn?(Bs=On,On=null):Bs=On.sibling;var Dr=Tt(He,On,$e[Gn],Gt);if(Dr===null){On===null&&(On=Bs);break}h&&On&&Dr.alternate===null&&g(He,On),Re=G(Dr,Re,Gn),In===null?wn=Dr:In.sibling=Dr,In=Dr,On=Bs}if(Gn===$e.length)return S(He,On),Zr&&Dl(He,Gn),wn;if(On===null){for(;Gn<$e.length;Gn++)On=kt(He,$e[Gn],Gt),On!==null&&(Re=G(On,Re,Gn),In===null?wn=On:In.sibling=On,In=On);return Zr&&Dl(He,Gn),wn}for(On=N(He,On);Gn<$e.length;Gn++)Bs=on(On,He,Gn,$e[Gn],Gt),Bs!==null&&(h&&Bs.alternate!==null&&On.delete(Bs.key===null?Gn:Bs.key),Re=G(Bs,Re,Gn),In===null?wn=Bs:In.sibling=Bs,In=Bs);return h&&On.forEach(function(ff){return g(He,ff)}),Zr&&Dl(He,Gn),wn}function xn(He,Re,$e,Gt){var wn=Y($e);if(typeof wn!="function")throw Error(t(150));if($e=wn.call($e),$e==null)throw Error(t(151));for(var In=wn=null,On=Re,Gn=Re=0,Bs=null,Dr=$e.next();On!==null&&!Dr.done;Gn++,Dr=$e.next()){On.index>Gn?(Bs=On,On=null):Bs=On.sibling;var ff=Tt(He,On,Dr.value,Gt);if(ff===null){On===null&&(On=Bs);break}h&&On&&ff.alternate===null&&g(He,On),Re=G(ff,Re,Gn),In===null?wn=ff:In.sibling=ff,In=ff,On=Bs}if(Dr.done)return S(He,On),Zr&&Dl(He,Gn),wn;if(On===null){for(;!Dr.done;Gn++,Dr=$e.next())Dr=kt(He,Dr.value,Gt),Dr!==null&&(Re=G(Dr,Re,Gn),In===null?wn=Dr:In.sibling=Dr,In=Dr);return Zr&&Dl(He,Gn),wn}for(On=N(He,On);!Dr.done;Gn++,Dr=$e.next())Dr=on(On,He,Gn,Dr.value,Gt),Dr!==null&&(h&&Dr.alternate!==null&&On.delete(Dr.key===null?Gn:Dr.key),Re=G(Dr,Re,Gn),In===null?wn=Dr:In.sibling=Dr,In=Dr);return h&&On.forEach(function(Rne){return g(He,Rne)}),Zr&&Dl(He,Gn),wn}function Gi(He,Re,$e,Gt){if(typeof $e=="object"&&$e!==null&&$e.type===O&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case M:e:{for(var wn=$e.key,In=Re;In!==null;){if(In.key===wn){if(wn=$e.type,wn===O){if(In.tag===7){S(He,In.sibling),Re=j(In,$e.props.children),Re.return=He,He=Re;break e}}else if(In.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===V&&Kv(wn)===In.type){S(He,In.sibling),Re=j(In,$e.props),Re.ref=Nh(He,In,$e),Re.return=He,He=Re;break e}S(He,In);break}else g(He,In);In=In.sibling}$e.type===O?(Re=Kh($e.props.children,He.mode,Gt,$e.key),Re.return=He,He=Re):(Gt=Y_($e.type,$e.key,$e.props,null,He.mode,Gt),Gt.ref=Nh(He,Re,$e),Gt.return=He,He=Gt)}return se(He);case P:e:{for(In=$e.key;Re!==null;){if(Re.key===In)if(Re.tag===4&&Re.stateNode.containerInfo===$e.containerInfo&&Re.stateNode.implementation===$e.implementation){S(He,Re.sibling),Re=j(Re,$e.children||[]),Re.return=He,He=Re;break e}else{S(He,Re);break}else g(He,Re);Re=Re.sibling}Re=DM($e,He.mode,Gt),Re.return=He,He=Re}return se(He);case V:return In=$e._init,Gi(He,Re,In($e._payload),Gt)}if(tt($e))return mn(He,Re,$e,Gt);if(Y($e))return xn(He,Re,$e,Gt);Ih(He,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Re!==null&&Re.tag===6?(S(He,Re.sibling),Re=j(Re,$e),Re.return=He,He=Re):(S(He,Re),Re=FM($e,He.mode,Gt),Re.return=He,He=Re),se(He)):S(He,Re)}return Gi}var Bu=Yv(!0),Oh=Yv(!1),ku=hi(null),Lu=null,kl=null,ef=null;function ju(){ef=kl=Lu=null}function Fh(h){var g=ku.current;$r(ku),h._currentValue=g}function Dh(h,g,S){for(;h!==null;){var N=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),h===S)break;h=h.return}}function Bc(h,g){Lu=h,ef=kl=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(nr=!0),h.firstContext=null)}function Io(h){var g=h._currentValue;if(ef!==h)if(h={context:h,memoizedValue:g,next:null},kl===null){if(Lu===null)throw Error(t(308));kl=h,Lu.dependencies={lanes:0,firstContext:h}}else kl=kl.next=h;return g}var Ll=null;function Jv(h){Ll===null?Ll=[h]:Ll.push(h)}function Bh(h,g,S,N){var j=g.interleaved;return j===null?(S.next=S,Jv(g)):(S.next=j.next,j.next=S),g.interleaved=S,Sa(h,N)}function Sa(h,g){h.lanes|=g;var S=h.alternate;for(S!==null&&(S.lanes|=g),S=h,h=h.return;h!==null;)h.childLanes|=g,S=h.alternate,S!==null&&(S.childLanes|=g),S=h,h=h.return;return S.tag===3?S.stateNode:null}var kr=!1;function Qn(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _i(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Lr(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function ni(h,g,S){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(Tr&2)!==0){var j=N.pending;return j===null?g.next=g:(g.next=j.next,j.next=g),N.pending=g,Sa(h,S)}return j=N.interleaved,j===null?(g.next=g,Jv(N)):(g.next=j.next,j.next=g),N.interleaved=g,Sa(h,S)}function Os(h,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var N=g.lanes;N&=h.pendingLanes,S|=N,g.lanes=S,ti(h,S)}}function Uu(h,g){var S=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,S===N)){var j=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var se={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};G===null?j=G=se:G=G.next=se,S=S.next}while(S!==null);G===null?j=G=g:G=G.next=g}else j=G=g;S={baseState:N.baseState,firstBaseUpdate:j,lastBaseUpdate:G,shared:N.shared,effects:N.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=g:h.next=g,S.lastBaseUpdate=g}function pi(h,g,S,N){var j=h.updateQueue;kr=!1;var G=j.firstBaseUpdate,se=j.lastBaseUpdate,be=j.shared.pending;if(be!==null){j.shared.pending=null;var Me=be,Ze=Me.next;Me.next=null,se===null?G=Ze:se.next=Ze,se=Me;var Rt=h.alternate;Rt!==null&&(Rt=Rt.updateQueue,be=Rt.lastBaseUpdate,be!==se&&(be===null?Rt.firstBaseUpdate=Ze:be.next=Ze,Rt.lastBaseUpdate=Me))}if(G!==null){var kt=j.baseState;se=0,Rt=Ze=Me=null,be=G;do{var Tt=be.lane,on=be.eventTime;if((N&Tt)===Tt){Rt!==null&&(Rt=Rt.next={eventTime:on,lane:0,tag:be.tag,payload:be.payload,callback:be.callback,next:null});e:{var mn=h,xn=be;switch(Tt=g,on=S,xn.tag){case 1:if(mn=xn.payload,typeof mn=="function"){kt=mn.call(on,kt,Tt);break e}kt=mn;break e;case 3:mn.flags=mn.flags&-65537|128;case 0:if(mn=xn.payload,Tt=typeof mn=="function"?mn.call(on,kt,Tt):mn,Tt==null)break e;kt=ne({},kt,Tt);break e;case 2:kr=!0}}be.callback!==null&&be.lane!==0&&(h.flags|=64,Tt=j.effects,Tt===null?j.effects=[be]:Tt.push(be))}else on={eventTime:on,lane:Tt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Rt===null?(Ze=Rt=on,Me=kt):Rt=Rt.next=on,se|=Tt;if(be=be.next,be===null){if(be=j.shared.pending,be===null)break;Tt=be,be=Tt.next,Tt.next=null,j.lastBaseUpdate=Tt,j.shared.pending=null}}while(!0);if(Rt===null&&(Me=kt),j.baseState=Me,j.firstBaseUpdate=Ze,j.lastBaseUpdate=Rt,g=j.shared.interleaved,g!==null){j=g;do se|=j.lane,j=j.next;while(j!==g)}else G===null&&(j.shared.lanes=0);Wh|=se,h.lanes=se,h.memoizedState=kt}}function tf(h,g,S){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var N=h[g],j=N.callback;if(j!==null){if(N.callback=null,N=S,typeof j!="function")throw Error(t(191,j));j.call(N)}}}var Ja={},Oo=hi(Ja),zu=hi(Ja),jl=hi(Ja);function Ni(h){if(h===Ja)throw Error(t(174));return h}function kh(h,g){switch(Gr(jl,g),Gr(zu,h),Gr(Oo,Ja),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:pt(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=pt(g,h)}$r(Oo),Gr(Oo,g)}function kc(){$r(Oo),$r(zu),$r(jl)}function Hu(h){Ni(jl.current);var g=Ni(Oo.current),S=pt(g,h.type);g!==S&&(Gr(zu,h),Gr(Oo,S))}function nf(h){zu.current===h&&($r(Oo),$r(zu))}var Qr=hi(0);function Aa(h){for(var g=h;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var rf=[];function Za(){for(var h=0;h<rf.length;h++)rf[h]._workInProgressVersionPrimary=null;rf.length=0}var Gu=C.ReactCurrentDispatcher,Vu=C.ReactCurrentBatchConfig,Ul=0,qr=null,mi=null,Er=null,Ea=!1,Fs=!1,Lc=0,fo=0;function ps(){throw Error(t(321))}function Lh(h,g){if(g===null)return!1;for(var S=0;S<g.length&&S<h.length;S++)if(!Po(h[S],g[S]))return!1;return!0}function jh(h,g,S,N,j,G){if(Ul=G,qr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Gu.current=h===null||h.memoizedState===null?F_:D_,h=S(N,j),Fs){G=0;do{if(Fs=!1,Lc=0,25<=G)throw Error(t(301));G+=1,Er=mi=null,g.updateQueue=null,Gu.current=B_,h=S(N,j)}while(Fs)}if(Gu.current=ng,g=mi!==null&&mi.next!==null,Ul=0,Er=mi=qr=null,Ea=!1,g)throw Error(t(300));return h}function Zv(){var h=Lc!==0;return Lc=0,h}function ms(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?qr.memoizedState=Er=h:Er=Er.next=h,Er}function Fo(){if(mi===null){var h=qr.alternate;h=h!==null?h.memoizedState:null}else h=mi.next;var g=Er===null?qr.memoizedState:Er.next;if(g!==null)Er=g,mi=h;else{if(h===null)throw Error(t(310));mi=h,h={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Er===null?qr.memoizedState=Er=h:Er=Er.next=h}return Er}function sf(h,g){return typeof g=="function"?g(h):g}function Uh(h){var g=Fo(),S=g.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var N=mi,j=N.baseQueue,G=S.pending;if(G!==null){if(j!==null){var se=j.next;j.next=G.next,G.next=se}N.baseQueue=j=G,S.pending=null}if(j!==null){G=j.next,N=N.baseState;var be=se=null,Me=null,Ze=G;do{var Rt=Ze.lane;if((Ul&Rt)===Rt)Me!==null&&(Me=Me.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),N=Ze.hasEagerState?Ze.eagerState:h(N,Ze.action);else{var kt={lane:Rt,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};Me===null?(be=Me=kt,se=N):Me=Me.next=kt,qr.lanes|=Rt,Wh|=Rt}Ze=Ze.next}while(Ze!==null&&Ze!==G);Me===null?se=N:Me.next=be,Po(N,g.memoizedState)||(nr=!0),g.memoizedState=N,g.baseState=se,g.baseQueue=Me,S.lastRenderedState=N}if(h=S.interleaved,h!==null){j=h;do G=j.lane,qr.lanes|=G,Wh|=G,j=j.next;while(j!==h)}else j===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function zl(h){var g=Fo(),S=g.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var N=S.dispatch,j=S.pending,G=g.memoizedState;if(j!==null){S.pending=null;var se=j=j.next;do G=h(G,se.action),se=se.next;while(se!==j);Po(G,g.memoizedState)||(nr=!0),g.memoizedState=G,g.baseQueue===null&&(g.baseState=G),S.lastRenderedState=G}return[G,N]}function Qv(){}function ey(h,g){var S=qr,N=Fo(),j=g(),G=!Po(N.memoizedState,j);if(G&&(N.memoizedState=j,nr=!0),N=N.queue,ry(T_.bind(null,S,N,h),[h]),N.getSnapshot!==g||G||Er!==null&&Er.memoizedState.tag&1){if(S.flags|=2048,Ca(9,zh.bind(null,S,N,j,g),void 0,null),Ds===null)throw Error(t(349));(Ul&30)!==0||Ym(S,g,j)}return j}function Ym(h,g,S){h.flags|=16384,h={getSnapshot:g,value:S},g=qr.updateQueue,g===null?(g={lastEffect:null,stores:null},qr.updateQueue=g,g.stores=[h]):(S=g.stores,S===null?g.stores=[h]:S.push(h))}function zh(h,g,S,N){g.value=S,g.getSnapshot=N,P_(g)&&ty(h)}function T_(h,g,S){return S(function(){P_(g)&&ty(h)})}function P_(h){var g=h.getSnapshot;h=h.value;try{var S=g();return!Po(h,S)}catch{return!0}}function ty(h){var g=Sa(h,1);g!==null&&$l(g,h,1,-1)}function ny(h){var g=ms();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:h},g.queue=h,h=h.dispatch=Wu.bind(null,qr,h),[g.memoizedState,h]}function Ca(h,g,S,N){return h={tag:h,create:g,destroy:S,deps:N,next:null},g=qr.updateQueue,g===null?(g={lastEffect:null,stores:null},qr.updateQueue=g,g.lastEffect=h.next=h):(S=g.lastEffect,S===null?g.lastEffect=h.next=h:(N=S.next,S.next=h,h.next=N,g.lastEffect=h)),h}function R_(){return Fo().memoizedState}function Qa(h,g,S,N){var j=ms();qr.flags|=h,j.memoizedState=Ca(1|g,S,void 0,N===void 0?null:N)}function Hh(h,g,S,N){var j=Fo();N=N===void 0?null:N;var G=void 0;if(mi!==null){var se=mi.memoizedState;if(G=se.destroy,N!==null&&Lh(N,se.deps)){j.memoizedState=Ca(g,S,G,N);return}}qr.flags|=h,j.memoizedState=Ca(1|g,S,G,N)}function Xs(h,g){return Qa(8390656,8,h,g)}function ry(h,g){return Hh(2048,8,h,g)}function iy(h,g){return Hh(4,2,h,g)}function N_(h,g){return Hh(4,4,h,g)}function I_(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function sy(h,g,S){return S=S!=null?S.concat([h]):null,Hh(4,4,I_.bind(null,g,h),S)}function Jm(){}function O_(h,g){var S=Fo();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&Lh(g,N[1])?N[0]:(S.memoizedState=[h,g],h)}function Do(h,g){var S=Fo();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&Lh(g,N[1])?N[0]:(h=h(),S.memoizedState=[h,g],h)}function Zm(h,g,S){return(Ul&21)===0?(h.baseState&&(h.baseState=!1,nr=!0),h.memoizedState=S):(Po(S,g)||(S=mr(),qr.lanes|=S,Wh|=S,h.baseState=!0),g)}function gM(h,g){var S=Nn;Nn=S!==0&&4>S?S:4,h(!0);var N=Vu.transition;Vu.transition={};try{h(!1),g()}finally{Nn=S,Vu.transition=N}}function Hl(){return Fo().memoizedState}function Qm(h,g,S){var N=cf(h);if(S={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null},Gh(h))eg(g,S);else if(S=Bh(h,g,S,N),S!==null){var j=ko();$l(S,h,N,j),tg(S,g,N)}}function Wu(h,g,S){var N=cf(h),j={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null};if(Gh(h))eg(g,j);else{var G=h.alternate;if(h.lanes===0&&(G===null||G.lanes===0)&&(G=g.lastRenderedReducer,G!==null))try{var se=g.lastRenderedState,be=G(se,S);if(j.hasEagerState=!0,j.eagerState=be,Po(be,se)){var Me=g.interleaved;Me===null?(j.next=j,Jv(g)):(j.next=Me.next,Me.next=j),g.interleaved=j;return}}catch{}finally{}S=Bh(h,g,j,N),S!==null&&(j=ko(),$l(S,h,N,j),tg(S,g,N))}}function Gh(h){var g=h.alternate;return h===qr||g!==null&&g===qr}function eg(h,g){Fs=Ea=!0;var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}function tg(h,g,S){if((S&4194240)!==0){var N=g.lanes;N&=h.pendingLanes,S|=N,g.lanes=S,ti(h,S)}}var ng={readContext:Io,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},F_={readContext:Io,useCallback:function(h,g){return ms().memoizedState=[h,g===void 0?null:g],h},useContext:Io,useEffect:Xs,useImperativeHandle:function(h,g,S){return S=S!=null?S.concat([h]):null,Qa(4194308,4,I_.bind(null,g,h),S)},useLayoutEffect:function(h,g){return Qa(4194308,4,h,g)},useInsertionEffect:function(h,g){return Qa(4,2,h,g)},useMemo:function(h,g){var S=ms();return g=g===void 0?null:g,h=h(),S.memoizedState=[h,g],h},useReducer:function(h,g,S){var N=ms();return g=S!==void 0?S(g):g,N.memoizedState=N.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},N.queue=h,h=h.dispatch=Qm.bind(null,qr,h),[N.memoizedState,h]},useRef:function(h){var g=ms();return h={current:h},g.memoizedState=h},useState:ny,useDebugValue:Jm,useDeferredValue:function(h){return ms().memoizedState=h},useTransition:function(){var h=ny(!1),g=h[0];return h=gM.bind(null,h[1]),ms().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,S){var N=qr,j=ms();if(Zr){if(S===void 0)throw Error(t(407));S=S()}else{if(S=g(),Ds===null)throw Error(t(349));(Ul&30)!==0||Ym(N,g,S)}j.memoizedState=S;var G={value:S,getSnapshot:g};return j.queue=G,Xs(T_.bind(null,N,G,h),[h]),N.flags|=2048,Ca(9,zh.bind(null,N,G,S,g),void 0,null),S},useId:function(){var h=ms(),g=Ds.identifierPrefix;if(Zr){var S=ea,N=Kt;S=(N&~(1<<32-Wt(N)-1)).toString(32)+S,g=":"+g+"R"+S,S=Lc++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=fo++,g=":"+g+"r"+S.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},D_={readContext:Io,useCallback:O_,useContext:Io,useEffect:ry,useImperativeHandle:sy,useInsertionEffect:iy,useLayoutEffect:N_,useMemo:Do,useReducer:Uh,useRef:R_,useState:function(){return Uh(sf)},useDebugValue:Jm,useDeferredValue:function(h){var g=Fo();return Zm(g,mi.memoizedState,h)},useTransition:function(){var h=Uh(sf)[0],g=Fo().memoizedState;return[h,g]},useMutableSource:Qv,useSyncExternalStore:ey,useId:Hl,unstable_isNewReconciler:!1},B_={readContext:Io,useCallback:O_,useContext:Io,useEffect:ry,useImperativeHandle:sy,useInsertionEffect:iy,useLayoutEffect:N_,useMemo:Do,useReducer:zl,useRef:R_,useState:function(){return zl(sf)},useDebugValue:Jm,useDeferredValue:function(h){var g=Fo();return mi===null?g.memoizedState=h:Zm(g,mi.memoizedState,h)},useTransition:function(){var h=zl(sf)[0],g=Fo().memoizedState;return[h,g]},useMutableSource:Qv,useSyncExternalStore:ey,useId:Hl,unstable_isNewReconciler:!1};function na(h,g){if(h&&h.defaultProps){g=ne({},g),h=h.defaultProps;for(var S in h)g[S]===void 0&&(g[S]=h[S]);return g}return g}function Vh(h,g,S,N){g=h.memoizedState,S=S(N,g),S=S==null?g:ne({},g,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var rg={isMounted:function(h){return(h=h._reactInternals)?le(h)===h:!1},enqueueSetState:function(h,g,S){h=h._reactInternals;var N=ko(),j=cf(h),G=Lr(N,j);G.payload=g,S!=null&&(G.callback=S),g=ni(h,G,j),g!==null&&($l(g,h,j,N),Os(g,h,j))},enqueueReplaceState:function(h,g,S){h=h._reactInternals;var N=ko(),j=cf(h),G=Lr(N,j);G.tag=1,G.payload=g,S!=null&&(G.callback=S),g=ni(h,G,j),g!==null&&($l(g,h,j,N),Os(g,h,j))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var S=ko(),N=cf(h),j=Lr(S,N);j.tag=2,g!=null&&(j.callback=g),g=ni(h,j,N),g!==null&&($l(g,h,N,S),Os(g,h,N))}};function k_(h,g,S,N,j,G,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,G,se):g.prototype&&g.prototype.isPureReactComponent?!Cu(S,N)||!Cu(j,G):!0}function x(h,g,S){var N=!1,j=Ol,G=g.contextType;return typeof G=="object"&&G!==null?G=Io(G):(j=Is(g)?Fl:fs.current,N=g.contextTypes,G=(N=N!=null)?Iu(h,j):Ol),g=new g(S,G),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rg,h.stateNode=g,g._reactInternals=h,N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=j,h.__reactInternalMemoizedMaskedChildContext=G),g}function _(h,g,S,N){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,N),g.state!==h&&rg.enqueueReplaceState(g,g.state,null)}function T(h,g,S,N){var j=h.stateNode;j.props=S,j.state=h.memoizedState,j.refs={},Qn(h);var G=g.contextType;typeof G=="object"&&G!==null?j.context=Io(G):(G=Is(g)?Fl:fs.current,j.context=Iu(h,G)),j.state=h.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(Vh(h,g,G,S),j.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(g=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),g!==j.state&&rg.enqueueReplaceState(j,j.state,null),pi(h,S,j,N),j.state=h.memoizedState),typeof j.componentDidMount=="function"&&(h.flags|=4194308)}function F(h,g){try{var S="",N=g;do S+=Xe(N),N=N.return;while(N);var j=S}catch(G){j=`
Error generating stack: `+G.message+`
`+G.stack}return{value:h,source:g,stack:j,digest:null}}function z(h,g,S){return{value:h,source:null,stack:S??null,digest:g??null}}function X(h,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var ge=typeof WeakMap=="function"?WeakMap:Map;function Ie(h,g,S){S=Lr(-1,S),S.tag=3,S.payload={element:null};var N=g.value;return S.callback=function(){V_||(V_=!0,CM=N),X(h,g)},S}function ut(h,g,S){S=Lr(-1,S),S.tag=3;var N=h.type.getDerivedStateFromError;if(typeof N=="function"){var j=g.value;S.payload=function(){return N(j)},S.callback=function(){X(h,g)}}var G=h.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(S.callback=function(){X(h,g),typeof N!="function"&&(af===null?af=new Set([this]):af.add(this));var se=g.stack;this.componentDidCatch(g.value,{componentStack:se!==null?se:""})}),S}function Ut(h,g,S){var N=h.pingCache;if(N===null){N=h.pingCache=new ge;var j=new Set;N.set(g,j)}else j=N.get(g),j===void 0&&(j=new Set,N.set(g,j));j.has(S)||(j.add(S),h=xne.bind(null,h,g,S),g.then(h,h))}function ln(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function qn(h,g,S,N,j){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Lr(-1,1),g.tag=2,ni(S,g,1))),S.lanes|=1),h):(h.flags|=65536,h.lanes=j,h)}var Mn=C.ReactCurrentOwner,nr=!1;function rn(h,g,S,N){g.child=h===null?Oh(g,null,S,N):Bu(g,h.child,S,N)}function gs(h,g,S,N,j){S=S.render;var G=g.ref;return Bc(g,j),N=jh(h,g,S,N,G,j),S=Zv(),h!==null&&!nr?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~j,$u(h,g,j)):(Zr&&S&&Wv(g),g.flags|=1,rn(h,g,N,j),g.child)}function Bo(h,g,S,N,j){if(h===null){var G=S.type;return typeof G=="function"&&!OM(G)&&G.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=G,qe(h,g,G,N,j)):(h=Y_(S.type,null,N,g,g.mode,j),h.ref=g.ref,h.return=g,g.child=h)}if(G=h.child,(h.lanes&j)===0){var se=G.memoizedProps;if(S=S.compare,S=S!==null?S:Cu,S(se,N)&&h.ref===g.ref)return $u(h,g,j)}return g.flags|=1,h=df(G,N),h.ref=g.ref,h.return=g,g.child=h}function qe(h,g,S,N,j){if(h!==null){var G=h.memoizedProps;if(Cu(G,N)&&h.ref===g.ref)if(nr=!1,g.pendingProps=N=G,(h.lanes&j)!==0)(h.flags&131072)!==0&&(nr=!0);else return g.lanes=h.lanes,$u(h,g,j)}return Qt(h,g,S,N,j)}function De(h,g,S){var N=g.pendingProps,j=N.children,G=h!==null?h.memoizedState:null;if(N.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gr(sg,Ma),Ma|=S;else{if((S&1073741824)===0)return h=G!==null?G.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Gr(sg,Ma),Ma|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=G!==null?G.baseLanes:S,Gr(sg,Ma),Ma|=N}else G!==null?(N=G.baseLanes|S,g.memoizedState=null):N=S,Gr(sg,Ma),Ma|=N;return rn(h,g,j,S),g.child}function at(h,g){var S=g.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function Qt(h,g,S,N,j){var G=Is(S)?Fl:fs.current;return G=Iu(g,G),Bc(g,j),S=jh(h,g,S,N,G,j),N=Zv(),h!==null&&!nr?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~j,$u(h,g,j)):(Zr&&N&&Wv(g),g.flags|=1,rn(h,g,S,j),g.child)}function bn(h,g,S,N,j){if(Is(S)){var G=!0;Ou(g)}else G=!1;if(Bc(g,j),g.stateNode===null)j_(h,g),x(g,S,N),T(g,S,N,j),N=!0;else if(h===null){var se=g.stateNode,be=g.memoizedProps;se.props=be;var Me=se.context,Ze=S.contextType;typeof Ze=="object"&&Ze!==null?Ze=Io(Ze):(Ze=Is(S)?Fl:fs.current,Ze=Iu(g,Ze));var Rt=S.getDerivedStateFromProps,kt=typeof Rt=="function"||typeof se.getSnapshotBeforeUpdate=="function";kt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(be!==N||Me!==Ze)&&_(g,se,N,Ze),kr=!1;var Tt=g.memoizedState;se.state=Tt,pi(g,N,se,j),Me=g.memoizedState,be!==N||Tt!==Me||Ws.current||kr?(typeof Rt=="function"&&(Vh(g,S,Rt,N),Me=g.memoizedState),(be=kr||k_(g,S,be,N,Tt,Me,Ze))?(kt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(g.flags|=4194308)):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=Me),se.props=N,se.state=Me,se.context=Ze,N=be):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{se=g.stateNode,_i(h,g),be=g.memoizedProps,Ze=g.type===g.elementType?be:na(g.type,be),se.props=Ze,kt=g.pendingProps,Tt=se.context,Me=S.contextType,typeof Me=="object"&&Me!==null?Me=Io(Me):(Me=Is(S)?Fl:fs.current,Me=Iu(g,Me));var on=S.getDerivedStateFromProps;(Rt=typeof on=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(be!==kt||Tt!==Me)&&_(g,se,N,Me),kr=!1,Tt=g.memoizedState,se.state=Tt,pi(g,N,se,j);var mn=g.memoizedState;be!==kt||Tt!==mn||Ws.current||kr?(typeof on=="function"&&(Vh(g,S,on,N),mn=g.memoizedState),(Ze=kr||k_(g,S,Ze,N,Tt,mn,Me)||!1)?(Rt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(N,mn,Me),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(N,mn,Me)),typeof se.componentDidUpdate=="function"&&(g.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof se.componentDidUpdate!="function"||be===h.memoizedProps&&Tt===h.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||be===h.memoizedProps&&Tt===h.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=mn),se.props=N,se.state=mn,se.context=Me,N=Ze):(typeof se.componentDidUpdate!="function"||be===h.memoizedProps&&Tt===h.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||be===h.memoizedProps&&Tt===h.memoizedState||(g.flags|=1024),N=!1)}return Jn(h,g,S,N,G,j)}function Jn(h,g,S,N,j,G){at(h,g);var se=(g.flags&128)!==0;if(!N&&!se)return j&&Gv(g,S,!1),$u(h,g,G);N=g.stateNode,Mn.current=g;var be=se&&typeof S.getDerivedStateFromError!="function"?null:N.render();return g.flags|=1,h!==null&&se?(g.child=Bu(g,h.child,null,G),g.child=Bu(g,null,be,G)):rn(h,g,be,G),g.memoizedState=N.state,j&&Gv(g,S,!0),g.child}function Xn(h){var g=h.stateNode;g.pendingContext?Hv(h,g.pendingContext,g.pendingContext!==g.context):g.context&&Hv(h,g.context,!1),kh(h,g.containerInfo)}function _r(h,g,S,N,j){return Dc(),Qd(j),g.flags|=256,rn(h,g,S,N),g.child}var Ii={dehydrated:null,treeContext:null,retryLane:0};function br(h){return{baseLanes:h,cachePool:null,transitions:null}}function Gl(h,g,S){var N=g.pendingProps,j=Qr.current,G=!1,se=(g.flags&128)!==0,be;if((be=se)||(be=h!==null&&h.memoizedState===null?!1:(j&2)!==0),be?(G=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(j|=1),Gr(Qr,j&1),h===null)return Xm(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(se=N.children,h=N.fallback,G?(N=g.mode,G=g.child,se={mode:"hidden",children:se},(N&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=se):G=J_(se,N,0,null),h=Kh(h,N,S,null),G.return=g,h.return=g,G.sibling=h,g.child=G,g.child.memoizedState=br(S),g.memoizedState=Ii,h):oy(g,se));if(j=h.memoizedState,j!==null&&(be=j.dehydrated,be!==null))return ane(h,g,se,N,be,j,S);if(G){G=N.fallback,se=g.mode,j=h.child,be=j.sibling;var Me={mode:"hidden",children:N.children};return(se&1)===0&&g.child!==j?(N=g.child,N.childLanes=0,N.pendingProps=Me,g.deletions=null):(N=df(j,Me),N.subtreeFlags=j.subtreeFlags&14680064),be!==null?G=df(be,G):(G=Kh(G,se,S,null),G.flags|=2),G.return=g,N.return=g,N.sibling=G,g.child=N,N=G,G=g.child,se=h.child.memoizedState,se=se===null?br(S):{baseLanes:se.baseLanes|S,cachePool:null,transitions:se.transitions},G.memoizedState=se,G.childLanes=h.childLanes&~S,g.memoizedState=Ii,N}return G=h.child,h=G.sibling,N=df(G,{mode:"visible",children:N.children}),(g.mode&1)===0&&(N.lanes=S),N.return=g,N.sibling=null,h!==null&&(S=g.deletions,S===null?(g.deletions=[h],g.flags|=16):S.push(h)),g.child=N,g.memoizedState=null,N}function oy(h,g){return g=J_({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function L_(h,g,S,N){return N!==null&&Qd(N),Bu(g,h.child,null,S),h=oy(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function ane(h,g,S,N,j,G,se){if(S)return g.flags&256?(g.flags&=-257,N=z(Error(t(422))),L_(h,g,se,N)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(G=N.fallback,j=g.mode,N=J_({mode:"visible",children:N.children},j,0,null),G=Kh(G,j,se,null),G.flags|=2,N.return=g,G.return=g,N.sibling=G,g.child=N,(g.mode&1)!==0&&Bu(g,h.child,null,se),g.child.memoizedState=br(se),g.memoizedState=Ii,G);if((g.mode&1)===0)return L_(h,g,se,null);if(j.data==="$!"){if(N=j.nextSibling&&j.nextSibling.dataset,N)var be=N.dgst;return N=be,G=Error(t(419)),N=z(G,N,void 0),L_(h,g,se,N)}if(be=(se&h.childLanes)!==0,nr||be){if(N=Ds,N!==null){switch(se&-se){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(N.suspendedLanes|se))!==0?0:j,j!==0&&j!==G.retryLane&&(G.retryLane=j,Sa(h,j),$l(N,h,j,-1))}return IM(),N=z(Error(t(421))),L_(h,g,se,N)}return j.data==="$?"?(g.flags|=128,g.child=h.child,g=bne.bind(null,h),j._reactRetry=g,null):(h=G.treeContext,qs=Nl(j.nextSibling),hs=g,Zr=!0,ta=null,h!==null&&($s[ts++]=Kt,$s[ts++]=ea,$s[ts++]=Du,Kt=h.id,ea=h.overflow,Du=g),g=oy(g,N.children),g.flags|=4096,g)}function tL(h,g,S){h.lanes|=g;var N=h.alternate;N!==null&&(N.lanes|=g),Dh(h.return,g,S)}function vM(h,g,S,N,j){var G=h.memoizedState;G===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:S,tailMode:j}:(G.isBackwards=g,G.rendering=null,G.renderingStartTime=0,G.last=N,G.tail=S,G.tailMode=j)}function nL(h,g,S){var N=g.pendingProps,j=N.revealOrder,G=N.tail;if(rn(h,g,N.children,S),N=Qr.current,(N&2)!==0)N=N&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&tL(h,S,g);else if(h.tag===19)tL(h,S,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}N&=1}if(Gr(Qr,N),(g.mode&1)===0)g.memoizedState=null;else switch(j){case"forwards":for(S=g.child,j=null;S!==null;)h=S.alternate,h!==null&&Aa(h)===null&&(j=S),S=S.sibling;S=j,S===null?(j=g.child,g.child=null):(j=S.sibling,S.sibling=null),vM(g,!1,j,S,G);break;case"backwards":for(S=null,j=g.child,g.child=null;j!==null;){if(h=j.alternate,h!==null&&Aa(h)===null){g.child=j;break}h=j.sibling,j.sibling=S,S=j,j=h}vM(g,!0,S,null,G);break;case"together":vM(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function j_(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function $u(h,g,S){if(h!==null&&(g.dependencies=h.dependencies),Wh|=g.lanes,(S&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(t(153));if(g.child!==null){for(h=g.child,S=df(h,h.pendingProps),g.child=S,S.return=g;h.sibling!==null;)h=h.sibling,S=S.sibling=df(h,h.pendingProps),S.return=g;S.sibling=null}return g.child}function lne(h,g,S){switch(g.tag){case 3:Xn(g),Dc();break;case 5:Hu(g);break;case 1:Is(g.type)&&Ou(g);break;case 4:kh(g,g.stateNode.containerInfo);break;case 10:var N=g.type._context,j=g.memoizedProps.value;Gr(ku,N._currentValue),N._currentValue=j;break;case 13:if(N=g.memoizedState,N!==null)return N.dehydrated!==null?(Gr(Qr,Qr.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?Gl(h,g,S):(Gr(Qr,Qr.current&1),h=$u(h,g,S),h!==null?h.sibling:null);Gr(Qr,Qr.current&1);break;case 19:if(N=(S&g.childLanes)!==0,(h.flags&128)!==0){if(N)return nL(h,g,S);g.flags|=128}if(j=g.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Gr(Qr,Qr.current),N)break;return null;case 22:case 23:return g.lanes=0,De(h,g,S)}return $u(h,g,S)}var rL,yM,iL,sL;rL=function(h,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},yM=function(){},iL=function(h,g,S,N){var j=h.memoizedProps;if(j!==N){h=g.stateNode,Ni(Oo.current);var G=null;switch(S){case"input":j=Fe(h,j),N=Fe(h,N),G=[];break;case"select":j=ne({},j,{value:void 0}),N=ne({},N,{value:void 0}),G=[];break;case"textarea":j=ft(h,j),N=ft(h,N),G=[];break;default:typeof j.onClick!="function"&&typeof N.onClick=="function"&&(h.onclick=Ch)}_e(S,N);var se;S=null;for(Ze in j)if(!N.hasOwnProperty(Ze)&&j.hasOwnProperty(Ze)&&j[Ze]!=null)if(Ze==="style"){var be=j[Ze];for(se in be)be.hasOwnProperty(se)&&(S||(S={}),S[se]="")}else Ze!=="dangerouslySetInnerHTML"&&Ze!=="children"&&Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&Ze!=="autoFocus"&&(i.hasOwnProperty(Ze)?G||(G=[]):(G=G||[]).push(Ze,null));for(Ze in N){var Me=N[Ze];if(be=j?.[Ze],N.hasOwnProperty(Ze)&&Me!==be&&(Me!=null||be!=null))if(Ze==="style")if(be){for(se in be)!be.hasOwnProperty(se)||Me&&Me.hasOwnProperty(se)||(S||(S={}),S[se]="");for(se in Me)Me.hasOwnProperty(se)&&be[se]!==Me[se]&&(S||(S={}),S[se]=Me[se])}else S||(G||(G=[]),G.push(Ze,S)),S=Me;else Ze==="dangerouslySetInnerHTML"?(Me=Me?Me.__html:void 0,be=be?be.__html:void 0,Me!=null&&be!==Me&&(G=G||[]).push(Ze,Me)):Ze==="children"?typeof Me!="string"&&typeof Me!="number"||(G=G||[]).push(Ze,""+Me):Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ze)?(Me!=null&&Ze==="onScroll"&&Wr("scroll",h),G||be===Me||(G=[])):(G=G||[]).push(Ze,Me))}S&&(G=G||[]).push("style",S);var Ze=G;(g.updateQueue=Ze)&&(g.flags|=4)}},sL=function(h,g,S,N){S!==N&&(g.flags|=4)};function ay(h,g){if(!Zr)switch(h.tailMode){case"hidden":g=h.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function ho(h){var g=h.alternate!==null&&h.alternate.child===h.child,S=0,N=0;if(g)for(var j=h.child;j!==null;)S|=j.lanes|j.childLanes,N|=j.subtreeFlags&14680064,N|=j.flags&14680064,j.return=h,j=j.sibling;else for(j=h.child;j!==null;)S|=j.lanes|j.childLanes,N|=j.subtreeFlags,N|=j.flags,j.return=h,j=j.sibling;return h.subtreeFlags|=N,h.childLanes=S,g}function cne(h,g,S){var N=g.pendingProps;switch(Bl(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(g),null;case 1:return Is(g.type)&&Mh(),ho(g),null;case 3:return N=g.stateNode,kc(),$r(Ws),$r(fs),Za(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(h===null||h.child===null)&&(Zd(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ta!==null&&(PM(ta),ta=null))),yM(h,g),ho(g),null;case 5:nf(g);var j=Ni(jl.current);if(S=g.type,h!==null&&g.stateNode!=null)iL(h,g,S,N,j),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!N){if(g.stateNode===null)throw Error(t(166));return ho(g),null}if(h=Ni(Oo.current),Zd(g)){N=g.stateNode,S=g.type;var G=g.memoizedProps;switch(N[Hi]=g,N[Jd]=G,h=(g.mode&1)!==0,S){case"dialog":Wr("cancel",N),Wr("close",N);break;case"iframe":case"object":case"embed":Wr("load",N);break;case"video":case"audio":for(j=0;j<Oc.length;j++)Wr(Oc[j],N);break;case"source":Wr("error",N);break;case"img":case"image":case"link":Wr("error",N),Wr("load",N);break;case"details":Wr("toggle",N);break;case"input":ce(N,G),Wr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!G.multiple},Wr("invalid",N);break;case"textarea":ae(N,G),Wr("invalid",N)}_e(S,G),j=null;for(var se in G)if(G.hasOwnProperty(se)){var be=G[se];se==="children"?typeof be=="string"?N.textContent!==be&&(G.suppressHydrationWarning!==!0&&Eh(N.textContent,be,h),j=["children",be]):typeof be=="number"&&N.textContent!==""+be&&(G.suppressHydrationWarning!==!0&&Eh(N.textContent,be,h),j=["children",""+be]):i.hasOwnProperty(se)&&be!=null&&se==="onScroll"&&Wr("scroll",N)}switch(S){case"input":et(N),wt(N,G,!0);break;case"textarea":et(N),Ne(N);break;case"select":case"option":break;default:typeof G.onClick=="function"&&(N.onclick=Ch)}N=j,g.updateQueue=N,N!==null&&(g.flags|=4)}else{se=j.nodeType===9?j:j.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ye(S)),h==="http://www.w3.org/1999/xhtml"?S==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof N.is=="string"?h=se.createElement(S,{is:N.is}):(h=se.createElement(S),S==="select"&&(se=h,N.multiple?se.multiple=!0:N.size&&(se.size=N.size))):h=se.createElementNS(h,S),h[Hi]=g,h[Jd]=N,rL(h,g,!1,!1),g.stateNode=h;e:{switch(se=Pe(S,N),S){case"dialog":Wr("cancel",h),Wr("close",h),j=N;break;case"iframe":case"object":case"embed":Wr("load",h),j=N;break;case"video":case"audio":for(j=0;j<Oc.length;j++)Wr(Oc[j],h);j=N;break;case"source":Wr("error",h),j=N;break;case"img":case"image":case"link":Wr("error",h),Wr("load",h),j=N;break;case"details":Wr("toggle",h),j=N;break;case"input":ce(h,N),j=Fe(h,N),Wr("invalid",h);break;case"option":j=N;break;case"select":h._wrapperState={wasMultiple:!!N.multiple},j=ne({},N,{value:void 0}),Wr("invalid",h);break;case"textarea":ae(h,N),j=ft(h,N),Wr("invalid",h);break;default:j=N}_e(S,j),be=j;for(G in be)if(be.hasOwnProperty(G)){var Me=be[G];G==="style"?bt(h,Me):G==="dangerouslySetInnerHTML"?(Me=Me?Me.__html:void 0,Me!=null&&Jt(h,Me)):G==="children"?typeof Me=="string"?(S!=="textarea"||Me!=="")&&It(h,Me):typeof Me=="number"&&It(h,""+Me):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?Me!=null&&G==="onScroll"&&Wr("scroll",h):Me!=null&&E(h,G,Me,se))}switch(S){case"input":et(h),wt(h,N,!1);break;case"textarea":et(h),Ne(h);break;case"option":N.value!=null&&h.setAttribute("value",""+ke(N.value));break;case"select":h.multiple=!!N.multiple,G=N.value,G!=null?st(h,!!N.multiple,G,!1):N.defaultValue!=null&&st(h,!!N.multiple,N.defaultValue,!0);break;default:typeof j.onClick=="function"&&(h.onclick=Ch)}switch(S){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return ho(g),null;case 6:if(h&&g.stateNode!=null)sL(h,g,h.memoizedProps,N);else{if(typeof N!="string"&&g.stateNode===null)throw Error(t(166));if(S=Ni(jl.current),Ni(Oo.current),Zd(g)){if(N=g.stateNode,S=g.memoizedProps,N[Hi]=g,(G=N.nodeValue!==S)&&(h=hs,h!==null))switch(h.tag){case 3:Eh(N.nodeValue,S,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Eh(N.nodeValue,S,(h.mode&1)!==0)}G&&(g.flags|=4)}else N=(S.nodeType===9?S:S.ownerDocument).createTextNode(N),N[Hi]=g,g.stateNode=N}return ho(g),null;case 13:if($r(Qr),N=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Zr&&qs!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Xv(),Dc(),g.flags|=98560,G=!1;else if(G=Zd(g),N!==null&&N.dehydrated!==null){if(h===null){if(!G)throw Error(t(318));if(G=g.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(t(317));G[Hi]=g}else Dc(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;ho(g),G=!1}else ta!==null&&(PM(ta),ta=null),G=!0;if(!G)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):(N=N!==null,N!==(h!==null&&h.memoizedState!==null)&&N&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(Qr.current&1)!==0?vs===0&&(vs=3):IM())),g.updateQueue!==null&&(g.flags|=4),ho(g),null);case 4:return kc(),yM(h,g),h===null&&Xd(g.stateNode.containerInfo),ho(g),null;case 10:return Fh(g.type._context),ho(g),null;case 17:return Is(g.type)&&Mh(),ho(g),null;case 19:if($r(Qr),G=g.memoizedState,G===null)return ho(g),null;if(N=(g.flags&128)!==0,se=G.rendering,se===null)if(N)ay(G,!1);else{if(vs!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(se=Aa(h),se!==null){for(g.flags|=128,ay(G,!1),N=se.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),g.subtreeFlags=0,N=S,S=g.child;S!==null;)G=S,h=N,G.flags&=14680066,se=G.alternate,se===null?(G.childLanes=0,G.lanes=h,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=se.childLanes,G.lanes=se.lanes,G.child=se.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=se.memoizedProps,G.memoizedState=se.memoizedState,G.updateQueue=se.updateQueue,G.type=se.type,h=se.dependencies,G.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),S=S.sibling;return Gr(Qr,Qr.current&1|2),g.child}h=h.sibling}G.tail!==null&&xe()>og&&(g.flags|=128,N=!0,ay(G,!1),g.lanes=4194304)}else{if(!N)if(h=Aa(se),h!==null){if(g.flags|=128,N=!0,S=h.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),ay(G,!0),G.tail===null&&G.tailMode==="hidden"&&!se.alternate&&!Zr)return ho(g),null}else 2*xe()-G.renderingStartTime>og&&S!==1073741824&&(g.flags|=128,N=!0,ay(G,!1),g.lanes=4194304);G.isBackwards?(se.sibling=g.child,g.child=se):(S=G.last,S!==null?S.sibling=se:g.child=se,G.last=se)}return G.tail!==null?(g=G.tail,G.rendering=g,G.tail=g.sibling,G.renderingStartTime=xe(),g.sibling=null,S=Qr.current,Gr(Qr,N?S&1|2:S&1),g):(ho(g),null);case 22:case 23:return NM(),N=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==N&&(g.flags|=8192),N&&(g.mode&1)!==0?(Ma&1073741824)!==0&&(ho(g),g.subtreeFlags&6&&(g.flags|=8192)):ho(g),null;case 24:return null;case 25:return null}throw Error(t(156,g.tag))}function une(h,g){switch(Bl(g),g.tag){case 1:return Is(g.type)&&Mh(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return kc(),$r(Ws),$r(fs),Za(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return nf(g),null;case 13:if($r(Qr),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(t(340));Dc()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return $r(Qr),null;case 4:return kc(),null;case 10:return Fh(g.type._context),null;case 22:case 23:return NM(),null;case 24:return null;default:return null}}var U_=!1,po=!1,dne=typeof WeakSet=="function"?WeakSet:Set,hn=null;function ig(h,g){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(N){Oi(h,g,N)}else S.current=null}function xM(h,g,S){try{S()}catch(N){Oi(h,g,N)}}var oL=!1;function fne(h,g){if(Yd=Ps,h=li(),Ji(h)){if("selectionStart"in h)var S={start:h.selectionStart,end:h.selectionEnd};else e:{S=(S=h.ownerDocument)&&S.defaultView||window;var N=S.getSelection&&S.getSelection();if(N&&N.rangeCount!==0){S=N.anchorNode;var j=N.anchorOffset,G=N.focusNode;N=N.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var se=0,be=-1,Me=-1,Ze=0,Rt=0,kt=h,Tt=null;t:for(;;){for(var on;kt!==S||j!==0&&kt.nodeType!==3||(be=se+j),kt!==G||N!==0&&kt.nodeType!==3||(Me=se+N),kt.nodeType===3&&(se+=kt.nodeValue.length),(on=kt.firstChild)!==null;)Tt=kt,kt=on;for(;;){if(kt===h)break t;if(Tt===S&&++Ze===j&&(be=se),Tt===G&&++Rt===N&&(Me=se),(on=kt.nextSibling)!==null)break;kt=Tt,Tt=kt.parentNode}kt=on}S=be===-1||Me===-1?null:{start:be,end:Me}}else S=null}S=S||{start:0,end:0}}else S=null;for(Bv={focusedElem:h,selectionRange:S},Ps=!1,hn=g;hn!==null;)if(g=hn,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,hn=h;else for(;hn!==null;){g=hn;try{var mn=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(mn!==null){var xn=mn.memoizedProps,Gi=mn.memoizedState,He=g.stateNode,Re=He.getSnapshotBeforeUpdate(g.elementType===g.type?xn:na(g.type,xn),Gi);He.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var $e=g.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Gt){Oi(g,g.return,Gt)}if(h=g.sibling,h!==null){h.return=g.return,hn=h;break}hn=g.return}return mn=oL,oL=!1,mn}function ly(h,g,S){var N=g.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var j=N=N.next;do{if((j.tag&h)===h){var G=j.destroy;j.destroy=void 0,G!==void 0&&xM(g,S,G)}j=j.next}while(j!==N)}}function z_(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&h)===h){var N=S.create;S.destroy=N()}S=S.next}while(S!==g)}}function bM(h){var g=h.ref;if(g!==null){var S=h.stateNode;switch(h.tag){case 5:h=S;break;default:h=S}typeof g=="function"?g(h):g.current=h}}function aL(h){var g=h.alternate;g!==null&&(h.alternate=null,aL(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[Hi],delete g[Jd],delete g[Nu],delete g[zm],delete g[Hm])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function lL(h){return h.tag===5||h.tag===3||h.tag===4}function cL(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||lL(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function _M(h,g,S){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(h,g):S.insertBefore(h,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(h,S)):(g=S,g.appendChild(h)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Ch));else if(N!==4&&(h=h.child,h!==null))for(_M(h,g,S),h=h.sibling;h!==null;)_M(h,g,S),h=h.sibling}function wM(h,g,S){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?S.insertBefore(h,g):S.appendChild(h);else if(N!==4&&(h=h.child,h!==null))for(wM(h,g,S),h=h.sibling;h!==null;)wM(h,g,S),h=h.sibling}var Ks=null,Vl=!1;function of(h,g,S){for(S=S.child;S!==null;)uL(h,g,S),S=S.sibling}function uL(h,g,S){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Pt,S)}catch{}switch(S.tag){case 5:po||ig(S,g);case 6:var N=Ks,j=Vl;Ks=null,of(h,g,S),Ks=N,Vl=j,Ks!==null&&(Vl?(h=Ks,S=S.stateNode,h.nodeType===8?h.parentNode.removeChild(S):h.removeChild(S)):Ks.removeChild(S.stateNode));break;case 18:Ks!==null&&(Vl?(h=Ks,S=S.stateNode,h.nodeType===8?Um(h.parentNode,S):h.nodeType===1&&Um(h,S),Sc(h)):Um(Ks,S.stateNode));break;case 4:N=Ks,j=Vl,Ks=S.stateNode.containerInfo,Vl=!0,of(h,g,S),Ks=N,Vl=j;break;case 0:case 11:case 14:case 15:if(!po&&(N=S.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){j=N=N.next;do{var G=j,se=G.destroy;G=G.tag,se!==void 0&&((G&2)!==0||(G&4)!==0)&&xM(S,g,se),j=j.next}while(j!==N)}of(h,g,S);break;case 1:if(!po&&(ig(S,g),N=S.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=S.memoizedProps,N.state=S.memoizedState,N.componentWillUnmount()}catch(be){Oi(S,g,be)}of(h,g,S);break;case 21:of(h,g,S);break;case 22:S.mode&1?(po=(N=po)||S.memoizedState!==null,of(h,g,S),po=N):of(h,g,S);break;default:of(h,g,S)}}function dL(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new dne),g.forEach(function(N){var j=_ne.bind(null,h,N);S.has(N)||(S.add(N),N.then(j,j))})}}function Wl(h,g){var S=g.deletions;if(S!==null)for(var N=0;N<S.length;N++){var j=S[N];try{var G=h,se=g,be=se;e:for(;be!==null;){switch(be.tag){case 5:Ks=be.stateNode,Vl=!1;break e;case 3:Ks=be.stateNode.containerInfo,Vl=!0;break e;case 4:Ks=be.stateNode.containerInfo,Vl=!0;break e}be=be.return}if(Ks===null)throw Error(t(160));uL(G,se,j),Ks=null,Vl=!1;var Me=j.alternate;Me!==null&&(Me.return=null),j.return=null}catch(Ze){Oi(j,g,Ze)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)fL(g,h),g=g.sibling}function fL(h,g){var S=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Wl(g,h),jc(h),N&4){try{ly(3,h,h.return),z_(3,h)}catch(xn){Oi(h,h.return,xn)}try{ly(5,h,h.return)}catch(xn){Oi(h,h.return,xn)}}break;case 1:Wl(g,h),jc(h),N&512&&S!==null&&ig(S,S.return);break;case 5:if(Wl(g,h),jc(h),N&512&&S!==null&&ig(S,S.return),h.flags&32){var j=h.stateNode;try{It(j,"")}catch(xn){Oi(h,h.return,xn)}}if(N&4&&(j=h.stateNode,j!=null)){var G=h.memoizedProps,se=S!==null?S.memoizedProps:G,be=h.type,Me=h.updateQueue;if(h.updateQueue=null,Me!==null)try{be==="input"&&G.type==="radio"&&G.name!=null&&rt(j,G),Pe(be,se);var Ze=Pe(be,G);for(se=0;se<Me.length;se+=2){var Rt=Me[se],kt=Me[se+1];Rt==="style"?bt(j,kt):Rt==="dangerouslySetInnerHTML"?Jt(j,kt):Rt==="children"?It(j,kt):E(j,Rt,kt,Ze)}switch(be){case"input":ct(j,G);break;case"textarea":te(j,G);break;case"select":var Tt=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!G.multiple;var on=G.value;on!=null?st(j,!!G.multiple,on,!1):Tt!==!!G.multiple&&(G.defaultValue!=null?st(j,!!G.multiple,G.defaultValue,!0):st(j,!!G.multiple,G.multiple?[]:"",!1))}j[Jd]=G}catch(xn){Oi(h,h.return,xn)}}break;case 6:if(Wl(g,h),jc(h),N&4){if(h.stateNode===null)throw Error(t(162));j=h.stateNode,G=h.memoizedProps;try{j.nodeValue=G}catch(xn){Oi(h,h.return,xn)}}break;case 3:if(Wl(g,h),jc(h),N&4&&S!==null&&S.memoizedState.isDehydrated)try{Sc(g.containerInfo)}catch(xn){Oi(h,h.return,xn)}break;case 4:Wl(g,h),jc(h);break;case 13:Wl(g,h),jc(h),j=h.child,j.flags&8192&&(G=j.memoizedState!==null,j.stateNode.isHidden=G,!G||j.alternate!==null&&j.alternate.memoizedState!==null||(EM=xe())),N&4&&dL(h);break;case 22:if(Rt=S!==null&&S.memoizedState!==null,h.mode&1?(po=(Ze=po)||Rt,Wl(g,h),po=Ze):Wl(g,h),jc(h),N&8192){if(Ze=h.memoizedState!==null,(h.stateNode.isHidden=Ze)&&!Rt&&(h.mode&1)!==0)for(hn=h,Rt=h.child;Rt!==null;){for(kt=hn=Rt;hn!==null;){switch(Tt=hn,on=Tt.child,Tt.tag){case 0:case 11:case 14:case 15:ly(4,Tt,Tt.return);break;case 1:ig(Tt,Tt.return);var mn=Tt.stateNode;if(typeof mn.componentWillUnmount=="function"){N=Tt,S=Tt.return;try{g=N,mn.props=g.memoizedProps,mn.state=g.memoizedState,mn.componentWillUnmount()}catch(xn){Oi(N,S,xn)}}break;case 5:ig(Tt,Tt.return);break;case 22:if(Tt.memoizedState!==null){mL(kt);continue}}on!==null?(on.return=Tt,hn=on):mL(kt)}Rt=Rt.sibling}e:for(Rt=null,kt=h;;){if(kt.tag===5){if(Rt===null){Rt=kt;try{j=kt.stateNode,Ze?(G=j.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(be=kt.stateNode,Me=kt.memoizedProps.style,se=Me!=null&&Me.hasOwnProperty("display")?Me.display:null,be.style.display=yt("display",se))}catch(xn){Oi(h,h.return,xn)}}}else if(kt.tag===6){if(Rt===null)try{kt.stateNode.nodeValue=Ze?"":kt.memoizedProps}catch(xn){Oi(h,h.return,xn)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===h)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===h)break e;for(;kt.sibling===null;){if(kt.return===null||kt.return===h)break e;Rt===kt&&(Rt=null),kt=kt.return}Rt===kt&&(Rt=null),kt.sibling.return=kt.return,kt=kt.sibling}}break;case 19:Wl(g,h),jc(h),N&4&&dL(h);break;case 21:break;default:Wl(g,h),jc(h)}}function jc(h){var g=h.flags;if(g&2){try{e:{for(var S=h.return;S!==null;){if(lL(S)){var N=S;break e}S=S.return}throw Error(t(160))}switch(N.tag){case 5:var j=N.stateNode;N.flags&32&&(It(j,""),N.flags&=-33);var G=cL(h);wM(h,G,j);break;case 3:case 4:var se=N.stateNode.containerInfo,be=cL(h);_M(h,be,se);break;default:throw Error(t(161))}}catch(Me){Oi(h,h.return,Me)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function hne(h,g,S){hn=h,hL(h)}function hL(h,g,S){for(var N=(h.mode&1)!==0;hn!==null;){var j=hn,G=j.child;if(j.tag===22&&N){var se=j.memoizedState!==null||U_;if(!se){var be=j.alternate,Me=be!==null&&be.memoizedState!==null||po;be=U_;var Ze=po;if(U_=se,(po=Me)&&!Ze)for(hn=j;hn!==null;)se=hn,Me=se.child,se.tag===22&&se.memoizedState!==null?gL(j):Me!==null?(Me.return=se,hn=Me):gL(j);for(;G!==null;)hn=G,hL(G),G=G.sibling;hn=j,U_=be,po=Ze}pL(h)}else(j.subtreeFlags&8772)!==0&&G!==null?(G.return=j,hn=G):pL(h)}}function pL(h){for(;hn!==null;){var g=hn;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:po||z_(5,g);break;case 1:var N=g.stateNode;if(g.flags&4&&!po)if(S===null)N.componentDidMount();else{var j=g.elementType===g.type?S.memoizedProps:na(g.type,S.memoizedProps);N.componentDidUpdate(j,S.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var G=g.updateQueue;G!==null&&tf(g,G,N);break;case 3:var se=g.updateQueue;if(se!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}tf(g,se,S)}break;case 5:var be=g.stateNode;if(S===null&&g.flags&4){S=be;var Me=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Me.autoFocus&&S.focus();break;case"img":Me.src&&(S.src=Me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ze=g.alternate;if(Ze!==null){var Rt=Ze.memoizedState;if(Rt!==null){var kt=Rt.dehydrated;kt!==null&&Sc(kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}po||g.flags&512&&bM(g)}catch(Tt){Oi(g,g.return,Tt)}}if(g===h){hn=null;break}if(S=g.sibling,S!==null){S.return=g.return,hn=S;break}hn=g.return}}function mL(h){for(;hn!==null;){var g=hn;if(g===h){hn=null;break}var S=g.sibling;if(S!==null){S.return=g.return,hn=S;break}hn=g.return}}function gL(h){for(;hn!==null;){var g=hn;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{z_(4,g)}catch(Me){Oi(g,S,Me)}break;case 1:var N=g.stateNode;if(typeof N.componentDidMount=="function"){var j=g.return;try{N.componentDidMount()}catch(Me){Oi(g,j,Me)}}var G=g.return;try{bM(g)}catch(Me){Oi(g,G,Me)}break;case 5:var se=g.return;try{bM(g)}catch(Me){Oi(g,se,Me)}}}catch(Me){Oi(g,g.return,Me)}if(g===h){hn=null;break}var be=g.sibling;if(be!==null){be.return=g.return,hn=be;break}hn=g.return}}var pne=Math.ceil,H_=C.ReactCurrentDispatcher,SM=C.ReactCurrentOwner,el=C.ReactCurrentBatchConfig,Tr=0,Ds=null,ns=null,Ys=0,Ma=0,sg=hi(0),vs=0,cy=null,Wh=0,G_=0,AM=0,uy=null,ra=null,EM=0,og=1/0,qu=null,V_=!1,CM=null,af=null,W_=!1,lf=null,$_=0,dy=0,MM=null,q_=-1,X_=0;function ko(){return(Tr&6)!==0?xe():q_!==-1?q_:q_=xe()}function cf(h){return(h.mode&1)===0?1:(Tr&2)!==0&&Ys!==0?Ys&-Ys:mM.transition!==null?(X_===0&&(X_=mr()),X_):(h=Nn,h!==0||(h=window.event,h=h===void 0?16:Ec(h.type)),h)}function $l(h,g,S,N){if(50<dy)throw dy=0,MM=null,Error(t(185));fr(h,S,N),((Tr&2)===0||h!==Ds)&&(h===Ds&&((Tr&2)===0&&(G_|=S),vs===4&&uf(h,Ys)),ia(h,N),S===1&&Tr===0&&(g.mode&1)===0&&(og=xe()+500,Ph&&Ya()))}function ia(h,g){var S=h.callbackNode;or(h,g);var N=sn(h,h===Ds?Ys:0);if(N===0)S!==null&&Ot(S),h.callbackNode=null,h.callbackPriority=0;else if(g=N&-N,h.callbackPriority!==g){if(S!=null&&Ot(S),g===1)h.tag===0?M_(yL.bind(null,h)):Rh(yL.bind(null,h)),pM(function(){(Tr&6)===0&&Ya()}),S=null;else{switch(To(N)){case 1:S=Se;break;case 4:S=Je;break;case 16:S=dt;break;case 536870912:S=Et;break;default:S=dt}S=CL(S,vL.bind(null,h))}h.callbackPriority=g,h.callbackNode=S}}function vL(h,g){if(q_=-1,X_=0,(Tr&6)!==0)throw Error(t(327));var S=h.callbackNode;if(ag()&&h.callbackNode!==S)return null;var N=sn(h,h===Ds?Ys:0);if(N===0)return null;if((N&30)!==0||(N&h.expiredLanes)!==0||g)g=K_(h,N);else{g=N;var j=Tr;Tr|=2;var G=bL();(Ds!==h||Ys!==g)&&(qu=null,og=xe()+500,qh(h,g));do try{vne();break}catch(be){xL(h,be)}while(!0);ju(),H_.current=G,Tr=j,ns!==null?g=0:(Ds=null,Ys=0,g=vs)}if(g!==0){if(g===2&&(j=Pn(h),j!==0&&(N=j,g=TM(h,j))),g===1)throw S=cy,qh(h,0),uf(h,N),ia(h,xe()),S;if(g===6)uf(h,N);else{if(j=h.current.alternate,(N&30)===0&&!mne(j)&&(g=K_(h,N),g===2&&(G=Pn(h),G!==0&&(N=G,g=TM(h,G))),g===1))throw S=cy,qh(h,0),uf(h,N),ia(h,xe()),S;switch(h.finishedWork=j,h.finishedLanes=N,g){case 0:case 1:throw Error(t(345));case 2:Xh(h,ra,qu);break;case 3:if(uf(h,N),(N&130023424)===N&&(g=EM+500-xe(),10<g)){if(sn(h,0)!==0)break;if(j=h.suspendedLanes,(j&N)!==N){ko(),h.pingedLanes|=h.suspendedLanes&j;break}h.timeoutHandle=Lv(Xh.bind(null,h,ra,qu),g);break}Xh(h,ra,qu);break;case 4:if(uf(h,N),(N&4194240)===N)break;for(g=h.eventTimes,j=-1;0<N;){var se=31-Wt(N);G=1<<se,se=g[se],se>j&&(j=se),N&=~G}if(N=j,N=xe()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*pne(N/1960))-N,10<N){h.timeoutHandle=Lv(Xh.bind(null,h,ra,qu),N);break}Xh(h,ra,qu);break;case 5:Xh(h,ra,qu);break;default:throw Error(t(329))}}}return ia(h,xe()),h.callbackNode===S?vL.bind(null,h):null}function TM(h,g){var S=uy;return h.current.memoizedState.isDehydrated&&(qh(h,g).flags|=256),h=K_(h,g),h!==2&&(g=ra,ra=S,g!==null&&PM(g)),h}function PM(h){ra===null?ra=h:ra.push.apply(ra,h)}function mne(h){for(var g=h;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var N=0;N<S.length;N++){var j=S[N],G=j.getSnapshot;j=j.value;try{if(!Po(G(),j))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function uf(h,g){for(g&=~AM,g&=~G_,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var S=31-Wt(g),N=1<<S;h[S]=-1,g&=~N}}function yL(h){if((Tr&6)!==0)throw Error(t(327));ag();var g=sn(h,0);if((g&1)===0)return ia(h,xe()),null;var S=K_(h,g);if(h.tag!==0&&S===2){var N=Pn(h);N!==0&&(g=N,S=TM(h,N))}if(S===1)throw S=cy,qh(h,0),uf(h,g),ia(h,xe()),S;if(S===6)throw Error(t(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,Xh(h,ra,qu),ia(h,xe()),null}function RM(h,g){var S=Tr;Tr|=1;try{return h(g)}finally{Tr=S,Tr===0&&(og=xe()+500,Ph&&Ya())}}function $h(h){lf!==null&&lf.tag===0&&(Tr&6)===0&&ag();var g=Tr;Tr|=1;var S=el.transition,N=Nn;try{if(el.transition=null,Nn=1,h)return h()}finally{Nn=N,el.transition=S,Tr=g,(Tr&6)===0&&Ya()}}function NM(){Ma=sg.current,$r(sg)}function qh(h,g){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==-1&&(h.timeoutHandle=-1,jv(S)),ns!==null)for(S=ns.return;S!==null;){var N=S;switch(Bl(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Mh();break;case 3:kc(),$r(Ws),$r(fs),Za();break;case 5:nf(N);break;case 4:kc();break;case 13:$r(Qr);break;case 19:$r(Qr);break;case 10:Fh(N.type._context);break;case 22:case 23:NM()}S=S.return}if(Ds=h,ns=h=df(h.current,null),Ys=Ma=g,vs=0,cy=null,AM=G_=Wh=0,ra=uy=null,Ll!==null){for(g=0;g<Ll.length;g++)if(S=Ll[g],N=S.interleaved,N!==null){S.interleaved=null;var j=N.next,G=S.pending;if(G!==null){var se=G.next;G.next=j,N.next=se}S.pending=N}Ll=null}return h}function xL(h,g){do{var S=ns;try{if(ju(),Gu.current=ng,Ea){for(var N=qr.memoizedState;N!==null;){var j=N.queue;j!==null&&(j.pending=null),N=N.next}Ea=!1}if(Ul=0,Er=mi=qr=null,Fs=!1,Lc=0,SM.current=null,S===null||S.return===null){vs=1,cy=g,ns=null;break}e:{var G=h,se=S.return,be=S,Me=g;if(g=Ys,be.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ze=Me,Rt=be,kt=Rt.tag;if((Rt.mode&1)===0&&(kt===0||kt===11||kt===15)){var Tt=Rt.alternate;Tt?(Rt.updateQueue=Tt.updateQueue,Rt.memoizedState=Tt.memoizedState,Rt.lanes=Tt.lanes):(Rt.updateQueue=null,Rt.memoizedState=null)}var on=ln(se);if(on!==null){on.flags&=-257,qn(on,se,be,G,g),on.mode&1&&Ut(G,Ze,g),g=on,Me=Ze;var mn=g.updateQueue;if(mn===null){var xn=new Set;xn.add(Me),g.updateQueue=xn}else mn.add(Me);break e}else{if((g&1)===0){Ut(G,Ze,g),IM();break e}Me=Error(t(426))}}else if(Zr&&be.mode&1){var Gi=ln(se);if(Gi!==null){(Gi.flags&65536)===0&&(Gi.flags|=256),qn(Gi,se,be,G,g),Qd(F(Me,be));break e}}G=Me=F(Me,be),vs!==4&&(vs=2),uy===null?uy=[G]:uy.push(G),G=se;do{switch(G.tag){case 3:G.flags|=65536,g&=-g,G.lanes|=g;var He=Ie(G,Me,g);Uu(G,He);break e;case 1:be=Me;var Re=G.type,$e=G.stateNode;if((G.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(af===null||!af.has($e)))){G.flags|=65536,g&=-g,G.lanes|=g;var Gt=ut(G,be,g);Uu(G,Gt);break e}}G=G.return}while(G!==null)}wL(S)}catch(wn){g=wn,ns===S&&S!==null&&(ns=S=S.return);continue}break}while(!0)}function bL(){var h=H_.current;return H_.current=ng,h===null?ng:h}function IM(){(vs===0||vs===3||vs===2)&&(vs=4),Ds===null||(Wh&268435455)===0&&(G_&268435455)===0||uf(Ds,Ys)}function K_(h,g){var S=Tr;Tr|=2;var N=bL();(Ds!==h||Ys!==g)&&(qu=null,qh(h,g));do try{gne();break}catch(j){xL(h,j)}while(!0);if(ju(),Tr=S,H_.current=N,ns!==null)throw Error(t(261));return Ds=null,Ys=0,vs}function gne(){for(;ns!==null;)_L(ns)}function vne(){for(;ns!==null&&!ee();)_L(ns)}function _L(h){var g=EL(h.alternate,h,Ma);h.memoizedProps=h.pendingProps,g===null?wL(h):ns=g,SM.current=null}function wL(h){var g=h;do{var S=g.alternate;if(h=g.return,(g.flags&32768)===0){if(S=cne(S,g,Ma),S!==null){ns=S;return}}else{if(S=une(S,g),S!==null){S.flags&=32767,ns=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{vs=6,ns=null;return}}if(g=g.sibling,g!==null){ns=g;return}ns=g=h}while(g!==null);vs===0&&(vs=5)}function Xh(h,g,S){var N=Nn,j=el.transition;try{el.transition=null,Nn=1,yne(h,g,S,N)}finally{el.transition=j,Nn=N}return null}function yne(h,g,S,N){do ag();while(lf!==null);if((Tr&6)!==0)throw Error(t(327));S=h.finishedWork;var j=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(t(177));h.callbackNode=null,h.callbackPriority=0;var G=S.lanes|S.childLanes;if(Jr(h,G),h===Ds&&(ns=Ds=null,Ys=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||W_||(W_=!0,CL(dt,function(){return ag(),null})),G=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||G){G=el.transition,el.transition=null;var se=Nn;Nn=1;var be=Tr;Tr|=4,SM.current=null,fne(h,S),fL(S,h),Zi(Bv),Ps=!!Yd,Bv=Yd=null,h.current=S,hne(S),ve(),Tr=be,Nn=se,el.transition=G}else h.current=S;if(W_&&(W_=!1,lf=h,$_=j),G=h.pendingLanes,G===0&&(af=null),Nt(S.stateNode),ia(h,xe()),g!==null)for(N=h.onRecoverableError,S=0;S<g.length;S++)j=g[S],N(j.value,{componentStack:j.stack,digest:j.digest});if(V_)throw V_=!1,h=CM,CM=null,h;return($_&1)!==0&&h.tag!==0&&ag(),G=h.pendingLanes,(G&1)!==0?h===MM?dy++:(dy=0,MM=h):dy=0,Ya(),null}function ag(){if(lf!==null){var h=To($_),g=el.transition,S=Nn;try{if(el.transition=null,Nn=16>h?16:h,lf===null)var N=!1;else{if(h=lf,lf=null,$_=0,(Tr&6)!==0)throw Error(t(331));var j=Tr;for(Tr|=4,hn=h.current;hn!==null;){var G=hn,se=G.child;if((hn.flags&16)!==0){var be=G.deletions;if(be!==null){for(var Me=0;Me<be.length;Me++){var Ze=be[Me];for(hn=Ze;hn!==null;){var Rt=hn;switch(Rt.tag){case 0:case 11:case 15:ly(8,Rt,G)}var kt=Rt.child;if(kt!==null)kt.return=Rt,hn=kt;else for(;hn!==null;){Rt=hn;var Tt=Rt.sibling,on=Rt.return;if(aL(Rt),Rt===Ze){hn=null;break}if(Tt!==null){Tt.return=on,hn=Tt;break}hn=on}}}var mn=G.alternate;if(mn!==null){var xn=mn.child;if(xn!==null){mn.child=null;do{var Gi=xn.sibling;xn.sibling=null,xn=Gi}while(xn!==null)}}hn=G}}if((G.subtreeFlags&2064)!==0&&se!==null)se.return=G,hn=se;else e:for(;hn!==null;){if(G=hn,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:ly(9,G,G.return)}var He=G.sibling;if(He!==null){He.return=G.return,hn=He;break e}hn=G.return}}var Re=h.current;for(hn=Re;hn!==null;){se=hn;var $e=se.child;if((se.subtreeFlags&2064)!==0&&$e!==null)$e.return=se,hn=$e;else e:for(se=Re;hn!==null;){if(be=hn,(be.flags&2048)!==0)try{switch(be.tag){case 0:case 11:case 15:z_(9,be)}}catch(wn){Oi(be,be.return,wn)}if(be===se){hn=null;break e}var Gt=be.sibling;if(Gt!==null){Gt.return=be.return,hn=Gt;break e}hn=be.return}}if(Tr=j,Ya(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Pt,h)}catch{}N=!0}return N}finally{Nn=S,el.transition=g}}return!1}function SL(h,g,S){g=F(S,g),g=Ie(h,g,1),h=ni(h,g,1),g=ko(),h!==null&&(fr(h,1,g),ia(h,g))}function Oi(h,g,S){if(h.tag===3)SL(h,h,S);else for(;g!==null;){if(g.tag===3){SL(g,h,S);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(af===null||!af.has(N))){h=F(S,h),h=ut(g,h,1),g=ni(g,h,1),h=ko(),g!==null&&(fr(g,1,h),ia(g,h));break}}g=g.return}}function xne(h,g,S){var N=h.pingCache;N!==null&&N.delete(g),g=ko(),h.pingedLanes|=h.suspendedLanes&S,Ds===h&&(Ys&S)===S&&(vs===4||vs===3&&(Ys&130023424)===Ys&&500>xe()-EM?qh(h,0):AM|=S),ia(h,g)}function AL(h,g){g===0&&((h.mode&1)===0?g=1:(g=Yt,Yt<<=1,(Yt&130023424)===0&&(Yt=4194304)));var S=ko();h=Sa(h,g),h!==null&&(fr(h,g,S),ia(h,S))}function bne(h){var g=h.memoizedState,S=0;g!==null&&(S=g.retryLane),AL(h,S)}function _ne(h,g){var S=0;switch(h.tag){case 13:var N=h.stateNode,j=h.memoizedState;j!==null&&(S=j.retryLane);break;case 19:N=h.stateNode;break;default:throw Error(t(314))}N!==null&&N.delete(g),AL(h,S)}var EL;EL=function(h,g,S){if(h!==null)if(h.memoizedProps!==g.pendingProps||Ws.current)nr=!0;else{if((h.lanes&S)===0&&(g.flags&128)===0)return nr=!1,lne(h,g,S);nr=(h.flags&131072)!==0}else nr=!1,Zr&&(g.flags&1048576)!==0&&Vv(g,$m,g.index);switch(g.lanes=0,g.tag){case 2:var N=g.type;j_(h,g),h=g.pendingProps;var j=Iu(g,fs.current);Bc(g,S),j=jh(null,g,N,h,j,S);var G=Zv();return g.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Is(N)?(G=!0,Ou(g)):G=!1,g.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Qn(g),j.updater=rg,g.stateNode=j,j._reactInternals=g,T(g,N,h,S),g=Jn(null,g,N,!0,G,S)):(g.tag=0,Zr&&G&&Wv(g),rn(null,g,j,S),g=g.child),g;case 16:N=g.elementType;e:{switch(j_(h,g),h=g.pendingProps,j=N._init,N=j(N._payload),g.type=N,j=g.tag=Sne(N),h=na(N,h),j){case 0:g=Qt(null,g,N,h,S);break e;case 1:g=bn(null,g,N,h,S);break e;case 11:g=gs(null,g,N,h,S);break e;case 14:g=Bo(null,g,N,na(N.type,h),S);break e}throw Error(t(306,N,""))}return g;case 0:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),Qt(h,g,N,j,S);case 1:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),bn(h,g,N,j,S);case 3:e:{if(Xn(g),h===null)throw Error(t(387));N=g.pendingProps,G=g.memoizedState,j=G.element,_i(h,g),pi(g,N,null,S);var se=g.memoizedState;if(N=se.element,G.isDehydrated)if(G={element:N,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},g.updateQueue.baseState=G,g.memoizedState=G,g.flags&256){j=F(Error(t(423)),g),g=_r(h,g,N,S,j);break e}else if(N!==j){j=F(Error(t(424)),g),g=_r(h,g,N,S,j);break e}else for(qs=Nl(g.stateNode.containerInfo.firstChild),hs=g,Zr=!0,ta=null,S=Oh(g,null,N,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Dc(),N===j){g=$u(h,g,S);break e}rn(h,g,N,S)}g=g.child}return g;case 5:return Hu(g),h===null&&Xm(g),N=g.type,j=g.pendingProps,G=h!==null?h.memoizedProps:null,se=j.children,kv(N,j)?se=null:G!==null&&kv(N,G)&&(g.flags|=32),at(h,g),rn(h,g,se,S),g.child;case 6:return h===null&&Xm(g),null;case 13:return Gl(h,g,S);case 4:return kh(g,g.stateNode.containerInfo),N=g.pendingProps,h===null?g.child=Bu(g,null,N,S):rn(h,g,N,S),g.child;case 11:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),gs(h,g,N,j,S);case 7:return rn(h,g,g.pendingProps,S),g.child;case 8:return rn(h,g,g.pendingProps.children,S),g.child;case 12:return rn(h,g,g.pendingProps.children,S),g.child;case 10:e:{if(N=g.type._context,j=g.pendingProps,G=g.memoizedProps,se=j.value,Gr(ku,N._currentValue),N._currentValue=se,G!==null)if(Po(G.value,se)){if(G.children===j.children&&!Ws.current){g=$u(h,g,S);break e}}else for(G=g.child,G!==null&&(G.return=g);G!==null;){var be=G.dependencies;if(be!==null){se=G.child;for(var Me=be.firstContext;Me!==null;){if(Me.context===N){if(G.tag===1){Me=Lr(-1,S&-S),Me.tag=2;var Ze=G.updateQueue;if(Ze!==null){Ze=Ze.shared;var Rt=Ze.pending;Rt===null?Me.next=Me:(Me.next=Rt.next,Rt.next=Me),Ze.pending=Me}}G.lanes|=S,Me=G.alternate,Me!==null&&(Me.lanes|=S),Dh(G.return,S,g),be.lanes|=S;break}Me=Me.next}}else if(G.tag===10)se=G.type===g.type?null:G.child;else if(G.tag===18){if(se=G.return,se===null)throw Error(t(341));se.lanes|=S,be=se.alternate,be!==null&&(be.lanes|=S),Dh(se,S,g),se=G.sibling}else se=G.child;if(se!==null)se.return=G;else for(se=G;se!==null;){if(se===g){se=null;break}if(G=se.sibling,G!==null){G.return=se.return,se=G;break}se=se.return}G=se}rn(h,g,j.children,S),g=g.child}return g;case 9:return j=g.type,N=g.pendingProps.children,Bc(g,S),j=Io(j),N=N(j),g.flags|=1,rn(h,g,N,S),g.child;case 14:return N=g.type,j=na(N,g.pendingProps),j=na(N.type,j),Bo(h,g,N,j,S);case 15:return qe(h,g,g.type,g.pendingProps,S);case 17:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),j_(h,g),g.tag=1,Is(N)?(h=!0,Ou(g)):h=!1,Bc(g,S),x(g,N,j),T(g,N,j,S),Jn(null,g,N,!0,h,S);case 19:return nL(h,g,S);case 22:return De(h,g,S)}throw Error(t(156,g.tag))};function CL(h,g){return Mt(h,g)}function wne(h,g,S,N){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tl(h,g,S,N){return new wne(h,g,S,N)}function OM(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Sne(h){if(typeof h=="function")return OM(h)?1:0;if(h!=null){if(h=h.$$typeof,h===W)return 11;if(h===ie)return 14}return 2}function df(h,g){var S=h.alternate;return S===null?(S=tl(h.tag,g,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=g,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,g=h.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function Y_(h,g,S,N,j,G){var se=2;if(N=h,typeof h=="function")OM(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case O:return Kh(S.children,j,G,g);case k:se=8,j|=8;break;case D:return h=tl(12,S,g,j|2),h.elementType=D,h.lanes=G,h;case q:return h=tl(13,S,g,j),h.elementType=q,h.lanes=G,h;case K:return h=tl(19,S,g,j),h.elementType=K,h.lanes=G,h;case J:return J_(S,j,G,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:se=10;break e;case L:se=9;break e;case W:se=11;break e;case ie:se=14;break e;case V:se=16,N=null;break e}throw Error(t(130,h==null?h:typeof h,""))}return g=tl(se,S,g,j),g.elementType=h,g.type=N,g.lanes=G,g}function Kh(h,g,S,N){return h=tl(7,h,N,g),h.lanes=S,h}function J_(h,g,S,N){return h=tl(22,h,N,g),h.elementType=J,h.lanes=S,h.stateNode={isHidden:!1},h}function FM(h,g,S){return h=tl(6,h,null,g),h.lanes=S,h}function DM(h,g,S){return g=tl(4,h.children!==null?h.children:[],h.key,g),g.lanes=S,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function Ane(h,g,S,N,j){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dr(0),this.expirationTimes=dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.identifierPrefix=N,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function BM(h,g,S,N,j,G,se,be,Me){return h=new Ane(h,g,S,be,Me),g===1?(g=1,G===!0&&(g|=8)):g=0,G=tl(3,null,null,g),h.current=G,G.stateNode=h,G.memoizedState={element:N,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qn(G),h}function Ene(h,g,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:N==null?null:""+N,children:h,containerInfo:g,implementation:S}}function ML(h){if(!h)return Ol;h=h._reactInternals;e:{if(le(h)!==h||h.tag!==1)throw Error(t(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Is(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(t(171))}if(h.tag===1){var S=h.type;if(Is(S))return Th(h,S,g)}return g}function TL(h,g,S,N,j,G,se,be,Me){return h=BM(S,N,!0,h,j,G,se,be,Me),h.context=ML(null),S=h.current,N=ko(),j=cf(S),G=Lr(N,j),G.callback=g??null,ni(S,G,j),h.current.lanes=j,fr(h,j,N),ia(h,N),h}function Z_(h,g,S,N){var j=g.current,G=ko(),se=cf(j);return S=ML(S),g.context===null?g.context=S:g.pendingContext=S,g=Lr(G,se),g.payload={element:h},N=N===void 0?null:N,N!==null&&(g.callback=N),h=ni(j,g,se),h!==null&&($l(h,j,se,G),Os(h,j,se)),se}function Q_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function PL(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<g?S:g}}function kM(h,g){PL(h,g),(h=h.alternate)&&PL(h,g)}function Cne(){return null}var RL=typeof reportError=="function"?reportError:function(h){console.error(h)};function LM(h){this._internalRoot=h}e1.prototype.render=LM.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(t(409));Z_(h,g,null,null)},e1.prototype.unmount=LM.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;$h(function(){Z_(null,h,null,null)}),g[No]=null}};function e1(h){this._internalRoot=h}e1.prototype.unstable_scheduleHydration=function(h){if(h){var g=za();h={blockedOn:null,target:h,priority:g};for(var S=0;S<Ha.length&&g!==0&&g<Ha[S].priority;S++);Ha.splice(S,0,h),S===0&&Va(h)}};function jM(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function t1(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function NL(){}function Mne(h,g,S,N,j){if(j){if(typeof N=="function"){var G=N;N=function(){var Ze=Q_(se);G.call(Ze)}}var se=TL(g,N,h,0,null,!1,!1,"",NL);return h._reactRootContainer=se,h[No]=se.current,Xd(h.nodeType===8?h.parentNode:h),$h(),se}for(;j=h.lastChild;)h.removeChild(j);if(typeof N=="function"){var be=N;N=function(){var Ze=Q_(Me);be.call(Ze)}}var Me=BM(h,0,!1,null,null,!1,!1,"",NL);return h._reactRootContainer=Me,h[No]=Me.current,Xd(h.nodeType===8?h.parentNode:h),$h(function(){Z_(g,Me,S,N)}),Me}function n1(h,g,S,N,j){var G=S._reactRootContainer;if(G){var se=G;if(typeof j=="function"){var be=j;j=function(){var Me=Q_(se);be.call(Me)}}Z_(g,se,h,j)}else se=Mne(S,g,h,j,N);return Q_(se)}Ki=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var S=Ln(g.pendingLanes);S!==0&&(ti(g,S|1),ia(g,xe()),(Tr&6)===0&&(og=xe()+500,Ya()))}break;case 13:$h(function(){var N=Sa(h,1);if(N!==null){var j=ko();$l(N,h,1,j)}}),kM(h,1)}},Id=function(h){if(h.tag===13){var g=Sa(h,134217728);if(g!==null){var S=ko();$l(g,h,134217728,S)}kM(h,134217728)}},ph=function(h){if(h.tag===13){var g=cf(h),S=Sa(h,g);if(S!==null){var N=ko();$l(S,h,g,N)}kM(h,g)}},za=function(){return Nn},Od=function(h,g){var S=Nn;try{return Nn=h,g()}finally{Nn=S}},Le=function(h,g,S){switch(g){case"input":if(ct(h,S),g=S.name,S.type==="radio"&&g!=null){for(S=h;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var N=S[g];if(N!==h&&N.form===h.form){var j=Gm(N);if(!j)throw Error(t(90));ze(N),ct(N,j)}}}break;case"textarea":te(h,S);break;case"select":g=S.value,g!=null&&st(h,!!S.multiple,g,!1)}},jt=RM,_n=$h;var Tne={usingClientEntryPoint:!1,Events:[Il,bi,Gm,je,_t,RM]},fy={findFiberByHostInstance:Fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pne={bundleType:fy.bundleType,version:fy.version,rendererPackageName:fy.rendererPackageName,rendererConfig:fy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=it(h),h===null?null:h.stateNode},findFiberByHostInstance:fy.findFiberByHostInstance||Cne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r1.isDisabled&&r1.supportsFiber)try{Pt=r1.inject(Pne),At=r1}catch{}}return sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tne,sa.createPortal=function(h,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jM(g))throw Error(t(200));return Ene(h,g,null,S)},sa.createRoot=function(h,g){if(!jM(h))throw Error(t(299));var S=!1,N="",j=RL;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(j=g.onRecoverableError)),g=BM(h,1,!1,null,null,S,!1,N,j),h[No]=g.current,Xd(h.nodeType===8?h.parentNode:h),new LM(g)},sa.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(t(188)):(h=Object.keys(h).join(","),Error(t(268,h)));return h=it(g),h=h===null?null:h.stateNode,h},sa.flushSync=function(h){return $h(h)},sa.hydrate=function(h,g,S){if(!t1(g))throw Error(t(200));return n1(null,h,g,!0,S)},sa.hydrateRoot=function(h,g,S){if(!jM(h))throw Error(t(405));var N=S!=null&&S.hydratedSources||null,j=!1,G="",se=RL;if(S!=null&&(S.unstable_strictMode===!0&&(j=!0),S.identifierPrefix!==void 0&&(G=S.identifierPrefix),S.onRecoverableError!==void 0&&(se=S.onRecoverableError)),g=TL(g,null,h,1,S??null,j,!1,G,se),h[No]=g.current,Xd(h),N)for(h=0;h<N.length;h++)S=N[h],j=S._getVersion,j=j(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,j]:g.mutableSourceEagerHydrationData.push(S,j);return new e1(g)},sa.render=function(h,g,S){if(!t1(g))throw Error(t(200));return n1(null,h,g,!1,S)},sa.unmountComponentAtNode=function(h){if(!t1(h))throw Error(t(40));return h._reactRootContainer?($h(function(){n1(null,null,h,!1,function(){h._reactRootContainer=null,h[No]=null})}),!0):!1},sa.unstable_batchedUpdates=RM,sa.unstable_renderSubtreeIntoContainer=function(h,g,S,N){if(!t1(S))throw Error(t(200));if(h==null||h._reactInternals===void 0)throw Error(t(38));return n1(h,g,S,!1,N)},sa.version="18.3.1-next-f1338f8080-20240426",sa}var jL;function B7(){if(jL)return HM.exports;jL=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),HM.exports=kne(),HM.exports}var UL;function Lne(){if(UL)return i1;UL=1;var n=B7();return i1.createRoot=n.createRoot,i1.hydrateRoot=n.hydrateRoot,i1}var jne=Lne();const Une=Hr(jne);var Fb=B7();const k7=Hr(Fb);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sx(){return Sx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sx.apply(this,arguments)}var If;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(If||(If={}));const zL="popstate";function zne(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return z3("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:j7(i)}return Gne(e,t,null,n)}function cs(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function L7(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hne(){return Math.random().toString(36).substr(2,8)}function HL(n,e){return{usr:n.state,key:n.key,idx:e}}function z3(n,e,t,r){return t===void 0&&(t=null),Sx({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?iv(e):e,{state:t,key:e&&e.key||r||Hne()})}function j7(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function iv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Gne(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=If.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Sx({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){a=If.Pop;let y=d(),w=y==null?null:y-u;u=y,l&&l({action:a,location:b.location,delta:w})}function f(y,w){a=If.Push;let A=z3(b.location,y,w);u=d()+1;let E=HL(A,u),C=b.createHref(A);try{o.pushState(E,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(C)}s&&l&&l({action:a,location:b.location,delta:1})}function m(y,w){a=If.Replace;let A=z3(b.location,y,w);u=d();let E=HL(A,u),C=b.createHref(A);o.replaceState(E,"",C),s&&l&&l({action:a,location:b.location,delta:0})}function v(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof y=="string"?y:j7(y);return A=A.replace(/ $/,"%20"),cs(w,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,w)}let b={get action(){return a},get location(){return n(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zL,c),l=y,()=>{i.removeEventListener(zL,c),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let w=v(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(y){return o.go(y)}};return b}var GL;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(GL||(GL={}));function Vne(n,e,t){return t===void 0&&(t="/"),Wne(n,e,t)}function Wne(n,e,t,r){let i=typeof e=="string"?iv(e):e,s=H7(i.pathname||"/",t);if(s==null)return null;let o=U7(n);$ne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ire(s);a=tre(o[l],u)}return a}function U7(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(cs(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=kp([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(cs(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U7(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Qne(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of z7(s.path))i(s,o,l)}),e}function z7(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=z7(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function $ne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ere(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const qne=/^:[\w-]+$/,Xne=3,Kne=2,Yne=1,Jne=10,Zne=-2,VL=n=>n==="*";function Qne(n,e){let t=n.split("/"),r=t.length;return t.some(VL)&&(r+=Zne),e&&(r+=Kne),t.filter(i=>!VL(i)).reduce((i,s)=>i+(qne.test(s)?Xne:s===""?Yne:Jne),r)}function ere(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function tre(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",c=nre({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:kp([s,c.pathname]),pathnameBase:lre(kp([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=kp([s,c.pathnameBase]))}return o}function nre(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rre(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let b=a[c]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[c];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function rre(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),L7(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ire(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L7(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function H7(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sre(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?iv(n):n;return{pathname:t?t.startsWith("/")?t:ore(t,e):e,search:cre(r),hash:ure(i)}}function ore(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function WM(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function are(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G7(n,e){let t=are(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function V7(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=iv(n):(i=Sx({},n),cs(!i.pathname||!i.pathname.includes("?"),WM("?","pathname","search",i)),cs(!i.pathname||!i.pathname.includes("#"),WM("#","pathname","hash",i)),cs(!i.search||!i.search.includes("#"),WM("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let c=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=sre(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const kp=n=>n.join("/").replace(/\/\/+/g,"/"),lre=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ure=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dre(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const W7=["post","put","patch","delete"];new Set(W7);const fre=["get",...W7];new Set(fre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ax(){return Ax=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ax.apply(this,arguments)}const TF=B.createContext(null),hre=B.createContext(null),Db=B.createContext(null),cE=B.createContext(null),fm=B.createContext({outlet:null,matches:[],isDataRoute:!1}),$7=B.createContext(null);function Bb(){return B.useContext(cE)!=null}function hm(){return Bb()||cs(!1),B.useContext(cE).location}function q7(n){B.useContext(Db).static||B.useLayoutEffect(n)}function Td(){let{isDataRoute:n}=B.useContext(fm);return n?Cre():pre()}function pre(){Bb()||cs(!1);let n=B.useContext(TF),{basename:e,future:t,navigator:r}=B.useContext(Db),{matches:i}=B.useContext(fm),{pathname:s}=hm(),o=JSON.stringify(G7(i,t.v7_relativeSplatPath)),a=B.useRef(!1);return q7(()=>{a.current=!0}),B.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let c=V7(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:kp([e,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[e,r,o,s,n])}function mre(n,e){return gre(n,e)}function gre(n,e,t,r){Bb()||cs(!1);let{navigator:i}=B.useContext(Db),{matches:s}=B.useContext(fm),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hm(),d;if(e){var c;let y=typeof e=="string"?iv(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||cs(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Vne(n,{pathname:m}),b=_re(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:kp([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:kp([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r);return e&&b?B.createElement(cE.Provider,{value:{location:Ax({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:If.Pop}},b):b}function vre(){let n=Ere(),e=dre(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:i},t):null,null)}const yre=B.createElement(vre,null);class xre extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(fm.Provider,{value:this.props.routeContext},B.createElement($7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bre(n){let{routeContext:e,match:t,children:r}=n,i=B.useContext(TF);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(fm.Provider,{value:e},r)}function _re(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(c=>c.route.id&&a?.[c.route.id]!==void 0);d>=0||cs(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:m}=t,v=c.route.loader&&f[c.route.id]===void 0&&(!m||m[c.route.id]===void 0);if(c.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,f)=>{let m,v=!1,b=null,y=null;t&&(m=a&&c.route.id?a[c.route.id]:void 0,b=c.route.errorElement||yre,l&&(u<0&&f===0?(Mre("route-fallback"),v=!0,y=null):u===f&&(v=!0,y=c.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),A=()=>{let E;return m?E=b:v?E=y:c.route.Component?E=B.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=d,B.createElement(bre,{match:c,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:E})};return t&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?B.createElement(xre,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):A()},null)}var X7=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(X7||{}),K7=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(K7||{});function wre(n){let e=B.useContext(TF);return e||cs(!1),e}function Sre(n){let e=B.useContext(hre);return e||cs(!1),e}function Are(n){let e=B.useContext(fm);return e||cs(!1),e}function Y7(n){let e=Are(),t=e.matches[e.matches.length-1];return t.route.id||cs(!1),t.route.id}function Ere(){var n;let e=B.useContext($7),t=Sre(),r=Y7();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Cre(){let{router:n}=wre(X7.UseNavigateStable),e=Y7(K7.UseNavigateStable),t=B.useRef(!1);return q7(()=>{t.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Ax({fromRouteId:e},s)))},[n,e])}const WL={};function Mre(n,e,t){WL[n]||(WL[n]=!0)}function Tre(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function J7(n){let{to:e,replace:t,state:r,relative:i}=n;Bb()||cs(!1);let{future:s,static:o}=B.useContext(Db),{matches:a}=B.useContext(fm),{pathname:l}=hm(),u=Td(),d=V7(e,G7(a,s.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(d);return B.useEffect(()=>u(JSON.parse(c),{replace:t,state:r,relative:i}),[u,c,i,t,r]),null}function Fw(n){cs(!1)}function Pre(n){let{basename:e="/",children:t=null,location:r,navigationType:i=If.Pop,navigator:s,static:o=!1,future:a}=n;Bb()&&cs(!1);let l=e.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:s,static:o,future:Ax({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=iv(r));let{pathname:d="/",search:c="",hash:f="",state:m=null,key:v="default"}=r,b=B.useMemo(()=>{let y=H7(d,l);return y==null?null:{location:{pathname:y,search:c,hash:f,state:m,key:v},navigationType:i}},[l,d,c,f,m,v,i]);return b==null?null:B.createElement(Db.Provider,{value:u},B.createElement(cE.Provider,{children:t,value:b}))}function Rre(n){let{children:e,location:t}=n;return mre(H3(e),t)}new Promise(()=>{});function H3(n,e){e===void 0&&(e=[]);let t=[];return B.Children.forEach(n,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){t.push.apply(t,H3(r.props.children,s));return}r.type!==Fw&&cs(!1),!r.props.index||!r.props.children||cs(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=H3(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Nre="6";try{window.__reactRouterVersion=Nre}catch{}const Ire="startTransition",$L=MF[Ire];function Ore(n){let{basename:e,children:t,future:r,window:i}=n,s=B.useRef();s.current==null&&(s.current=zne({window:i,v5Compat:!0}));let o=s.current,[a,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=B.useCallback(c=>{u&&$L?$L(()=>l(c)):l(c)},[l,u]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.useEffect(()=>Tre(r),[r]),B.createElement(Pre,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var qL;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(qL||(qL={}));var XL;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(XL||(XL={}));function Z7(n,e){return function(){return n.apply(e,arguments)}}const{toString:Fre}=Object.prototype,{getPrototypeOf:PF}=Object,{iterator:uE,toStringTag:Q7}=Symbol,dE=(n=>e=>{const t=Fre.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pc=n=>(n=n.toLowerCase(),e=>dE(e)===n),fE=n=>e=>typeof e===n,{isArray:sv}=Array,h0=fE("undefined");function kb(n){return n!==null&&!h0(n)&&n.constructor!==null&&!h0(n.constructor)&&ha(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const eW=pc("ArrayBuffer");function Dre(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&eW(n.buffer),e}const Bre=fE("string"),ha=fE("function"),tW=fE("number"),Lb=n=>n!==null&&typeof n=="object",kre=n=>n===!0||n===!1,Dw=n=>{if(dE(n)!=="object")return!1;const e=PF(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Q7 in n)&&!(uE in n)},Lre=n=>{if(!Lb(n)||kb(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},jre=pc("Date"),Ure=pc("File"),zre=pc("Blob"),Hre=pc("FileList"),Gre=n=>Lb(n)&&ha(n.pipe),Vre=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ha(n.append)&&((e=dE(n))==="formdata"||e==="object"&&ha(n.toString)&&n.toString()==="[object FormData]"))},Wre=pc("URLSearchParams"),[$re,qre,Xre,Kre]=["ReadableStream","Request","Response","Headers"].map(pc),Yre=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jb(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),sv(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(kb(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function nW(n,e){if(kb(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const wp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rW=n=>!h0(n)&&n!==wp;function G3(){const{caseless:n,skipUndefined:e}=rW(this)&&this||{},t={},r=(i,s)=>{const o=n&&nW(t,s)||s;Dw(t[o])&&Dw(i)?t[o]=G3(t[o],i):Dw(i)?t[o]=G3({},i):sv(i)?t[o]=i.slice():(!e||!h0(i))&&(t[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&jb(arguments[i],r);return t}const Jre=(n,e,t,{allOwnKeys:r}={})=>(jb(e,(i,s)=>{t&&ha(i)?n[s]=Z7(i,t):n[s]=i},{allOwnKeys:r}),n),Zre=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Qre=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},eie=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&PF(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},tie=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},nie=n=>{if(!n)return null;if(sv(n))return n;let e=n.length;if(!tW(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},rie=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&PF(Uint8Array)),iie=(n,e)=>{const r=(n&&n[uE]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},sie=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},oie=pc("HTMLFormElement"),aie=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),KL=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),lie=pc("RegExp"),iW=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};jb(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},cie=n=>{iW(n,(e,t)=>{if(ha(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ha(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},uie=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return sv(n)?r(n):r(String(n).split(e)),t},die=()=>{},fie=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function hie(n){return!!(n&&ha(n.append)&&n[Q7]==="FormData"&&n[uE])}const pie=n=>{const e=new Array(10),t=(r,i)=>{if(Lb(r)){if(e.indexOf(r)>=0)return;if(kb(r))return r;if(!("toJSON"in r)){e[i]=r;const s=sv(r)?[]:{};return jb(r,(o,a)=>{const l=t(o,i+1);!h0(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},mie=pc("AsyncFunction"),gie=n=>n&&(Lb(n)||ha(n))&&ha(n.then)&&ha(n.catch),sW=((n,e)=>n?setImmediate:e?((t,r)=>(wp.addEventListener("message",({source:i,data:s})=>{i===wp&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),wp.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ha(wp.postMessage)),vie=typeof queueMicrotask<"u"?queueMicrotask.bind(wp):typeof process<"u"&&process.nextTick||sW,yie=n=>n!=null&&ha(n[uE]),Qe={isArray:sv,isArrayBuffer:eW,isBuffer:kb,isFormData:Vre,isArrayBufferView:Dre,isString:Bre,isNumber:tW,isBoolean:kre,isObject:Lb,isPlainObject:Dw,isEmptyObject:Lre,isReadableStream:$re,isRequest:qre,isResponse:Xre,isHeaders:Kre,isUndefined:h0,isDate:jre,isFile:Ure,isBlob:zre,isRegExp:lie,isFunction:ha,isStream:Gre,isURLSearchParams:Wre,isTypedArray:rie,isFileList:Hre,forEach:jb,merge:G3,extend:Jre,trim:Yre,stripBOM:Zre,inherits:Qre,toFlatObject:eie,kindOf:dE,kindOfTest:pc,endsWith:tie,toArray:nie,forEachEntry:iie,matchAll:sie,isHTMLForm:oie,hasOwnProperty:KL,hasOwnProp:KL,reduceDescriptors:iW,freezeMethods:cie,toObjectSet:uie,toCamelCase:aie,noop:die,toFiniteNumber:fie,findKey:nW,global:wp,isContextDefined:rW,isSpecCompliantForm:hie,toJSONObject:pie,isAsyncFn:mie,isThenable:gie,setImmediate:sW,asap:vie,isIterable:yie};function sr(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Qe.inherits(sr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qe.toJSONObject(this.config),code:this.code,status:this.status}}});const oW=sr.prototype,aW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{aW[n]={value:n}});Object.defineProperties(sr,aW);Object.defineProperty(oW,"isAxiosError",{value:!0});sr.from=(n,e,t,r,i,s)=>{const o=Object.create(oW);Qe.toFlatObject(n,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return sr.call(o,a,l,t,r,i),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",s&&Object.assign(o,s),o};const xie=null;function V3(n){return Qe.isPlainObject(n)||Qe.isArray(n)}function lW(n){return Qe.endsWith(n,"[]")?n.slice(0,-2):n}function YL(n,e,t){return n?n.concat(e).map(function(i,s){return i=lW(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function bie(n){return Qe.isArray(n)&&!n.some(V3)}const _ie=Qe.toFlatObject(Qe,{},null,function(e){return/^is[A-Z]/.test(e)});function hE(n,e,t){if(!Qe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Qe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Qe.isUndefined(y[b])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Qe.isSpecCompliantForm(e);if(!Qe.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Qe.isDate(v))return v.toISOString();if(Qe.isBoolean(v))return v.toString();if(!l&&Qe.isBlob(v))throw new sr("Blob is not supported. Use a Buffer instead.");return Qe.isArrayBuffer(v)||Qe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,b,y){let w=v;if(v&&!y&&typeof v=="object"){if(Qe.endsWith(b,"{}"))b=r?b:b.slice(0,-2),v=JSON.stringify(v);else if(Qe.isArray(v)&&bie(v)||(Qe.isFileList(v)||Qe.endsWith(b,"[]"))&&(w=Qe.toArray(v)))return b=lW(b),w.forEach(function(E,C){!(Qe.isUndefined(E)||E===null)&&e.append(o===!0?YL([b],C,s):o===null?b:b+"[]",u(E))}),!1}return V3(v)?!0:(e.append(YL(y,b,s),u(v)),!1)}const c=[],f=Object.assign(_ie,{defaultVisitor:d,convertValue:u,isVisitable:V3});function m(v,b){if(!Qe.isUndefined(v)){if(c.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));c.push(v),Qe.forEach(v,function(w,A){(!(Qe.isUndefined(w)||w===null)&&i.call(e,w,Qe.isString(A)?A.trim():A,b,f))===!0&&m(w,b?b.concat(A):[A])}),c.pop()}}if(!Qe.isObject(n))throw new TypeError("data must be an object");return m(n),e}function JL(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function RF(n,e){this._pairs=[],n&&hE(n,this,e)}const cW=RF.prototype;cW.append=function(e,t){this._pairs.push([e,t])};cW.toString=function(e){const t=e?function(r){return e.call(this,r,JL)}:JL;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function wie(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uW(n,e,t){if(!e)return n;const r=t&&t.encode||wie;Qe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=Qe.isURLSearchParams(e)?e.toString():new RF(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class ZL{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Qe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sie=typeof URLSearchParams<"u"?URLSearchParams:RF,Aie=typeof FormData<"u"?FormData:null,Eie=typeof Blob<"u"?Blob:null,Cie={isBrowser:!0,classes:{URLSearchParams:Sie,FormData:Aie,Blob:Eie},protocols:["http","https","file","blob","url","data"]},NF=typeof window<"u"&&typeof document<"u",W3=typeof navigator=="object"&&navigator||void 0,Mie=NF&&(!W3||["ReactNative","NativeScript","NS"].indexOf(W3.product)<0),Tie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pie=NF&&window.location.href||"http://localhost",Rie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:NF,hasStandardBrowserEnv:Mie,hasStandardBrowserWebWorkerEnv:Tie,navigator:W3,origin:Pie},Symbol.toStringTag,{value:"Module"})),wo={...Rie,...Cie};function Nie(n,e){return hE(n,new wo.classes.URLSearchParams,{visitor:function(t,r,i,s){return wo.isNode&&Qe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Iie(n){return Qe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Oie(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function fW(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Qe.isArray(i)?i.length:o,l?(Qe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Qe.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Qe.isArray(i[o])&&(i[o]=Oie(i[o])),!a)}if(Qe.isFormData(n)&&Qe.isFunction(n.entries)){const t={};return Qe.forEachEntry(n,(r,i)=>{e(Iie(r),i,t,0)}),t}return null}function Fie(n,e,t){if(Qe.isString(n))try{return(e||JSON.parse)(n),Qe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ub={transitional:dW,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Qe.isObject(e);if(s&&Qe.isHTMLForm(e)&&(e=new FormData(e)),Qe.isFormData(e))return i?JSON.stringify(fW(e)):e;if(Qe.isArrayBuffer(e)||Qe.isBuffer(e)||Qe.isStream(e)||Qe.isFile(e)||Qe.isBlob(e)||Qe.isReadableStream(e))return e;if(Qe.isArrayBufferView(e))return e.buffer;if(Qe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Nie(e,this.formSerializer).toString();if((a=Qe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hE(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),Fie(e)):e}],transformResponse:[function(e){const t=this.transitional||Ub.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Qe.isResponse(e)||Qe.isReadableStream(e))return e;if(e&&Qe.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?sr.from(a,sr.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wo.classes.FormData,Blob:wo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qe.forEach(["delete","get","head","post","put","patch"],n=>{Ub.headers[n]={}});const Die=Qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bie=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&Die[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},QL=Symbol("internals");function py(n){return n&&String(n).trim().toLowerCase()}function Bw(n){return n===!1||n==null?n:Qe.isArray(n)?n.map(Bw):String(n)}function kie(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Lie=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function $M(n,e,t,r,i){if(Qe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Qe.isString(e)){if(Qe.isString(r))return e.indexOf(r)!==-1;if(Qe.isRegExp(r))return r.test(e)}}function jie(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Uie(n,e){const t=Qe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let pa=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const d=py(l);if(!d)throw new Error("header name must be a non-empty string");const c=Qe.findKey(i,d);(!c||i[c]===void 0||u===!0||u===void 0&&i[c]!==!1)&&(i[c||l]=Bw(a))}const o=(a,l)=>Qe.forEach(a,(u,d)=>s(u,d,l));if(Qe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Qe.isString(e)&&(e=e.trim())&&!Lie(e))o(Bie(e),t);else if(Qe.isObject(e)&&Qe.isIterable(e)){let a={},l,u;for(const d of e){if(!Qe.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?Qe.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=py(e),e){const r=Qe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return kie(i);if(Qe.isFunction(t))return t.call(this,i,r);if(Qe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=py(e),e){const r=Qe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||$M(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=py(o),o){const a=Qe.findKey(r,o);a&&(!t||$M(r,r[a],a,t))&&(delete r[a],i=!0)}}return Qe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||$M(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Qe.forEach(this,(i,s)=>{const o=Qe.findKey(r,s);if(o){t[o]=Bw(i),delete t[s];return}const a=e?jie(s):String(s).trim();a!==s&&delete t[s],t[a]=Bw(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Qe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Qe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[QL]=this[QL]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=py(o);r[a]||(Uie(i,o),r[a]=!0)}return Qe.isArray(e)?e.forEach(s):s(e),this}};pa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Qe.reduceDescriptors(pa.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Qe.freezeMethods(pa);function qM(n,e){const t=this||Ub,r=e||t,i=pa.from(r.headers);let s=r.data;return Qe.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hW(n){return!!(n&&n.__CANCEL__)}function ov(n,e,t){sr.call(this,n??"canceled",sr.ERR_CANCELED,e,t),this.name="CanceledError"}Qe.inherits(ov,sr,{__CANCEL__:!0});function pW(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new sr("Request failed with status code "+t.status,[sr.ERR_BAD_REQUEST,sr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zie(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Hie(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),t[i]=l,r[i]=u;let c=s,f=0;for(;c!==i;)f+=t[c++],c=c%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function Gie(n,e){let t=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n(...u)};return[(...u)=>{const d=Date.now(),c=d-t;c>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-c)))},()=>i&&o(i)]}const eS=(n,e,t=3)=>{let r=0;const i=Hie(50,250);return Gie(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(c)},t)},ej=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tj=n=>(...e)=>Qe.asap(()=>n(...e)),Vie=wo.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,wo.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(wo.origin),wo.navigator&&/(msie|trident)/i.test(wo.navigator.userAgent)):()=>!0,Wie=wo.hasStandardBrowserEnv?{write(n,e,t,r,i,s,o){if(typeof document>"u")return;const a=[`${n}=${encodeURIComponent(e)}`];Qe.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),Qe.isString(r)&&a.push(`path=${r}`),Qe.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),Qe.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $ie(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function qie(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mW(n,e,t){let r=!$ie(e);return n&&(r||t==!1)?qie(n,e):e}const nj=n=>n instanceof pa?{...n}:n;function Kp(n,e){e=e||{};const t={};function r(u,d,c,f){return Qe.isPlainObject(u)&&Qe.isPlainObject(d)?Qe.merge.call({caseless:f},u,d):Qe.isPlainObject(d)?Qe.merge({},d):Qe.isArray(d)?d.slice():d}function i(u,d,c,f){if(Qe.isUndefined(d)){if(!Qe.isUndefined(u))return r(void 0,u,c,f)}else return r(u,d,c,f)}function s(u,d){if(!Qe.isUndefined(d))return r(void 0,d)}function o(u,d){if(Qe.isUndefined(d)){if(!Qe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,c){if(c in e)return r(u,d);if(c in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,c)=>i(nj(u),nj(d),c,!0)};return Qe.forEach(Object.keys({...n,...e}),function(d){const c=l[d]||i,f=c(n[d],e[d],d);Qe.isUndefined(f)&&c!==a||(t[d]=f)}),t}const gW=n=>{const e=Kp({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=pa.from(o),e.url=uW(mW(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Qe.isFormData(t)){if(wo.hasStandardBrowserEnv||wo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Qe.isFunction(t.getHeaders)){const l=t.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,c])=>{u.includes(d.toLowerCase())&&o.set(d,c)})}}if(wo.hasStandardBrowserEnv&&(r&&Qe.isFunction(r)&&(r=r(e)),r||r!==!1&&Vie(e.url))){const l=i&&s&&Wie.read(s);l&&o.set(i,l)}return e},Xie=typeof XMLHttpRequest<"u",Kie=Xie&&function(n){return new Promise(function(t,r){const i=gW(n);let s=i.data;const o=pa.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,c,f,m,v;function b(){m&&m(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const E=pa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:n,request:y};pW(function(O){t(O),b()},function(O){r(O),b()},M),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new sr("Request aborted",sr.ECONNABORTED,n,y)),y=null)},y.onerror=function(C){const M=C&&C.message?C.message:"Network Error",P=new sr(M,sr.ERR_NETWORK,n,y);P.event=C||null,r(P),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||dW;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new sr(C,M.clarifyTimeoutError?sr.ETIMEDOUT:sr.ECONNABORTED,n,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Qe.forEach(o.toJSON(),function(C,M){y.setRequestHeader(M,C)}),Qe.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([f,v]=eS(u,!0),y.addEventListener("progress",f)),l&&y.upload&&([c,m]=eS(l),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=E=>{y&&(r(!E||E.type?new ov(null,n,y):E),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const A=zie(i.url);if(A&&wo.protocols.indexOf(A)===-1){r(new sr("Unsupported protocol "+A+":",sr.ERR_BAD_REQUEST,n));return}y.send(s||null)})},Yie=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof sr?d:new ov(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new sr(`timeout ${e} of ms exceeded`,sr.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Qe.asap(a),l}},Jie=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Zie=async function*(n,e){for await(const t of Qie(n))yield*Jie(t,e)},Qie=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},rj=(n,e,t,r)=>{const i=Zie(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let c=d.byteLength;if(t){let f=s+=c;t(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ij=64*1024,{isFunction:s1}=Qe,ese=(({Request:n,Response:e})=>({Request:n,Response:e}))(Qe.global),{ReadableStream:sj,TextEncoder:oj}=Qe.global,aj=(n,...e)=>{try{return!!n(...e)}catch{return!1}},tse=n=>{n=Qe.merge.call({skipUndefined:!0},ese,n);const{fetch:e,Request:t,Response:r}=n,i=e?s1(e):typeof fetch=="function",s=s1(t),o=s1(r);if(!i)return!1;const a=i&&s1(sj),l=i&&(typeof oj=="function"?(v=>b=>v.encode(b))(new oj):async v=>new Uint8Array(await new t(v).arrayBuffer())),u=s&&a&&aj(()=>{let v=!1;const b=new t(wo.origin,{body:new sj,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!b}),d=o&&a&&aj(()=>Qe.isReadableStream(new r("").body)),c={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!c[v]&&(c[v]=(b,y)=>{let w=b&&b[v];if(w)return w.call(b);throw new sr(`Response type '${v}' is not supported`,sr.ERR_NOT_SUPPORT,y)})});const f=async v=>{if(v==null)return 0;if(Qe.isBlob(v))return v.size;if(Qe.isSpecCompliantForm(v))return(await new t(wo.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Qe.isArrayBufferView(v)||Qe.isArrayBuffer(v))return v.byteLength;if(Qe.isURLSearchParams(v)&&(v=v+""),Qe.isString(v))return(await l(v)).byteLength},m=async(v,b)=>{const y=Qe.toFiniteNumber(v.getContentLength());return y??f(b)};return async v=>{let{url:b,method:y,data:w,signal:A,cancelToken:E,timeout:C,onDownloadProgress:M,onUploadProgress:P,responseType:O,headers:k,withCredentials:D="same-origin",fetchOptions:I}=gW(v),L=e||fetch;O=O?(O+"").toLowerCase():"text";let W=Yie([A,E&&E.toAbortSignal()],C),q=null;const K=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let ie;try{if(P&&u&&y!=="get"&&y!=="head"&&(ie=await m(k,w))!==0){let Z=new t(b,{method:"POST",body:w,duplex:"half"}),oe;if(Qe.isFormData(w)&&(oe=Z.headers.get("content-type"))&&k.setContentType(oe),Z.body){const[ye,Be]=ej(ie,eS(tj(P)));w=rj(Z.body,ij,ye,Be)}}Qe.isString(D)||(D=D?"include":"omit");const V=s&&"credentials"in t.prototype,J={...I,signal:W,method:y.toUpperCase(),headers:k.normalize().toJSON(),body:w,duplex:"half",credentials:V?D:void 0};q=s&&new t(b,J);let H=await(s?L(q,I):L(b,J));const Y=d&&(O==="stream"||O==="response");if(d&&(M||Y&&K)){const Z={};["status","statusText","headers"].forEach(Xe=>{Z[Xe]=H[Xe]});const oe=Qe.toFiniteNumber(H.headers.get("content-length")),[ye,Be]=M&&ej(oe,eS(tj(M),!0))||[];H=new r(rj(H.body,ij,ye,()=>{Be&&Be(),K&&K()}),Z)}O=O||"text";let ne=await c[Qe.findKey(c,O)||"text"](H,v);return!Y&&K&&K(),await new Promise((Z,oe)=>{pW(Z,oe,{data:ne,headers:pa.from(H.headers),status:H.status,statusText:H.statusText,config:v,request:q})})}catch(V){throw K&&K(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new sr("Network Error",sr.ERR_NETWORK,v,q),{cause:V.cause||V}):sr.from(V,V&&V.code,v,q)}}},nse=new Map,vW=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:i}=e,s=[r,i,t];let o=s.length,a=o,l,u,d=nse;for(;a--;)l=s[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:tse(e)),d=u;return u};vW();const IF={http:xie,xhr:Kie,fetch:{get:vW}};Qe.forEach(IF,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const lj=n=>`- ${n}`,rse=n=>Qe.isFunction(n)||n===null||n===!1;function ise(n,e){n=Qe.isArray(n)?n:[n];const{length:t}=n;let r,i;const s={};for(let o=0;o<t;o++){r=n[o];let a;if(i=r,!rse(r)&&(i=IF[(a=String(r)).toLowerCase()],i===void 0))throw new sr(`Unknown adapter '${a}'`);if(i&&(Qe.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(lj).join(`
`):" "+lj(o[0]):"as no adapter specified";throw new sr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const yW={getAdapter:ise,adapters:IF};function XM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ov(null,n)}function cj(n){return XM(n),n.headers=pa.from(n.headers),n.data=qM.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yW.getAdapter(n.adapter||Ub.adapter,n)(n).then(function(r){return XM(n),r.data=qM.call(n,n.transformResponse,r),r.headers=pa.from(r.headers),r},function(r){return hW(r)||(XM(n),r&&r.response&&(r.response.data=qM.call(n,n.transformResponse,r.response),r.response.headers=pa.from(r.response.headers))),Promise.reject(r)})}const xW="1.13.1",pE={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{pE[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const uj={};pE.transitional=function(e,t,r){function i(s,o){return"[Axios v"+xW+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new sr(i(o," has been removed"+(t?" in "+t:"")),sr.ERR_DEPRECATED);return t&&!uj[o]&&(uj[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};pE.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function sse(n,e,t){if(typeof n!="object")throw new sr("options must be an object",sr.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new sr("option "+s+" must be "+l,sr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new sr("Unknown option "+s,sr.ERR_BAD_OPTION)}}const kw={assertOptions:sse,validators:pE},Uc=kw.validators;let Lp=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ZL,response:new ZL}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Kp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&kw.assertOptions(r,{silentJSONParsing:Uc.transitional(Uc.boolean),forcedJSONParsing:Uc.transitional(Uc.boolean),clarifyTimeoutError:Uc.transitional(Uc.boolean)},!1),i!=null&&(Qe.isFunction(i)?t.paramsSerializer={serialize:i}:kw.assertOptions(i,{encode:Uc.function,serialize:Uc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kw.assertOptions(t,{baseUrl:Uc.spelling("baseURL"),withXsrfToken:Uc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Qe.merge(s.common,s[t.method]);s&&Qe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=pa.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,c=0,f;if(!l){const v=[cj.bind(this),void 0];for(v.unshift(...a),v.push(...u),f=v.length,d=Promise.resolve(t);c<f;)d=d.then(v[c++],v[c++]);return d}f=a.length;let m=t;for(;c<f;){const v=a[c++],b=a[c++];try{m=v(m)}catch(y){b.call(this,y);break}}try{d=cj.call(this,m)}catch(v){return Promise.reject(v)}for(c=0,f=u.length;c<f;)d=d.then(u[c++],u[c++]);return d}getUri(e){e=Kp(this.defaults,e);const t=mW(e.baseURL,e.url,e.allowAbsoluteUrls);return uW(t,e.params,e.paramsSerializer)}};Qe.forEach(["delete","get","head","options"],function(e){Lp.prototype[e]=function(t,r){return this.request(Kp(r||{},{method:e,url:t,data:(r||{}).data}))}});Qe.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Kp(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Lp.prototype[e]=t(),Lp.prototype[e+"Form"]=t(!0)});let ose=class bW{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ov(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bW(function(i){e=i}),cancel:e}}};function ase(n){return function(t){return n.apply(null,t)}}function lse(n){return Qe.isObject(n)&&n.isAxiosError===!0}const $3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($3).forEach(([n,e])=>{$3[e]=n});function _W(n){const e=new Lp(n),t=Z7(Lp.prototype.request,e);return Qe.extend(t,Lp.prototype,e,{allOwnKeys:!0}),Qe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return _W(Kp(n,i))},t}const ji=_W(Ub);ji.Axios=Lp;ji.CanceledError=ov;ji.CancelToken=ose;ji.isCancel=hW;ji.VERSION=xW;ji.toFormData=hE;ji.AxiosError=sr;ji.Cancel=ji.CanceledError;ji.all=function(e){return Promise.all(e)};ji.spread=ase;ji.isAxiosError=lse;ji.mergeConfig=Kp;ji.AxiosHeaders=pa;ji.formToJSON=n=>fW(Qe.isHTMLForm(n)?new FormData(n):n);ji.getAdapter=yW.getAdapter;ji.HttpStatusCode=$3;ji.default=ji;const{Axios:b8e,AxiosError:_8e,CanceledError:w8e,isCancel:S8e,CancelToken:A8e,VERSION:E8e,all:C8e,Cancel:M8e,isAxiosError:T8e,spread:P8e,toFormData:R8e,AxiosHeaders:N8e,HttpStatusCode:I8e,formToJSON:O8e,getAdapter:F8e,mergeConfig:D8e}=ji,cse=()=>{throw new Error("VITE_API_BASE_URL environment variable is required. Please set it in your deployment configuration.")},nx=cse(),ss={ACCESS_TOKEN:"access_token",REFRESH_TOKEN:"refresh_token",USER:"user"},use=nx.endsWith("/v1")?nx:`${nx}/v1`,gi=ji.create({baseURL:use,timeout:3e4,headers:{"Content-Type":"application/json"}});gi.interceptors.request.use(n=>{const e=localStorage.getItem(ss.ACCESS_TOKEN);return e&&n.headers&&(n.headers.Authorization=`Bearer ${e}`),n},n=>Promise.reject(n));gi.interceptors.response.use(n=>n,async n=>{const e=n.config;if(n.response?.status===401&&!e._retry){e._retry=!0;try{const t=localStorage.getItem(ss.REFRESH_TOKEN);if(t){const r=await ji.post(`${nx}/auth/refresh-tokens`,{refreshToken:t}),{access:i,refresh:s}=r.data;return localStorage.setItem(ss.ACCESS_TOKEN,i.token),localStorage.setItem(ss.REFRESH_TOKEN,s.token),e.headers&&(e.headers.Authorization=`Bearer ${i.token}`),gi(e)}}catch(t){try{localStorage.removeItem(ss.ACCESS_TOKEN),localStorage.removeItem(ss.REFRESH_TOKEN),localStorage.removeItem(ss.USER)}catch{}try{window.location.replace("/login")}catch{try{window.location.href="/login"}catch{window.location.reload()}}return Promise.reject(t)}}return Promise.reject(n)});const bp={async login(n){try{const e=await gi.post("/auth/login",n),{user:t,tokens:r}=e.data;return localStorage.setItem(ss.ACCESS_TOKEN,r.access.token),localStorage.setItem(ss.REFRESH_TOKEN,r.refresh.token),localStorage.setItem(ss.USER,JSON.stringify(t)),e.data}catch(e){throw console.error("Login API error:",e),e}},async register(n){const e=await gi.post("/auth/register",n),{user:t,tokens:r}=e.data;return localStorage.setItem(ss.ACCESS_TOKEN,r.access.token),localStorage.setItem(ss.REFRESH_TOKEN,r.refresh.token),localStorage.setItem(ss.USER,JSON.stringify(t)),e.data},async logout(){const n=localStorage.getItem(ss.REFRESH_TOKEN);if(n)try{await gi.post("/auth/logout",{refreshToken:n})}catch{}localStorage.removeItem(ss.ACCESS_TOKEN),localStorage.removeItem(ss.REFRESH_TOKEN),localStorage.removeItem(ss.USER)},getCurrentUser(){const n=localStorage.getItem(ss.USER);return n?JSON.parse(n):null},getAccessToken(){return localStorage.getItem(ss.ACCESS_TOKEN)},isAuthenticated(){return!!this.getAccessToken()}},su=Object.create(null);su.open="0";su.close="1";su.ping="2";su.pong="3";su.message="4";su.upgrade="5";su.noop="6";const Lw=Object.create(null);Object.keys(su).forEach(n=>{Lw[su[n]]=n});const q3={type:"error",data:"parser error"},wW=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SW=typeof ArrayBuffer=="function",AW=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,OF=({type:n,data:e},t,r)=>wW&&e instanceof Blob?t?r(e):dj(e,r):SW&&(e instanceof ArrayBuffer||AW(e))?t?r(e):dj(new Blob([e]),r):r(su[n]+(e||"")),dj=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function fj(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let KM;function dse(n,e){if(wW&&n.data instanceof Blob)return n.data.arrayBuffer().then(fj).then(e);if(SW&&(n.data instanceof ArrayBuffer||AW(n.data)))return e(fj(n.data));OF(n,!1,t=>{KM||(KM=new TextEncoder),e(KM.encode(t))})}const hj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qy=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<hj.length;n++)qy[hj.charCodeAt(n)]=n;const fse=n=>{let e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<t;r+=4)s=qy[n.charCodeAt(r)],o=qy[n.charCodeAt(r+1)],a=qy[n.charCodeAt(r+2)],l=qy[n.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return u},hse=typeof ArrayBuffer=="function",FF=(n,e)=>{if(typeof n!="string")return{type:"message",data:EW(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:pse(n.substring(1),e)}:Lw[t]?n.length>1?{type:Lw[t],data:n.substring(1)}:{type:Lw[t]}:q3},pse=(n,e)=>{if(hse){const t=fse(n);return EW(t,e)}else return{base64:!0,data:n}},EW=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},CW="",mse=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{OF(s,!1,a=>{r[o]=a,++i===t&&e(r.join(CW))})})},gse=(n,e)=>{const t=n.split(CW),r=[];for(let i=0;i<t.length;i++){const s=FF(t[i],e);if(r.push(s),s.type==="error")break}return r};function vse(){return new TransformStream({transform(n,e){dse(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let YM;function o1(n){return n.reduce((e,t)=>e+t.length,0)}function a1(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function yse(n,e){YM||(YM=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(r===0){if(o1(t)<1)break;const l=a1(t,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(o1(t)<2)break;const l=a1(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(o1(t)<8)break;const l=a1(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(q3);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(o1(t)<i)break;const l=a1(t,i);a.enqueue(FF(s?l:YM.decode(l),e)),r=0}if(i===0||i>n){a.enqueue(q3);break}}}})}const MW=4;function ls(n){if(n)return xse(n)}function xse(n){for(var e in ls.prototype)n[e]=ls.prototype[e];return n}ls.prototype.on=ls.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ls.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};ls.prototype.off=ls.prototype.removeListener=ls.prototype.removeAllListeners=ls.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};ls.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};ls.prototype.emitReserved=ls.prototype.emit;ls.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ls.prototype.hasListeners=function(n){return!!this.listeners(n).length};const mE=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),cl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),bse="arraybuffer";function TW(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const _se=cl.setTimeout,wse=cl.clearTimeout;function gE(n,e){e.useNativeTimers?(n.setTimeoutFn=_se.bind(cl),n.clearTimeoutFn=wse.bind(cl)):(n.setTimeoutFn=cl.setTimeout.bind(cl),n.clearTimeoutFn=cl.clearTimeout.bind(cl))}const Sse=1.33;function Ase(n){return typeof n=="string"?Ese(n):Math.ceil((n.byteLength||n.size)*Sse)}function Ese(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function PW(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Cse(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Mse(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Tse extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class DF extends ls{constructor(e){super(),this.writable=!1,gE(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Tse(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=FF(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Cse(e);return t.length?"?"+t:""}}class Pse extends DF{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};gse(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,mse(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=PW()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let RW=!1;try{RW=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Rse=RW;function Nse(){}class Ise extends Pse{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let Yg=class jw extends ls{constructor(e,t,r){super(),this.createRequest=e,gE(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const t=TW(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=jw.requestsCount++,jw.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Nse,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete jw.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yg.requestsCount=0;Yg.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",pj);else if(typeof addEventListener=="function"){const n="onpagehide"in cl?"pagehide":"unload";addEventListener(n,pj,!1)}}function pj(){for(let n in Yg.requests)Yg.requests.hasOwnProperty(n)&&Yg.requests[n].abort()}const Ose=(function(){const n=NW({xdomain:!1});return n&&n.responseType!==null})();class Fse extends Ise{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ose&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Yg(NW,this.uri(),e)}}function NW(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Rse))return new XMLHttpRequest}catch{}if(!e)try{return new cl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const IW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Dse extends DF{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=IW?{}:TW(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;OF(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&mE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=PW()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const JM=cl.WebSocket||cl.MozWebSocket;class Bse extends Dse{createSocket(e,t,r){return IW?new JM(e,t,r):t?new JM(e,t):new JM(e)}doWrite(e,t){this.ws.send(t)}}class kse extends DF{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=yse(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=vse();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&mE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Lse={websocket:Bse,webtransport:kse,polling:Fse},jse=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Use=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function X3(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=jse.exec(n||""),s={},o=14;for(;o--;)s[Use[o]]=i[o]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=zse(s,s.path),s.queryKey=Hse(s,s.query),s}function zse(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Hse(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}const K3=typeof addEventListener=="function"&&typeof removeEventListener=="function",Uw=[];K3&&addEventListener("offline",()=>{Uw.forEach(n=>n())},!1);class Uf extends ls{constructor(e,t){if(super(),this.binaryType=bse,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const r=X3(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=X3(t.host).host);gE(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Mse(this.opts.query)),K3&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Uw.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=MW,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Uf.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Uf.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=Ase(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,mE(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Uf.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),K3&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Uw.indexOf(this._offlineEventListener);r!==-1&&Uw.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Uf.protocol=MW;class Gse extends Uf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Uf.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",c=>{if(!r)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Uf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function s(){r||(r=!0,d(),t.close(),t=null)}const o=c=>{const f=new Error("probe error: "+c);f.transport=t.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function u(c){t&&c.name!==t.name&&s()}const d=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}let Vse=class extends Gse{constructor(e,t={}){const r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Lse[i]).filter(i=>!!i)),super(e,r)}};function Wse(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=X3(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}const $se=typeof ArrayBuffer=="function",qse=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,OW=Object.prototype.toString,Xse=typeof Blob=="function"||typeof Blob<"u"&&OW.call(Blob)==="[object BlobConstructor]",Kse=typeof File=="function"||typeof File<"u"&&OW.call(File)==="[object FileConstructor]";function BF(n){return $se&&(n instanceof ArrayBuffer||qse(n))||Xse&&n instanceof Blob||Kse&&n instanceof File}function zw(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(zw(n[t]))return!0;return!1}if(BF(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return zw(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&zw(n[t]))return!0;return!1}function Yse(n){const e=[],t=n.data,r=n;return r.data=Y3(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Y3(n,e){if(!n)return n;if(BF(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Y3(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Y3(n[r],e));return t}return n}function Jse(n,e){return n.data=J3(n.data,e),delete n.attachments,n}function J3(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=J3(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=J3(n[t],e));return n}const Zse=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Qse=5;var wr;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(wr||(wr={}));class eoe{constructor(e){this.replacer=e}encode(e){return(e.type===wr.EVENT||e.type===wr.ACK)&&zw(e)?this.encodeAsBinary({type:e.type===wr.EVENT?wr.BINARY_EVENT:wr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===wr.BINARY_EVENT||e.type===wr.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Yse(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function mj(n){return Object.prototype.toString.call(n)==="[object Object]"}class kF extends ls{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===wr.BINARY_EVENT;r||t.type===wr.BINARY_ACK?(t.type=r?wr.EVENT:wr.ACK,this.reconstructor=new toe(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(BF(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(wr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===wr.BINARY_EVENT||r.type===wr.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(kF.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case wr.CONNECT:return mj(t);case wr.DISCONNECT:return t===void 0;case wr.CONNECT_ERROR:return typeof t=="string"||mj(t);case wr.EVENT:case wr.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Zse.indexOf(t[0])===-1);case wr.ACK:case wr.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class toe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Jse(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const noe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:kF,Encoder:eoe,get PacketType(){return wr},protocol:Qse},Symbol.toStringTag,{value:"Module"}));function nc(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const roe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class FW extends ls{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[nc(e,"open",this.onopen.bind(this)),nc(e,"packet",this.onpacket.bind(this)),nc(e,"error",this.onerror.bind(this)),nc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(roe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:wr.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,c=t.pop();this._registerAckCallback(d,c),o.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:wr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case wr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case wr.EVENT:case wr.BINARY_EVENT:this.onevent(e);break;case wr.ACK:case wr.BINARY_ACK:this.onack(e);break;case wr.DISCONNECT:this.ondisconnect();break;case wr.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:wr.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:wr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function av(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}av.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};av.prototype.reset=function(){this.attempts=0};av.prototype.setMin=function(n){this.ms=n};av.prototype.setMax=function(n){this.max=n};av.prototype.setJitter=function(n){this.jitter=n};class Z3 extends ls{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,gE(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new av({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||noe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Vse(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=nc(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=nc(t,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(nc(e,"ping",this.onping.bind(this)),nc(e,"data",this.ondata.bind(this)),nc(e,"error",this.onerror.bind(this)),nc(e,"close",this.onclose.bind(this)),nc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){mE(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new FW(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const my={};function Hw(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Wse(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,o=my[i]&&s in my[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Z3(r,e):(my[i]||(my[i]=new Z3(r,e)),l=my[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Hw,{Manager:Z3,Socket:FW,io:Hw,connect:Hw});class ioe{socket=null;connectTimeoutId=null;connect(){if(this.socket?.connected)return this.socket;const e=localStorage.getItem(ss.ACCESS_TOKEN),t=nx.replace("/v1","");return this.socket=Hw(t,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.socket.on("connect",()=>{this.connectTimeoutId&&(clearTimeout(this.connectTimeoutId),this.connectTimeoutId=null)}),this.socket.on("disconnect",()=>{this.connectTimeoutId&&(clearTimeout(this.connectTimeoutId),this.connectTimeoutId=null)}),this.socket.on("connect_error",r=>{this.connectTimeoutId&&(clearTimeout(this.connectTimeoutId),this.connectTimeoutId=null)}),this.socket}disconnect(){this.connectTimeoutId&&(clearTimeout(this.connectTimeoutId),this.connectTimeoutId=null),this.socket&&(this.socket.disconnect(),this.socket=null)}getSocket(){return this.socket}isConnected(){return this.socket?.connected||!1}}const Si=new ioe,tS="hack2heal_conversations",nS="hack2heal_conversations_timestamp",soe=300*1e3;let Yh=!1;function l1(){try{const n=localStorage.getItem(tS),e=localStorage.getItem(nS);return!n||!e?null:Date.now()-parseInt(e,10)>soe?(localStorage.removeItem(tS),localStorage.removeItem(nS),null):JSON.parse(n)}catch{return null}}function ZM(n){try{localStorage.setItem(tS,JSON.stringify(n)),localStorage.setItem(nS,Date.now().toString())}catch{}}function gj(){try{localStorage.removeItem(tS),localStorage.removeItem(nS)}catch{}}function c1(n,e,t,r,i,s=1e4){return new Promise((o,a)=>{if(!n){a(new Error("Socket not available"));return}let l=null,u=!1;const d=()=>{l&&(clearTimeout(l),l=null)},c=m=>{u||(u=!0,d(),n.off(r,c),n.off(i,f),o(m))},f=m=>{u||(u=!0,d(),n.off(r,c),n.off(i,f),a(new Error(m.message||"Request failed")))};l=setTimeout(()=>{u||(u=!0,n.off(r,c),n.off(i,f),a(new Error("Request timeout")))},s),n.once(r,c),n.once(i,f),n.emit(e,t)})}const Vc={async sendMessage(n,e){const t=Si.getSocket();let r;return t?.connected?r=await c1(t,"message:send",{toUserId:n,content:e},"message:sent","message:error",1e4):r=(await gi.post("/messages/send",{toUserId:n,content:e})).data,gj(),r},async getConversations(n=!0){if(Yh){const t=l1();if(t)return t;await new Promise(i=>setTimeout(i,100));const r=l1();return r||[]}const e=async()=>{if(!Yh){Yh=!0;try{const r=(await gi.get("/messages/conversations")).data||[];n&&ZM(r)}catch{}finally{Yh=!1}}};if(n){const t=l1();if(t&&t.length>0)return Yh||e(),t}Yh=!0;try{const r=(await gi.get("/messages/conversations")).data||[];return n&&ZM(r),r}catch(t){const r=l1();if(r&&r.length>0)return r;throw t}finally{Yh=!1}},async getMessages(n,e=50){const t=Si.getSocket();if(t?.connected)return(await c1(t,"message:get_messages",{withUserId:n,limit:e},"message:messages","message:error",1e4)).messages||[];try{return(await gi.get(`/messages/conversation/${n}`,{params:{limit:e}})).data||[]}catch(r){throw r}},async markAsRead(n){const e=Si.getSocket();e?.connected?await c1(e,"message:mark_read",{messageId:n},"message:read","message:error",1e4):await gi.post(`/messages/read/${n}`)},async markConversationAsRead(n){const e=Si.getSocket();e?.connected?await c1(e,"message:mark_conversation_read",{withUserId:n},"message:conversation_read","message:error",1e4):await gi.post(`/messages/conversation/${n}/read`)},onMessageReceived(n){Si.getSocket()?.on("message:received",n)},offMessageReceived(n){Si.getSocket()?.off("message:received",n)},onConversationsUpdated(n){Si.getSocket()?.on("message:conversations_updated",n)},offConversationsUpdated(n){Si.getSocket()?.off("message:conversations_updated",n)},clearCache(){gj()},updateCache(n){ZM(n)}},DW=B.createContext(void 0),pu=()=>{const n=B.useContext(DW);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},ooe=({children:n})=>{const[e,t]=B.useState(null),[r,i]=B.useState(!0);B.useEffect(()=>{const u=bp.getCurrentUser();u&&bp.isAuthenticated()&&(t(u),Si.connect()),i(!1)},[]);const l={user:e,isLoading:r,login:async u=>{const d=await bp.login(u);t(d.user),Si.connect()},register:async u=>{const d=await bp.register(u);t(d.user),Si.connect()},logout:async()=>{Si.disconnect(),Vc.clearCache(),await bp.logout(),t(null)},isAuthenticated:!!e};return p.jsx(DW.Provider,{value:l,children:n})},u1={async completeSession(){return(await gi.post("/stats/complete-session")).data},async getStats(){return(await gi.get("/stats/me")).data},async getLeaderboard(n=10){return(await gi.get("/stats/leaderboard",{params:{limit:n}})).data},async addXP(n){return(await gi.post("/stats/add-xp",{amount:n})).data}},BW=B.createContext(void 0),zb=()=>{const n=B.useContext(BW);if(n===void 0)throw new Error("useStats must be used within a StatsProvider");return n},aoe=({children:n})=>{const{isAuthenticated:e,user:t}=pu(),[r,i]=B.useState(null),[s,o]=B.useState([]),[a,l]=B.useState(!0),u=async()=>{if(!(!e||!t))try{const m=await u1.getStats();i(m)}catch{}},d=async()=>{if(e)try{const m=await u1.getLeaderboard(10);o(m)}catch{}},c=async()=>{if(!(!e||!t))try{const m=await u1.completeSession();i(m),await d()}catch{}},f=async m=>{if(!(!e||!t))try{const v=await u1.addXP(m);i(v),await d()}catch{}};return B.useEffect(()=>{e&&t?(l(!0),Promise.all([u(),d()]).finally(()=>l(!1))):(i(null),o([]),l(!1))},[e,t?.id]),p.jsx(BW.Provider,{value:{stats:r,leaderboard:s,isLoading:a,refreshStats:u,refreshLeaderboard:d,completeSession:c,addXP:f},children:n})},loe=({children:n})=>{const{isAuthenticated:e,isLoading:t}=pu();return t?p.jsx("div",{children:"Loading..."}):e?p.jsx(p.Fragment,{children:n}):p.jsx(J7,{to:"/login",replace:!0})};function vj(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function kW(...n){return e=>{let t=!1;const r=n.map(i=>{const s=vj(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():vj(n[i],null)}}}}function Ir(...n){return B.useCallback(kW(...n),n)}function p0(n){const e=coe(n),t=B.forwardRef((r,i)=>{const{children:s,...o}=r,a=B.Children.toArray(s),l=a.find(doe);if(l){const u=l.props.children,d=a.map(c=>c===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:c);return p.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return p.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var LW=p0("Slot");function coe(n){const e=B.forwardRef((t,r)=>{const{children:i,...s}=t;if(B.isValidElement(i)){const o=hoe(i),a=foe(s,i.props);return i.type!==B.Fragment&&(a.ref=r?kW(r,o):o),B.cloneElement(i,a)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var uoe=Symbol("radix.slottable");function doe(n){return B.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===uoe}function foe(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function hoe(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jW(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=jW(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function yr(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=jW(n))&&(r&&(r+=" "),r+=e);return r}const yj=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,xj=yr,LF=(n,e)=>t=>{var r;if(e?.variants==null)return xj(n,t?.class,t?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=t?.[u],c=s?.[u];if(d===null)return null;const f=yj(d)||yj(c);return i[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[c,f]=d;return f===void 0||(u[c]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:c,className:f,...m}=d;return Object.entries(m).every(v=>{let[b,y]=v;return Array.isArray(y)?y.includes({...s,...a}[b]):{...s,...a}[b]===y})?[...u,c,f]:u},[]);return xj(n,o,l,t?.class,t?.className)},jF="-",poe=n=>{const e=goe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(jF);return a[0]===""&&a.length!==1&&a.shift(),UW(a,e)||moe(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},UW=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?UW(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(jF);return e.validators.find(({validator:o})=>o(s))?.classGroupId},bj=/^\[(.+)\]$/,moe=n=>{if(bj.test(n)){const e=bj.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},goe=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return yoe(Object.entries(n.classGroups),t).forEach(([s,o])=>{Q3(o,r,s,e)}),r},Q3=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_j(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(voe(i)){Q3(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{Q3(o,_j(e,s),t,r)})})},_j=(n,e)=>{let t=n;return e.split(jF).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},voe=n=>n.isThemeGetter,yoe=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,xoe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},zW="!",boe=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,c;for(let y=0;y<a.length;y++){let w=a[y];if(u===0){if(w===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(d,y)),d=y+s;continue}if(w==="/"){c=y;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(zW),v=m?f.substring(1):f,b=c&&c>d?c-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:b}};return t?a=>t({className:a,parseClassName:o}):o},_oe=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},woe=n=>({cache:xoe(n.cacheSize),parseClassName:boe(n),...poe(n)}),Soe=/\s+/,Aoe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(Soe);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:c,baseClassName:f,maybePostfixModifierPosition:m}=t(u);let v=!!m,b=r(v?f.substring(0,m):f);if(!b){if(!v){a=u+(a.length>0?" "+a:a);continue}if(b=r(f),!b){a=u+(a.length>0?" "+a:a);continue}v=!1}const y=_oe(d).join(":"),w=c?y+zW:y,A=w+b;if(s.includes(A))continue;s.push(A);const E=i(b,v);for(let C=0;C<E.length;++C){const M=E[C];s.push(w+M)}a=u+(a.length>0?" "+a:a)}return a};function Eoe(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=HW(e))&&(r&&(r+=" "),r+=t);return r}const HW=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=HW(n[r]))&&(t&&(t+=" "),t+=e);return t};function Coe(n,...e){let t,r,i,s=o;function o(l){const u=e.reduce((d,c)=>c(d),n());return t=woe(u),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Aoe(l,t);return i(l,d),d}return function(){return s(Eoe.apply(null,arguments))}}const ci=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},GW=/^\[(?:([a-z-]+):)?(.+)\]$/i,Moe=/^\d+\/\d+$/,Toe=new Set(["px","full","screen"]),Poe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Roe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Noe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ioe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ooe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xu=n=>Jg(n)||Toe.has(n)||Moe.test(n),hf=n=>lv(n,"length",zoe),Jg=n=>!!n&&!Number.isNaN(Number(n)),QM=n=>lv(n,"number",Jg),gy=n=>!!n&&Number.isInteger(Number(n)),Foe=n=>n.endsWith("%")&&Jg(n.slice(0,-1)),lr=n=>GW.test(n),pf=n=>Poe.test(n),Doe=new Set(["length","size","percentage"]),Boe=n=>lv(n,Doe,VW),koe=n=>lv(n,"position",VW),Loe=new Set(["image","url"]),joe=n=>lv(n,Loe,Goe),Uoe=n=>lv(n,"",Hoe),vy=()=>!0,lv=(n,e,t)=>{const r=GW.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},zoe=n=>Roe.test(n)&&!Noe.test(n),VW=()=>!1,Hoe=n=>Ioe.test(n),Goe=n=>Ooe.test(n),Voe=()=>{const n=ci("colors"),e=ci("spacing"),t=ci("blur"),r=ci("brightness"),i=ci("borderColor"),s=ci("borderRadius"),o=ci("borderSpacing"),a=ci("borderWidth"),l=ci("contrast"),u=ci("grayscale"),d=ci("hueRotate"),c=ci("invert"),f=ci("gap"),m=ci("gradientColorStops"),v=ci("gradientColorStopPositions"),b=ci("inset"),y=ci("margin"),w=ci("opacity"),A=ci("padding"),E=ci("saturate"),C=ci("scale"),M=ci("sepia"),P=ci("skew"),O=ci("space"),k=ci("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",lr,e],W=()=>[lr,e],q=()=>["",Xu,hf],K=()=>["auto",Jg,lr],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",lr],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Jg,lr];return{cacheSize:500,separator:":",theme:{colors:[vy],spacing:[Xu,hf],blur:["none","",pf,lr],brightness:Z(),borderColor:[n],borderRadius:["none","","full",pf,lr],borderSpacing:W(),borderWidth:q(),contrast:Z(),grayscale:Y(),hueRotate:Z(),invert:Y(),gap:W(),gradientColorStops:[n],gradientColorStopPositions:[Foe,hf],inset:L(),margin:L(),opacity:Z(),padding:W(),saturate:Z(),scale:Z(),sepia:Y(),skew:Z(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",lr]}],container:["container"],columns:[{columns:[pf]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),lr]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gy,lr]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lr]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",gy,lr]}],"grid-cols":[{"grid-cols":[vy]}],"col-start-end":[{col:["auto",{span:["full",gy,lr]},lr]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[vy]}],"row-start-end":[{row:["auto",{span:[gy,lr]},lr]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lr,e]}],"min-w":[{"min-w":[lr,e,"min","max","fit"]}],"max-w":[{"max-w":[lr,e,"none","full","min","max","fit","prose",{screen:[pf]},pf]}],h:[{h:[lr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pf,hf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QM]}],"font-family":[{font:[vy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lr]}],"line-clamp":[{"line-clamp":["none",Jg,QM]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xu,lr]}],"list-image":[{"list-image":["none",lr]}],"list-style-type":[{list:["none","disc","decimal",lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xu,hf]}],"underline-offset":[{"underline-offset":["auto",Xu,lr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),koe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Boe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},joe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Xu,lr]}],"outline-w":[{outline:[Xu,hf]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Xu,hf]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",pf,Uoe]}],"shadow-color":[{shadow:[vy]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pf,lr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[E]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lr]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",lr]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[gy,lr]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lr]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lr]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lr]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xu,hf,QM]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Woe=Coe(Voe);function Wn(...n){return Woe(yr(n))}const $oe=LF("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function zt({className:n,variant:e,size:t,asChild:r=!1,...i}){const s=r?LW:"button";return p.jsx(s,{"data-slot":"button",className:Wn($oe({variant:e,size:t,className:n})),...i})}function bs({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:Wn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var qoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$n=qoe.reduce((n,e)=>{const t=p0(`Primitive.${e}`),r=B.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Xoe(n,e){n&&Fb.flushSync(()=>n.dispatchEvent(e))}var Koe="Label",WW=B.forwardRef((n,e)=>p.jsx($n.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));WW.displayName=Koe;var Yoe=WW;function as({className:n,...e}){return p.jsx(Yoe,{"data-slot":"label",className:Wn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Joe(n,e){const t=B.createContext(e),r=s=>{const{children:o,...a}=s,l=B.useMemo(()=>a,Object.values(a));return p.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=B.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function mc(n,e=[]){let t=[];function r(s,o){const a=B.createContext(o),l=t.length;t=[...t,o];const u=c=>{const{scope:f,children:m,...v}=c,b=f?.[n]?.[l]||a,y=B.useMemo(()=>v,Object.values(v));return p.jsx(b.Provider,{value:y,children:m})};u.displayName=s+"Provider";function d(c,f){const m=f?.[n]?.[l]||a,v=B.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=t.map(o=>B.createContext(o));return function(a){const l=a?.[n]||s;return B.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Zoe(i,...e)]}function Zoe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const c=l(s)[`__scope${u}`];return{...a,...c}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Dn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}var Eo=globalThis?.document?B.useLayoutEffect:()=>{},Qoe=MF[" useInsertionEffect ".trim().toString()]||Eo;function yd({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=eae({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const d=B.useRef(n!==void 0);B.useEffect(()=>{const c=d.current;c!==a&&console.warn(`${r} is changing from ${c?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=B.useCallback(d=>{if(a){const c=tae(d)?d(n):d;c!==n&&o.current?.(c)}else s(d)},[a,n,s,o]);return[l,u]}function eae({defaultProp:n,onChange:e}){const[t,r]=B.useState(n),i=B.useRef(t),s=B.useRef(e);return Qoe(()=>{s.current=e},[e]),B.useEffect(()=>{i.current!==t&&(s.current?.(t),i.current=t)},[t,i]),[t,r,s]}function tae(n){return typeof n=="function"}function vE(n){const e=B.useRef({value:n,previous:n});return B.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function yE(n){const[e,t]=B.useState(void 0);return Eo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function nae(n,e){return B.useReducer((t,r)=>e[t][r]??t,n)}var th=n=>{const{present:e,children:t}=n,r=rae(e),i=typeof t=="function"?t({present:r.isPresent}):B.Children.only(t),s=Ir(r.ref,iae(i));return typeof t=="function"||r.isPresent?B.cloneElement(i,{ref:s}):null};th.displayName="Presence";function rae(n){const[e,t]=B.useState(),r=B.useRef(null),i=B.useRef(n),s=B.useRef("none"),o=n?"mounted":"unmounted",[a,l]=nae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=d1(r.current);s.current=a==="mounted"?u:"none"},[a]),Eo(()=>{const u=r.current,d=i.current;if(d!==n){const f=s.current,m=d1(u);n?l("MOUNT"):m==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Eo(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,c=m=>{const b=d1(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&b&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=m=>{m.target===e&&(s.current=d1(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function d1(n){return n?.animationName||"none"}function iae(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var xE="Checkbox",[sae]=mc(xE),[oae,UF]=sae(xE);function aae(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:c}=n,[f,m]=yd({prop:t,defaultProp:i??!1,onChange:l,caller:xE}),[v,b]=B.useState(null),[y,w]=B.useState(null),A=B.useRef(!1),E=v?!!o||!!v.closest("form"):!0,C={checked:f,disabled:s,setChecked:m,control:v,setControl:b,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:A,required:u,defaultChecked:zf(i)?!1:i,isFormControl:E,bubbleInput:y,setBubbleInput:w};return p.jsx(oae,{scope:e,...C,children:lae(c)?c(C):r})}var $W="CheckboxTrigger",qW=B.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:u,setControl:d,setChecked:c,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:v}=UF($W,n),b=Ir(i,d),y=B.useRef(l);return B.useEffect(()=>{const w=s?.form;if(w){const A=()=>c(y.current);return w.addEventListener("reset",A),()=>w.removeEventListener("reset",A)}},[s,c]),p.jsx($n.button,{type:"button",role:"checkbox","aria-checked":zf(l)?"mixed":l,"aria-required":u,"data-state":QW(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:b,onKeyDown:Dn(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Dn(t,w=>{c(A=>zf(A)?!0:!A),v&&m&&(f.current=w.isPropagationStopped(),f.current||w.stopPropagation())})})});qW.displayName=$W;var XW=B.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:u,form:d,...c}=n;return p.jsx(aae,{__scopeCheckbox:t,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(qW,{...c,ref:e,__scopeCheckbox:t}),f&&p.jsx(ZW,{__scopeCheckbox:t})]})})});XW.displayName=xE;var KW="CheckboxIndicator",YW=B.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=UF(KW,t);return p.jsx(th,{present:r||zf(s.checked)||s.checked===!0,children:p.jsx($n.span,{"data-state":QW(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});YW.displayName=KW;var JW="CheckboxBubbleInput",ZW=B.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:u,value:d,form:c,bubbleInput:f,setBubbleInput:m}=UF(JW,n),v=Ir(t,m),b=vE(s),y=yE(r);B.useEffect(()=>{const A=f;if(!A)return;const E=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(E,"checked").set,P=!i.current;if(b!==s&&M){const O=new Event("click",{bubbles:P});A.indeterminate=zf(s),M.call(A,zf(s)?!1:s),A.dispatchEvent(O)}},[f,b,s,i]);const w=B.useRef(zf(s)?!1:s);return p.jsx($n.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:u,value:d,form:c,...e,tabIndex:-1,ref:v,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZW.displayName=JW;function lae(n){return typeof n=="function"}function zf(n){return n==="indeterminate"}function QW(n){return zf(n)?"indeterminate":n?"checked":"unchecked"}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uae=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),wj=n=>{const e=uae(n);return e.charAt(0).toUpperCase()+e.slice(1)},e$=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>B.createElement("svg",{ref:l,...dae,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:e$("lucide",i),...a},[...o.map(([u,d])=>B.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(n,e)=>{const t=B.forwardRef(({className:r,...i},s)=>B.createElement(fae,{ref:s,iconNode:e,className:e$(`lucide-${cae(wj(n))}`,`lucide-${n}`,r),...i}));return t.displayName=wj(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pm=nn("activity",hae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eI=nn("arrow-left",pae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gae=nn("arrow-right",mae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ex=nn("award",vae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sj=nn("bell",yae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Wc=nn("brain",xae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zF=nn("calendar",bae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wae=nn("chart-column",_ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t$=nn("check",Sae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],HF=nn("chevron-down",Aae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cae=nn("chevron-left",Eae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tae=nn("chevron-right",Mae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],n$=nn("chevron-up",Pae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],Nae=nn("chrome",Rae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oae=nn("circle-alert",Iae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cx=nn("circle-check-big",Fae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sd=nn("circle-check",Dae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Aj=nn("circle-play",Bae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lae=nn("circle-x",kae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],rx=nn("clock",jae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],m0=nn("download",Uae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],r$=nn("dumbbell",zae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rS=nn("file-text",Hae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],bE=nn("flame",Gae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ej=nn("heart",Vae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$ae=nn("info",Wae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Cj=nn("layout-dashboard",qae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Mj=nn("lightbulb",Xae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Tj=nn("link-2",Kae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jae=nn("loader-circle",Yae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Pj=nn("lock-open",Zae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eT=nn("lock",Qae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],tle=nn("log-out",ele);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],_E=nn("mail",nle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ile=nn("message-circle",rle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Of=nn("message-square",sle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ale=nn("mic",ole);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],cle=nn("moon",lle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],dle=nn("move-down",ule);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],hle=nn("move-up",fle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],mle=nn("phone",ple);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],i$=nn("play",gle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yle=nn("plus",vle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ble=nn("refresh-ccw",xle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rj=nn("refresh-cw",_le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sle=nn("rotate-ccw",wle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Ele=nn("rotate-cw",Ale);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],s$=nn("scan",Cle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Hb=nn("search",Mle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wE=nn("send",Tle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nj=nn("settings",Ple);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ij=nn("shield",Rle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ile=nn("smartphone",Nle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Fle=nn("smile",Ole);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jp=nn("sparkles",Dle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kle=nn("square",Ble);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jle=nn("star",Lle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mx=nn("target",Ule);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Hle=nn("thumbs-down",zle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Vle=nn("thumbs-up",Gle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],$le=nn("trending-down",Wle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ma=nn("trending-up",qle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tx=nn("triangle-alert",Xle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Up=nn("trophy",Kle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Jle=nn("upload",Yle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],GF=nn("user-check",Zle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Px=nn("user-plus",Qle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],tce=nn("user-x",ece);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rce=nn("user",nce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Rx=nn("users",ice);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Oj=nn("video-off",sce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],tI=nn("video",oce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],lce=nn("volume-2",ace);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VF=nn("x",cce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dce=nn("zap",uce);function fce({className:n,...e}){return p.jsx(XW,{"data-slot":"checkbox",className:Wn("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(YW,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(t$,{className:"size-3.5"})})})}function Dt({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:Wn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function cn({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:Wn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function dn({className:n,...e}){return p.jsx("h4",{"data-slot":"card-title",className:Wn("leading-none",n),...e})}function Bt({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:Wn("px-6 [&:last-child]:pb-6",n),...e})}function iS(n,[e,t]){return Math.min(t,Math.max(e,n))}function WF(n){const e=n+"CollectionProvider",[t,r]=mc(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:y,children:w}=b,A=ue.useRef(null),E=ue.useRef(new Map).current;return p.jsx(i,{scope:y,itemMap:E,collectionRef:A,children:w})};o.displayName=e;const a=n+"CollectionSlot",l=p0(a),u=ue.forwardRef((b,y)=>{const{scope:w,children:A}=b,E=s(a,w),C=Ir(y,E.collectionRef);return p.jsx(l,{ref:C,children:A})});u.displayName=a;const d=n+"CollectionItemSlot",c="data-radix-collection-item",f=p0(d),m=ue.forwardRef((b,y)=>{const{scope:w,children:A,...E}=b,C=ue.useRef(null),M=Ir(y,C),P=s(d,w);return ue.useEffect(()=>(P.itemMap.set(C,{ref:C,...E}),()=>void P.itemMap.delete(C))),p.jsx(f,{[c]:"",ref:M,children:A})});m.displayName=d;function v(b){const y=s(n+"CollectionConsumer",b);return ue.useCallback(()=>{const A=y.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((P,O)=>E.indexOf(P.ref.current)-E.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var hce=B.createContext(void 0);function SE(n){const e=B.useContext(hce);return n||e||"ltr"}function Wf(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n}),B.useMemo(()=>(...t)=>e.current?.(...t),[])}function pce(n,e=globalThis?.document){const t=Wf(n);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var mce="DismissableLayer",nI="dismissableLayer.update",gce="dismissableLayer.pointerDownOutside",vce="dismissableLayer.focusOutside",Fj,o$=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AE=B.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,u=B.useContext(o$),[d,c]=B.useState(null),f=d?.ownerDocument??globalThis?.document,[,m]=B.useState({}),v=Ir(e,O=>c(O)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(y),A=d?b.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=A>=w,M=bce(O=>{const k=O.target,D=[...u.branches].some(I=>I.contains(k));!C||D||(i?.(O),o?.(O),O.defaultPrevented||a?.())},f),P=_ce(O=>{const k=O.target;[...u.branches].some(I=>I.contains(k))||(s?.(O),o?.(O),O.defaultPrevented||a?.())},f);return pce(O=>{A===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},f),B.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fj=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dj(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Fj)}},[d,f,t,u]),B.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dj())},[d,u]),B.useEffect(()=>{const O=()=>m({});return document.addEventListener(nI,O),()=>document.removeEventListener(nI,O)},[]),p.jsx($n.div,{...l,ref:v,style:{pointerEvents:E?C?"auto":"none":void 0,...n.style},onFocusCapture:Dn(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Dn(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Dn(n.onPointerDownCapture,M.onPointerDownCapture)})});AE.displayName=mce;var yce="DismissableLayerBranch",xce=B.forwardRef((n,e)=>{const t=B.useContext(o$),r=B.useRef(null),i=Ir(e,r);return B.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),p.jsx($n.div,{...n,ref:i})});xce.displayName=yce;function bce(n,e=globalThis?.document){const t=Wf(n),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){a$(gce,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function _ce(n,e=globalThis?.document){const t=Wf(n),r=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!r.current&&a$(vce,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dj(){const n=new CustomEvent(nI);document.dispatchEvent(n)}function a$(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Xoe(i,s):i.dispatchEvent(s)}var tT=0;function l$(){B.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Bj()),document.body.insertAdjacentElement("beforeend",n[1]??Bj()),tT++,()=>{tT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tT--}},[])}function Bj(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var nT="focusScope.autoFocusOnMount",rT="focusScope.autoFocusOnUnmount",kj={bubbles:!1,cancelable:!0},wce="FocusScope",$F=B.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=B.useState(null),u=Wf(i),d=Wf(s),c=B.useRef(null),f=Ir(e,b=>l(b)),m=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(r){let b=function(E){if(m.paused||!a)return;const C=E.target;a.contains(C)?c.current=C:Ef(c.current,{select:!0})},y=function(E){if(m.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||Ef(c.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const M of E)M.removedNodes.length>0&&Ef(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const A=new MutationObserver(w);return a&&A.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),A.disconnect()}}},[r,a,m.paused]),B.useEffect(()=>{if(a){jj.add(m);const b=document.activeElement;if(!a.contains(b)){const w=new CustomEvent(nT,kj);a.addEventListener(nT,u),a.dispatchEvent(w),w.defaultPrevented||(Sce(Tce(c$(a)),{select:!0}),document.activeElement===b&&Ef(a))}return()=>{a.removeEventListener(nT,u),setTimeout(()=>{const w=new CustomEvent(rT,kj);a.addEventListener(rT,d),a.dispatchEvent(w),w.defaultPrevented||Ef(b??document.body,{select:!0}),a.removeEventListener(rT,d),jj.remove(m)},0)}}},[a,u,d,m]);const v=B.useCallback(b=>{if(!t&&!r||m.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(y&&w){const A=b.currentTarget,[E,C]=Ace(A);E&&C?!b.shiftKey&&w===C?(b.preventDefault(),t&&Ef(E,{select:!0})):b.shiftKey&&w===E&&(b.preventDefault(),t&&Ef(C,{select:!0})):w===A&&b.preventDefault()}},[t,r,m.paused]);return p.jsx($n.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});$F.displayName=wce;function Sce(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ef(r,{select:e}),document.activeElement!==t)return}function Ace(n){const e=c$(n),t=Lj(e,n),r=Lj(e.reverse(),n);return[t,r]}function c$(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Lj(n,e){for(const t of n)if(!Ece(t,{upTo:e}))return t}function Ece(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Cce(n){return n instanceof HTMLInputElement&&"select"in n}function Ef(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Cce(n)&&e&&n.select()}}var jj=Mce();function Mce(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Uj(n,e),n.unshift(e)},remove(e){n=Uj(n,e),n[0]?.resume()}}}function Uj(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Tce(n){return n.filter(e=>e.tagName!=="A")}var Pce=MF[" useId ".trim().toString()]||(()=>{}),Rce=0;function Hf(n){const[e,t]=B.useState(Pce());return Eo(()=>{t(r=>r??String(Rce++))},[n]),n||(e?`radix-${e}`:"")}const Nce=["top","right","bottom","left"],$f=Math.min,Oa=Math.max,sS=Math.round,f1=Math.floor,Zc=n=>({x:n,y:n}),Ice={left:"right",right:"left",bottom:"top",top:"bottom"},Oce={start:"end",end:"start"};function rI(n,e,t){return Oa(n,$f(e,t))}function xd(n,e){return typeof n=="function"?n(e):n}function bd(n){return n.split("-")[0]}function cv(n){return n.split("-")[1]}function qF(n){return n==="x"?"y":"x"}function XF(n){return n==="y"?"height":"width"}const Fce=new Set(["top","bottom"]);function Xc(n){return Fce.has(bd(n))?"y":"x"}function KF(n){return qF(Xc(n))}function Dce(n,e,t){t===void 0&&(t=!1);const r=cv(n),i=KF(n),s=XF(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=oS(o)),[o,oS(o)]}function Bce(n){const e=oS(n);return[iI(n),e,iI(e)]}function iI(n){return n.replace(/start|end/g,e=>Oce[e])}const zj=["left","right"],Hj=["right","left"],kce=["top","bottom"],Lce=["bottom","top"];function jce(n,e,t){switch(n){case"top":case"bottom":return t?e?Hj:zj:e?zj:Hj;case"left":case"right":return e?kce:Lce;default:return[]}}function Uce(n,e,t,r){const i=cv(n);let s=jce(bd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(iI)))),s}function oS(n){return n.replace(/left|right|bottom|top/g,e=>Ice[e])}function zce(n){return{top:0,right:0,bottom:0,left:0,...n}}function u$(n){return typeof n!="number"?zce(n):{top:n,right:n,bottom:n,left:n}}function aS(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Gj(n,e,t){let{reference:r,floating:i}=n;const s=Xc(e),o=KF(e),a=XF(o),l=bd(e),u=s==="y",d=r.x+r.width/2-i.width/2,c=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:c};break;case"left":m={x:r.x-i.width,y:c};break;default:m={x:r.x,y:r.y}}switch(cv(e)){case"start":m[o]-=f*(t&&u?-1:1);break;case"end":m[o]+=f*(t&&u?-1:1);break}return m}const Hce=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:c}=Gj(u,r,l),f=r,m={},v=0;for(let b=0;b<a.length;b++){const{name:y,fn:w}=a[b],{x:A,y:E,data:C,reset:M}=await w({x:d,y:c,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:n,floating:e}});d=A??d,c=E??c,m={...m,[y]:{...m[y],...C}},M&&v<=50&&(v++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:d,y:c}=Gj(u,f,l)),b=-1)}return{x:d,y:c,placement:f,strategy:i,middlewareData:m}};async function Nx(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:c="floating",altBoundary:f=!1,padding:m=0}=xd(e,n),v=u$(m),y=a[f?c==="floating"?"reference":"floating":c],w=aS(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),A=c==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},M=aS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:E,strategy:l}):A);return{top:(w.top-M.top+v.top)/C.y,bottom:(M.bottom-w.bottom+v.bottom)/C.y,left:(w.left-M.left+v.left)/C.x,right:(M.right-w.right+v.right)/C.x}}const Gce=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=xd(n,e)||{};if(u==null)return{};const c=u$(d),f={x:t,y:r},m=KF(i),v=XF(m),b=await o.getDimensions(u),y=m==="y",w=y?"top":"left",A=y?"bottom":"right",E=y?"clientHeight":"clientWidth",C=s.reference[v]+s.reference[m]-f[m]-s.floating[v],M=f[m]-s.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=P?P[E]:0;(!O||!await(o.isElement==null?void 0:o.isElement(P)))&&(O=a.floating[E]||s.floating[v]);const k=C/2-M/2,D=O/2-b[v]/2-1,I=$f(c[w],D),L=$f(c[A],D),W=I,q=O-b[v]-L,K=O/2-b[v]/2+k,ie=rI(W,K,q),V=!l.arrow&&cv(i)!=null&&K!==ie&&s.reference[v]/2-(K<W?I:L)-b[v]/2<0,J=V?K<W?K-W:K-q:0;return{[m]:f[m]+J,data:{[m]:ie,centerOffset:K-ie-J,...V&&{alignmentOffset:J}},reset:V}}}),Vce=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...y}=xd(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=bd(i),A=Xc(a),E=bd(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=f||(E||!b?[oS(a)]:Bce(a)),P=v!=="none";!f&&P&&M.push(...Uce(a,b,v,C));const O=[a,...M],k=await Nx(e,y),D=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&D.push(k[w]),c){const K=Dce(i,o,C);D.push(k[K[0]],k[K[1]])}if(I=[...I,{placement:i,overflows:D}],!D.every(K=>K<=0)){var L,W;const K=(((L=s.flip)==null?void 0:L.index)||0)+1,ie=O[K];if(ie&&(!(c==="alignment"?A!==Xc(ie):!1)||I.every(H=>Xc(H.placement)===A?H.overflows[0]>0:!0)))return{data:{index:K,overflows:I},reset:{placement:ie}};let V=(W=I.filter(J=>J.overflows[0]<=0).sort((J,H)=>J.overflows[1]-H.overflows[1])[0])==null?void 0:W.placement;if(!V)switch(m){case"bestFit":{var q;const J=(q=I.filter(H=>{if(P){const Y=Xc(H.placement);return Y===A||Y==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Y=>Y>0).reduce((Y,ne)=>Y+ne,0)]).sort((H,Y)=>H[1]-Y[1])[0])==null?void 0:q[0];J&&(V=J);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function Vj(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Wj(n){return Nce.some(e=>n[e]>=0)}const Wce=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=xd(n,e);switch(r){case"referenceHidden":{const s=await Nx(e,{...i,elementContext:"reference"}),o=Vj(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Wj(o)}}}case"escaped":{const s=await Nx(e,{...i,altBoundary:!0}),o=Vj(s,t.floating);return{data:{escapedOffsets:o,escaped:Wj(o)}}}default:return{}}}}},d$=new Set(["left","top"]);async function $ce(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=bd(t),a=cv(t),l=Xc(t)==="y",u=d$.has(o)?-1:1,d=s&&l?-1:1,c=xd(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const qce=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await $ce(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Xce=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:A}=y;return{x:w,y:A}}},...l}=xd(n,e),u={x:t,y:r},d=await Nx(e,l),c=Xc(bd(i)),f=qF(c);let m=u[f],v=u[c];if(s){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",A=m+d[y],E=m-d[w];m=rI(A,m,E)}if(o){const y=c==="y"?"top":"left",w=c==="y"?"bottom":"right",A=v+d[y],E=v-d[w];v=rI(A,v,E)}const b=a.fn({...e,[f]:m,[c]:v});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[f]:s,[c]:o}}}}}},Kce=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=xd(n,e),d={x:t,y:r},c=Xc(i),f=qF(c);let m=d[f],v=d[c];const b=xd(a,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const E=f==="y"?"height":"width",C=s.reference[f]-s.floating[E]+y.mainAxis,M=s.reference[f]+s.reference[E]-y.mainAxis;m<C?m=C:m>M&&(m=M)}if(u){var w,A;const E=f==="y"?"width":"height",C=d$.has(bd(i)),M=s.reference[c]-s.floating[E]+(C&&((w=o.offset)==null?void 0:w[c])||0)+(C?0:y.crossAxis),P=s.reference[c]+s.reference[E]+(C?0:((A=o.offset)==null?void 0:A[c])||0)-(C?y.crossAxis:0);v<M?v=M:v>P&&(v=P)}return{[f]:m,[c]:v}}}},Yce=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=xd(n,e),d=await Nx(e,u),c=bd(i),f=cv(i),m=Xc(i)==="y",{width:v,height:b}=s.floating;let y,w;c==="top"||c==="bottom"?(y=c,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=c,y=f==="end"?"top":"bottom");const A=b-d.top-d.bottom,E=v-d.left-d.right,C=$f(b-d[y],A),M=$f(v-d[w],E),P=!e.middlewareData.shift;let O=C,k=M;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=A),P&&!f){const I=Oa(d.left,0),L=Oa(d.right,0),W=Oa(d.top,0),q=Oa(d.bottom,0);m?k=v-2*(I!==0||L!==0?I+L:Oa(d.left,d.right)):O=b-2*(W!==0||q!==0?W+q:Oa(d.top,d.bottom))}await l({...e,availableWidth:k,availableHeight:O});const D=await o.getDimensions(a.floating);return v!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function EE(){return typeof window<"u"}function uv(n){return f$(n)?(n.nodeName||"").toLowerCase():"#document"}function La(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function mu(n){var e;return(e=(f$(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function f$(n){return EE()?n instanceof Node||n instanceof La(n).Node:!1}function fc(n){return EE()?n instanceof Element||n instanceof La(n).Element:!1}function ou(n){return EE()?n instanceof HTMLElement||n instanceof La(n).HTMLElement:!1}function $j(n){return!EE()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof La(n).ShadowRoot}const Jce=new Set(["inline","contents"]);function Gb(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=hc(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Jce.has(i)}const Zce=new Set(["table","td","th"]);function Qce(n){return Zce.has(uv(n))}const eue=[":popover-open",":modal"];function CE(n){return eue.some(e=>{try{return n.matches(e)}catch{return!1}})}const tue=["transform","translate","scale","rotate","perspective"],nue=["transform","translate","scale","rotate","perspective","filter"],rue=["paint","layout","strict","content"];function YF(n){const e=JF(),t=fc(n)?hc(n):n;return tue.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||nue.some(r=>(t.willChange||"").includes(r))||rue.some(r=>(t.contain||"").includes(r))}function iue(n){let e=qf(n);for(;ou(e)&&!g0(e);){if(YF(e))return e;if(CE(e))return null;e=qf(e)}return null}function JF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sue=new Set(["html","body","#document"]);function g0(n){return sue.has(uv(n))}function hc(n){return La(n).getComputedStyle(n)}function ME(n){return fc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qf(n){if(uv(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$j(n)&&n.host||mu(n);return $j(e)?e.host:e}function h$(n){const e=qf(n);return g0(e)?n.ownerDocument?n.ownerDocument.body:n.body:ou(e)&&Gb(e)?e:h$(e)}function Ix(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=h$(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=La(i);if(s){const a=sI(o);return e.concat(o,o.visualViewport||[],Gb(i)?i:[],a&&t?Ix(a):[])}return e.concat(i,Ix(i,[],t))}function sI(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function p$(n){const e=hc(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ou(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=sS(t)!==s||sS(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function ZF(n){return fc(n)?n:n.contextElement}function Zg(n){const e=ZF(n);if(!ou(e))return Zc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=p$(e);let o=(s?sS(t.width):t.width)/r,a=(s?sS(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oue=Zc(0);function m$(n){const e=La(n);return!JF()||!e.visualViewport?oue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aue(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==La(n)?!1:e}function Yp(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=ZF(n);let o=Zc(1);e&&(r?fc(r)&&(o=Zg(r)):o=Zg(n));const a=aue(s,t,r)?m$(s):Zc(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,c=i.height/o.y;if(s){const f=La(s),m=r&&fc(r)?La(r):r;let v=f,b=sI(v);for(;b&&r&&m!==v;){const y=Zg(b),w=b.getBoundingClientRect(),A=hc(b),E=w.left+(b.clientLeft+parseFloat(A.paddingLeft))*y.x,C=w.top+(b.clientTop+parseFloat(A.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,c*=y.y,l+=E,u+=C,v=La(b),b=sI(v)}}return aS({width:d,height:c,x:l,y:u})}function TE(n,e){const t=ME(n).scrollLeft;return e?e.left+t:Yp(mu(n)).left+t}function g$(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-TE(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function lue(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=mu(r),a=e?CE(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Zc(1);const d=Zc(0),c=ou(r);if((c||!c&&!s)&&((uv(r)!=="body"||Gb(o))&&(l=ME(r)),ou(r))){const m=Yp(r);u=Zg(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!c&&!s?g$(o,l):Zc(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-l.scrollTop*u.y+d.y+f.y}}function cue(n){return Array.from(n.getClientRects())}function uue(n){const e=mu(n),t=ME(n),r=n.ownerDocument.body,i=Oa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Oa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+TE(n);const a=-t.scrollTop;return hc(r).direction==="rtl"&&(o+=Oa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const qj=25;function due(n,e){const t=La(n),r=mu(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=JF();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=TE(r);if(u<=0){const d=r.ownerDocument,c=d.body,f=getComputedStyle(c),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(r.clientWidth-c.clientWidth-m);v<=qj&&(s-=v)}else u<=qj&&(s+=u);return{width:s,height:o,x:a,y:l}}const fue=new Set(["absolute","fixed"]);function hue(n,e){const t=Yp(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=ou(n)?Zg(n):Zc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Xj(n,e,t){let r;if(e==="viewport")r=due(n,t);else if(e==="document")r=uue(mu(n));else if(fc(e))r=hue(e,t);else{const i=m$(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return aS(r)}function v$(n,e){const t=qf(n);return t===e||!fc(t)||g0(t)?!1:hc(t).position==="fixed"||v$(t,e)}function pue(n,e){const t=e.get(n);if(t)return t;let r=Ix(n,[],!1).filter(a=>fc(a)&&uv(a)!=="body"),i=null;const s=hc(n).position==="fixed";let o=s?qf(n):n;for(;fc(o)&&!g0(o);){const a=hc(o),l=YF(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&fue.has(i.position)||Gb(o)&&!l&&v$(n,o))?r=r.filter(d=>d!==o):i=a,o=qf(o)}return e.set(n,r),r}function mue(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?CE(e)?[]:pue(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,d)=>{const c=Xj(e,d,i);return u.top=Oa(c.top,u.top),u.right=$f(c.right,u.right),u.bottom=$f(c.bottom,u.bottom),u.left=Oa(c.left,u.left),u},Xj(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gue(n){const{width:e,height:t}=p$(n);return{width:e,height:t}}function vue(n,e,t){const r=ou(e),i=mu(e),s=t==="fixed",o=Yp(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Zc(0);function u(){l.x=TE(i)}if(r||!r&&!s)if((uv(e)!=="body"||Gb(i))&&(a=ME(e)),r){const m=Yp(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?g$(i,a):Zc(0),c=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:c,y:f,width:o.width,height:o.height}}function iT(n){return hc(n).position==="static"}function Kj(n,e){if(!ou(n)||hc(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return mu(n)===t&&(t=t.ownerDocument.body),t}function y$(n,e){const t=La(n);if(CE(n))return t;if(!ou(n)){let i=qf(n);for(;i&&!g0(i);){if(fc(i)&&!iT(i))return i;i=qf(i)}return t}let r=Kj(n,e);for(;r&&Qce(r)&&iT(r);)r=Kj(r,e);return r&&g0(r)&&iT(r)&&!YF(r)?t:r||iue(n)||t}const yue=async function(n){const e=this.getOffsetParent||y$,t=this.getDimensions,r=await t(n.floating);return{reference:vue(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xue(n){return hc(n).direction==="rtl"}const bue={convertOffsetParentRelativeRectToViewportRelativeRect:lue,getDocumentElement:mu,getClippingRect:mue,getOffsetParent:y$,getElementRects:yue,getClientRects:cue,getDimensions:gue,getScale:Zg,isElement:fc,isRTL:xue};function x$(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function _ue(n,e){let t=null,r;const i=mu(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:d,top:c,width:f,height:m}=u;if(a||e(),!f||!m)return;const v=f1(c),b=f1(i.clientWidth-(d+f)),y=f1(i.clientHeight-(c+m)),w=f1(d),E={rootMargin:-v+"px "+-b+"px "+-y+"px "+-w+"px",threshold:Oa(0,$f(1,l))||1};let C=!0;function M(P){const O=P[0].intersectionRatio;if(O!==l){if(!C)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!x$(u,n.getBoundingClientRect())&&o(),C=!1}try{t=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(M,E)}t.observe(n)}return o(!0),s}function wue(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ZF(n),d=i||s?[...u?Ix(u):[],...Ix(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const c=u&&a?_ue(u,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[A]=w;A&&A.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),t()}),u&&!l&&m.observe(u),m.observe(e));let v,b=l?Yp(n):null;l&&y();function y(){const w=Yp(n);b&&!x$(b,w)&&t(),b=w,v=requestAnimationFrame(y)}return t(),()=>{var w;d.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),c?.(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const Sue=qce,Aue=Xce,Eue=Vce,Cue=Yce,Mue=Wce,Yj=Gce,Tue=Kce,Pue=(n,e,t)=>{const r=new Map,i={platform:bue,...t},s={...i.platform,_c:r};return Hce(n,e,{...i,platform:s})};var Rue=typeof document<"u",Nue=function(){},Gw=Rue?B.useLayoutEffect:Nue;function lS(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!lS(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!lS(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function b$(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Jj(n,e){const t=b$(n);return Math.round(e*t)/t}function sT(n){const e=B.useRef(n);return Gw(()=>{e.current=n}),e}function Iue(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,c]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=B.useState(r);lS(f,r)||m(r);const[v,b]=B.useState(null),[y,w]=B.useState(null),A=B.useCallback(H=>{H!==P.current&&(P.current=H,b(H))},[]),E=B.useCallback(H=>{H!==O.current&&(O.current=H,w(H))},[]),C=s||v,M=o||y,P=B.useRef(null),O=B.useRef(null),k=B.useRef(d),D=l!=null,I=sT(l),L=sT(i),W=sT(u),q=B.useCallback(()=>{if(!P.current||!O.current)return;const H={placement:e,strategy:t,middleware:f};L.current&&(H.platform=L.current),Pue(P.current,O.current,H).then(Y=>{const ne={...Y,isPositioned:W.current!==!1};K.current&&!lS(k.current,ne)&&(k.current=ne,Fb.flushSync(()=>{c(ne)}))})},[f,e,t,L,W]);Gw(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,c(H=>({...H,isPositioned:!1})))},[u]);const K=B.useRef(!1);Gw(()=>(K.current=!0,()=>{K.current=!1}),[]),Gw(()=>{if(C&&(P.current=C),M&&(O.current=M),C&&M){if(I.current)return I.current(C,M,q);q()}},[C,M,q,I,D]);const ie=B.useMemo(()=>({reference:P,floating:O,setReference:A,setFloating:E}),[A,E]),V=B.useMemo(()=>({reference:C,floating:M}),[C,M]),J=B.useMemo(()=>{const H={position:t,left:0,top:0};if(!V.floating)return H;const Y=Jj(V.floating,d.x),ne=Jj(V.floating,d.y);return a?{...H,transform:"translate("+Y+"px, "+ne+"px)",...b$(V.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:ne}},[t,a,V.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:q,refs:ie,elements:V,floatingStyles:J}),[d,q,ie,V,J])}const Oue=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Yj({element:r.current,padding:i}).fn(t):{}:r?Yj({element:r,padding:i}).fn(t):{}}}},Fue=(n,e)=>({...Sue(n),options:[n,e]}),Due=(n,e)=>({...Aue(n),options:[n,e]}),Bue=(n,e)=>({...Tue(n),options:[n,e]}),kue=(n,e)=>({...Eue(n),options:[n,e]}),Lue=(n,e)=>({...Cue(n),options:[n,e]}),jue=(n,e)=>({...Mue(n),options:[n,e]}),Uue=(n,e)=>({...Oue(n),options:[n,e]});var zue="Arrow",_$=B.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return p.jsx($n.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});_$.displayName=zue;var Hue=_$,QF="Popper",[w$,PE]=mc(QF),[Gue,S$]=w$(QF),A$=n=>{const{__scopePopper:e,children:t}=n,[r,i]=B.useState(null);return p.jsx(Gue,{scope:e,anchor:r,onAnchorChange:i,children:t})};A$.displayName=QF;var E$="PopperAnchor",C$=B.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=S$(E$,t),o=B.useRef(null),a=Ir(e,o),l=B.useRef(null);return B.useEffect(()=>{const u=l.current;l.current=r?.current||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:p.jsx($n.div,{...i,ref:a})});C$.displayName=E$;var eD="PopperContent",[Vue,Wue]=w$(eD),M$=B.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:c="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...b}=n,y=S$(eD,t),[w,A]=B.useState(null),E=Ir(e,Ae=>A(Ae)),[C,M]=B.useState(null),P=yE(C),O=P?.width??0,k=P?.height??0,D=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],W=L.length>0,q={padding:I,boundary:L.filter(que),altBoundary:W},{refs:K,floatingStyles:ie,placement:V,isPositioned:J,middlewareData:H}=Iue({strategy:"fixed",placement:D,whileElementsMounted:(...Ae)=>wue(...Ae,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Fue({mainAxis:i+k,alignmentAxis:o}),l&&Due({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?Bue():void 0,...q}),l&&kue({...q}),Lue({...q,apply:({elements:Ae,rects:ke,availableWidth:Oe,availableHeight:Ge})=>{const{width:et,height:ze}=ke.reference,nt=Ae.floating.style;nt.setProperty("--radix-popper-available-width",`${Oe}px`),nt.setProperty("--radix-popper-available-height",`${Ge}px`),nt.setProperty("--radix-popper-anchor-width",`${et}px`),nt.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),C&&Uue({element:C,padding:a}),Xue({arrowWidth:O,arrowHeight:k}),f&&jue({strategy:"referenceHidden",...q})]}),[Y,ne]=R$(V),Z=Wf(v);Eo(()=>{J&&Z?.()},[J,Z]);const oe=H.arrow?.x,ye=H.arrow?.y,Be=H.arrow?.centerOffset!==0,[Xe,we]=B.useState();return Eo(()=>{w&&we(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:J?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(Vue,{scope:t,placedSide:Y,onArrowChange:M,arrowX:oe,arrowY:ye,shouldHideArrow:Be,children:p.jsx($n.div,{"data-side":Y,"data-align":ne,...b,ref:E,style:{...b.style,animation:J?void 0:"none"}})})})});M$.displayName=eD;var T$="PopperArrow",$ue={top:"bottom",right:"left",bottom:"top",left:"right"},P$=B.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Wue(T$,r),o=$ue[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(Hue,{...i,ref:t,style:{...i.style,display:"block"}})})});P$.displayName=T$;function que(n){return n!==null}var Xue=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,d]=R$(t),c={start:"0%",center:"50%",end:"100%"}[d],f=(i.arrow?.x??0)+a/2,m=(i.arrow?.y??0)+l/2;let v="",b="";return u==="bottom"?(v=o?c:`${f}px`,b=`${-l}px`):u==="top"?(v=o?c:`${f}px`,b=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,b=o?c:`${m}px`):u==="left"&&(v=`${r.floating.width+l}px`,b=o?c:`${m}px`),{data:{x:v,y:b}}}});function R$(n){const[e,t="center"]=n.split("-");return[e,t]}var N$=A$,I$=C$,O$=M$,F$=P$,Kue="Portal",RE=B.forwardRef((n,e)=>{const{container:t,...r}=n,[i,s]=B.useState(!1);Eo(()=>s(!0),[]);const o=t||i&&globalThis?.document?.body;return o?k7.createPortal(p.jsx($n.div,{...r,ref:e}),o):null});RE.displayName=Kue;var D$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Yue="VisuallyHidden",Jue=B.forwardRef((n,e)=>p.jsx($n.span,{...n,ref:e,style:{...D$,...n.style}}));Jue.displayName=Yue;var Zue=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},lg=new WeakMap,h1=new WeakMap,p1={},oT=0,B$=function(n){return n&&(n.host||B$(n.parentNode))},Que=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=B$(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},ede=function(n,e,t,r){var i=Que(e,Array.isArray(n)?n:[n]);p1[t]||(p1[t]=new WeakMap);var s=p1[t],o=[],a=new Set,l=new Set(i),u=function(c){!c||a.has(c)||(a.add(c),u(c.parentNode))};i.forEach(u);var d=function(c){!c||l.has(c)||Array.prototype.forEach.call(c.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",b=(lg.get(f)||0)+1,y=(s.get(f)||0)+1;lg.set(f,b),s.set(f,y),o.push(f),b===1&&v&&h1.set(f,!0),y===1&&f.setAttribute(t,"true"),v||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),a.clear(),oT++,function(){o.forEach(function(c){var f=lg.get(c)-1,m=s.get(c)-1;lg.set(c,f),s.set(c,m),f||(h1.has(c)||c.removeAttribute(r),h1.delete(c)),m||c.removeAttribute(t)}),oT--,oT||(lg=new WeakMap,lg=new WeakMap,h1=new WeakMap,p1={})}},k$=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Zue(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ede(r,i,t,"aria-hidden")):function(){return null}},$c=function(){return $c=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$c.apply(this,arguments)};function L$(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tde(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Vw="right-scroll-bar-position",Ww="width-before-scroll-bar",nde="with-scroll-bars-hidden",rde="--removed-body-scroll-bar-size";function aT(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function ide(n,e){var t=B.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var sde=typeof window<"u"?B.useLayoutEffect:B.useEffect,Zj=new WeakMap;function ode(n,e){var t=ide(null,function(r){return n.forEach(function(i){return aT(i,r)})});return sde(function(){var r=Zj.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||aT(a,null)}),s.forEach(function(a){i.has(a)||aT(a,o)})}Zj.set(t,n)},[n]),t}function ade(n){return n}function lde(n,e){e===void 0&&(e=ade);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return i}function cde(n){n===void 0&&(n={});var e=lde(null);return e.options=$c({async:!0,ssr:!1},n),e}var j$=function(n){var e=n.sideCar,t=L$(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,$c({},t))};j$.isSideCarExport=!0;function ude(n,e){return n.useMedium(e),j$}var U$=cde(),lT=function(){},NE=B.forwardRef(function(n,e){var t=B.useRef(null),r=B.useState({onScrollCapture:lT,onWheelCapture:lT,onTouchMoveCapture:lT}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,u=n.removeScrollBar,d=n.enabled,c=n.shards,f=n.sideCar,m=n.noRelative,v=n.noIsolation,b=n.inert,y=n.allowPinchZoom,w=n.as,A=w===void 0?"div":w,E=n.gapMode,C=L$(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,P=ode([t,e]),O=$c($c({},C),i);return B.createElement(B.Fragment,null,d&&B.createElement(M,{sideCar:U$,removeScrollBar:u,shards:c,noRelative:m,noIsolation:v,inert:b,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:E}),o?B.cloneElement(B.Children.only(a),$c($c({},O),{ref:P})):B.createElement(A,$c({},O,{className:l,ref:P}),a))});NE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};NE.classNames={fullWidth:Ww,zeroRight:Vw};var dde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fde(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=dde();return e&&n.setAttribute("nonce",e),n}function hde(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function pde(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var mde=function(){var n=0,e=null;return{add:function(t){n==0&&(e=fde())&&(hde(e,t),pde(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gde=function(){var n=mde();return function(e,t){B.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},z$=function(){var n=gde(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},vde={left:0,top:0,right:0,gap:0},cT=function(n){return parseInt(n||"",10)||0},yde=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[cT(t),cT(r),cT(i)]},xde=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return vde;var e=yde(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},bde=z$(),Qg="data-scroll-locked",_de=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(nde,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vw,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ww,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vw," .").concat(Vw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ww," .").concat(Ww,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qg,`] {
    `).concat(rde,": ").concat(a,`px;
  }
`)},Qj=function(){var n=parseInt(document.body.getAttribute(Qg)||"0",10);return isFinite(n)?n:0},wde=function(){B.useEffect(function(){return document.body.setAttribute(Qg,(Qj()+1).toString()),function(){var n=Qj()-1;n<=0?document.body.removeAttribute(Qg):document.body.setAttribute(Qg,n.toString())}},[])},Sde=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;wde();var s=B.useMemo(function(){return xde(i)},[i]);return B.createElement(bde,{styles:_de(s,!e,i,t?"":"!important")})},oI=!1;if(typeof window<"u")try{var m1=Object.defineProperty({},"passive",{get:function(){return oI=!0,!0}});window.addEventListener("test",m1,m1),window.removeEventListener("test",m1,m1)}catch{oI=!1}var cg=oI?{passive:!1}:!1,Ade=function(n){return n.tagName==="TEXTAREA"},H$=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Ade(n)&&t[e]==="visible")},Ede=function(n){return H$(n,"overflowY")},Cde=function(n){return H$(n,"overflowX")},eU=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=G$(n,r);if(i){var s=V$(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Mde=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Tde=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},G$=function(n,e){return n==="v"?Ede(e):Cde(e)},V$=function(n,e){return n==="v"?Mde(e):Tde(e)},Pde=function(n,e){return n==="h"&&e==="rtl"?-1:1},Rde=function(n,e,t,r,i){var s=Pde(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),u=!1,d=o>0,c=0,f=0;do{if(!a)break;var m=V$(n,a),v=m[0],b=m[1],y=m[2],w=b-y-s*v;(v||w)&&G$(n,a)&&(c+=w,f+=v);var A=a.parentNode;a=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(c)<1||!d&&Math.abs(f)<1)&&(u=!0),u},g1=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},tU=function(n){return[n.deltaX,n.deltaY]},nU=function(n){return n&&"current"in n?n.current:n},Nde=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Ide=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Ode=0,ug=[];function Fde(n){var e=B.useRef([]),t=B.useRef([0,0]),r=B.useRef(),i=B.useState(Ode++)[0],s=B.useState(z$)[0],o=B.useRef(n);B.useEffect(function(){o.current=n},[n]),B.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var b=tde([n.lockRef.current],(n.shards||[]).map(nU),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=B.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var w=g1(b),A=t.current,E="deltaX"in b?b.deltaX:A[0]-w[0],C="deltaY"in b?b.deltaY:A[1]-w[1],M,P=b.target,O=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in b&&O==="h"&&P.type==="range")return!1;var k=eU(O,P);if(!k)return!0;if(k?M=O:(M=O==="v"?"h":"v",k=eU(O,P)),!k)return!1;if(!r.current&&"changedTouches"in b&&(E||C)&&(r.current=M),!M)return!0;var D=r.current||M;return Rde(D,y,b,D==="h"?E:C)},[]),l=B.useCallback(function(b){var y=b;if(!(!ug.length||ug[ug.length-1]!==s)){var w="deltaY"in y?tU(y):g1(y),A=e.current.filter(function(M){return M.name===y.type&&(M.target===y.target||y.target===M.shadowParent)&&Nde(M.delta,w)})[0];if(A&&A.should){y.cancelable&&y.preventDefault();return}if(!A){var E=(o.current.shards||[]).map(nU).filter(Boolean).filter(function(M){return M.contains(y.target)}),C=E.length>0?a(y,E[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=B.useCallback(function(b,y,w,A){var E={name:b,delta:y,target:w,should:A,shadowParent:Dde(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),d=B.useCallback(function(b){t.current=g1(b),r.current=void 0},[]),c=B.useCallback(function(b){u(b.type,tU(b),b.target,a(b,n.lockRef.current))},[]),f=B.useCallback(function(b){u(b.type,g1(b),b.target,a(b,n.lockRef.current))},[]);B.useEffect(function(){return ug.push(s),n.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:f}),document.addEventListener("wheel",l,cg),document.addEventListener("touchmove",l,cg),document.addEventListener("touchstart",d,cg),function(){ug=ug.filter(function(b){return b!==s}),document.removeEventListener("wheel",l,cg),document.removeEventListener("touchmove",l,cg),document.removeEventListener("touchstart",d,cg)}},[]);var m=n.removeScrollBar,v=n.inert;return B.createElement(B.Fragment,null,v?B.createElement(s,{styles:Ide(i)}):null,m?B.createElement(Sde,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Dde(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Bde=ude(U$,Fde);var tD=B.forwardRef(function(n,e){return B.createElement(NE,$c({},n,{ref:e,sideCar:Bde}))});tD.classNames=NE.classNames;var kde=[" ","Enter","ArrowUp","ArrowDown"],Lde=[" ","Enter"],Jp="Select",[IE,OE,jde]=WF(Jp),[dv]=mc(Jp,[jde,PE]),FE=PE(),[Ude,nh]=dv(Jp),[zde,Hde]=dv(Jp),W$=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:c,disabled:f,required:m,form:v}=n,b=FE(e),[y,w]=B.useState(null),[A,E]=B.useState(null),[C,M]=B.useState(!1),P=SE(u),[O,k]=yd({prop:r,defaultProp:i??!1,onChange:s,caller:Jp}),[D,I]=yd({prop:o,defaultProp:a,onChange:l,caller:Jp}),L=B.useRef(null),W=y?v||!!y.closest("form"):!0,[q,K]=B.useState(new Set),ie=Array.from(q).map(V=>V.props.value).join(";");return p.jsx(N$,{...b,children:p.jsxs(Ude,{required:m,scope:e,trigger:y,onTriggerChange:w,valueNode:A,onValueNodeChange:E,valueNodeHasChildren:C,onValueNodeHasChildrenChange:M,contentId:Hf(),value:D,onValueChange:I,open:O,onOpenChange:k,dir:P,triggerPointerDownPosRef:L,disabled:f,children:[p.jsx(IE.Provider,{scope:e,children:p.jsx(zde,{scope:n.__scopeSelect,onNativeOptionAdd:B.useCallback(V=>{K(J=>new Set(J).add(V))},[]),onNativeOptionRemove:B.useCallback(V=>{K(J=>{const H=new Set(J);return H.delete(V),H})},[]),children:t})}),W?p.jsxs(hq,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:c,value:D,onChange:V=>I(V.target.value),disabled:f,form:v,children:[D===void 0?p.jsx("option",{value:""}):null,Array.from(q)]},ie):null]})})};W$.displayName=Jp;var $$="SelectTrigger",q$=B.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=FE(t),o=nh($$,t),a=o.disabled||r,l=Ir(e,o.onTriggerChange),u=OE(t),d=B.useRef("touch"),[c,f,m]=mq(b=>{const y=u().filter(E=>!E.disabled),w=y.find(E=>E.value===o.value),A=gq(y,b,w);A!==void 0&&o.onValueChange(A.value)}),v=b=>{a||(o.onOpenChange(!0),m()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return p.jsx(I$,{asChild:!0,...s,children:p.jsx($n.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pq(o.value)?"":void 0,...i,ref:l,onClick:Dn(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&v(b)}),onPointerDown:Dn(i.onPointerDown,b=>{d.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Dn(i.onKeyDown,b=>{const y=c.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&f(b.key),!(y&&b.key===" ")&&kde.includes(b.key)&&(v(),b.preventDefault())})})})});q$.displayName=$$;var X$="SelectValue",K$=B.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=nh(X$,t),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,c=Ir(e,l.onValueNodeChange);return Eo(()=>{u(d)},[u,d]),p.jsx($n.span,{...a,ref:c,style:{pointerEvents:"none"},children:pq(l.value)?p.jsx(p.Fragment,{children:o}):s})});K$.displayName=X$;var Gde="SelectIcon",Y$=B.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return p.jsx($n.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Y$.displayName=Gde;var Vde="SelectPortal",J$=n=>p.jsx(RE,{asChild:!0,...n});J$.displayName=Vde;var Zp="SelectContent",Z$=B.forwardRef((n,e)=>{const t=nh(Zp,n.__scopeSelect),[r,i]=B.useState();if(Eo(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Fb.createPortal(p.jsx(Q$,{scope:n.__scopeSelect,children:p.jsx(IE.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),s):null}return p.jsx(eq,{...n,ref:e})});Z$.displayName=Zp;var Zl=10,[Q$,rh]=dv(Zp),Wde="SelectContentImpl",$de=p0("SelectContent.RemoveScroll"),eq=B.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:c,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:b,avoidCollisions:y,...w}=n,A=nh(Zp,t),[E,C]=B.useState(null),[M,P]=B.useState(null),O=Ir(e,Ae=>C(Ae)),[k,D]=B.useState(null),[I,L]=B.useState(null),W=OE(t),[q,K]=B.useState(!1),ie=B.useRef(!1);B.useEffect(()=>{if(E)return k$(E)},[E]),l$();const V=B.useCallback(Ae=>{const[ke,...Oe]=W().map(ze=>ze.ref.current),[Ge]=Oe.slice(-1),et=document.activeElement;for(const ze of Ae)if(ze===et||(ze?.scrollIntoView({block:"nearest"}),ze===ke&&M&&(M.scrollTop=0),ze===Ge&&M&&(M.scrollTop=M.scrollHeight),ze?.focus(),document.activeElement!==et))return},[W,M]),J=B.useCallback(()=>V([k,E]),[V,k,E]);B.useEffect(()=>{q&&J()},[q,J]);const{onOpenChange:H,triggerPointerDownPosRef:Y}=A;B.useEffect(()=>{if(E){let Ae={x:0,y:0};const ke=Ge=>{Ae={x:Math.abs(Math.round(Ge.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(Ge.pageY)-(Y.current?.y??0))}},Oe=Ge=>{Ae.x<=10&&Ae.y<=10?Ge.preventDefault():E.contains(Ge.target)||H(!1),document.removeEventListener("pointermove",ke),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[E,H,Y]),B.useEffect(()=>{const Ae=()=>H(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[H]);const[ne,Z]=mq(Ae=>{const ke=W().filter(et=>!et.disabled),Oe=ke.find(et=>et.ref.current===document.activeElement),Ge=gq(ke,Ae,Oe);Ge&&setTimeout(()=>Ge.ref.current.focus())}),oe=B.useCallback((Ae,ke,Oe)=>{const Ge=!ie.current&&!Oe;(A.value!==void 0&&A.value===ke||Ge)&&(D(Ae),Ge&&(ie.current=!0))},[A.value]),ye=B.useCallback(()=>E?.focus(),[E]),Be=B.useCallback((Ae,ke,Oe)=>{const Ge=!ie.current&&!Oe;(A.value!==void 0&&A.value===ke||Ge)&&L(Ae)},[A.value]),Xe=r==="popper"?aI:tq,we=Xe===aI?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:c,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:b,avoidCollisions:y}:{};return p.jsx(Q$,{scope:t,content:E,viewport:M,onViewportChange:P,itemRefCallback:oe,selectedItem:k,onItemLeave:ye,itemTextRefCallback:Be,focusSelectedItem:J,selectedItemText:I,position:r,isPositioned:q,searchRef:ne,children:p.jsx(tD,{as:$de,allowPinchZoom:!0,children:p.jsx($F,{asChild:!0,trapped:A.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:Dn(i,Ae=>{A.trigger?.focus({preventScroll:!0}),Ae.preventDefault()}),children:p.jsx(AE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:p.jsx(Xe,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Ae=>Ae.preventDefault(),...w,...we,onPlaced:()=>K(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Dn(w.onKeyDown,Ae=>{const ke=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!ke&&Ae.key.length===1&&Z(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let Ge=W().filter(et=>!et.disabled).map(et=>et.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const et=Ae.target,ze=Ge.indexOf(et);Ge=Ge.slice(ze+1)}setTimeout(()=>V(Ge)),Ae.preventDefault()}})})})})})})});eq.displayName=Wde;var qde="SelectItemAlignedPosition",tq=B.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=nh(Zp,t),o=rh(Zp,t),[a,l]=B.useState(null),[u,d]=B.useState(null),c=Ir(e,O=>d(O)),f=OE(t),m=B.useRef(!1),v=B.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:w,focusSelectedItem:A}=o,E=B.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&b&&y&&w){const O=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(s.dir!=="rtl"){const et=I.left-k.left,ze=D.left-et,nt=O.left-ze,Fe=O.width+nt,ce=Math.max(Fe,k.width),rt=window.innerWidth-Zl,ct=iS(ze,[Zl,Math.max(Zl,rt-ce)]);a.style.minWidth=Fe+"px",a.style.left=ct+"px"}else{const et=k.right-I.right,ze=window.innerWidth-D.right-et,nt=window.innerWidth-O.right-ze,Fe=O.width+nt,ce=Math.max(Fe,k.width),rt=window.innerWidth-Zl,ct=iS(ze,[Zl,Math.max(Zl,rt-ce)]);a.style.minWidth=Fe+"px",a.style.right=ct+"px"}const L=f(),W=window.innerHeight-Zl*2,q=b.scrollHeight,K=window.getComputedStyle(u),ie=parseInt(K.borderTopWidth,10),V=parseInt(K.paddingTop,10),J=parseInt(K.borderBottomWidth,10),H=parseInt(K.paddingBottom,10),Y=ie+V+q+H+J,ne=Math.min(y.offsetHeight*5,Y),Z=window.getComputedStyle(b),oe=parseInt(Z.paddingTop,10),ye=parseInt(Z.paddingBottom,10),Be=O.top+O.height/2-Zl,Xe=W-Be,we=y.offsetHeight/2,Ae=y.offsetTop+we,ke=ie+V+Ae,Oe=Y-ke;if(ke<=Be){const et=L.length>0&&y===L[L.length-1].ref.current;a.style.bottom="0px";const ze=u.clientHeight-b.offsetTop-b.offsetHeight,nt=Math.max(Xe,we+(et?ye:0)+ze+J),Fe=ke+nt;a.style.height=Fe+"px"}else{const et=L.length>0&&y===L[0].ref.current;a.style.top="0px";const nt=Math.max(Be,ie+b.offsetTop+(et?oe:0)+we)+Oe;a.style.height=nt+"px",b.scrollTop=ke-Be+b.offsetTop}a.style.margin=`${Zl}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=W+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,u,b,y,w,s.dir,r]);Eo(()=>E(),[E]);const[C,M]=B.useState();Eo(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const P=B.useCallback(O=>{O&&v.current===!0&&(E(),A?.(),v.current=!1)},[E,A]);return p.jsx(Kde,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:p.jsx($n.div,{...i,ref:c,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tq.displayName=qde;var Xde="SelectPopperPosition",aI=B.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Zl,...s}=n,o=FE(t);return p.jsx(O$,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aI.displayName=Xde;var[Kde,nD]=dv(Zp,{}),lI="SelectViewport",nq=B.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=rh(lI,t),o=nD(lI,t),a=Ir(e,s.onViewportChange),l=B.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(IE.Slot,{scope:t,children:p.jsx($n.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Dn(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:f}=o;if(f?.current&&c){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Zl*2,b=parseFloat(c.style.minHeight),y=parseFloat(c.style.height),w=Math.max(b,y);if(w<v){const A=w+m,E=Math.min(v,A),C=A-E;c.style.height=E+"px",c.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,c.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});nq.displayName=lI;var rq="SelectGroup",[Yde,Jde]=dv(rq),Zde=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Hf();return p.jsx(Yde,{scope:t,id:i,children:p.jsx($n.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Zde.displayName=rq;var iq="SelectLabel",Qde=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Jde(iq,t);return p.jsx($n.div,{id:i.id,...r,ref:e})});Qde.displayName=iq;var cS="SelectItem",[efe,sq]=dv(cS),oq=B.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=nh(cS,t),l=rh(cS,t),u=a.value===r,[d,c]=B.useState(s??""),[f,m]=B.useState(!1),v=Ir(e,A=>l.itemRefCallback?.(A,r,i)),b=Hf(),y=B.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(efe,{scope:t,value:r,disabled:i,textId:b,isSelected:u,onItemTextChange:B.useCallback(A=>{c(E=>E||(A?.textContent??"").trim())},[]),children:p.jsx(IE.ItemSlot,{scope:t,value:r,disabled:i,textValue:d,children:p.jsx($n.div,{role:"option","aria-labelledby":b,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Dn(o.onFocus,()=>m(!0)),onBlur:Dn(o.onBlur,()=>m(!1)),onClick:Dn(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Dn(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Dn(o.onPointerDown,A=>{y.current=A.pointerType}),onPointerMove:Dn(o.onPointerMove,A=>{y.current=A.pointerType,i?l.onItemLeave?.():y.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Dn(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Dn(o.onKeyDown,A=>{l.searchRef?.current!==""&&A.key===" "||(Lde.includes(A.key)&&w(),A.key===" "&&A.preventDefault())})})})})});oq.displayName=cS;var Xy="SelectItemText",aq=B.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=nh(Xy,t),a=rh(Xy,t),l=sq(Xy,t),u=Hde(Xy,t),[d,c]=B.useState(null),f=Ir(e,w=>c(w),l.onItemTextChange,w=>a.itemTextRefCallback?.(w,l.value,l.disabled)),m=d?.textContent,v=B.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return Eo(()=>(b(v),()=>y(v)),[b,y,v]),p.jsxs(p.Fragment,{children:[p.jsx($n.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fb.createPortal(s.children,o.valueNode):null]})});aq.displayName=Xy;var lq="SelectItemIndicator",cq=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return sq(lq,t).isSelected?p.jsx($n.span,{"aria-hidden":!0,...r,ref:e}):null});cq.displayName=lq;var cI="SelectScrollUpButton",uq=B.forwardRef((n,e)=>{const t=rh(cI,n.__scopeSelect),r=nD(cI,n.__scopeSelect),[i,s]=B.useState(!1),o=Ir(e,r.onScrollButtonChange);return Eo(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?p.jsx(fq,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});uq.displayName=cI;var uI="SelectScrollDownButton",dq=B.forwardRef((n,e)=>{const t=rh(uI,n.__scopeSelect),r=nD(uI,n.__scopeSelect),[i,s]=B.useState(!1),o=Ir(e,r.onScrollButtonChange);return Eo(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?p.jsx(fq,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});dq.displayName=uI;var fq=B.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=rh("SelectScrollButton",t),o=B.useRef(null),a=OE(t),l=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>l(),[l]),Eo(()=>{a().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),p.jsx($n.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Dn(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Dn(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Dn(i.onPointerLeave,()=>{l()})})}),tfe="SelectSeparator",nfe=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx($n.div,{"aria-hidden":!0,...r,ref:e})});nfe.displayName=tfe;var dI="SelectArrow",rfe=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=FE(t),s=nh(dI,t),o=rh(dI,t);return s.open&&o.position==="popper"?p.jsx(F$,{...i,...r,ref:e}):null});rfe.displayName=dI;var ife="SelectBubbleInput",hq=B.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=B.useRef(null),s=Ir(r,i),o=vE(e);return B.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const c=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(c)}},[o,e]),p.jsx($n.select,{...t,style:{...D$,...t.style},ref:s,defaultValue:e})});hq.displayName=ife;function pq(n){return n===""||n===void 0}function mq(n){const e=Wf(n),t=B.useRef(""),r=B.useRef(0),i=B.useCallback(o=>{const a=t.current+o;e(a),(function l(u){t.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),s=B.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function gq(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=sfe(n,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==t));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function sfe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var ofe=W$,afe=q$,lfe=K$,cfe=Y$,ufe=J$,dfe=Z$,ffe=nq,hfe=oq,pfe=aq,mfe=cq,gfe=uq,vfe=dq;function e0({...n}){return p.jsx(ofe,{"data-slot":"select",...n})}function t0({...n}){return p.jsx(lfe,{"data-slot":"select-value",...n})}function n0({className:n,size:e="default",children:t,...r}){return p.jsxs(afe,{"data-slot":"select-trigger","data-size":e,className:Wn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,p.jsx(cfe,{asChild:!0,children:p.jsx(HF,{className:"size-4 opacity-50"})})]})}function r0({className:n,children:e,position:t="popper",...r}){return p.jsx(ufe,{children:p.jsxs(dfe,{"data-slot":"select-content",className:Wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[p.jsx(yfe,{}),p.jsx(ffe,{className:Wn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(xfe,{})]})})}function wi({className:n,children:e,...t}){return p.jsxs(hfe,{"data-slot":"select-item",className:Wn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(mfe,{children:p.jsx(t$,{className:"size-4"})})}),p.jsx(pfe,{children:e})]})}function yfe({className:n,...e}){return p.jsx(gfe,{"data-slot":"select-scroll-up-button",className:Wn("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(n$,{className:"size-4"})})}function xfe({className:n,...e}){return p.jsx(vfe,{"data-slot":"select-scroll-down-button",className:Wn("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(HF,{className:"size-4"})})}var vq=["PageUp","PageDown"],yq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xq={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fv="Slider",[fI,bfe,_fe]=WF(fv),[bq]=mc(fv,[_fe]),[wfe,DE]=bq(fv),_q=B.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:c=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:v,...b}=n,y=B.useRef(new Set),w=B.useRef(0),E=o==="horizontal"?Sfe:Afe,[C=[],M]=yd({prop:d,defaultProp:u,onChange:L=>{[...y.current][w.current]?.focus(),c(L)}}),P=B.useRef(C);function O(L){const W=Pfe(C,L);I(L,W)}function k(L){I(L,w.current)}function D(){const L=P.current[w.current];C[w.current]!==L&&f(C)}function I(L,W,{commit:q}={commit:!1}){const K=Ofe(s),ie=Ffe(Math.round((L-r)/s)*s+r,K),V=iS(ie,[r,i]);M((J=[])=>{const H=Mfe(J,V,W);if(Ife(H,l*s)){w.current=H.indexOf(V);const Y=String(H)!==String(J);return Y&&q&&f(H),Y?H:J}else return J})}return p.jsx(wfe,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:w,thumbs:y.current,values:C,orientation:o,form:v,children:p.jsx(fI.Provider,{scope:n.__scopeSlider,children:p.jsx(fI.Slot,{scope:n.__scopeSlider,children:p.jsx(E,{"aria-disabled":a,"data-disabled":a?"":void 0,...b,ref:e,onPointerDown:Dn(b.onPointerDown,()=>{a||(P.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:O,onSlideMove:a?void 0:k,onSlideEnd:a?void 0:D,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(i,C.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:W})=>{if(!a){const ie=vq.includes(L.key)||L.shiftKey&&yq.includes(L.key)?10:1,V=w.current,J=C[V],H=s*ie*W;I(J+H,V,{commit:!0})}}})})})})});_q.displayName=fv;var[wq,Sq]=bq(fv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Sfe=B.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=n,[c,f]=B.useState(null),m=Ir(e,E=>f(E)),v=B.useRef(void 0),b=SE(i),y=b==="ltr",w=y&&!s||!y&&s;function A(E){const C=v.current||c.getBoundingClientRect(),M=[0,C.width],O=rD(M,w?[t,r]:[r,t]);return v.current=C,O(E-C.left)}return p.jsx(wq,{scope:n.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:p.jsx(Aq,{dir:b,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const C=A(E.clientX);o?.(C)},onSlideMove:E=>{const C=A(E.clientX);a?.(C)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:E=>{const M=xq[w?"from-left":"from-right"].includes(E.key);u?.({event:E,direction:M?-1:1})}})})}),Afe=B.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=n,d=B.useRef(null),c=Ir(e,d),f=B.useRef(void 0),m=!i;function v(b){const y=f.current||d.current.getBoundingClientRect(),w=[0,y.height],E=rD(w,m?[r,t]:[t,r]);return f.current=y,E(b-y.top)}return p.jsx(wq,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:p.jsx(Aq,{"data-orientation":"vertical",...u,ref:c,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const y=v(b.clientY);s?.(y)},onSlideMove:b=>{const y=v(b.clientY);o?.(y)},onSlideEnd:()=>{f.current=void 0,a?.()},onStepKeyDown:b=>{const w=xq[m?"from-bottom":"from-top"].includes(b.key);l?.({event:b,direction:w?-1:1})}})})}),Aq=B.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=n,d=DE(fv,t);return p.jsx($n.span,{...u,ref:e,onKeyDown:Dn(n.onKeyDown,c=>{c.key==="Home"?(o(c),c.preventDefault()):c.key==="End"?(a(c),c.preventDefault()):vq.concat(yq).includes(c.key)&&(l(c),c.preventDefault())}),onPointerDown:Dn(n.onPointerDown,c=>{const f=c.target;f.setPointerCapture(c.pointerId),c.preventDefault(),d.thumbs.has(f)?f.focus():r(c)}),onPointerMove:Dn(n.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&i(c)}),onPointerUp:Dn(n.onPointerUp,c=>{const f=c.target;f.hasPointerCapture(c.pointerId)&&(f.releasePointerCapture(c.pointerId),s(c))})})}),Eq="SliderTrack",Cq=B.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=DE(Eq,t);return p.jsx($n.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Cq.displayName=Eq;var hI="SliderRange",Mq=B.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=DE(hI,t),s=Sq(hI,t),o=B.useRef(null),a=Ir(e,o),l=i.values.length,u=i.values.map(f=>Rq(f,i.min,i.max)),d=l>1?Math.min(...u):0,c=100-Math.max(...u);return p.jsx($n.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:d+"%",[s.endEdge]:c+"%"}})});Mq.displayName=hI;var pI="SliderThumb",Tq=B.forwardRef((n,e)=>{const t=bfe(n.__scopeSlider),[r,i]=B.useState(null),s=Ir(e,a=>i(a)),o=B.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return p.jsx(Efe,{...n,ref:s,index:o})}),Efe=B.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=DE(pI,t),a=Sq(pI,t),[l,u]=B.useState(null),d=Ir(e,A=>u(A)),c=l?o.form||!!l.closest("form"):!0,f=yE(l),m=o.values[r],v=m===void 0?0:Rq(m,o.min,o.max),b=Tfe(r,o.values.length),y=f?.[a.size],w=y?Rfe(y,v,a.direction):0;return B.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${w}px)`},children:[p.jsx(fI.ItemSlot,{scope:n.__scopeSlider,children:p.jsx($n.span,{role:"slider","aria-label":n["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:n.style,onFocus:Dn(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),c&&p.jsx(Pq,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});Tq.displayName=pI;var Cfe="RadioBubbleInput",Pq=B.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=B.useRef(null),s=Ir(i,r),o=vE(e);return B.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const c=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(c)}},[o,e]),p.jsx($n.input,{style:{display:"none"},...t,ref:s,defaultValue:e})});Pq.displayName=Cfe;function Mfe(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function Rq(n,e,t){const s=100/(t-e)*(n-e);return iS(s,[0,100])}function Tfe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function Pfe(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function Rfe(n,e,t){const r=n/2,s=rD([0,50],[0,r]);return(r-s(e)*t)*t}function Nfe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function Ife(n,e){if(e>0){const t=Nfe(n);return Math.min(...t)>=e}return!0}function rD(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Ofe(n){return(String(n).split(".")[1]||"").length}function Ffe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var Dfe=_q,Bfe=Cq,kfe=Mq,Lfe=Tq;function Ox({className:n,defaultValue:e,value:t,min:r=0,max:i=100,...s}){const o=B.useMemo(()=>Array.isArray(t)?t:Array.isArray(e)?e:[r,i],[t,e,r,i]);return p.jsxs(Dfe,{"data-slot":"slider",defaultValue:e,value:t,min:r,max:i,className:Wn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),...s,children:[p.jsx(Bfe,{"data-slot":"slider-track",className:Wn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:p.jsx(kfe,{"data-slot":"slider-range",className:Wn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(a,l)=>p.jsx(Lfe,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}var BE="Dialog",[Nq]=mc(BE),[jfe,gc]=Nq(BE),Iq=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=B.useRef(null),l=B.useRef(null),[u,d]=yd({prop:r,defaultProp:i??!1,onChange:s,caller:BE});return p.jsx(jfe,{scope:e,triggerRef:a,contentRef:l,contentId:Hf(),titleId:Hf(),descriptionId:Hf(),open:u,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(c=>!c),[d]),modal:o,children:t})};Iq.displayName=BE;var Oq="DialogTrigger",Fq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(Oq,t),s=Ir(e,i.triggerRef);return p.jsx($n.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oD(i.open),...r,ref:s,onClick:Dn(n.onClick,i.onOpenToggle)})});Fq.displayName=Oq;var iD="DialogPortal",[Ufe,Dq]=Nq(iD,{forceMount:void 0}),Bq=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=gc(iD,e);return p.jsx(Ufe,{scope:e,forceMount:t,children:B.Children.map(r,o=>p.jsx(th,{present:t||s.open,children:p.jsx(RE,{asChild:!0,container:i,children:o})}))})};Bq.displayName=iD;var uS="DialogOverlay",kq=B.forwardRef((n,e)=>{const t=Dq(uS,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=gc(uS,n.__scopeDialog);return s.modal?p.jsx(th,{present:r||s.open,children:p.jsx(Hfe,{...i,ref:e})}):null});kq.displayName=uS;var zfe=p0("DialogOverlay.RemoveScroll"),Hfe=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(uS,t);return p.jsx(tD,{as:zfe,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx($n.div,{"data-state":oD(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qp="DialogContent",Lq=B.forwardRef((n,e)=>{const t=Dq(Qp,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=gc(Qp,n.__scopeDialog);return p.jsx(th,{present:r||s.open,children:s.modal?p.jsx(Gfe,{...i,ref:e}):p.jsx(Vfe,{...i,ref:e})})});Lq.displayName=Qp;var Gfe=B.forwardRef((n,e)=>{const t=gc(Qp,n.__scopeDialog),r=B.useRef(null),i=Ir(e,t.contentRef,r);return B.useEffect(()=>{const s=r.current;if(s)return k$(s)},[]),p.jsx(jq,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dn(n.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Dn(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Dn(n.onFocusOutside,s=>s.preventDefault())})}),Vfe=B.forwardRef((n,e)=>{const t=gc(Qp,n.__scopeDialog),r=B.useRef(!1),i=B.useRef(!1);return p.jsx(jq,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{n.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||t.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{n.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),jq=B.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=gc(Qp,t),l=B.useRef(null),u=Ir(e,l);return l$(),p.jsxs(p.Fragment,{children:[p.jsx($F,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(AE,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":oD(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Wfe,{titleId:a.titleId}),p.jsx(qfe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),sD="DialogTitle",Uq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(sD,t);return p.jsx($n.h2,{id:i.titleId,...r,ref:e})});Uq.displayName=sD;var zq="DialogDescription",Hq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(zq,t);return p.jsx($n.p,{id:i.descriptionId,...r,ref:e})});Hq.displayName=zq;var Gq="DialogClose",Vq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(Gq,t);return p.jsx($n.button,{type:"button",...r,ref:e,onClick:Dn(n.onClick,()=>i.onOpenChange(!1))})});Vq.displayName=Gq;function oD(n){return n?"open":"closed"}var Wq="DialogTitleWarning",[k8e,$q]=Joe(Wq,{contentName:Qp,titleName:sD,docsSlug:"dialog"}),Wfe=({titleId:n})=>{const e=$q(Wq),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},$fe="DialogDescriptionWarning",qfe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$q($fe).contentName}}.`;return B.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},qq=Iq,Xfe=Fq,Xq=Bq,Kq=kq,Yq=Lq,Jq=Uq,Zq=Hq,Qq=Vq;function kE({...n}){return p.jsx(qq,{"data-slot":"dialog",...n})}function Kfe({...n}){return p.jsx(Xfe,{"data-slot":"dialog-trigger",...n})}function Yfe({...n}){return p.jsx(Xq,{"data-slot":"dialog-portal",...n})}const eX=B.forwardRef(({className:n,...e},t)=>p.jsx(Kq,{ref:t,"data-slot":"dialog-overlay",className:Wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));eX.displayName="DialogOverlay";function LE({className:n,children:e,...t}){return p.jsxs(Yfe,{"data-slot":"dialog-portal",children:[p.jsx(eX,{}),p.jsxs(Yq,{"data-slot":"dialog-content",className:Wn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,p.jsxs(Qq,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(VF,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function jE({className:n,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:Wn("flex flex-col gap-2 text-center sm:text-left",n),...e})}function UE({className:n,...e}){return p.jsx(Jq,{"data-slot":"dialog-title",className:Wn("text-lg leading-none font-semibold",n),...e})}function zE({className:n,...e}){return p.jsx(Zq,{"data-slot":"dialog-description",className:Wn("text-muted-foreground text-sm",n),...e})}function tX({onLogin:n}){const[e,t]=B.useState(!1),[r,i]=B.useState("patient"),[s,o]=B.useState([5]),[a,l]=B.useState(""),[u,d]=B.useState(""),[c,f]=B.useState(""),[m,v]=B.useState(!1),[b,y]=B.useState(""),[w,A]=B.useState(!1),[E,C]=B.useState(!1),{login:M,register:P}=pu(),O=Td(),k=async I=>{I&&I.preventDefault(),y(""),A(!0);try{if(m){if(!c.trim()){y("Please enter your name"),A(!1);return}await P({name:c,email:a,password:u,role:r}),r==="patient"?t(!0):D()}else{await M({email:a,password:u});const L=bp.getCurrentUser();if(!L){y("Login failed. Please try again."),A(!1);return}const W=L.role,q=r,K=W==="clinician"?"clinician":"patient";if(K!==q){y(`You are registered as a ${K}. Please select "${K==="clinician"?"Clinician":"Patient"}" to log in.`),A(!1),await bp.logout();return}K==="patient"?t(!0):D()}}catch(L){const W=L?.response?.data?.message;y(W||`${m?"Registration":"Login"} failed. Please try again.`)}finally{A(!1)}},D=()=>{t(!1),n?n(r):O("/dashboard")};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#E9E6F9] via-white to-white flex items-center justify-center p-8",children:[p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-2xl mb-4",children:p.jsx(pm,{className:"w-8 h-8 text-white"})}),p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Welcome to RehabMax AI+"}),p.jsx("p",{className:"text-gray-600",children:"Your AI coach that sees your form, senses your effort, and predicts your progress"})]}),p.jsx(Dt,{className:"border-0 shadow-2xl shadow-[#2C2E6F]/10",children:p.jsxs(Bt,{className:"p-8 space-y-6",children:[b&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:b}),p.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"name",children:"Name"}),p.jsx(bs,{id:"name",name:"name",type:"text",autoComplete:"name",placeholder:"Your name",className:"bg-white border-gray-200",value:c,onChange:I=>f(I.target.value),required:m})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"email",children:"Email"}),p.jsx(bs,{id:"email",name:"email",type:"email",autoComplete:m?"username":"email",placeholder:"you@example.com",className:"bg-white border-gray-200",value:a,onChange:I=>l(I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"password",children:"Password"}),p.jsx(bs,{id:"password",name:"password",type:"password",autoComplete:m?"new-password":"current-password",placeholder:"",className:"bg-white border-gray-200",value:u,onChange:I=>d(I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"role-select",children:"I am a..."}),p.jsxs(e0,{value:r,onValueChange:I=>i(I),children:[p.jsx(n0,{id:"role-select",name:"role",className:"bg-white border-gray-200",children:p.jsx(t0,{})}),p.jsxs(r0,{children:[p.jsx(wi,{value:"patient",children:"Patient"}),p.jsx(wi,{value:"clinician",children:"Clinician"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(fce,{id:"terms",checked:E,onCheckedChange:I=>C(I===!0)}),p.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:["I agree to the"," ",p.jsx("a",{href:"#",className:"text-[#2C2E6F] hover:underline",children:"privacy policy"})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(zt,{type:"submit",className:"w-full bg-[#2C2E6F] hover:bg-[#1f2050] text-white shadow-lg shadow-[#2C2E6F]/30 disabled:opacity-50",disabled:w||!E,children:w?m?"Signing Up...":"Logging In...":m?"Sign Up":"Log In"}),p.jsxs(zt,{type:"button",variant:"outline",className:"w-full border-gray-200 hover:bg-[#E9E6F9] hover:text-[#2C2E6F] hover:border-[#2C2E6F]",children:[p.jsx(Nae,{className:"w-4 h-4 mr-2"}),"Continue with Google"]})]})]}),p.jsx("div",{className:"text-center",children:p.jsxs("p",{className:"text-sm text-gray-600",children:[m?"Already have an account? ":"Don't have an account? ",p.jsx("button",{type:"button",onClick:()=>{v(!m),y("")},className:"text-[#2C2E6F] hover:underline",children:m?"Log In":"Sign Up"})]})})]})}),p.jsx("p",{className:"text-center text-xs text-gray-500",children:"Protected by encryption. Your data stays private."})]}),p.jsx(kE,{open:e,onOpenChange:t,children:p.jsxs(LE,{className:"sm:max-w-md",children:[p.jsxs(jE,{children:[p.jsx(UE,{children:"Quick Baseline Assessment"}),p.jsx(zE,{children:"Help us personalize your recovery journey"})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"injury-type-select",children:"What are you recovering from?"}),p.jsxs(e0,{children:[p.jsx(n0,{id:"injury-type-select",name:"injuryType",children:p.jsx(t0,{placeholder:"Select injury type"})}),p.jsxs(r0,{children:[p.jsx(wi,{value:"shoulder",children:"Shoulder Injury"}),p.jsx(wi,{value:"knee",children:"Knee Rehabilitation"}),p.jsx(wi,{value:"back",children:"Lower Back Pain"}),p.jsx(wi,{value:"hip",children:"Hip Replacement Recovery"}),p.jsx(wi,{value:"neck",children:"Neck Strain"}),p.jsx(wi,{value:"other",children:"Other"})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(as,{htmlFor:"pain-level-slider",children:"Current Pain Level"}),p.jsxs("span",{className:"text-2xl font-semibold text-[#2C2E6F]",children:[s[0],"/10"]})]}),p.jsx(Ox,{id:"pain-level-slider",name:"painLevel",value:s,onValueChange:o,max:10,step:1,className:"py-4","aria-label":"Current Pain Level"}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[p.jsx("span",{children:"No pain"}),p.jsx("span",{children:"Worst pain"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"primary-goal-select",children:"Primary Goal"}),p.jsxs(e0,{children:[p.jsx(n0,{id:"primary-goal-select",name:"primaryGoal",children:p.jsx(t0,{placeholder:"What do you want to achieve?"})}),p.jsxs(r0,{children:[p.jsx(wi,{value:"pain",children:"Reduce Pain"}),p.jsx(wi,{value:"mobility",children:"Improve Mobility"}),p.jsx(wi,{value:"strength",children:"Build Strength"}),p.jsx(wi,{value:"return",children:"Return to Activity"})]})]})]}),p.jsx(zt,{className:"w-full bg-[#2C2E6F] hover:bg-[#1f2050]",onClick:D,children:"Start My Journey"})]})]})})]})}function Jfe({currentPage:n,onPageChange:e,userRole:t}){const{user:r,logout:i}=pu(),s=Td(),o=m=>{m==="friends-messages"?(e(m),s(`/${m}`,{state:{tab:"messages"}})):(e(m),s(`/${m}`))},a=async()=>{await i(),s("/login")},l=()=>r?.name?r.name.charAt(0).toUpperCase():t==="patient"?"P":"C",u=()=>r?.name||(t==="patient"?"Patient":"Clinician"),f=t==="patient"?[{id:"dashboard",label:"Dashboard",icon:Cj},{id:"ai-plan",label:"AI Plan Reader",icon:rS},{id:"live-session",label:"Live Session",icon:tI},{id:"quests",label:"Quests & XP",icon:Up},{id:"friends-messages",label:"Friends & Messages",icon:Of},{id:"future-self",label:"Future Self",icon:_E},{id:"clarity-hub",label:"Clarity Hub",icon:Wc},{id:"body-scan",label:"Body Scan",icon:s$},{id:"echo-body",label:"EchoBody",icon:pm},{id:"exercises",label:"Exercises",icon:r$},{id:"settings",label:"Settings",icon:Nj}]:[{id:"clinician-dashboard",label:"Dashboard",icon:Cj},{id:"patients",label:"Patients",icon:Rx},{id:"actuarial-insights",label:"Actuarial Insights",icon:wae},{id:"settings",label:"Settings",icon:Nj}];return p.jsxs("aside",{className:"fixed left-0 top-0 h-screen w-64 text-white flex flex-col",style:{background:"linear-gradient(to bottom, #6F66FF, #8C7BFF)",backgroundColor:"#6F66FF",backgroundImage:"linear-gradient(to bottom, #6F66FF, #8C7BFF)",zIndex:50},children:[p.jsxs("div",{className:"p-6",children:[p.jsx("h1",{className:"text-xl",children:"RehabMax AI+"}),p.jsx("p",{className:"text-sm opacity-80 mt-1",children:t==="patient"?"Smart Recovery":"Clinic Portal"})]}),p.jsx("nav",{className:"flex-1 px-3",children:f.map(m=>{const v=m.icon,b=n===m.id;return p.jsxs("button",{onClick:()=>o(m.id),className:Wn("w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-all",b?"bg-white/20 shadow-lg":"hover:bg-white/10"),children:[p.jsx(v,{size:20}),p.jsx("span",{className:"text-sm",children:m.label})]},m.id)})}),p.jsxs("div",{className:"p-4 border-t border-white/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:l()}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:u()}),p.jsx("p",{className:"text-xs opacity-70",children:t==="patient"?r?.email||"Patient":r?.email||"Clinician"})]})]}),p.jsxs(zt,{variant:"outline",onClick:a,className:"w-full text-xs bg-white/10 hover:bg-white/20 rounded-lg px-3 py-2 transition-colors border-white/20 text-white",children:[p.jsx(tle,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}var aD="Progress",lD=100,[Zfe]=mc(aD),[Qfe,ehe]=Zfe(aD),nX=B.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:s=the,...o}=n;(i||i===0)&&!rU(i)&&console.error(nhe(`${i}`,"Progress"));const a=rU(i)?i:lD;r!==null&&!iU(r,a)&&console.error(rhe(`${r}`,"Progress"));const l=iU(r,a)?r:null,u=dS(l)?s(l,a):void 0;return p.jsx(Qfe,{scope:t,value:l,max:a,children:p.jsx($n.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":dS(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":sX(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});nX.displayName=aD;var rX="ProgressIndicator",iX=B.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,i=ehe(rX,t);return p.jsx($n.div,{"data-state":sX(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});iX.displayName=rX;function the(n,e){return`${Math.round(n/e*100)}%`}function sX(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function dS(n){return typeof n=="number"}function rU(n){return dS(n)&&!isNaN(n)&&n>0}function iU(n,e){return dS(n)&&!isNaN(n)&&n<=e&&n>=0}function nhe(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lD}\`.`}function rhe(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ihe=nX,she=iX;function em({className:n,value:e,...t}){return p.jsx(ihe,{"data-slot":"progress",className:Wn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:p.jsx(she,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const ohe=LF("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function hr({className:n,variant:e,asChild:t=!1,...r}){const i=t?LW:"span";return p.jsx(i,{"data-slot":"badge",className:Wn(ohe({variant:e}),n),...r})}var uT,sU;function ga(){if(sU)return uT;sU=1;var n=Array.isArray;return uT=n,uT}var dT,oU;function oX(){if(oU)return dT;oU=1;var n=typeof Fa=="object"&&Fa&&Fa.Object===Object&&Fa;return dT=n,dT}var fT,aU;function gu(){if(aU)return fT;aU=1;var n=oX(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return fT=t,fT}var hT,lU;function Vb(){if(lU)return hT;lU=1;var n=gu(),e=n.Symbol;return hT=e,hT}var pT,cU;function ahe(){if(cU)return pT;cU=1;var n=Vb(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function s(o){var a=t.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(a?o[i]=l:delete o[i]),d}return pT=s,pT}var mT,uU;function lhe(){if(uU)return mT;uU=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return mT=t,mT}var gT,dU;function Pd(){if(dU)return gT;dU=1;var n=Vb(),e=ahe(),t=lhe(),r="[object Null]",i="[object Undefined]",s=n?n.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):t(a)}return gT=o,gT}var vT,fU;function Rd(){if(fU)return vT;fU=1;function n(e){return e!=null&&typeof e=="object"}return vT=n,vT}var yT,hU;function hv(){if(hU)return yT;hU=1;var n=Pd(),e=Rd(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return yT=r,yT}var xT,pU;function cD(){if(pU)return xT;pU=1;var n=ga(),e=hv(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(n(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!t.test(s)||o!=null&&s in Object(o)}return xT=i,xT}var bT,mU;function ih(){if(mU)return bT;mU=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return bT=n,bT}var _T,gU;function uD(){if(gU)return _T;gU=1;var n=Pd(),e=ih(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=n(a);return l==r||l==i||l==t||l==s}return _T=o,_T}var wT,vU;function che(){if(vU)return wT;vU=1;var n=gu(),e=n["__core-js_shared__"];return wT=e,wT}var ST,yU;function uhe(){if(yU)return ST;yU=1;var n=che(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return ST=t,ST}var AT,xU;function aX(){if(xU)return AT;xU=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return AT=t,AT}var ET,bU;function dhe(){if(bU)return ET;bU=1;var n=uD(),e=uhe(),t=ih(),r=aX(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,d=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c(f){if(!t(f)||e(f))return!1;var m=n(f)?d:s;return m.test(r(f))}return ET=c,ET}var CT,_U;function fhe(){if(_U)return CT;_U=1;function n(e,t){return e?.[t]}return CT=n,CT}var MT,wU;function mm(){if(wU)return MT;wU=1;var n=dhe(),e=fhe();function t(r,i){var s=e(r,i);return n(s)?s:void 0}return MT=t,MT}var TT,SU;function HE(){if(SU)return TT;SU=1;var n=mm(),e=n(Object,"create");return TT=e,TT}var PT,AU;function hhe(){if(AU)return PT;AU=1;var n=HE();function e(){this.__data__=n?n(null):{},this.size=0}return PT=e,PT}var RT,EU;function phe(){if(EU)return RT;EU=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return RT=n,RT}var NT,CU;function mhe(){if(CU)return NT;CU=1;var n=HE(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(s){var o=this.__data__;if(n){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return NT=i,NT}var IT,MU;function ghe(){if(MU)return IT;MU=1;var n=HE(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var s=this.__data__;return n?s[i]!==void 0:t.call(s,i)}return IT=r,IT}var OT,TU;function vhe(){if(TU)return OT;TU=1;var n=HE(),e="__lodash_hash_undefined__";function t(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=n&&i===void 0?e:i,this}return OT=t,OT}var FT,PU;function yhe(){if(PU)return FT;PU=1;var n=hhe(),e=phe(),t=mhe(),r=ghe(),i=vhe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,FT=s,FT}var DT,RU;function xhe(){if(RU)return DT;RU=1;function n(){this.__data__=[],this.size=0}return DT=n,DT}var BT,NU;function dD(){if(NU)return BT;NU=1;function n(e,t){return e===t||e!==e&&t!==t}return BT=n,BT}var kT,IU;function GE(){if(IU)return kT;IU=1;var n=dD();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return kT=e,kT}var LT,OU;function bhe(){if(OU)return LT;OU=1;var n=GE(),e=Array.prototype,t=e.splice;function r(i){var s=this.__data__,o=n(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():t.call(s,o,1),--this.size,!0}return LT=r,LT}var jT,FU;function _he(){if(FU)return jT;FU=1;var n=GE();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return jT=e,jT}var UT,DU;function whe(){if(DU)return UT;DU=1;var n=GE();function e(t){return n(this.__data__,t)>-1}return UT=e,UT}var zT,BU;function She(){if(BU)return zT;BU=1;var n=GE();function e(t,r){var i=this.__data__,s=n(i,t);return s<0?(++this.size,i.push([t,r])):i[s][1]=r,this}return zT=e,zT}var HT,kU;function VE(){if(kU)return HT;kU=1;var n=xhe(),e=bhe(),t=_he(),r=whe(),i=She();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,HT=s,HT}var GT,LU;function fD(){if(LU)return GT;LU=1;var n=mm(),e=gu(),t=n(e,"Map");return GT=t,GT}var VT,jU;function Ahe(){if(jU)return VT;jU=1;var n=yhe(),e=VE(),t=fD();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return VT=r,VT}var WT,UU;function Ehe(){if(UU)return WT;UU=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return WT=n,WT}var $T,zU;function WE(){if(zU)return $T;zU=1;var n=Ehe();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return $T=e,$T}var qT,HU;function Che(){if(HU)return qT;HU=1;var n=WE();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return qT=e,qT}var XT,GU;function Mhe(){if(GU)return XT;GU=1;var n=WE();function e(t){return n(this,t).get(t)}return XT=e,XT}var KT,VU;function The(){if(VU)return KT;VU=1;var n=WE();function e(t){return n(this,t).has(t)}return KT=e,KT}var YT,WU;function Phe(){if(WU)return YT;WU=1;var n=WE();function e(t,r){var i=n(this,t),s=i.size;return i.set(t,r),this.size+=i.size==s?0:1,this}return YT=e,YT}var JT,$U;function hD(){if($U)return JT;$U=1;var n=Ahe(),e=Che(),t=Mhe(),r=The(),i=Phe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,JT=s,JT}var ZT,qU;function lX(){if(qU)return ZT;qU=1;var n=hD(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(t.Cache||n),s}return t.Cache=n,ZT=t,ZT}var QT,XU;function Rhe(){if(XU)return QT;XU=1;var n=lX(),e=500;function t(r){var i=n(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return QT=t,QT}var e2,KU;function Nhe(){if(KU)return e2;KU=1;var n=Rhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,u){s.push(l?u.replace(t,"$1"):a||o)}),s});return e2=r,e2}var t2,YU;function pD(){if(YU)return t2;YU=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}return t2=n,t2}var n2,JU;function Ihe(){if(JU)return n2;JU=1;var n=Vb(),e=pD(),t=ga(),r=hv(),i=n?n.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(t(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return n2=o,n2}var r2,ZU;function cX(){if(ZU)return r2;ZU=1;var n=Ihe();function e(t){return t==null?"":n(t)}return r2=e,r2}var i2,QU;function uX(){if(QU)return i2;QU=1;var n=ga(),e=cD(),t=Nhe(),r=cX();function i(s,o){return n(s)?s:e(s,o)?[s]:t(r(s))}return i2=i,i2}var s2,e4;function $E(){if(e4)return s2;e4=1;var n=hv();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return s2=e,s2}var o2,t4;function mD(){if(t4)return o2;t4=1;var n=uX(),e=$E();function t(r,i){i=n(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return o2=t,o2}var a2,n4;function dX(){if(n4)return a2;n4=1;var n=mD();function e(t,r,i){var s=t==null?void 0:n(t,r);return s===void 0?i:s}return a2=e,a2}var Ohe=dX();const vl=Hr(Ohe);var l2,r4;function Fhe(){if(r4)return l2;r4=1;function n(e){return e==null}return l2=n,l2}var Dhe=Fhe();const pr=Hr(Dhe);var c2,i4;function Bhe(){if(i4)return c2;i4=1;var n=Pd(),e=ga(),t=Rd(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&t(s)&&n(s)==r}return c2=i,c2}var khe=Bhe();const tm=Hr(khe);var Lhe=uD();const ir=Hr(Lhe);var jhe=ih();const pv=Hr(jhe);var u2={exports:{}},jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4;function Uhe(){if(s4)return jr;s4=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case n:switch(y=y.type,y){case t:case i:case r:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case l:case f:case c:case s:return y;default:return w}}case e:return w}}}return jr.ContextConsumer=o,jr.ContextProvider=s,jr.Element=n,jr.ForwardRef=l,jr.Fragment=t,jr.Lazy=f,jr.Memo=c,jr.Portal=e,jr.Profiler=i,jr.StrictMode=r,jr.Suspense=u,jr.SuspenseList=d,jr.isAsyncMode=function(){return!1},jr.isConcurrentMode=function(){return!1},jr.isContextConsumer=function(y){return b(y)===o},jr.isContextProvider=function(y){return b(y)===s},jr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},jr.isForwardRef=function(y){return b(y)===l},jr.isFragment=function(y){return b(y)===t},jr.isLazy=function(y){return b(y)===f},jr.isMemo=function(y){return b(y)===c},jr.isPortal=function(y){return b(y)===e},jr.isProfiler=function(y){return b(y)===i},jr.isStrictMode=function(y){return b(y)===r},jr.isSuspense=function(y){return b(y)===u},jr.isSuspenseList=function(y){return b(y)===d},jr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===c||y.$$typeof===s||y.$$typeof===o||y.$$typeof===l||y.$$typeof===v||y.getModuleId!==void 0)},jr.typeOf=b,jr}var o4;function zhe(){return o4||(o4=1,u2.exports=Uhe()),u2.exports}var Hhe=zhe(),d2,a4;function fX(){if(a4)return d2;a4=1;var n=Pd(),e=Rd(),t="[object Number]";function r(i){return typeof i=="number"||e(i)&&n(i)==t}return d2=r,d2}var f2,l4;function Ghe(){if(l4)return f2;l4=1;var n=fX();function e(t){return n(t)&&t!=+t}return f2=e,f2}var Vhe=Ghe();const mv=Hr(Vhe);var Whe=fX();const $he=Hr(Whe);var ac=function(e){return e===0?0:e>0?1:-1},Sp=function(e){return tm(e)&&e.indexOf("%")===e.length-1},$t=function(e){return $he(e)&&!mv(e)},qhe=function(e){return pr(e)},_s=function(e){return $t(e)||tm(e)},Xhe=0,gv=function(e){var t=++Xhe;return"".concat(e||"").concat(t)},nm=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(e)&&!tm(e))return r;var s;if(Sp(e)){var o=e.indexOf("%");s=t*parseFloat(e.slice(0,o))/100}else s=+e;return mv(s)&&(s=r),i&&s>t&&(s=t),s},Rf=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Khe=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},i=0;i<t;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Qs=function(e,t){return $t(e)&&$t(t)?function(r){return e+r*(t-e)}:function(){return t}};function fS(n,e,t){return!n||!n.length?null:n.find(function(r){return r&&(typeof e=="function"?e(r):vl(r,e))===t})}var Yhe=function(e,t){return $t(e)&&$t(t)?e-t:tm(e)&&tm(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function i0(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function mI(n){"@babel/helpers - typeof";return mI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mI(n)}var Jhe=["viewBox","children"],Zhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c4=["points","pathLength"],h2={svg:Jhe,polygon:c4,polyline:c4},gD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hS=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!pv(r))return null;var i={};return Object.keys(r).forEach(function(s){gD.includes(s)&&(i[s]=t||function(o){return r[s](r,o)})}),i},Qhe=function(e,t,r){return function(i){return e(t,r,i),null}},pS=function(e,t,r){if(!pv(e)||mI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];gD.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Qhe(o,t,r))}),i},epe=["children"],tpe=["children"];function u4(n,e){if(n==null)return{};var t=npe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function npe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function gI(n){"@babel/helpers - typeof";return gI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gI(n)}var d4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},f4=null,p2=null,vD=function n(e){if(e===f4&&Array.isArray(p2))return p2;var t=[];return B.Children.forEach(e,function(r){pr(r)||(Hhe.isFragment(r)?t=t.concat(n(r.props.children)):t.push(r))}),p2=t,f4=e,t};function yl(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fd(i)}):r=[fd(e)],vD(n).forEach(function(i){var s=vl(i,"type.displayName")||vl(i,"type.name");r.indexOf(s)!==-1&&t.push(i)}),t}function Ia(n,e){var t=yl(n,e);return t&&t[0]}var h4=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,i=t.height;return!(!$t(r)||r<=0||!$t(i)||i<=0)},rpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ipe=function(e){return e&&e.type&&tm(e.type)&&rpe.indexOf(e.type)>=0},hX=function(e){return e&&gI(e)==="object"&&"clipDot"in e},spe=function(e,t,r,i){var s,o=(s=h2?.[i])!==null&&s!==void 0?s:[];return t.startsWith("data-")||!ir(e)&&(i&&o.includes(t)||Zhe.includes(t))||r&&gD.includes(t)},ur=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!pv(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;spe((a=i)===null||a===void 0?void 0:a[o],o,t,r)&&(s[o]=i[o])}),s},vI=function n(e,t){if(e===t)return!0;var r=B.Children.count(e);if(r!==B.Children.count(t))return!1;if(r===0)return!0;if(r===1)return p4(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<r;i++){var s=e[i],o=t[i];if(Array.isArray(s)||Array.isArray(o)){if(!n(s,o))return!1}else if(!p4(s,o))return!1}return!0},p4=function(e,t){if(pr(e)&&pr(t))return!0;if(!pr(e)&&!pr(t)){var r=e.props||{},i=r.children,s=u4(r,epe),o=t.props||{},a=o.children,l=u4(o,tpe);return i&&a?i0(s,l)&&vI(i,a):!i&&!a?i0(s,l):!1}return!1},m4=function(e,t){var r=[],i={};return vD(e).forEach(function(s,o){if(ipe(s))r.push(s);else if(s){var a=fd(s.type),l=t[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var c=u(s,a,o);r.push(c),i[a]=!0}}}),r},ope=function(e){var t=e&&e.type;return t&&d4[t]?d4[t]:null},ape=function(e,t){return vD(t).indexOf(e)},lpe=["children","width","height","viewBox","className","style","title","desc"];function yI(){return yI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yI.apply(this,arguments)}function cpe(n,e){if(n==null)return{};var t=upe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function upe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function xI(n){var e=n.children,t=n.width,r=n.height,i=n.viewBox,s=n.className,o=n.style,a=n.title,l=n.desc,u=cpe(n,lpe),d=i||{width:t,height:r,x:0,y:0},c=yr("recharts-surface",s);return ue.createElement("svg",yI({},ur(u,!0,"svg"),{className:c,width:t,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,a),ue.createElement("desc",null,l),e)}var dpe=["children","className"];function bI(){return bI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bI.apply(this,arguments)}function fpe(n,e){if(n==null)return{};var t=hpe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function hpe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var si=ue.forwardRef(function(n,e){var t=n.children,r=n.className,i=fpe(n,dpe),s=yr("recharts-layer",r);return ue.createElement("g",bI({className:s},ur(i,!0),{ref:e}),t)}),hd=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},m2,g4;function ppe(){if(g4)return m2;g4=1;function n(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+t];return o}return m2=n,m2}var g2,v4;function mpe(){if(v4)return g2;v4=1;var n=ppe();function e(t,r,i){var s=t.length;return i=i===void 0?s:i,!r&&i>=s?t:n(t,r,i)}return g2=e,g2}var v2,y4;function pX(){if(y4)return v2;y4=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+n+i+s+"]");function l(u){return a.test(u)}return v2=l,v2}var y2,x4;function gpe(){if(x4)return y2;x4=1;function n(e){return e.split("")}return y2=n,y2}var x2,b4;function vpe(){if(b4)return x2;b4=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,s="\\ufe0e\\ufe0f",o="["+n+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",d="[^"+n+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=u+"?",b="["+s+"]?",y="(?:"+m+"(?:"+[d,c,f].join("|")+")"+b+v+")*",w=b+v+y,A="(?:"+[d+a+"?",a,c,f,o].join("|")+")",E=RegExp(l+"(?="+l+")|"+A+w,"g");function C(M){return M.match(E)||[]}return x2=C,x2}var b2,_4;function ype(){if(_4)return b2;_4=1;var n=gpe(),e=pX(),t=vpe();function r(i){return e(i)?t(i):n(i)}return b2=r,b2}var _2,w4;function xpe(){if(w4)return _2;w4=1;var n=mpe(),e=pX(),t=ype(),r=cX();function i(s){return function(o){o=r(o);var a=e(o)?t(o):void 0,l=a?a[0]:o.charAt(0),u=a?n(a,1).join(""):o.slice(1);return l[s]()+u}}return _2=i,_2}var w2,S4;function bpe(){if(S4)return w2;S4=1;var n=xpe(),e=n("toUpperCase");return w2=e,w2}var _pe=bpe();const qE=Hr(_pe);function ri(n){return function(){return n}}const mX=Math.cos,mS=Math.sin,vc=Math.sqrt,gS=Math.PI,XE=2*gS,_I=Math.PI,wI=2*_I,pp=1e-6,wpe=wI-pp;function gX(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Spe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return gX;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}let Ape=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gX:Spe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,o){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-t,d=o-e,c=a-t,f=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(f>pp)if(!(Math.abs(c*l-u*d)>pp)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let m=r-o,v=i-a,b=l*l+u*u,y=m*m+v*v,w=Math.sqrt(b),A=Math.sqrt(f),E=s*Math.tan((_I-Math.acos((b+f-y)/(2*w*A)))/2),C=E/A,M=E/w;Math.abs(C-1)>pp&&this._append`L${e+C*d},${t+C*c}`,this._append`A${s},${s},0,0,${+(c*m>d*v)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,r,i,s,o){if(e=+e,t=+t,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,d=t+l,c=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pp||Math.abs(this._y1-d)>pp)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%wI+wI),f>wpe?this._append`A${r},${r},0,1,${c},${e-a},${t-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=d}`:f>pp&&this._append`A${r},${r},0,${+(f>=_I)},${c},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function yD(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new Ape(e)}function xD(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function vX(n){this._context=n}vX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function KE(n){return new vX(n)}function yX(n){return n[0]}function xX(n){return n[1]}function bX(n,e){var t=ri(!0),r=null,i=KE,s=null,o=yD(a);n=typeof n=="function"?n:n===void 0?yX:ri(n),e=typeof e=="function"?e:e===void 0?xX:ri(e);function a(l){var u,d=(l=xD(l)).length,c,f=!1,m;for(r==null&&(s=i(m=o())),u=0;u<=d;++u)!(u<d&&t(c=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+n(c,u,l),+e(c,u,l));if(m)return s=null,m+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:ri(+l),a):n},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ri(+l),a):e},a.defined=function(l){return arguments.length?(t=typeof l=="function"?l:ri(!!l),a):t},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function v1(n,e,t){var r=null,i=ri(!0),s=null,o=KE,a=null,l=yD(u);n=typeof n=="function"?n:n===void 0?yX:ri(+n),e=typeof e=="function"?e:ri(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?xX:ri(+t);function u(c){var f,m,v,b=(c=xD(c)).length,y,w=!1,A,E=new Array(b),C=new Array(b);for(s==null&&(a=o(A=l())),f=0;f<=b;++f){if(!(f<b&&i(y=c[f],f,c))===w)if(w=!w)m=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=f-1;v>=m;--v)a.point(E[v],C[v]);a.lineEnd(),a.areaEnd()}w&&(E[f]=+n(y,f,c),C[f]=+e(y,f,c),a.point(r?+r(y,f,c):E[f],t?+t(y,f,c):C[f]))}if(A)return a=null,A+""||null}function d(){return bX().defined(i).curve(o).context(s)}return u.x=function(c){return arguments.length?(n=typeof c=="function"?c:ri(+c),r=null,u):n},u.x0=function(c){return arguments.length?(n=typeof c=="function"?c:ri(+c),u):n},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ri(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:ri(+c),t=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:ri(+c),u):e},u.y1=function(c){return arguments.length?(t=c==null?null:typeof c=="function"?c:ri(+c),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:ri(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,s!=null&&(a=o(s)),u):o},u.context=function(c){return arguments.length?(c==null?s=a=null:a=o(s=c),u):s},u}class _X{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Epe(n){return new _X(n,!0)}function Cpe(n){return new _X(n,!1)}const bD={draw(n,e){const t=vc(e/gS);n.moveTo(t,0),n.arc(0,0,t,0,XE)}},Mpe={draw(n,e){const t=vc(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},wX=vc(1/3),Tpe=wX*2,Ppe={draw(n,e){const t=vc(e/Tpe),r=t*wX;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},Rpe={draw(n,e){const t=vc(e),r=-t/2;n.rect(r,r,t,t)}},Npe=.8908130915292852,SX=mS(gS/10)/mS(7*gS/10),Ipe=mS(XE/10)*SX,Ope=-mX(XE/10)*SX,Fpe={draw(n,e){const t=vc(e*Npe),r=Ipe*t,i=Ope*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const o=XE*s/5,a=mX(o),l=mS(o);n.lineTo(l*t,-a*t),n.lineTo(a*r-l*i,l*r+a*i)}n.closePath()}},S2=vc(3),Dpe={draw(n,e){const t=-vc(e/(S2*3));n.moveTo(0,t*2),n.lineTo(-S2*t,-t),n.lineTo(S2*t,-t),n.closePath()}},nl=-.5,rl=vc(3)/2,SI=1/vc(12),Bpe=(SI/2+1)*3,kpe={draw(n,e){const t=vc(e/Bpe),r=t/2,i=t*SI,s=r,o=t*SI+t,a=-s,l=o;n.moveTo(r,i),n.lineTo(s,o),n.lineTo(a,l),n.lineTo(nl*r-rl*i,rl*r+nl*i),n.lineTo(nl*s-rl*o,rl*s+nl*o),n.lineTo(nl*a-rl*l,rl*a+nl*l),n.lineTo(nl*r+rl*i,nl*i-rl*r),n.lineTo(nl*s+rl*o,nl*o-rl*s),n.lineTo(nl*a+rl*l,nl*l-rl*a),n.closePath()}};function Lpe(n,e){let t=null,r=yD(i);n=typeof n=="function"?n:ri(n||bD),e=typeof e=="function"?e:ri(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:ri(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ri(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function vS(){}function yS(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function AX(n){this._context=n}AX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yS(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function jpe(n){return new AX(n)}function EX(n){this._context=n}EX.prototype={areaStart:vS,areaEnd:vS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:yS(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Upe(n){return new EX(n)}function CX(n){this._context=n}CX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:yS(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function zpe(n){return new CX(n)}function MX(n){this._context=n}MX.prototype={areaStart:vS,areaEnd:vS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Hpe(n){return new MX(n)}function A4(n){return n<0?-1:1}function E4(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),o=(t-n._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(A4(s)+A4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function C4(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function A2(n,e,t){var r=n._x0,i=n._y0,s=n._x1,o=n._y1,a=(s-r)/3;n._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*t,s,o)}function xS(n){this._context=n}xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A2(this,this._t0,C4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,A2(this,C4(this,t=E4(this,n,e)),t);break;default:A2(this,this._t0,t=E4(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function TX(n){this._context=new PX(n)}(TX.prototype=Object.create(xS.prototype)).point=function(n,e){xS.prototype.point.call(this,e,n)};function PX(n){this._context=n}PX.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function Gpe(n){return new xS(n)}function Vpe(n){return new TX(n)}function RX(n){this._context=n}RX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=M4(n),i=M4(e),s=0,o=1;o<t;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function M4(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),o=new Array(t);for(i[0]=0,s[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,o[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[t-1]=o[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function Wpe(n){return new RX(n)}function YE(n,e){this._context=n,this._t=e}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function $pe(n){return new YE(n,.5)}function qpe(n){return new YE(n,0)}function Xpe(n){return new YE(n,1)}function v0(n,e){if((o=n.length)>1)for(var t=1,r,i,s=n[e[0]],o,a=s.length;t<o;++t)for(i=s,s=n[e[t]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function AI(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Kpe(n,e){return n[e]}function Ype(n){const e=[];return e.key=n,e}function Jpe(){var n=ri([]),e=AI,t=v0,r=Kpe;function i(s){var o=Array.from(n.apply(this,arguments),Ype),a,l=o.length,u=-1,d;for(const c of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(c,o[a].key,u,s)]).data=c;for(a=0,d=xD(e(o));a<l;++a)o[d[a]].index=a;return t(o,d),o}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:ri(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ri(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?AI:typeof s=="function"?s:ri(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??v0,i):t},i}function Zpe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,o;i<s;++i){for(o=t=0;t<r;++t)o+=n[t][i][1]||0;if(o)for(t=0;t<r;++t)n[t][i][1]/=o}v0(n,e)}}function Qpe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var o=0,a=0;o<i;++o)a+=n[o][t][1]||0;r[t][1]+=r[t][0]=-a/2}v0(n,e)}}function eme(n,e){if(!(!((o=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var d=n[e[a]],c=d[r][1]||0,f=d[r-1][1]||0,m=(c-f)/2,v=0;v<a;++v){var b=n[e[v]],y=b[r][1]||0,w=b[r-1][1]||0;m+=y-w}l+=c,u+=m*c}i[r-1][1]+=i[r-1][0]=t,l&&(t-=u/l)}i[r-1][1]+=i[r-1][0]=t,v0(n,e)}}function Fx(n){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(n)}var tme=["type","size","sizeType"];function EI(){return EI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EI.apply(this,arguments)}function T4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function P4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(t),!0).forEach(function(r){nme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nme(n,e,t){return e=rme(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rme(n){var e=ime(n,"string");return Fx(e)=="symbol"?e:e+""}function ime(n,e){if(Fx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sme(n,e){if(n==null)return{};var t=ome(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ome(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var NX={symbolCircle:bD,symbolCross:Mpe,symbolDiamond:Ppe,symbolSquare:Rpe,symbolStar:Fpe,symbolTriangle:Dpe,symbolWye:kpe},ame=Math.PI/180,lme=function(e){var t="symbol".concat(qE(e));return NX[t]||bD},cme=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ame;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ume=function(e,t){NX["symbol".concat(qE(e))]=t},_D=function(e){var t=e.type,r=t===void 0?"circle":t,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=sme(e,tme),u=P4(P4({},l),{},{type:r,size:s,sizeType:a}),d=function(){var y=lme(r),w=Lpe().type(y).size(cme(s,a,r));return w()},c=u.className,f=u.cx,m=u.cy,v=ur(u,!0);return f===+f&&m===+m&&s===+s?ue.createElement("path",EI({},v,{className:yr("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};_D.registerSymbol=ume;function y0(n){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(n)}function CI(){return CI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CI.apply(this,arguments)}function R4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dme(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(t),!0).forEach(function(r){Dx(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,OX(r.key),r)}}function pme(n,e,t){return e&&hme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function mme(n,e,t){return e=bS(e),gme(n,IX()?Reflect.construct(e,t||[],bS(n).constructor):e.apply(n,t))}function gme(n,e){if(e&&(y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vme(n)}function vme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function IX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!n})()}function bS(n){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bS(n)}function yme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&MI(n,e)}function MI(n,e){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MI(n,e)}function Dx(n,e,t){return e=OX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OX(n){var e=xme(n,"string");return y0(e)=="symbol"?e:e+""}function xme(n,e){if(y0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var il=32,wD=(function(n){function e(){return fme(this,e),mme(this,e,arguments)}return yme(e,n),pme(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=il/2,o=il/6,a=il/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:il,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(il,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(il/8,"h").concat(il,"v").concat(il*3/4,"h").concat(-il,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(r.legendIcon)){var u=dme({},r);return delete u.legendIcon,ue.cloneElement(r.legendIcon,u)}return ue.createElement(_D,{fill:l,cx:s,cy:s,size:il,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:il,height:il},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var b=m.formatter||l,y=yr(Dx(Dx({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=ir(m.value)?null:m.value;hd(!ir(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=m.inactive?u:m.color;return ue.createElement("li",CI({className:y,style:c,key:"legend-item-".concat(v)},pS(r.props,m,v)),ue.createElement(xI,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},b?b(w,m,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(B.PureComponent);Dx(wD,"displayName","Legend");Dx(wD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var E2,N4;function bme(){if(N4)return E2;N4=1;var n=VE();function e(){this.__data__=new n,this.size=0}return E2=e,E2}var C2,I4;function _me(){if(I4)return C2;I4=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return C2=n,C2}var M2,O4;function wme(){if(O4)return M2;O4=1;function n(e){return this.__data__.get(e)}return M2=n,M2}var T2,F4;function Sme(){if(F4)return T2;F4=1;function n(e){return this.__data__.has(e)}return T2=n,T2}var P2,D4;function Ame(){if(D4)return P2;D4=1;var n=VE(),e=fD(),t=hD(),r=200;function i(s,o){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(s,o),this.size=a.size,this}return P2=i,P2}var R2,B4;function FX(){if(B4)return R2;B4=1;var n=VE(),e=bme(),t=_me(),r=wme(),i=Sme(),s=Ame();function o(a){var l=this.__data__=new n(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,R2=o,R2}var N2,k4;function Eme(){if(k4)return N2;k4=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return N2=e,N2}var I2,L4;function Cme(){if(L4)return I2;L4=1;function n(e){return this.__data__.has(e)}return I2=n,I2}var O2,j4;function DX(){if(j4)return O2;j4=1;var n=hD(),e=Eme(),t=Cme();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new n;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,O2=r,O2}var F2,U4;function BX(){if(U4)return F2;U4=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return F2=n,F2}var D2,z4;function kX(){if(z4)return D2;z4=1;function n(e,t){return e.has(t)}return D2=n,D2}var B2,H4;function LX(){if(H4)return B2;H4=1;var n=DX(),e=BX(),t=kX(),r=1,i=2;function s(o,a,l,u,d,c){var f=l&r,m=o.length,v=a.length;if(m!=v&&!(f&&v>m))return!1;var b=c.get(o),y=c.get(a);if(b&&y)return b==a&&y==o;var w=-1,A=!0,E=l&i?new n:void 0;for(c.set(o,a),c.set(a,o);++w<m;){var C=o[w],M=a[w];if(u)var P=f?u(M,C,w,a,o,c):u(C,M,w,o,a,c);if(P!==void 0){if(P)continue;A=!1;break}if(E){if(!e(a,function(O,k){if(!t(E,k)&&(C===O||d(C,O,l,u,c)))return E.push(k)})){A=!1;break}}else if(!(C===M||d(C,M,l,u,c))){A=!1;break}}return c.delete(o),c.delete(a),A}return B2=s,B2}var k2,G4;function Mme(){if(G4)return k2;G4=1;var n=gu(),e=n.Uint8Array;return k2=e,k2}var L2,V4;function Tme(){if(V4)return L2;V4=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,s){r[++t]=[s,i]}),r}return L2=n,L2}var j2,W4;function SD(){if(W4)return j2;W4=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return j2=n,j2}var U2,$4;function Pme(){if($4)return U2;$4=1;var n=Vb(),e=Mme(),t=dD(),r=LX(),i=Tme(),s=SD(),o=1,a=2,l="[object Boolean]",u="[object Date]",d="[object Error]",c="[object Map]",f="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",A="[object DataView]",E=n?n.prototype:void 0,C=E?E.valueOf:void 0;function M(P,O,k,D,I,L,W){switch(k){case A:if(P.byteLength!=O.byteLength||P.byteOffset!=O.byteOffset)return!1;P=P.buffer,O=O.buffer;case w:return!(P.byteLength!=O.byteLength||!L(new e(P),new e(O)));case l:case u:case f:return t(+P,+O);case d:return P.name==O.name&&P.message==O.message;case m:case b:return P==O+"";case c:var q=i;case v:var K=D&o;if(q||(q=s),P.size!=O.size&&!K)return!1;var ie=W.get(P);if(ie)return ie==O;D|=a,W.set(P,O);var V=r(q(P),q(O),D,I,L,W);return W.delete(P),V;case y:if(C)return C.call(P)==C.call(O)}return!1}return U2=M,U2}var z2,q4;function jX(){if(q4)return z2;q4=1;function n(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}return z2=n,z2}var H2,X4;function Rme(){if(X4)return H2;X4=1;var n=jX(),e=ga();function t(r,i,s){var o=i(r);return e(r)?o:n(o,s(r))}return H2=t,H2}var G2,K4;function Nme(){if(K4)return G2;K4=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[s++]=a)}return o}return G2=n,G2}var V2,Y4;function Ime(){if(Y4)return V2;Y4=1;function n(){return[]}return V2=n,V2}var W2,J4;function Ome(){if(J4)return W2;J4=1;var n=Nme(),e=Ime(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),n(i(o),function(a){return r.call(o,a)}))}:e;return W2=s,W2}var $2,Z4;function Fme(){if(Z4)return $2;Z4=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return $2=n,$2}var q2,Q4;function Dme(){if(Q4)return q2;Q4=1;var n=Pd(),e=Rd(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return q2=r,q2}var X2,e6;function AD(){if(e6)return X2;e6=1;var n=Dme(),e=Rd(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,s=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return X2=s,X2}var Ky={exports:{}},K2,t6;function Bme(){if(t6)return K2;t6=1;function n(){return!1}return K2=n,K2}Ky.exports;var n6;function UX(){return n6||(n6=1,(function(n,e){var t=gu(),r=Bme(),i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;n.exports=u})(Ky,Ky.exports)),Ky.exports}var Y2,r6;function ED(){if(r6)return Y2;r6=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var s=typeof r;return i=i??n,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Y2=t,Y2}var J2,i6;function CD(){if(i6)return J2;i6=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return J2=e,J2}var Z2,s6;function kme(){if(s6)return Z2;s6=1;var n=Pd(),e=CD(),t=Rd(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",c="[object Object]",f="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",L={};L[A]=L[E]=L[C]=L[M]=L[P]=L[O]=L[k]=L[D]=L[I]=!0,L[r]=L[i]=L[y]=L[s]=L[w]=L[o]=L[a]=L[l]=L[u]=L[d]=L[c]=L[f]=L[m]=L[v]=L[b]=!1;function W(q){return t(q)&&e(q.length)&&!!L[n(q)]}return Z2=W,Z2}var Q2,o6;function zX(){if(o6)return Q2;o6=1;function n(e){return function(t){return e(t)}}return Q2=n,Q2}var Yy={exports:{}};Yy.exports;var a6;function Lme(){return a6||(a6=1,(function(n,e){var t=oX(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s&&t.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();n.exports=a})(Yy,Yy.exports)),Yy.exports}var eP,l6;function HX(){if(l6)return eP;l6=1;var n=kme(),e=zX(),t=Lme(),r=t&&t.isTypedArray,i=r?e(r):n;return eP=i,eP}var tP,c6;function jme(){if(c6)return tP;c6=1;var n=Fme(),e=AD(),t=ga(),r=UX(),i=ED(),s=HX(),o=Object.prototype,a=o.hasOwnProperty;function l(u,d){var c=t(u),f=!c&&e(u),m=!c&&!f&&r(u),v=!c&&!f&&!m&&s(u),b=c||f||m||v,y=b?n(u.length,String):[],w=y.length;for(var A in u)(d||a.call(u,A))&&!(b&&(A=="length"||m&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,w)))&&y.push(A);return y}return tP=l,tP}var nP,u6;function Ume(){if(u6)return nP;u6=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return nP=e,nP}var rP,d6;function GX(){if(d6)return rP;d6=1;function n(e,t){return function(r){return e(t(r))}}return rP=n,rP}var iP,f6;function zme(){if(f6)return iP;f6=1;var n=GX(),e=n(Object.keys,Object);return iP=e,iP}var sP,h6;function Hme(){if(h6)return sP;h6=1;var n=Ume(),e=zme(),t=Object.prototype,r=t.hasOwnProperty;function i(s){if(!n(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return sP=i,sP}var oP,p6;function Wb(){if(p6)return oP;p6=1;var n=uD(),e=CD();function t(r){return r!=null&&e(r.length)&&!n(r)}return oP=t,oP}var aP,m6;function JE(){if(m6)return aP;m6=1;var n=jme(),e=Hme(),t=Wb();function r(i){return t(i)?n(i):e(i)}return aP=r,aP}var lP,g6;function Gme(){if(g6)return lP;g6=1;var n=Rme(),e=Ome(),t=JE();function r(i){return n(i,t,e)}return lP=r,lP}var cP,v6;function Vme(){if(v6)return cP;v6=1;var n=Gme(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(s,o,a,l,u,d){var c=a&e,f=n(s),m=f.length,v=n(o),b=v.length;if(m!=b&&!c)return!1;for(var y=m;y--;){var w=f[y];if(!(c?w in o:r.call(o,w)))return!1}var A=d.get(s),E=d.get(o);if(A&&E)return A==o&&E==s;var C=!0;d.set(s,o),d.set(o,s);for(var M=c;++y<m;){w=f[y];var P=s[w],O=o[w];if(l)var k=c?l(O,P,w,o,s,d):l(P,O,w,s,o,d);if(!(k===void 0?P===O||u(P,O,a,l,d):k)){C=!1;break}M||(M=w=="constructor")}if(C&&!M){var D=s.constructor,I=o.constructor;D!=I&&"constructor"in s&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(C=!1)}return d.delete(s),d.delete(o),C}return cP=i,cP}var uP,y6;function Wme(){if(y6)return uP;y6=1;var n=mm(),e=gu(),t=n(e,"DataView");return uP=t,uP}var dP,x6;function $me(){if(x6)return dP;x6=1;var n=mm(),e=gu(),t=n(e,"Promise");return dP=t,dP}var fP,b6;function VX(){if(b6)return fP;b6=1;var n=mm(),e=gu(),t=n(e,"Set");return fP=t,fP}var hP,_6;function qme(){if(_6)return hP;_6=1;var n=mm(),e=gu(),t=n(e,"WeakMap");return hP=t,hP}var pP,w6;function Xme(){if(w6)return pP;w6=1;var n=Wme(),e=fD(),t=$me(),r=VX(),i=qme(),s=Pd(),o=aX(),a="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",c="[object WeakMap]",f="[object DataView]",m=o(n),v=o(e),b=o(t),y=o(r),w=o(i),A=s;return(n&&A(new n(new ArrayBuffer(1)))!=f||e&&A(new e)!=a||t&&A(t.resolve())!=u||r&&A(new r)!=d||i&&A(new i)!=c)&&(A=function(E){var C=s(E),M=C==l?E.constructor:void 0,P=M?o(M):"";if(P)switch(P){case m:return f;case v:return a;case b:return u;case y:return d;case w:return c}return C}),pP=A,pP}var mP,S6;function Kme(){if(S6)return mP;S6=1;var n=FX(),e=LX(),t=Pme(),r=Vme(),i=Xme(),s=ga(),o=UX(),a=HX(),l=1,u="[object Arguments]",d="[object Array]",c="[object Object]",f=Object.prototype,m=f.hasOwnProperty;function v(b,y,w,A,E,C){var M=s(b),P=s(y),O=M?d:i(b),k=P?d:i(y);O=O==u?c:O,k=k==u?c:k;var D=O==c,I=k==c,L=O==k;if(L&&o(b)){if(!o(y))return!1;M=!0,D=!1}if(L&&!D)return C||(C=new n),M||a(b)?e(b,y,w,A,E,C):t(b,y,O,w,A,E,C);if(!(w&l)){var W=D&&m.call(b,"__wrapped__"),q=I&&m.call(y,"__wrapped__");if(W||q){var K=W?b.value():b,ie=q?y.value():y;return C||(C=new n),E(K,ie,w,A,C)}}return L?(C||(C=new n),r(b,y,w,A,E,C)):!1}return mP=v,mP}var gP,A6;function MD(){if(A6)return gP;A6=1;var n=Kme(),e=Rd();function t(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,s,o,t,a)}return gP=t,gP}var vP,E6;function Yme(){if(E6)return vP;E6=1;var n=FX(),e=MD(),t=1,r=2;function i(s,o,a,l){var u=a.length,d=u,c=!l;if(s==null)return!d;for(s=Object(s);u--;){var f=a[u];if(c&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<d;){f=a[u];var m=f[0],v=s[m],b=f[1];if(c&&f[2]){if(v===void 0&&!(m in s))return!1}else{var y=new n;if(l)var w=l(v,b,m,s,o,y);if(!(w===void 0?e(b,v,t|r,l,y):w))return!1}}return!0}return vP=i,vP}var yP,C6;function WX(){if(C6)return yP;C6=1;var n=ih();function e(t){return t===t&&!n(t)}return yP=e,yP}var xP,M6;function Jme(){if(M6)return xP;M6=1;var n=WX(),e=JE();function t(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,n(a)]}return i}return xP=t,xP}var bP,T6;function $X(){if(T6)return bP;T6=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return bP=n,bP}var _P,P6;function Zme(){if(P6)return _P;P6=1;var n=Yme(),e=Jme(),t=$X();function r(i){var s=e(i);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(o){return o===i||n(o,i,s)}}return _P=r,_P}var wP,R6;function Qme(){if(R6)return wP;R6=1;function n(e,t){return e!=null&&t in Object(e)}return wP=n,wP}var SP,N6;function ege(){if(N6)return SP;N6=1;var n=uX(),e=AD(),t=ga(),r=ED(),i=CD(),s=$E();function o(a,l,u){l=n(l,a);for(var d=-1,c=l.length,f=!1;++d<c;){var m=s(l[d]);if(!(f=a!=null&&u(a,m)))break;a=a[m]}return f||++d!=c?f:(c=a==null?0:a.length,!!c&&i(c)&&r(m,c)&&(t(a)||e(a)))}return SP=o,SP}var AP,I6;function tge(){if(I6)return AP;I6=1;var n=Qme(),e=ege();function t(r,i){return r!=null&&e(r,i,n)}return AP=t,AP}var EP,O6;function nge(){if(O6)return EP;O6=1;var n=MD(),e=dX(),t=tge(),r=cD(),i=WX(),s=$X(),o=$E(),a=1,l=2;function u(d,c){return r(d)&&i(c)?s(o(d),c):function(f){var m=e(f,d);return m===void 0&&m===c?t(f,d):n(c,m,a|l)}}return EP=u,EP}var CP,F6;function vv(){if(F6)return CP;F6=1;function n(e){return e}return CP=n,CP}var MP,D6;function rge(){if(D6)return MP;D6=1;function n(e){return function(t){return t?.[e]}}return MP=n,MP}var TP,B6;function ige(){if(B6)return TP;B6=1;var n=mD();function e(t){return function(r){return n(r,t)}}return TP=e,TP}var PP,k6;function sge(){if(k6)return PP;k6=1;var n=rge(),e=ige(),t=cD(),r=$E();function i(s){return t(s)?n(r(s)):e(s)}return PP=i,PP}var RP,L6;function sh(){if(L6)return RP;L6=1;var n=Zme(),e=nge(),t=vv(),r=ga(),i=sge();function s(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):i(o)}return RP=s,RP}var NP,j6;function qX(){if(j6)return NP;j6=1;function n(e,t,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(t(e[o],o,e))return o;return-1}return NP=n,NP}var IP,U6;function oge(){if(U6)return IP;U6=1;function n(e){return e!==e}return IP=n,IP}var OP,z6;function age(){if(z6)return OP;z6=1;function n(e,t,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}return OP=n,OP}var FP,H6;function lge(){if(H6)return FP;H6=1;var n=qX(),e=oge(),t=age();function r(i,s,o){return s===s?t(i,s,o):n(i,e,o)}return FP=r,FP}var DP,G6;function cge(){if(G6)return DP;G6=1;var n=lge();function e(t,r){var i=t==null?0:t.length;return!!i&&n(t,r,0)>-1}return DP=e,DP}var BP,V6;function uge(){if(V6)return BP;V6=1;function n(e,t,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(t,e[i]))return!0;return!1}return BP=n,BP}var kP,W6;function dge(){if(W6)return kP;W6=1;function n(){}return kP=n,kP}var LP,$6;function fge(){if($6)return LP;$6=1;var n=VX(),e=dge(),t=SD(),r=1/0,i=n&&1/t(new n([,-0]))[1]==r?function(s){return new n(s)}:e;return LP=i,LP}var jP,q6;function hge(){if(q6)return jP;q6=1;var n=DX(),e=cge(),t=uge(),r=kX(),i=fge(),s=SD(),o=200;function a(l,u,d){var c=-1,f=e,m=l.length,v=!0,b=[],y=b;if(d)v=!1,f=t;else if(m>=o){var w=u?null:i(l);if(w)return s(w);v=!1,f=r,y=new n}else y=u?[]:b;e:for(;++c<m;){var A=l[c],E=u?u(A):A;if(A=d||A!==0?A:0,v&&E===E){for(var C=y.length;C--;)if(y[C]===E)continue e;u&&y.push(E),b.push(A)}else f(y,E,d)||(y!==b&&y.push(E),b.push(A))}return b}return jP=a,jP}var UP,X6;function pge(){if(X6)return UP;X6=1;var n=sh(),e=hge();function t(r,i){return r&&r.length?e(r,n(i,2)):[]}return UP=t,UP}var mge=pge();const K6=Hr(mge);function XX(n,e,t){return e===!0?K6(n,t):ir(e)?K6(n,e):n}function x0(n){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(n)}var gge=["ref"];function Y6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ku(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(t),!0).forEach(function(r){ZE(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y6(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function J6(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,YX(r.key),r)}}function yge(n,e,t){return e&&J6(n.prototype,e),t&&J6(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function xge(n,e,t){return e=_S(e),bge(n,KX()?Reflect.construct(e,t||[],_S(n).constructor):e.apply(n,t))}function bge(n,e){if(e&&(x0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(n)}function _ge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!n})()}function _S(n){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_S(n)}function wge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TI(n,e)}function TI(n,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TI(n,e)}function ZE(n,e,t){return e=YX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YX(n){var e=Sge(n,"string");return x0(e)=="symbol"?e:e+""}function Sge(n,e){if(x0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Age(n,e){if(n==null)return{};var t=Ege(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Ege(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Cge(n){return n.value}function Mge(n,e){if(ue.isValidElement(n))return ue.cloneElement(n,e);if(typeof n=="function")return ue.createElement(n,e);e.ref;var t=Age(e,gge);return ue.createElement(wD,t)}var Z6=1,uc=(function(n){function e(){var t;vge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=xge(this,e,[].concat(i)),ZE(t,"lastBoundingBox",{width:-1,height:-1}),t}return wge(e,n),yge(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Z6||Math.abs(i.height-this.lastBoundingBox.height)>Z6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ku({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,c,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();c={left:((u||0)-m.width)/2}}else c=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ku(Ku({},c),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,c=Ku(Ku({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(m){r.wrapperNode=m}},Mge(s,Ku(Ku({},this.props),{},{payload:XX(d,u,Cge)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ku(Ku({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&$t(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(B.PureComponent);ZE(uc,"displayName","Legend");ZE(uc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zP,Q6;function Tge(){if(Q6)return zP;Q6=1;var n=Vb(),e=AD(),t=ga(),r=n?n.isConcatSpreadable:void 0;function i(s){return t(s)||e(s)||!!(r&&s&&s[r])}return zP=i,zP}var HP,e5;function JX(){if(e5)return HP;e5=1;var n=jX(),e=Tge();function t(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var d=r[l];i>0&&s(d)?i>1?t(d,i-1,s,o,a):n(a,d):o||(a[a.length]=d)}return a}return HP=t,HP}var GP,t5;function Pge(){if(t5)return GP;t5=1;function n(e){return function(t,r,i){for(var s=-1,o=Object(t),a=i(t),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return t}}return GP=n,GP}var VP,n5;function Rge(){if(n5)return VP;n5=1;var n=Pge(),e=n();return VP=e,VP}var WP,r5;function ZX(){if(r5)return WP;r5=1;var n=Rge(),e=JE();function t(r,i){return r&&n(r,i,e)}return WP=t,WP}var $P,i5;function Nge(){if(i5)return $P;i5=1;var n=Wb();function e(t,r){return function(i,s){if(i==null)return i;if(!n(i))return t(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return $P=e,$P}var qP,s5;function TD(){if(s5)return qP;s5=1;var n=ZX(),e=Nge(),t=e(n);return qP=t,qP}var XP,o5;function QX(){if(o5)return XP;o5=1;var n=TD(),e=Wb();function t(r,i){var s=-1,o=e(r)?Array(r.length):[];return n(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return XP=t,XP}var KP,a5;function Ige(){if(a5)return KP;a5=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return KP=n,KP}var YP,l5;function Oge(){if(l5)return YP;l5=1;var n=hv();function e(t,r){if(t!==r){var i=t!==void 0,s=t===null,o=t===t,a=n(t),l=r!==void 0,u=r===null,d=r===r,c=n(r);if(!u&&!c&&!a&&t>r||a&&l&&d&&!u&&!c||s&&l&&d||!i&&d||!o)return 1;if(!s&&!a&&!c&&t<r||c&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!d)return-1}return 0}return YP=e,YP}var JP,c5;function Fge(){if(c5)return JP;c5=1;var n=Oge();function e(t,r,i){for(var s=-1,o=t.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var d=n(o[s],a[s]);if(d){if(s>=u)return d;var c=i[s];return d*(c=="desc"?-1:1)}}return t.index-r.index}return JP=e,JP}var ZP,u5;function Dge(){if(u5)return ZP;u5=1;var n=pD(),e=mD(),t=sh(),r=QX(),i=Ige(),s=zX(),o=Fge(),a=vv(),l=ga();function u(d,c,f){c.length?c=n(c,function(b){return l(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):c=[a];var m=-1;c=n(c,s(t));var v=r(d,function(b,y,w){var A=n(c,function(E){return E(b)});return{criteria:A,index:++m,value:b}});return i(v,function(b,y){return o(b,y,f)})}return ZP=u,ZP}var QP,d5;function Bge(){if(d5)return QP;d5=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return QP=n,QP}var eR,f5;function kge(){if(f5)return eR;f5=1;var n=Bge(),e=Math.max;function t(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var d=Array(i+1);++a<i;)d[a]=o[a];return d[i]=s(u),n(r,this,d)}}return eR=t,eR}var tR,h5;function Lge(){if(h5)return tR;h5=1;function n(e){return function(){return e}}return tR=n,tR}var nR,p5;function eK(){if(p5)return nR;p5=1;var n=mm(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return nR=e,nR}var rR,m5;function jge(){if(m5)return rR;m5=1;var n=Lge(),e=eK(),t=vv(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:t;return rR=r,rR}var iR,g5;function Uge(){if(g5)return iR;g5=1;var n=800,e=16,t=Date.now;function r(i){var s=0,o=0;return function(){var a=t(),l=e-(a-o);if(o=a,l>0){if(++s>=n)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return iR=r,iR}var sR,v5;function zge(){if(v5)return sR;v5=1;var n=jge(),e=Uge(),t=e(n);return sR=t,sR}var oR,y5;function Hge(){if(y5)return oR;y5=1;var n=vv(),e=kge(),t=zge();function r(i,s){return t(e(i,s,n),i+"")}return oR=r,oR}var aR,x5;function QE(){if(x5)return aR;x5=1;var n=dD(),e=Wb(),t=ED(),r=ih();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&t(o,a.length):l=="string"&&o in a)?n(a[o],s):!1}return aR=i,aR}var lR,b5;function Gge(){if(b5)return lR;b5=1;var n=JX(),e=Dge(),t=Hge(),r=QE(),i=t(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,n(o,1),[])});return lR=i,lR}var Vge=Gge();const PD=Hr(Vge);function Bx(n){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(n)}function PI(){return PI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PI.apply(this,arguments)}function Wge(n,e){return Kge(n)||Xge(n,e)||qge(n,e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(n,e){if(n){if(typeof n=="string")return _5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _5(n,e)}}function _5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Xge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Kge(n){if(Array.isArray(n))return n}function w5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(t),!0).forEach(function(r){Yge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Yge(n,e,t){return e=Jge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jge(n){var e=Zge(n,"string");return Bx(e)=="symbol"?e:e+""}function Zge(n,e){if(Bx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qge(n){return Array.isArray(n)&&_s(n[0])&&_s(n[1])?n.join(" ~ "):n}var e0e=function(e){var t=e.separator,r=t===void 0?" : ":t,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,c=e.formatter,f=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,b=e.label,y=e.labelFormatter,w=e.accessibilityLayer,A=w===void 0?!1:w,E=function(){if(d&&d.length){var W={padding:0,margin:0},q=(f?PD(d,f):d).map(function(K,ie){if(K.type==="none")return null;var V=cR({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},a),J=K.formatter||c||Qge,H=K.value,Y=K.name,ne=H,Z=Y;if(J&&ne!=null&&Z!=null){var oe=J(H,Y,K,ie,d);if(Array.isArray(oe)){var ye=Wge(oe,2);ne=ye[0],Z=ye[1]}else ne=oe}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:V},_s(Z)?ue.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,_s(Z)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},ne),ue.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:W},q)}return null},C=cR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),M=cR({margin:0},u),P=!pr(b),O=P?b:"",k=yr("recharts-default-tooltip",m),D=yr("recharts-tooltip-label",v);P&&y&&d!==void 0&&d!==null&&(O=y(b,d));var I=A?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",PI({className:k,style:C},I),ue.createElement("p",{className:D,style:M},ue.isValidElement(O)?O:"".concat(O)),E())};function kx(n){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(n)}function y1(n,e,t){return e=t0e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t0e(n){var e=n0e(n,"string");return kx(e)=="symbol"?e:e+""}function n0e(n,e){if(kx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yy="recharts-tooltip-wrapper",r0e={visibility:"hidden"};function i0e(n){var e=n.coordinate,t=n.translateX,r=n.translateY;return yr(yy,y1(y1(y1(y1({},"".concat(yy,"-right"),$t(t)&&e&&$t(e.x)&&t>=e.x),"".concat(yy,"-left"),$t(t)&&e&&$t(e.x)&&t<e.x),"".concat(yy,"-bottom"),$t(r)&&e&&$t(e.y)&&r>=e.y),"".concat(yy,"-top"),$t(r)&&e&&$t(e.y)&&r<e.y))}function S5(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.key,i=n.offsetTopLeft,s=n.position,o=n.reverseDirection,a=n.tooltipDimension,l=n.viewBox,u=n.viewBoxDimension;if(s&&$t(s[r]))return s[r];var d=t[r]-a-i,c=t[r]+i;if(e[r])return o[r]?d:c;if(o[r]){var f=d,m=l[r];return f<m?Math.max(c,l[r]):Math.max(d,l[r])}var v=c+a,b=l[r]+u;return v>b?Math.max(d,l[r]):Math.max(c,l[r])}function s0e(n){var e=n.translateX,t=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function o0e(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.offsetTopLeft,i=n.position,s=n.reverseDirection,o=n.tooltipBox,a=n.useTranslate3d,l=n.viewBox,u,d,c;return o.height>0&&o.width>0&&t?(d=S5({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),c=S5({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=s0e({translateX:d,translateY:c,useTranslate3d:a})):u=r0e,{cssProperties:u,cssClasses:i0e({translateX:d,translateY:c,coordinate:t})}}function b0(n){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(n)}function A5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function E5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(t),!0).forEach(function(r){NI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function l0e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nK(r.key),r)}}function c0e(n,e,t){return e&&l0e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function u0e(n,e,t){return e=wS(e),d0e(n,tK()?Reflect.construct(e,t||[],wS(n).constructor):e.apply(n,t))}function d0e(n,e){if(e&&(b0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f0e(n)}function f0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!n})()}function wS(n){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wS(n)}function h0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&RI(n,e)}function RI(n,e){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RI(n,e)}function NI(n,e,t){return e=nK(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nK(n){var e=p0e(n,"string");return b0(e)=="symbol"?e:e+""}function p0e(n,e){if(b0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var C5=1,m0e=(function(n){function e(){var t;a0e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=u0e(this,e,[].concat(i)),NI(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NI(t,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,d;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(d=t.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),t}return h0e(e,n),c0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>C5||Math.abs(r.height-this.state.lastBoundingBox.height)>C5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,c=i.hasPayload,f=i.isAnimationActive,m=i.offset,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,E=o0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),C=E.cssClasses,M=E.cssProperties,P=E5(E5({transition:f&&s?"transform ".concat(a,"ms ").concat(l):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&c?"visible":"hidden",position:"absolute",top:0,left:0},A);return ue.createElement("div",{tabIndex:-1,className:C,style:P,ref:function(k){r.wrapperNode=k}},u)}}])})(B.PureComponent),g0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gm={isSsr:g0e()};function _0(n){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(n)}function M5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function T5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(t),!0).forEach(function(r){RD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function v0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function y0e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,iK(r.key),r)}}function x0e(n,e,t){return e&&y0e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function b0e(n,e,t){return e=SS(e),_0e(n,rK()?Reflect.construct(e,t||[],SS(n).constructor):e.apply(n,t))}function _0e(n,e){if(e&&(_0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w0e(n)}function w0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!n})()}function SS(n){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},SS(n)}function S0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&II(n,e)}function II(n,e){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},II(n,e)}function RD(n,e,t){return e=iK(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iK(n){var e=A0e(n,"string");return _0(e)=="symbol"?e:e+""}function A0e(n,e){if(_0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function E0e(n){return n.dataKey}function C0e(n,e){return ue.isValidElement(n)?ue.cloneElement(n,e):typeof n=="function"?ue.createElement(n,e):ue.createElement(e0e,e)}var di=(function(n){function e(){return v0e(this,e),b0e(this,e,arguments)}return S0e(e,n),x0e(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,c=i.filterNull,f=i.isAnimationActive,m=i.offset,v=i.payload,b=i.payloadUniqBy,y=i.position,w=i.reverseDirection,A=i.useTranslate3d,E=i.viewBox,C=i.wrapperStyle,M=v??[];c&&M.length&&(M=XX(v.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),b,E0e));var P=M.length>0;return ue.createElement(m0e,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:f,active:s,coordinate:d,hasPayload:P,offset:m,position:y,reverseDirection:w,useTranslate3d:A,viewBox:E,wrapperStyle:C},C0e(u,T5(T5({},this.props),{},{payload:M})))}}])})(B.PureComponent);RD(di,"displayName","Tooltip");RD(di,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uR,P5;function M0e(){if(P5)return uR;P5=1;var n=gu(),e=function(){return n.Date.now()};return uR=e,uR}var dR,R5;function T0e(){if(R5)return dR;R5=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return dR=e,dR}var fR,N5;function P0e(){if(N5)return fR;N5=1;var n=T0e(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return fR=t,fR}var hR,I5;function sK(){if(I5)return hR;I5=1;var n=P0e(),e=ih(),t=hv(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(t(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=n(u);var c=s.test(u);return c||o.test(u)?a(u.slice(2),c?2:8):i.test(u)?r:+u}return hR=l,hR}var pR,O5;function R0e(){if(O5)return pR;O5=1;var n=ih(),e=M0e(),t=sK(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,u){var d,c,f,m,v,b,y=0,w=!1,A=!1,E=!0;if(typeof a!="function")throw new TypeError(r);l=t(l)||0,n(u)&&(w=!!u.leading,A="maxWait"in u,f=A?i(t(u.maxWait)||0,l):f,E="trailing"in u?!!u.trailing:E);function C(q){var K=d,ie=c;return d=c=void 0,y=q,m=a.apply(ie,K),m}function M(q){return y=q,v=setTimeout(k,l),w?C(q):m}function P(q){var K=q-b,ie=q-y,V=l-K;return A?s(V,f-ie):V}function O(q){var K=q-b,ie=q-y;return b===void 0||K>=l||K<0||A&&ie>=f}function k(){var q=e();if(O(q))return D(q);v=setTimeout(k,P(q))}function D(q){return v=void 0,E&&d?C(q):(d=c=void 0,m)}function I(){v!==void 0&&clearTimeout(v),y=0,d=b=c=v=void 0}function L(){return v===void 0?m:D(e())}function W(){var q=e(),K=O(q);if(d=arguments,c=this,b=q,K){if(v===void 0)return M(b);if(A)return clearTimeout(v),v=setTimeout(k,l),C(b)}return v===void 0&&(v=setTimeout(k,l)),m}return W.cancel=I,W.flush=L,W}return pR=o,pR}var mR,F5;function N0e(){if(F5)return mR;F5=1;var n=R0e(),e=ih(),t="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(t);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),n(i,s,{leading:a,maxWait:s,trailing:l})}return mR=r,mR}var I0e=N0e();const oK=Hr(I0e);function Lx(n){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(n)}function D5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function x1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(t),!0).forEach(function(r){O0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function O0e(n,e,t){return e=F0e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F0e(n){var e=D0e(n,"string");return Lx(e)=="symbol"?e:e+""}function D0e(n,e){if(Lx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function B0e(n,e){return U0e(n)||j0e(n,e)||L0e(n,e)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L0e(n,e){if(n){if(typeof n=="string")return B5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B5(n,e)}}function B5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function j0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function U0e(n){if(Array.isArray(n))return n}var to=B.forwardRef(function(n,e){var t=n.aspect,r=n.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=n.width,o=s===void 0?"100%":s,a=n.height,l=a===void 0?"100%":a,u=n.minWidth,d=u===void 0?0:u,c=n.minHeight,f=n.maxHeight,m=n.children,v=n.debounce,b=v===void 0?0:v,y=n.id,w=n.className,A=n.onResize,E=n.style,C=E===void 0?{}:E,M=B.useRef(null),P=B.useRef();P.current=A,B.useImperativeHandle(e,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var O=B.useState({containerWidth:i.width,containerHeight:i.height}),k=B0e(O,2),D=k[0],I=k[1],L=B.useCallback(function(q,K){I(function(ie){var V=Math.round(q),J=Math.round(K);return ie.containerWidth===V&&ie.containerHeight===J?ie:{containerWidth:V,containerHeight:J}})},[]);B.useEffect(function(){var q=function(Y){var ne,Z=Y[0].contentRect,oe=Z.width,ye=Z.height;L(oe,ye),(ne=P.current)===null||ne===void 0||ne.call(P,oe,ye)};b>0&&(q=oK(q,b,{trailing:!0,leading:!1}));var K=new ResizeObserver(q),ie=M.current.getBoundingClientRect(),V=ie.width,J=ie.height;return L(V,J),K.observe(M.current),function(){K.disconnect()}},[L,b]);var W=B.useMemo(function(){var q=D.containerWidth,K=D.containerHeight;if(q<0||K<0)return null;hd(Sp(o)||Sp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),hd(!t||t>0,"The aspect(%s) must be greater than zero.",t);var ie=Sp(o)?q:o,V=Sp(l)?K:l;t&&t>0&&(ie?V=ie/t:V&&(ie=V*t),f&&V>f&&(V=f)),hd(ie>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,V,o,l,d,c,t);var J=!Array.isArray(m)&&fd(m.type).endsWith("Chart");return ue.Children.map(m,function(H){return ue.isValidElement(H)?B.cloneElement(H,x1({width:ie,height:V},J?{style:x1({height:"100%",width:"100%",maxHeight:V,maxWidth:ie},H.props.style)}:{})):H})},[t,m,l,f,c,d,D,o]);return ue.createElement("div",{id:y?"".concat(y):void 0,className:yr("recharts-responsive-container",w),style:x1(x1({},C),{},{width:o,height:l,minWidth:d,minHeight:c,maxHeight:f}),ref:M},W)}),ND=function(e){return null};ND.displayName="Cell";function jx(n){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(n)}function k5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function OI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(t),!0).forEach(function(r){z0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function z0e(n,e,t){return e=H0e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H0e(n){var e=G0e(n,"string");return jx(e)=="symbol"?e:e+""}function G0e(n,e){if(jx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dg={widthCache:{},cacheCount:0},V0e=2e3,W0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L5="recharts_measurement_span";function $0e(n){var e=OI({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var ix=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gm.isSsr)return{width:0,height:0};var r=$0e(t),i=JSON.stringify({text:e,copyStyle:r});if(dg.widthCache[i])return dg.widthCache[i];try{var s=document.getElementById(L5);s||(s=document.createElement("span"),s.setAttribute("id",L5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=OI(OI({},W0e),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return dg.widthCache[i]=l,++dg.cacheCount>V0e&&(dg.cacheCount=0,dg.widthCache={}),l}catch{return{width:0,height:0}}},q0e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ux(n){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(n)}function AS(n,e){return J0e(n)||Y0e(n,e)||K0e(n,e)||X0e()}function X0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(n,e){if(n){if(typeof n=="string")return j5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j5(n,e)}}function j5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Y0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function J0e(n){if(Array.isArray(n))return n}function Z0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function U5(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eve(r.key),r)}}function Q0e(n,e,t){return e&&U5(n.prototype,e),t&&U5(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function eve(n){var e=tve(n,"string");return Ux(e)=="symbol"?e:e+""}function tve(n,e){if(Ux(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ive=Object.keys(aK),Ug="NaN";function sve(n,e){return n*aK[e]}var b1=(function(){function n(e,t){Z0e(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!nve.test(t)&&(this.num=NaN,this.unit=""),ive.includes(t)&&(this.num=sve(e,t),this.unit="px")}return Q0e(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,i=(r=rve.exec(t))!==null&&r!==void 0?r:[],s=AS(i,3),o=s[1],a=s[2];return new n(parseFloat(o),a??"")}}])})();function lK(n){if(n.includes(Ug))return Ug;for(var e=n;e.includes("*")||e.includes("/");){var t,r=(t=z5.exec(e))!==null&&t!==void 0?t:[],i=AS(r,4),s=i[1],o=i[2],a=i[3],l=b1.parse(s??""),u=b1.parse(a??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ug;e=e.replace(z5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,f=(c=H5.exec(e))!==null&&c!==void 0?c:[],m=AS(f,4),v=m[1],b=m[2],y=m[3],w=b1.parse(v??""),A=b1.parse(y??""),E=b==="+"?w.add(A):w.subtract(A);if(E.isNaN())return Ug;e=e.replace(H5,E.toString())}return e}var G5=/\(([^()]*)\)/;function ove(n){for(var e=n;e.includes("(");){var t=G5.exec(e),r=AS(t,2),i=r[1];e=e.replace(G5,lK(i))}return e}function ave(n){var e=n.replace(/\s+/g,"");return e=ove(e),e=lK(e),e}function lve(n){try{return ave(n)}catch{return Ug}}function gR(n){var e=lve(n.slice(5,-1));return e===Ug?"":e}var cve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uve=["dx","dy","angle","className","breakAll"];function FI(){return FI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FI.apply(this,arguments)}function V5(n,e){if(n==null)return{};var t=dve(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function dve(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function W5(n,e){return mve(n)||pve(n,e)||hve(n,e)||fve()}function fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(n,e){if(n){if(typeof n=="string")return $5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $5(n,e)}}function $5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mve(n){if(Array.isArray(n))return n}var cK=/[ \f\n\r\t\v\u2028\u2029]+/,uK=function(e){var t=e.children,r=e.breakAll,i=e.style;try{var s=[];pr(t)||(r?s=t.toString().split(""):s=t.toString().split(cK));var o=s.map(function(l){return{word:l,width:ix(l,i).width}}),a=r?0:ix("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},gve=function(e,t,r,i,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,d=$t(o),c=a,f=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(V,J){var H=J.word,Y=J.width,ne=V[V.length-1];if(ne&&(i==null||s||ne.width+Y+r<Number(i)))ne.words.push(H),ne.width+=Y+r;else{var Z={words:[H],width:Y};V.push(Z)}return V},[])},m=f(t),v=function(ie){return ie.reduce(function(V,J){return V.width>J.width?V:J})};if(!d)return m;for(var b="",y=function(ie){var V=c.slice(0,ie),J=uK({breakAll:u,style:l,children:V+b}).wordsWithComputedWidth,H=f(J),Y=H.length>o||v(H).width>Number(i);return[Y,H]},w=0,A=c.length-1,E=0,C;w<=A&&E<=c.length-1;){var M=Math.floor((w+A)/2),P=M-1,O=y(P),k=W5(O,2),D=k[0],I=k[1],L=y(M),W=W5(L,1),q=W[0];if(!D&&!q&&(w=M+1),D&&q&&(A=M-1),!D&&q){C=I;break}E++}return C||m},q5=function(e){var t=pr(e)?[]:e.toString().split(cK);return[{words:t}]},vve=function(e){var t=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((t||r)&&!gm.isSsr){var l,u,d=uK({breakAll:o,children:i,style:s});if(d){var c=d.wordsWithComputedWidth,f=d.spaceWidth;l=c,u=f}else return q5(i);return gve({breakAll:o,children:i,maxLines:a,style:s},l,u,t,r)}return q5(i)},X5="#808080",ES=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,c=d===void 0?!1:d,f=e.textAnchor,m=f===void 0?"start":f,v=e.verticalAnchor,b=v===void 0?"end":v,y=e.fill,w=y===void 0?X5:y,A=V5(e,cve),E=B.useMemo(function(){return vve({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:c,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,c,A.style,A.width]),C=A.dx,M=A.dy,P=A.angle,O=A.className,k=A.breakAll,D=V5(A,uve);if(!_s(r)||!_s(s))return null;var I=r+($t(C)?C:0),L=s+($t(M)?M:0),W;switch(b){case"start":W=gR("calc(".concat(u,")"));break;case"middle":W=gR("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:W=gR("calc(".concat(E.length-1," * -").concat(a,")"));break}var q=[];if(c){var K=E[0].width,ie=A.width;q.push("scale(".concat(($t(ie)?ie/K:1)/K,")"))}return P&&q.push("rotate(".concat(P,", ").concat(I,", ").concat(L,")")),q.length&&(D.transform=q.join(" ")),ue.createElement("text",FI({},ur(D,!0),{x:I,y:L,className:yr("recharts-text",O),textAnchor:m,fill:w.includes("url")?X5:w}),E.map(function(V,J){var H=V.words.join(k?"":" ");return ue.createElement("tspan",{x:I,dy:J===0?W:a,key:"".concat(H,"-").concat(J)},H)}))};function Gf(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function yve(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function ID(n){let e,t,r;n.length!==2?(e=Gf,t=(a,l)=>Gf(n(a),l),r=(a,l)=>n(a)-l):(e=n===Gf||n===yve?n:xve,t=n,r=n);function i(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const c=u+d>>>1;t(a[c],l)<0?u=c+1:d=c}while(u<d)}return u}function s(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const c=u+d>>>1;t(a[c],l)<=0?u=c+1:d=c}while(u<d)}return u}function o(a,l,u=0,d=a.length){const c=i(a,l,u,d-1);return c>u&&r(a[c-1],l)>-r(a[c],l)?c-1:c}return{left:i,center:o,right:s}}function xve(){return 0}function dK(n){return n===null?NaN:+n}function*bve(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const _ve=ID(Gf),$b=_ve.right;ID(dK).center;class K5 extends Map{constructor(e,t=Ave){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Y5(this,e))}has(e){return super.has(Y5(this,e))}set(e,t){return super.set(wve(this,e),t)}delete(e){return super.delete(Sve(this,e))}}function Y5({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function wve({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function Sve({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function Ave(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Eve(n=Gf){if(n===Gf)return fK;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function fK(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const Cve=Math.sqrt(50),Mve=Math.sqrt(10),Tve=Math.sqrt(2);function CS(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Cve?10:s>=Mve?5:s>=Tve?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(n*u),l=Math.round(e*u),a/u<n&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(n/u),l=Math.round(e/u),a*u<n&&++a,l*u>e&&--l),l<a&&.5<=t&&t<2?CS(n,e,t*2):[a,l,u]}function DI(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,o]=r?CS(e,n,t):CS(n,e,t);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function BI(n,e,t){return e=+e,n=+n,t=+t,CS(n,e,t)[2]}function kI(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?BI(e,n,t):BI(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function J5(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function Z5(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function hK(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?fK:Eve(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,d=Math.log(l),c=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*c*(l-c)/l)*(u-l/2<0?-1:1),m=Math.max(t,Math.floor(e-u*c/l+f)),v=Math.min(r,Math.floor(e+(l-u)*c/l+f));hK(n,e,m,v,i)}const s=n[e];let o=t,a=r;for(xy(n,t,e),i(n[r],s)>0&&xy(n,t,r);o<a;){for(xy(n,o,a),++o,--a;i(n[o],s)<0;)++o;for(;i(n[a],s)>0;)--a}i(n[t],s)===0?xy(n,t,a):(++a,xy(n,a,r)),a<=e&&(t=a+1),e<=a&&(r=a-1)}return n}function xy(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function Pve(n,e,t){if(n=Float64Array.from(bve(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Z5(n);if(e>=1)return J5(n);var r,i=(r-1)*e,s=Math.floor(i),o=J5(hK(n,s).subarray(0,s+1)),a=Z5(n.subarray(s+1));return o+(a-o)*(i-s)}}function Rve(n,e,t=dK){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),o=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return o+(a-o)*(i-s)}}function Nve(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function Sl(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Nd(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const LI=Symbol("implicit");function OD(){var n=new K5,e=[],t=[],r=LI;function i(s){let o=n.get(s);if(o===void 0){if(r!==LI)return r;n.set(s,o=e.push(s)-1)}return t[o%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new K5;for(const o of s)n.has(o)||n.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return OD(e,t).unknown(r)},Sl.apply(i,arguments),i}function zx(){var n=OD().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,o,a=!1,l=0,u=0,d=.5;delete n.unknown;function c(){var f=e().length,m=i<r,v=m?i:r,b=m?r:i;s=(b-v)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),v+=(b-v-s*(f-l))*d,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var y=Nve(f).map(function(w){return v+s*w});return t(m?y.reverse():y)}return n.domain=function(f){return arguments.length?(e(f),c()):e()},n.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,c()):[r,i]},n.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,c()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(f){return arguments.length?(a=!!f,c()):a},n.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),c()):l},n.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),c()):l},n.paddingOuter=function(f){return arguments.length?(u=+f,c()):u},n.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),c()):d},n.copy=function(){return zx(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},Sl.apply(c(),arguments)}function pK(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return pK(e())},n}function sx(){return pK(zx.apply(null,arguments).paddingInner(1))}function FD(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function mK(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function qb(){}var Hx=.7,MS=1/Hx,s0="\\s*([+-]?\\d+)\\s*",Gx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ive=/^#([0-9a-f]{3,8})$/,Ove=new RegExp(`^rgb\\(${s0},${s0},${s0}\\)$`),Fve=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),Dve=new RegExp(`^rgba\\(${s0},${s0},${s0},${Gx}\\)$`),Bve=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${Gx}\\)$`),kve=new RegExp(`^hsl\\(${Gx},${Qc},${Qc}\\)$`),Lve=new RegExp(`^hsla\\(${Gx},${Qc},${Qc},${Gx}\\)$`),Q5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FD(qb,Vx,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:e8,formatHex:e8,formatHex8:jve,formatHsl:Uve,formatRgb:t8,toString:t8});function e8(){return this.rgb().formatHex()}function jve(){return this.rgb().formatHex8()}function Uve(){return gK(this).formatHsl()}function t8(){return this.rgb().formatRgb()}function Vx(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Ive.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?n8(e):t===3?new ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?_1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?_1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ove.exec(n))?new ua(e[1],e[2],e[3],1):(e=Fve.exec(n))?new ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dve.exec(n))?_1(e[1],e[2],e[3],e[4]):(e=Bve.exec(n))?_1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kve.exec(n))?s8(e[1],e[2]/100,e[3]/100,1):(e=Lve.exec(n))?s8(e[1],e[2]/100,e[3]/100,e[4]):Q5.hasOwnProperty(n)?n8(Q5[n]):n==="transparent"?new ua(NaN,NaN,NaN,0):null}function n8(n){return new ua(n>>16&255,n>>8&255,n&255,1)}function _1(n,e,t,r){return r<=0&&(n=e=t=NaN),new ua(n,e,t,r)}function zve(n){return n instanceof qb||(n=Vx(n)),n?(n=n.rgb(),new ua(n.r,n.g,n.b,n.opacity)):new ua}function jI(n,e,t,r){return arguments.length===1?zve(n):new ua(n,e,t,r??1)}function ua(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}FD(ua,jI,mK(qb,{brighter(n){return n=n==null?MS:Math.pow(MS,n),new ua(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Hx:Math.pow(Hx,n),new ua(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ua(zp(this.r),zp(this.g),zp(this.b),TS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r8,formatHex:r8,formatHex8:Hve,formatRgb:i8,toString:i8}));function r8(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}`}function Hve(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}${Ap((isNaN(this.opacity)?1:this.opacity)*255)}`}function i8(){const n=TS(this.opacity);return`${n===1?"rgb(":"rgba("}${zp(this.r)}, ${zp(this.g)}, ${zp(this.b)}${n===1?")":`, ${n})`}`}function TS(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function zp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ap(n){return n=zp(n),(n<16?"0":"")+n.toString(16)}function s8(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new oc(n,e,t,r)}function gK(n){if(n instanceof oc)return new oc(n.h,n.s,n.l,n.opacity);if(n instanceof qb||(n=Vx(n)),!n)return new oc;if(n instanceof oc)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new oc(o,a,l,n.opacity)}function Gve(n,e,t,r){return arguments.length===1?gK(n):new oc(n,e,t,r??1)}function oc(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}FD(oc,Gve,mK(qb,{brighter(n){return n=n==null?MS:Math.pow(MS,n),new oc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Hx:Math.pow(Hx,n),new oc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ua(vR(n>=240?n-240:n+120,i,r),vR(n,i,r),vR(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new oc(o8(this.h),w1(this.s),w1(this.l),TS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=TS(this.opacity);return`${n===1?"hsl(":"hsla("}${o8(this.h)}, ${w1(this.s)*100}%, ${w1(this.l)*100}%${n===1?")":`, ${n})`}`}}));function o8(n){return n=(n||0)%360,n<0?n+360:n}function w1(n){return Math.max(0,Math.min(1,n||0))}function vR(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const DD=n=>()=>n;function Vve(n,e){return function(t){return n+t*e}}function Wve(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function $ve(n){return(n=+n)==1?vK:function(e,t){return t-e?Wve(e,t,n):DD(isNaN(e)?t:e)}}function vK(n,e){var t=e-n;return t?Vve(n,t):DD(isNaN(n)?e:n)}const a8=(function n(e){var t=$ve(e);function r(i,s){var o=t((i=jI(i)).r,(s=jI(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),u=vK(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=n,r})(1);function qve(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function Xve(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Kve(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),o;for(o=0;o<r;++o)i[o]=yv(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Yve(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function PS(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function Jve(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=yv(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var UI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yR=new RegExp(UI.source,"g");function Zve(n){return function(){return n}}function Qve(n){return function(e){return n(e)+""}}function eye(n,e){var t=UI.lastIndex=yR.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(r=UI.exec(n))&&(i=yR.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:PS(r,i)})),t=yR.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Qve(l[0].x):Zve(e):(e=l.length,function(u){for(var d=0,c;d<e;++d)a[(c=l[d]).i]=c.x(u);return a.join("")})}function yv(n,e){var t=typeof e,r;return e==null||t==="boolean"?DD(e):(t==="number"?PS:t==="string"?(r=Vx(e))?(e=r,a8):eye:e instanceof Vx?a8:e instanceof Date?Yve:Xve(e)?qve:Array.isArray(e)?Kve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jve:PS)(n,e)}function BD(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function tye(n,e){e===void 0&&(e=n,n=yv);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function nye(n){return function(){return n}}function RS(n){return+n}var l8=[0,1];function Go(n){return n}function zI(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:nye(isNaN(e)?NaN:.5)}function rye(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function iye(n,e,t){var r=n[0],i=n[1],s=e[0],o=e[1];return i<r?(r=zI(i,r),s=t(o,s)):(r=zI(r,i),s=t(s,o)),function(a){return s(r(a))}}function sye(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=zI(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=$b(n,a,1,r)-1;return s[l](i[l](a))}}function Xb(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function eC(){var n=l8,e=l8,t=yv,r,i,s,o=Go,a,l,u;function d(){var f=Math.min(n.length,e.length);return o!==Go&&(o=rye(n[0],n[f-1])),a=f>2?sye:iye,l=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(l||(l=a(n.map(r),e,t)))(r(o(f)))}return c.invert=function(f){return o(i((u||(u=a(e,n.map(r),PS)))(f)))},c.domain=function(f){return arguments.length?(n=Array.from(f,RS),d()):n.slice()},c.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},c.rangeRound=function(f){return e=Array.from(f),t=BD,d()},c.clamp=function(f){return arguments.length?(o=f?!0:Go,d()):o!==Go},c.interpolate=function(f){return arguments.length?(t=f,d()):t},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,m){return r=f,i=m,d()}}function kD(){return eC()(Go,Go)}function oye(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function NS(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function w0(n){return n=NS(Math.abs(n)),n?n[1]:NaN}function aye(n,e){return function(t,r){for(var i=t.length,s=[],o=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}function lye(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var cye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wx(n){if(!(e=cye.exec(n)))throw new Error("invalid format: "+n);var e;return new LD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wx.prototype=LD.prototype;function LD(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}LD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uye(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var yK;function dye(n,e){var t=NS(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(yK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+NS(n,Math.max(0,e+s-1))[0]}function c8(n,e){var t=NS(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const u8={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:oye,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>c8(n*100,e),r:c8,s:dye,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function d8(n){return n}var f8=Array.prototype.map,h8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fye(n){var e=n.grouping===void 0||n.thousands===void 0?d8:aye(f8.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?d8:lye(f8.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(c){c=Wx(c);var f=c.fill,m=c.align,v=c.sign,b=c.symbol,y=c.zero,w=c.width,A=c.comma,E=c.precision,C=c.trim,M=c.type;M==="n"?(A=!0,M="g"):u8[M]||(E===void 0&&(E=12),C=!0,M="g"),(y||f==="0"&&m==="=")&&(y=!0,f="0",m="=");var P=b==="$"?t:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",O=b==="$"?r:/[%p]/.test(M)?o:"",k=u8[M],D=/[defgprs%]/.test(M);E=E===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(L){var W=P,q=O,K,ie,V;if(M==="c")q=k(L)+q,L="";else{L=+L;var J=L<0||1/L<0;if(L=isNaN(L)?l:k(Math.abs(L),E),C&&(L=uye(L)),J&&+L==0&&v!=="+"&&(J=!1),W=(J?v==="("?v:a:v==="-"||v==="("?"":v)+W,q=(M==="s"?h8[8+yK/3]:"")+q+(J&&v==="("?")":""),D){for(K=-1,ie=L.length;++K<ie;)if(V=L.charCodeAt(K),48>V||V>57){q=(V===46?i+L.slice(K+1):L.slice(K))+q,L=L.slice(0,K);break}}}A&&!y&&(L=e(L,1/0));var H=W.length+L.length+q.length,Y=H<w?new Array(w-H+1).join(f):"";switch(A&&y&&(L=e(Y+L,Y.length?w-q.length:1/0),Y=""),m){case"<":L=W+L+q+Y;break;case"=":L=W+Y+L+q;break;case"^":L=Y.slice(0,H=Y.length>>1)+W+L+q+Y.slice(H);break;default:L=Y+W+L+q;break}return s(L)}return I.toString=function(){return c+""},I}function d(c,f){var m=u((c=Wx(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(w0(f)/3)))*3,b=Math.pow(10,-v),y=h8[8+v/3];return function(w){return m(b*w)+y}}return{format:u,formatPrefix:d}}var S1,jD,xK;hye({thousands:",",grouping:[3],currency:["$",""]});function hye(n){return S1=fye(n),jD=S1.format,xK=S1.formatPrefix,S1}function pye(n){return Math.max(0,-w0(Math.abs(n)))}function mye(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(w0(e)/3)))*3-w0(Math.abs(n)))}function gye(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,w0(e)-w0(n))+1}function bK(n,e,t,r){var i=kI(n,e,t),s;switch(r=Wx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=mye(i,o))&&(r.precision=s),xK(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=gye(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=pye(i))&&(r.precision=s-(r.type==="%")*2);break}}return jD(r)}function oh(n){var e=n.domain;return n.ticks=function(t){var r=e();return DI(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return bK(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,d=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);d-- >0;){if(u=BI(o,a,t),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return n},n}function IS(){var n=kD();return n.copy=function(){return Xb(n,IS())},Sl.apply(n,arguments),oh(n)}function _K(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,RS),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return _K(n).unknown(e)},n=arguments.length?Array.from(n,RS):[0,1],oh(t)}function wK(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],o;return s<i&&(o=t,t=r,r=o,o=i,i=s,s=o),n[t]=e.floor(i),n[r]=e.ceil(s),n}function p8(n){return Math.log(n)}function m8(n){return Math.exp(n)}function vye(n){return-Math.log(-n)}function yye(n){return-Math.exp(-n)}function xye(n){return isFinite(n)?+("1e"+n):n<0?0:n}function bye(n){return n===10?xye:n===Math.E?Math.exp:e=>Math.pow(n,e)}function _ye(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function g8(n){return(e,t)=>-n(-e,t)}function UD(n){const e=n(p8,m8),t=e.domain;let r=10,i,s;function o(){return i=_ye(r),s=bye(r),t()[0]<0?(i=g8(i),s=g8(s),n(vye,yye)):n(p8,m8),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(t(a),o()):t()},e.ticks=a=>{const l=t();let u=l[0],d=l[l.length-1];const c=d<u;c&&([u,d]=[d,u]);let f=i(u),m=i(d),v,b;const y=a==null?10:+a;let w=[];if(!(r%1)&&m-f<y){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(v=1;v<r;++v)if(b=f<0?v/s(-f):v*s(f),!(b<u)){if(b>d)break;w.push(b)}}else for(;f<=m;++f)for(v=r-1;v>=1;--v)if(b=f>0?v/s(-f):v*s(f),!(b<u)){if(b>d)break;w.push(b)}w.length*2<y&&(w=DI(u,d,y))}else w=DI(f,m,Math.min(m-f,y)).map(s);return c?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Wx(l)).precision==null&&(l.trim=!0),l=jD(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return d=>{let c=d/s(Math.round(i(d)));return c*r<r-.5&&(c*=r),c<=u?l(d):""}},e.nice=()=>t(wK(t(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function SK(){const n=UD(eC()).domain([1,10]);return n.copy=()=>Xb(n,SK()).base(n.base()),Sl.apply(n,arguments),n}function v8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function y8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function zD(n){var e=1,t=n(v8(e),y8(e));return t.constant=function(r){return arguments.length?n(v8(e=+r),y8(e)):e},oh(t)}function AK(){var n=zD(eC());return n.copy=function(){return Xb(n,AK()).constant(n.constant())},Sl.apply(n,arguments)}function x8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function wye(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Sye(n){return n<0?-n*n:n*n}function HD(n){var e=n(Go,Go),t=1;function r(){return t===1?n(Go,Go):t===.5?n(wye,Sye):n(x8(t),x8(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},oh(e)}function GD(){var n=HD(eC());return n.copy=function(){return Xb(n,GD()).exponent(n.exponent())},Sl.apply(n,arguments),n}function Aye(){return GD.apply(null,arguments).exponent(.5)}function b8(n){return Math.sign(n)*n*n}function Eye(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function EK(){var n=kD(),e=[0,1],t=!1,r;function i(s){var o=Eye(n(s));return isNaN(o)?r:t?Math.round(o):o}return i.invert=function(s){return n.invert(b8(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,RS)).map(b8)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return EK(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Sl.apply(i,arguments),oh(i)}function CK(){var n=[],e=[],t=[],r;function i(){var o=0,a=Math.max(1,e.length);for(t=new Array(a-1);++o<a;)t[o-1]=Rve(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[$b(t,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(Gf),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return CK().domain(n).range(e).unknown(r)},Sl.apply(s,arguments)}function MK(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[$b(r,l,0,t)]:s}function a(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return o}return o.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,a()):[n,e]},o.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,r[0]]:u>=t?[r[t-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return MK().domain([n,e]).range(i).unknown(s)},Sl.apply(oh(o),arguments)}function TK(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[$b(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[n[o-1],n[o]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return TK().domain(n).range(e).unknown(t)},Sl.apply(i,arguments)}const xR=new Date,bR=new Date;function Ms(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),n(s);while(u<s&&s<o);return l},i.filter=s=>Ms(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),t&&(i.count=(s,o)=>(xR.setTime(+s),bR.setTime(+o),n(xR),n(bR),Math.floor(t(xR,bR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const OS=Ms(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);OS.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Ms(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):OS);OS.range;const ld=1e3,pl=ld*60,cd=pl*60,_d=cd*24,VD=_d*7,_8=_d*30,_R=_d*365,Ep=Ms(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*ld)},(n,e)=>(e-n)/ld,n=>n.getUTCSeconds());Ep.range;const WD=Ms(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ld)},(n,e)=>{n.setTime(+n+e*pl)},(n,e)=>(e-n)/pl,n=>n.getMinutes());WD.range;const $D=Ms(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*pl)},(n,e)=>(e-n)/pl,n=>n.getUTCMinutes());$D.range;const qD=Ms(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ld-n.getMinutes()*pl)},(n,e)=>{n.setTime(+n+e*cd)},(n,e)=>(e-n)/cd,n=>n.getHours());qD.range;const XD=Ms(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*cd)},(n,e)=>(e-n)/cd,n=>n.getUTCHours());XD.range;const Kb=Ms(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*pl)/_d,n=>n.getDate()-1);Kb.range;const tC=Ms(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/_d,n=>n.getUTCDate()-1);tC.range;const PK=Ms(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/_d,n=>Math.floor(n/_d));PK.range;function vm(n){return Ms(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pl)/VD)}const nC=vm(0),FS=vm(1),Cye=vm(2),Mye=vm(3),S0=vm(4),Tye=vm(5),Pye=vm(6);nC.range;FS.range;Cye.range;Mye.range;S0.range;Tye.range;Pye.range;function ym(n){return Ms(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/VD)}const rC=ym(0),DS=ym(1),Rye=ym(2),Nye=ym(3),A0=ym(4),Iye=ym(5),Oye=ym(6);rC.range;DS.range;Rye.range;Nye.range;A0.range;Iye.range;Oye.range;const KD=Ms(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());KD.range;const YD=Ms(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());YD.range;const wd=Ms(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());wd.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ms(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});wd.range;const Sd=Ms(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Sd.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ms(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Sd.range;function RK(n,e,t,r,i,s){const o=[[Ep,1,ld],[Ep,5,5*ld],[Ep,15,15*ld],[Ep,30,30*ld],[s,1,pl],[s,5,5*pl],[s,15,15*pl],[s,30,30*pl],[i,1,cd],[i,3,3*cd],[i,6,6*cd],[i,12,12*cd],[r,1,_d],[r,2,2*_d],[t,1,VD],[e,1,_8],[e,3,3*_8],[n,1,_R]];function a(u,d,c){const f=d<u;f&&([u,d]=[d,u]);const m=c&&typeof c.range=="function"?c:l(u,d,c),v=m?m.range(u,+d+1):[];return f?v.reverse():v}function l(u,d,c){const f=Math.abs(d-u)/c,m=ID(([,,y])=>y).right(o,f);if(m===o.length)return n.every(kI(u/_R,d/_R,c));if(m===0)return OS.every(Math.max(kI(u,d,c),1));const[v,b]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return v.every(b)}return[a,l]}const[Fye,Dye]=RK(Sd,YD,rC,PK,XD,$D),[Bye,kye]=RK(wd,KD,nC,Kb,qD,WD);function wR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function SR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function by(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function Lye(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,u=_y(i),d=wy(i),c=_y(s),f=wy(s),m=_y(o),v=wy(o),b=_y(a),y=wy(a),w=_y(l),A=wy(l),E={a:J,A:H,b:Y,B:ne,c:null,d:M8,e:M8,f:axe,g:vxe,G:xxe,H:ixe,I:sxe,j:oxe,L:NK,m:lxe,M:cxe,p:Z,q:oe,Q:R8,s:N8,S:uxe,u:dxe,U:fxe,V:hxe,w:pxe,W:mxe,x:null,X:null,y:gxe,Y:yxe,Z:bxe,"%":P8},C={a:ye,A:Be,b:Xe,B:we,c:null,d:T8,e:T8,f:Axe,g:Fxe,G:Bxe,H:_xe,I:wxe,j:Sxe,L:OK,m:Exe,M:Cxe,p:Ae,q:ke,Q:R8,s:N8,S:Mxe,u:Txe,U:Pxe,V:Rxe,w:Nxe,W:Ixe,x:null,X:null,y:Oxe,Y:Dxe,Z:kxe,"%":P8},M={a:I,A:L,b:W,B:q,c:K,d:E8,e:E8,f:exe,g:A8,G:S8,H:C8,I:C8,j:Yye,L:Qye,m:Kye,M:Jye,p:D,q:Xye,Q:nxe,s:rxe,S:Zye,u:Gye,U:Vye,V:Wye,w:Hye,W:$ye,x:ie,X:V,y:A8,Y:S8,Z:qye,"%":txe};E.x=P(t,E),E.X=P(r,E),E.c=P(e,E),C.x=P(t,C),C.X=P(r,C),C.c=P(e,C);function P(Oe,Ge){return function(et){var ze=[],nt=-1,Fe=0,ce=Oe.length,rt,ct,wt;for(et instanceof Date||(et=new Date(+et));++nt<ce;)Oe.charCodeAt(nt)===37&&(ze.push(Oe.slice(Fe,nt)),(ct=w8[rt=Oe.charAt(++nt)])!=null?rt=Oe.charAt(++nt):ct=rt==="e"?" ":"0",(wt=Ge[rt])&&(rt=wt(et,ct)),ze.push(rt),Fe=nt+1);return ze.push(Oe.slice(Fe,nt)),ze.join("")}}function O(Oe,Ge){return function(et){var ze=by(1900,void 0,1),nt=k(ze,Oe,et+="",0),Fe,ce;if(nt!=et.length)return null;if("Q"in ze)return new Date(ze.Q);if("s"in ze)return new Date(ze.s*1e3+("L"in ze?ze.L:0));if(Ge&&!("Z"in ze)&&(ze.Z=0),"p"in ze&&(ze.H=ze.H%12+ze.p*12),ze.m===void 0&&(ze.m="q"in ze?ze.q:0),"V"in ze){if(ze.V<1||ze.V>53)return null;"w"in ze||(ze.w=1),"Z"in ze?(Fe=SR(by(ze.y,0,1)),ce=Fe.getUTCDay(),Fe=ce>4||ce===0?DS.ceil(Fe):DS(Fe),Fe=tC.offset(Fe,(ze.V-1)*7),ze.y=Fe.getUTCFullYear(),ze.m=Fe.getUTCMonth(),ze.d=Fe.getUTCDate()+(ze.w+6)%7):(Fe=wR(by(ze.y,0,1)),ce=Fe.getDay(),Fe=ce>4||ce===0?FS.ceil(Fe):FS(Fe),Fe=Kb.offset(Fe,(ze.V-1)*7),ze.y=Fe.getFullYear(),ze.m=Fe.getMonth(),ze.d=Fe.getDate()+(ze.w+6)%7)}else("W"in ze||"U"in ze)&&("w"in ze||(ze.w="u"in ze?ze.u%7:"W"in ze?1:0),ce="Z"in ze?SR(by(ze.y,0,1)).getUTCDay():wR(by(ze.y,0,1)).getDay(),ze.m=0,ze.d="W"in ze?(ze.w+6)%7+ze.W*7-(ce+5)%7:ze.w+ze.U*7-(ce+6)%7);return"Z"in ze?(ze.H+=ze.Z/100|0,ze.M+=ze.Z%100,SR(ze)):wR(ze)}}function k(Oe,Ge,et,ze){for(var nt=0,Fe=Ge.length,ce=et.length,rt,ct;nt<Fe;){if(ze>=ce)return-1;if(rt=Ge.charCodeAt(nt++),rt===37){if(rt=Ge.charAt(nt++),ct=M[rt in w8?Ge.charAt(nt++):rt],!ct||(ze=ct(Oe,et,ze))<0)return-1}else if(rt!=et.charCodeAt(ze++))return-1}return ze}function D(Oe,Ge,et){var ze=u.exec(Ge.slice(et));return ze?(Oe.p=d.get(ze[0].toLowerCase()),et+ze[0].length):-1}function I(Oe,Ge,et){var ze=m.exec(Ge.slice(et));return ze?(Oe.w=v.get(ze[0].toLowerCase()),et+ze[0].length):-1}function L(Oe,Ge,et){var ze=c.exec(Ge.slice(et));return ze?(Oe.w=f.get(ze[0].toLowerCase()),et+ze[0].length):-1}function W(Oe,Ge,et){var ze=w.exec(Ge.slice(et));return ze?(Oe.m=A.get(ze[0].toLowerCase()),et+ze[0].length):-1}function q(Oe,Ge,et){var ze=b.exec(Ge.slice(et));return ze?(Oe.m=y.get(ze[0].toLowerCase()),et+ze[0].length):-1}function K(Oe,Ge,et){return k(Oe,e,Ge,et)}function ie(Oe,Ge,et){return k(Oe,t,Ge,et)}function V(Oe,Ge,et){return k(Oe,r,Ge,et)}function J(Oe){return o[Oe.getDay()]}function H(Oe){return s[Oe.getDay()]}function Y(Oe){return l[Oe.getMonth()]}function ne(Oe){return a[Oe.getMonth()]}function Z(Oe){return i[+(Oe.getHours()>=12)]}function oe(Oe){return 1+~~(Oe.getMonth()/3)}function ye(Oe){return o[Oe.getUTCDay()]}function Be(Oe){return s[Oe.getUTCDay()]}function Xe(Oe){return l[Oe.getUTCMonth()]}function we(Oe){return a[Oe.getUTCMonth()]}function Ae(Oe){return i[+(Oe.getUTCHours()>=12)]}function ke(Oe){return 1+~~(Oe.getUTCMonth()/3)}return{format:function(Oe){var Ge=P(Oe+="",E);return Ge.toString=function(){return Oe},Ge},parse:function(Oe){var Ge=O(Oe+="",!1);return Ge.toString=function(){return Oe},Ge},utcFormat:function(Oe){var Ge=P(Oe+="",C);return Ge.toString=function(){return Oe},Ge},utcParse:function(Oe){var Ge=O(Oe+="",!0);return Ge.toString=function(){return Oe},Ge}}}var w8={"-":"",_:" ",0:"0"},Gs=/^\s*\d+/,jye=/^%/,Uye=/[\\^$*+?|[\]().{}]/g;function Br(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function zye(n){return n.replace(Uye,"\\$&")}function _y(n){return new RegExp("^(?:"+n.map(zye).join("|")+")","i")}function wy(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function Hye(n,e,t){var r=Gs.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function Gye(n,e,t){var r=Gs.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function Vye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function Wye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function $ye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function S8(n,e,t){var r=Gs.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function A8(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function qye(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Xye(n,e,t){var r=Gs.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function Kye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function E8(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function Yye(n,e,t){var r=Gs.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function C8(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function Jye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function Zye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function Qye(n,e,t){var r=Gs.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function exe(n,e,t){var r=Gs.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function txe(n,e,t){var r=jye.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function nxe(n,e,t){var r=Gs.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function rxe(n,e,t){var r=Gs.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function M8(n,e){return Br(n.getDate(),e,2)}function ixe(n,e){return Br(n.getHours(),e,2)}function sxe(n,e){return Br(n.getHours()%12||12,e,2)}function oxe(n,e){return Br(1+Kb.count(wd(n),n),e,3)}function NK(n,e){return Br(n.getMilliseconds(),e,3)}function axe(n,e){return NK(n,e)+"000"}function lxe(n,e){return Br(n.getMonth()+1,e,2)}function cxe(n,e){return Br(n.getMinutes(),e,2)}function uxe(n,e){return Br(n.getSeconds(),e,2)}function dxe(n){var e=n.getDay();return e===0?7:e}function fxe(n,e){return Br(nC.count(wd(n)-1,n),e,2)}function IK(n){var e=n.getDay();return e>=4||e===0?S0(n):S0.ceil(n)}function hxe(n,e){return n=IK(n),Br(S0.count(wd(n),n)+(wd(n).getDay()===4),e,2)}function pxe(n){return n.getDay()}function mxe(n,e){return Br(FS.count(wd(n)-1,n),e,2)}function gxe(n,e){return Br(n.getFullYear()%100,e,2)}function vxe(n,e){return n=IK(n),Br(n.getFullYear()%100,e,2)}function yxe(n,e){return Br(n.getFullYear()%1e4,e,4)}function xxe(n,e){var t=n.getDay();return n=t>=4||t===0?S0(n):S0.ceil(n),Br(n.getFullYear()%1e4,e,4)}function bxe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Br(e/60|0,"0",2)+Br(e%60,"0",2)}function T8(n,e){return Br(n.getUTCDate(),e,2)}function _xe(n,e){return Br(n.getUTCHours(),e,2)}function wxe(n,e){return Br(n.getUTCHours()%12||12,e,2)}function Sxe(n,e){return Br(1+tC.count(Sd(n),n),e,3)}function OK(n,e){return Br(n.getUTCMilliseconds(),e,3)}function Axe(n,e){return OK(n,e)+"000"}function Exe(n,e){return Br(n.getUTCMonth()+1,e,2)}function Cxe(n,e){return Br(n.getUTCMinutes(),e,2)}function Mxe(n,e){return Br(n.getUTCSeconds(),e,2)}function Txe(n){var e=n.getUTCDay();return e===0?7:e}function Pxe(n,e){return Br(rC.count(Sd(n)-1,n),e,2)}function FK(n){var e=n.getUTCDay();return e>=4||e===0?A0(n):A0.ceil(n)}function Rxe(n,e){return n=FK(n),Br(A0.count(Sd(n),n)+(Sd(n).getUTCDay()===4),e,2)}function Nxe(n){return n.getUTCDay()}function Ixe(n,e){return Br(DS.count(Sd(n)-1,n),e,2)}function Oxe(n,e){return Br(n.getUTCFullYear()%100,e,2)}function Fxe(n,e){return n=FK(n),Br(n.getUTCFullYear()%100,e,2)}function Dxe(n,e){return Br(n.getUTCFullYear()%1e4,e,4)}function Bxe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?A0(n):A0.ceil(n),Br(n.getUTCFullYear()%1e4,e,4)}function kxe(){return"+0000"}function P8(){return"%"}function R8(n){return+n}function N8(n){return Math.floor(+n/1e3)}var fg,DK,BK;Lxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lxe(n){return fg=Lye(n),DK=fg.format,fg.parse,BK=fg.utcFormat,fg.utcParse,fg}function jxe(n){return new Date(n)}function Uxe(n){return n instanceof Date?+n:+new Date(+n)}function JD(n,e,t,r,i,s,o,a,l,u){var d=kD(),c=d.invert,f=d.domain,m=u(".%L"),v=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),A=u("%b %d"),E=u("%B"),C=u("%Y");function M(P){return(l(P)<P?m:a(P)<P?v:o(P)<P?b:s(P)<P?y:r(P)<P?i(P)<P?w:A:t(P)<P?E:C)(P)}return d.invert=function(P){return new Date(c(P))},d.domain=function(P){return arguments.length?f(Array.from(P,Uxe)):f().map(jxe)},d.ticks=function(P){var O=f();return n(O[0],O[O.length-1],P??10)},d.tickFormat=function(P,O){return O==null?M:u(O)},d.nice=function(P){var O=f();return(!P||typeof P.range!="function")&&(P=e(O[0],O[O.length-1],P??10)),P?f(wK(O,P)):d},d.copy=function(){return Xb(d,JD(n,e,t,r,i,s,o,a,l,u))},d}function zxe(){return Sl.apply(JD(Bye,kye,wd,KD,nC,Kb,qD,WD,Ep,DK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hxe(){return Sl.apply(JD(Fye,Dye,Sd,YD,rC,tC,XD,$D,Ep,BK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iC(){var n=0,e=1,t,r,i,s,o=Go,a=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(s(c)-t)*i,a?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([n,e]=c,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(c){return arguments.length?(a=!!c,u):a},u.interpolator=function(c){return arguments.length?(o=c,u):o};function d(c){return function(f){var m,v;return arguments.length?([m,v]=f,o=c(m,v),u):[o(0),o(1)]}}return u.range=d(yv),u.rangeRound=d(BD),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return s=c,t=c(n),r=c(e),i=t===r?0:1/(r-t),u}}function ah(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function kK(){var n=oh(iC()(Go));return n.copy=function(){return ah(n,kK())},Nd.apply(n,arguments)}function LK(){var n=UD(iC()).domain([1,10]);return n.copy=function(){return ah(n,LK()).base(n.base())},Nd.apply(n,arguments)}function jK(){var n=zD(iC());return n.copy=function(){return ah(n,jK()).constant(n.constant())},Nd.apply(n,arguments)}function ZD(){var n=HD(iC());return n.copy=function(){return ah(n,ZD()).exponent(n.exponent())},Nd.apply(n,arguments)}function Gxe(){return ZD.apply(null,arguments).exponent(.5)}function UK(){var n=[],e=Go;function t(r){if(r!=null&&!isNaN(r=+r))return e(($b(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(Gf),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Pve(n,s/r))},t.copy=function(){return UK(e).domain(n)},Nd.apply(t,arguments)}function sC(){var n=0,e=.5,t=1,r=1,i,s,o,a,l,u=Go,d,c=!1,f;function m(b){return isNaN(b=+b)?f:(b=.5+((b=+d(b))-s)*(r*b<r*s?a:l),u(c?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([n,e,t]=b,i=d(n=+n),s=d(e=+e),o=d(t=+t),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m):[n,e,t]},m.clamp=function(b){return arguments.length?(c=!!b,m):c},m.interpolator=function(b){return arguments.length?(u=b,m):u};function v(b){return function(y){var w,A,E;return arguments.length?([w,A,E]=y,u=tye(b,[w,A,E]),m):[u(0),u(.5),u(1)]}}return m.range=v(yv),m.rangeRound=v(BD),m.unknown=function(b){return arguments.length?(f=b,m):f},function(b){return d=b,i=b(n),s=b(e),o=b(t),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m}}function zK(){var n=oh(sC()(Go));return n.copy=function(){return ah(n,zK())},Nd.apply(n,arguments)}function HK(){var n=UD(sC()).domain([.1,1,10]);return n.copy=function(){return ah(n,HK()).base(n.base())},Nd.apply(n,arguments)}function GK(){var n=zD(sC());return n.copy=function(){return ah(n,GK()).constant(n.constant())},Nd.apply(n,arguments)}function QD(){var n=HD(sC());return n.copy=function(){return ah(n,QD()).exponent(n.exponent())},Nd.apply(n,arguments)}function Vxe(){return QD.apply(null,arguments).exponent(.5)}const I8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zx,scaleDiverging:zK,scaleDivergingLog:HK,scaleDivergingPow:QD,scaleDivergingSqrt:Vxe,scaleDivergingSymlog:GK,scaleIdentity:_K,scaleImplicit:LI,scaleLinear:IS,scaleLog:SK,scaleOrdinal:OD,scalePoint:sx,scalePow:GD,scaleQuantile:CK,scaleQuantize:MK,scaleRadial:EK,scaleSequential:kK,scaleSequentialLog:LK,scaleSequentialPow:ZD,scaleSequentialQuantile:UK,scaleSequentialSqrt:Gxe,scaleSequentialSymlog:jK,scaleSqrt:Aye,scaleSymlog:AK,scaleThreshold:TK,scaleTime:zxe,scaleUtc:Hxe,tickFormat:bK},Symbol.toStringTag,{value:"Module"}));var AR,O8;function VK(){if(O8)return AR;O8=1;var n=hv();function e(t,r,i){for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!n(l):i(l,u)))var u=l,d=a}return d}return AR=e,AR}var ER,F8;function Wxe(){if(F8)return ER;F8=1;function n(e,t){return e>t}return ER=n,ER}var CR,D8;function $xe(){if(D8)return CR;D8=1;var n=VK(),e=Wxe(),t=vv();function r(i){return i&&i.length?n(i,t,e):void 0}return CR=r,CR}var qxe=$xe();const Ff=Hr(qxe);var MR,B8;function Xxe(){if(B8)return MR;B8=1;function n(e,t){return e<t}return MR=n,MR}var TR,k8;function Kxe(){if(k8)return TR;k8=1;var n=VK(),e=Xxe(),t=vv();function r(i){return i&&i.length?n(i,t,e):void 0}return TR=r,TR}var Yxe=Kxe();const oC=Hr(Yxe);var PR,L8;function Jxe(){if(L8)return PR;L8=1;var n=pD(),e=sh(),t=QX(),r=ga();function i(s,o){var a=r(s)?n:t;return a(s,e(o,3))}return PR=i,PR}var RR,j8;function Zxe(){if(j8)return RR;j8=1;var n=JX(),e=Jxe();function t(r,i){return n(e(r,i),1)}return RR=t,RR}var Qxe=Zxe();const ebe=Hr(Qxe);var NR,U8;function tbe(){if(U8)return NR;U8=1;var n=MD();function e(t,r){return n(t,r)}return NR=e,NR}var nbe=tbe();const E0=Hr(nbe);var xv=1e9,rbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tB,vi=!0,_l="[DecimalError] ",Hp=_l+"Invalid argument: ",eB=_l+"Exponent out of range: ",bv=Math.floor,mp=Math.pow,ibe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,Ls=1e7,ui=7,WK=9007199254740991,BS=bv(WK/ui),pn={};pn.absoluteValue=pn.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};pn.comparedTo=pn.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};pn.decimalPlaces=pn.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*ui;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};pn.dividedBy=pn.div=function(n){return pd(this,new this.constructor(n))};pn.dividedToIntegerBy=pn.idiv=function(n){var e=this,t=e.constructor;return ei(pd(e,new t(n),0,1),t.precision)};pn.equals=pn.eq=function(n){return!this.cmp(n)};pn.exponent=function(){return us(this)};pn.greaterThan=pn.gt=function(n){return this.cmp(n)>0};pn.greaterThanOrEqualTo=pn.gte=function(n){return this.cmp(n)>=0};pn.isInteger=pn.isint=function(){return this.e>this.d.length-2};pn.isNegative=pn.isneg=function(){return this.s<0};pn.isPositive=pn.ispos=function(){return this.s>0};pn.isZero=function(){return this.s===0};pn.lessThan=pn.lt=function(n){return this.cmp(n)<0};pn.lessThanOrEqualTo=pn.lte=function(n){return this.cmp(n)<1};pn.logarithm=pn.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(Da))throw Error(_l+"NaN");if(t.s<1)throw Error(_l+(t.s?"NaN":"-Infinity"));return t.eq(Da)?new r(0):(vi=!1,e=pd($x(t,s),$x(n,s),s),vi=!0,ei(e,i))};pn.minus=pn.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?XK(e,n):$K(e,(n.s=-n.s,n))};pn.modulo=pn.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(_l+"NaN");return t.s?(vi=!1,e=pd(t,n,0,1).times(n),vi=!0,t.minus(e)):ei(new r(t),i)};pn.naturalExponential=pn.exp=function(){return qK(this)};pn.naturalLogarithm=pn.ln=function(){return $x(this)};pn.negated=pn.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};pn.plus=pn.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?$K(e,n):XK(e,(n.s=-n.s,n))};pn.precision=pn.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Hp+n);if(e=us(i)+1,r=i.d.length-1,t=r*ui+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};pn.squareRoot=pn.sqrt=function(){var n,e,t,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(_l+"NaN")}for(n=us(a),vi=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Kc(a.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=bv((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=o=t+3;;)if(s=r,r=s.plus(pd(a,s,o+2)).times(.5),Kc(s.d).slice(0,o)===(e=Kc(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ei(s,t+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return vi=!0,ei(r,t)};pn.times=pn.mul=function(n){var e,t,r,i,s,o,a,l,u,d=this,c=d.constructor,f=d.d,m=(n=new c(n)).d;if(!d.s||!n.s)return new c(0);for(n.s*=d.s,t=d.e+n.e,l=f.length,u=m.length,l<u&&(s=f,f=m,m=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+m[r]*f[i-r-1]+e,s[i--]=a%Ls|0,e=a/Ls|0;s[i]=(s[i]+e)%Ls|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,vi?ei(n,c.precision):n};pn.toDecimalPlaces=pn.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(au(n,0,xv),e===void 0?e=r.rounding:au(e,0,8),ei(t,n+us(t)+1,e))};pn.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=rm(r,!0):(au(n,0,xv),e===void 0?e=i.rounding:au(e,0,8),r=ei(new i(r),n+1,e),t=rm(r,!0,n+1)),t};pn.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?rm(i):(au(n,0,xv),e===void 0?e=s.rounding:au(e,0,8),r=ei(new s(i),n+us(i)+1,e),t=rm(r.abs(),!1,n+us(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};pn.toInteger=pn.toint=function(){var n=this,e=n.constructor;return ei(new e(n),us(n)+1,e.rounding)};pn.toNumber=function(){return+this};pn.toPower=pn.pow=function(n){var e,t,r,i,s,o,a=this,l=a.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(Da);if(a=new l(a),!a.s){if(n.s<1)throw Error(_l+"Infinity");return a}if(a.eq(Da))return a;if(r=l.precision,n.eq(Da))return ei(a,r);if(e=n.e,t=n.d.length-1,o=e>=t,s=a.s,o){if((t=d<0?-d:d)<=WK){for(i=new l(Da),e=Math.ceil(r/ui+4),vi=!1;t%2&&(i=i.times(a),H8(i.d,e)),t=bv(t/2),t!==0;)a=a.times(a),H8(a.d,e);return vi=!0,n.s<0?new l(Da).div(i):ei(i,r)}}else if(s<0)throw Error(_l+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,a.s=1,vi=!1,i=n.times($x(a,r+u)),vi=!0,i=qK(i),i.s=s,i};pn.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=us(i),r=rm(i,t<=s.toExpNeg||t>=s.toExpPos)):(au(n,1,xv),e===void 0?e=s.rounding:au(e,0,8),i=ei(new s(i),n,e),t=us(i),r=rm(i,n<=t||t<=s.toExpNeg,n)),r};pn.toSignificantDigits=pn.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(au(n,1,xv),e===void 0?e=r.rounding:au(e,0,8)),ei(new r(t),n,e)};pn.toString=pn.valueOf=pn.val=pn.toJSON=pn[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=us(n),t=n.constructor;return rm(n,e<=t.toExpNeg||e>=t.toExpPos)};function $K(n,e){var t,r,i,s,o,a,l,u,d=n.constructor,c=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),vi?ei(e,c):e;if(l=n.d,u=e.d,o=n.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(c/ui),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/Ls|0,l[s]%=Ls;for(t&&(l.unshift(t),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,vi?ei(e,c):e}function au(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Hp+n)}function Kc(n){var e,t,r,i=n.length-1,s="",o=n[0];if(i>0){for(s+=o,e=1;e<i;e++)r=n[e]+"",t=ui-r.length,t&&(s+=Tf(t)),s+=r;o=n[e],r=o+"",t=ui-r.length,t&&(s+=Tf(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var pd=(function(){function n(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Ls|0,o=s/Ls|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function t(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Ls+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,d,c,f,m,v,b,y,w,A,E,C,M,P,O,k,D=r.constructor,I=r.s==i.s?1:-1,L=r.d,W=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(_l+"Division by zero");for(l=r.e-i.e,O=W.length,M=L.length,m=new D(I),v=m.d=[],u=0;W[u]==(L[u]||0);)++u;if(W[u]>(L[u]||0)&&--l,s==null?A=s=D.precision:o?A=s+(us(r)-us(i))+1:A=s,A<0)return new D(0);if(A=A/ui+2|0,u=0,O==1)for(d=0,W=W[0],A++;(u<M||d)&&A--;u++)E=d*Ls+(L[u]||0),v[u]=E/W|0,d=E%W|0;else{for(d=Ls/(W[0]+1)|0,d>1&&(W=n(W,d),L=n(L,d),O=W.length,M=L.length),C=O,b=L.slice(0,O),y=b.length;y<O;)b[y++]=0;k=W.slice(),k.unshift(0),P=W[0],W[1]>=Ls/2&&++P;do d=0,a=e(W,b,O,y),a<0?(w=b[0],O!=y&&(w=w*Ls+(b[1]||0)),d=w/P|0,d>1?(d>=Ls&&(d=Ls-1),c=n(W,d),f=c.length,y=b.length,a=e(c,b,f,y),a==1&&(d--,t(c,O<f?k:W,f))):(d==0&&(a=d=1),c=W.slice()),f=c.length,f<y&&c.unshift(0),t(b,c,y),a==-1&&(y=b.length,a=e(W,b,O,y),a<1&&(d++,t(b,O<y?k:W,y))),y=b.length):a===0&&(d++,b=[0]),v[u++]=d,a&&b[0]?b[y++]=L[C]||0:(b=[L[C]],y=1);while((C++<M||b[0]!==void 0)&&A--)}return v[0]||v.shift(),m.e=l,ei(m,o?s+us(m)+1:s)}})();function qK(n,e){var t,r,i,s,o,a,l=0,u=0,d=n.constructor,c=d.precision;if(us(n)>16)throw Error(eB+us(n));if(!n.s)return new d(Da);for(vi=!1,a=c,o=new d(.03125);n.abs().gte(.1);)n=n.times(o),u+=5;for(r=Math.log(mp(2,u))/Math.LN10*2+5|0,a+=r,t=i=s=new d(Da),d.precision=a;;){if(i=ei(i.times(n),a),t=t.times(++l),o=s.plus(pd(i,t,a)),Kc(o.d).slice(0,a)===Kc(s.d).slice(0,a)){for(;u--;)s=ei(s.times(s),a);return d.precision=c,e==null?(vi=!0,ei(s,c)):s}s=o}}function us(n){for(var e=n.e*ui,t=n.d[0];t>=10;t/=10)e++;return e}function IR(n,e,t){if(e>n.LN10.sd())throw vi=!0,t&&(n.precision=t),Error(_l+"LN10 precision limit exceeded");return ei(new n(n.LN10),e)}function Tf(n){for(var e="";n--;)e+="0";return e}function $x(n,e){var t,r,i,s,o,a,l,u,d,c=1,f=10,m=n,v=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(_l+(m.s?"NaN":"-Infinity"));if(m.eq(Da))return new b(0);if(e==null?(vi=!1,u=y):u=e,m.eq(10))return e==null&&(vi=!0),IR(b,u);if(u+=f,b.precision=u,t=Kc(v),r=t.charAt(0),s=us(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)m=m.times(n),t=Kc(m.d),r=t.charAt(0),c++;s=us(m),r>1?(m=new b("0."+t),s++):m=new b(r+"."+t.slice(1))}else return l=IR(b,u+2,y).times(s+""),m=$x(new b(r+"."+t.slice(1)),u-f).plus(l),b.precision=y,e==null?(vi=!0,ei(m,y)):m;for(a=o=m=pd(m.minus(Da),m.plus(Da),u),d=ei(m.times(m),u),i=3;;){if(o=ei(o.times(d),u),l=a.plus(pd(o,new b(i),u)),Kc(l.d).slice(0,u)===Kc(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(IR(b,u+2,y).times(s+""))),a=pd(a,new b(c),u),b.precision=y,e==null?(vi=!0,ei(a,y)):a;a=l,i+=2}}function z8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=bv(t/ui),n.d=[],r=(t+1)%ui,t<0&&(r+=ui),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=ui;r<i;)n.d.push(+e.slice(r,r+=ui));e=e.slice(r),r=ui-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),vi&&(n.e>BS||n.e<-BS))throw Error(eB+t)}else n.s=0,n.e=0,n.d=[0];return n}function ei(n,e,t){var r,i,s,o,a,l,u,d,c=n.d;for(o=1,s=c[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=ui,i=e,u=c[d=0];else{if(d=Math.ceil((r+1)/ui),s=c.length,d>=s)return n;for(u=s=c[d],o=1;s>=10;s/=10)o++;r%=ui,i=r-ui+o}if(t!==void 0&&(s=mp(10,o-i-1),a=u/s%10|0,l=e<0||c[d+1]!==void 0||u%s,l=t<4?(a||l)&&(t==0||t==(n.s<0?3:2)):a>5||a==5&&(t==4||l||t==6&&(r>0?i>0?u/mp(10,o-i):0:c[d-1])%10&1||t==(n.s<0?8:7))),e<1||!c[0])return l?(s=us(n),c.length=1,e=e-s-1,c[0]=mp(10,(ui-e%ui)%ui),n.e=bv(-e/ui)||0):(c.length=1,c[0]=n.e=n.s=0),n;if(r==0?(c.length=d,s=1,d--):(c.length=d+1,s=mp(10,ui-r),c[d]=i>0?(u/mp(10,o-i)%mp(10,i)|0)*s:0),l)for(;;)if(d==0){(c[0]+=s)==Ls&&(c[0]=1,++n.e);break}else{if(c[d]+=s,c[d]!=Ls)break;c[d--]=0,s=1}for(r=c.length;c[--r]===0;)c.pop();if(vi&&(n.e>BS||n.e<-BS))throw Error(eB+us(n));return n}function XK(n,e){var t,r,i,s,o,a,l,u,d,c,f=n.constructor,m=f.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new f(n),vi?ei(e,m):e;if(l=n.d,c=e.d,r=e.e,u=n.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(t=l,o=-o,a=c.length):(t=c,r=u,a=l.length),i=Math.max(Math.ceil(m/ui),a)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=l.length,a=c.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=c[i]){d=l[i]<c[i];break}o=0}for(d&&(t=l,l=c,c=t,e.s=-e.s),a=l.length,i=c.length-a;i>0;--i)l[a++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(s=i;s&&l[--s]===0;)l[s]=Ls-1;--l[s],l[i]+=Ls}l[i]-=c[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,vi?ei(e,m):e):new f(0)}function rm(n,e,t){var r,i=us(n),s=Kc(n.d),o=s.length;return e?(t&&(r=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+Tf(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Tf(-i-1)+s,t&&(r=t-o)>0&&(s+=Tf(r))):i>=o?(s+=Tf(i+1-o),t&&(r=t-i-1)>0&&(s=s+"."+Tf(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(s+="."),s+=Tf(r))),n.s<0?"-"+s:s}function H8(n,e){if(n.length>e)return n.length=e,!0}function KK(n){var e,t,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return z8(o,s.toString())}else if(typeof s!="string")throw Error(Hp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,ibe.test(s))z8(o,s);else throw Error(Hp+s)}if(i.prototype=pn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KK,i.config=i.set=sbe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function sbe(n){if(!n||typeof n!="object")throw Error(_l+"Object expected");var e,t,r,i=["precision",1,xv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(bv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(Hp+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(Hp+t+": "+r);return this}var tB=KK(rbe);Da=new tB(1);const Xr=tB;function obe(n){return ube(n)||cbe(n)||lbe(n)||abe()}function abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(n,e){if(n){if(typeof n=="string")return HI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HI(n,e)}}function cbe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function ube(n){if(Array.isArray(n))return HI(n)}function HI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var dbe=function(e){return e},YK={},JK=function(e){return e===YK},G8=function(e){return function t(){return arguments.length===0||arguments.length===1&&JK(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},fbe=function n(e,t){return e===1?t:G8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==YK}).length;return o>=e?t.apply(void 0,i):n(e-o,G8(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(c){return JK(c)?l.shift():c});return t.apply(void 0,obe(d).concat(l))}))})},aC=function(e){return fbe(e.length,e)},GI=function(e,t){for(var r=[],i=e;i<t;++i)r[i-e]=i;return r},hbe=aC(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),pbe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return dbe;var i=t.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},VI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZK=function(e){var t=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t&&s.every(function(a,l){return a===t[l]})||(t=s,r=e.apply(void 0,s)),r}};function mbe(n){var e;return n===0?e=1:e=Math.floor(new Xr(n).abs().log(10).toNumber())+1,e}function gbe(n,e,t){for(var r=new Xr(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var vbe=aC(function(n,e,t){var r=+n,i=+e;return r+t*(i-r)}),ybe=aC(function(n,e,t){var r=e-+n;return r=r||1/0,(t-n)/r}),xbe=aC(function(n,e,t){var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(t-n)/r))});const lC={rangeStep:gbe,getDigitCount:mbe,interpolateNumber:vbe,uninterpolateNumber:ybe,uninterpolateTruncation:xbe};function WI(n){return wbe(n)||_be(n)||QK(n)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _be(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function wbe(n){if(Array.isArray(n))return $I(n)}function qx(n,e){return Ebe(n)||Abe(n,e)||QK(n,e)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(n,e){if(n){if(typeof n=="string")return $I(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $I(n,e)}}function $I(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Abe(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}}function Ebe(n){if(Array.isArray(n))return n}function eY(n){var e=qx(n,2),t=e[0],r=e[1],i=t,s=r;return t>r&&(i=r,s=t),[i,s]}function tY(n,e,t){if(n.lte(0))return new Xr(0);var r=lC.getDigitCount(n.toNumber()),i=new Xr(10).pow(r),s=n.div(i),o=r!==1?.05:.1,a=new Xr(Math.ceil(s.div(o).toNumber())).add(t).mul(o),l=a.mul(i);return e?l:new Xr(Math.ceil(l))}function Cbe(n,e,t){var r=1,i=new Xr(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Xr(10).pow(lC.getDigitCount(n)-1),i=new Xr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Xr(Math.floor(n)))}else n===0?i=new Xr(Math.floor((e-1)/2)):t||(i=new Xr(Math.floor(n)));var o=Math.floor((e-1)/2),a=pbe(hbe(function(l){return i.add(new Xr(l-o).mul(r)).toNumber()}),GI);return a(0,e)}function nY(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new Xr(0),tickMin:new Xr(0),tickMax:new Xr(0)};var s=tY(new Xr(e).sub(n).div(t-1),r,i),o;n<=0&&e>=0?o=new Xr(0):(o=new Xr(n).add(e).div(2),o=o.sub(new Xr(o).mod(s)));var a=Math.ceil(o.sub(n).div(s).toNumber()),l=Math.ceil(new Xr(e).sub(o).div(s).toNumber()),u=a+l+1;return u>t?nY(n,e,t,r,i+1):(u<t&&(l=e>0?l+(t-u):l,a=e>0?a:a+(t-u)),{step:s,tickMin:o.sub(new Xr(a).mul(s)),tickMax:o.add(new Xr(l).mul(s))})}function Mbe(n){var e=qx(n,2),t=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=eY([t,r]),l=qx(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var c=d===1/0?[u].concat(WI(GI(0,i-1).map(function(){return 1/0}))):[].concat(WI(GI(0,i-1).map(function(){return-1/0})),[d]);return t>r?VI(c):c}if(u===d)return Cbe(u,i,s);var f=nY(u,d,o,s),m=f.step,v=f.tickMin,b=f.tickMax,y=lC.rangeStep(v,b.add(new Xr(.1).mul(m)),m);return t>r?VI(y):y}function Tbe(n,e){var t=qx(n,2),r=t[0],i=t[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=eY([r,i]),a=qx(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),c=tY(new Xr(u).sub(l).div(d-1),s,0),f=[].concat(WI(lC.rangeStep(new Xr(l),new Xr(u).sub(new Xr(.99).mul(c)),c)),[u]);return r>i?VI(f):f}var Pbe=ZK(Mbe),Rbe=ZK(Tbe),Nbe="Invariant failed";function im(n,e){throw new Error(Nbe)}var Ibe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function C0(n){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(n)}function kS(){return kS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kS.apply(this,arguments)}function Obe(n,e){return kbe(n)||Bbe(n,e)||Dbe(n,e)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dbe(n,e){if(n){if(typeof n=="string")return V8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V8(n,e)}}function V8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bbe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kbe(n){if(Array.isArray(n))return n}function Lbe(n,e){if(n==null)return{};var t=jbe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jbe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ube(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zbe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,sY(r.key),r)}}function Hbe(n,e,t){return e&&zbe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gbe(n,e,t){return e=LS(e),Vbe(n,rY()?Reflect.construct(e,t||[],LS(n).constructor):e.apply(n,t))}function Vbe(n,e){if(e&&(C0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wbe(n)}function Wbe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rY=function(){return!!n})()}function LS(n){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},LS(n)}function $be(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qI(n,e)}function qI(n,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qI(n,e)}function iY(n,e,t){return e=sY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sY(n){var e=qbe(n,"string");return C0(e)=="symbol"?e:e+""}function qbe(n,e){if(C0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Yb=(function(n){function e(){return Ube(this,e),Gbe(this,e,arguments)}return $be(e,n),Hbe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,c=r.yAxis,f=Lbe(r,Ibe),m=ur(f,!1);this.props.direction==="x"&&d.type!=="number"&&im();var v=l.map(function(b){var y=u(b,a),w=y.x,A=y.y,E=y.value,C=y.errorVal;if(!C)return null;var M=[],P,O;if(Array.isArray(C)){var k=Obe(C,2);P=k[0],O=k[1]}else P=O=C;if(s==="vertical"){var D=d.scale,I=A+i,L=I+o,W=I-o,q=D(E-P),K=D(E+O);M.push({x1:K,y1:L,x2:K,y2:W}),M.push({x1:q,y1:I,x2:K,y2:I}),M.push({x1:q,y1:L,x2:q,y2:W})}else if(s==="horizontal"){var ie=c.scale,V=w+i,J=V-o,H=V+o,Y=ie(E-P),ne=ie(E+O);M.push({x1:J,y1:ne,x2:H,y2:ne}),M.push({x1:V,y1:Y,x2:V,y2:ne}),M.push({x1:J,y1:Y,x2:H,y2:Y})}return ue.createElement(si,kS({className:"recharts-errorBar",key:"bar-".concat(M.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),M.map(function(Z){return ue.createElement("line",kS({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ue.createElement(si,{className:"recharts-errorBars"},v)}}])})(ue.Component);iY(Yb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iY(Yb,"displayName","ErrorBar");function Xx(n){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(n)}function W8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(t),!0).forEach(function(r){Xbe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xbe(n,e,t){return e=Kbe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kbe(n){var e=Ybe(n,"string");return Xx(e)=="symbol"?e:e+""}function Ybe(n,e){if(Xx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var oY=function(e){var t=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ia(t,uc);if(!o)return null;var a=uc.defaultProps,l=a!==void 0?Jh(Jh({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,c){var f=c.item,m=c.props,v=m.sectors||m.data||[];return d.concat(v.map(function(b){return{type:o.props.iconType||f.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var c=d.item,f=c.type.defaultProps,m=f!==void 0?Jh(Jh({},f),c.props):{},v=m.dataKey,b=m.name,y=m.legendType,w=m.hide;return{inactive:w,dataKey:v,type:l.iconType||y||"square",color:nB(c),value:b||v,payload:m}}),Jh(Jh(Jh({},l),uc.getWithHeight(o,i)),{},{payload:u,item:o})};function Kx(n){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(n)}function $8(n){return e_e(n)||Qbe(n)||Zbe(n)||Jbe()}function Jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(n,e){if(n){if(typeof n=="string")return XI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XI(n,e)}}function Qbe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function e_e(n){if(Array.isArray(n))return XI(n)}function XI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(t),!0).forEach(function(r){o0(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function o0(n,e,t){return e=t_e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t_e(n){var e=n_e(n,"string");return Kx(e)=="symbol"?e:e+""}function n_e(n,e){if(Kx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $o(n,e,t){return pr(n)||pr(e)?t:_s(e)?vl(n,e,t):ir(e)?e(n):t}function ox(n,e,t,r){var i=ebe(n,function(a){return $o(a,e)});if(t==="number"){var s=i.filter(function(a){return $t(a)||parseFloat(a)});return s.length?[oC(s),Ff(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!pr(a)}):i;return o.map(function(a){return _s(a)||a instanceof Date?a:""})}var r_e=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(t=r?.length)!==null&&t!==void 0?t:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,c=i[u].coordinate,f=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ac(c-d)!==ac(f-c)){var v=[];if(ac(f-c)===ac(l[1]-l[0])){m=f;var b=c+l[1]-l[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{m=d;var y=f+l[1]-l[0];v[0]=Math.min(c,(y+c)/2),v[1]=Math.max(c,(y+c)/2)}var w=[Math.min(c,(m+c)/2),Math.max(c,(m+c)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var A=Math.min(d,f),E=Math.max(d,f);if(e>(A+c)/2&&e<=(E+c)/2){o=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},nB=function(e){var t,r=e,i=r.type.displayName,s=(t=e.type)!==null&&t!==void 0&&t.defaultProps?Bi(Bi({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},i_e=function(e){var t=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var d=s[a[l]].stackGroups,c=Object.keys(d),f=0,m=c.length;f<m;f++){var v=d[c[f]],b=v.items,y=v.cateAxisId,w=b.filter(function(O){return fd(O.type).indexOf("Bar")>=0});if(w&&w.length){var A=w[0].type.defaultProps,E=A!==void 0?Bi(Bi({},A),w[0].props):w[0].props,C=E.barSize,M=E[y];o[M]||(o[M]=[]);var P=pr(C)?t:C;o[M].push({item:w[0],stackList:w.slice(1),barSize:pr(P)?void 0:nm(P,r,0)})}}return o},s_e=function(e){var t=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=nm(t,i,0,!0),d,c=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=i/l,v=o.reduce(function(C,M){return C+M.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&m>0&&(f=!0,m*=.9,v=l*m);var b=(i-v)/2>>0,y={offset:b-u,size:0};d=o.reduce(function(C,M){var P={item:M.item,position:{offset:y.offset+y.size+u,size:f?m:M.barSize}},O=[].concat($8(C),[P]);return y=O[O.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function(k){O.push({item:k,position:y})}),O},c)}else{var w=nm(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var A=(i-2*w-(l-1)*u)/l;A>1&&(A>>=0);var E=a===+a?Math.min(A,a):A;d=o.reduce(function(C,M,P){var O=[].concat($8(C),[{item:M.item,position:{offset:w+(A+u)*P+(A-E)/2,size:E}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function(k){O.push({item:k,position:O[O.length-1].position})}),O},c)}return d},o_e=function(e,t,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=oY({children:s,legendWidth:l});if(u){var d=i||{},c=d.width,f=d.height,m=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&m!=="center"&&$t(e[m]))return Bi(Bi({},e),{},o0({},m,e[m]+(c||0)));if((b==="horizontal"||b==="vertical"&&m==="center")&&v!=="middle"&&$t(e[v]))return Bi(Bi({},e),{},o0({},v,e[v]+(f||0)))}return e},a_e=function(e,t,r){return pr(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},aY=function(e,t,r,i,s){var o=t.props.children,a=yl(o,Yb).filter(function(u){return a_e(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var c=$o(d,r);if(pr(c))return u;var f=Array.isArray(c)?[oC(c),Ff(c)]:[c,c],m=l.reduce(function(v,b){var y=$o(d,b,0),w=f[0]-Math.abs(Array.isArray(y)?y[0]:y),A=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},l_e=function(e,t,r,i,s){var o=t.map(function(a){return aY(e,a,r,s,i)}).filter(function(a){return!pr(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},lY=function(e,t,r,i,s){var o=t.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&aY(e,l,u,i)||ox(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var d=0,c=u.length;d<c;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},cY=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},uY=function(e,t,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===t&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(t),o||a.push(r),a},ud=function(e,t,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(t||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&a?.length>=2?ac(a[0]-a[1])*2*u:u,t&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(c){var f=s?s.indexOf(c):c;return{coordinate:i(f)+u,value:c,offset:u}});return d.filter(function(c){return!mv(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,f){return{coordinate:i(c)+u,value:c,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,f){return{coordinate:i(c)+u,value:s?s[c]:c,index:f,offset:u}})},OR=new WeakMap,A1=function(e,t){if(typeof t!="function")return e;OR.has(e)||OR.set(e,new WeakMap);var r=OR.get(e);if(r.has(t))return r.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,i),i},c_e=function(e,t,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:zx(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:IS(),realScaleType:"linear"}:s==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:sx(),realScaleType:"point"}:s==="category"?{scale:zx(),realScaleType:"band"}:{scale:IS(),realScaleType:"linear"};if(tm(i)){var l="scale".concat(qE(i));return{scale:(I8[l]||sx)(),realScaleType:I8[l]?l:"point"}}return ir(i)?{scale:i}:{scale:sx(),realScaleType:"point"}},X8=1e-4,u_e=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,i=e.range(),s=Math.min(i[0],i[1])-X8,o=Math.max(i[0],i[1])+X8,a=e(t[0]),l=e(t[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([t[0],t[r-1]])}},d_e=function(e,t){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===t)return e[r].position;return null},f_e=function(e,t){if(!t||t.length!==2||!$t(t[0])||!$t(t[1]))return e;var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!$t(e[0])||e[0]<r)&&(s[0]=r),(!$t(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},h_e=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<t;++a){var l=mv(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},p_e=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<t;++o){var a=mv(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},m_e={sign:h_e,expand:Zpe,none:v0,silhouette:Qpe,wiggle:eme,positive:p_e},g_e=function(e,t,r){var i=t.map(function(a){return a.props.dataKey}),s=m_e[r],o=Jpe().keys(i).value(function(a,l){return+$o(a,l,0)}).order(AI).offset(s);return o(e)},v_e=function(e,t,r,i,s,o){if(!e)return null;var a=o?t.reverse():t,l={},u=a.reduce(function(c,f){var m,v=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Bi(Bi({},f.type.defaultProps),f.props):f.props,b=v.stackId,y=v.hide;if(y)return c;var w=v[r],A=c[w]||{hasStack:!1,stackGroups:{}};if(_s(b)){var E=A.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(f),A.hasStack=!0,A.stackGroups[b]=E}else A.stackGroups[gv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Bi(Bi({},c),{},o0({},w,A))},l),d={};return Object.keys(u).reduce(function(c,f){var m=u[f];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(b,y){var w=m.stackGroups[y];return Bi(Bi({},b),{},o0({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:g_e(e,w.items,s)}))},v)}return Bi(Bi({},c),{},o0({},f,m))},d)},y_e=function(e,t){var r=t.realScaleType,i=t.type,s=t.tickCount,o=t.originalDomain,a=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Pbe(u,s,a);return e.domain([oC(d),Ff(d)]),{niceTicks:d}}if(s&&i==="number"){var c=e.domain(),f=Rbe(c,s,a);return{niceTicks:f}}return null};function jS(n){var e=n.axis,t=n.ticks,r=n.bandSize,i=n.entry,s=n.index,o=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!pr(i[e.dataKey])){var a=fS(t,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return t[s]?t[s].coordinate+r/2:null}var l=$o(i,pr(o)?e.dataKey:o);return pr(l)?null:e.scale(l)}var K8=function(e){var t=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(t.type==="category")return r[a]?r[a].coordinate+i:null;var l=$o(o,t.dataKey,t.domain[a]);return pr(l)?null:t.scale(l)-s/2+i},x_e=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},b_e=function(e,t){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bi(Bi({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(_s(s)){var o=t[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},__e=function(e){return e.reduce(function(t,r){return[oC(r.concat([t[0]]).filter($t)),Ff(r.concat([t[1]]).filter($t))]},[1/0,-1/0])},dY=function(e,t,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,d){var c=__e(d.slice(t,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Y8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KI=function(e,t,r){if(ir(e))return e(t,r);if(!Array.isArray(e))return t;var i=[];if($t(e[0]))i[0]=r?e[0]:Math.min(e[0],t[0]);else if(Y8.test(e[0])){var s=+Y8.exec(e[0])[1];i[0]=t[0]-s}else ir(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if($t(e[1]))i[1]=r?e[1]:Math.max(e[1],t[1]);else if(J8.test(e[1])){var o=+J8.exec(e[1])[1];i[1]=t[1]+o}else ir(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},US=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&t&&t.length>=2){for(var s=PD(t,function(c){return c.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],d=s[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Z8=function(e,t,r){return!e||!e.length||E0(e,vl(r,"type.defaultProps.domain"))?t:e},fY=function(e,t){var r=e.type.defaultProps?Bi(Bi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return Bi(Bi({},ur(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:nB(e),value:$o(t,i),type:l,payload:t,chartType:u,hide:d})};function Yx(n){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(n)}function Q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ez(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(t),!0).forEach(function(r){w_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w_e(n,e,t){return e=S_e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function S_e(n){var e=A_e(n,"string");return Yx(e)=="symbol"?e:e+""}function A_e(n,e){if(Yx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zS=Math.PI/180,E_e=function(e){return e*180/Math.PI},eo=function(e,t,r,i){return{x:e+Math.cos(-zS*i)*r,y:t+Math.sin(-zS*i)*r}},C_e=function(e,t){var r=e.x,i=e.y,s=t.x,o=t.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},M_e=function(e,t){var r=e.x,i=e.y,s=t.cx,o=t.cy,a=C_e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:E_e(u),angleInRadian:u}},T_e=function(e){var t=e.startAngle,r=e.endAngle,i=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:t-o*360,endAngle:r-o*360}},P_e=function(e,t){var r=t.startAngle,i=t.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},tz=function(e,t){var r=e.x,i=e.y,s=M_e({x:r,y:i},t),o=s.radius,a=s.angle,l=t.innerRadius,u=t.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=T_e(t),c=d.startAngle,f=d.endAngle,m=a,v;if(c<=f){for(;m>f;)m-=360;for(;m<c;)m+=360;v=m>=c&&m<=f}else{for(;m>c;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=c}return v?ez(ez({},t),{},{radius:o,angle:P_e(m,t)}):null};function Jx(n){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(n)}var R_e=["offset"];function N_e(n){return D_e(n)||F_e(n)||O_e(n)||I_e()}function I_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(n,e){if(n){if(typeof n=="string")return YI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YI(n,e)}}function F_e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function D_e(n){if(Array.isArray(n))return YI(n)}function YI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function B_e(n,e){if(n==null)return{};var t=k_e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function k_e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function nz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(t),!0).forEach(function(r){L_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function L_e(n,e,t){return e=j_e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j_e(n){var e=U_e(n,"string");return Jx(e)=="symbol"?e:e+""}function U_e(n,e){if(Jx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zx.apply(this,arguments)}var z_e=function(e){var t=e.value,r=e.formatter,i=pr(e.children)?t:e.children;return ir(r)?r(i):i},H_e=function(e,t){var r=ac(t-e),i=Math.min(Math.abs(t-e),360);return r*i},G_e=function(e,t,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,d=l.cy,c=l.innerRadius,f=l.outerRadius,m=l.startAngle,v=l.endAngle,b=l.clockWise,y=(c+f)/2,w=H_e(m,v),A=w>=0?1:-1,E,C;i==="insideStart"?(E=m+A*o,C=b):i==="insideEnd"?(E=v-A*o,C=!b):i==="end"&&(E=v+A*o,C=b),C=w<=0?C:!C;var M=eo(u,d,y,E),P=eo(u,d,y,E+(C?1:-1)*359),O="M".concat(M.x,",").concat(M.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),k=pr(e.id)?gv("recharts-radial-line-"):e.id;return ue.createElement("text",Zx({},r,{dominantBaseline:"central",className:yr("recharts-radial-bar-label",a)}),ue.createElement("defs",null,ue.createElement("path",{id:k,d:O})),ue.createElement("textPath",{xlinkHref:"#".concat(k)},t))},V_e=function(e){var t=e.viewBox,r=e.offset,i=e.position,s=t,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,c=s.endAngle,f=(d+c)/2;if(i==="outside"){var m=eo(o,a,u+r,f),v=m.x,b=m.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=eo(o,a,y,f),A=w.x,E=w.y;return{x:A,y:E,textAnchor:"middle",verticalAnchor:"middle"}},W_e=function(e){var t=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=t,a=o.x,l=o.y,u=o.width,d=o.height,c=d>=0?1:-1,f=c*i,m=c>0?"end":"start",v=c>0?"start":"end",b=u>=0?1:-1,y=b*i,w=b>0?"end":"start",A=b>0?"start":"end";if(s==="top"){var E={x:a+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:m};return xs(xs({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var C={x:a+u/2,y:l+d+f,textAnchor:"middle",verticalAnchor:v};return xs(xs({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(s==="left"){var M={x:a-y,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return xs(xs({},M),r?{width:Math.max(M.x-r.x,0),height:d}:{})}if(s==="right"){var P={x:a+u+y,y:l+d/2,textAnchor:A,verticalAnchor:"middle"};return xs(xs({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var O=r?{width:u,height:d}:{};return s==="insideLeft"?xs({x:a+y,y:l+d/2,textAnchor:A,verticalAnchor:"middle"},O):s==="insideRight"?xs({x:a+u-y,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},O):s==="insideTop"?xs({x:a+u/2,y:l+f,textAnchor:"middle",verticalAnchor:v},O):s==="insideBottom"?xs({x:a+u/2,y:l+d-f,textAnchor:"middle",verticalAnchor:m},O):s==="insideTopLeft"?xs({x:a+y,y:l+f,textAnchor:A,verticalAnchor:v},O):s==="insideTopRight"?xs({x:a+u-y,y:l+f,textAnchor:w,verticalAnchor:v},O):s==="insideBottomLeft"?xs({x:a+y,y:l+d-f,textAnchor:A,verticalAnchor:m},O):s==="insideBottomRight"?xs({x:a+u-y,y:l+d-f,textAnchor:w,verticalAnchor:m},O):pv(s)&&($t(s.x)||Sp(s.x))&&($t(s.y)||Sp(s.y))?xs({x:a+nm(s.x,u),y:l+nm(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):xs({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},$_e=function(e){return"cx"in e&&$t(e.cx)};function bo(n){var e=n.offset,t=e===void 0?5:e,r=B_e(n,R_e),i=xs({offset:t},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,u=i.content,d=i.className,c=d===void 0?"":d,f=i.textBreakAll;if(!s||pr(a)&&pr(l)&&!B.isValidElement(u)&&!ir(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var m;if(ir(u)){if(m=B.createElement(u,i),B.isValidElement(m))return m}else m=z_e(i);var v=$_e(s),b=ur(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return G_e(i,m,b);var y=v?V_e(i):W_e(i);return ue.createElement(ES,Zx({className:yr("recharts-label",c)},b,y,{breakAll:f}),m)}bo.displayName="Label";var hY=function(e){var t=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,c=e.x,f=e.y,m=e.top,v=e.left,b=e.width,y=e.height,w=e.clockWise,A=e.labelViewBox;if(A)return A;if($t(b)&&$t(y)){if($t(c)&&$t(f))return{x:c,y:f,width:b,height:y};if($t(m)&&$t(v))return{x:m,y:v,width:b,height:y}}return $t(c)&&$t(f)?{x:c,y:f,width:0,height:0}:$t(t)&&$t(r)?{cx:t,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},q_e=function(e,t){return e?e===!0?ue.createElement(bo,{key:"label-implicit",viewBox:t}):_s(e)?ue.createElement(bo,{key:"label-implicit",viewBox:t,value:e}):B.isValidElement(e)?e.type===bo?B.cloneElement(e,{key:"label-implicit",viewBox:t}):ue.createElement(bo,{key:"label-implicit",content:e,viewBox:t}):ir(e)?ue.createElement(bo,{key:"label-implicit",content:e,viewBox:t}):pv(e)?ue.createElement(bo,Zx({viewBox:t},e,{key:"label-implicit"})):null:null},X_e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=hY(e),o=yl(i,bo).map(function(l,u){return B.cloneElement(l,{viewBox:t||s,key:"label-".concat(u)})});if(!r)return o;var a=q_e(e.label,t||s);return[a].concat(N_e(o))};bo.parseViewBox=hY;bo.renderCallByParent=X_e;var FR,rz;function K_e(){if(rz)return FR;rz=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return FR=n,FR}var Y_e=K_e();const J_e=Hr(Y_e);function Qx(n){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(n)}var Z_e=["valueAccessor"],Q_e=["data","dataKey","clockWise","id","textBreakAll"];function e1e(n){return i1e(n)||r1e(n)||n1e(n)||t1e()}function t1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(n,e){if(n){if(typeof n=="string")return JI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JI(n,e)}}function r1e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function i1e(n){if(Array.isArray(n))return JI(n)}function JI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function HS(){return HS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},HS.apply(this,arguments)}function iz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(t),!0).forEach(function(r){s1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function s1e(n,e,t){return e=o1e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o1e(n){var e=a1e(n,"string");return Qx(e)=="symbol"?e:e+""}function a1e(n,e){if(Qx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oz(n,e){if(n==null)return{};var t=l1e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function l1e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var c1e=function(e){return Array.isArray(e.value)?J_e(e.value):e.value};function md(n){var e=n.valueAccessor,t=e===void 0?c1e:e,r=oz(n,Z_e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=oz(r,Q_e);return!i||!i.length?null:ue.createElement(si,{className:"recharts-label-list"},i.map(function(d,c){var f=pr(s)?t(d,c):$o(d&&d.payload,s),m=pr(a)?{}:{id:"".concat(a,"-").concat(c)};return ue.createElement(bo,HS({},ur(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:bo.parseViewBox(pr(o)?d:sz(sz({},d),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}md.displayName="LabelList";function u1e(n,e){return n?n===!0?ue.createElement(md,{key:"labelList-implicit",data:e}):ue.isValidElement(n)||ir(n)?ue.createElement(md,{key:"labelList-implicit",data:e,content:n}):pv(n)?ue.createElement(md,HS({data:e},n,{key:"labelList-implicit"})):null:null}function d1e(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var r=n.children,i=yl(r,md).map(function(o,a){return B.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!t)return i;var s=u1e(n.label,e);return[s].concat(e1e(i))}md.renderCallByParent=d1e;function eb(n){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(n)}function ZI(){return ZI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZI.apply(this,arguments)}function az(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?az(Object(t),!0).forEach(function(r){f1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):az(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function f1e(n,e,t){return e=h1e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h1e(n){var e=p1e(n,"string");return eb(e)=="symbol"?e:e+""}function p1e(n,e){if(eb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var m1e=function(e,t){var r=ac(t-e),i=Math.min(Math.abs(t-e),359.999);return r*i},E1=function(e){var t=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(a?1:-1)+i,c=Math.asin(l/d)/zS,f=u?s:s+o*c,m=eo(t,r,d,f),v=eo(t,r,i,f),b=u?s-o*c:s,y=eo(t,r,d*Math.cos(c*zS),b);return{center:m,circleTangency:v,lineTangency:y,theta:c}},pY=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=m1e(o,a),u=o+l,d=eo(t,r,s,o),c=eo(t,r,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var m=eo(t,r,i,o),v=eo(t,r,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},g1e=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,c=ac(d-u),f=E1({cx:t,cy:r,radius:s,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),m=f.circleTangency,v=f.lineTangency,b=f.theta,y=E1({cx:t,cy:r,radius:s,angle:d,sign:-c,cornerRadius:o,cornerIsExternal:l}),w=y.circleTangency,A=y.lineTangency,E=y.theta,C=l?Math.abs(u-d):Math.abs(u-d)-b-E;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pY({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var M="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var P=E1({cx:t,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=P.circleTangency,k=P.lineTangency,D=P.theta,I=E1({cx:t,cy:r,radius:i,angle:d,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),L=I.circleTangency,W=I.lineTangency,q=I.theta,K=l?Math.abs(u-d):Math.abs(u-d)-D-q;if(K<0&&o===0)return"".concat(M,"L").concat(t,",").concat(r,"Z");M+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(c>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,"Z")}else M+="L".concat(t,",").concat(r,"Z");return M},v1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mY=function(e){var t=lz(lz({},v1e),e),r=t.cx,i=t.cy,s=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,d=t.startAngle,c=t.endAngle,f=t.className;if(o<s||d===c)return null;var m=yr("recharts-sector",f),v=o-s,b=nm(a,v,0,!0),y;return b>0&&Math.abs(d-c)<360?y=g1e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:c}):y=pY({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:c}),ue.createElement("path",ZI({},ur(t,!0),{className:m,d:y,role:"img"}))};function tb(n){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(n)}function QI(){return QI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QI.apply(this,arguments)}function cz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(t),!0).forEach(function(r){y1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function y1e(n,e,t){return e=x1e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x1e(n){var e=b1e(n,"string");return tb(e)=="symbol"?e:e+""}function b1e(n,e){if(tb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dz={curveBasisClosed:Upe,curveBasisOpen:zpe,curveBasis:jpe,curveBumpX:Epe,curveBumpY:Cpe,curveLinearClosed:Hpe,curveLinear:KE,curveMonotoneX:Gpe,curveMonotoneY:Vpe,curveNatural:Wpe,curveStep:$pe,curveStepAfter:Xpe,curveStepBefore:qpe},C1=function(e){return e.x===+e.x&&e.y===+e.y},Sy=function(e){return e.x},Ay=function(e){return e.y},_1e=function(e,t){if(ir(e))return e;var r="curve".concat(qE(e));return(r==="curveMonotone"||r==="curveBump")&&t?dz["".concat(r).concat(t==="vertical"?"Y":"X")]:dz[r]||KE},w1e=function(e){var t=e.type,r=t===void 0?"linear":t,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=_1e(r,a),c=u?s.filter(function(b){return C1(b)}):s,f;if(Array.isArray(o)){var m=u?o.filter(function(b){return C1(b)}):o,v=c.map(function(b,y){return uz(uz({},b),{},{base:m[y]})});return a==="vertical"?f=v1().y(Ay).x1(Sy).x0(function(b){return b.base.x}):f=v1().x(Sy).y1(Ay).y0(function(b){return b.base.y}),f.defined(C1).curve(d),f(v)}return a==="vertical"&&$t(o)?f=v1().y(Ay).x1(Sy).x0(o):$t(o)?f=v1().x(Sy).y1(Ay).y0(o):f=bX().x(Sy).y(Ay),f.defined(C1).curve(d),f(c)},a0=function(e){var t=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?w1e(e):i;return B.createElement("path",QI({},ur(e,!1),hS(e),{className:yr("recharts-curve",t),d:o,ref:s}))},DR={exports:{}},BR,fz;function S1e(){if(fz)return BR;fz=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BR=n,BR}var kR,hz;function A1e(){if(hz)return kR;hz=1;var n=S1e();function e(){}function t(){}return t.resetWarningCache=e,kR=function(){function r(o,a,l,u,d,c){if(c!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},kR}var pz;function E1e(){return pz||(pz=1,DR.exports=A1e()()),DR.exports}var C1e=E1e();const Ur=Hr(C1e);var M1e=Object.getOwnPropertyNames,T1e=Object.getOwnPropertySymbols,P1e=Object.prototype.hasOwnProperty;function mz(n,e){return function(r,i,s){return n(r,i,s)&&e(r,i,s)}}function M1(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);var s=i.cache,o=s.get(t),a=s.get(r);if(o&&a)return o===r&&a===t;s.set(t,r),s.set(r,t);var l=n(t,r,i);return s.delete(t),s.delete(r),l}}function R1e(n){return n?.[Symbol.toStringTag]}function gz(n){return M1e(n).concat(T1e(n))}var N1e=Object.hasOwn||(function(n,e){return P1e.call(n,e)});function xm(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var I1e="__v",O1e="__o",F1e="_owner",vz=Object.getOwnPropertyDescriptor,yz=Object.keys;function D1e(n,e,t){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function B1e(n,e){return xm(n.getTime(),e.getTime())}function k1e(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function L1e(n,e){return n===e}function xz(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,c=0;(a=u.next())&&!a.done;){if(i[c]){c++;continue}var f=o.value,m=a.value;if(t.equals(f[0],m[0],l,c,n,e,t)&&t.equals(f[1],m[1],f[0],m[0],n,e,t)){d=i[c]=!0;break}c++}if(!d)return!1;l++}return!0}var j1e=xm;function U1e(n,e,t){var r=yz(n),i=r.length;if(yz(e).length!==i)return!1;for(;i-- >0;)if(!gY(n,e,t,r[i]))return!1;return!0}function Ey(n,e,t){var r=gz(n),i=r.length;if(gz(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!gY(n,e,t,s)||(o=vz(n,s),a=vz(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function z1e(n,e){return xm(n.valueOf(),e.valueOf())}function H1e(n,e){return n.source===e.source&&n.flags===e.flags}function bz(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&t.equals(o.value,a.value,o.value,a.value,n,e,t)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function G1e(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function V1e(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function gY(n,e,t,r){return(r===F1e||r===O1e||r===I1e)&&(n.$$typeof||e.$$typeof)?!0:N1e(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}var W1e="[object Arguments]",$1e="[object Boolean]",q1e="[object Date]",X1e="[object Error]",K1e="[object Map]",Y1e="[object Number]",J1e="[object Object]",Z1e="[object RegExp]",Q1e="[object Set]",ewe="[object String]",twe="[object URL]",nwe=Array.isArray,_z=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wz=Object.assign,rwe=Object.prototype.toString.call.bind(Object.prototype.toString);function iwe(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areErrorsEqual,i=n.areFunctionsEqual,s=n.areMapsEqual,o=n.areNumbersEqual,a=n.areObjectsEqual,l=n.arePrimitiveWrappersEqual,u=n.areRegExpsEqual,d=n.areSetsEqual,c=n.areTypedArraysEqual,f=n.areUrlsEqual,m=n.unknownTagComparators;return function(b,y,w){if(b===y)return!0;if(b==null||y==null)return!1;var A=typeof b;if(A!==typeof y)return!1;if(A!=="object")return A==="number"?o(b,y,w):A==="function"?i(b,y,w):!1;var E=b.constructor;if(E!==y.constructor)return!1;if(E===Object)return a(b,y,w);if(nwe(b))return e(b,y,w);if(_z!=null&&_z(b))return c(b,y,w);if(E===Date)return t(b,y,w);if(E===RegExp)return u(b,y,w);if(E===Map)return s(b,y,w);if(E===Set)return d(b,y,w);var C=rwe(b);if(C===q1e)return t(b,y,w);if(C===Z1e)return u(b,y,w);if(C===K1e)return s(b,y,w);if(C===Q1e)return d(b,y,w);if(C===J1e)return typeof b.then!="function"&&typeof y.then!="function"&&a(b,y,w);if(C===twe)return f(b,y,w);if(C===X1e)return r(b,y,w);if(C===W1e)return a(b,y,w);if(C===$1e||C===Y1e||C===ewe)return l(b,y,w);if(m){var M=m[C];if(!M){var P=R1e(b);P&&(M=m[P])}if(M)return M(b,y,w)}return!1}}function swe(n){var e=n.circular,t=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?Ey:D1e,areDatesEqual:B1e,areErrorsEqual:k1e,areFunctionsEqual:L1e,areMapsEqual:r?mz(xz,Ey):xz,areNumbersEqual:j1e,areObjectsEqual:r?Ey:U1e,arePrimitiveWrappersEqual:z1e,areRegExpsEqual:H1e,areSetsEqual:r?mz(bz,Ey):bz,areTypedArraysEqual:r?Ey:G1e,areUrlsEqual:V1e,unknownTagComparators:void 0};if(t&&(i=wz({},i,t(i))),e){var s=M1(i.areArraysEqual),o=M1(i.areMapsEqual),a=M1(i.areObjectsEqual),l=M1(i.areSetsEqual);i=wz({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function owe(n){return function(e,t,r,i,s,o,a){return n(e,t,a)}}function awe(n){var e=n.circular,t=n.comparator,r=n.createState,i=n.equals,s=n.strict;if(r)return function(l,u){var d=r(),c=d.cache,f=c===void 0?e?new WeakMap:void 0:c,m=d.meta;return t(l,u,{cache:f,equals:i,meta:m,strict:s})};if(e)return function(l,u){return t(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return t(l,u,o)}}var lwe=lh();lh({strict:!0});lh({circular:!0});lh({circular:!0,strict:!0});lh({createInternalComparator:function(){return xm}});lh({strict:!0,createInternalComparator:function(){return xm}});lh({circular:!0,createInternalComparator:function(){return xm}});lh({circular:!0,createInternalComparator:function(){return xm},strict:!0});function lh(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,r=n.createInternalComparator,i=n.createState,s=n.strict,o=s===void 0?!1:s,a=swe(n),l=iwe(a),u=r?r(l):owe(l);return awe({circular:t,comparator:l,createState:i,equals:u,strict:o})}function cwe(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function Sz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,r=function i(s){t<0&&(t=s),s-t>e?(n(s),t=-1):cwe(i)};requestAnimationFrame(r)}function eO(n){"@babel/helpers - typeof";return eO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eO(n)}function uwe(n){return pwe(n)||hwe(n)||fwe(n)||dwe()}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fwe(n,e){if(n){if(typeof n=="string")return Az(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Az(n,e)}}function Az(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function hwe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pwe(n){if(Array.isArray(n))return n}function mwe(){var n={},e=function(){return null},t=!1,r=function i(s){if(!t){if(Array.isArray(s)){if(!s.length)return;var o=s,a=uwe(o),l=a[0],u=a.slice(1);if(typeof l=="number"){Sz(i.bind(null,u),l);return}i(l),Sz(i.bind(null,u));return}eO(s)==="object"&&(n=s,e(n)),typeof s=="function"&&s()}};return{stop:function(){t=!0},start:function(s){t=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function nb(n){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(n)}function Ez(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(t),!0).forEach(function(r){vY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ez(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vY(n,e,t){return e=gwe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gwe(n){var e=vwe(n,"string");return nb(e)==="symbol"?e:String(e)}function vwe(n,e){if(nb(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(nb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ywe=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},xwe=function(e){return e},bwe=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},ax=function(e,t){return Object.keys(t).reduce(function(r,i){return Cz(Cz({},r),{},vY({},i,e(i,t[i])))},{})},Mz=function(e,t,r){return e.map(function(i){return"".concat(bwe(i)," ").concat(t,"ms ").concat(r)}).join(",")};function _we(n,e){return Awe(n)||Swe(n,e)||yY(n,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Swe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Awe(n){if(Array.isArray(n))return n}function Ewe(n){return Twe(n)||Mwe(n)||yY(n)||Cwe()}function Cwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(n,e){if(n){if(typeof n=="string")return tO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tO(n,e)}}function Mwe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Twe(n){if(Array.isArray(n))return tO(n)}function tO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var GS=1e-4,xY=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},bY=function(e,t){return e.map(function(r,i){return r*Math.pow(t,i)}).reduce(function(r,i){return r+i})},Tz=function(e,t){return function(r){var i=xY(e,t);return bY(i,r)}},Pwe=function(e,t){return function(r){var i=xY(e,t),s=[].concat(Ewe(i.map(function(o,a){return o*a}).slice(1)),[0]);return bY(s,r)}},Pz=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],s=t[1],o=t[2],a=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=_we(u,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var c=Tz(i,o),f=Tz(s,a),m=Pwe(i,o),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var A=w>1?1:w,E=A,C=0;C<8;++C){var M=c(E)-A,P=m(E);if(Math.abs(M-A)<GS||P<GS)return f(E);E=v(E-M/P)}return f(E)};return b.isStepper=!1,b},Rwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(d,c,f){var m=-(d-c)*r,v=f*s,b=f+(m-v)*a/1e3,y=f*a/1e3+d;return Math.abs(y-c)<GS&&Math.abs(b)<GS?[c,0]:[y,b]};return l.isStepper=!0,l.dt=a,l},Nwe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Pz(i);case"spring":return Rwe();default:if(i.split("(")[0]==="cubic-bezier")return Pz(i)}return typeof i=="function"?i:null};function rb(n){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(n)}function Rz(n){return Fwe(n)||Owe(n)||_Y(n)||Iwe()}function Iwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Owe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Fwe(n){if(Array.isArray(n))return rO(n)}function Nz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Js(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(t),!0).forEach(function(r){nO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nO(n,e,t){return e=Dwe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Dwe(n){var e=Bwe(n,"string");return rb(e)==="symbol"?e:String(e)}function Bwe(n,e){if(rb(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(rb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kwe(n,e){return Uwe(n)||jwe(n,e)||_Y(n,e)||Lwe()}function Lwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(n,e){if(n){if(typeof n=="string")return rO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rO(n,e)}}function rO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jwe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Uwe(n){if(Array.isArray(n))return n}var VS=function(e,t,r){return e+(t-e)*r},iO=function(e){var t=e.from,r=e.to;return t!==r},zwe=function n(e,t,r){var i=ax(function(s,o){if(iO(o)){var a=e(o.from,o.to,o.velocity),l=kwe(a,2),u=l[0],d=l[1];return Js(Js({},o),{},{from:u,velocity:d})}return o},t);return r<1?ax(function(s,o){return iO(o)?Js(Js({},o),{},{velocity:VS(o.velocity,i[s].velocity,r),from:VS(o.from,i[s].from,r)}):o},t):n(e,i,r-1)};const Hwe=(function(n,e,t,r,i){var s=ywe(n,e),o=s.reduce(function(y,w){return Js(Js({},y),{},nO({},w,[n[w],e[w]]))},{}),a=s.reduce(function(y,w){return Js(Js({},y),{},nO({},w,{from:n[w],velocity:0,to:e[w]}))},{}),l=-1,u,d,c=function(){return null},f=function(){return ax(function(w,A){return A.from},a)},m=function(){return!Object.values(a).filter(iO).length},v=function(w){u||(u=w);var A=w-u,E=A/t.dt;a=zwe(t,a,E),i(Js(Js(Js({},n),e),f())),u=w,m()||(l=requestAnimationFrame(c))},b=function(w){d||(d=w);var A=(w-d)/r,E=ax(function(M,P){return VS.apply(void 0,Rz(P).concat([t(A)]))},o);if(i(Js(Js(Js({},n),e),E)),A<1)l=requestAnimationFrame(c);else{var C=ax(function(M,P){return VS.apply(void 0,Rz(P).concat([t(1)]))},o);i(Js(Js(Js({},n),e),C))}};return c=t.isStepper?v:b,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}});function M0(n){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(n)}var Gwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vwe(n,e){if(n==null)return{};var t=Wwe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Wwe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function LR(n){return Kwe(n)||Xwe(n)||qwe(n)||$we()}function $we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(n,e){if(n){if(typeof n=="string")return sO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sO(n,e)}}function Xwe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kwe(n){if(Array.isArray(n))return sO(n)}function sO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Iz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ql(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(t),!0).forEach(function(r){Jy(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jy(n,e,t){return e=wY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ywe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Jwe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wY(r.key),r)}}function Zwe(n,e,t){return e&&Jwe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function wY(n){var e=Qwe(n,"string");return M0(e)==="symbol"?e:String(e)}function Qwe(n,e){if(M0(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(M0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oO(n,e)}function oO(n,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oO(n,e)}function tSe(n){var e=nSe();return function(){var r=WS(n),i;if(e){var s=WS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aO(this,i)}}function aO(n,e){if(e&&(M0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lO(n)}function lO(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function WS(n){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WS(n)}var lu=(function(n){eSe(t,n);var e=tSe(t);function t(r,i){var s;Ywe(this,t),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,d=o.to,c=o.steps,f=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(lO(s)),s.changeStyle=s.changeStyle.bind(lO(s)),!a||m<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),aO(s);if(c&&c.length)s.state={style:c[0].style};else if(u){if(typeof f=="function")return s.state={style:u},aO(s);s.state={style:l?Jy({},l,u):u}}else s.state={style:{}};return s}return Zwe(t,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,c=s.from,f=this.state.style;if(a){if(!o){var m={style:l?Jy({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(m);return}if(!(lwe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?c:i.to;if(this.state&&f){var y={style:l?Jy({},l,b):b};(l&&f[l]!==b||!l&&f!==b)&&this.setState(y)}this.runAnimation(ql(ql({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,c=i.onAnimationEnd,f=i.onAnimationStart,m=Hwe(o,a,Nwe(u),l,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([f,d,v,l,c])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,c=u.duration,f=c===void 0?0:c,m=function(b,y,w){if(w===0)return b;var A=y.duration,E=y.easing,C=E===void 0?"ease":E,M=y.style,P=y.properties,O=y.onAnimationEnd,k=w>0?o[w-1]:y,D=P||Object.keys(M);if(typeof C=="function"||C==="spring")return[].concat(LR(b),[s.runJSAnimation.bind(s,{from:k.style,to:M,duration:A,easing:C}),A]);var I=Mz(D,A,C),L=ql(ql(ql({},k.style),M),{},{transition:I});return[].concat(LR(b),[L,A,O]).filter(xwe)};return this.manager.start([l].concat(LR(o.reduce(m,[d,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=mwe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,c=i.onAnimationEnd,f=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var b=a?Jy({},a,l):l,y=Mz(Object.keys(b),o,u);v.start([d,s,ql(ql({},b),{},{transition:y}),o,c])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Vwe(i,Gwe),u=B.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||u===0||o<=0)return s;var c=function(m){var v=m.props,b=v.style,y=b===void 0?{}:b,w=v.className,A=B.cloneElement(m,ql(ql({},l),{},{style:ql(ql({},y),d),className:w}));return A};return u===1?c(B.Children.only(s)):ue.createElement("div",null,B.Children.map(s,function(f){return c(f)}))}}]),t})(B.PureComponent);lu.displayName="Animate";lu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lu.propTypes={from:Ur.oneOfType([Ur.object,Ur.string]),to:Ur.oneOfType([Ur.object,Ur.string]),attributeName:Ur.string,duration:Ur.number,begin:Ur.number,easing:Ur.oneOfType([Ur.string,Ur.func]),steps:Ur.arrayOf(Ur.shape({duration:Ur.number.isRequired,style:Ur.object.isRequired,easing:Ur.oneOfType([Ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ur.func]),properties:Ur.arrayOf("string"),onAnimationEnd:Ur.func})),children:Ur.oneOfType([Ur.node,Ur.func]),isActive:Ur.bool,canBegin:Ur.bool,onAnimationEnd:Ur.func,shouldReAnimate:Ur.bool,onAnimationStart:Ur.func,onAnimationReStart:Ur.func};function $S(){return $S=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$S.apply(null,arguments)}function ib(n){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(n)}function qS(){return qS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qS.apply(this,arguments)}function rSe(n,e){return aSe(n)||oSe(n,e)||sSe(n,e)||iSe()}function iSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sSe(n,e){if(n){if(typeof n=="string")return Oz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oz(n,e)}}function Oz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function oSe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function aSe(n){if(Array.isArray(n))return n}function Fz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(t),!0).forEach(function(r){lSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lSe(n,e,t){return e=cSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cSe(n){var e=uSe(n,"string");return ib(e)=="symbol"?e:e+""}function uSe(n,e){if(ib(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Bz=function(e,t,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var c=[0,0,0,0],f=0,m=4;f<m;f++)c[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(t+a*c[0]),c[0]>0&&(d+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),d+="L ".concat(e+r-l*c[1],",").concat(t),c[1]>0&&(d+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+a*c[1])),d+="L ".concat(e+r,",").concat(t+i-a*c[2]),c[2]>0&&(d+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(t+i)),d+="L ".concat(e+l*c[3],",").concat(t+i),c[3]>0&&(d+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+i-a*c[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(e,",").concat(t+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(t,`
            L `).concat(e+r-l*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(t+a*v,`
            L `).concat(e+r,",").concat(t+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(t+i,`
            L `).concat(e+l*v,",").concat(t+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+i-a*v," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},dSe=function(e,t){if(!e||!t)return!1;var r=e.x,i=e.y,s=t.x,o=t.y,a=t.width,l=t.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),d=Math.max(s,s+a),c=Math.min(o,o+l),f=Math.max(o,o+l);return r>=u&&r<=d&&i>=c&&i<=f}return!1},fSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rB=function(e){var t=Dz(Dz({},fSe),e),r=B.useRef(),i=B.useState(-1),s=rSe(i,2),o=s[0],a=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=t.x,u=t.y,d=t.width,c=t.height,f=t.radius,m=t.className,v=t.animationEasing,b=t.animationDuration,y=t.animationBegin,w=t.isAnimationActive,A=t.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||c!==+c||d===0||c===0)return null;var E=yr("recharts-rectangle",m);return A?ue.createElement(lu,{canBegin:o>0,from:{width:d,height:c,x:l,y:u},to:{width:d,height:c,x:l,y:u},duration:b,animationEasing:v,isActive:A},function(C){var M=C.width,P=C.height,O=C.x,k=C.y;return ue.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:v},ue.createElement("path",qS({},ur(t,!0),{className:E,d:Bz(O,k,M,P,f),ref:r})))}):ue.createElement("path",qS({},ur(t,!0),{className:E,d:Bz(l,u,d,c,f)}))};function cO(){return cO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cO.apply(this,arguments)}var cC=function(e){var t=e.cx,r=e.cy,i=e.r,s=e.className,o=yr("recharts-dot",s);return t===+t&&r===+r&&i===+i?B.createElement("circle",cO({},ur(e,!1),hS(e),{className:o,cx:t,cy:r,r:i})):null};function sb(n){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(n)}var hSe=["x","y","top","left","width","height","className"];function uO(){return uO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uO.apply(this,arguments)}function kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pSe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(t),!0).forEach(function(r){mSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mSe(n,e,t){return e=gSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gSe(n){var e=vSe(n,"string");return sb(e)=="symbol"?e:e+""}function vSe(n,e){if(sb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ySe(n,e){if(n==null)return{};var t=xSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function xSe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var bSe=function(e,t,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(t,"h").concat(r)},_Se=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,c=d===void 0?0:d,f=e.height,m=f===void 0?0:f,v=e.className,b=ySe(e,hSe),y=pSe({x:r,y:s,top:a,left:u,width:c,height:m},b);return!$t(r)||!$t(s)||!$t(c)||!$t(m)||!$t(a)||!$t(u)?null:ue.createElement("path",uO({},ur(y,!0),{className:yr("recharts-cross",v),d:bSe(r,s,c,m,a,u)}))},jR,Lz;function wSe(){if(Lz)return jR;Lz=1;var n=GX(),e=n(Object.getPrototypeOf,Object);return jR=e,jR}var UR,jz;function SSe(){if(jz)return UR;jz=1;var n=Pd(),e=wSe(),t=Rd(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(d){if(!t(d)||n(d)!=r)return!1;var c=e(d);if(c===null)return!0;var f=a.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return UR=u,UR}var ASe=SSe();const ESe=Hr(ASe);var zR,Uz;function CSe(){if(Uz)return zR;Uz=1;var n=Pd(),e=Rd(),t="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&n(i)==t}return zR=r,zR}var MSe=CSe();const TSe=Hr(MSe);function ob(n){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(n)}function XS(){return XS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XS.apply(this,arguments)}function PSe(n,e){return OSe(n)||ISe(n,e)||NSe(n,e)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NSe(n,e){if(n){if(typeof n=="string")return zz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zz(n,e)}}function zz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ISe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function OSe(n){if(Array.isArray(n))return n}function Hz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(t),!0).forEach(function(r){FSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FSe(n,e,t){return e=DSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DSe(n){var e=BSe(n,"string");return ob(e)=="symbol"?e:e+""}function BSe(n,e){if(ob(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Vz=function(e,t,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-o/2,",").concat(t+s),a+="L ".concat(e+r-o/2-i,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z"),a},kSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LSe=function(e){var t=Gz(Gz({},kSe),e),r=B.useRef(),i=B.useState(-1),s=PSe(i,2),o=s[0],a=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=t.x,u=t.y,d=t.upperWidth,c=t.lowerWidth,f=t.height,m=t.className,v=t.animationEasing,b=t.animationDuration,y=t.animationBegin,w=t.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||c!==+c||f!==+f||d===0&&c===0||f===0)return null;var A=yr("recharts-trapezoid",m);return w?ue.createElement(lu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:d,lowerWidth:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(E){var C=E.upperWidth,M=E.lowerWidth,P=E.height,O=E.x,k=E.y;return ue.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:v},ue.createElement("path",XS({},ur(t,!0),{className:A,d:Vz(O,k,C,M,P),ref:r})))}):ue.createElement("g",null,ue.createElement("path",XS({},ur(t,!0),{className:A,d:Vz(l,u,d,c,f)})))},jSe=["option","shapeType","propTransformer","activeClassName","isActive"];function ab(n){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(n)}function USe(n,e){if(n==null)return{};var t=zSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function zSe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Wz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function KS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(t),!0).forEach(function(r){HSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HSe(n,e,t){return e=GSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GSe(n){var e=VSe(n,"string");return ab(e)=="symbol"?e:e+""}function VSe(n,e){if(ab(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WSe(n,e){return KS(KS({},e),n)}function $Se(n,e){return n==="symbols"}function $z(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return ue.createElement(rB,t);case"trapezoid":return ue.createElement(LSe,t);case"sector":return ue.createElement(mY,t);case"symbols":if($Se(e))return ue.createElement(_D,t);break;default:return null}}function qSe(n){return B.isValidElement(n)?n.props:n}function XSe(n){var e=n.option,t=n.shapeType,r=n.propTransformer,i=r===void 0?WSe:r,s=n.activeClassName,o=s===void 0?"recharts-active-shape":s,a=n.isActive,l=USe(n,jSe),u;if(B.isValidElement(e))u=B.cloneElement(e,KS(KS({},l),qSe(e)));else if(ir(e))u=e(l);else if(ESe(e)&&!TSe(e)){var d=i(e,l);u=ue.createElement($z,{shapeType:t,elementProps:d})}else{var c=l;u=ue.createElement($z,{shapeType:t,elementProps:c})}return a?ue.createElement(si,{className:o},u):u}function uC(n,e){return e!=null&&"trapezoids"in n.props}function dC(n,e){return e!=null&&"sectors"in n.props}function lb(n,e){return e!=null&&"points"in n.props}function KSe(n,e){var t,r,i=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,s=n.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===e.y;return i&&s}function YSe(n,e){var t=n.endAngle===e.endAngle,r=n.startAngle===e.startAngle;return t&&r}function JSe(n,e){var t=n.x===e.x,r=n.y===e.y,i=n.z===e.z;return t&&r&&i}function ZSe(n,e){var t;return uC(n,e)?t=KSe:dC(n,e)?t=YSe:lb(n,e)&&(t=JSe),t}function QSe(n,e){var t;return uC(n,e)?t="trapezoids":dC(n,e)?t="sectors":lb(n,e)&&(t="points"),t}function eAe(n,e){if(uC(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(dC(n,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lb(n,e)?e.payload:{}}function tAe(n){var e=n.activeTooltipItem,t=n.graphicalItem,r=n.itemData,i=QSe(t,e),s=eAe(t,e),o=r.filter(function(l,u){var d=E0(s,l),c=t.props[i].filter(function(v){var b=ZSe(t,e);return b(v,e)}),f=t.props[i].indexOf(c[c.length-1]),m=u===f;return d&&m}),a=r.indexOf(o[o.length-1]);return a}var HR,qz;function nAe(){if(qz)return HR;qz=1;var n=Math.ceil,e=Math.max;function t(r,i,s,o){for(var a=-1,l=e(n((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return HR=t,HR}var GR,Xz;function SY(){if(Xz)return GR;Xz=1;var n=sK(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var s=i<0?-1:1;return s*t}return i===i?i:0}return GR=r,GR}var VR,Kz;function rAe(){if(Kz)return VR;Kz=1;var n=nAe(),e=QE(),t=SY();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=t(s),o===void 0?(o=s,s=0):o=t(o),a=a===void 0?s<o?1:-1:t(a),n(s,o,a,i)}}return VR=r,VR}var WR,Yz;function iAe(){if(Yz)return WR;Yz=1;var n=rAe(),e=n();return WR=e,WR}var sAe=iAe();const YS=Hr(sAe);function cb(n){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(n)}function Jz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(t),!0).forEach(function(r){AY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function AY(n,e,t){return e=oAe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oAe(n){var e=aAe(n,"string");return cb(e)=="symbol"?e:e+""}function aAe(n,e){if(cb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lAe=["Webkit","Moz","O","ms"],cAe=function(e,t){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=lAe.reduce(function(s,o){return Zz(Zz({},s),{},AY({},o+r,t))},{});return i[e]=t,i};function T0(n){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(n)}function JS(){return JS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JS.apply(this,arguments)}function Qz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(t),!0).forEach(function(r){Na(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function eH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,CY(r.key),r)}}function dAe(n,e,t){return e&&eH(n.prototype,e),t&&eH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function fAe(n,e,t){return e=ZS(e),hAe(n,EY()?Reflect.construct(e,t||[],ZS(n).constructor):e.apply(n,t))}function hAe(n,e){if(e&&(T0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pAe(n)}function pAe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function EY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EY=function(){return!!n})()}function ZS(n){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZS(n)}function mAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dO(n,e)}function dO(n,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dO(n,e)}function Na(n,e,t){return e=CY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CY(n){var e=gAe(n,"string");return T0(e)=="symbol"?e:e+""}function gAe(n,e){if(T0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var vAe=function(e){var t=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,u=sx().domain(YS(0,l)).range([s,s+o-a]),d=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},tH=function(e){return e.changedTouches&&!!e.changedTouches.length},P0=(function(n){function e(t){var r;return uAe(this,e),r=fAe(this,e,[t]),Na(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Na(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Na(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Na(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Na(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Na(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Na(r,"handleSlideDragStart",function(i){var s=tH(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mAe(e,n),dAe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,d=u.length-1,c=Math.min(i,s),f=Math.max(i,s),m=e.getIndexInRange(o,c),v=e.getIndexInRange(o,f);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=$o(s[r],a,r);return ir(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,u=l.x,d=l.width,c=l.travellerWidth,f=l.startIndex,m=l.endIndex,v=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,u+d-c-a,u+d-c-o):b<0&&(b=Math.max(b,u-o,u-a));var y=this.getIndex({startX:o+b,endX:a+b});(y.startIndex!==f||y.endIndex!==m)&&v&&v(y),this.setState({startX:o+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=tH(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[o],d=this.props,c=d.x,f=d.width,m=d.travellerWidth,v=d.onChange,b=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},A=r.pageX-s;A>0?A=Math.min(A,c+f-m-u):A<0&&(A=Math.max(A,c-u)),w[o]=u+A;var E=this.getIndex(w),C=E.startIndex,M=E.endIndex,P=function(){var k=y.length-1;return o==="startX"&&(a>l?C%b===0:M%b===0)||a<l&&M===k||o==="endX"&&(a>l?M%b===0:C%b===0)||a>l&&M===k};this.setState(Na(Na({},o,u+A),"brushMoveStartX",r.pageX),function(){v&&P()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],c=a.indexOf(d);if(c!==-1){var f=c+r;if(!(f===-1||f>=a.length)){var m=a[f];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Na({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return ue.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,d=r.padding,c=B.Children.only(u);return c?ue.cloneElement(c,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,u=l.y,d=l.travellerWidth,c=l.height,f=l.traveller,m=l.ariaLabel,v=l.data,b=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),A=$R($R({},ur(this.props,!1)),{},{x:w,y:u,width:d,height:c}),E=m||"Min value: ".concat((s=v[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return ue.createElement(si,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),a.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,A))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:c,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,c=d.startX,f=d.endX,m=5,v={pointerEvents:"none",fill:u};return ue.createElement(si,{className:"recharts-brush-texts"},ue.createElement(ES,JS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,f)-m,y:o+a/2},v),this.getTextOfTick(i)),ue.createElement(ES,JS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,f)+l+m,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,d=r.height,c=r.alwaysShowText,f=this.state,m=f.startX,v=f.endX,b=f.isTextActive,y=f.isSlideMoving,w=f.isTravellerMoving,A=f.isTravellerFocused;if(!i||!i.length||!$t(a)||!$t(l)||!$t(u)||!$t(d)||u<=0||d<=0)return null;var E=yr("recharts-brush",s),C=ue.Children.count(o)===1,M=cAe("userSelect","none");return ue.createElement(si,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(b||y||w||A||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ue.isValidElement(r)?s=ue.cloneElement(r,i):ir(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,c=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return $R({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?vAe({data:s,width:o,x:a,travellerWidth:l,startIndex:d,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])})(B.PureComponent);Na(P0,"displayName","Brush");Na(P0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qR,nH;function yAe(){if(nH)return qR;nH=1;var n=TD();function e(t,r){var i;return n(t,function(s,o,a){return i=r(s,o,a),!i}),!!i}return qR=e,qR}var XR,rH;function xAe(){if(rH)return XR;rH=1;var n=BX(),e=sh(),t=yAe(),r=ga(),i=QE();function s(o,a,l){var u=r(o)?n:t;return l&&i(o,a,l)&&(a=void 0),u(o,e(a,3))}return XR=s,XR}var bAe=xAe();const _Ae=Hr(bAe);var eu=function(e,t){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===t},KR,iH;function wAe(){if(iH)return KR;iH=1;var n=eK();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return KR=e,KR}var YR,sH;function SAe(){if(sH)return YR;sH=1;var n=wAe(),e=ZX(),t=sh();function r(i,s){var o={};return s=t(s,3),e(i,function(a,l,u){n(o,l,s(a,l,u))}),o}return YR=r,YR}var AAe=SAe();const EAe=Hr(AAe);var JR,oH;function CAe(){if(oH)return JR;oH=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}return JR=n,JR}var ZR,aH;function MAe(){if(aH)return ZR;aH=1;var n=TD();function e(t,r){var i=!0;return n(t,function(s,o,a){return i=!!r(s,o,a),i}),i}return ZR=e,ZR}var QR,lH;function TAe(){if(lH)return QR;lH=1;var n=CAe(),e=MAe(),t=sh(),r=ga(),i=QE();function s(o,a,l){var u=r(o)?n:e;return l&&i(o,a,l)&&(a=void 0),u(o,t(a,3))}return QR=s,QR}var PAe=TAe();const MY=Hr(PAe);var RAe=["x","y"];function ub(n){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(n)}function fO(){return fO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fO.apply(this,arguments)}function cH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cH(Object(t),!0).forEach(function(r){NAe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NAe(n,e,t){return e=IAe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IAe(n){var e=OAe(n,"string");return ub(e)=="symbol"?e:e+""}function OAe(n,e){if(ub(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FAe(n,e){if(n==null)return{};var t=DAe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function DAe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function BAe(n,e){var t=n.x,r=n.y,i=FAe(n,RAe),s="".concat(t),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),c="".concat(e.width||i.width),f=parseInt(c,10);return Cy(Cy(Cy(Cy(Cy({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function uH(n){return ue.createElement(XSe,fO({shapeType:"rectangle",propTransformer:BAe,activeClassName:"recharts-active-bar"},n))}var kAe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=$t(r)||qhe(r);return s?e(r,i):(s||im(),t)}},LAe=["value","background"],TY;function R0(n){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(n)}function jAe(n,e){if(n==null)return{};var t=UAe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function UAe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function QS(){return QS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QS.apply(this,arguments)}function dH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function is(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(t),!0).forEach(function(r){Df(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,RY(r.key),r)}}function HAe(n,e,t){return e&&fH(n.prototype,e),t&&fH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function GAe(n,e,t){return e=eA(e),VAe(n,PY()?Reflect.construct(e,t||[],eA(n).constructor):e.apply(n,t))}function VAe(n,e){if(e&&(R0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WAe(n)}function WAe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function PY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PY=function(){return!!n})()}function eA(n){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eA(n)}function $Ae(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hO(n,e)}function hO(n,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hO(n,e)}function Df(n,e,t){return e=RY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RY(n){var e=qAe(n,"string");return R0(e)=="symbol"?e:e+""}function qAe(n,e){if(R0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var vu=(function(n){function e(){var t;zAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=GAe(this,e,[].concat(i)),Df(t,"state",{isAnimationFinished:!1}),Df(t,"id",gv("recharts-bar-")),Df(t,"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),o&&o()}),Df(t,"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),o&&o()}),t}return $Ae(e,n),HAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,d=ur(this.props,!1);return r&&r.map(function(c,f){var m=f===l,v=m?u:o,b=is(is(is({},d),c),{},{isActive:m,option:v,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(si,QS({className:"recharts-bar-rectangle"},pS(i.props,c,f),{key:"rectangle-".concat(c?.x,"-").concat(c?.y,"-").concat(c?.value,"-").concat(f)}),ue.createElement(uH,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,c=i.animationId,f=this.state.prevData;return ue.createElement(lu,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,b=s.map(function(y,w){var A=f&&f[w];if(A){var E=Qs(A.x,y.x),C=Qs(A.y,y.y),M=Qs(A.width,y.width),P=Qs(A.height,y.height);return is(is({},y),{},{x:E(v),y:C(v),width:M(v),height:P(v)})}if(o==="horizontal"){var O=Qs(0,y.height),k=O(v);return is(is({},y),{},{y:y.y+y.height-k,height:k})}var D=Qs(0,y.width),I=D(v);return is(is({},y),{},{width:I})});return ue.createElement(si,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!E0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=ur(this.props.background,!1);return s.map(function(u,d){u.value;var c=u.background,f=jAe(u,LAe);if(!c)return null;var m=is(is(is(is(is({},f),{},{fill:"#eee"},c),l),pS(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(uH,QS({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,c=yl(d,Yb);if(!c)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,w){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:$o(y,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ue.createElement(si,v,c.map(function(b){return ue.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,d=r.top,c=r.width,f=r.height,m=r.isAnimationActive,v=r.background,b=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=yr("recharts-bar",o),A=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,C=A||E,M=pr(b)?this.id:b;return ue.createElement(si,{className:w},A||E?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(M)},ue.createElement("rect",{x:A?u:u-c/2,y:E?d:d-f/2,width:A?c:c*2,height:E?f:f*2}))):null,ue.createElement(si,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(M,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,M),(!m||y)&&md.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(B.PureComponent);TY=vu;Df(vu,"displayName","Bar");Df(vu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Df(vu,"getComposedData",function(n){var e=n.props,t=n.item,r=n.barPosition,i=n.bandSize,s=n.xAxis,o=n.yAxis,a=n.xAxisTicks,l=n.yAxisTicks,u=n.stackedData,d=n.dataStartIndex,c=n.displayedData,f=n.offset,m=d_e(r,t);if(!m)return null;var v=e.layout,b=t.type.defaultProps,y=b!==void 0?is(is({},b),t.props):t.props,w=y.dataKey,A=y.children,E=y.minPointSize,C=v==="horizontal"?o:s,M=u?C.scale.domain():null,P=x_e({numericAxis:C}),O=yl(A,ND),k=c.map(function(D,I){var L,W,q,K,ie,V;u?L=f_e(u[d+I],M):(L=$o(D,w),Array.isArray(L)||(L=[P,L]));var J=kAe(E,TY.defaultProps.minPointSize)(L[1],I);if(v==="horizontal"){var H,Y=[o.scale(L[0]),o.scale(L[1])],ne=Y[0],Z=Y[1];W=K8({axis:s,ticks:a,bandSize:i,offset:m.offset,entry:D,index:I}),q=(H=Z??ne)!==null&&H!==void 0?H:void 0,K=m.size;var oe=ne-Z;if(ie=Number.isNaN(oe)?0:oe,V={x:W,y:o.y,width:K,height:o.height},Math.abs(J)>0&&Math.abs(ie)<Math.abs(J)){var ye=ac(ie||J)*(Math.abs(J)-Math.abs(ie));q-=ye,ie+=ye}}else{var Be=[s.scale(L[0]),s.scale(L[1])],Xe=Be[0],we=Be[1];if(W=Xe,q=K8({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:D,index:I}),K=we-Xe,ie=m.size,V={x:s.x,y:q,width:s.width,height:ie},Math.abs(J)>0&&Math.abs(K)<Math.abs(J)){var Ae=ac(K||J)*(Math.abs(J)-Math.abs(K));K+=Ae}}return is(is(is({},D),{},{x:W,y:q,width:K,height:ie,value:u?L:L[1],payload:D,background:V},O&&O[I]&&O[I].props),{},{tooltipPayload:[fY(t,D)],tooltipPosition:{x:W+K/2,y:q+ie/2}})});return is({data:k,layout:v},f)});function db(n){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(n)}function XAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,NY(r.key),r)}}function KAe(n,e,t){return e&&hH(n.prototype,e),t&&hH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function pH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pH(Object(t),!0).forEach(function(r){fC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fC(n,e,t){return e=NY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NY(n){var e=YAe(n,"string");return db(e)=="symbol"?e:e+""}function YAe(n,e){if(db(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var iB=function(e,t,r,i,s){var o=e.width,a=e.height,l=e.layout,u=e.children,d=Object.keys(t),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Ia(u,vu);return d.reduce(function(m,v){var b=t[v],y=b.orientation,w=b.domain,A=b.padding,E=A===void 0?{}:A,C=b.mirror,M=b.reversed,P="".concat(y).concat(C?"Mirror":""),O,k,D,I,L;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var W=w[1]-w[0],q=1/0,K=b.categoricalDomain.sort(Yhe);if(K.forEach(function(Be,Xe){Xe>0&&(q=Math.min((Be||0)-(K[Xe-1]||0),q))}),Number.isFinite(q)){var ie=q/W,V=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(O=ie*V/2),b.padding==="no-gap"){var J=nm(e.barCategoryGap,ie*V),H=ie*V/2;O=H-J-(H-J)/V*J}}}i==="xAxis"?k=[r.left+(E.left||0)+(O||0),r.left+r.width-(E.right||0)-(O||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(O||0),r.top+r.height-(E.bottom||0)-(O||0)]:k=b.range,M&&(k=[k[1],k[0]]);var Y=c_e(b,s,f),ne=Y.scale,Z=Y.realScaleType;ne.domain(w).range(k),u_e(ne);var oe=y_e(ne,rc(rc({},b),{},{realScaleType:Z}));i==="xAxis"?(L=y==="top"&&!C||y==="bottom"&&C,D=r.left,I=c[P]-L*b.height):i==="yAxis"&&(L=y==="left"&&!C||y==="right"&&C,D=c[P]-L*b.width,I=r.top);var ye=rc(rc(rc({},b),oe),{},{realScaleType:Z,x:D,y:I,scale:ne,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return ye.bandSize=US(ye,oe),!b.hide&&i==="xAxis"?c[P]+=(L?-1:1)*ye.height:b.hide||(c[P]+=(L?-1:1)*ye.width),rc(rc({},m),{},fC({},v,ye))},{})},IY=function(e,t){var r=e.x,i=e.y,s=t.x,o=t.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},JAe=function(e){var t=e.x1,r=e.y1,i=e.x2,s=e.y2;return IY({x:t,y:r},{x:i,y:s})},OY=(function(){function n(e){XAe(this,n),this.scale=e}return KAe(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?t>=i&&t<=s:t>=s&&t<=i}}],[{key:"create",value:function(t){return new n(t)}}])})();fC(OY,"EPS",1e-4);var sB=function(e){var t=Object.keys(e).reduce(function(r,i){return rc(rc({},r),{},fC({},i,OY.create(e[i])))},{});return rc(rc({},t),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return EAe(i,function(l,u){return t[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return MY(i,function(s,o){return t[o].isInRange(s)})}})};function ZAe(n){return(n%180+180)%180}var QAe=function(e){var t=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ZAe(i),o=s*Math.PI/180,a=Math.atan(r/t),l=o>a&&o<Math.PI-a?r/Math.sin(o):t/Math.cos(o);return Math.abs(l)},eN,mH;function eEe(){if(mH)return eN;mH=1;var n=sh(),e=Wb(),t=JE();function r(i){return function(s,o,a){var l=Object(s);if(!e(s)){var u=n(o,3);s=t(s),o=function(c){return u(l[c],c,l)}}var d=i(s,o,a);return d>-1?l[u?s[d]:d]:void 0}}return eN=r,eN}var tN,gH;function tEe(){if(gH)return tN;gH=1;var n=SY();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return tN=e,tN}var nN,vH;function nEe(){if(vH)return nN;vH=1;var n=qX(),e=sh(),t=tEe(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:t(a);return u<0&&(u=r(l+u,0)),n(s,e(o,3),u)}return nN=i,nN}var rN,yH;function rEe(){if(yH)return rN;yH=1;var n=eEe(),e=nEe(),t=n(e);return rN=t,rN}var iEe=rEe();const sEe=Hr(iEe);var oEe=lX();const aEe=Hr(oEe);var lEe=aEe(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),oB=B.createContext(void 0),aB=B.createContext(void 0),FY=B.createContext(void 0),DY=B.createContext({}),BY=B.createContext(void 0),kY=B.createContext(0),LY=B.createContext(0),xH=function(e){var t=e.state,r=t.xAxisMap,i=t.yAxisMap,s=t.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,d=lEe(s);return ue.createElement(oB.Provider,{value:r},ue.createElement(aB.Provider,{value:i},ue.createElement(DY.Provider,{value:s},ue.createElement(FY.Provider,{value:d},ue.createElement(BY.Provider,{value:o},ue.createElement(kY.Provider,{value:u},ue.createElement(LY.Provider,{value:l},a)))))))},cEe=function(){return B.useContext(BY)},jY=function(e){var t=B.useContext(oB);t==null&&im();var r=t[e];return r==null&&im(),r},uEe=function(){var e=B.useContext(oB);return Rf(e)},dEe=function(){var e=B.useContext(aB),t=sEe(e,function(r){return MY(r.domain,Number.isFinite)});return t||Rf(e)},UY=function(e){var t=B.useContext(aB);t==null&&im();var r=t[e];return r==null&&im(),r},fEe=function(){var e=B.useContext(FY);return e},hEe=function(){return B.useContext(DY)},lB=function(){return B.useContext(LY)},cB=function(){return B.useContext(kY)};function N0(n){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(n)}function pEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,HY(r.key),r)}}function gEe(n,e,t){return e&&mEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function vEe(n,e,t){return e=tA(e),yEe(n,zY()?Reflect.construct(e,t||[],tA(n).constructor):e.apply(n,t))}function yEe(n,e){if(e&&(N0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xEe(n)}function xEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zY=function(){return!!n})()}function tA(n){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tA(n)}function bEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pO(n,e)}function pO(n,e){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pO(n,e)}function bH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _H(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bH(Object(t),!0).forEach(function(r){uB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uB(n,e,t){return e=HY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HY(n){var e=_Ee(n,"string");return N0(e)=="symbol"?e:e+""}function _Ee(n,e){if(N0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function wEe(n,e){return CEe(n)||EEe(n,e)||AEe(n,e)||SEe()}function SEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AEe(n,e){if(n){if(typeof n=="string")return wH(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wH(n,e)}}function wH(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function EEe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function CEe(n){if(Array.isArray(n))return n}function mO(){return mO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mO.apply(this,arguments)}var MEe=function(e,t){var r;return ue.isValidElement(e)?r=ue.cloneElement(e,t):ir(e)?r=e(t):r=ue.createElement("line",mO({},t,{className:"recharts-reference-line-line"})),r},TEe=function(e,t,r,i,s,o,a,l,u){var d=s.x,c=s.y,f=s.width,m=s.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(eu(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:d+f,y:b},{x:d,y:b}];return l==="left"?y.reverse():y}if(t){var w=u.x,A=e.x.apply(w,{position:o});if(eu(u,"discard")&&!e.x.isInRange(A))return null;var E=[{x:A,y:c+m},{x:A,y:c}];return a==="top"?E.reverse():E}if(i){var C=u.segment,M=C.map(function(P){return e.apply(P,{position:o})});return eu(u,"discard")&&_Ae(M,function(P){return!e.isInRange(P)})?null:M}return null};function PEe(n){var e=n.x,t=n.y,r=n.segment,i=n.xAxisId,s=n.yAxisId,o=n.shape,a=n.className,l=n.alwaysShow,u=cEe(),d=jY(i),c=UY(s),f=fEe();if(!u||!f)return null;hd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sB({x:d.scale,y:c.scale}),v=_s(e),b=_s(t),y=r&&r.length===2,w=TEe(m,v,b,y,f,n.position,d.orientation,c.orientation,n);if(!w)return null;var A=wEe(w,2),E=A[0],C=E.x,M=E.y,P=A[1],O=P.x,k=P.y,D=eu(n,"hidden")?"url(#".concat(u,")"):void 0,I=_H(_H({clipPath:D},ur(n,!0)),{},{x1:C,y1:M,x2:O,y2:k});return ue.createElement(si,{className:yr("recharts-reference-line",a)},MEe(o,I),bo.renderCallByParent(n,JAe({x1:C,y1:M,x2:O,y2:k})))}var dB=(function(n){function e(){return pEe(this,e),vEe(this,e,arguments)}return bEe(e,n),gEe(e,[{key:"render",value:function(){return ue.createElement(PEe,this.props)}}])})(ue.Component);uB(dB,"displayName","ReferenceLine");uB(dB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gO(){return gO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gO.apply(this,arguments)}function I0(n){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(n)}function SH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(t),!0).forEach(function(r){hC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function REe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,VY(r.key),r)}}function IEe(n,e,t){return e&&NEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function OEe(n,e,t){return e=nA(e),FEe(n,GY()?Reflect.construct(e,t||[],nA(n).constructor):e.apply(n,t))}function FEe(n,e){if(e&&(I0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DEe(n)}function DEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function GY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GY=function(){return!!n})()}function nA(n){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nA(n)}function BEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vO(n,e)}function vO(n,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vO(n,e)}function hC(n,e,t){return e=VY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VY(n){var e=kEe(n,"string");return I0(e)=="symbol"?e:e+""}function kEe(n,e){if(I0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var LEe=function(e){var t=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=sB({x:i.scale,y:s.scale}),a=o.apply({x:t,y:r},{bandAware:!0});return eu(e,"discard")&&!o.isInRange(a)?null:a},pC=(function(n){function e(){return REe(this,e),OEe(this,e,arguments)}return BEe(e,n),IEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,u=_s(i),d=_s(s);if(hd(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var c=LEe(this.props);if(!c)return null;var f=c.x,m=c.y,v=this.props,b=v.shape,y=v.className,w=eu(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=AH(AH({clipPath:w},ur(this.props,!0)),{},{cx:f,cy:m});return ue.createElement(si,{className:yr("recharts-reference-dot",y)},e.renderDot(b,A),bo.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])})(ue.Component);hC(pC,"displayName","ReferenceDot");hC(pC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hC(pC,"renderDot",function(n,e){var t;return ue.isValidElement(n)?t=ue.cloneElement(n,e):ir(n)?t=n(e):t=ue.createElement(cC,gO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function yO(){return yO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yO.apply(this,arguments)}function O0(n){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(n)}function EH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EH(Object(t),!0).forEach(function(r){mC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function UEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$Y(r.key),r)}}function zEe(n,e,t){return e&&UEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function HEe(n,e,t){return e=rA(e),GEe(n,WY()?Reflect.construct(e,t||[],rA(n).constructor):e.apply(n,t))}function GEe(n,e){if(e&&(O0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(n)}function VEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function WY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WY=function(){return!!n})()}function rA(n){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rA(n)}function WEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xO(n,e)}function xO(n,e){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xO(n,e)}function mC(n,e,t){return e=$Y(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Y(n){var e=$Ee(n,"string");return O0(e)=="symbol"?e:e+""}function $Ee(n,e){if(O0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var qEe=function(e,t,r,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,d=s.xAxis,c=s.yAxis;if(!d||!c)return null;var f=sB({x:d.scale,y:c.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:t?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return eu(s,"discard")&&(!f.isInRange(m)||!f.isInRange(v))?null:IY(m,v)},gC=(function(n){function e(){return jEe(this,e),HEe(this,e,arguments)}return WEe(e,n),zEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;hd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=_s(i),f=_s(s),m=_s(o),v=_s(a),b=this.props.shape;if(!c&&!f&&!m&&!v&&!b)return null;var y=qEe(c,f,m,v,this.props);if(!y&&!b)return null;var w=eu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(si,{className:yr("recharts-reference-area",l)},e.renderRect(b,CH(CH({clipPath:w},ur(this.props,!0)),y)),bo.renderCallByParent(this.props,y))}}])})(ue.Component);mC(gC,"displayName","ReferenceArea");mC(gC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mC(gC,"renderRect",function(n,e){var t;return ue.isValidElement(n)?t=ue.cloneElement(n,e):ir(n)?t=n(e):t=ue.createElement(rB,yO({},e,{className:"recharts-reference-area-rect"})),t});function qY(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var r=[],i=0;i<n.length;i+=e)r.push(n[i]);return r}function XEe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return QAe(r,t)}function KEe(n,e,t){var r=t==="width",i=n.x,s=n.y,o=n.width,a=n.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function iA(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function YEe(n,e){return qY(n,e+1)}function JEe(n,e,t,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,d=o,c=function(){var v=r?.[l];if(v===void 0)return{v:qY(r,u)};var b=l,y,w=function(){return y===void 0&&(y=t(v,b)),y},A=v.coordinate,E=l===0||iA(n,A,w,d,a);E||(l=0,d=o,u+=1),E&&(d=A+n*(w()/2+i),l+=u)},f;u<=s.length;)if(f=c(),f)return f.v;return[]}function fb(n){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(n)}function MH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(t),!0).forEach(function(r){ZEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZEe(n,e,t){return e=QEe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QEe(n){var e=eCe(n,"string");return fb(e)=="symbol"?e:e+""}function eCe(n,e){if(fb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tCe(n,e,t,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(f){var m=s[f],v,b=function(){return v===void 0&&(v=t(m,f)),v};if(f===o-1){var y=n*(m.coordinate+n*b()/2-l);s[f]=m=yo(yo({},m),{},{tickCoord:y>0?m.coordinate-y*n:m.coordinate})}else s[f]=m=yo(yo({},m),{},{tickCoord:m.coordinate});var w=iA(n,m.tickCoord,b,a,l);w&&(l=m.tickCoord-n*(b()/2+i),s[f]=yo(yo({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function nCe(n,e,t,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var d=r[a-1],c=t(d,a-1),f=n*(d.coordinate+n*c/2-u);o[a-1]=d=yo(yo({},d),{},{tickCoord:f>0?d.coordinate-f*n:d.coordinate});var m=iA(n,d.tickCoord,function(){return c},l,u);m&&(u=d.tickCoord-n*(c/2+i),o[a-1]=yo(yo({},d),{},{isShow:!0}))}for(var v=s?a-1:a,b=function(A){var E=o[A],C,M=function(){return C===void 0&&(C=t(E,A)),C};if(A===0){var P=n*(E.coordinate-n*M()/2-l);o[A]=E=yo(yo({},E),{},{tickCoord:P<0?E.coordinate-P*n:E.coordinate})}else o[A]=E=yo(yo({},E),{},{tickCoord:E.coordinate});var O=iA(n,E.tickCoord,M,l,u);O&&(l=E.tickCoord+n*(M()/2+i),o[A]=yo(yo({},E),{},{isShow:!0}))},y=0;y<v;y++)b(y);return o}function fB(n,e,t){var r=n.tick,i=n.ticks,s=n.viewBox,o=n.minTickGap,a=n.orientation,l=n.interval,u=n.tickFormatter,d=n.unit,c=n.angle;if(!i||!i.length||!r)return[];if($t(l)||gm.isSsr)return YEe(i,typeof l=="number"&&$t(l)?l:0);var f=[],m=a==="top"||a==="bottom"?"width":"height",v=d&&m==="width"?ix(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},b=function(E,C){var M=ir(u)?u(E.value,C):E.value;return m==="width"?XEe(ix(M,{fontSize:e,letterSpacing:t}),v,c):ix(M,{fontSize:e,letterSpacing:t})[m]},y=i.length>=2?ac(i[1].coordinate-i[0].coordinate):1,w=KEe(s,y,m);return l==="equidistantPreserveStart"?JEe(y,w,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=nCe(y,w,b,i,o,l==="preserveStartEnd"):f=tCe(y,w,b,i,o),f.filter(function(A){return A.isShow}))}var rCe=["viewBox"],iCe=["viewBox"],sCe=["ticks"];function F0(n){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(n)}function zg(){return zg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zg.apply(this,arguments)}function TH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ys(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(t),!0).forEach(function(r){hB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iN(n,e){if(n==null)return{};var t=oCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function oCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function aCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function PH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,KY(r.key),r)}}function lCe(n,e,t){return e&&PH(n.prototype,e),t&&PH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function cCe(n,e,t){return e=sA(e),uCe(n,XY()?Reflect.construct(e,t||[],sA(n).constructor):e.apply(n,t))}function uCe(n,e){if(e&&(F0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dCe(n)}function dCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function XY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XY=function(){return!!n})()}function sA(n){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sA(n)}function fCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bO(n,e)}function bO(n,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bO(n,e)}function hB(n,e,t){return e=KY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KY(n){var e=hCe(n,"string");return F0(e)=="symbol"?e:e+""}function hCe(n,e){if(F0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var _v=(function(n){function e(t){var r;return aCe(this,e),r=cCe(this,e,[t]),r.state={fontSize:"",letterSpacing:""},r}return fCe(e,n),lCe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=iN(r,rCe),a=this.props,l=a.viewBox,u=iN(a,iCe);return!i0(s,l)||!i0(o,u)||!i0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.orientation,d=i.tickSize,c=i.mirror,f=i.tickMargin,m,v,b,y,w,A,E=c?-1:1,C=r.tickSize||d,M=$t(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,y=o+ +!c*l,b=y-E*C,A=b-E*f,w=M;break;case"left":b=y=r.coordinate,v=s+ +!c*a,m=v-E*C,w=m-E*f,A=M;break;case"right":b=y=r.coordinate,v=s+ +c*a,m=v+E*C,w=m+E*f,A=M;break;default:m=v=r.coordinate,y=o+ +c*l,b=y+E*C,A=b+E*f,w=M;break}return{line:{x1:m,y1:b,x2:v,y2:y},tick:{x:w,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,c=ys(ys(ys({},ur(this.props,!1)),ur(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);c=ys(ys({},c),{},{x1:i,y1:s+f*a,x2:i+o,y2:s+f*a})}else{var m=+(l==="left"&&!u||l==="right"&&u);c=ys(ys({},c),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+a})}return ue.createElement("line",zg({},c,{className:yr("recharts-cartesian-axis-line",vl(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,d=a.tick,c=a.tickFormatter,f=a.unit,m=fB(ys(ys({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=ur(this.props,!1),w=ur(d,!1),A=ys(ys({},y),{},{fill:"none"},ur(l,!1)),E=m.map(function(C,M){var P=o.getTickLineCoord(C),O=P.line,k=P.tick,D=ys(ys(ys(ys({textAnchor:v,verticalAnchor:b},y),{},{stroke:"none",fill:u},w),k),{},{index:M,payload:C,visibleTicksCount:m.length,tickFormatter:c});return ue.createElement(si,zg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},pS(o.props,C,M)),l&&ue.createElement("line",zg({},A,O,{className:yr("recharts-cartesian-axis-tick-line",vl(l,"className"))})),d&&e.renderTickItem(d,D,"".concat(ir(c)?c(C.value,M):C.value).concat(f||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var c=this.props,f=c.ticks,m=iN(c,sCe),v=f;return ir(l)&&(v=f&&f.length>0?l(this.props):l(m)),o<=0||a<=0||!v||!v.length?null:ue.createElement(si,{className:yr("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),bo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=yr(i.className,"recharts-cartesian-axis-tick-value");return ue.isValidElement(r)?o=ue.cloneElement(r,ys(ys({},i),{},{className:a})):ir(r)?o=r(ys(ys({},i),{},{className:a})):o=ue.createElement(ES,zg({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(B.Component);hB(_v,"displayName","CartesianAxis");hB(_v,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pCe=["x1","y1","x2","y2","key"],mCe=["offset"];function sm(n){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(n)}function RH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _o(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RH(Object(t),!0).forEach(function(r){gCe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gCe(n,e,t){return e=vCe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vCe(n){var e=yCe(n,"string");return sm(e)=="symbol"?e:e+""}function yCe(n,e){if(sm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cp.apply(this,arguments)}function NH(n,e){if(n==null)return{};var t=xCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function xCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var bCe=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return ue.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YY(n,e){var t;if(ue.isValidElement(n))t=ue.cloneElement(n,e);else if(ir(n))t=n(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=NH(e,pCe),u=ur(l,!1);u.offset;var d=NH(u,mCe);t=ue.createElement("line",Cp({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return t}function _Ce(n){var e=n.x,t=n.width,r=n.horizontal,i=r===void 0?!0:r,s=n.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=_o(_o({},n),{},{x1:e,y1:a,x2:e+t,y2:a,key:"line-".concat(l),index:l});return YY(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function wCe(n){var e=n.y,t=n.height,r=n.vertical,i=r===void 0?!0:r,s=n.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=_o(_o({},n),{},{x1:a,y1:e,x2:a,y2:e+t,key:"line-".concat(l),index:l});return YY(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function SCe(n){var e=n.horizontalFill,t=n.fillOpacity,r=n.x,i=n.y,s=n.width,o=n.height,a=n.horizontalPoints,l=n.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var c=d.map(function(f,m){var v=!d[m+1],b=v?i+o-f:d[m+1]-f;if(b<=0)return null;var y=m%e.length;return ue.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:b,width:s,stroke:"none",fill:e[y],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function ACe(n){var e=n.vertical,t=e===void 0?!0:e,r=n.verticalFill,i=n.fillOpacity,s=n.x,o=n.y,a=n.width,l=n.height,u=n.verticalPoints;if(!t||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==d[0]&&d.unshift(0);var c=d.map(function(f,m){var v=!d[m+1],b=v?s+a-f:d[m+1]-f;if(b<=0)return null;var y=m%r.length;return ue.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var ECe=function(e,t){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return uY(fB(_o(_o(_o({},_v.defaultProps),r),{},{ticks:ud(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,t)},CCe=function(e,t){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return uY(fB(_o(_o(_o({},_v.defaultProps),r),{},{ticks:ud(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,t)},hg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ao(n){var e,t,r,i,s,o,a=lB(),l=cB(),u=hEe(),d=_o(_o({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:hg.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:hg.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:hg.horizontal,horizontalFill:(i=n.horizontalFill)!==null&&i!==void 0?i:hg.horizontalFill,vertical:(s=n.vertical)!==null&&s!==void 0?s:hg.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:hg.verticalFill,x:$t(n.x)?n.x:u.left,y:$t(n.y)?n.y:u.top,width:$t(n.width)?n.width:u.width,height:$t(n.height)?n.height:u.height}),c=d.x,f=d.y,m=d.width,v=d.height,b=d.syncWithTicks,y=d.horizontalValues,w=d.verticalValues,A=uEe(),E=dEe();if(!$t(m)||m<=0||!$t(v)||v<=0||!$t(c)||c!==+c||!$t(f)||f!==+f)return null;var C=d.verticalCoordinatesGenerator||ECe,M=d.horizontalCoordinatesGenerator||CCe,P=d.horizontalPoints,O=d.verticalPoints;if((!P||!P.length)&&ir(M)){var k=y&&y.length,D=M({yAxis:E?_o(_o({},E),{},{ticks:k?y:E.ticks}):void 0,width:a,height:l,offset:u},k?!0:b);hd(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sm(D),"]")),Array.isArray(D)&&(P=D)}if((!O||!O.length)&&ir(C)){var I=w&&w.length,L=C({xAxis:A?_o(_o({},A),{},{ticks:I?w:A.ticks}):void 0,width:a,height:l,offset:u},I?!0:b);hd(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sm(L),"]")),Array.isArray(L)&&(O=L)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(bCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(_Ce,Cp({},d,{offset:u,horizontalPoints:P,xAxis:A,yAxis:E})),ue.createElement(wCe,Cp({},d,{offset:u,verticalPoints:O,xAxis:A,yAxis:E})),ue.createElement(SCe,Cp({},d,{horizontalPoints:P})),ue.createElement(ACe,Cp({},d,{verticalPoints:O})))}Ao.displayName="CartesianGrid";var MCe=["type","layout","connectNulls","ref"],TCe=["key"];function D0(n){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(n)}function IH(n,e){if(n==null)return{};var t=PCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function PCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function lx(){return lx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lx.apply(this,arguments)}function OH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ra(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(t),!0).forEach(function(r){ic(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pg(n){return OCe(n)||ICe(n)||NCe(n)||RCe()}function RCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NCe(n,e){if(n){if(typeof n=="string")return _O(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _O(n,e)}}function ICe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function OCe(n){if(Array.isArray(n))return _O(n)}function _O(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function FCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function FH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ZY(r.key),r)}}function DCe(n,e,t){return e&&FH(n.prototype,e),t&&FH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function BCe(n,e,t){return e=oA(e),kCe(n,JY()?Reflect.construct(e,t||[],oA(n).constructor):e.apply(n,t))}function kCe(n,e){if(e&&(D0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LCe(n)}function LCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JY=function(){return!!n})()}function oA(n){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oA(n)}function jCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wO(n,e)}function wO(n,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(n,e)}function ic(n,e,t){return e=ZY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZY(n){var e=UCe(n,"string");return D0(e)=="symbol"?e:e+""}function UCe(n,e){if(D0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var As=(function(n){function e(){var t;FCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=BCe(this,e,[].concat(i)),ic(t,"state",{isAnimationFinished:!0,totalLength:0}),ic(t,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),ic(t,"getStrokeDasharray",function(o,a,l){var u=l.reduce(function(w,A){return w+A});if(!u)return t.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/u),c=o%u,f=a-o,m=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>c){m=[].concat(pg(l.slice(0,v)),[c-b]);break}var y=m.length%2===0?[0,f]:[f];return[].concat(pg(e.repeat(l,d)),pg(m),y).map(function(w){return"".concat(w,"px")}).join(", ")}),ic(t,"id",gv("recharts-line-")),ic(t,"pathRef",function(o){t.mainCurve=o}),ic(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),ic(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return jCe(e,n),DCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,c=yl(d,Yb);if(!c)return null;var f=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:$o(b.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ue.createElement(si,m,c.map(function(v){return ue.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,d=a.dataKey,c=ur(this.props,!1),f=ur(l,!0),m=u.map(function(b,y){var w=Ra(Ra(Ra({key:"dot-".concat(y),r:3},c),f),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ue.createElement(si,lx({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,u=a.layout,d=a.connectNulls;a.ref;var c=IH(a,MCe),f=Ra(Ra(Ra({},ur(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:d});return ue.createElement(a0,lx({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,c=o.animationDuration,f=o.animationEasing,m=o.animationId,v=o.animateNewValues,b=o.width,y=o.height,w=this.state,A=w.prevPoints,E=w.totalLength;return ue.createElement(lu,{begin:d,duration:c,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var M=C.t;if(A){var P=A.length/a.length,O=a.map(function(W,q){var K=Math.floor(q*P);if(A[K]){var ie=A[K],V=Qs(ie.x,W.x),J=Qs(ie.y,W.y);return Ra(Ra({},W),{},{x:V(M),y:J(M)})}if(v){var H=Qs(b*2,W.x),Y=Qs(y/2,W.y);return Ra(Ra({},W),{},{x:H(M),y:Y(M)})}return Ra(Ra({},W),{},{x:W.x,y:W.y})});return s.renderCurveStatically(O,r,i)}var k=Qs(0,E),D=k(M),I;if(l){var L="".concat(l).split(/[,\s]+/gim).map(function(W){return parseFloat(W)});I=s.getStrokeDasharray(D,E,L)}else I=s.generateSimpleStrokeDasharray(E,D);return s.renderCurveStatically(a,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return a&&o&&o.length&&(!u&&d>0||!E0(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,u=i.xAxis,d=i.yAxis,c=i.top,f=i.left,m=i.width,v=i.height,b=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=a.length===1,E=yr("recharts-line",l),C=u&&u.allowDataOverflow,M=d&&d.allowDataOverflow,P=C||M,O=pr(y)?this.id:y,k=(r=ur(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=k.r,I=D===void 0?3:D,L=k.strokeWidth,W=L===void 0?2:L,q=hX(o)?o:{},K=q.clipDot,ie=K===void 0?!0:K,V=I*2+W;return ue.createElement(si,{className:E},C||M?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(O)},ue.createElement("rect",{x:C?f:f-m/2,y:M?c:c-v/2,width:C?m:m*2,height:M?v:v*2})),!ie&&ue.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ue.createElement("rect",{x:f-V/2,y:c-V/2,width:m+V,height:v+V}))):null,!A&&this.renderCurve(P,O),this.renderErrorBar(P,O),(A||o)&&this.renderDots(P,ie,O),(!b||w)&&md.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(pg(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(pg(o),pg(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(ue.isValidElement(r))s=ue.cloneElement(r,i);else if(ir(r))s=r(i);else{var o=i.key,a=IH(i,TCe),l=yr("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ue.createElement(cC,lx({key:o},a,{className:l}))}return s}}])})(B.PureComponent);ic(As,"displayName","Line");ic(As,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ic(As,"getComposedData",function(n){var e=n.props,t=n.xAxis,r=n.yAxis,i=n.xAxisTicks,s=n.yAxisTicks,o=n.dataKey,a=n.bandSize,l=n.displayedData,u=n.offset,d=e.layout,c=l.map(function(f,m){var v=$o(f,o);return d==="horizontal"?{x:jS({axis:t,ticks:i,bandSize:a,entry:f,index:m}),y:pr(v)?null:r.scale(v),value:v,payload:f}:{x:pr(v)?null:t.scale(v),y:jS({axis:r,ticks:s,bandSize:a,entry:f,index:m}),value:v,payload:f}});return Ra({points:c,layout:d},u)});var zCe=["layout","type","stroke","connectNulls","isRange","ref"],HCe=["key"],QY;function B0(n){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(n)}function eJ(n,e){if(n==null)return{};var t=GCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function GCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mp(){return Mp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mp.apply(this,arguments)}function DH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DH(Object(t),!0).forEach(function(r){Yc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function BH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nJ(r.key),r)}}function WCe(n,e,t){return e&&BH(n.prototype,e),t&&BH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function $Ce(n,e,t){return e=aA(e),qCe(n,tJ()?Reflect.construct(e,t||[],aA(n).constructor):e.apply(n,t))}function qCe(n,e){if(e&&(B0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(n)}function XCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!n})()}function aA(n){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aA(n)}function KCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&SO(n,e)}function SO(n,e){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SO(n,e)}function Yc(n,e,t){return e=nJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nJ(n){var e=YCe(n,"string");return B0(e)=="symbol"?e:e+""}function YCe(n,e){if(B0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var yu=(function(n){function e(){var t;VCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=$Ce(this,e,[].concat(i)),Yc(t,"state",{isAnimationFinished:!0}),Yc(t,"id",gv("recharts-area-")),Yc(t,"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ir(o)&&o()}),Yc(t,"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ir(o)&&o()}),t}return KCe(e,n),WCe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,u=l.dot,d=l.points,c=l.dataKey,f=ur(this.props,!1),m=ur(u,!0),v=d.map(function(y,w){var A=Cf(Cf(Cf({key:"dot-".concat(w),r:3},f),m),{},{index:w,cx:y.x,cy:y.y,dataKey:c,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,A)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ue.createElement(si,Mp({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=r*Math.abs(l-u),c=Ff(o.map(function(f){return f.y||0}));return $t(s)&&typeof s=="number"?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(Ff(s.map(function(f){return f.y||0})),c)),$t(c)?ue.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=r*Math.abs(l-u),c=Ff(o.map(function(f){return f.x||0}));return $t(s)&&typeof s=="number"?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(Ff(s.map(function(f){return f.x||0})),c)),$t(c)?ue.createElement("rect",{x:0,y:l<u?l:l-d,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,u=a.type,d=a.stroke,c=a.connectNulls,f=a.isRange;a.ref;var m=eJ(a,zCe);return ue.createElement(si,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ue.createElement(a0,Mp({},ur(m,!0),{points:r,connectNulls:c,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ue.createElement(a0,Mp({},ur(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:r})),d!=="none"&&f&&ue.createElement(a0,Mp({},ur(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,c=o.animationDuration,f=o.animationEasing,m=o.animationId,v=this.state,b=v.prevPoints,y=v.prevBaseLine;return ue.createElement(lu,{begin:d,duration:c,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var A=w.t;if(b){var E=b.length/a.length,C=a.map(function(k,D){var I=Math.floor(D*E);if(b[I]){var L=b[I],W=Qs(L.x,k.x),q=Qs(L.y,k.y);return Cf(Cf({},k),{},{x:W(A),y:q(A)})}return k}),M;if($t(l)&&typeof l=="number"){var P=Qs(y,l);M=P(A)}else if(pr(l)||mv(l)){var O=Qs(y,0);M=O(A)}else M=l.map(function(k,D){var I=Math.floor(D*E);if(y[I]){var L=y[I],W=Qs(L.x,k.x),q=Qs(L.y,k.y);return Cf(Cf({},k),{},{x:W(A),y:q(A)})}return k});return s.renderAreaStatically(C,M,r,i)}return ue.createElement(si,null,ue.createElement("defs",null,ue.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(A))),ue.createElement(si,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,u=this.state,d=u.prevPoints,c=u.prevBaseLine,f=u.totalLength;return l&&o&&o.length&&(!d&&f>0||!E0(d,o)||!E0(c,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,u=i.top,d=i.left,c=i.xAxis,f=i.yAxis,m=i.width,v=i.height,b=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=a.length===1,E=yr("recharts-area",l),C=c&&c.allowDataOverflow,M=f&&f.allowDataOverflow,P=C||M,O=pr(y)?this.id:y,k=(r=ur(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=k.r,I=D===void 0?3:D,L=k.strokeWidth,W=L===void 0?2:L,q=hX(o)?o:{},K=q.clipDot,ie=K===void 0?!0:K,V=I*2+W;return ue.createElement(si,{className:E},C||M?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(O)},ue.createElement("rect",{x:C?d:d-m/2,y:M?u:u-v/2,width:C?m:m*2,height:M?v:v*2})),!ie&&ue.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ue.createElement("rect",{x:d-V/2,y:u-V/2,width:m+V,height:v+V}))):null,A?null:this.renderArea(P,O),(o||A)&&this.renderDots(P,ie,O),(!b||w)&&md.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(B.PureComponent);QY=yu;Yc(yu,"displayName","Area");Yc(yu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!gm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Yc(yu,"getBaseValue",function(n,e,t,r){var i=n.layout,s=n.baseValue,o=e.props.baseValue,a=o??s;if($t(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:t,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return a==="dataMin"?c:a==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Yc(yu,"getComposedData",function(n){var e=n.props,t=n.item,r=n.xAxis,i=n.yAxis,s=n.xAxisTicks,o=n.yAxisTicks,a=n.bandSize,l=n.dataKey,u=n.stackedData,d=n.dataStartIndex,c=n.displayedData,f=n.offset,m=e.layout,v=u&&u.length,b=QY.getBaseValue(e,t,r,i),y=m==="horizontal",w=!1,A=c.map(function(C,M){var P;v?P=u[d+M]:(P=$o(C,l),Array.isArray(P)?w=!0:P=[b,P]);var O=P[1]==null||v&&$o(C,l)==null;return y?{x:jS({axis:r,ticks:s,bandSize:a,entry:C,index:M}),y:O?null:i.scale(P[1]),value:P,payload:C}:{x:O?null:r.scale(P[1]),y:jS({axis:i,ticks:o,bandSize:a,entry:C,index:M}),value:P,payload:C}}),E;return v||w?E=A.map(function(C){var M=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:M!=null&&C.y!=null?i.scale(M):null}:{x:M!=null?r.scale(M):null,y:C.y}}):E=y?i.scale(b):r.scale(b),Cf({points:A,baseLine:E,layout:m,isRange:w},f)});Yc(yu,"renderDotItem",function(n,e){var t;if(ue.isValidElement(n))t=ue.cloneElement(n,e);else if(ir(n))t=n(e);else{var r=yr("recharts-area-dot",typeof n!="boolean"?n.className:""),i=e.key,s=eJ(e,HCe);t=ue.createElement(cC,Mp({},s,{key:i,className:r}))}return t});function k0(n){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(n)}function JCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZCe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,sJ(r.key),r)}}function QCe(n,e,t){return e&&ZCe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function eMe(n,e,t){return e=lA(e),tMe(n,rJ()?Reflect.construct(e,t||[],lA(n).constructor):e.apply(n,t))}function tMe(n,e){if(e&&(k0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nMe(n)}function nMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rJ=function(){return!!n})()}function lA(n){return lA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lA(n)}function rMe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AO(n,e)}function AO(n,e){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AO(n,e)}function iJ(n,e,t){return e=sJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sJ(n){var e=iMe(n,"string");return k0(e)=="symbol"?e:e+""}function iMe(n,e){if(k0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function EO(){return EO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EO.apply(this,arguments)}function sMe(n){var e=n.xAxisId,t=lB(),r=cB(),i=jY(e);return i==null?null:B.createElement(_v,EO({},i,{className:yr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:r},ticksGenerator:function(o){return ud(o,!0)}}))}var qi=(function(n){function e(){return JCe(this,e),eMe(this,e,arguments)}return rMe(e,n),QCe(e,[{key:"render",value:function(){return B.createElement(sMe,this.props)}}])})(B.Component);iJ(qi,"displayName","XAxis");iJ(qi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function L0(n){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(n)}function oMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function aMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,lJ(r.key),r)}}function lMe(n,e,t){return e&&aMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function cMe(n,e,t){return e=cA(e),uMe(n,oJ()?Reflect.construct(e,t||[],cA(n).constructor):e.apply(n,t))}function uMe(n,e){if(e&&(L0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dMe(n)}function dMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function oJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!n})()}function cA(n){return cA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cA(n)}function fMe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CO(n,e)}function CO(n,e){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CO(n,e)}function aJ(n,e,t){return e=lJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lJ(n){var e=hMe(n,"string");return L0(e)=="symbol"?e:e+""}function hMe(n,e){if(L0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function MO(){return MO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MO.apply(this,arguments)}var pMe=function(e){var t=e.yAxisId,r=lB(),i=cB(),s=UY(t);return s==null?null:B.createElement(_v,MO({},s,{className:yr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ud(a,!0)}}))},Xi=(function(n){function e(){return oMe(this,e),cMe(this,e,arguments)}return fMe(e,n),lMe(e,[{key:"render",value:function(){return B.createElement(pMe,this.props)}}])})(B.Component);aJ(Xi,"displayName","YAxis");aJ(Xi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kH(n){return yMe(n)||vMe(n)||gMe(n)||mMe()}function mMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gMe(n,e){if(n){if(typeof n=="string")return TO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TO(n,e)}}function vMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yMe(n){if(Array.isArray(n))return TO(n)}function TO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var PO=function(e,t,r,i,s){var o=yl(e,dB),a=yl(e,pC),l=[].concat(kH(o),kH(a)),u=yl(e,gC),d="".concat(i,"Id"),c=i[0],f=t;if(l.length&&(f=l.reduce(function(b,y){if(y.props[d]===r&&eu(y.props,"extendDomain")&&$t(y.props[c])){var w=y.props[c];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},f)),u.length){var m="".concat(c,"1"),v="".concat(c,"2");f=u.reduce(function(b,y){if(y.props[d]===r&&eu(y.props,"extendDomain")&&$t(y.props[m])&&$t(y.props[v])){var w=y.props[m],A=y.props[v];return[Math.min(b[0],w,A),Math.max(b[1],w,A)]}return b},f)}return s&&s.length&&(f=s.reduce(function(b,y){return $t(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},f)),f},sN={exports:{}},LH;function xMe(){return LH||(LH=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,c,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,c||l,f),v=t?t+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,c;if(this._eventsCount===0)return u;for(c in d=this._events)e.call(d,c)&&u.push(t?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=t?t+u:u,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,m=c.length,v=new Array(m);f<m;f++)v[f]=c[f].fn;return v},a.prototype.listenerCount=function(u){var d=t?t+u:u,c=this._events[d];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,d,c,f,m,v){var b=t?t+u:u;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,A,E;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,c),!0;case 4:return y.fn.call(y.context,d,c,f),!0;case 5:return y.fn.call(y.context,d,c,f,m),!0;case 6:return y.fn.call(y.context,d,c,f,m,v),!0}for(E=1,A=new Array(w-1);E<w;E++)A[E-1]=arguments[E];y.fn.apply(y.context,A)}else{var C=y.length,M;for(E=0;E<C;E++)switch(y[E].once&&this.removeListener(u,y[E].fn,void 0,!0),w){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,d);break;case 3:y[E].fn.call(y[E].context,d,c);break;case 4:y[E].fn.call(y[E].context,d,c,f);break;default:if(!A)for(M=1,A=new Array(w-1);M<w;M++)A[M-1]=arguments[M];y[E].fn.apply(y[E].context,A)}}return!0},a.prototype.on=function(u,d,c){return s(this,u,d,c,!1)},a.prototype.once=function(u,d,c){return s(this,u,d,c,!0)},a.prototype.removeListener=function(u,d,c,f){var m=t?t+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!f||v.once)&&(!c||v.context===c)&&o(this,m);else{for(var b=0,y=[],w=v.length;b<w;b++)(v[b].fn!==d||f&&!v[b].once||c&&v[b].context!==c)&&y.push(v[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(sN)),sN.exports}var bMe=xMe();const _Me=Hr(bMe);var oN=new _Me,aN="recharts.syncMouseEvents";function hb(n){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(n)}function wMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function SMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cJ(r.key),r)}}function AMe(n,e,t){return e&&SMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function lN(n,e,t){return e=cJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cJ(n){var e=EMe(n,"string");return hb(e)=="symbol"?e:e+""}function EMe(n,e){if(hb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var CMe=(function(){function n(){wMe(this,n),lN(this,"activeIndex",0),lN(this,"coordinateList",[]),lN(this,"layout","horizontal")}return AMe(n,[{key:"setDetails",value:function(t){var r,i=t.coordinateList,s=i===void 0?null:i,o=t.container,a=o===void 0?null:o,l=t.layout,u=l===void 0?null:l,d=t.offset,c=d===void 0?null:d,f=t.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((t=window)===null||t===void 0?void 0:t.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=s+l+u,f=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:c,pageY:f})}}}])})();function MMe(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var r=n?.[0],i=n?.[1];if(r&&i&&$t(r)&&$t(i))return!0}return!1}function TMe(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function uJ(n){var e=n.cx,t=n.cy,r=n.radius,i=n.startAngle,s=n.endAngle,o=eo(e,t,r,i),a=eo(e,t,r,s);return{points:[o,a],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function PMe(n,e,t){var r,i,s,o;if(n==="horizontal")r=e.x,s=r,i=t.top,o=t.top+t.height;else if(n==="vertical")i=e.y,o=i,r=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,c=e.angle,f=eo(a,l,u,c),m=eo(a,l,d,c);r=f.x,i=f.y,s=m.x,o=m.y}else return uJ(e);return[{x:r,y:i},{x:s,y:o}]}function pb(n){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(n)}function jH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function T1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(t),!0).forEach(function(r){RMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RMe(n,e,t){return e=NMe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NMe(n){var e=IMe(n,"string");return pb(e)=="symbol"?e:e+""}function IMe(n,e){if(pb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OMe(n){var e,t,r=n.element,i=n.tooltipEventType,s=n.isActive,o=n.activeCoordinate,a=n.activePayload,l=n.offset,u=n.activeTooltipIndex,d=n.tooltipAxisBandSize,c=n.layout,f=n.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(t=r.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!r||!m||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,b=a0;if(f==="ScatterChart")v=o,b=_Se;else if(f==="BarChart")v=TMe(c,o,l,d),b=rB;else if(c==="radial"){var y=uJ(o),w=y.cx,A=y.cy,E=y.radius,C=y.startAngle,M=y.endAngle;v={cx:w,cy:A,startAngle:C,endAngle:M,innerRadius:E,outerRadius:E},b=mY}else v={points:PMe(c,o,l)},b=a0;var P=T1(T1(T1(T1({stroke:"#ccc",pointerEvents:"none"},l),v),ur(m,!1)),{},{payload:a,payloadIndex:u,className:yr("recharts-tooltip-cursor",m.className)});return B.isValidElement(m)?B.cloneElement(m,P):B.createElement(b,P)}var FMe=["item"],DMe=["children","className","width","height","style","compact","title","desc"];function j0(n){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(n)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hg.apply(this,arguments)}function UH(n,e){return LMe(n)||kMe(n,e)||fJ(n,e)||BMe()}function BMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function LMe(n){if(Array.isArray(n))return n}function zH(n,e){if(n==null)return{};var t=jMe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jMe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function UMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hJ(r.key),r)}}function HMe(n,e,t){return e&&zMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function GMe(n,e,t){return e=uA(e),VMe(n,dJ()?Reflect.construct(e,t||[],uA(n).constructor):e.apply(n,t))}function VMe(n,e){if(e&&(j0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WMe(n)}function WMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!n})()}function uA(n){return uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uA(n)}function $Me(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&RO(n,e)}function RO(n,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RO(n,e)}function U0(n){return KMe(n)||XMe(n)||fJ(n)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(n,e){if(n){if(typeof n=="string")return NO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return NO(n,e)}}function XMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function KMe(n){if(Array.isArray(n))return NO(n)}function NO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function HH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HH(Object(t),!0).forEach(function(r){Un(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Un(n,e,t){return e=hJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hJ(n){var e=YMe(n,"string");return j0(e)=="symbol"?e:e+""}function YMe(n,e){if(j0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var JMe={xAxis:["bottom","top"],yAxis:["left","right"]},ZMe={width:"100%",height:"100%"},pJ={x:0,y:0};function P1(n){return n}var QMe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},eTe=function(e,t,r,i){var s=t.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return gt(gt(gt({},i),eo(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return gt(gt(gt({},i),eo(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return pJ},vC=function(e,t){var r=t.graphicalItems,i=t.dataStartIndex,s=t.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(U0(a),U0(u)):a},[]);return o.length>0?o:e&&e.length&&$t(i)&&$t(s)?e.slice(i,s+1):[]};function mJ(n){return n==="number"?[0,"auto"]:void 0}var IO=function(e,t,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=vC(t,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var d,c=(d=u.props.data)!==null&&d!==void 0?d:t;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=c===void 0?a:c;f=fS(m,o.dataKey,i)}else f=c&&c[r]||a[r];return f?[].concat(U0(l),[fY(u,f)]):l},[])},GH=function(e,t,r,i){var s=i||{x:e.chartX,y:e.chartY},o=QMe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=r_e(o,a,u,l);if(d>=0&&u){var c=u[d]&&u[d].value,f=IO(e,t,d,c),m=eTe(r,a,d,s);return{activeTooltipIndex:d,activeLabel:c,activePayload:f,activeCoordinate:m}}return null},tTe=function(e,t){var r=t.axes,i=t.graphicalItems,s=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,u=t.dataEndIndex,d=e.layout,c=e.children,f=e.stackOffset,m=cY(d,s);return r.reduce(function(v,b){var y,w=b.type.defaultProps!==void 0?gt(gt({},b.type.defaultProps),b.props):b.props,A=w.type,E=w.dataKey,C=w.allowDataOverflow,M=w.allowDuplicatedCategory,P=w.scale,O=w.ticks,k=w.includeHidden,D=w[o];if(v[D])return v;var I=vC(e.data,{graphicalItems:i.filter(function(oe){var ye,Be=o in oe.props?oe.props[o]:(ye=oe.type.defaultProps)===null||ye===void 0?void 0:ye[o];return Be===D}),dataStartIndex:l,dataEndIndex:u}),L=I.length,W,q,K;MMe(w.domain,C,A)&&(W=KI(w.domain,null,C),m&&(A==="number"||P!=="auto")&&(K=ox(I,E,"category")));var ie=mJ(A);if(!W||W.length===0){var V,J=(V=w.domain)!==null&&V!==void 0?V:ie;if(E){if(W=ox(I,E,A),A==="category"&&m){var H=Khe(W);M&&H?(q=W,W=YS(0,L)):M||(W=Z8(J,W,b).reduce(function(oe,ye){return oe.indexOf(ye)>=0?oe:[].concat(U0(oe),[ye])},[]))}else if(A==="category")M?W=W.filter(function(oe){return oe!==""&&!pr(oe)}):W=Z8(J,W,b).reduce(function(oe,ye){return oe.indexOf(ye)>=0||ye===""||pr(ye)?oe:[].concat(U0(oe),[ye])},[]);else if(A==="number"){var Y=l_e(I,i.filter(function(oe){var ye,Be,Xe=o in oe.props?oe.props[o]:(ye=oe.type.defaultProps)===null||ye===void 0?void 0:ye[o],we="hide"in oe.props?oe.props.hide:(Be=oe.type.defaultProps)===null||Be===void 0?void 0:Be.hide;return Xe===D&&(k||!we)}),E,s,d);Y&&(W=Y)}m&&(A==="number"||P!=="auto")&&(K=ox(I,E,"category"))}else m?W=YS(0,L):a&&a[D]&&a[D].hasStack&&A==="number"?W=f==="expand"?[0,1]:dY(a[D].stackGroups,l,u):W=lY(I,i.filter(function(oe){var ye=o in oe.props?oe.props[o]:oe.type.defaultProps[o],Be="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return ye===D&&(k||!Be)}),A,d,!0);if(A==="number")W=PO(c,W,D,s,O),J&&(W=KI(J,W,C));else if(A==="category"&&J){var ne=J,Z=W.every(function(oe){return ne.indexOf(oe)>=0});Z&&(W=ne)}}return gt(gt({},v),{},Un({},D,gt(gt({},w),{},{axisType:s,domain:W,categoricalDomain:K,duplicateDomain:q,originalDomain:(y=w.domain)!==null&&y!==void 0?y:ie,isCategorical:m,layout:d})))},{})},nTe=function(e,t){var r=t.graphicalItems,i=t.Axis,s=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,u=t.dataEndIndex,d=e.layout,c=e.children,f=vC(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=f.length,v=cY(d,s),b=-1;return r.reduce(function(y,w){var A=w.type.defaultProps!==void 0?gt(gt({},w.type.defaultProps),w.props):w.props,E=A[o],C=mJ("number");if(!y[E]){b++;var M;return v?M=YS(0,m):a&&a[E]&&a[E].hasStack?(M=dY(a[E].stackGroups,l,u),M=PO(c,M,E,s)):(M=KI(C,lY(f,r.filter(function(P){var O,k,D=o in P.props?P.props[o]:(O=P.type.defaultProps)===null||O===void 0?void 0:O[o],I="hide"in P.props?P.props.hide:(k=P.type.defaultProps)===null||k===void 0?void 0:k.hide;return D===E&&!I}),"number",d),i.defaultProps.allowDataOverflow),M=PO(c,M,E,s)),gt(gt({},y),{},Un({},E,gt(gt({axisType:s},i.defaultProps),{},{hide:!0,orientation:vl(JMe,"".concat(s,".").concat(b%2),null),domain:M,originalDomain:C,isCategorical:v,layout:d})))}return y},{})},rTe=function(e,t){var r=t.axisType,i=r===void 0?"xAxis":r,s=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,l=t.dataStartIndex,u=t.dataEndIndex,d=e.children,c="".concat(i,"Id"),f=yl(d,s),m={};return f&&f.length?m=tTe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=nTe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},iTe=function(e){var t=Rf(e),r=ud(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:PD(r,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:US(t,r)}},VH=function(e){var t=e.children,r=e.defaultShowTooltip,i=Ia(t,P0),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},sTe=function(e){return!e||!e.length?!1:e.some(function(t){var r=fd(t&&t.type);return r&&r.indexOf("Bar")>=0})},WH=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oTe=function(e,t){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,d=r.height,c=r.children,f=r.margin||{},m=Ia(c,P0),v=Ia(c,uc),b=Object.keys(l).reduce(function(M,P){var O=l[P],k=O.orientation;return!O.mirror&&!O.hide?gt(gt({},M),{},Un({},k,M[k]+O.width)):M},{left:f.left||0,right:f.right||0}),y=Object.keys(o).reduce(function(M,P){var O=o[P],k=O.orientation;return!O.mirror&&!O.hide?gt(gt({},M),{},Un({},k,vl(M,"".concat(k))+O.height)):M},{top:f.top||0,bottom:f.bottom||0}),w=gt(gt({},y),b),A=w.bottom;m&&(w.bottom+=m.props.height||P0.defaultProps.height),v&&t&&(w=o_e(w,i,r,t));var E=u-w.left-w.right,C=d-w.top-w.bottom;return gt(gt({brushBottom:A},w),{},{width:Math.max(E,0),height:Math.max(C,0)})},aTe=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},pB=function(e){var t=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,c=e.defaultProps,f=function(w,A){var E=A.graphicalItems,C=A.stackGroups,M=A.offset,P=A.updateId,O=A.dataStartIndex,k=A.dataEndIndex,D=w.barSize,I=w.layout,L=w.barGap,W=w.barCategoryGap,q=w.maxBarSize,K=WH(I),ie=K.numericAxisName,V=K.cateAxisName,J=sTe(E),H=[];return E.forEach(function(Y,ne){var Z=vC(w.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:k}),oe=Y.type.defaultProps!==void 0?gt(gt({},Y.type.defaultProps),Y.props):Y.props,ye=oe.dataKey,Be=oe.maxBarSize,Xe=oe["".concat(ie,"Id")],we=oe["".concat(V,"Id")],Ae={},ke=l.reduce(function(st,ft){var ae=A["".concat(ft.axisType,"Map")],te=oe["".concat(ft.axisType,"Id")];ae&&ae[te]||ft.axisType==="zAxis"||im();var Ne=ae[te];return gt(gt({},st),{},Un(Un({},ft.axisType,Ne),"".concat(ft.axisType,"Ticks"),ud(Ne)))},Ae),Oe=ke[V],Ge=ke["".concat(V,"Ticks")],et=C&&C[Xe]&&C[Xe].hasStack&&b_e(Y,C[Xe].stackGroups),ze=fd(Y.type).indexOf("Bar")>=0,nt=US(Oe,Ge),Fe=[],ce=J&&i_e({barSize:D,stackGroups:C,totalSize:aTe(ke,V)});if(ze){var rt,ct,wt=pr(Be)?q:Be,Te=(rt=(ct=US(Oe,Ge,!0))!==null&&ct!==void 0?ct:wt)!==null&&rt!==void 0?rt:0;Fe=s_e({barGap:L,barCategoryGap:W,bandSize:Te!==nt?Te:nt,sizeList:ce[we],maxBarSize:wt}),Te!==nt&&(Fe=Fe.map(function(st){return gt(gt({},st),{},{position:gt(gt({},st.position),{},{offset:st.position.offset-Te/2})})}))}var tt=Y&&Y.type&&Y.type.getComposedData;tt&&H.push({props:gt(gt({},tt(gt(gt({},ke),{},{displayedData:Z,props:w,dataKey:ye,item:Y,bandSize:nt,barPosition:Fe,offset:M,stackedData:et,layout:I,dataStartIndex:O,dataEndIndex:k}))),{},Un(Un(Un({key:Y.key||"item-".concat(ne)},ie,ke[ie]),V,ke[V]),"animationId",P)),childIndex:ape(Y,w.children),item:Y})}),H},m=function(w,A){var E=w.props,C=w.dataStartIndex,M=w.dataEndIndex,P=w.updateId;if(!h4({props:E}))return null;var O=E.children,k=E.layout,D=E.stackOffset,I=E.data,L=E.reverseStackOrder,W=WH(k),q=W.numericAxisName,K=W.cateAxisName,ie=yl(O,r),V=v_e(I,ie,"".concat(q,"Id"),"".concat(K,"Id"),D,L),J=l.reduce(function(oe,ye){var Be="".concat(ye.axisType,"Map");return gt(gt({},oe),{},Un({},Be,rTe(E,gt(gt({},ye),{},{graphicalItems:ie,stackGroups:ye.axisType===q&&V,dataStartIndex:C,dataEndIndex:M}))))},{}),H=oTe(gt(gt({},J),{},{props:E,graphicalItems:ie}),A?.legendBBox);Object.keys(J).forEach(function(oe){J[oe]=d(E,J[oe],H,oe.replace("Map",""),t)});var Y=J["".concat(K,"Map")],ne=iTe(Y),Z=f(E,gt(gt({},J),{},{dataStartIndex:C,dataEndIndex:M,updateId:P,graphicalItems:ie,stackGroups:V,offset:H}));return gt(gt({formattedGraphicalItems:Z,graphicalItems:ie,offset:H,stackGroups:V},ne),J)},v=(function(y){function w(A){var E,C,M;return UMe(this,w),M=GMe(this,w,[A]),Un(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Un(M,"accessibilityManager",new CMe),Un(M,"handleLegendBBoxUpdate",function(P){if(P){var O=M.state,k=O.dataStartIndex,D=O.dataEndIndex,I=O.updateId;M.setState(gt({legendBBox:P},m({props:M.props,dataStartIndex:k,dataEndIndex:D,updateId:I},gt(gt({},M.state),{},{legendBBox:P}))))}}),Un(M,"handleReceiveSyncEvent",function(P,O,k){if(M.props.syncId===P){if(k===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(O)}}),Un(M,"handleBrushChange",function(P){var O=P.startIndex,k=P.endIndex;if(O!==M.state.dataStartIndex||k!==M.state.dataEndIndex){var D=M.state.updateId;M.setState(function(){return gt({dataStartIndex:O,dataEndIndex:k},m({props:M.props,dataStartIndex:O,dataEndIndex:k,updateId:D},M.state))}),M.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),Un(M,"handleMouseEnter",function(P){var O=M.getMouseInfo(P);if(O){var k=gt(gt({},O),{},{isTooltipActive:!0});M.setState(k),M.triggerSyncEvent(k);var D=M.props.onMouseEnter;ir(D)&&D(k,P)}}),Un(M,"triggeredAfterMouseMove",function(P){var O=M.getMouseInfo(P),k=O?gt(gt({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState(k),M.triggerSyncEvent(k);var D=M.props.onMouseMove;ir(D)&&D(k,P)}),Un(M,"handleItemMouseEnter",function(P){M.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Un(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),Un(M,"handleMouseMove",function(P){P.persist(),M.throttleTriggeredAfterMouseMove(P)}),Un(M,"handleMouseLeave",function(P){M.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};M.setState(O),M.triggerSyncEvent(O);var k=M.props.onMouseLeave;ir(k)&&k(O,P)}),Un(M,"handleOuterEvent",function(P){var O=ope(P),k=vl(M.props,"".concat(O));if(O&&ir(k)){var D,I;/.*touch.*/i.test(O)?I=M.getMouseInfo(P.changedTouches[0]):I=M.getMouseInfo(P),k((D=I)!==null&&D!==void 0?D:{},P)}}),Un(M,"handleClick",function(P){var O=M.getMouseInfo(P);if(O){var k=gt(gt({},O),{},{isTooltipActive:!0});M.setState(k),M.triggerSyncEvent(k);var D=M.props.onClick;ir(D)&&D(k,P)}}),Un(M,"handleMouseDown",function(P){var O=M.props.onMouseDown;if(ir(O)){var k=M.getMouseInfo(P);O(k,P)}}),Un(M,"handleMouseUp",function(P){var O=M.props.onMouseUp;if(ir(O)){var k=M.getMouseInfo(P);O(k,P)}}),Un(M,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Un(M,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&M.handleMouseDown(P.changedTouches[0])}),Un(M,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&M.handleMouseUp(P.changedTouches[0])}),Un(M,"handleDoubleClick",function(P){var O=M.props.onDoubleClick;if(ir(O)){var k=M.getMouseInfo(P);O(k,P)}}),Un(M,"handleContextMenu",function(P){var O=M.props.onContextMenu;if(ir(O)){var k=M.getMouseInfo(P);O(k,P)}}),Un(M,"triggerSyncEvent",function(P){M.props.syncId!==void 0&&oN.emit(aN,M.props.syncId,P,M.eventEmitterSymbol)}),Un(M,"applySyncEvent",function(P){var O=M.props,k=O.layout,D=O.syncMethod,I=M.state.updateId,L=P.dataStartIndex,W=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)M.setState(gt({dataStartIndex:L,dataEndIndex:W},m({props:M.props,dataStartIndex:L,dataEndIndex:W,updateId:I},M.state)));else if(P.activeTooltipIndex!==void 0){var q=P.chartX,K=P.chartY,ie=P.activeTooltipIndex,V=M.state,J=V.offset,H=V.tooltipTicks;if(!J)return;if(typeof D=="function")ie=D(H,P);else if(D==="value"){ie=-1;for(var Y=0;Y<H.length;Y++)if(H[Y].value===P.activeLabel){ie=Y;break}}var ne=gt(gt({},J),{},{x:J.left,y:J.top}),Z=Math.min(q,ne.x+ne.width),oe=Math.min(K,ne.y+ne.height),ye=H[ie]&&H[ie].value,Be=IO(M.state,M.props.data,ie),Xe=H[ie]?{x:k==="horizontal"?H[ie].coordinate:Z,y:k==="horizontal"?oe:H[ie].coordinate}:pJ;M.setState(gt(gt({},P),{},{activeLabel:ye,activeCoordinate:Xe,activePayload:Be,activeTooltipIndex:ie}))}else M.setState(P)}),Un(M,"renderCursor",function(P){var O,k=M.state,D=k.isTooltipActive,I=k.activeCoordinate,L=k.activePayload,W=k.offset,q=k.activeTooltipIndex,K=k.tooltipAxisBandSize,ie=M.getTooltipEventType(),V=(O=P.props.active)!==null&&O!==void 0?O:D,J=M.props.layout,H=P.key||"_recharts-cursor";return ue.createElement(OMe,{key:H,activeCoordinate:I,activePayload:L,activeTooltipIndex:q,chartName:t,element:P,isActive:V,layout:J,offset:W,tooltipAxisBandSize:K,tooltipEventType:ie})}),Un(M,"renderPolarAxis",function(P,O,k){var D=vl(P,"type.axisType"),I=vl(M.state,"".concat(D,"Map")),L=P.type.defaultProps,W=L!==void 0?gt(gt({},L),P.props):P.props,q=I&&I[W["".concat(D,"Id")]];return B.cloneElement(P,gt(gt({},q),{},{className:yr(D,q.className),key:P.key||"".concat(O,"-").concat(k),ticks:ud(q,!0)}))}),Un(M,"renderPolarGrid",function(P){var O=P.props,k=O.radialLines,D=O.polarAngles,I=O.polarRadius,L=M.state,W=L.radiusAxisMap,q=L.angleAxisMap,K=Rf(W),ie=Rf(q),V=ie.cx,J=ie.cy,H=ie.innerRadius,Y=ie.outerRadius;return B.cloneElement(P,{polarAngles:Array.isArray(D)?D:ud(ie,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(I)?I:ud(K,!0).map(function(ne){return ne.coordinate}),cx:V,cy:J,innerRadius:H,outerRadius:Y,key:P.key||"polar-grid",radialLines:k})}),Un(M,"renderLegend",function(){var P=M.state.formattedGraphicalItems,O=M.props,k=O.children,D=O.width,I=O.height,L=M.props.margin||{},W=D-(L.left||0)-(L.right||0),q=oY({children:k,formattedGraphicalItems:P,legendWidth:W,legendContent:u});if(!q)return null;var K=q.item,ie=zH(q,FMe);return B.cloneElement(K,gt(gt({},ie),{},{chartWidth:D,chartHeight:I,margin:L,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),Un(M,"renderTooltip",function(){var P,O=M.props,k=O.children,D=O.accessibilityLayer,I=Ia(k,di);if(!I)return null;var L=M.state,W=L.isTooltipActive,q=L.activeCoordinate,K=L.activePayload,ie=L.activeLabel,V=L.offset,J=(P=I.props.active)!==null&&P!==void 0?P:W;return B.cloneElement(I,{viewBox:gt(gt({},V),{},{x:V.left,y:V.top}),active:J,label:ie,payload:J?K:[],coordinate:q,accessibilityLayer:D})}),Un(M,"renderBrush",function(P){var O=M.props,k=O.margin,D=O.data,I=M.state,L=I.offset,W=I.dataStartIndex,q=I.dataEndIndex,K=I.updateId;return B.cloneElement(P,{key:P.key||"_recharts-brush",onChange:A1(M.handleBrushChange,P.props.onChange),data:D,x:$t(P.props.x)?P.props.x:L.left,y:$t(P.props.y)?P.props.y:L.top+L.height+L.brushBottom-(k.bottom||0),width:$t(P.props.width)?P.props.width:L.width,startIndex:W,endIndex:q,updateId:"brush-".concat(K)})}),Un(M,"renderReferenceElement",function(P,O,k){if(!P)return null;var D=M,I=D.clipPathId,L=M.state,W=L.xAxisMap,q=L.yAxisMap,K=L.offset,ie=P.type.defaultProps||{},V=P.props,J=V.xAxisId,H=J===void 0?ie.xAxisId:J,Y=V.yAxisId,ne=Y===void 0?ie.yAxisId:Y;return B.cloneElement(P,{key:P.key||"".concat(O,"-").concat(k),xAxis:W[H],yAxis:q[ne],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:I})}),Un(M,"renderActivePoints",function(P){var O=P.item,k=P.activePoint,D=P.basePoint,I=P.childIndex,L=P.isRange,W=[],q=O.props.key,K=O.item.type.defaultProps!==void 0?gt(gt({},O.item.type.defaultProps),O.item.props):O.item.props,ie=K.activeDot,V=K.dataKey,J=gt(gt({index:I,dataKey:V,cx:k.x,cy:k.y,r:4,fill:nB(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ur(ie,!1)),hS(ie));return W.push(w.renderActiveDot(ie,J,"".concat(q,"-activePoint-").concat(I))),D?W.push(w.renderActiveDot(ie,gt(gt({},J),{},{cx:D.x,cy:D.y}),"".concat(q,"-basePoint-").concat(I))):L&&W.push(null),W}),Un(M,"renderGraphicChild",function(P,O,k){var D=M.filterFormatItem(P,O,k);if(!D)return null;var I=M.getTooltipEventType(),L=M.state,W=L.isTooltipActive,q=L.tooltipAxis,K=L.activeTooltipIndex,ie=L.activeLabel,V=M.props.children,J=Ia(V,di),H=D.props,Y=H.points,ne=H.isRange,Z=H.baseLine,oe=D.item.type.defaultProps!==void 0?gt(gt({},D.item.type.defaultProps),D.item.props):D.item.props,ye=oe.activeDot,Be=oe.hide,Xe=oe.activeBar,we=oe.activeShape,Ae=!!(!Be&&W&&J&&(ye||Xe||we)),ke={};I!=="axis"&&J&&J.props.trigger==="click"?ke={onClick:A1(M.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(ke={onMouseLeave:A1(M.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:A1(M.handleItemMouseEnter,P.props.onMouseEnter)});var Oe=B.cloneElement(P,gt(gt({},D.props),ke));function Ge(ft){return typeof q.dataKey=="function"?q.dataKey(ft.payload):null}if(Ae)if(K>=0){var et,ze;if(q.dataKey&&!q.allowDuplicatedCategory){var nt=typeof q.dataKey=="function"?Ge:"payload.".concat(q.dataKey.toString());et=fS(Y,nt,ie),ze=ne&&Z&&fS(Z,nt,ie)}else et=Y?.[K],ze=ne&&Z&&Z[K];if(we||Xe){var Fe=P.props.activeIndex!==void 0?P.props.activeIndex:K;return[B.cloneElement(P,gt(gt(gt({},D.props),ke),{},{activeIndex:Fe})),null,null]}if(!pr(et))return[Oe].concat(U0(M.renderActivePoints({item:D,activePoint:et,basePoint:ze,childIndex:K,isRange:ne})))}else{var ce,rt=(ce=M.getItemByXY(M.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:Oe},ct=rt.graphicalItem,wt=ct.item,Te=wt===void 0?P:wt,tt=ct.childIndex,st=gt(gt(gt({},D.props),ke),{},{activeIndex:tt});return[B.cloneElement(Te,st),null,null]}return ne?[Oe,null,null]:[Oe,null]}),Un(M,"renderCustomized",function(P,O,k){return B.cloneElement(P,gt(gt({key:"recharts-customized-".concat(k)},M.props),M.state))}),Un(M,"renderMap",{CartesianGrid:{handler:P1,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:P1},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:P1},YAxis:{handler:P1},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((E=A.id)!==null&&E!==void 0?E:gv("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=oK(M.triggeredAfterMouseMove,(C=A.throttleDelay)!==null&&C!==void 0?C:1e3/60),M.state={},M}return $Me(w,y),HMe(w,[{key:"componentDidMount",value:function(){var E,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,C=E.children,M=E.data,P=E.height,O=E.layout,k=Ia(C,di);if(k){var D=k.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,L=IO(this.state,M,D,I),W=this.state.tooltipTicks[D].coordinate,q=(this.state.offset.top+P)/2,K=O==="horizontal",ie=K?{x:W,y:q}:{y:W,x:q},V=this.state.formattedGraphicalItems.find(function(H){var Y=H.item;return Y.type.name==="Scatter"});V&&(ie=gt(gt({},ie),V.props.points[D].tooltipPosition),L=V.props.points[D].tooltipPayload);var J={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:I,activePayload:L,activeCoordinate:ie};this.setState(J),this.renderCursor(k),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var M,P;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(E){vI([Ia(E.children,di)],[Ia(this.props.children,di)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Ia(this.props.children,di);if(E&&typeof E.props.shared=="boolean"){var C=E.props.shared?"axis":"item";return a.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var C=this.container,M=C.getBoundingClientRect(),P=q0e(M),O={chartX:Math.round(E.pageX-P.left),chartY:Math.round(E.pageY-P.top)},k=M.width/C.offsetWidth||1,D=this.inRange(O.chartX,O.chartY,k);if(!D)return null;var I=this.state,L=I.xAxisMap,W=I.yAxisMap,q=this.getTooltipEventType(),K=GH(this.state,this.props.data,this.props.layout,D);if(q!=="axis"&&L&&W){var ie=Rf(L).scale,V=Rf(W).scale,J=ie&&ie.invert?ie.invert(O.chartX):null,H=V&&V.invert?V.invert(O.chartY):null;return gt(gt({},O),{},{xValue:J,yValue:H},K)}return K?gt(gt({},O),K):null}},{key:"inRange",value:function(E,C){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=E/M,k=C/M;if(P==="horizontal"||P==="vertical"){var D=this.state.offset,I=O>=D.left&&O<=D.left+D.width&&k>=D.top&&k<=D.top+D.height;return I?{x:O,y:k}:null}var L=this.state,W=L.angleAxisMap,q=L.radiusAxisMap;if(W&&q){var K=Rf(W);return tz({x:O,y:k},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,C=this.getTooltipEventType(),M=Ia(E,di),P={};M&&C==="axis"&&(M.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=hS(this.props,this.handleOuterEvent);return gt(gt({},O),P)}},{key:"addListener",value:function(){oN.on(aN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oN.removeListener(aN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,C,M){for(var P=this.state.formattedGraphicalItems,O=0,k=P.length;O<k;O++){var D=P[O];if(D.item===E||D.props.key===E.key||C===fd(D.item.type)&&M===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,C=this.state.offset,M=C.left,P=C.top,O=C.height,k=C.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:E},ue.createElement("rect",{x:M,y:P,height:O,width:k})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(C,M){var P=UH(M,2),O=P[0],k=P[1];return gt(gt({},C),{},Un({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(C,M){var P=UH(M,2),O=P[0],k=P[1];return gt(gt({},C),{},Un({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(E){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(E){var C=this.state,M=C.formattedGraphicalItems,P=C.activeItem;if(M&&M.length)for(var O=0,k=M.length;O<k;O++){var D=M[O],I=D.props,L=D.item,W=L.type.defaultProps!==void 0?gt(gt({},L.type.defaultProps),L.props):L.props,q=fd(L.type);if(q==="Bar"){var K=(I.data||[]).find(function(H){return dSe(E,H)});if(K)return{graphicalItem:D,payload:K}}else if(q==="RadialBar"){var ie=(I.data||[]).find(function(H){return tz(E,H)});if(ie)return{graphicalItem:D,payload:ie}}else if(uC(D,P)||dC(D,P)||lb(D,P)){var V=tAe({graphicalItem:D,activeTooltipItem:P,itemData:W.data}),J=W.activeIndex===void 0?V:W.activeIndex;return{graphicalItem:gt(gt({},D),{},{childIndex:J}),payload:lb(D,P)?W.data[V]:D.props.data[V]}}}return null}},{key:"render",value:function(){var E=this;if(!h4(this))return null;var C=this.props,M=C.children,P=C.className,O=C.width,k=C.height,D=C.style,I=C.compact,L=C.title,W=C.desc,q=zH(C,DMe),K=ur(q,!1);if(I)return ue.createElement(xH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(xI,Hg({},K,{width:O,height:k,title:L,desc:W}),this.renderClipPath(),m4(M,this.renderMap)));if(this.props.accessibilityLayer){var ie,V;K.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,K.role=(V=this.props.role)!==null&&V!==void 0?V:"application",K.onKeyDown=function(H){E.accessibilityManager.keyboardEvent(H)},K.onFocus=function(){E.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ue.createElement(xH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",Hg({className:yr("recharts-wrapper",P),style:gt({position:"relative",cursor:"default",width:O,height:k},D)},J,{ref:function(Y){E.container=Y}}),ue.createElement(xI,Hg({},K,{width:O,height:k,title:L,desc:W,style:ZMe}),this.renderClipPath(),m4(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(B.Component);Un(v,"displayName",t),Un(v,"defaultProps",gt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),Un(v,"getDerivedStateFromProps",function(y,w){var A=y.dataKey,E=y.data,C=y.children,M=y.width,P=y.height,O=y.layout,k=y.stackOffset,D=y.margin,I=w.dataStartIndex,L=w.dataEndIndex;if(w.updateId===void 0){var W=VH(y);return gt(gt(gt({},W),{},{updateId:0},m(gt(gt({props:y},W),{},{updateId:0}),w)),{},{prevDataKey:A,prevData:E,prevWidth:M,prevHeight:P,prevLayout:O,prevStackOffset:k,prevMargin:D,prevChildren:C})}if(A!==w.prevDataKey||E!==w.prevData||M!==w.prevWidth||P!==w.prevHeight||O!==w.prevLayout||k!==w.prevStackOffset||!i0(D,w.prevMargin)){var q=VH(y),K={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},ie=gt(gt({},GH(w,E,O)),{},{updateId:w.updateId+1}),V=gt(gt(gt({},q),K),ie);return gt(gt(gt({},V),m(gt({props:y},V),w)),{},{prevDataKey:A,prevData:E,prevWidth:M,prevHeight:P,prevLayout:O,prevStackOffset:k,prevMargin:D,prevChildren:C})}if(!vI(C,w.prevChildren)){var J,H,Y,ne,Z=Ia(C,P0),oe=Z&&(J=(H=Z.props)===null||H===void 0?void 0:H.startIndex)!==null&&J!==void 0?J:I,ye=Z&&(Y=(ne=Z.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Y!==void 0?Y:L,Be=oe!==I||ye!==L,Xe=!pr(E),we=Xe&&!Be?w.updateId:w.updateId+1;return gt(gt({updateId:we},m(gt(gt({props:y},w),{},{updateId:we,dataStartIndex:oe,dataEndIndex:ye}),w)),{},{prevChildren:C,dataStartIndex:oe,dataEndIndex:ye})}return null}),Un(v,"renderActiveDot",function(y,w,A){var E;return B.isValidElement(y)?E=B.cloneElement(y,w):ir(y)?E=y(w):E=ue.createElement(cC,w),ue.createElement(si,{className:"recharts-active-dot",key:A},E)});var b=B.forwardRef(function(w,A){return ue.createElement(v,Hg({},w,{ref:A}))});return b.displayName=v.displayName,b},cu=pB({chartName:"LineChart",GraphicalChild:As,axisComponents:[{axisType:"xAxis",AxisComp:qi},{axisType:"yAxis",AxisComp:Xi}],formatAxisMap:iB}),yC=pB({chartName:"BarChart",GraphicalChild:vu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qi},{axisType:"yAxis",AxisComp:Xi}],formatAxisMap:iB}),mB=pB({chartName:"AreaChart",GraphicalChild:yu,axisComponents:[{axisType:"xAxis",AxisComp:qi},{axisType:"yAxis",AxisComp:Xi}],formatAxisMap:iB});const lTe=[{date:"Oct 25",adherence:85,performance:78},{date:"Oct 26",adherence:88,performance:82},{date:"Oct 27",adherence:92,performance:85},{date:"Oct 28",adherence:87,performance:88},{date:"Oct 29",adherence:95,performance:91},{date:"Oct 30",adherence:91,performance:89},{date:"Oct 31",adherence:94,performance:93},{date:"Nov 1",adherence:96,performance:95}],cTe=[{date:"Oct 19",pain:7},{date:"Oct 21",pain:6.5},{date:"Oct 23",pain:6},{date:"Oct 25",pain:5.5},{date:"Oct 27",pain:5},{date:"Oct 29",pain:4},{date:"Oct 31",pain:3.5},{date:"Nov 1",pain:3}],uTe=[{week:"Week 1",xp:120},{week:"Week 2",xp:180},{week:"Week 3",xp:240},{week:"Week 4",xp:320}],dTe=[{name:"Shoulder Rotation",sets:3,reps:10,completed:!1},{name:"Neck Mobility",sets:2,reps:8,completed:!0},{name:"Upper Back Stretch",sets:2,reps:12,completed:!1}];function fTe(){return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Hi Rose , ready to recover today?"}),p.jsx("p",{className:"text-gray-600",children:"Let's continue your shoulder rehabilitation journey"})]}),p.jsxs(hr,{className:"bg-gradient-to-r from-[#4DD2C1] to-[#2C2E6F] text-white px-4 py-2",children:[p.jsx(Ex,{className:"w-4 h-4 mr-2"}),"Level 4: Resilience Builder"]})]}),p.jsx(Dt,{className:"border-0 bg-gradient-to-r from-[#2C2E6F] to-[#4a4f9e] shadow-xl shadow-[#2C2E6F]/20",children:p.jsx(Bt,{className:"p-6",children:p.jsx("p",{className:"text-white text-center text-lg",children:'"Small steps today, stronger tomorrow "'})})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(Dt,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Bt,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#E9E6F9] rounded-xl flex items-center justify-center",children:p.jsx(pm,{className:"w-6 h-6 text-[#2C2E6F]"})}),p.jsx(ma,{className:"w-4 h-4 text-green-500"})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Exercise Adherence"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"96%"}),p.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+8% this week"})]})}),p.jsx(Dt,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Bt,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4DD2C1] to-[#3bc1b0] rounded-xl flex items-center justify-center",children:p.jsx(Mx,{className:"w-6 h-6 text-white"})}),p.jsx(ma,{className:"w-4 h-4 text-green-500"})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Performance Score"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"95%"}),p.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Excellent form!"})]})}),p.jsx(Dt,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Bt,{className:"p-6",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF8A73] to-[#ff7a5c] rounded-xl flex items-center justify-center",children:p.jsx(zF,{className:"w-6 h-6 text-white"})})}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completion Rate"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"94%"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"28 of 30 sessions"})]})}),p.jsx(Dt,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Bt,{className:"p-6",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-500 rounded-xl flex items-center justify-center",children:p.jsx(bE,{className:"w-6 h-6 text-white"})})}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Streak Days"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"12 "}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Keep it going!"})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Exercise Adherence & Performance"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:250,children:p.jsxs(cu,{data:lTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(di,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#2C2E6F",strokeWidth:3,name:"Adherence (%)",dot:{fill:"#2C2E6F",r:4}}),p.jsx(As,{type:"monotone",dataKey:"performance",stroke:"#4DD2C1",strokeWidth:3,name:"Performance (%)",dot:{fill:"#4DD2C1",r:4}})]})})})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Pain Trend (14 Days)"})}),p.jsxs(Bt,{children:[p.jsx(to,{width:"100%",height:250,children:p.jsxs(mB,{data:cTe,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#FF8A73",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#FF8A73",stopOpacity:0})]})}),p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"},domain:[0,10]}),p.jsx(di,{}),p.jsx(yu,{type:"monotone",dataKey:"pain",stroke:"#FF8A73",strokeWidth:3,fill:"url(#painGradient)",name:"Pain Level"})]})}),p.jsxs("div",{className:"mt-4 flex items-center justify-between px-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Starting Pain"}),p.jsx("p",{className:"text-[#FF8A73]",children:"7/10"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Current Pain"}),p.jsx("p",{className:"text-green-600",children:"3/10"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Improvement"}),p.jsx("p",{className:"text-green-600",children:"-57%"})]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"XP Level Progress"})}),p.jsxs(Bt,{children:[p.jsx(to,{width:"100%",height:250,children:p.jsxs(yC,{data:uTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"week",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(di,{}),p.jsx(vu,{dataKey:"xp",fill:"#2C2E6F",radius:[8,8,0,0]})]})}),p.jsxs("div",{className:"mt-4 space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Level 4 Progress"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"320 / 500 XP"})]}),p.jsx(em,{value:64,className:"h-2"}),p.jsx("p",{className:"text-xs text-gray-500",children:"180 XP until Level 5: Champion"})]})]})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Today's Exercise Plan"})}),p.jsxs(Bt,{className:"space-y-3",children:[dTe.map((n,e)=>p.jsx("div",{className:"p-4 rounded-xl border border-gray-200 hover:border-[#2C2E6F] transition-colors",children:p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[n.completed?p.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):p.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"}),p.jsxs("div",{children:[p.jsx("h4",{className:n.completed?"text-gray-400 line-through":"text-[#2C2E6F]",children:n.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:[n.sets," sets  ",n.reps," reps"]})]})]}),!n.completed&&p.jsxs(zt,{size:"sm",className:"bg-[#4DD2C1] hover:bg-[#3bc1b0] text-white",children:[p.jsx(i$,{className:"w-4 h-4 mr-1"}),"Start"]})]})},e)),p.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Daily Progress"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"1 of 3 complete"})]}),p.jsx(em,{value:33,className:"h-2"})]})]})]})]}),p.jsx(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Bt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-600 mb-1",children:"AI Predicted Recovery Date"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"December 15, 2025"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Based on your current progress, you're ahead of schedule! "})]}),p.jsx("div",{className:"text-right",children:p.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-2xl text-[#2C2E6F]",children:"44"}),p.jsx("p",{className:"text-xs text-gray-600",children:"days"})]})})})]})})})]})}const R1="exercise_progress",Bf={getExercises(){const n=[{id:"ex-001",name:"Shoulder Rotation",sets:"3",reps:"10",difficulty:"Intermediate",tags:["Shoulder","Mobility"],description:"Improve shoulder range of motion and rotator cuff strength",instructions:["Stand with feet shoulder-width apart, arms at your sides","Raise your arms to shoulder height, keeping elbows bent at 90","Slowly rotate your shoulders forward, then backward","Maintain controlled movement throughout the exercise"],progress:67,completedSessions:2,totalSessions:3},{id:"ex-002",name:"Pec Stretch",sets:"3",reps:"30s",difficulty:"Beginner",tags:["Shoulder","Chest","Posture"],description:"Open chest and improve rounded shoulder posture",instructions:["Stand in a doorway with your arm raised to 90 degrees","Place your forearm against the door frame","Gently lean forward until you feel a stretch in your chest","Hold for 30 seconds and breathe deeply"],progress:100,completedSessions:3,totalSessions:3},{id:"ex-003",name:"Neck Retraction",sets:"3",reps:"10",difficulty:"Beginner",tags:["Neck","Posture"],description:"Improve cervical alignment and reduce neck strain",instructions:["Sit or stand with good posture, looking straight ahead","Gently draw your chin straight back, creating a double chin","Hold for 5 seconds, keeping your eyes level","Return to starting position and repeat"],progress:33,completedSessions:1,totalSessions:3},{id:"ex-004",name:"Scapular Squeeze",sets:"3",reps:"15",difficulty:"Intermediate",tags:["Shoulder","Back","Strength"],description:"Strengthen upper back muscles for better posture",instructions:["Sit or stand with arms at your sides","Squeeze your shoulder blades together","Hold for 3 seconds while keeping shoulders down","Release slowly and repeat"],progress:0,completedSessions:0,totalSessions:5},{id:"ex-005",name:"Wall Push-Up",sets:"2",reps:"12",difficulty:"Beginner",tags:["Shoulder","Chest","Strength"],description:"Build shoulder and chest strength with controlled movement",instructions:["Stand facing a wall, arms length away","Place hands on wall at shoulder height","Lower your body towards the wall, keeping core engaged","Push back to starting position"],progress:50,completedSessions:1,totalSessions:2},{id:"ex-006",name:"Upper Back Stretch",sets:"2",reps:"30s",difficulty:"Beginner",tags:["Back","Posture","Mobility"],description:"Relieve tension in upper back and shoulders",instructions:["Stand with feet shoulder-width apart","Interlace fingers behind your head","Gently pull elbows back to stretch upper back","Hold for 30 seconds and breathe deeply"],progress:67,completedSessions:2,totalSessions:3}];try{const e=localStorage.getItem(R1);if(e){const t=JSON.parse(e);return n.map(r=>{const i=t[r.id];if(i){const s=i.completedSessions,o=Math.min(100,Math.round(s/r.totalSessions*100));return{...r,completedSessions:s,progress:o}}return{...r,completedSessions:0,progress:0}})}}catch{}return n.map(e=>({...e,completedSessions:0,progress:0}))},completeSession(n){try{const t=[{id:"ex-001",name:"Shoulder Rotation",sets:"3",reps:"10",difficulty:"Intermediate",tags:["Shoulder","Mobility"],description:"Improve shoulder range of motion and rotator cuff strength",instructions:["Stand with feet shoulder-width apart, arms at your sides","Raise your arms to shoulder height, keeping elbows bent at 90","Slowly rotate your shoulders forward, then backward","Maintain controlled movement throughout the exercise"],progress:67,completedSessions:2,totalSessions:3},{id:"ex-002",name:"Pec Stretch",sets:"3",reps:"30s",difficulty:"Beginner",tags:["Shoulder","Chest","Posture"],description:"Open chest and improve rounded shoulder posture",instructions:["Stand in a doorway with your arm raised to 90 degrees","Place your forearm against the door frame","Gently lean forward until you feel a stretch in your chest","Hold for 30 seconds and breathe deeply"],progress:100,completedSessions:3,totalSessions:3},{id:"ex-003",name:"Neck Retraction",sets:"3",reps:"10",difficulty:"Beginner",tags:["Neck","Posture"],description:"Improve cervical alignment and reduce neck strain",instructions:["Sit or stand with good posture, looking straight ahead","Gently draw your chin straight back, creating a double chin","Hold for 5 seconds, keeping your eyes level","Return to starting position and repeat"],progress:33,completedSessions:1,totalSessions:3},{id:"ex-004",name:"Scapular Squeeze",sets:"3",reps:"15",difficulty:"Intermediate",tags:["Shoulder","Back","Strength"],description:"Strengthen upper back muscles for better posture",instructions:["Sit or stand with arms at your sides","Squeeze your shoulder blades together","Hold for 3 seconds while keeping shoulders down","Release slowly and repeat"],progress:0,completedSessions:0,totalSessions:5},{id:"ex-005",name:"Wall Push-Up",sets:"2",reps:"12",difficulty:"Beginner",tags:["Shoulder","Chest","Strength"],description:"Build shoulder and chest strength with controlled movement",instructions:["Stand facing a wall, arms length away","Place hands on wall at shoulder height","Lower your body towards the wall, keeping core engaged","Push back to starting position"],progress:50,completedSessions:1,totalSessions:2},{id:"ex-006",name:"Upper Back Stretch",sets:"2",reps:"30s",difficulty:"Beginner",tags:["Back","Posture","Mobility"],description:"Relieve tension in upper back and shoulders",instructions:["Stand with feet shoulder-width apart","Interlace fingers behind your head","Gently pull elbows back to stretch upper back","Hold for 30 seconds and breathe deeply"],progress:67,completedSessions:2,totalSessions:3}].find(c=>c.id===n);if(!t)return null;const r=localStorage.getItem(R1),i=r?JSON.parse(r):{},s=i[n]?.completedSessions,o=s!==void 0?s:0,a=Math.min(o+1,t.totalSessions);if(a===o&&o>=t.totalSessions)return{id:t.id,name:t.name,sets:t.sets,reps:t.reps,difficulty:t.difficulty,tags:t.tags,description:t.description,instructions:t.instructions,completedSessions:o,totalSessions:t.totalSessions,progress:100};const l=Math.min(100,Math.round(a/t.totalSessions*100));i[n]={completedSessions:a},localStorage.setItem(R1,JSON.stringify(i));const u=localStorage.getItem(R1);if(u){const f=JSON.parse(u)[n]?.completedSessions}return{id:t.id,name:t.name,sets:t.sets,reps:t.reps,difficulty:t.difficulty,tags:t.tags,description:t.description,instructions:t.instructions,completedSessions:a,totalSessions:t.totalSessions,progress:l}}catch{return null}},getExerciseById(n){return this.getExercises().find(t=>t.id===n)||null}},$H=[{day:"Mon",mood:3},{day:"Tue",mood:2},{day:"Wed",mood:3},{day:"Thu",mood:2},{day:"Fri",mood:3},{day:"Sat",mood:3},{day:"Sun",mood:0}];function hTe(){const[n,e]=B.useState(null),[t,r]=B.useState(!1),i=a=>{e(a);const u=$H.slice(-3).map(d=>d.mood).filter(d=>d===1).length>=2;a===1&&u&&setTimeout(()=>r(!0),500)},s=[{value:3,emoji:"",label:"Good",color:"bg-[#3ECF8E]",hoverColor:"hover:bg-[#3ECF8E]/20"},{value:2,emoji:"",label:"Okay",color:"bg-[#6F66FF]",hoverColor:"hover:bg-[#6F66FF]/20"},{value:1,emoji:"",label:"Tired",color:"bg-[#F87171]",hoverColor:"hover:bg-[#F87171]/20"}],o=$H.filter(a=>a.mood>0);return p.jsxs(p.Fragment,{children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(cn,{className:"pb-3",children:[p.jsx(dn,{className:"text-lg flex items-center gap-2",children:" Mood & Energy Check-In"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"How are you feeling today?"})]}),p.jsxs(Bt,{children:[p.jsx("div",{className:"flex gap-3 mb-4",children:s.map(a=>p.jsxs("button",{onClick:()=>i(a.value),className:`flex-1 rounded-xl p-4 border-2 transition-all ${n===a.value?`${a.color} border-transparent text-white`:`border-[#1B1E3D]/10 ${a.hoverColor}`}`,children:[p.jsx("div",{className:"text-3xl mb-1",children:a.emoji}),p.jsx("div",{className:"text-sm",children:a.label})]},a.value))}),p.jsxs("div",{className:"pt-3 border-t border-[#1B1E3D]/10",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{className:"text-xs text-[#1B1E3D]/60",children:"Mood Trend (7 days)"}),p.jsxs(kE,{children:[p.jsx(Kfe,{asChild:!0,children:p.jsxs("button",{className:"text-xs text-[#6F66FF] hover:underline flex items-center gap-1",children:["View Insights",p.jsx(ma,{size:12})]})}),p.jsxs(LE,{className:"max-w-2xl",children:[p.jsxs(jE,{children:[p.jsx(UE,{children:"Mood & Energy Insights"}),p.jsx(zE,{children:"Track your mood trends over time to understand patterns in your recovery journey."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(to,{width:"100%",height:200,children:p.jsxs(cu,{data:o,children:[p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{domain:[0,3],ticks:[1,2,3],stroke:"#1B1E3D",opacity:.6}),p.jsx(di,{}),p.jsx(As,{type:"monotone",dataKey:"mood",stroke:"#6F66FF",strokeWidth:3,dot:{fill:"#6F66FF",r:5}})]})}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-[#3ECF8E]/10 rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl mb-1",children:o.filter(a=>a.mood===3).length}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Good Days"})]}),p.jsxs("div",{className:"bg-[#6F66FF]/10 rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl mb-1",children:o.filter(a=>a.mood===2).length}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Okay Days"})]}),p.jsxs("div",{className:"bg-[#F87171]/10 rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl mb-1",children:o.filter(a=>a.mood===1).length}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Tired Days"})]})]}),p.jsx("div",{className:"bg-[#F9F9FB] rounded-xl p-4 border border-[#1B1E3D]/10",children:p.jsxs("p",{className:"text-sm text-[#1B1E3D]/70",children:[p.jsx("span",{className:"text-[#6F66FF]",children:"AI Insight:"})," Your mood has been consistently positive this week! This correlates with your high adherence rate. Keep up the great work! "]})})]})]})]})]}),p.jsx(to,{width:"100%",height:60,children:p.jsx(cu,{data:o,children:p.jsx(As,{type:"monotone",dataKey:"mood",stroke:"#6F66FF",strokeWidth:2,dot:!1})})})]})]})]}),t&&p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsx(Dt,{className:"rounded-2xl shadow-2xl max-w-md mx-4 border-2 border-[#6F66FF]",children:p.jsx(Bt,{className:"pt-6 pb-6",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] mx-auto mb-4 flex items-center justify-center text-3xl",children:""}),p.jsx("h3",{className:"text-xl mb-3",children:"We're here for you"}),p.jsx("p",{className:"text-[#1B1E3D]/70 mb-6",children:"We noticed you've been feeling tired lately. Recovery isn't always linear, and that's okay. Remember why you started this journey. You're doing better than you think! "}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-[#F9F9FB] rounded-xl hover:bg-[#6F66FF]/10 transition-colors",children:"Thanks"}),p.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] text-white rounded-xl hover:opacity-90 transition-opacity",children:"Read My Letter"})]})]})})})})]})}function pTe(){const[n,e]=B.useState(!1),[t,r]=B.useState([{id:"1",time:"10:00 AM",exercise:"Neck Retractions",details:"310 reps",status:"done"},{id:"2",time:"02:00 PM",exercise:"Shoulder Rotation",details:"310 reps",status:"pending"},{id:"3",time:"06:00 PM",exercise:"Pec Stretch",details:"330s",status:"pending"}]),i=(a,l)=>{r(t.map(u=>u.id===a?{...u,status:l}:u))},s=a=>{switch(a){case"done":return p.jsx(Cx,{className:"text-[#3ECF8E]",size:16});case"skipped":return p.jsx(Lae,{className:"text-[#F87171]",size:16});case"rescheduled":return p.jsx(Rj,{className:"text-[#6F66FF]",size:16});default:return p.jsx(rx,{className:"text-[#1B1E3D]/40",size:16})}},o=a=>{switch(a){case"done":return p.jsx(hr,{className:"bg-[#3ECF8E] text-white text-xs",children:"Done"});case"skipped":return p.jsx(hr,{className:"bg-[#F87171] text-white text-xs",children:"Skipped"});case"rescheduled":return p.jsx(hr,{className:"bg-[#6F66FF] text-white text-xs",children:"Rescheduled"});default:return p.jsx(hr,{variant:"outline",className:"text-xs",children:"Pending"})}};return n?p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(dn,{className:"text-lg flex items-center gap-2",children:" Today's Schedule"}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:[p.jsxs("span",{className:"inline-flex items-center gap-1",children:[p.jsx(Tj,{size:12,className:"text-[#3ECF8E]"}),p.jsx("span",{className:"text-[#3ECF8E]",children:"Connected"})]}),"  3 exercises planned"]})]}),p.jsx(zt,{variant:"outline",size:"sm",className:"rounded-lg",children:"Manage"})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"space-y-3",children:t.map(a=>p.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${a.status==="done"?"bg-[#3ECF8E]/5 border-[#3ECF8E]/20":a.status==="skipped"?"bg-[#F87171]/5 border-[#F87171]/20":a.status==="rescheduled"?"bg-[#6F66FF]/5 border-[#6F66FF]/20":"bg-white border-[#1B1E3D]/10"}`,children:[p.jsx("div",{className:"flex-shrink-0",children:s(a.status)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("p",{className:"text-sm",children:a.exercise}),o(a.status)]}),p.jsxs("p",{className:"text-xs text-[#1B1E3D]/60",children:[a.time,"  ",a.details]})]}),a.status==="pending"&&p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>i(a.id,"done"),className:"p-1.5 rounded-lg hover:bg-[#3ECF8E]/10 transition-colors",title:"Mark as done",children:p.jsx(Cx,{className:"text-[#3ECF8E]",size:18})}),p.jsx("button",{onClick:()=>i(a.id,"rescheduled"),className:"p-1.5 rounded-lg hover:bg-[#6F66FF]/10 transition-colors",title:"Reschedule",children:p.jsx(Rj,{className:"text-[#6F66FF]",size:18})})]})]},a.id))}),t.some(a=>a.status==="skipped")&&p.jsxs("div",{className:"mt-4 p-3 bg-[#F87171]/10 rounded-xl border border-[#F87171]/20",children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/70",children:"You skipped an exercise. Would you like to reschedule it for tomorrow?"}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsx(zt,{size:"sm",variant:"outline",className:"rounded-lg text-xs",children:"Reschedule Tomorrow"}),p.jsx(zt,{size:"sm",variant:"ghost",className:"text-xs",children:"Skip Permanently"})]})]})]})]}):p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(cn,{className:"pb-3",children:[p.jsx(dn,{className:"text-lg flex items-center gap-2",children:" Smart Daily Planner"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Plan your recovery around your day."})]}),p.jsx(Bt,{children:p.jsxs("div",{className:"text-center py-6",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-[#6F66FF]/10 mx-auto mb-4 flex items-center justify-center",children:p.jsx(zF,{className:"text-[#6F66FF]",size:32})}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-4",children:"Connect your calendar to schedule exercises around your daily routine"}),p.jsxs(zt,{onClick:()=>e(!0),className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:[p.jsx(Tj,{className:"mr-2",size:18}),"Sync with Calendar"]})]})})]})}const mTe=[{date:"Oct 18",adherence:88,performance:85},{date:"Oct 20",adherence:90,performance:88},{date:"Oct 22",adherence:92,performance:90},{date:"Oct 24",adherence:94,performance:92},{date:"Oct 26",adherence:95,performance:93},{date:"Oct 28",adherence:96,performance:94},{date:"Oct 30",adherence:96,performance:95}],gTe=[{day:"Day 1",pain:7},{day:"Day 3",pain:6.5},{day:"Day 5",pain:6},{day:"Day 7",pain:5},{day:"Day 9",pain:4.5},{day:"Day 11",pain:3.5},{day:"Day 13",pain:3},{day:"Day 14",pain:2.5}];function qH(){const{user:n}=pu(),{stats:e,isLoading:t}=zb(),r=n?.name||"there",i=B.useMemo(()=>{const o=Bf.getExercises(),a=o.reduce((b,y)=>b+y.completedSessions,0),l=o.reduce((b,y)=>b+y.totalSessions,0),u=l>0?Math.round(a/l*100):0,d=o.filter(b=>b.progress===100).length,c=o.length>0?Math.round(d/o.length*100):0,f=o.length>0?o.reduce((b,y)=>b+y.progress,0)/o.length:0,m=Math.round(f),v=c>0?Math.max(1,Math.round(c*.1)):0;return{completedSessions:a,totalSessions:l,completionRate:u,adherenceRate:c,adherenceChange:v,completedExercises:d,totalExercises:o.length,performanceScore:m}},[]),s=e?.currentStreak||0;return t?p.jsx("div",{className:"flex items-center justify-center p-8 min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6F66FF] mx-auto mb-4"}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Loading your dashboard..."})]})}):p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl mb-2",children:["Hi ",r," , ready to recover today?"]}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Let's continue your shoulder rehabilitation journey."}),p.jsx("div",{className:"mt-4 text-white rounded-2xl p-4",style:{background:"linear-gradient(to right, #6F66FF, #8C7BFF)",backgroundColor:"#6F66FF",backgroundImage:"linear-gradient(to right, #6F66FF, #8C7BFF)"},children:p.jsx("p",{className:"text-center",children:"Small steps today, stronger tomorrow "})})]}),p.jsxs("div",{className:"flex flex-nowrap gap-6 mb-8",children:[p.jsxs(Dt,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Exercise Adherence"}),p.jsx(ma,{className:"text-[#6F66FF]",size:20})]})}),p.jsxs(Bt,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#6F66FF"},children:[i.adherenceRate,"%"]}),p.jsx("p",{className:"text-sm",style:{color:i.adherenceChange>0?"#3ECF8E":"rgba(27, 30, 61, 0.6)"},children:i.adherenceChange>0?`+${i.adherenceChange}% this week`:"Keep going!"})]})]}),p.jsxs(Dt,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Performance Score"}),p.jsx(Ex,{className:"text-[#3ECF8E]",size:20})]})}),p.jsxs(Bt,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:[i.performanceScore,"%"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Excellent form!"})]})]}),p.jsxs(Dt,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Completion Rate"}),p.jsx(Cx,{className:"text-[#6F66FF]",size:20})]})}),p.jsxs(Bt,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#6F66FF"},children:[i.completionRate,"%"]}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]/60",children:[i.completedSessions," of ",i.totalSessions," sessions"]})]})]}),p.jsxs(Dt,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Streak Days"}),p.jsx(bE,{className:"text-[#F87171]",size:20})]})}),p.jsxs(Bt,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#F87171"},children:[s," "]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:s===0?"Start your streak!":s===1?"Great start!":"Keep it going!"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[p.jsx(hTe,{}),p.jsx(pTe,{})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"Exercise Adherence & Performance"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:mTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"date",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6}),p.jsx(di,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#6F66FF",strokeWidth:2,name:"Adherence %",dot:{fill:"#6F66FF",r:4}}),p.jsx(As,{type:"monotone",dataKey:"performance",stroke:"#3ECF8E",strokeWidth:2,name:"Performance %",dot:{fill:"#3ECF8E",r:4}})]})})})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"Pain Trend (14 Days)"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(mB,{data:gTe,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#F87171",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#F87171",stopOpacity:0})]})}),p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,10]}),p.jsx(di,{}),p.jsx(yu,{type:"monotone",dataKey:"pain",stroke:"#F87171",strokeWidth:2,fill:"url(#painGradient)",name:"Pain Level"})]})})})]})]})]})}const vTe=LF("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function yTe({className:n,variant:e,...t}){return p.jsx("div",{"data-slot":"alert",role:"alert",className:Wn(vTe({variant:e}),n),...t})}function xTe({className:n,...e}){return p.jsx("div",{"data-slot":"alert-description",className:Wn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function bTe(){const[n,e]=B.useState(!1),[t,r]=B.useState(!1),[i,s]=B.useState([3]),[o,a]=B.useState([5]),l=()=>{e(!0)},u=()=>{r(!0)};return p.jsxs("div",{className:"space-y-6 max-w-6xl",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"AI Plan Reader"}),p.jsx("p",{className:"text-gray-600",children:"Upload your doctor's referral or rehabilitation plan for AI analysis"})]}),p.jsx(Dt,{className:"border-0 shadow-lg",children:p.jsxs(Bt,{className:"p-8",children:[p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-[#2C2E6F] transition-colors",children:[p.jsx(Jle,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-[#2C2E6F] mb-2",children:"Upload doctor's referral or rehab description"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Drop your PDF, image, or text file here, or click to browse"}),p.jsxs(zt,{onClick:l,className:"bg-[#2C2E6F] hover:bg-[#1f2050]",children:[p.jsx(rS,{className:"w-4 h-4 mr-2"}),"Select File"]})]}),n&&p.jsxs(yTe,{className:"mt-4 border-[#4DD2C1] bg-[#4DD2C1]/10",children:[p.jsx(sd,{className:"h-4 w-4 text-[#4DD2C1]"}),p.jsx(xTe,{className:"text-[#2C2E6F]",children:"File uploaded successfully: shoulder_rehab_plan.pdf"})]})]})}),n&&p.jsxs(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(jp,{className:"w-5 h-5 text-[#2C2E6F]"}),p.jsx(dn,{className:"text-[#2C2E6F]",children:"AI Analysis Summary"})]})}),p.jsxs(Bt,{className:"space-y-4",children:[p.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-xl flex items-center justify-center flex-shrink-0",children:p.jsx(jp,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#2C2E6F] mb-2",children:"Detected: Shoulder Rehabilitation  Phase 1 Mobility"}),p.jsx("p",{className:"text-gray-600",children:"6 weeks progressive plan focusing on range of motion and pain reduction"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[p.jsxs("div",{className:"p-4 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Condition"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"Rotator Cuff Strain"})]}),p.jsxs("div",{className:"p-4 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phase"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"Phase 1: Mobility"})]}),p.jsxs("div",{className:"p-4 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Duration"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"6 weeks"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6 bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{htmlFor:"weekly-frequency-slider",children:"Weekly Frequency (sessions/week)"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Ox,{id:"weekly-frequency-slider",name:"weeklyFrequency",value:i,onValueChange:s,max:7,min:1,step:1,className:"flex-1","aria-label":"Weekly Frequency"}),p.jsxs(hr,{className:"bg-[#2C2E6F]",children:[i[0],"x/week"]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{htmlFor:"intensity-level-slider",children:"Intensity Level"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Ox,{id:"intensity-level-slider",name:"intensityLevel",value:o,onValueChange:a,max:10,min:1,step:1,className:"flex-1","aria-label":"Intensity Level"}),p.jsxs(hr,{className:"bg-[#4DD2C1]",children:[o[0],"/10"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"sets-per-exercise",children:"Sets per Exercise"}),p.jsx(bs,{id:"sets-per-exercise",name:"setsPerExercise",type:"number",autoComplete:"off",defaultValue:"3",className:"bg-white"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"rest-days",children:"Rest Days"}),p.jsx(bs,{id:"rest-days",name:"restDays",type:"text",autoComplete:"off",defaultValue:"Sunday, Wednesday",className:"bg-white"})]})]}),p.jsxs(zt,{onClick:u,className:"w-full bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white shadow-lg hover:shadow-xl transition-all",children:[p.jsx(jp,{className:"w-4 h-4 mr-2"}),"Generate Personalized Plan"]})]})]}),t&&p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Generated Recovery Plan"})}),p.jsxs(Bt,{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-3",children:"Recovery Goals"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Reduce pain to 2/10 or below"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Restore 90% range of motion"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Strengthen rotator cuff muscles"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Return to daily activities"})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-3",children:"6-Week Timeline"}),p.jsx("div",{className:"space-y-3",children:[{week:"Weeks 1-2",focus:"Pain reduction & gentle mobility",color:"from-[#FF8A73] to-[#ff7a5c]"},{week:"Weeks 3-4",focus:"Progressive range of motion",color:"from-[#4DD2C1] to-[#3bc1b0]"},{week:"Weeks 5-6",focus:"Strength building & stabilization",color:"from-[#2C2E6F] to-[#4a4f9e]"}].map((d,c)=>p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-32 h-12 bg-gradient-to-r ${d.color} rounded-lg flex items-center justify-center text-white flex-shrink-0`,children:d.week}),p.jsx("p",{className:"text-gray-700",children:d.focus})]},c))})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-3",children:"Key Exercises Auto-Filled"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Pendulum Swings",sets:3,reps:10},{name:"Shoulder Rotation (External)",sets:3,reps:12},{name:"Wall Slides",sets:2,reps:8},{name:"Scapular Squeezes",sets:3,reps:15}].map((d,c)=>p.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-[#2C2E6F] transition-colors",children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-1",children:d.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:[d.sets," sets  ",d.reps," reps"]})]},c))})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(zt,{className:"flex-1 bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save to My Plan"}),p.jsx(zt,{variant:"outline",className:"flex-1",children:"Edit Plan"})]})]})]})]})}var cN={},XH;function _Te(){return XH||(XH=1,(function(){var n;function e(R){var U=0;return function(){return U<R.length?{done:!1,value:R[U++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(R,U,$){return R==Array.prototype||R==Object.prototype||(R[U]=$.value),R};function r(R){R=[typeof globalThis=="object"&&globalThis,R,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fa=="object"&&Fa];for(var U=0;U<R.length;++U){var $=R[U];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var i=r(this);function s(R,U){if(U)e:{var $=i;R=R.split(".");for(var re=0;re<R.length-1;re++){var fe=R[re];if(!(fe in $))break e;$=$[fe]}R=R[R.length-1],re=$[R],U=U(re),U!=re&&U!=null&&t($,R,{configurable:!0,writable:!0,value:U})}}s("Symbol",function(R){function U(me){if(this instanceof U)throw new TypeError("Symbol is not a constructor");return new $(re+(me||"")+"_"+fe++,me)}function $(me,pe){this.h=me,t(this,"description",{configurable:!0,writable:!0,value:pe})}if(R)return R;$.prototype.toString=function(){return this.h};var re="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",fe=0;return U}),s("Symbol.iterator",function(R){if(R)return R;R=Symbol("Symbol.iterator");for(var U="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),$=0;$<U.length;$++){var re=i[U[$]];typeof re=="function"&&typeof re.prototype[R]!="function"&&t(re.prototype,R,{configurable:!0,writable:!0,value:function(){return o(e(this))}})}return R});function o(R){return R={next:R},R[Symbol.iterator]=function(){return this},R}function a(R){var U=typeof Symbol<"u"&&Symbol.iterator&&R[Symbol.iterator];return U?U.call(R):{next:e(R)}}function l(R){if(!(R instanceof Array)){R=a(R);for(var U,$=[];!(U=R.next()).done;)$.push(U.value);R=$}return R}var u=typeof Object.assign=="function"?Object.assign:function(R,U){for(var $=1;$<arguments.length;$++){var re=arguments[$];if(re)for(var fe in re)Object.prototype.hasOwnProperty.call(re,fe)&&(R[fe]=re[fe])}return R};s("Object.assign",function(R){return R||u});var d=typeof Object.create=="function"?Object.create:function(R){function U(){}return U.prototype=R,new U},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var f;e:{var m={a:!0},v={};try{v.__proto__=m,f=v.a;break e}catch{}f=!1}c=f?function(R,U){if(R.__proto__=U,R.__proto__!==U)throw new TypeError(R+" is not extensible");return R}:null}var b=c;function y(R,U){if(R.prototype=d(U.prototype),R.prototype.constructor=R,b)b(R,U);else for(var $ in U)if($!="prototype")if(Object.defineProperties){var re=Object.getOwnPropertyDescriptor(U,$);re&&Object.defineProperty(R,$,re)}else R[$]=U[$];R.za=U.prototype}function w(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function A(R){if(R.m)throw new TypeError("Generator is already running");R.m=!0}w.prototype.u=function(R){this.i=R};function E(R,U){R.l={ma:U,na:!0},R.h=R.s||R.v}w.prototype.return=function(R){this.l={return:R},this.h=this.v};function C(R,U,$){return R.h=$,{value:U}}function M(R){this.h=new w,this.i=R}function P(R,U){A(R.h);var $=R.h.j;return $?O(R,"return"in $?$.return:function(re){return{value:re,done:!0}},U,R.h.return):(R.h.return(U),k(R))}function O(R,U,$,re){try{var fe=U.call(R.h.j,$);if(!(fe instanceof Object))throw new TypeError("Iterator result "+fe+" is not an object");if(!fe.done)return R.h.m=!1,fe;var me=fe.value}catch(pe){return R.h.j=null,E(R.h,pe),k(R)}return R.h.j=null,re.call(R.h,me),k(R)}function k(R){for(;R.h.h;)try{var U=R.i(R.h);if(U)return R.h.m=!1,{value:U.value,done:!1}}catch($){R.h.i=void 0,E(R.h,$)}if(R.h.m=!1,R.h.l){if(U=R.h.l,R.h.l=null,U.na)throw U.ma;return{value:U.return,done:!0}}return{value:void 0,done:!0}}function D(R){this.next=function(U){return A(R.h),R.h.j?U=O(R,R.h.j.next,U,R.h.u):(R.h.u(U),U=k(R)),U},this.throw=function(U){return A(R.h),R.h.j?U=O(R,R.h.j.throw,U,R.h.u):(E(R.h,U),U=k(R)),U},this.return=function(U){return P(R,U)},this[Symbol.iterator]=function(){return this}}function I(R){function U(re){return R.next(re)}function $(re){return R.throw(re)}return new Promise(function(re,fe){function me(pe){pe.done?re(pe.value):Promise.resolve(pe.value).then(U,$).then(me,fe)}me(R.next())})}function L(R){return I(new D(new M(R)))}s("Promise",function(R){function U(pe){this.i=0,this.j=void 0,this.h=[],this.u=!1;var Ce=this.l();try{pe(Ce.resolve,Ce.reject)}catch(We){Ce.reject(We)}}function $(){this.h=null}function re(pe){return pe instanceof U?pe:new U(function(Ce){Ce(pe)})}if(R)return R;$.prototype.i=function(pe){if(this.h==null){this.h=[];var Ce=this;this.j(function(){Ce.m()})}this.h.push(pe)};var fe=i.setTimeout;$.prototype.j=function(pe){fe(pe,0)},$.prototype.m=function(){for(;this.h&&this.h.length;){var pe=this.h;this.h=[];for(var Ce=0;Ce<pe.length;++Ce){var We=pe[Ce];pe[Ce]=null;try{We()}catch(Ct){this.l(Ct)}}}this.h=null},$.prototype.l=function(pe){this.j(function(){throw pe})},U.prototype.l=function(){function pe(Ct){return function(qt){We||(We=!0,Ct.call(Ce,qt))}}var Ce=this,We=!1;return{resolve:pe(this.I),reject:pe(this.m)}},U.prototype.I=function(pe){if(pe===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(pe instanceof U)this.L(pe);else{e:switch(typeof pe){case"object":var Ce=pe!=null;break e;case"function":Ce=!0;break e;default:Ce=!1}Ce?this.F(pe):this.s(pe)}},U.prototype.F=function(pe){var Ce=void 0;try{Ce=pe.then}catch(We){this.m(We);return}typeof Ce=="function"?this.M(Ce,pe):this.s(pe)},U.prototype.m=function(pe){this.v(2,pe)},U.prototype.s=function(pe){this.v(1,pe)},U.prototype.v=function(pe,Ce){if(this.i!=0)throw Error("Cannot settle("+pe+", "+Ce+"): Promise already settled in state"+this.i);this.i=pe,this.j=Ce,this.i===2&&this.K(),this.H()},U.prototype.K=function(){var pe=this;fe(function(){if(pe.D()){var Ce=i.console;typeof Ce<"u"&&Ce.error(pe.j)}},1)},U.prototype.D=function(){if(this.u)return!1;var pe=i.CustomEvent,Ce=i.Event,We=i.dispatchEvent;return typeof We>"u"?!0:(typeof pe=="function"?pe=new pe("unhandledrejection",{cancelable:!0}):typeof Ce=="function"?pe=new Ce("unhandledrejection",{cancelable:!0}):(pe=i.document.createEvent("CustomEvent"),pe.initCustomEvent("unhandledrejection",!1,!0,pe)),pe.promise=this,pe.reason=this.j,We(pe))},U.prototype.H=function(){if(this.h!=null){for(var pe=0;pe<this.h.length;++pe)me.i(this.h[pe]);this.h=null}};var me=new $;return U.prototype.L=function(pe){var Ce=this.l();pe.T(Ce.resolve,Ce.reject)},U.prototype.M=function(pe,Ce){var We=this.l();try{pe.call(Ce,We.resolve,We.reject)}catch(Ct){We.reject(Ct)}},U.prototype.then=function(pe,Ce){function We(vn,Ht){return typeof vn=="function"?function(an){try{Ct(vn(an))}catch(fn){qt(fn)}}:Ht}var Ct,qt,Cn=new U(function(vn,Ht){Ct=vn,qt=Ht});return this.T(We(pe,Ct),We(Ce,qt)),Cn},U.prototype.catch=function(pe){return this.then(void 0,pe)},U.prototype.T=function(pe,Ce){function We(){switch(Ct.i){case 1:pe(Ct.j);break;case 2:Ce(Ct.j);break;default:throw Error("Unexpected state: "+Ct.i)}}var Ct=this;this.h==null?me.i(We):this.h.push(We),this.u=!0},U.resolve=re,U.reject=function(pe){return new U(function(Ce,We){We(pe)})},U.race=function(pe){return new U(function(Ce,We){for(var Ct=a(pe),qt=Ct.next();!qt.done;qt=Ct.next())re(qt.value).T(Ce,We)})},U.all=function(pe){var Ce=a(pe),We=Ce.next();return We.done?re([]):new U(function(Ct,qt){function Cn(an){return function(fn){vn[an]=fn,Ht--,Ht==0&&Ct(vn)}}var vn=[],Ht=0;do vn.push(void 0),Ht++,re(We.value).T(Cn(vn.length-1),qt),We=Ce.next();while(!We.done)})},U});function W(R,U){R instanceof String&&(R+="");var $=0,re=!1,fe={next:function(){if(!re&&$<R.length){var me=$++;return{value:U(me,R[me]),done:!1}}return re=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}s("Array.prototype.keys",function(R){return R||function(){return W(this,function(U){return U})}}),s("Array.prototype.fill",function(R){return R||function(U,$,re){var fe=this.length||0;for(0>$&&($=Math.max(0,fe+$)),(re==null||re>fe)&&(re=fe),re=Number(re),0>re&&(re=Math.max(0,fe+re)),$=Number($||0);$<re;$++)this[$]=U;return this}});function q(R){return R||Array.prototype.fill}s("Int8Array.prototype.fill",q),s("Uint8Array.prototype.fill",q),s("Uint8ClampedArray.prototype.fill",q),s("Int16Array.prototype.fill",q),s("Uint16Array.prototype.fill",q),s("Int32Array.prototype.fill",q),s("Uint32Array.prototype.fill",q),s("Float32Array.prototype.fill",q),s("Float64Array.prototype.fill",q),s("Object.is",function(R){return R||function(U,$){return U===$?U!==0||1/U===1/$:U!==U&&$!==$}}),s("Array.prototype.includes",function(R){return R||function(U,$){var re=this;re instanceof String&&(re=String(re));var fe=re.length;for($=$||0,0>$&&($=Math.max($+fe,0));$<fe;$++){var me=re[$];if(me===U||Object.is(me,U))return!0}return!1}}),s("String.prototype.includes",function(R){return R||function(U,$){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(U instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(U,$||0)!==-1}});var K=this||self;function ie(R,U){R=R.split(".");var $=K;R[0]in $||typeof $.execScript>"u"||$.execScript("var "+R[0]);for(var re;R.length&&(re=R.shift());)R.length||U===void 0?$[re]&&$[re]!==Object.prototype[re]?$=$[re]:$=$[re]={}:$[re]=U}function V(R){var U;e:{if((U=K.navigator)&&(U=U.userAgent))break e;U=""}return U.indexOf(R)!=-1}var J=Array.prototype.map?function(R,U){return Array.prototype.map.call(R,U,void 0)}:function(R,U){for(var $=R.length,re=Array($),fe=typeof R=="string"?R.split(""):R,me=0;me<$;me++)me in fe&&(re[me]=U.call(void 0,fe[me],me,R));return re},H={},Y=null;function ne(R){var U=R.length,$=3*U/4;$%3?$=Math.floor($):"=.".indexOf(R[U-1])!=-1&&($="=.".indexOf(R[U-2])!=-1?$-2:$-1);var re=new Uint8Array($),fe=0;return Z(R,function(me){re[fe++]=me}),fe!==$?re.subarray(0,fe):re}function Z(R,U){function $(We){for(;re<R.length;){var Ct=R.charAt(re++),qt=Y[Ct];if(qt!=null)return qt;if(!/^[\s\xa0]*$/.test(Ct))throw Error("Unknown base64 encoding at char: "+Ct)}return We}oe();for(var re=0;;){var fe=$(-1),me=$(0),pe=$(64),Ce=$(64);if(Ce===64&&fe===-1)break;U(fe<<2|me>>4),pe!=64&&(U(me<<4&240|pe>>2),Ce!=64&&U(pe<<6&192|Ce))}}function oe(){if(!Y){Y={};for(var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),U=["+/=","+/","-_=","-_.","-_"],$=0;5>$;$++){var re=R.concat(U[$].split(""));H[$]=re;for(var fe=0;fe<re.length;fe++){var me=re[fe];Y[me]===void 0&&(Y[me]=fe)}}}}var ye=typeof Uint8Array<"u",Be=!(V("Trident")||V("MSIE"))&&typeof K.btoa=="function";function Xe(R){if(!Be){var U;U===void 0&&(U=0),oe(),U=H[U];for(var $=Array(Math.floor(R.length/3)),re=U[64]||"",fe=0,me=0;fe<R.length-2;fe+=3){var pe=R[fe],Ce=R[fe+1],We=R[fe+2],Ct=U[pe>>2];pe=U[(pe&3)<<4|Ce>>4],Ce=U[(Ce&15)<<2|We>>6],We=U[We&63],$[me++]=Ct+pe+Ce+We}switch(Ct=0,We=re,R.length-fe){case 2:Ct=R[fe+1],We=U[(Ct&15)<<2]||re;case 1:R=R[fe],$[me]=U[R>>2]+U[(R&3)<<4|Ct>>4]+We+re}return $.join("")}for(U="";10240<R.length;)U+=String.fromCharCode.apply(null,R.subarray(0,10240)),R=R.subarray(10240);return U+=String.fromCharCode.apply(null,R),btoa(U)}var we=RegExp("[-_.]","g");function Ae(R){switch(R){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function ke(R){if(!Be)return ne(R);we.test(R)&&(R=R.replace(we,Ae)),R=atob(R);for(var U=new Uint8Array(R.length),$=0;$<R.length;$++)U[$]=R.charCodeAt($);return U}var Oe;function Ge(){return Oe||(Oe=new Uint8Array(0))}var et={},ze=typeof Uint8Array.prototype.slice=="function",nt=0,Fe=0;function ce(R){var U=0>R;R=Math.abs(R);var $=R>>>0;R=Math.floor((R-$)/4294967296),U&&($=a(ct($,R)),U=$.next().value,R=$.next().value,$=U),nt=$>>>0,Fe=R>>>0}var rt=typeof BigInt=="function";function ct(R,U){return U=~U,R?R=~R+1:U+=1,[R,U]}function wt(R,U){this.i=R>>>0,this.h=U>>>0}function Te(R){if(!R)return tt||(tt=new wt(0,0));if(!/^-?\d+$/.test(R))return null;if(16>R.length)ce(Number(R));else if(rt)R=BigInt(R),nt=Number(R&BigInt(4294967295))>>>0,Fe=Number(R>>BigInt(32)&BigInt(4294967295));else{var U=+(R[0]==="-");Fe=nt=0;for(var $=R.length,re=U,fe=($-U)%6+U;fe<=$;re=fe,fe+=6)re=Number(R.slice(re,fe)),Fe*=1e6,nt=1e6*nt+re,4294967296<=nt&&(Fe+=nt/4294967296|0,nt%=4294967296);U&&(U=a(ct(nt,Fe)),R=U.next().value,U=U.next().value,nt=R,Fe=U)}return new wt(nt,Fe)}var tt;function st(R,U){return Error("Invalid wire type: "+R+" (at position "+U+")")}function ft(){return Error("Failed to read varint, encoding is invalid.")}function ae(R,U){return Error("Tried to read past the end of the data "+U+" > "+R)}function te(){throw Error("Invalid UTF8")}function Ne(R,U){return U=String.fromCharCode.apply(null,U),R==null?U:R+U}var Ye=void 0,pt,Ke=typeof TextDecoder<"u",Jt,It=typeof TextEncoder<"u",Vt;function Lt(R){if(R!==et)throw Error("illegal external caller")}function yt(R,U){if(Lt(U),this.V=R,R!=null&&R.length===0)throw Error("ByteString should be constructed with non-empty values")}function bt(){return Vt||(Vt=new yt(null,et))}function Zt(R){Lt(et);var U=R.V;return U=U==null||ye&&U!=null&&U instanceof Uint8Array?U:typeof U=="string"?ke(U):null,U==null?U:R.V=U}function _e(R){if(typeof R=="string")return{buffer:ke(R),C:!1};if(Array.isArray(R))return{buffer:new Uint8Array(R),C:!1};if(R.constructor===Uint8Array)return{buffer:R,C:!1};if(R.constructor===ArrayBuffer)return{buffer:new Uint8Array(R),C:!1};if(R.constructor===yt)return{buffer:Zt(R)||Ge(),C:!0};if(R instanceof Uint8Array)return{buffer:new Uint8Array(R.buffer,R.byteOffset,R.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Pe(R,U){this.i=null,this.m=!1,this.h=this.j=this.l=0,ht(this,R,U)}function ht(R,U,$){$=$===void 0?{}:$,R.S=$.S===void 0?!1:$.S,U&&(U=_e(U),R.i=U.buffer,R.m=U.C,R.l=0,R.j=R.i.length,R.h=R.l)}Pe.prototype.reset=function(){this.h=this.l};function he(R,U){if(R.h=U,U>R.j)throw ae(R.j,U)}function Le(R){var U=R.i,$=R.h,re=U[$++],fe=re&127;if(re&128&&(re=U[$++],fe|=(re&127)<<7,re&128&&(re=U[$++],fe|=(re&127)<<14,re&128&&(re=U[$++],fe|=(re&127)<<21,re&128&&(re=U[$++],fe|=re<<28,re&128&&U[$++]&128&&U[$++]&128&&U[$++]&128&&U[$++]&128&&U[$++]&128)))))throw ft();return he(R,$),fe}function lt(R,U){if(0>U)throw Error("Tried to read a negative byte length: "+U);var $=R.h,re=$+U;if(re>R.j)throw ae(U,R.j-$);return R.h=re,$}var vt=[];function mt(){this.h=[]}mt.prototype.length=function(){return this.h.length},mt.prototype.end=function(){var R=this.h;return this.h=[],R};function je(R,U,$){for(;0<$||127<U;)R.h.push(U&127|128),U=(U>>>7|$<<25)>>>0,$>>>=7;R.h.push(U)}function _t(R,U){for(;127<U;)R.h.push(U&127|128),U>>>=7;R.h.push(U)}function jt(R,U){if(vt.length){var $=vt.pop();ht($,R,U),R=$}else R=new Pe(R,U);this.h=R,this.j=this.h.h,this.i=this.l=-1,this.setOptions(U)}jt.prototype.setOptions=function(R){R=R===void 0?{}:R,this.ca=R.ca===void 0?!1:R.ca},jt.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function _n(R){var U=R.h;if(U.h==U.j)return!1;R.j=R.h.h;var $=Le(R.h)>>>0;if(U=$>>>3,$&=7,!(0<=$&&5>=$))throw st($,R.j);if(1>U)throw Error("Invalid field number: "+U+" (at position "+R.j+")");return R.l=U,R.i=$,!0}function Sn(R){switch(R.i){case 0:if(R.i!=0)Sn(R);else e:{R=R.h;for(var U=R.h,$=U+10,re=R.i;U<$;)if((re[U++]&128)===0){he(R,U);break e}throw ft()}break;case 1:R=R.h,he(R,R.h+8);break;case 2:R.i!=2?Sn(R):(U=Le(R.h)>>>0,R=R.h,he(R,R.h+U));break;case 5:R=R.h,he(R,R.h+4);break;case 3:U=R.l;do{if(!_n(R))throw Error("Unmatched start-group tag: stream EOF");if(R.i==4){if(R.l!=U)throw Error("Unmatched end-group tag");break}Sn(R)}while(!0);break;default:throw st(R.i,R.j)}}var An=[];function kn(){this.j=[],this.i=0,this.h=new mt}function Kr(R,U){U.length!==0&&(R.j.push(U),R.i+=U.length)}function Or(R,U){if(U=U.R){Kr(R,R.h.end());for(var $=0;$<U.length;$++)Kr(R,Zt(U[$])||Ge())}}var xr=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Fr(R,U){return xr?R[xr]|=U:R.A!==void 0?R.A|=U:(Object.defineProperties(R,{A:{value:U,configurable:!0,writable:!0,enumerable:!1}}),U)}function Yr(R,U){xr?R[xr]&&(R[xr]&=~U):R.A!==void 0&&(R.A&=~U)}function tr(R){var U;return xr?U=R[xr]:U=R.A,U??0}function En(R,U){xr?R[xr]=U:R.A!==void 0?R.A=U:Object.defineProperties(R,{A:{value:U,configurable:!0,writable:!0,enumerable:!1}})}function Mo(R){return Fr(R,1),R}function bc(R,U){En(U,(R|0)&-51)}function Q(R,U){En(U,(R|18)&-41)}var le={};function Ee(R){return R!==null&&typeof R=="object"&&!Array.isArray(R)&&R.constructor===Object}var Ve,ot=[];En(ot,23),Ve=Object.freeze(ot);function it(R){if(tr(R.o)&2)throw Error("Cannot mutate an immutable Message")}function Ft(R){var U=R.length;(U=U?R[U-1]:void 0)&&Ee(U)?U.g=1:(U={},R.push((U.g=1,U)))}function Mt(R){var U=R.i+R.G;return R.B||(R.B=R.o[U]={})}function Ot(R,U){return U===-1?null:U>=R.i?R.B?R.B[U]:void 0:R.o[U+R.G]}function ee(R,U,$,re){it(R),ve(R,U,$,re)}function ve(R,U,$,re){R.j&&(R.j=void 0),U>=R.i||re?Mt(R)[U]=$:(R.o[U+R.G]=$,(R=R.B)&&U in R&&delete R[U])}function xe(R,U,$,re){var fe=Ot(R,U);Array.isArray(fe)||(fe=Ve);var me=tr(fe);if(me&1||Mo(fe),re)me&2||Fr(fe,2),$&1||Object.freeze(fe);else{re=!($&2);var pe=me&2;$&1||!pe?re&&me&16&&!pe&&Yr(fe,16):(fe=Mo(Array.prototype.slice.call(fe)),ve(R,U,fe))}return fe}function Ue(R,U){var $=Ot(R,U),re=$==null?$:typeof $=="number"||$==="NaN"||$==="Infinity"||$==="-Infinity"?Number($):void 0;return re!=null&&re!==$&&ve(R,U,re),re}function Se(R,U,$,re,fe){R.h||(R.h={});var me=R.h[$],pe=xe(R,$,3,fe);if(!me){var Ce=pe;me=[];var We=!!(tr(R.o)&16);pe=!!(tr(Ce)&2);var Ct=Ce;!fe&&pe&&(Ce=Array.prototype.slice.call(Ce));for(var qt=pe,Cn=0;Cn<Ce.length;Cn++){var vn=Ce[Cn],Ht=U,an=!1;if(an=an===void 0?!1:an,vn=Array.isArray(vn)?new Ht(vn):an?new Ht:void 0,vn!==void 0){Ht=vn.o;var fn=an=tr(Ht);pe&&(fn|=2),We&&(fn|=16),fn!=an&&En(Ht,fn),Ht=fn,qt=qt||!!(2&Ht),me.push(vn)}}return R.h[$]=me,We=tr(Ce),U=We|33,U=qt?U&-9:U|8,We!=U&&(qt=Ce,Object.isFrozen(qt)&&(qt=Array.prototype.slice.call(qt)),En(qt,U),Ce=qt),Ct!==Ce&&ve(R,$,Ce),(fe||re&&pe)&&Fr(me,2),re&&Object.freeze(me),me}return fe||(fe=Object.isFrozen(me),re&&!fe?Object.freeze(me):!re&&fe&&(me=Array.prototype.slice.call(me),R.h[$]=me)),me}function Je(R,U,$){var re=!!(tr(R.o)&2);if(U=Se(R,U,$,re,re),R=xe(R,$,3,re),!(re||tr(R)&8)){for(re=0;re<U.length;re++){if($=U[re],tr($.o)&2){var fe=sn($,!1);fe.j=$}else fe=$;$!==fe&&(U[re]=fe,R[re]=fe.o)}Fr(R,8)}return U}function dt(R,U,$){if($!=null&&typeof $!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof $+": "+$);ee(R,U,$)}function St(R,U,$,re,fe){it(R);var me=Se(R,$,U,!1,!1);return $=re??new $,R=xe(R,U,2,!1),fe!=null?(me.splice(fe,0,$),R.splice(fe,0,$.o)):(me.push($),R.push($.o)),$.C()&&Yr(R,8),$}function Et(R,U){return R??U}function Pt(R,U,$){return $=$===void 0?0:$,Et(Ue(R,U),$)}var At;function Nt(R){switch(typeof R){case"number":return isFinite(R)?R:String(R);case"object":if(R)if(Array.isArray(R)){if((tr(R)&128)!==0)return R=Array.prototype.slice.call(R),Ft(R),R}else{if(ye&&R!=null&&R instanceof Uint8Array)return Xe(R);if(R instanceof yt){var U=R.V;return U==null?"":typeof U=="string"?U:R.V=Xe(U)}}}return R}function Wt(R,U,$,re){if(R!=null){if(Array.isArray(R))R=yn(R,U,$,re!==void 0);else if(Ee(R)){var fe={},me;for(me in R)fe[me]=Wt(R[me],U,$,re);R=fe}else R=U(R,re);return R}}function yn(R,U,$,re){var fe=tr(R);re=re?!!(fe&16):void 0,R=Array.prototype.slice.call(R);for(var me=0;me<R.length;me++)R[me]=Wt(R[me],U,$,re);return $(fe,R),R}function un(R){return R.ja===le?R.toJSON():Nt(R)}function Tn(R,U){R&128&&Ft(U)}function Rn(R,U,$){if($=$===void 0?Q:$,R!=null){if(ye&&R instanceof Uint8Array)return R.length?new yt(new Uint8Array(R),et):bt();if(Array.isArray(R)){var re=tr(R);return re&2?R:U&&!(re&32)&&(re&16||re===0)?(En(R,re|2),R):(R=yn(R,Rn,re&4?Q:$,!0),U=tr(R),U&4&&U&2&&Object.freeze(R),R)}return R.ja===le?Ln(R):R}}function Yt(R,U,$,re,fe,me,pe){if(R=R.h&&R.h[$]){if(re=tr(R),re&2?re=R:(me=J(R,Ln),Q(re,me),Object.freeze(me),re=me),it(U),pe=re==null?Ve:Mo([]),re!=null){for(me=!!re.length,R=0;R<re.length;R++){var Ce=re[R];me=me&&!(tr(Ce.o)&2),pe[R]=Ce.o}me=(me?8:0)|1,R=tr(pe),(R&me)!==me&&(Object.isFrozen(pe)&&(pe=Array.prototype.slice.call(pe)),En(pe,R|me)),U.h||(U.h={}),U.h[$]=re}else U.h&&(U.h[$]=void 0);ve(U,$,pe,fe)}else ee(U,$,Rn(re,me,pe),fe)}function Ln(R){return tr(R.o)&2||(R=sn(R,!0),Fr(R.o,2)),R}function sn(R,U){var $=R.o,re=[];Fr(re,16);var fe=R.constructor.h;if(fe&&re.push(fe),fe=R.B,fe){re.length=$.length,re.fill(void 0,re.length,$.length);var me={};re[re.length-1]=me}(tr($)&128)!==0&&Ft(re),U=U||R.C()?Q:bc,me=R.constructor,At=re,re=new me(re),At=void 0,R.R&&(re.R=R.R.slice()),me=!!(tr($)&16);for(var pe=fe?$.length-1:$.length,Ce=0;Ce<pe;Ce++)Yt(R,re,Ce-R.G,$[Ce],!1,me,U);if(fe)for(var We in fe)Yt(R,re,+We,fe[We],!0,me,U);return re}function jn(R,U,$){R==null&&(R=At),At=void 0;var re=this.constructor.i||0,fe=0<re,me=this.constructor.h,pe=!1;if(R==null){R=me?[me]:[];var Ce=48,We=!0;fe&&(re=0,Ce|=128),En(R,Ce)}else{if(!Array.isArray(R)||me&&me!==R[0])throw Error();var Ct=Ce=Fr(R,0);if((We=(16&Ct)!==0)&&((pe=(32&Ct)!==0)||(Ct|=32)),fe){if(128&Ct)re=0;else if(0<R.length){var qt=R[R.length-1];if(Ee(qt)&&"g"in qt){re=0,Ct|=128,delete qt.g;var Cn=!0,vn;for(vn in qt){Cn=!1;break}Cn&&R.pop()}}}else if(128&Ct)throw Error();Ce!==Ct&&En(R,Ct)}this.G=(me?0:-1)-re,this.h=void 0,this.o=R;e:{if(me=this.o.length,re=me-1,me&&(me=this.o[re],Ee(me))){this.B=me,this.i=re-this.G;break e}U!==void 0&&-1<U?(this.i=Math.max(U,re+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!fe&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if($){U=We&&!pe&&!0,fe=this.i;var Ht;for(We=0;We<$.length;We++)pe=$[We],pe<fe?(pe+=this.G,(re=R[pe])?or(re,U):R[pe]=Ve):(Ht||(Ht=Mt(this)),(re=Ht[pe])?or(re,U):Ht[pe]=Ve)}}jn.prototype.toJSON=function(){return yn(this.o,un,Tn)},jn.prototype.C=function(){return!!(tr(this.o)&2)};function or(R,U){if(Array.isArray(R)){var $=tr(R),re=1;!U||$&2||(re|=16),($&re)!==re&&En(R,$|re)}}jn.prototype.ja=le,jn.prototype.toString=function(){return this.o.toString()};function Pn(R,U,$){if($){var re={},fe;for(fe in $){var me=$[fe],pe=me.ra;pe||(re.J=me.xa||me.oa.W,me.ia?(re.aa=Id(me.ia),pe=(function(Ce){return function(We,Ct,qt){return Ce.J(We,Ct,qt,Ce.aa)}})(re)):me.ka?(re.Z=ph(me.da.P,me.ka),pe=(function(Ce){return function(We,Ct,qt){return Ce.J(We,Ct,qt,Ce.Z)}})(re)):pe=re.J,me.ra=pe),pe(U,R,me.da),re={J:re.J,aa:re.aa,Z:re.Z}}}Or(U,R)}var mr=Symbol();function dr(R,U,$){return R[mr]||(R[mr]=function(re,fe){return U(re,fe,$)})}function fr(R){var U=R[mr];if(!U){var $=oi(R);U=function(re,fe){return Ga(re,fe,$)},R[mr]=U}return U}function Jr(R){var U=R.ia;if(U)return fr(U);if(U=R.wa)return dr(R.da.P,U,R.ka)}function ti(R){var U=Jr(R),$=R.da,re=R.oa.U;return U?function(fe,me){return re(fe,me,$,U)}:function(fe,me){return re(fe,me,$)}}function Nn(R,U){var $=R[U];return typeof $=="function"&&$.length===0&&($=$(),R[U]=$),Array.isArray($)&&(Vs in $||za in $||0<$.length&&typeof $[0]=="function")?$:void 0}function To(R,U,$,re,fe,me){U.P=R[0];var pe=1;if(R.length>pe&&typeof R[pe]!="number"){var Ce=R[pe++];$(U,Ce)}for(;pe<R.length;){$=R[pe++];for(var We=pe+1;We<R.length&&typeof R[We]!="number";)We++;switch(Ce=R[pe++],We-=pe,We){case 0:re(U,$,Ce);break;case 1:(We=Nn(R,pe))?(pe++,fe(U,$,Ce,We)):re(U,$,Ce,R[pe++]);break;case 2:We=pe++,We=Nn(R,We),fe(U,$,Ce,We,R[pe++]);break;case 3:me(U,$,Ce,R[pe++],R[pe++],R[pe++]);break;case 4:me(U,$,Ce,R[pe++],R[pe++],R[pe++],R[pe++]);break;default:throw Error("unexpected number of binary field arguments: "+We)}}return U}var Ki=Symbol();function Id(R){var U=R[Ki];if(!U){var $=Kn(R);U=function(re,fe){return Am(re,fe,$)},R[Ki]=U}return U}function ph(R,U){var $=R[Ki];return $||($=function(re,fe){return Pn(re,fe,U)},R[Ki]=$),$}var za=Symbol();function Od(R,U){R.push(U)}function Cl(R,U,$){R.push(U,$.W)}function Fd(R,U,$,re){var fe=Id(re),me=Kn(re).P,pe=$.W;R.push(U,function(Ce,We,Ct){return pe(Ce,We,Ct,me,fe)})}function Ko(R,U,$,re,fe,me){var pe=ph(re,me),Ce=$.W;R.push(U,function(We,Ct,qt){return Ce(We,Ct,qt,re,pe)})}function Kn(R){var U=R[za];return U||(U=To(R,R[za]=[],Od,Cl,Fd,Ko),Vs in R&&za in R&&(R.length=0),U)}var Vs=Symbol();function Ml(R,U){R[0]=U}function _c(R,U,$,re){var fe=$.U;R[U]=re?function(me,pe,Ce){return fe(me,pe,Ce,re)}:fe}function Ha(R,U,$,re,fe){var me=$.U,pe=fr(re),Ce=oi(re).P;R[U]=function(We,Ct,qt){return me(We,Ct,qt,Ce,pe,fe)}}function Pv(R,U,$,re,fe,me,pe){var Ce=$.U,We=dr(re,fe,me);R[U]=function(Ct,qt,Cn){return Ce(Ct,qt,Cn,re,We,pe)}}function oi(R){var U=R[Vs];return U||(U=To(R,R[Vs]={},Ml,_c,Ha,Pv),Vs in R&&za in R&&(R.length=0),U)}function Ga(R,U,$){for(;_n(U)&&U.i!=4;){var re=U.l,fe=$[re];if(!fe){var me=$[0];me&&(me=me[re])&&(fe=$[re]=ti(me))}if(!fe||!fe(U,R,re)){fe=U,re=R,me=fe.j,Sn(fe);var pe=fe;if(!pe.ca){if(fe=pe.h.h-me,pe.h.h=me,pe=pe.h,fe==0)fe=bt();else{if(me=lt(pe,fe),pe.S&&pe.m)fe=pe.i.subarray(me,me+fe);else{pe=pe.i;var Ce=me;fe=me+fe,fe=Ce===fe?Ge():ze?pe.slice(Ce,fe):new Uint8Array(pe.subarray(Ce,fe))}fe=fe.length==0?bt():new yt(fe,et)}(me=re.R)?me.push(fe):re.R=[fe]}}}return R}function Am(R,U,$){for(var re=$.length,fe=re%2==1,me=fe?1:0;me<re;me+=2)(0,$[me+1])(U,R,$[me]);Pn(R,U,fe?$[0]:void 0)}function Va(R,U){return{U:R,W:U}}var Ts=Va(function(R,U,$){if(R.i!==5)return!1;R=R.h;var re=R.i,fe=R.h,me=re[fe],pe=re[fe+1],Ce=re[fe+2];return re=re[fe+3],he(R,R.h+4),pe=(me<<0|pe<<8|Ce<<16|re<<24)>>>0,R=2*(pe>>31)+1,me=pe>>>23&255,pe&=8388607,ee(U,$,me==255?pe?NaN:1/0*R:me==0?R*Math.pow(2,-149)*pe:R*Math.pow(2,me-150)*(pe+Math.pow(2,23))),!0},function(R,U,$){if(U=Ue(U,$),U!=null){_t(R.h,8*$+5),R=R.h;var re=+U;re===0?0<1/re?nt=Fe=0:(Fe=0,nt=2147483648):isNaN(re)?(Fe=0,nt=2147483647):(re=($=0>re?-2147483648:0)?-re:re,34028234663852886e22<re?(Fe=0,nt=($|2139095040)>>>0):11754943508222875e-54>re?(re=Math.round(re/Math.pow(2,-149)),Fe=0,nt=($|re)>>>0):(U=Math.floor(Math.log(re)/Math.LN2),re*=Math.pow(2,-U),re=Math.round(8388608*re),16777216<=re&&++U,Fe=0,nt=($|U+127<<23|re&8388607)>>>0)),$=nt,R.h.push($>>>0&255),R.h.push($>>>8&255),R.h.push($>>>16&255),R.h.push($>>>24&255)}}),bu=Va(function(R,U,$){if(R.i!==0)return!1;var re=R.h,fe=0,me=R=0,pe=re.i,Ce=re.h;do{var We=pe[Ce++];fe|=(We&127)<<me,me+=7}while(32>me&&We&128);for(32<me&&(R|=(We&127)>>4),me=3;32>me&&We&128;me+=7)We=pe[Ce++],R|=(We&127)<<me;if(he(re,Ce),128>We)re=fe>>>0,We=R>>>0,(R=We&2147483648)&&(re=~re+1>>>0,We=~We>>>0,re==0&&(We=We+1>>>0)),re=4294967296*We+(re>>>0);else throw ft();return ee(U,$,R?-re:re),!0},function(R,U,$){U=Ot(U,$),U!=null&&(typeof U=="string"&&Te(U),U!=null&&(_t(R.h,8*$),typeof U=="number"?(R=R.h,ce(U),je(R,nt,Fe)):($=Te(U),je(R.h,$.i,$.h))))}),Yo=Va(function(R,U,$){return R.i!==0?!1:(ee(U,$,Le(R.h)),!0)},function(R,U,$){if(U=Ot(U,$),U!=null&&U!=null)if(_t(R.h,8*$),R=R.h,$=U,0<=$)_t(R,$);else{for(U=0;9>U;U++)R.h.push($&127|128),$>>=7;R.h.push(1)}}),wc=Va(function(R,U,$){if(R.i!==2)return!1;var re=Le(R.h)>>>0;R=R.h;var fe=lt(R,re);if(R=R.i,Ke){var me=R,pe;(pe=pt)||(pe=pt=new TextDecoder("utf-8",{fatal:!0})),R=fe+re,me=fe===0&&R===me.length?me:me.subarray(fe,R);try{var Ce=pe.decode(me)}catch(Cn){if(Ye===void 0){try{pe.decode(new Uint8Array([128]))}catch{}try{pe.decode(new Uint8Array([97])),Ye=!0}catch{Ye=!1}}throw!Ye&&(pt=void 0),Cn}}else{Ce=fe,re=Ce+re,fe=[];for(var We=null,Ct,qt;Ce<re;)Ct=R[Ce++],128>Ct?fe.push(Ct):224>Ct?Ce>=re?te():(qt=R[Ce++],194>Ct||(qt&192)!==128?(Ce--,te()):fe.push((Ct&31)<<6|qt&63)):240>Ct?Ce>=re-1?te():(qt=R[Ce++],(qt&192)!==128||Ct===224&&160>qt||Ct===237&&160<=qt||((me=R[Ce++])&192)!==128?(Ce--,te()):fe.push((Ct&15)<<12|(qt&63)<<6|me&63)):244>=Ct?Ce>=re-2?te():(qt=R[Ce++],(qt&192)!==128||(Ct<<28)+(qt-144)>>30!==0||((me=R[Ce++])&192)!==128||((pe=R[Ce++])&192)!==128?(Ce--,te()):(Ct=(Ct&7)<<18|(qt&63)<<12|(me&63)<<6|pe&63,Ct-=65536,fe.push((Ct>>10&1023)+55296,(Ct&1023)+56320))):te(),8192<=fe.length&&(We=Ne(We,fe),fe.length=0);Ce=Ne(We,fe)}return ee(U,$,Ce),!0},function(R,U,$){if(U=Ot(U,$),U!=null){var re=!1;if(re=re===void 0?!1:re,It){if(re&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(U))throw Error("Found an unpaired surrogate");U=(Jt||(Jt=new TextEncoder)).encode(U)}else{for(var fe=0,me=new Uint8Array(3*U.length),pe=0;pe<U.length;pe++){var Ce=U.charCodeAt(pe);if(128>Ce)me[fe++]=Ce;else{if(2048>Ce)me[fe++]=Ce>>6|192;else{if(55296<=Ce&&57343>=Ce){if(56319>=Ce&&pe<U.length){var We=U.charCodeAt(++pe);if(56320<=We&&57343>=We){Ce=1024*(Ce-55296)+We-56320+65536,me[fe++]=Ce>>18|240,me[fe++]=Ce>>12&63|128,me[fe++]=Ce>>6&63|128,me[fe++]=Ce&63|128;continue}else pe--}if(re)throw Error("Found an unpaired surrogate");Ce=65533}me[fe++]=Ce>>12|224,me[fe++]=Ce>>6&63|128}me[fe++]=Ce&63|128}}U=fe===me.length?me:me.subarray(0,fe)}_t(R.h,8*$+2),_t(R.h,U.length),Kr(R,R.h.end()),Kr(R,U)}}),Sc=Va(function(R,U,$,re,fe){if(R.i!==2)return!1;U=St(U,$,re),$=R.h.j,re=Le(R.h)>>>0;var me=R.h.h+re,pe=me-$;if(0>=pe&&(R.h.j=me,fe(U,R,void 0,void 0,void 0),pe=me-R.h.h),pe)throw Error("Message parsing ended unexpectedly. Expected to read "+(re+" bytes, instead read "+(re-pe)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return R.h.h=me,R.h.j=$,!0},function(R,U,$,re,fe){if(U=Je(U,re,$),U!=null)for(re=0;re<U.length;re++){var me=R;_t(me.h,8*$+2);var pe=me.h.end();Kr(me,pe),pe.push(me.i),me=pe,fe(U[re],R),pe=R;var Ce=me.pop();for(Ce=pe.i+pe.h.length()-Ce;127<Ce;)me.push(Ce&127|128),Ce>>>=7,pe.i++;me.push(Ce),pe.i++}});function Ui(R){return function(U,$){e:{if(An.length){var re=An.pop();re.setOptions($),ht(re.h,U,$),U=re}else U=new jt(U,$);try{var fe=oi(R),me=Ga(new fe.P,U,fe);break e}finally{fe=U.h,fe.i=null,fe.m=!1,fe.l=0,fe.j=0,fe.h=0,fe.S=!1,U.l=-1,U.i=-1,100>An.length&&An.push(U)}me=void 0}return me}}function Ps(R){return function(){var U=new kn;Am(this,U,Kn(R)),Kr(U,U.h.end());for(var $=new Uint8Array(U.i),re=U.j,fe=re.length,me=0,pe=0;pe<fe;pe++){var Ce=re[pe];$.set(Ce,me),me+=Ce.length}return U.j=[$],$}}function va(R){jn.call(this,R)}y(va,jn);var Dd=[va,1,Yo,2,Ts,3,wc,4,wc];va.prototype.l=Ps(Dd);function Ac(R){jn.call(this,R,-1,Bd)}y(Ac,jn),Ac.prototype.addClassification=function(R,U){return St(this,1,va,R,U),this};var Bd=[1],io=Ui([Ac,1,Sc,Dd]);function Ec(R){jn.call(this,R)}y(Ec,jn);var so=[Ec,1,Ts,2,Ts,3,Ts,4,Ts,5,Ts];Ec.prototype.l=Ps(so);function kd(R){jn.call(this,R,-1,Rs)}y(kd,jn);var Rs=[1],_u=Ui([kd,1,Sc,so]);function Jo(R){jn.call(this,R)}y(Jo,jn);var Zo=[Jo,1,Ts,2,Ts,3,Ts,4,Ts,5,Ts,6,bu],Ld=Ui(Zo);Jo.prototype.l=Ps(Zo);function Yi(R,U,$){if($=R.createShader($===0?R.VERTEX_SHADER:R.FRAGMENT_SHADER),R.shaderSource($,U),R.compileShader($),!R.getShaderParameter($,R.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+R.getShaderInfoLog($));return $}function Tl(R){return Je(R,va,1).map(function(U){var $=Ot(U,1);return{index:$??0,qa:Pt(U,2),label:Ot(U,3)!=null?Et(Ot(U,3),""):void 0,displayName:Ot(U,4)!=null?Et(Ot(U,4),""):void 0}})}function wu(R){return{x:Pt(R,1),y:Pt(R,2),z:Pt(R,3),visibility:Ue(R,4)!=null?Pt(R,4):void 0}}function ya(R){return Je(_u(R),Ec,1).map(wu)}function Wa(R,U){this.i=R,this.h=U,this.m=0}function ds(R,U,$){return oo(R,U),typeof R.h.canvas.transferToImageBitmap=="function"?Promise.resolve(R.h.canvas.transferToImageBitmap()):$?Promise.resolve(R.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(R.h.canvas):(R.j===void 0&&(R.j=document.createElement("canvas")),new Promise(function(re){R.j.height=R.h.canvas.height,R.j.width=R.h.canvas.width,R.j.getContext("2d",{}).drawImage(R.h.canvas,0,0,R.h.canvas.width,R.h.canvas.height),re(R.j)}))}function oo(R,U){var $=R.h;if(R.s===void 0){var re=Yi($,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),fe=Yi($,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),me=$.createProgram();if($.attachShader(me,re),$.attachShader(me,fe),$.linkProgram(me),!$.getProgramParameter(me,$.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+$.getProgramInfoLog(me));re=R.s=me,$.useProgram(re),fe=$.getUniformLocation(re,"sampler0"),R.l={O:$.getAttribLocation(re,"aVertex"),N:$.getAttribLocation(re,"aTex"),ya:fe},R.v=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,R.v),$.enableVertexAttribArray(R.l.O),$.vertexAttribPointer(R.l.O,2,$.FLOAT,!1,0,0),$.bufferData($.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),$.STATIC_DRAW),$.bindBuffer($.ARRAY_BUFFER,null),R.u=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,R.u),$.enableVertexAttribArray(R.l.N),$.vertexAttribPointer(R.l.N,2,$.FLOAT,!1,0,0),$.bufferData($.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),$.STATIC_DRAW),$.bindBuffer($.ARRAY_BUFFER,null),$.uniform1i(fe,0)}re=R.l,$.useProgram(R.s),$.canvas.width=U.width,$.canvas.height=U.height,$.viewport(0,0,U.width,U.height),$.activeTexture($.TEXTURE0),R.i.bindTexture2d(U.glName),$.enableVertexAttribArray(re.O),$.bindBuffer($.ARRAY_BUFFER,R.v),$.vertexAttribPointer(re.O,2,$.FLOAT,!1,0,0),$.enableVertexAttribArray(re.N),$.bindBuffer($.ARRAY_BUFFER,R.u),$.vertexAttribPointer(re.N,2,$.FLOAT,!1,0,0),$.bindFramebuffer($.DRAW_FRAMEBUFFER?$.DRAW_FRAMEBUFFER:$.FRAMEBUFFER,null),$.clearColor(0,0,0,0),$.clear($.COLOR_BUFFER_BIT),$.colorMask(!0,!0,!0,!0),$.drawArrays($.TRIANGLE_FAN,0,4),$.disableVertexAttribArray(re.O),$.disableVertexAttribArray(re.N),$.bindBuffer($.ARRAY_BUFFER,null),R.i.bindTexture2d(0)}function ao(R){this.h=R}var Cc=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function mh(R,U){return U+R}function Qo(R,U){window[R]=U}function $a(R){var U=document.createElement("script");return U.setAttribute("src",R),U.setAttribute("crossorigin","anonymous"),new Promise(function($){U.addEventListener("load",function(){$()},!1),U.addEventListener("error",function(){$()},!1),document.body.appendChild(U)})}function jd(){return L(function(R){switch(R.h){case 1:return R.s=2,C(R,WebAssembly.instantiate(Cc),4);case 4:R.h=3,R.s=0;break;case 2:return R.s=0,R.l=null,R.return(!1);case 3:return R.return(!0)}})}function Mc(R){if(this.h=R,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=R&&R.locateFile||mh,typeof window=="object")var U=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")U=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=U,R.options){U=a(Object.keys(R.options));for(var $=U.next();!$.done;$=U.next()){$=$.value;var re=R.options[$].default;re!==void 0&&(this.l[$]=typeof re=="function"?re():re)}}}n=Mc.prototype,n.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Ud(R){var U,$,re,fe,me,pe,Ce,We,Ct,qt,Cn;return L(function(vn){switch(vn.h){case 1:return R.ga?(U=R.h.files===void 0?[]:typeof R.h.files=="function"?R.h.files(R.l):R.h.files,C(vn,jd(),2)):vn.return();case 2:if($=vn.i,typeof window=="object")return Qo("createMediapipeSolutionsWasm",{locateFile:R.locateFile}),Qo("createMediapipeSolutionsPackedAssets",{locateFile:R.locateFile}),pe=U.filter(function(Ht){return Ht.data!==void 0}),Ce=U.filter(function(Ht){return Ht.data===void 0}),We=Promise.all(pe.map(function(Ht){var an=Tc(R,Ht.url);if(Ht.path!==void 0){var fn=Ht.path;an=an.then(function(Ar){return R.overrideFile(fn,Ar),Promise.resolve(Ar)})}return an})),Ct=Promise.all(Ce.map(function(Ht){return Ht.simd===void 0||Ht.simd&&$||!Ht.simd&&!$?$a(R.locateFile(Ht.url,R.ha)):Promise.resolve()})).then(function(){var Ht,an,fn;return L(function(Ar){if(Ar.h==1)return Ht=window.createMediapipeSolutionsWasm,an=window.createMediapipeSolutionsPackedAssets,fn=R,C(Ar,Ht(an),2);fn.i=Ar.i,Ar.h=0})}),qt=(function(){return L(function(Ht){return R.h.graph&&R.h.graph.url?Ht=C(Ht,Tc(R,R.h.graph.url),0):(Ht.h=0,Ht=void 0),Ht})})(),C(vn,Promise.all([Ct,We,qt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return re=U.filter(function(Ht){return Ht.simd===void 0||Ht.simd&&$||!Ht.simd&&!$}).map(function(Ht){return R.locateFile(Ht.url,R.ha)}),importScripts.apply(null,l(re)),fe=R,C(vn,createMediapipeSolutionsWasm(Module),6);case 6:fe.i=vn.i,R.m=new OffscreenCanvas(1,1),R.i.canvas=R.m,me=R.i.GL.createContext(R.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),R.i.GL.makeContextCurrent(me),vn.h=4;break;case 7:if(R.m=document.createElement("canvas"),Cn=R.m.getContext("webgl2",{}),!Cn&&(Cn=R.m.getContext("webgl",{}),!Cn))return alert("Failed to create WebGL canvas context when passing video frame."),vn.return();R.K=Cn,R.i.canvas=R.m,R.i.createContext(R.m,!0,!0,{});case 4:R.j=new R.i.SolutionWasm,R.ga=!1,vn.h=0}})}function Em(R){var U,$,re,fe,me,pe,Ce,We;return L(function(Ct){if(Ct.h==1){if(R.h.graph&&R.h.graph.url&&R.fa===R.h.graph.url)return Ct.return();if(R.u=!0,!R.h.graph||!R.h.graph.url){Ct.h=2;return}return R.fa=R.h.graph.url,C(Ct,Tc(R,R.h.graph.url),3)}for(Ct.h!=2&&(U=Ct.i,R.j.loadGraph(U)),$=a(Object.keys(R.D)),re=$.next();!re.done;re=$.next())fe=re.value,R.j.overrideFile(fe,R.D[fe]);if(R.D={},R.h.listeners)for(me=a(R.h.listeners),pe=me.next();!pe.done;pe=me.next())Ce=pe.value,Mm(R,Ce);We=R.l,R.l={},R.setOptions(We),Ct.h=0})}n.reset=function(){var R=this;return L(function(U){R.j&&(R.j.reset(),R.s={},R.v={}),U.h=0})},n.setOptions=function(R,U){var $=this;if(U=U||this.h.options){for(var re=[],fe=[],me={},pe=a(Object.keys(R)),Ce=pe.next();!Ce.done;me={X:me.X,Y:me.Y},Ce=pe.next())if(Ce=Ce.value,!(Ce in this.l&&this.l[Ce]===R[Ce])){this.l[Ce]=R[Ce];var We=U[Ce];We!==void 0&&(We.onChange&&(me.X=We.onChange,me.Y=R[Ce],re.push((function(Ct){return function(){var qt;return L(function(Cn){if(Cn.h==1)return C(Cn,Ct.X(Ct.Y),2);qt=Cn.i,qt===!0&&($.u=!0),Cn.h=0})}})(me))),We.graphOptionXref&&(Ce=Object.assign({},{calculatorName:"",calculatorIndex:0},We.graphOptionXref,{valueNumber:We.type===1?R[Ce]:0,valueBoolean:We.type===0?R[Ce]:!1,valueString:We.type===2?R[Ce]:""}),fe.push(Ce)))}(re.length!==0||fe.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(fe),this.F=(this.F===void 0?[]:this.F).concat(re))}};function Cm(R){var U,$,re,fe,me,pe,Ce;return L(function(We){switch(We.h){case 1:if(!R.u)return We.return();if(!R.F){We.h=2;break}U=a(R.F),$=U.next();case 3:if($.done){We.h=5;break}return re=$.value,C(We,re(),4);case 4:$=U.next(),We.h=3;break;case 5:R.F=void 0;case 2:if(R.H){for(fe=new R.i.GraphOptionChangeRequestList,me=a(R.H),pe=me.next();!pe.done;pe=me.next())Ce=pe.value,fe.push_back(Ce);R.j.changeOptions(fe),fe.delete(),R.H=void 0}R.u=!1,We.h=0}})}n.initialize=function(){var R=this;return L(function(U){return U.h==1?C(U,Ud(R),2):U.h!=3?C(U,Em(R),3):C(U,Cm(R),0)})};function Tc(R,U){var $,re;return L(function(fe){return U in R.L?fe.return(R.L[U]):($=R.locateFile(U,""),re=fetch($).then(function(me){return me.arrayBuffer()}),R.L[U]=re,fe.return(re))})}n.overrideFile=function(R,U){this.j?this.j.overrideFile(R,U):this.D[R]=U},n.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},n.send=function(R,U){var $=this,re,fe,me,pe,Ce,We,Ct,qt,Cn;return L(function(vn){switch(vn.h){case 1:return $.h.inputs?(re=1e3*(U??performance.now()),C(vn,$.I,2)):vn.return();case 2:return C(vn,$.initialize(),3);case 3:for(fe=new $.i.PacketDataList,me=a(Object.keys(R)),pe=me.next();!pe.done;pe=me.next())if(Ce=pe.value,We=$.h.inputs[Ce]){e:{var Ht=R[Ce];switch(We.type){case"video":var an=$.s[We.stream];if(an||(an=new Wa($.i,$.K),$.s[We.stream]=an),an.m===0&&(an.m=an.i.createTexture()),typeof HTMLVideoElement<"u"&&Ht instanceof HTMLVideoElement)var fn=Ht.videoWidth,Ar=Ht.videoHeight;else typeof HTMLImageElement<"u"&&Ht instanceof HTMLImageElement?(fn=Ht.naturalWidth,Ar=Ht.naturalHeight):(fn=Ht.width,Ar=Ht.height);Ar={glName:an.m,width:fn,height:Ar},fn=an.h,fn.canvas.width=Ar.width,fn.canvas.height=Ar.height,fn.activeTexture(fn.TEXTURE0),an.i.bindTexture2d(an.m),fn.texImage2D(fn.TEXTURE_2D,0,fn.RGBA,fn.RGBA,fn.UNSIGNED_BYTE,Ht),an.i.bindTexture2d(0),an=Ar;break e;case"detections":for(an=$.s[We.stream],an||(an=new ao($.i),$.s[We.stream]=an),an.data||(an.data=new an.h.DetectionListData),an.data.reset(Ht.length),Ar=0;Ar<Ht.length;++Ar){fn=Ht[Ar];var ar=an.data,xi=ar.setBoundingBox,Ns=Ar,zi=fn.la,Zn=new Jo;if(dt(Zn,1,zi.sa),dt(Zn,2,zi.ta),dt(Zn,3,zi.height),dt(Zn,4,zi.width),dt(Zn,5,zi.rotation),ee(Zn,6,zi.pa),zi=Zn.l(),xi.call(ar,Ns,zi),fn.ea)for(ar=0;ar<fn.ea.length;++ar){Zn=fn.ea[ar],xi=an.data,Ns=xi.addNormalizedLandmark,zi=Ar,Zn=Object.assign({},Zn,{visibility:Zn.visibility?Zn.visibility:0});var Ri=new Ec;dt(Ri,1,Zn.x),dt(Ri,2,Zn.y),dt(Ri,3,Zn.z),Zn.visibility&&dt(Ri,4,Zn.visibility),Zn=Ri.l(),Ns.call(xi,zi,Zn)}if(fn.ba)for(ar=0;ar<fn.ba.length;++ar)xi=an.data,Ns=xi.addClassification,zi=Ar,Zn=fn.ba[ar],Ri=new va,dt(Ri,2,Zn.qa),Zn.index&&ee(Ri,1,Zn.index),Zn.label&&ee(Ri,3,Zn.label),Zn.displayName&&ee(Ri,4,Zn.displayName),Zn=Ri.l(),Ns.call(xi,zi,Zn)}an=an.data;break e;default:an={}}}switch(Ct=an,qt=We.stream,We.type){case"video":fe.pushTexture2d(Object.assign({},Ct,{stream:qt,timestamp:re}));break;case"detections":Cn=Ct,Cn.stream=qt,Cn.timestamp=re,fe.pushDetectionList(Cn);break;default:throw Error("Unknown input config type: '"+We.type+"'")}}return $.j.send(fe),C(vn,$.I,4);case 4:fe.delete(),vn.h=0}})};function zd(R,U,$){var re,fe,me,pe,Ce,We,Ct,qt,Cn,vn,Ht,an,fn,Ar;return L(function(ar){switch(ar.h){case 1:if(!$)return ar.return(U);for(re={},fe=0,me=a(Object.keys($)),pe=me.next();!pe.done;pe=me.next())Ce=pe.value,We=$[Ce],typeof We!="string"&&We.type==="texture"&&U[We.stream]!==void 0&&++fe;1<fe&&(R.M=!1),Ct=a(Object.keys($)),pe=Ct.next();case 2:if(pe.done){ar.h=4;break}if(qt=pe.value,Cn=$[qt],typeof Cn=="string")return fn=re,Ar=qt,C(ar,gh(R,qt,U[Cn]),14);if(vn=U[Cn.stream],Cn.type==="detection_list"){if(vn){for(var xi=vn.getRectList(),Ns=vn.getLandmarksList(),zi=vn.getClassificationsList(),Zn=[],Ri=0;Ri<xi.size();++Ri){var lo=Ld(xi.get(Ri)),Pc=Pt(lo,1),Gd=Pt(lo,2),Rc=Pt(lo,3),qa=Pt(lo,4),Nc=Pt(lo,5,0),Su=void 0;Su=Su===void 0?0:Su,lo={la:{sa:Pc,ta:Gd,height:Rc,width:qa,rotation:Nc,pa:Et(Ot(lo,6),Su)},ea:ya(Ns.get(Ri)),ba:Tl(io(zi.get(Ri)))},Zn.push(lo)}xi=Zn}else xi=[];re[qt]=xi,ar.h=7;break}if(Cn.type==="proto_list"){if(vn){for(xi=Array(vn.size()),Ns=0;Ns<vn.size();Ns++)xi[Ns]=vn.get(Ns);vn.delete()}else xi=[];re[qt]=xi,ar.h=7;break}if(vn===void 0){ar.h=3;break}if(Cn.type==="float_list"){re[qt]=vn,ar.h=7;break}if(Cn.type==="proto"){re[qt]=vn,ar.h=7;break}if(Cn.type!=="texture")throw Error("Unknown output config type: '"+Cn.type+"'");return Ht=R.v[qt],Ht||(Ht=new Wa(R.i,R.K),R.v[qt]=Ht),C(ar,ds(Ht,vn,R.M),13);case 13:an=ar.i,re[qt]=an;case 7:Cn.transform&&re[qt]&&(re[qt]=Cn.transform(re[qt])),ar.h=3;break;case 14:fn[Ar]=ar.i;case 3:pe=Ct.next(),ar.h=2;break;case 4:return ar.return(re)}})}function gh(R,U,$){var re;return L(function(fe){return typeof $=="number"||$ instanceof Uint8Array||$ instanceof R.i.Uint8BlobList?fe.return($):$ instanceof R.i.Texture2dDataOut?(re=R.v[U],re||(re=new Wa(R.i,R.K),R.v[U]=re),fe.return(ds(re,$,R.M))):fe.return(void 0)})}function Mm(R,U){for(var $=U.name||"$",re=[].concat(l(U.wants)),fe=new R.i.StringList,me=a(U.wants),pe=me.next();!pe.done;pe=me.next())fe.push_back(pe.value);me=R.i.PacketListener.implement({onResults:function(Ce){for(var We={},Ct=0;Ct<U.wants.length;++Ct)We[re[Ct]]=Ce.get(Ct);var qt=R.listeners[$];qt&&(R.I=zd(R,We,U.outs).then(function(Cn){Cn=qt(Cn);for(var vn=0;vn<U.wants.length;++vn){var Ht=We[re[vn]];typeof Ht=="object"&&Ht.hasOwnProperty&&Ht.hasOwnProperty("delete")&&Ht.delete()}Cn&&(R.I=Cn)}))}}),R.j.attachMultiListener(fe,me),fe.delete()}n.onResults=function(R,U){this.listeners[U||"$"]=R},ie("Solution",Mc),ie("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function vh(R){switch(R===void 0&&(R=0),R){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Hd(R){var U=this;R=R||{},this.h=new Mc({locateFile:R.locateFile,files:function($){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:vh($.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:ya},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:ya},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function($){var re,fe,me;return L(function(pe){return pe.h==1?(re=vh($),fe="third_party/mediapipe/modules/pose_landmark/"+re,C(pe,Tc(U.h,re),2)):(me=pe.i,U.h.overrideFile(fe,me),pe.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}n=Hd.prototype,n.reset=function(){this.h.reset()},n.close=function(){return this.h.close(),Promise.resolve()},n.onResults=function(R){this.h.onResults(R)},n.initialize=function(){var R=this;return L(function(U){return C(U,R.h.initialize(),0)})},n.send=function(R,U){var $=this;return L(function(re){return C(re,$.h.send(R,U),0)})},n.setOptions=function(R){this.h.setOptions(R)},ie("Pose",Hd),ie("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),ie("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),ie("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),ie("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),ie("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),ie("VERSION","0.5.1675469404")}).call(cN)),cN}var gJ=_Te(),uN={},KH;function wTe(){return KH||(KH=1,(function(){function n(I){var L=0;return function(){return L<I.length?{done:!1,value:I[L++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(I,L,W){return I==Array.prototype||I==Object.prototype||(I[L]=W.value),I};function t(I){I=[typeof globalThis=="object"&&globalThis,I,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fa=="object"&&Fa];for(var L=0;L<I.length;++L){var W=I[L];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=t(this);function i(I,L){if(L)e:{var W=r;I=I.split(".");for(var q=0;q<I.length-1;q++){var K=I[q];if(!(K in W))break e;W=W[K]}I=I[I.length-1],q=W[I],L=L(q),L!=q&&L!=null&&e(W,I,{configurable:!0,writable:!0,value:L})}}i("Symbol",function(I){function L(ie){if(this instanceof L)throw new TypeError("Symbol is not a constructor");return new W(q+(ie||"")+"_"+K++,ie)}function W(ie,V){this.g=ie,e(this,"description",{configurable:!0,writable:!0,value:V})}if(I)return I;W.prototype.toString=function(){return this.g};var q="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",K=0;return L}),i("Symbol.iterator",function(I){if(I)return I;I=Symbol("Symbol.iterator");for(var L="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),W=0;W<L.length;W++){var q=r[L[W]];typeof q=="function"&&typeof q.prototype[I]!="function"&&e(q.prototype,I,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return I});function s(I){return I={next:I},I[Symbol.iterator]=function(){return this},I}function o(I){var L=typeof Symbol<"u"&&Symbol.iterator&&I[Symbol.iterator];return L?L.call(I):{next:n(I)}}function a(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function l(I){if(I.i)throw new TypeError("Generator is already running");I.i=!0}a.prototype.l=function(I){this.o=I};function u(I,L){I.h={F:L,G:!0},I.j=I.m}a.prototype.return=function(I){this.h={return:I},this.j=this.m};function d(I){this.g=new a,this.h=I}function c(I,L){l(I.g);var W=I.g.g;return W?f(I,"return"in W?W.return:function(q){return{value:q,done:!0}},L,I.g.return):(I.g.return(L),m(I))}function f(I,L,W,q){try{var K=L.call(I.g.g,W);if(!(K instanceof Object))throw new TypeError("Iterator result "+K+" is not an object");if(!K.done)return I.g.i=!1,K;var ie=K.value}catch(V){return I.g.g=null,u(I.g,V),m(I)}return I.g.g=null,q.call(I.g,ie),m(I)}function m(I){for(;I.g.j;)try{var L=I.h(I.g);if(L)return I.g.i=!1,{value:L.value,done:!1}}catch(W){I.g.o=void 0,u(I.g,W)}if(I.g.i=!1,I.g.h){if(L=I.g.h,I.g.h=null,L.G)throw L.F;return{value:L.return,done:!0}}return{value:void 0,done:!0}}function v(I){this.next=function(L){return l(I.g),I.g.g?L=f(I,I.g.g.next,L,I.g.l):(I.g.l(L),L=m(I)),L},this.throw=function(L){return l(I.g),I.g.g?L=f(I,I.g.g.throw,L,I.g.l):(u(I.g,L),L=m(I)),L},this.return=function(L){return c(I,L)},this[Symbol.iterator]=function(){return this}}function b(I){function L(q){return I.next(q)}function W(q){return I.throw(q)}return new Promise(function(q,K){function ie(V){V.done?q(V.value):Promise.resolve(V.value).then(L,W).then(ie,K)}ie(I.next())})}i("Promise",function(I){function L(V){this.h=0,this.i=void 0,this.g=[],this.o=!1;var J=this.j();try{V(J.resolve,J.reject)}catch(H){J.reject(H)}}function W(){this.g=null}function q(V){return V instanceof L?V:new L(function(J){J(V)})}if(I)return I;W.prototype.h=function(V){if(this.g==null){this.g=[];var J=this;this.i(function(){J.l()})}this.g.push(V)};var K=r.setTimeout;W.prototype.i=function(V){K(V,0)},W.prototype.l=function(){for(;this.g&&this.g.length;){var V=this.g;this.g=[];for(var J=0;J<V.length;++J){var H=V[J];V[J]=null;try{H()}catch(Y){this.j(Y)}}}this.g=null},W.prototype.j=function(V){this.i(function(){throw V})},L.prototype.j=function(){function V(Y){return function(ne){H||(H=!0,Y.call(J,ne))}}var J=this,H=!1;return{resolve:V(this.A),reject:V(this.l)}},L.prototype.A=function(V){if(V===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(V instanceof L)this.C(V);else{e:switch(typeof V){case"object":var J=V!=null;break e;case"function":J=!0;break e;default:J=!1}J?this.v(V):this.m(V)}},L.prototype.v=function(V){var J=void 0;try{J=V.then}catch(H){this.l(H);return}typeof J=="function"?this.D(J,V):this.m(V)},L.prototype.l=function(V){this.u(2,V)},L.prototype.m=function(V){this.u(1,V)},L.prototype.u=function(V,J){if(this.h!=0)throw Error("Cannot settle("+V+", "+J+"): Promise already settled in state"+this.h);this.h=V,this.i=J,this.h===2&&this.B(),this.H()},L.prototype.B=function(){var V=this;K(function(){if(V.I()){var J=r.console;typeof J<"u"&&J.error(V.i)}},1)},L.prototype.I=function(){if(this.o)return!1;var V=r.CustomEvent,J=r.Event,H=r.dispatchEvent;return typeof H>"u"?!0:(typeof V=="function"?V=new V("unhandledrejection",{cancelable:!0}):typeof J=="function"?V=new J("unhandledrejection",{cancelable:!0}):(V=r.document.createEvent("CustomEvent"),V.initCustomEvent("unhandledrejection",!1,!0,V)),V.promise=this,V.reason=this.i,H(V))},L.prototype.H=function(){if(this.g!=null){for(var V=0;V<this.g.length;++V)ie.h(this.g[V]);this.g=null}};var ie=new W;return L.prototype.C=function(V){var J=this.j();V.s(J.resolve,J.reject)},L.prototype.D=function(V,J){var H=this.j();try{V.call(J,H.resolve,H.reject)}catch(Y){H.reject(Y)}},L.prototype.then=function(V,J){function H(oe,ye){return typeof oe=="function"?function(Be){try{Y(oe(Be))}catch(Xe){ne(Xe)}}:ye}var Y,ne,Z=new L(function(oe,ye){Y=oe,ne=ye});return this.s(H(V,Y),H(J,ne)),Z},L.prototype.catch=function(V){return this.then(void 0,V)},L.prototype.s=function(V,J){function H(){switch(Y.h){case 1:V(Y.i);break;case 2:J(Y.i);break;default:throw Error("Unexpected state: "+Y.h)}}var Y=this;this.g==null?ie.h(H):this.g.push(H),this.o=!0},L.resolve=q,L.reject=function(V){return new L(function(J,H){H(V)})},L.race=function(V){return new L(function(J,H){for(var Y=o(V),ne=Y.next();!ne.done;ne=Y.next())q(ne.value).s(J,H)})},L.all=function(V){var J=o(V),H=J.next();return H.done?q([]):new L(function(Y,ne){function Z(Be){return function(Xe){oe[Be]=Xe,ye--,ye==0&&Y(oe)}}var oe=[],ye=0;do oe.push(void 0),ye++,q(H.value).s(Z(oe.length-1),ne),H=J.next();while(!H.done)})},L});var y=typeof Object.assign=="function"?Object.assign:function(I,L){for(var W=1;W<arguments.length;W++){var q=arguments[W];if(q)for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(I[K]=q[K])}return I};i("Object.assign",function(I){return I||y});var w=this||self,A={facingMode:"user",width:640,height:480};function E(I,L){this.video=I,this.i=0,this.h=Object.assign(Object.assign({},A),L)}E.prototype.stop=function(){var I=this,L,W,q,K;return b(new v(new d(function(ie){if(I.g){for(L=I.g.getTracks(),W=o(L),q=W.next();!q.done;q=W.next())K=q.value,K.stop();I.g=void 0}ie.j=0})))},E.prototype.start=function(){var I=this,L;return b(new v(new d(function(W){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),L=I.h,W.return(navigator.mediaDevices.getUserMedia({video:{facingMode:L.facingMode,width:L.width,height:L.height}}).then(function(q){M(I,q)}).catch(function(q){var K="Failed to acquire camera feed: "+q;throw console.error(K),alert(K),q}))})))};function C(I){window.requestAnimationFrame(function(){P(I)})}function M(I,L){I.g=L,I.video.srcObject=L,I.video.onloadedmetadata=function(){I.video.play(),C(I)}}function P(I){var L=null;I.video.paused||I.video.currentTime===I.i||(I.i=I.video.currentTime,L=I.h.onFrame()),L?L.then(function(){C(I)}):C(I)}var O=["Camera"],k=w;O[0]in k||typeof k.execScript>"u"||k.execScript("var "+O[0]);for(var D;O.length&&(D=O.shift());)O.length||E===void 0?k[D]&&k[D]!==Object.prototype[D]?k=k[D]:k=k[D]={}:k[D]=E}).call(uN)),uN}var vJ=wTe();const YH={postureScore:0,alignment:"-",rangeOfMotion:0,formQuality:"-"},JH=(n,e=0)=>{const t=Number(n);return Number.isFinite(t)?t:e};function STe(){const n=Td(),{completeSession:e}=zb(),[t,r]=B.useState({...YH}),[i,s]=B.useState("shoulder_rotation"),[o,a]=B.useState(null),[l,u]=B.useState(!1),[d,c]=B.useState(!1),[f,m]=B.useState([]),[v,b]=B.useState(""),[y,w]=B.useState("0"),[A,E]=B.useState(0),[C,M]=B.useState(!1),[P,O]=B.useState(!1),k=B.useRef(null),D=B.useRef(null),I=B.useRef(null),L=B.useRef(null),W=B.useRef(null),q=B.useRef(null),K=B.useRef(null),[ie,V]=B.useState(null),J=B.useRef([]),H=B.useRef(null),Y=B.useRef(null),ne=B.useRef(0),Z=B.useRef([]),oe=B.useRef(!1);B.useEffect(()=>{const Te=sessionStorage.getItem("selectedExercise"),tt=sessionStorage.getItem("selectedExerciseId");if(Te)try{const st=JSON.parse(Te),ft=Bf.getExerciseById(st.id);ft?(a(ft),ft.name.toLowerCase().includes("shoulder")?s("shoulder_rotation"):ft.name.toLowerCase().includes("squat")&&s("squat")):(a(st),st.name.toLowerCase().includes("shoulder")?s("shoulder_rotation"):st.name.toLowerCase().includes("squat")&&s("squat")),sessionStorage.removeItem("selectedExercise"),sessionStorage.removeItem("selectedExerciseId")}catch{}else if(tt){const st=Bf.getExerciseById(tt);st&&(a(st),st.name.toLowerCase().includes("shoulder")?s("shoulder_rotation"):st.name.toLowerCase().includes("squat")&&s("squat")),sessionStorage.removeItem("selectedExerciseId")}},[]);const ye=B.useCallback((Te,tt,st)=>{const ft=[Te[0]-tt[0],Te[1]-tt[1]],ae=[st[0]-tt[0],st[1]-tt[1]],te=ft[0]*ae[0]+ft[1]*ae[1],Ne=Math.sqrt(ft[0]*ft[0]+ft[1]*ft[1]),Ye=Math.sqrt(ae[0]*ae[0]+ae[1]*ae[1]),pt=Math.max(-1,Math.min(1,te/(Ne*Ye)));return Math.acos(pt)*(180/Math.PI)},[]),Be=B.useCallback((Te,tt)=>{const st=Te.poseLandmarks;if(!st||st.length===0)return null;const ft=11,ae=13,te=15,Ne=12,Ye=14,pt=16,Ke=23,Jt=25,It=27;let Vt=0,Lt=!1;if(tt==="shoulder_rotation"){const lt=st[ft],vt=st[ae],mt=st[te],je=st[Ne],_t=st[Ye],jt=st[pt];let _n=!1,Sn=!1,An=0,kn=0;if(lt&&vt&&mt&&(lt.visibility??1)>.5&&(vt.visibility??1)>.5&&(mt.visibility??1)>.5&&(An=ye([lt.x,lt.y],[vt.x,vt.y],[mt.x,mt.y]),_n=An>0),je&&_t&&jt&&(je.visibility??1)>.5&&(_t.visibility??1)>.5&&(jt.visibility??1)>.5&&(kn=ye([je.x,je.y],[_t.x,_t.y],[jt.x,jt.y]),Sn=kn>0),_n&&Sn)if(H.current!==null){const Kr=H.current-An,Or=H.current-kn;if(Kr>0&&Or>0)Kr>=Or?(Vt=An,Lt=!0):(Vt=kn,Lt=!0);else if(Kr>0)Vt=An,Lt=!0;else if(Or>0)Vt=kn,Lt=!0;else{const xr=((lt.visibility??0)+(vt.visibility??0)+(mt.visibility??0))/3,Fr=((je.visibility??0)+(_t.visibility??0)+(jt.visibility??0))/3;xr>=Fr?(Vt=An,Lt=!0):(Vt=kn,Lt=!0)}}else{const Kr=((lt.visibility??0)+(vt.visibility??0)+(mt.visibility??0))/3,Or=((je.visibility??0)+(_t.visibility??0)+(jt.visibility??0))/3;Kr>=Or?(Vt=An,Lt=!0):(Vt=kn,Lt=!0)}else _n?(Vt=An,Lt=!0):Sn&&(Vt=kn,Lt=!0)}else if(tt==="squat"){const lt=st[Ke],vt=st[Jt],mt=st[It];lt&&vt&&mt&&(lt.visibility??1)>.5&&(vt.visibility??1)>.5&&(mt.visibility??1)>.5&&(Vt=ye([lt.x,lt.y],[vt.x,vt.y],[mt.x,mt.y]),Lt=Vt>0)}if(!Lt)return null;if(!oe.current&&Vt>0&&(Z.current.push(Vt),Z.current.length>=15)){const lt=Z.current,mt=lt.reduce((_t,jt)=>_t+jt,0)/lt.length;let je=!0;tt==="shoulder_rotation"?je=mt>=140&&mt<=180:tt==="squat"&&(je=mt>=160&&mt<=180),H.current=mt,oe.current=!0,Z.current=[]}if(!oe.current||H.current===null)return null;J.current.push(Vt),J.current.length>5&&J.current.shift();const bt=J.current.reduce((lt,vt)=>lt+vt,0)/J.current.length;if(tt==="shoulder_rotation")if(Y.current===null)Y.current=bt<H.current?"down":"up";else{const lt=H.current-bt;Y.current==="down"&&bt>=H.current?(ne.current+=1,Y.current="up"):Y.current==="up"&&lt>=20&&(Y.current="down")}else if(tt==="squat")if(Y.current===null)Y.current=bt<H.current?"down":"up";else{const lt=H.current-bt;Y.current==="down"&&bt>=H.current?(ne.current+=1,Y.current="up"):Y.current==="up"&&lt>=30&&(Y.current="down")}let Zt=0,_e="Off",Pe=0;tt==="shoulder_rotation"?(Pe=H.current-bt,Pe<0||Pe>80?(Zt=0,_e="Off"):(Pe>0?Pe<=40?Zt=Pe/40*80:Pe<=60?Zt=80+(Pe-40)/20*20:Zt=100-(Pe-60)/20*10:Zt=0,_e=Pe>=30&&Pe<=60?"Correct":"Off")):tt==="squat"&&(Pe=H.current-bt,Pe<0||Pe>90?(Zt=0,_e="Off"):(Pe>0?Pe<=50?Zt=Pe/50*80:Pe<=70?Zt=80+(Pe-50)/20*20:Zt=100-(Pe-70)/20*10:Zt=0,_e=Pe>=40&&Pe<=70?"Correct":"Off"));const ht=J.current.length>1?Math.sqrt(J.current.reduce((lt,vt)=>lt+Math.pow(vt-bt,2),0)/J.current.length):0;let he="-";return Pe<5?he="Needs Work":ht>5?he="Shaky":Zt>85?he="Excellent":Zt>70?he="Good":he="Needs Work",{posture_score:Math.round(Zt*10)/10,alignment:_e,range_of_motion:Math.round(bt),form_quality:he,reps:ne.current}},[ye]),Xe=B.useCallback(Te=>{if(!Te)return;const tt=JH(Te.posture_score);r({postureScore:tt,alignment:Te.alignment??"-",rangeOfMotion:JH(Te.range_of_motion),formQuality:Te.form_quality??"-"})},[]);B.useEffect(()=>{Ae()},[]),B.useEffect(()=>()=>{et(),Oe()},[]),B.useEffect(()=>{const Te=W.current;if(Te)if(ie){Te.srcObject=ie,Te.muted=!0,Te.playsInline=!0;const tt=Te.play();tt&&tt.catch(()=>{})}else Te.srcObject=null},[ie]);const we=B.useRef(null);B.useEffect(()=>{const Te=o?.id||null;Te&&Te!==we.current?(E(0),M(!1),O(!1),we.current=Te):Te||(we.current=null)},[o?.id]);const Ae=async()=>{try{const tt=(await navigator.mediaDevices.enumerateDevices()).filter(ae=>ae.kind==="videoinput").map((ae,te)=>({deviceId:ae.deviceId,label:ae.label||`Camera ${te+1}`,index:te})),st=tt.filter(ae=>ae.deviceId&&ae.deviceId.trim()!==""),ft=st.length>0?st:tt;if(m(ft),ft.length){const ae=ft[0];ae.deviceId&&ae.deviceId.trim()!==""?b(ae.deviceId):b(`camera-${ae.index}`),w(String(ae.index))}else b("default"),w("0")}catch{}},ke=async()=>{try{const Te={width:{ideal:1280},height:{ideal:720}};v&&v.trim()!==""&&!v.startsWith("camera-")&&v!=="default"&&(Te.deviceId={exact:v});const tt=await navigator.mediaDevices.getUserMedia({video:Te,audio:!1});V(tt),c(!0),Ae()}catch(Te){console.error("Failed to start camera preview:",Te),alert("Unable to access camera. Please check your permissions and try again.")}},Oe=()=>{ie&&ie.getTracks().forEach(Te=>Te.stop()),V(null),W.current&&(W.current.srcObject=null),c(!1)},Ge=async()=>{if(!y&&!v||!i)return;const Te=W.current;if(!Te){console.error("Video element not available");return}et(),J.current=[],H.current=null,Y.current=null,ne.current=0,Z.current=[],oe.current=!1,r({...YH});try{const tt=new gJ.Pose({locateFile:te=>`https://cdn.jsdelivr.net/npm/@mediapipe/pose/${te}`});tt.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,smoothSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5}),tt.onResults(te=>{const Ne=Be(te,i);Ne!==null&&Xe(Ne)}),q.current=tt,ie||(await ke(),await new Promise(te=>setTimeout(te,500)));const st=new vJ.Camera(Te,{onFrame:async()=>{q.current&&Te.readyState===4&&await q.current.send({image:Te})},width:640,height:480});K.current=st,await st.start();const ft=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;D.current=ft;const ae=Si.connect();k.current=ae,u(!0)}catch{u(!1),alert("Failed to start session. Please check camera permissions and try again.")}},et=()=>{K.current&&(K.current.stop(),K.current=null),q.current&&(q.current.close(),q.current=null),J.current=[],H.current=null,Y.current=null,ne.current=0,Z.current=[],oe.current=!1;const Te=k.current,tt=D.current;Te&&tt&&(I.current&&(Te.off("session:status",I.current),I.current=null),L.current&&(Te.off("session:metrics",L.current),L.current=null),Te.emit("session:leave",{sessionId:tt})),D.current=null,k.current=null,u(!1)},ze={id:"ex-default",name:"Shoulder Rotation",sets:"3",reps:"10",difficulty:"Intermediate",description:"Improve shoulder range of motion and rotator cuff strength",tags:["Shoulder","Mobility"],instructions:["Stand with feet shoulder-width apart, arms at your sides","Raise your arms to shoulder height, keeping elbows bent at 90","Slowly rotate your shoulders forward, then backward","Maintain controlled movement throughout the exercise"],progress:0,completedSessions:0,totalSessions:3},nt=B.useMemo(()=>{const Te=o||ze;return{...Te,instructions:Te.instructions&&Array.isArray(Te.instructions)&&Te.instructions.length>0?Te.instructions:ze.instructions,tags:Te.tags&&Array.isArray(Te.tags)&&Te.tags.length>0?Te.tags:ze.tags}},[o]),Fe=B.useMemo(()=>parseInt(nt.sets)||3,[nt.sets]),ce=B.useCallback(()=>{const Te=A+1;if(Te>=Fe){if(E(Te),M(!0),O(!0),et(),e().catch(tt=>{}),o?.id)try{const tt=Bf.completeSession(o.id);tt&&(a(tt),setTimeout(()=>{const st=new Event("exerciseProgressUpdated",{bubbles:!0});window.dispatchEvent(st);const ft=new CustomEvent("exerciseProgressUpdated",{detail:{exerciseId:tt.id,updatedExercise:tt},bubbles:!0});window.dispatchEvent(ft),setTimeout(()=>{const ae=new CustomEvent("exerciseProgressUpdated",{detail:{exerciseId:tt.id,updatedExercise:tt,retry:!0},bubbles:!0});window.dispatchEvent(ae)},300)},250))}catch{}}else E(Te)},[A,Fe,o,e]),rt=()=>{o&&(M(!0),O(!0)),et()},ct=B.useMemo(()=>f.map(Te=>({value:Te.deviceId&&Te.deviceId.trim()!==""?Te.deviceId:`camera-${Te.index}`,label:`${Te.label} (cv2 index ${Te.index})`,indexValue:String(Te.index)})),[f]),wt=B.useMemo(()=>A/Fe*100,[A,Fe]);return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[o?p.jsxs(zt,{variant:"ghost",onClick:()=>n("/exercises"),className:"mb-4 hover:bg-[#6F66FF]/10",children:[p.jsx(eI,{className:"mr-2",size:18}),"Back to Library"]}):p.jsxs(zt,{variant:"ghost",onClick:()=>n("/exercises"),className:"mb-4 hover:bg-[#6F66FF]/10",children:[p.jsx(eI,{className:"mr-2",size:18}),"Browse Exercise Library"]}),p.jsx("h1",{className:"text-3xl mb-2 text-[#2C2E6F]",children:"Live Exercise Monitor"}),p.jsxs("p",{className:"text-[#1B1E3D]/60",children:["Let's practice your ",p.jsx("span",{className:"text-[#6F66FF]",children:nt.name})," together!"]}),!o&&p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" Currently showing default exercise. Go to ",p.jsx("strong",{children:"Exercise Library"})," to select a specific exercise."]})]}),P&&p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsx(Dt,{className:"rounded-2xl shadow-2xl max-w-md mx-4 border-2 border-[#3ECF8E]",children:p.jsxs(Bt,{className:"pt-8 pb-8 text-center",children:[p.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#3ECF8E] to-[#6F66FF] mx-auto mb-6 flex items-center justify-center animate-bounce",children:p.jsx(Up,{className:"text-white",size:40})}),p.jsx("h2",{className:"text-2xl mb-3",children:"Great job! "}),p.jsxs("p",{className:"text-[#1B1E3D]/70 mb-2",children:["You completed all ",Fe," sets!"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-6",children:"Your form was excellent. Keep up the amazing work!"}),p.jsxs("div",{className:"bg-[#6F66FF]/10 rounded-xl p-4 mb-6",children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-2",children:"XP Earned"}),p.jsx("p",{className:"text-3xl text-[#6F66FF]",children:"+20 XP"}),p.jsx("p",{className:"text-xs text-[#1B1E3D]/60 mt-1",children:"Perfect Form 3 Quest Progress: 3/3 "})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(zt,{onClick:()=>{O(!1),E(0),M(!1)},variant:"outline",className:"flex-1 rounded-xl",children:"Practice Again"}),p.jsx(zt,{onClick:()=>n("/exercises"),className:"flex-1 bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:"Back to Library"})]})]})})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"flex items-center gap-2 text-[#2C2E6F]",children:[p.jsx(tI,{className:"text-[#6F66FF]"}),"Camera Feed"]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"relative bg-[#1B1E3D] rounded-xl overflow-hidden aspect-video flex items-center justify-center",children:d?p.jsxs(p.Fragment,{children:[ie&&p.jsx("video",{ref:W,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute top-4 left-4 right-4 bg-white backdrop-blur rounded-xl p-4 shadow-lg z-10",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Cx,{className:"text-[#3ECF8E] flex-shrink-0 mt-0.5",size:20}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]",children:[A===0&&"Ready to start? Let's go!",A>0&&A<Fe&&"Great set! Rest 10s before next set.",A===Fe&&"All sets complete! Amazing work!"]})]})}),p.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-white backdrop-blur rounded-xl p-3 z-10",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[p.jsxs("span",{className:"text-[#1B1E3D]",children:["Set ",A>0?A:"0"," of ",Fe]}),p.jsxs("span",{className:"text-[#6F66FF]",children:[Math.round(wt),"%"]})]}),p.jsx(em,{value:wt,className:"h-2"})]}),p.jsx("div",{className:"absolute top-4 right-4 z-10",children:p.jsxs("div",{className:"bg-red-500 rounded-full px-3 py-1 flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),p.jsx("span",{className:"text-white text-sm",children:"Recording"})]})})]}):p.jsxs("div",{className:"text-center",children:[p.jsx(Oj,{className:"text-white/30 mx-auto mb-4",size:64}),p.jsx("p",{className:"text-white/60 mb-4",children:"Camera is off"}),p.jsx(zt,{onClick:ke,className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90",children:"Start Camera"})]})}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-4",children:[p.jsxs(e0,{value:v||void 0,onValueChange:Te=>{if(Te&&Te!=="no-devices"){b(Te);const tt=ct.find(st=>st.value===Te);tt&&w(tt.indexValue)}},children:[p.jsx(n0,{className:"w-full bg-white",children:p.jsx(t0,{placeholder:"Select camera"})}),p.jsx(r0,{children:ct.length>0?ct.map(Te=>p.jsx(wi,{value:Te.value,children:Te.label},Te.value)):p.jsx(wi,{value:"no-devices",disabled:!0,children:"No cameras available"})})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(zt,{onClick:d?Oe:ke,variant:"outline",className:"flex-1",children:[d?p.jsx(Oj,{className:"w-4 h-4 mr-2"}):p.jsx(tI,{className:"w-4 h-4 mr-2"}),d?"Stop Preview":"Start Preview"]}),p.jsx(zt,{variant:"secondary",onClick:Ae,children:p.jsx(ble,{className:"w-4 h-4"})})]})]}),d&&!C&&p.jsxs("div",{className:"flex gap-3 mt-4",children:[p.jsx(zt,{onClick:ce,className:"flex-1 bg-gradient-to-r from-[#3ECF8E] to-[#3ECF8E]/80 hover:opacity-90",disabled:A>=Fe,children:A>=Fe?"All Sets Complete ":`Set ${A>0?A+1:1} Complete`}),l?p.jsx(zt,{onClick:rt,variant:"outline",className:"rounded-xl",children:"End Session"}):p.jsxs(zt,{onClick:Ge,className:"flex-1 bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF]",children:[p.jsx(i$,{className:"w-4 h-4 mr-2"})," Start Analysis"]})]}),l&&p.jsx("div",{className:"mt-4",children:p.jsxs(zt,{onClick:et,variant:"destructive",className:"w-full",children:[p.jsx(kle,{className:"w-4 h-4 mr-2"})," Stop Analysis"]})})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Posture Analysis"})}),p.jsxs(Bt,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Posture Score"}),p.jsx("span",{className:"text-xl text-[#6F66FF]",children:l?`${Math.round(t.postureScore)}%`:"--"})]}),p.jsx(em,{value:l?t.postureScore:0,className:"h-2"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:`${l&&t.alignment==="Correct"?"bg-[#3ECF8E]/10 border-[#3ECF8E]/30":"bg-[#F9F9FB] border-[#E5E7EB]"} border rounded-xl p-3`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Cx,{className:`${l&&t.alignment==="Correct"?"text-[#3ECF8E]":"text-[#1B1E3D]/40"}`,size:16}),p.jsx("span",{className:"text-sm",children:"Alignment"})]}),p.jsx("p",{className:`text-xs ${l&&t.alignment==="Correct"?"text-[#3ECF8E] font-medium":"text-[#1B1E3D]/60"}`,children:l?t.alignment:"Start camera"})]}),p.jsxs("div",{className:`${l?"bg-red-50 border-red-200":"bg-[#F9F9FB] border-[#E5E7EB]"} border rounded-xl p-3`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Oae,{className:`${l?"text-red-500":"text-[#1B1E3D]/40"}`,size:16}),p.jsx("span",{className:"text-sm",children:"Range of Motion"})]}),p.jsx("p",{className:`text-xs ${l?"text-red-600 font-medium":"text-[#1B1E3D]/60"}`,children:l?`${Math.round(t.rangeOfMotion)}`:"--"})]})]}),p.jsx("div",{className:`${l?"bg-[#3ECF8E]/10 border-[#3ECF8E]/30":"bg-[#F9F9FB] border-[#E5E7EB]"} border rounded-xl p-3`,children:p.jsxs("p",{className:"text-sm text-[#1B1E3D]",children:[p.jsx("span",{className:l?"text-[#3ECF8E] font-medium":"text-[#1B1E3D]/60",children:"Form Quality:"})," ",p.jsx("span",{className:l?"text-[#3ECF8E]":"text-[#1B1E3D]/60",children:l?t.formQuality:"Waiting..."})]})})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Exercise Instructions"})}),p.jsxs(Bt,{children:[p.jsx("h3",{className:"text-xl mb-2 text-[#6F66FF]",children:nt.name}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]/60 mb-4",children:[nt.sets," sets  ",nt.reps," reps"]}),p.jsx("div",{className:"space-y-3",children:nt.instructions.map((Te,tt)=>p.jsxs("div",{className:"flex gap-3 items-start",children:[p.jsx("div",{className:"w-6 h-6 rounded-full text-white flex items-center justify-center flex-shrink-0 text-sm font-semibold",style:{backgroundColor:"#6F66FF",color:"#FFFFFF"},children:tt+1}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70 flex-1 leading-relaxed",children:Te})]},tt))}),nt.tags&&nt.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-[#1B1E3D]/10",children:nt.tags.map((Te,tt)=>p.jsx("span",{className:"text-xs px-3 py-1 bg-[#6F66FF]/10 text-[#6F66FF] rounded-full",children:Te},tt))})]})]})]})]}),p.jsx("div",{className:"mt-8 text-center text-sm text-[#1B1E3D]/60",children:p.jsxs("p",{children:["All movements analyzed on-device for privacy. Powered by ",p.jsx("span",{className:"text-[#6F66FF]",children:"RehabMax AI+ Vision Coach"}),"."]})})]})}function ATe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const ETe=n=>{switch(n){case"success":return TTe;case"info":return RTe;case"warning":return PTe;case"error":return NTe;default:return null}},CTe=Array(12).fill(0),MTe=({visible:n,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ue.createElement("div",{className:"sonner-spinner"},CTe.map((t,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),TTe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PTe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RTe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NTe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ITe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),OTe=()=>{const[n,e]=ue.useState(document.hidden);return ue.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let OO=1;class FTe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:OO++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async u=>{if(o=["resolve",u],ue.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(BTe(u)&&!u.ok){s=!1;const c=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description,v=typeof c=="object"&&!ue.isValidElement(c)?c:{message:c};this.create({id:r,type:"error",description:f,...v})}else if(u instanceof Error){s=!1;const c=typeof t.error=="function"?await t.error(u):t.error,f=typeof t.description=="function"?await t.description(u):t.description,v=typeof c=="object"&&!ue.isValidElement(c)?c:{message:c};this.create({id:r,type:"error",description:f,...v})}else if(t.success!==void 0){s=!1;const c=typeof t.success=="function"?await t.success(u):t.success,f=typeof t.description=="function"?await t.description(u):t.description,v=typeof c=="object"&&!ue.isValidElement(c)?c:{message:c};this.create({id:r,type:"success",description:f,...v})}}).catch(async u=>{if(o=["reject",u],t.error!==void 0){s=!1;const d=typeof t.error=="function"?await t.error(u):t.error,c=typeof t.description=="function"?await t.description(u):t.description,m=typeof d=="object"&&!ue.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:c,...m})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=t?.id||OO++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const la=new FTe,DTe=(n,e)=>{const t=e?.id||OO++;return la.addToast({title:n,...e,id:t}),t},BTe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",kTe=DTe,LTe=()=>la.toasts,jTe=()=>la.getActiveToasts(),ki=Object.assign(kTe,{success:la.success,info:la.info,warning:la.warning,error:la.error,custom:la.custom,message:la.message,promise:la.promise,dismiss:la.dismiss,loading:la.loading},{getHistory:LTe,getToasts:jTe});ATe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function N1(n){return n.label!==void 0}const UTe=3,zTe="24px",HTe="16px",ZH=4e3,GTe=356,VTe=14,WTe=45,$Te=200;function zc(...n){return n.filter(Boolean).join(" ")}function qTe(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const XTe=n=>{var e,t,r,i,s,o,a,l,u;const{invert:d,toast:c,unstyled:f,interacting:m,setHeights:v,visibleToasts:b,heights:y,index:w,toasts:A,expanded:E,removeToast:C,defaultRichColors:M,closeButton:P,style:O,cancelButtonStyle:k,actionButtonStyle:D,className:I="",descriptionClassName:L="",duration:W,position:q,gap:K,expandByDefault:ie,classNames:V,icons:J,closeButtonAriaLabel:H="Close toast"}=n,[Y,ne]=ue.useState(null),[Z,oe]=ue.useState(null),[ye,Be]=ue.useState(!1),[Xe,we]=ue.useState(!1),[Ae,ke]=ue.useState(!1),[Oe,Ge]=ue.useState(!1),[et,ze]=ue.useState(!1),[nt,Fe]=ue.useState(0),[ce,rt]=ue.useState(0),ct=ue.useRef(c.duration||W||ZH),wt=ue.useRef(null),Te=ue.useRef(null),tt=w===0,st=w+1<=b,ft=c.type,ae=c.dismissible!==!1,te=c.className||"",Ne=c.descriptionClassName||"",Ye=ue.useMemo(()=>y.findIndex(je=>je.toastId===c.id)||0,[y,c.id]),pt=ue.useMemo(()=>{var je;return(je=c.closeButton)!=null?je:P},[c.closeButton,P]),Ke=ue.useMemo(()=>c.duration||W||ZH,[c.duration,W]),Jt=ue.useRef(0),It=ue.useRef(0),Vt=ue.useRef(0),Lt=ue.useRef(null),[yt,bt]=q.split("-"),Zt=ue.useMemo(()=>y.reduce((je,_t,jt)=>jt>=Ye?je:je+_t.height,0),[y,Ye]),_e=OTe(),Pe=c.invert||d,ht=ft==="loading";It.current=ue.useMemo(()=>Ye*K+Zt,[Ye,Zt]),ue.useEffect(()=>{ct.current=Ke},[Ke]),ue.useEffect(()=>{Be(!0)},[]),ue.useEffect(()=>{const je=Te.current;if(je){const _t=je.getBoundingClientRect().height;return rt(_t),v(jt=>[{toastId:c.id,height:_t,position:c.position},...jt]),()=>v(jt=>jt.filter(_n=>_n.toastId!==c.id))}},[v,c.id]),ue.useLayoutEffect(()=>{if(!ye)return;const je=Te.current,_t=je.style.height;je.style.height="auto";const jt=je.getBoundingClientRect().height;je.style.height=_t,rt(jt),v(_n=>_n.find(An=>An.toastId===c.id)?_n.map(An=>An.toastId===c.id?{...An,height:jt}:An):[{toastId:c.id,height:jt,position:c.position},..._n])},[ye,c.title,c.description,v,c.id,c.jsx,c.action,c.cancel]);const he=ue.useCallback(()=>{we(!0),Fe(It.current),v(je=>je.filter(_t=>_t.toastId!==c.id)),setTimeout(()=>{C(c)},$Te)},[c,C,v,It]);ue.useEffect(()=>{if(c.promise&&ft==="loading"||c.duration===1/0||c.type==="loading")return;let je;return E||m||_e?(()=>{if(Vt.current<Jt.current){const _n=new Date().getTime()-Jt.current;ct.current=ct.current-_n}Vt.current=new Date().getTime()})():(()=>{ct.current!==1/0&&(Jt.current=new Date().getTime(),je=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),he()},ct.current))})(),()=>clearTimeout(je)},[E,m,c,ft,_e,he]),ue.useEffect(()=>{c.delete&&(he(),c.onDismiss==null||c.onDismiss.call(c,c))},[he,c.delete]);function Le(){var je;if(J?.loading){var _t;return ue.createElement("div",{className:zc(V?.loader,c==null||(_t=c.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":ft==="loading"},J.loading)}return ue.createElement(MTe,{className:zc(V?.loader,c==null||(je=c.classNames)==null?void 0:je.loader),visible:ft==="loading"})}const lt=c.icon||J?.[ft]||ETe(ft);var vt,mt;return ue.createElement("li",{tabIndex:0,ref:Te,className:zc(I,te,V?.toast,c==null||(e=c.classNames)==null?void 0:e.toast,V?.default,V?.[ft],c==null||(t=c.classNames)==null?void 0:t[ft]),"data-sonner-toast":"","data-rich-colors":(vt=c.richColors)!=null?vt:M,"data-styled":!(c.jsx||c.unstyled||f),"data-mounted":ye,"data-promise":!!c.promise,"data-swiped":et,"data-removed":Xe,"data-visible":st,"data-y-position":yt,"data-x-position":bt,"data-index":w,"data-front":tt,"data-swiping":Ae,"data-dismissible":ae,"data-type":ft,"data-invert":Pe,"data-swipe-out":Oe,"data-swipe-direction":Z,"data-expanded":!!(E||ie&&ye),"data-testid":c.testId,style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Xe?nt:It.current}px`,"--initial-height":ie?"auto":`${ce}px`,...O,...c.style},onDragEnd:()=>{ke(!1),ne(null),Lt.current=null},onPointerDown:je=>{je.button!==2&&(ht||!ae||(wt.current=new Date,Fe(It.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(ke(!0),Lt.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,_t,jt;if(Oe||!ae)return;Lt.current=null;const _n=Number(((je=Te.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sn=Number(((_t=Te.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((jt=wt.current)==null?void 0:jt.getTime()),kn=Y==="x"?_n:Sn,Kr=Math.abs(kn)/An;if(Math.abs(kn)>=WTe||Kr>.11){Fe(It.current),c.onDismiss==null||c.onDismiss.call(c,c),oe(Y==="x"?_n>0?"right":"left":Sn>0?"down":"up"),he(),Ge(!0);return}else{var Or,xr;(Or=Te.current)==null||Or.style.setProperty("--swipe-amount-x","0px"),(xr=Te.current)==null||xr.style.setProperty("--swipe-amount-y","0px")}ze(!1),ke(!1),ne(null)},onPointerMove:je=>{var _t,jt,_n;if(!Lt.current||!ae||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const An=je.clientY-Lt.current.y,kn=je.clientX-Lt.current.x;var Kr;const Or=(Kr=n.swipeDirections)!=null?Kr:qTe(q);!Y&&(Math.abs(kn)>1||Math.abs(An)>1)&&ne(Math.abs(kn)>Math.abs(An)?"x":"y");let xr={x:0,y:0};const Fr=Yr=>1/(1.5+Math.abs(Yr)/20);if(Y==="y"){if(Or.includes("top")||Or.includes("bottom"))if(Or.includes("top")&&An<0||Or.includes("bottom")&&An>0)xr.y=An;else{const Yr=An*Fr(An);xr.y=Math.abs(Yr)<Math.abs(An)?Yr:An}}else if(Y==="x"&&(Or.includes("left")||Or.includes("right")))if(Or.includes("left")&&kn<0||Or.includes("right")&&kn>0)xr.x=kn;else{const Yr=kn*Fr(kn);xr.x=Math.abs(Yr)<Math.abs(kn)?Yr:kn}(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&ze(!0),(jt=Te.current)==null||jt.style.setProperty("--swipe-amount-x",`${xr.x}px`),(_n=Te.current)==null||_n.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},pt&&!c.jsx&&ft!=="loading"?ue.createElement("button",{"aria-label":H,"data-disabled":ht,"data-close-button":!0,onClick:ht||!ae?()=>{}:()=>{he(),c.onDismiss==null||c.onDismiss.call(c,c)},className:zc(V?.closeButton,c==null||(r=c.classNames)==null?void 0:r.closeButton)},(mt=J?.close)!=null?mt:ITe):null,(ft||c.icon||c.promise)&&c.icon!==null&&(J?.[ft]!==null||c.icon)?ue.createElement("div",{"data-icon":"",className:zc(V?.icon,c==null||(i=c.classNames)==null?void 0:i.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||Le():null,c.type!=="loading"?lt:null):null,ue.createElement("div",{"data-content":"",className:zc(V?.content,c==null||(s=c.classNames)==null?void 0:s.content)},ue.createElement("div",{"data-title":"",className:zc(V?.title,c==null||(o=c.classNames)==null?void 0:o.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?ue.createElement("div",{"data-description":"",className:zc(L,Ne,V?.description,c==null||(a=c.classNames)==null?void 0:a.description)},typeof c.description=="function"?c.description():c.description):null),ue.isValidElement(c.cancel)?c.cancel:c.cancel&&N1(c.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||k,onClick:je=>{N1(c.cancel)&&ae&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,je),he())},className:zc(V?.cancelButton,c==null||(l=c.classNames)==null?void 0:l.cancelButton)},c.cancel.label):null,ue.isValidElement(c.action)?c.action:c.action&&N1(c.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||D,onClick:je=>{N1(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,je),!je.defaultPrevented&&he())},className:zc(V?.actionButton,c==null||(u=c.classNames)==null?void 0:u.actionButton)},c.action.label):null)};function QH(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function KTe(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?HTe:zTe;function l(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),t}const YTe=ue.forwardRef(function(e,t){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:d,mobileOffset:c,theme:f="light",richColors:m,duration:v,style:b,visibleToasts:y=UTe,toastOptions:w,dir:A=QH(),gap:E=VTe,icons:C,containerAriaLabel:M="Notifications"}=e,[P,O]=ue.useState([]),k=ue.useMemo(()=>r?P.filter(ye=>ye.toasterId===r):P.filter(ye=>!ye.toasterId),[P,r]),D=ue.useMemo(()=>Array.from(new Set([s].concat(k.filter(ye=>ye.position).map(ye=>ye.position)))),[k,s]),[I,L]=ue.useState([]),[W,q]=ue.useState(!1),[K,ie]=ue.useState(!1),[V,J]=ue.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ue.useRef(null),Y=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=ue.useRef(null),Z=ue.useRef(!1),oe=ue.useCallback(ye=>{O(Be=>{var Xe;return(Xe=Be.find(we=>we.id===ye.id))!=null&&Xe.delete||la.dismiss(ye.id),Be.filter(({id:we})=>we!==ye.id)})},[]);return ue.useEffect(()=>la.subscribe(ye=>{if(ye.dismiss){requestAnimationFrame(()=>{O(Be=>Be.map(Xe=>Xe.id===ye.id?{...Xe,delete:!0}:Xe))});return}setTimeout(()=>{k7.flushSync(()=>{O(Be=>{const Xe=Be.findIndex(we=>we.id===ye.id);return Xe!==-1?[...Be.slice(0,Xe),{...Be[Xe],...ye},...Be.slice(Xe+1)]:[ye,...Be]})})})}),[P]),ue.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const ye=window.matchMedia("(prefers-color-scheme: dark)");try{ye.addEventListener("change",({matches:Be})=>{J(Be?"dark":"light")})}catch{ye.addListener(({matches:Xe})=>{try{J(Xe?"dark":"light")}catch(we){console.error(we)}})}},[f]),ue.useEffect(()=>{P.length<=1&&q(!1)},[P]),ue.useEffect(()=>{const ye=Be=>{var Xe;if(o.every(ke=>Be[ke]||Be.code===ke)){var Ae;q(!0),(Ae=H.current)==null||Ae.focus()}Be.code==="Escape"&&(document.activeElement===H.current||(Xe=H.current)!=null&&Xe.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",ye),()=>document.removeEventListener("keydown",ye)},[o]),ue.useEffect(()=>{if(H.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,Z.current=!1)}},[H.current]),ue.createElement("section",{ref:t,"aria-label":`${M} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((ye,Be)=>{var Xe;const[we,Ae]=ye.split("-");return k.length?ue.createElement("ol",{key:ye,dir:A==="auto"?QH():A,tabIndex:-1,ref:H,className:u,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":we,"data-x-position":Ae,style:{"--front-toast-height":`${((Xe=I[0])==null?void 0:Xe.height)||0}px`,"--width":`${GTe}px`,"--gap":`${E}px`,...b,...KTe(d,c)},onBlur:ke=>{Z.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(Z.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,ne.current=ke.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{K||q(!1)},onDragEnd:()=>q(!1),onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},k.filter(ke=>!ke.position&&Be===0||ke.position===ye).map((ke,Oe)=>{var Ge,et;return ue.createElement(XTe,{key:ke.id,icons:C,index:Oe,toast:ke,defaultRichColors:m,duration:(Ge=w?.duration)!=null?Ge:v,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:i,visibleToasts:y,closeButton:(et=w?.closeButton)!=null?et:l,interacting:K,position:ye,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:oe,toasts:k.filter(ze=>ze.position==ke.position),heights:I.filter(ze=>ze.position==ke.position),setHeights:L,expandByDefault:a,gap:E,expanded:W,swipeDirections:e.swipeDirections})})):null}))});function mg(n,e,t,r,i,s=1e4){return new Promise((o,a)=>{if(!n){a(new Error("Socket not available"));return}let l=null,u=!1;const d=()=>{l&&(clearTimeout(l),l=null)},c=m=>{u||(u=!0,d(),n.off(r,c),n.off(i,f),o(m))},f=m=>{u||(u=!0,d(),n.off(r,c),n.off(i,f),a(new Error(m.message||"Request failed")))};l=setTimeout(()=>{u||(u=!0,n.off(r,c),n.off(i,f),a(new Error("Request timeout")))},s),n.once(r,c),n.once(i,f),n.emit(e,t)})}const xo={async sendFriendRequest(n){const e=Si.getSocket();return e?.connected?mg(e,"friend:send_request",{toUserId:n},"friend:request_sent","friend:error",1e4):(await gi.post("/friends/request",{toUserId:n})).data},async acceptFriendRequest(n){const e=Si.getSocket();if(e?.connected){const r=await mg(e,"friend:accept_request",{requestId:n},"friend:request_accepted","friend:error",1e4);return{...r,id:r.requestId||r.id||n,status:"accepted"}}return(await gi.post(`/friends/accept/${n}`)).data},async rejectFriendRequest(n){const e=Si.getSocket();e?.connected?await mg(e,"friend:reject_request",{requestId:n},"friend:request_rejected","friend:error",1e4):await gi.post(`/friends/reject/${n}`)},async getFriends(){const n=Si.getSocket();return n?.connected?mg(n,"friend:get_friends",void 0,"friend:friends","friend:error",1e4):(await gi.get("/friends")).data},async getFriendRequests(){return(await gi.get("/friends/requests")).data},async getAllFriendRequests(){const n=Si.getSocket();return n?.connected?mg(n,"friend:get_requests",void 0,"friend:requests","friend:error",1e4):(await gi.get("/friends/requests/all")).data},async areFriends(n,e){return(await gi.get(`/friends/check/${e}`)).data},async getFriendRequestStatus(n){const e=Si.getSocket();return e?.connected?mg(e,"friend:check_status",{toUserId:n},"friend:status","friend:error",1e4):(await gi.get(`/friends/status/${n}`)).data},onFriendRequestsUpdated(n){Si.getSocket()?.on("friend:requests_updated",n)},offFriendRequestsUpdated(n){Si.getSocket()?.off("friend:requests_updated",n)},onFriendRequestReceived(n){Si.getSocket()?.on("friend:request_received",n)},offFriendRequestReceived(n){Si.getSocket()?.off("friend:request_received",n)}},JTe=[{id:"complete_3_sessions_week",title:"Complete 3 sessions this week",total:3,xp:50,icon:Mx},{id:"perfect_form_x3",title:"Perfect Form x3",total:3,xp:10,icon:jle},{id:"maintain_7_day_streak",title:"Maintain 7-day streak",total:7,xp:100,icon:bE},{id:"complete_full_exercise_plan",title:"Complete full exercise plan",total:10,xp:75,icon:dce}],ZTe=[{name:"Perfect Form",earned:!0,color:"from-yellow-400 to-yellow-600",icon:""},{name:"Consistency",earned:!0,color:"from-blue-400 to-blue-600",icon:""},{name:"Pain Slayer",earned:!0,color:"from-red-400 to-red-600",icon:""},{name:"Week Warrior",earned:!1,color:"from-gray-300 to-gray-400",icon:""},{name:"Month Master",earned:!1,color:"from-gray-300 to-gray-400",icon:""},{name:"Recovery Hero",earned:!1,color:"from-gray-300 to-gray-400",icon:""}];function QTe(){const{stats:n,leaderboard:e,isLoading:t}=zb(),{user:r}=pu(),i=Td(),[s,o]=B.useState(new Set),[a,l]=B.useState(new Set);B.useEffect(()=>{(async()=>{try{const M=await xo.getFriends(),P=new Set(M.map(O=>O.friendId));l(P)}catch(M){console.error("Failed to load friends:",M)}})()},[]);const u=n?.totalXp||0,d=Math.floor(u/150)+1,c=u%150,f=150,m=c/f*100,v=f-c,b=r?.name?.charAt(0).toUpperCase()||"U",y=n?.questProgress||{},w=n?.currentStreak||0,A=JTe.map(C=>{let M=0;C.id==="maintain_7_day_streak"?M=Math.min(w,C.total):M=y[C.id]?.progress||0;const P=M>=C.total;return{...C,progress:M,status:P?"completed":"active"}}),E=e.map(C=>({...C,isUser:C.userId===Number(r?.id),avatar:C.name?.charAt(0).toUpperCase()||"?"}));return t?p.jsx("div",{className:"flex items-center justify-center p-8",children:p.jsx("p",{className:"text-gray-600",children:"Loading stats..."})}):p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Your Recovery Journey"}),p.jsx("p",{className:"text-gray-600",children:"Complete quests and earn rewards on your path to recovery"})]})}),p.jsx(Dt,{className:"border-0 shadow-xl bg-gradient-to-br from-[#2C2E6F] via-[#4a4f9e] to-[#4DD2C1]",children:p.jsx(Bt,{className:"p-8",children:p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-4xl text-[#2C2E6F]",children:b})}),p.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#FF8A73] rounded-full flex items-center justify-center text-white shadow-lg",children:p.jsx(Up,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("h2",{className:"text-white mb-1",children:["Level ",d,": Resilience Builder"]}),p.jsx("p",{className:"text-white/80 mb-4",children:r?.name||"User"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[p.jsxs("span",{children:[c," / ",f," XP"]}),p.jsxs("span",{children:[v," XP to Level ",d+1]})]}),p.jsx("div",{className:"h-3 bg-white/20 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-white rounded-full shadow-lg",style:{width:`${m}%`}})})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-white/80 mb-1",children:"Total XP"}),p.jsx("div",{className:"text-4xl text-white",children:u})]})]})})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Mx,{className:"w-5 h-5"}),"Active Quests"]})}),p.jsx(Bt,{className:"space-y-4",children:A.map(C=>{const M=C.icon,P=C.progress/C.total*100;return p.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${C.status==="completed"?"border-green-200 bg-green-50":"border-gray-200 hover:border-[#2C2E6F] bg-white"}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${C.status==="completed"?"bg-green-500":"bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1]"}`,children:C.status==="completed"?p.jsx(sd,{className:"w-5 h-5 text-white"}):p.jsx(M,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:C.status==="completed"?"text-green-700":"text-[#2C2E6F]",children:C.title}),p.jsxs(hr,{className:C.status==="completed"?"bg-green-500":"bg-[#FF8A73]",children:["+",C.xp," XP"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("span",{className:"text-gray-600",children:[C.progress," / ",C.total]}),p.jsxs("span",{className:C.status==="completed"?"text-green-600":"text-[#2C2E6F]",children:[Math.round(P),"%"]})]}),p.jsx(em,{value:P,className:"h-2"})]})]})]})},C.id)})})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Ex,{className:"w-5 h-5"}),"Badge Collection"]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"grid grid-cols-3 gap-4",children:ZTe.map((C,M)=>p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:`w-20 h-20 mx-auto rounded-xl bg-gradient-to-br ${C.color} flex items-center justify-center text-4xl mb-2 shadow-lg ${!C.earned&&"grayscale opacity-50"}`,children:C.icon}),p.jsx("p",{className:`text-xs ${C.earned?"text-[#2C2E6F]":"text-gray-400"}`,children:C.name}),C.earned&&p.jsx(sd,{className:"w-4 h-4 text-green-500 mx-auto mt-1"})]},M))}),p.jsxs("div",{className:"mt-6 p-4 bg-[#E9E6F9] rounded-xl text-center",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Badges Earned"}),p.jsx("p",{className:"text-2xl text-[#2C2E6F]",children:"3 / 6"})]})]})]})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Up,{className:"w-5 h-5"}),"Community Leaderboard"]}),p.jsx(hr,{variant:"outline",className:"text-gray-600",children:"This Week"})]})}),p.jsx(Bt,{children:p.jsx("div",{className:"space-y-3",children:E.map(C=>p.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all ${C.isUser?"bg-gradient-to-r from-[#E9E6F9] to-[#E9E6F9]/50 border-2 border-[#2C2E6F]":"bg-gray-50 hover:bg-gray-100"}`,children:[p.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${C.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":C.rank===2?"bg-gradient-to-br from-gray-300 to-gray-400":C.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1]"}`,children:p.jsxs("span",{className:"text-white",children:["#",C.rank]})}),p.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow",children:p.jsx("span",{className:"text-[#2C2E6F]",children:C.avatar})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:C.isUser?"text-[#2C2E6F]":"text-gray-900",children:C.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",C.level]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-[#2C2E6F]",children:[C.xp," XP"]}),p.jsxs("div",{className:"flex items-center gap-1 text-sm text-orange-600",children:[p.jsx(bE,{className:"w-3 h-3"}),C.streak," days"]})]}),!C.isUser&&p.jsxs("div",{className:"flex flex-col gap-2 ml-2",children:[!a.has(C.userId)&&p.jsxs(zt,{size:"sm",variant:"outline",onClick:async()=>{try{await xo.sendFriendRequest(C.userId),o(M=>new Set(M).add(C.userId)),ki.success(`Friend request sent to ${C.name}!`)}catch(M){const P=M;P?.code!=="ERR_NETWORK"&&P?.code!=="ERR_CONNECTION_REFUSED"?ki.error("Failed to send friend request"):(o(O=>new Set(O).add(C.userId)),ki.success(`Friend request sent to ${C.name}!`))}},disabled:s.has(C.userId),className:"text-xs h-7 px-3 bg-white border-[#6F66FF] text-[#6F66FF] hover:bg-[#6F66FF]/10",children:[p.jsx(Px,{className:"w-3 h-3 mr-1"}),s.has(C.userId)?"Sent":"Connect"]}),p.jsxs(zt,{size:"sm",variant:"outline",onClick:()=>{i("/messages",{state:{userId:C.userId,userName:C.name}})},className:"text-xs h-7 px-3 bg-white border-[#6F66FF] text-[#6F66FF] hover:bg-[#6F66FF]/10",children:[p.jsx(Of,{className:"w-3 h-3 mr-1"}),"Message"]})]})]})]},C.rank))})})]}),p.jsx(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Bt,{className:"p-8",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Up,{className:"w-16 h-16 text-[#2C2E6F] mx-auto mb-4"}),p.jsx("h3",{className:"text-[#2C2E6F] mb-2",children:"Keep Going! "}),p.jsx("p",{className:"text-gray-600 mb-4",children:`You're doing amazing! Complete 2 more sessions to unlock the "Week Warrior" badge.`}),p.jsx(zt,{className:"bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white",children:"View All Rewards"})]})})})]})}function e9({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:Wn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function e2e(){const[n,e]=B.useState(""),[t,r]=B.useState(!0),[i,s]=B.useState(!1),[o,a]=B.useState(!1),l=2,u=6,d=l/u*100,c="December 15, 2025",f=`Dear Future Me,

I know recovery feels tough right now. My shoulder still hurts, and some days I wonder if I'll ever get back to playing tennis.

But I'm choosing to believe in this process. I'm choosing to show up, even when it's hard. I'm choosing to trust that these small movements today will become strength tomorrow.

When you read this, I hope you remember how far you've come. I hope you're proud of yourself for not giving up.

You've got this. We've got this.

- Rose, Week 2`,m=()=>{n.trim()&&(a(!0),r(!0))},v=()=>{r(!1),s(!0)},b=["Dear Future Me...","I know recovery feels hard right now, but...","When you read this, I hope you remember...","The person I want to become is..."];return p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-2xl mb-4",children:p.jsx(_E,{className:"w-10 h-10 text-white"})}),p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Letter to Your Future Self"}),p.jsx("p",{className:"text-gray-600",children:"Write a message to yourself. Unlock it when you reach your recovery milestone."})]}),p.jsx(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Bt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:t?p.jsx(eT,{className:"w-8 h-8 text-[#2C2E6F]"}):p.jsx(Pj,{className:"w-8 h-8 text-[#4DD2C1]"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{className:"text-gray-600",children:"Progress to Unlock"}),p.jsxs(hr,{className:"bg-[#2C2E6F]",children:["Week ",l," of ",u]})]}),p.jsx(em,{value:d,className:"h-3 mb-2"}),p.jsx("p",{className:"text-sm text-gray-600",children:t?`Unlocks on ${c}`:"Letter Unlocked! "})]})]})})}),o?p.jsx(Dt,{className:"border-0 shadow-xl",children:p.jsxs(Bt,{className:"p-12 text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full mb-6 animate-pulse",children:p.jsx(eT,{className:"w-12 h-12 text-white"})}),p.jsx("h2",{className:"text-[#2C2E6F] mb-2",children:"Letter Sealed "}),p.jsxs("p",{className:"text-gray-600 mb-6",children:["Your letter is safely stored and will unlock on ",c]}),p.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[p.jsxs("div",{className:"p-6 bg-gradient-to-br from-[#E9E6F9] to-white rounded-xl",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your commitment is locked in"}),p.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#2C2E6F]",children:[p.jsx(Ej,{className:"w-5 h-5 text-[#FF8A73]"}),p.jsx("p",{children:"A promise to your future self"})]})]}),p.jsx(zt,{onClick:v,variant:"outline",className:"w-full",children:"Preview Unlock (Demo)"})]})]})}):p.jsxs(Dt,{className:"border-0 shadow-xl",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(jp,{className:"w-5 h-5"}),"Write Your Letter"]})}),p.jsxs(Bt,{className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#E9E6F9]/20 to-transparent rounded-xl pointer-events-none"}),p.jsx(e9,{value:n,onChange:y=>e(y.target.value),placeholder:"What would you tell yourself when recovery feels hard?",className:"min-h-[300px] bg-white/80 backdrop-blur-sm border-2 border-gray-200 focus:border-[#2C2E6F] resize-none"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[p.jsx(jp,{className:"w-4 h-4"}),"Need inspiration? Try starting with:"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((y,w)=>p.jsx(zt,{variant:"outline",size:"sm",onClick:()=>e(y+`

`),className:"text-sm hover:bg-[#E9E6F9] hover:text-[#2C2E6F] hover:border-[#2C2E6F]",children:y},w))})]}),p.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#E9E6F9] rounded-xl",children:[p.jsx(ale,{className:"w-5 h-5 text-[#2C2E6F]"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"Prefer to speak?"}),p.jsx("p",{className:"text-xs text-gray-600",children:"Record a voice message instead"})]}),p.jsx(zt,{variant:"outline",size:"sm",children:"Record"})]}),p.jsx("div",{className:"flex gap-3",children:p.jsxs(zt,{onClick:m,disabled:!n.trim(),className:"flex-1 bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white shadow-lg hover:shadow-xl transition-all",children:[p.jsx(eT,{className:"w-4 h-4 mr-2"}),"Seal Letter (Lock until Week ",u,")"]})})]})]}),p.jsx(kE,{open:i,onOpenChange:s,children:p.jsxs(LE,{className:"sm:max-w-2xl",children:[p.jsxs(jE,{children:[p.jsxs(UE,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Pj,{className:"w-6 h-6 text-[#4DD2C1]"}),"Your Letter is Unlocked! "]}),p.jsx(zE,{children:"You kept your promise. You showed up. You recovered."})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsx("div",{className:"text-center text-6xl animate-bounce",children:"  "}),p.jsx("div",{className:"p-6 bg-gradient-to-br from-[#E9E6F9] to-white rounded-xl",children:p.jsx("div",{className:"prose prose-sm max-w-none",children:p.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n||f})})}),p.jsxs("div",{className:"p-6 bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] rounded-xl text-white text-center",children:[p.jsx("p",{className:"mb-2",children:"You earned +20 XP!"}),p.jsx("p",{className:"text-sm opacity-90",children:"For honoring your commitment "})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{className:"text-gray-700",children:"How do you feel reading this now?"}),p.jsx(e9,{placeholder:"Reflect on your journey...",className:"min-h-[100px]"})]}),p.jsx(zt,{onClick:()=>s(!1),className:"w-full bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save Reflection"})]})]})}),p.jsx(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#FF8A73]/10 to-white",children:p.jsx(Bt,{className:"p-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx(Ej,{className:"w-6 h-6 text-[#FF8A73] flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-1",children:"Why write a letter?"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Research shows that connecting with your future self increases motivation and adherence to recovery plans. This letter becomes a powerful reminder of why you started and how far you've come."})]})]})})})]})}var t2e="Separator",t9="horizontal",n2e=["horizontal","vertical"],yJ=B.forwardRef((n,e)=>{const{decorative:t,orientation:r=t9,...i}=n,s=r2e(r)?r:t9,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx($n.div,{"data-orientation":s,...a,...i,ref:e})});yJ.displayName=t2e;function r2e(n){return n2e.includes(n)}var i2e=yJ;function ec({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return p.jsx(i2e,{"data-slot":"separator-root",decorative:t,orientation:e,className:Wn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}const s2e=[{id:1,term:"Range of Motion (ROM)",category:"Metrics",bodyArea:"All",phase:"All Phases",simpleDef:"How far your joint can move in different directions.",analogy:"Think of it like how wide a door opens.",aiConfidence:.98,whyMatters:"Improving ROM helps reduce pain and prevent reinjury. It shows your joint is healing properly.",howToImprove:["Perform gentle stretching exercises daily","Use heat before exercises to loosen muscles","Track progress with your clinician each week"],relatedExercises:["Shoulder Rotation","Neck Mobility"],icon:""},{id:2,term:"Eccentric Training",category:"Common Terms",bodyArea:"All",phase:"Strengthening",simpleDef:"Exercises where your muscle lengthens while working.",analogy:"Like slowly lowering a grocery bag  you control the descent.",aiConfidence:.95,whyMatters:"Builds strength and control, reduces injury risk during movements.",howToImprove:["Focus on the lowering phase of exercises","Count to 3-5 seconds while lowering","Use lighter weights to master the technique"],relatedExercises:["Wall Push-up"],icon:""},{id:3,term:"Stabilization",category:"Common Terms",bodyArea:"Core",phase:"All Phases",simpleDef:"Keeping your body steady and balanced during movement.",analogy:"Like a table with four strong legs  it doesn't wobble.",aiConfidence:.97,whyMatters:"Prevents compensatory movements that can cause pain elsewhere.",howToImprove:["Practice core engagement exercises","Use mirror feedback during exercises","Start with static holds before moving"],relatedExercises:["Core Stability","Spinal Twist"],icon:""},{id:4,term:"Pain Scale (0-10)",category:"Metrics",bodyArea:"All",phase:"All Phases",simpleDef:"A number rating to describe how much something hurts.",analogy:"0 is no pain, 5 is noticeable, 10 is the worst pain you can imagine.",aiConfidence:1,whyMatters:"Helps track your recovery progress and adjust exercises safely.",howToImprove:["Be honest about pain levels","Track pain before and after exercises","Tell your physio if pain increases"],relatedExercises:[],icon:""},{id:5,term:"Proprioception",category:"Common Terms",bodyArea:"All",phase:"Return to Activity",simpleDef:"Your body's ability to sense where it is in space.",analogy:"Like knowing where your hand is even with your eyes closed.",aiConfidence:.93,whyMatters:"Essential for balance, coordination, and preventing re-injury.",howToImprove:["Practice balance exercises","Try single-leg stands","Close your eyes during stable exercises"],relatedExercises:["Ankle Circles"],icon:""},{id:6,term:"Isometric Exercise",category:"Common Terms",bodyArea:"All",phase:"Mobility",simpleDef:"Exercises where you hold still while your muscles work.",analogy:"Like pushing against a wall  no movement, but your muscles are working.",aiConfidence:.96,whyMatters:"Builds strength without stressing healing joints.",howToImprove:["Hold positions for 10-30 seconds","Focus on breathing while holding","Gradually increase hold time"],relatedExercises:["Scapular Squeezes"],icon:""}],I1=[{id:1,title:"Understanding ROM",duration:"0:15"},{id:2,title:"Eccentric vs Concentric",duration:"0:20"},{id:3,title:"Core Stabilization Demo",duration:"0:18"}],o2e=[{term:"ROM",searches:45},{term:"Eccentric",searches:32},{term:"Stabilization",searches:28},{term:"Pain Scale",searches:25},{term:"Proprioception",searches:18}],a2e=[{week:"Week 1",rating:3.2},{week:"Week 2",rating:3.8},{week:"Week 3",rating:4.1},{week:"Week 4",rating:4.5}];function n9({userRole:n="patient"}){const[e,t]=B.useState(""),[r,i]=B.useState("All"),[s,o]=B.useState(null),[a,l]=B.useState(!1),[u,d]=B.useState([]),[c,f]=B.useState(""),[m,v]=B.useState(0),b=s2e.filter(A=>{const E=A.term.toLowerCase().includes(e.toLowerCase())||A.simpleDef.toLowerCase().includes(e.toLowerCase()),C=r==="All"||A.category===r;return E&&C}),y=()=>{if(!c.trim())return;const A=[...u,{role:"user",text:c}];setTimeout(()=>{const E=w(c);d([...A,{role:"ai",text:E}])},500),d(A),f("")},w=A=>A.toLowerCase().includes("eccentric")?"Eccentric training is when your muscle lengthens while it works  like slowly lowering a weight. It builds control and strength. Would you like me to show you an animation?":A.toLowerCase().includes("rom")?"ROM stands for Range of Motion - it's how far your joint can move. Think of it like a door hinge opening and closing. Better ROM means less stiffness and more freedom of movement!":"Great question! That's related to how your body heals and builds strength. Let me break that down for you in simple terms...";return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center justify-center gap-2",children:[p.jsx(Wc,{className:"w-8 h-8"}),"RehabClarity Hub  Understand Your Recovery"]}),p.jsx("p",{className:"text-gray-600",children:"AI-powered plain-language explanations for physio terms"})]}),p.jsx(Dt,{className:"border-0 shadow-lg",children:p.jsxs(Bt,{className:"p-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("label",{htmlFor:"search-clarity-hub",className:"sr-only",children:"Search any term"}),p.jsx(Hb,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx(bs,{id:"search-clarity-hub",name:"searchClarityHub",type:"search",autoComplete:"off",placeholder:"Search any term (e.g., ROM, eccentric, stabilization)...",value:e,onChange:A=>t(A.target.value),className:"pl-12 h-14 text-lg"})]}),p.jsx("div",{className:"mt-4",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:["All","Common Terms","Metrics","Body Areas","Recovery Phases"].map(A=>p.jsx(zt,{variant:r===A?"default":"outline",size:"sm",onClick:()=>i(A),className:r===A?"bg-[#2C2E6F]":"",children:A},A))})})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Quick Filters"})}),p.jsx(Bt,{className:"space-y-2",children:["Shoulder","Knee","Back","Neck","Pain Scale"].map(A=>p.jsx(zt,{variant:"outline",size:"sm",className:"w-full justify-start hover:bg-[#E9E6F9] hover:text-[#2C2E6F] hover:border-[#2C2E6F]",children:A},A))})]}),p.jsxs(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F] text-sm",children:"Featured Videos"})}),p.jsxs(Bt,{className:"space-y-3",children:[p.jsx("div",{className:"relative aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:p.jsx(Aj,{className:"w-12 h-12 text-[#2C2E6F]"})}),p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:I1[m].title}),p.jsx("p",{className:"text-xs text-gray-500",children:I1[m].duration})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(zt,{size:"sm",variant:"outline",onClick:()=>v(A=>A>0?A-1:I1.length-1),className:"flex-1",children:p.jsx(Cae,{className:"w-4 h-4"})}),p.jsx(zt,{size:"sm",variant:"outline",onClick:()=>v(A=>A<I1.length-1?A+1:0),className:"flex-1",children:p.jsx(Tae,{className:"w-4 h-4"})})]})]})]})]}),p.jsxs("div",{className:"lg:col-span-3",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(A=>p.jsx(Dt,{className:"border-0 shadow-lg hover:shadow-xl transition-all cursor-pointer",onClick:()=>o(A),children:p.jsxs(Bt,{className:"p-5 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:A.icon}),p.jsx("h4",{className:"text-[#2C2E6F]",children:A.term})]}),p.jsx(hr,{variant:"outline",className:"text-xs",children:A.category})]}),p.jsx("p",{className:"text-sm text-gray-700",children:A.simpleDef}),p.jsx("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Mj,{className:"w-4 h-4 text-[#2C2E6F] flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-xs text-gray-700 italic",children:A.analogy})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(zt,{size:"sm",variant:"outline",className:"flex-1 gap-1",onClick:E=>E.stopPropagation(),children:[p.jsx(lce,{className:"w-3 h-3"}),"Listen"]}),p.jsx(zt,{size:"sm",className:"flex-1 bg-[#4DD2C1] hover:bg-[#3bc1b0] gap-1",children:"Examples"})]}),p.jsx("div",{className:"pt-2 border-t border-gray-100",children:p.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[p.jsx(Wc,{className:"w-3 h-3"}),A.whyMatters.split(".")[0]]})})]})},A.id))}),b.length===0&&p.jsx(Dt,{className:"border-0 shadow-lg",children:p.jsx(Bt,{className:"p-12 text-center",children:p.jsx("p",{className:"text-gray-500",children:"No terms found. Try a different search or category."})})})]})]}),n==="clinician"&&p.jsxs(p.Fragment,{children:[p.jsx(ec,{className:"my-8"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-[#2C2E6F] mb-4",children:"Patient Education Analytics"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Most Searched Terms This Week"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:250,children:p.jsxs(yC,{data:o2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"term",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(di,{}),p.jsx(vu,{dataKey:"searches",fill:"#2C2E6F",radius:[8,8,0,0]})]})})})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-[#2C2E6F]",children:"Avg Understanding Rating"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Fle,{className:"w-5 h-5 text-green-600"}),p.jsx("span",{className:"text-2xl text-[#2C2E6F]",children:"4.5/5"})]})]})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:250,children:p.jsxs(cu,{data:a2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"week",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{domain:[0,5],stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(di,{}),p.jsx(As,{type:"monotone",dataKey:"rating",stroke:"#4DD2C1",strokeWidth:3,dot:{fill:"#4DD2C1",r:4}})]})})})]})]}),p.jsx(Dt,{className:"border-0 shadow-lg mt-6",children:p.jsx(Bt,{className:"p-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[p.jsx(ma,{className:"w-5 h-5 text-green-600"}),p.jsx("p",{className:"text-3xl text-[#2C2E6F]",children:"248"})]}),p.jsx("p",{className:"text-sm text-gray-600",children:"Total Searches This Week"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[p.jsx(Wc,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("p",{className:"text-3xl text-[#2C2E6F]",children:"89%"})]}),p.jsx("p",{className:"text-sm text-gray-600",children:'Marked "Understood"'})]}),p.jsx("div",{className:"text-center",children:p.jsxs(zt,{className:"bg-[#2C2E6F] hover:bg-[#1f2050] gap-2",children:[p.jsx(m0,{className:"w-4 h-4"}),"Download Patient Questions CSV"]})})]})})})]})]}),p.jsx(kE,{open:!!s,onOpenChange:()=>o(null),children:p.jsx(LE,{className:"sm:max-w-2xl",children:s&&p.jsxs(p.Fragment,{children:[p.jsxs(jE,{children:[p.jsxs(UE,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx("span",{className:"text-3xl",children:s.icon}),s.term]}),p.jsx(zE,{children:"Let's make this simple together"})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Mj,{className:"w-4 h-4"}),"Simple Meaning"]}),p.jsx("p",{className:"text-gray-700 mb-2",children:s.simpleDef}),p.jsx("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:p.jsx("p",{className:"text-sm text-gray-700 italic",children:s.analogy})})]}),p.jsx(ec,{}),p.jsxs("div",{children:[p.jsxs("h4",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Wc,{className:"w-4 h-4"}),"Why It Matters to You"]}),p.jsx("p",{className:"text-gray-700 mb-3",children:s.whyMatters}),s.relatedExercises.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Related exercises:"}),s.relatedExercises.map((A,E)=>p.jsx(hr,{className:"bg-[#4DD2C1] text-white",children:A},E))]})]}),p.jsx(ec,{}),p.jsxs("div",{children:[p.jsxs("h4",{className:"text-[#2C2E6F] mb-3 flex items-center gap-2",children:[p.jsx(ma,{className:"w-4 h-4"}),"How to Improve It"]}),p.jsx("div",{className:"space-y-2",children:s.howToImprove.map((A,E)=>p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-6 h-6 bg-[#2C2E6F] text-white rounded-full flex items-center justify-center flex-shrink-0 text-sm",children:E+1}),p.jsx("p",{className:"text-sm text-gray-700",children:A})]},E))})]}),p.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Aj,{className:"w-16 h-16 text-[#2C2E6F] mx-auto mb-2"}),p.jsx("p",{className:"text-sm text-gray-600",children:"15-second explanation video"})]})}),p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-[#E9E6F9] to-white rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-700",children:"Did this help you understand?"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(zt,{size:"sm",variant:"outline",className:"gap-2 hover:bg-green-50 hover:text-green-700 hover:border-green-300",onClick:()=>{o(null)},children:[p.jsx(Vle,{className:"w-4 h-4"}),"Got it!"]}),p.jsxs(zt,{size:"sm",variant:"outline",className:"gap-2 hover:bg-orange-50 hover:text-orange-700 hover:border-orange-300",children:[p.jsx(Hle,{className:"w-4 h-4"}),"Still confused"]})]})]}),p.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:p.jsxs("p",{className:"text-green-700",children:[" Now you understand ",s.term,"! Keep up the progress."]})})]})]})})}),!a&&p.jsx(zt,{onClick:()=>l(!0),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] hover:shadow-2xl shadow-lg z-50",size:"icon",children:p.jsx(ile,{className:"w-6 h-6"})}),a&&p.jsxs(Dt,{className:"fixed bottom-6 right-6 w-96 h-[500px] shadow-2xl z-50 border-0 flex flex-col",children:[p.jsxs(cn,{className:"bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white rounded-t-lg",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Wc,{className:"w-5 h-5"}),p.jsx(dn,{className:"text-white",children:"AI Assistant"})]}),p.jsx(zt,{size:"icon",variant:"ghost",onClick:()=>l(!1),className:"text-white hover:bg-white/20",children:p.jsx(VF,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-sm text-white/90",children:"Ask me anything you don't understand"})]}),p.jsxs(Bt,{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[u.length===0&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Try asking:"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(zt,{size:"sm",variant:"outline",className:"w-full text-left justify-start",onClick:()=>f("What is eccentric training?"),children:'"What is eccentric training?"'}),p.jsx(zt,{size:"sm",variant:"outline",className:"w-full text-left justify-start",onClick:()=>f("Explain ROM to me"),children:'"Explain ROM to me"'})]})]}),u.map((A,E)=>p.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${A.role==="user"?"bg-[#2C2E6F] text-white":"bg-[#E9E6F9] text-gray-700"}`,children:p.jsx("p",{className:"text-sm",children:A.text})})},E))]}),p.jsx("div",{className:"p-4 border-t",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(bs,{value:c,onChange:A=>f(A.target.value),onKeyPress:A=>A.key==="Enter"&&y(),placeholder:"Type your question...",className:"flex-1"}),p.jsx(zt,{onClick:y,className:"bg-[#4DD2C1] hover:bg-[#3bc1b0]",size:"icon",children:p.jsx(wE,{className:"w-4 h-4"})})]})})]})]})}const l2e=n=>{switch(n){case"Beginner":return"bg-[#3ECF8E]/10 text-[#3ECF8E]";case"Intermediate":return"bg-[#6F66FF]/10 text-[#6F66FF]";case"Advanced":return"bg-[#F87171]/10 text-[#F87171]";default:return"bg-[#1B1E3D]/10 text-[#1B1E3D]"}};function r9(){const[n,e]=B.useState(""),[t,r]=B.useState([]),i=Td(),s=hm();B.useEffect(()=>{(()=>{const c=Bf.getExercises();r(c)})()},[s.pathname]),B.useEffect(()=>{const d=()=>{if(!document.hidden){const c=Bf.getExercises();r(c)}};return document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d)}},[]),B.useEffect(()=>{let d=null;const c=()=>{d&&clearTimeout(d),d=setTimeout(()=>{const m=Bf.getExercises();r(m),d=null},150)};window.addEventListener("storage",c),window.addEventListener("exerciseProgressUpdated",c);const f=()=>{const m=Bf.getExercises();r(m)};return window.addEventListener("focus",f),()=>{d&&(clearTimeout(d),d=null),window.removeEventListener("storage",c),window.removeEventListener("exerciseProgressUpdated",c),window.removeEventListener("focus",f)}},[]);const o=d=>{sessionStorage.setItem("selectedExercise",JSON.stringify(d)),sessionStorage.setItem("selectedExerciseId",d.id),i("/live-session")},a=t.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.tags.some(c=>c.toLowerCase().includes(n.toLowerCase()))),l=t.filter(d=>d.progress===100).length,u=t.length;return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl mb-2 text-[#2C2E6F]",children:"My Exercise Library"}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Your personalized exercises prescribed by your physiotherapist."}),p.jsxs("div",{className:"mt-4 text-white rounded-2xl p-6 shadow-lg",style:{background:"linear-gradient(to right, #6F66FF, #8C7BFF)",backgroundColor:"#6F66FF",backgroundImage:"linear-gradient(to right, #6F66FF, #8C7BFF)"},children:[p.jsx("p",{className:"text-center",children:"Let's continue your recovery journey "}),p.jsx("p",{className:"text-center text-sm opacity-80 mt-1",children:"These exercises are automatically generated from your treatment plan."})]})]}),p.jsxs("div",{className:"mb-6 flex gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("label",{htmlFor:"search-exercises",className:"sr-only",children:"Search your prescribed exercises"}),p.jsx(Hb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#1B1E3D]/40",size:20}),p.jsx(bs,{id:"search-exercises",name:"searchExercises",type:"search",autoComplete:"off",placeholder:"Search your prescribed exercises...",value:n,onChange:d=>e(d.target.value),className:"rounded-xl pl-12"})]}),p.jsx(zt,{variant:"outline",className:"rounded-xl",children:"Sort by Body Area"}),p.jsx(zt,{variant:"outline",className:"rounded-xl",children:"Sort by Difficulty"})]}),p.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:a.map(d=>p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-1 transition-all duration-200",children:[p.jsxs(cn,{children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center",children:p.jsx(r$,{className:"text-white",size:24})}),p.jsx(hr,{className:l2e(d.difficulty),children:d.difficulty})]}),p.jsx(dn,{className:"text-lg",children:d.name})]}),p.jsx(Bt,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1B1E3D]/60",children:[p.jsx(rx,{size:16}),p.jsxs("span",{children:[d.sets," sets  ",d.reps," reps"]})]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70 leading-relaxed",children:d.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((c,f)=>p.jsx(hr,{variant:"outline",className:"text-xs border-[#1B1E3D]/20",children:c},f))}),p.jsxs("div",{className:"pt-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm text-[#1B1E3D]/60 mb-2",children:[p.jsx("span",{children:"Progress this week"}),p.jsxs("span",{children:[d.totalSessions-d.completedSessions," of ",d.totalSessions," sessions remaining"]})]}),p.jsx(em,{value:100-d.progress,className:"h-2"})]}),p.jsxs(zt,{onClick:()=>o(d),className:"w-full bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl group",children:[d.progress===100?"Practice Again":"Let's Go",p.jsx(gae,{size:16,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]},d.id))}),p.jsx(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] bg-gradient-to-br from-[#3ECF8E]/10 to-[#3ECF8E]/5 border-2 border-[#3ECF8E]/20",children:p.jsx(Bt,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-[#3ECF8E] flex items-center justify-center text-white text-xl",children:l===u?"":""}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg",children:l===u?p.jsx(p.Fragment,{children:"Amazing work! You've completed all exercises today! "}):p.jsxs(p.Fragment,{children:["You've completed ",l," of ",u," exercises today!"]})}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Keep up the great work on your recovery journey"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-3xl text-[#3ECF8E]",children:[Math.round(l/u*100),"%"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Complete"})]})]})})}),p.jsx("div",{className:"mt-6 text-center text-sm text-[#1B1E3D]/60",children:p.jsx("p",{children:"Exercises are automatically generated from your latest rehab plan  prescribed by your clinician and powered by AI Plan Reader."})})]})}var xC="Switch",[c2e]=mc(xC),[u2e,d2e]=c2e(xC),xJ=B.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...c}=n,[f,m]=B.useState(null),v=Ir(e,E=>m(E)),b=B.useRef(!1),y=f?d||!!f.closest("form"):!0,[w,A]=yd({prop:i,defaultProp:s??!1,onChange:u,caller:xC});return p.jsxs(u2e,{scope:t,checked:w,disabled:a,children:[p.jsx($n.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":SJ(w),"data-disabled":a?"":void 0,disabled:a,value:l,...c,ref:v,onClick:Dn(n.onClick,E=>{A(C=>!C),y&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),y&&p.jsx(wJ,{control:f,bubbles:!b.current,name:r,value:l,checked:w,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});xJ.displayName=xC;var bJ="SwitchThumb",_J=B.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=d2e(bJ,t);return p.jsx($n.span,{"data-state":SJ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});_J.displayName=bJ;var f2e="SwitchBubbleInput",wJ=B.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},s)=>{const o=B.useRef(null),a=Ir(o,s),l=vE(t),u=yE(e);return B.useEffect(()=>{const d=o.current;if(!d)return;const c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"checked").set;if(l!==t&&m){const v=new Event("click",{bubbles:r});m.call(d,t),d.dispatchEvent(v)}},[l,t,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:a,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wJ.displayName=f2e;function SJ(n){return n?"checked":"unchecked"}var h2e=xJ,p2e=_J;function My({className:n,...e}){return p.jsx(h2e,{"data-slot":"switch",className:Wn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(p2e,{"data-slot":"switch-thumb",className:Wn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var dN="rovingFocusGroup.onEntryFocus",m2e={bubbles:!1,cancelable:!0},Jb="RovingFocusGroup",[FO,AJ,g2e]=WF(Jb),[v2e,EJ]=mc(Jb,[g2e]),[y2e,x2e]=v2e(Jb),CJ=B.forwardRef((n,e)=>p.jsx(FO.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(FO.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(b2e,{...n,ref:e})})}));CJ.displayName=Jb;var b2e=B.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...c}=n,f=B.useRef(null),m=Ir(e,f),v=SE(s),[b,y]=yd({prop:o,defaultProp:a??null,onChange:l,caller:Jb}),[w,A]=B.useState(!1),E=Wf(u),C=AJ(t),M=B.useRef(!1),[P,O]=B.useState(0);return B.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(dN,E),()=>k.removeEventListener(dN,E)},[E]),p.jsx(y2e,{scope:t,orientation:r,dir:v,loop:i,currentTabStopId:b,onItemFocus:B.useCallback(k=>y(k),[y]),onItemShiftTab:B.useCallback(()=>A(!0),[]),onFocusableItemAdd:B.useCallback(()=>O(k=>k+1),[]),onFocusableItemRemove:B.useCallback(()=>O(k=>k-1),[]),children:p.jsx($n.div,{tabIndex:w||P===0?-1:0,"data-orientation":r,...c,ref:m,style:{outline:"none",...n.style},onMouseDown:Dn(n.onMouseDown,()=>{M.current=!0}),onFocus:Dn(n.onFocus,k=>{const D=!M.current;if(k.target===k.currentTarget&&D&&!w){const I=new CustomEvent(dN,m2e);if(k.currentTarget.dispatchEvent(I),!I.defaultPrevented){const L=C().filter(V=>V.focusable),W=L.find(V=>V.active),q=L.find(V=>V.id===b),ie=[W,q,...L].filter(Boolean).map(V=>V.ref.current);PJ(ie,d)}}M.current=!1}),onBlur:Dn(n.onBlur,()=>A(!1))})})}),MJ="RovingFocusGroupItem",TJ=B.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=Hf(),u=s||l,d=x2e(MJ,t),c=d.currentTabStopId===u,f=AJ(t),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:b}=d;return B.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),p.jsx(FO.ItemSlot,{scope:t,id:u,focusable:r,active:i,children:p.jsx($n.span,{tabIndex:c?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Dn(n.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Dn(n.onFocus,()=>d.onItemFocus(u)),onKeyDown:Dn(n.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=S2e(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=f().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const C=E.indexOf(y.currentTarget);E=d.loop?A2e(E,C+1):E.slice(C+1)}setTimeout(()=>PJ(E))}}),children:typeof o=="function"?o({isCurrentTabStop:c,hasTabStop:b!=null}):o})})});TJ.displayName=MJ;var _2e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w2e(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function S2e(n,e,t){const r=w2e(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _2e[r]}function PJ(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function A2e(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var E2e=CJ,C2e=TJ,bC="Tabs",[M2e]=mc(bC,[EJ]),RJ=EJ(),[T2e,gB]=M2e(bC),NJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=n,d=SE(a),[c,f]=yd({prop:r,onChange:i,defaultProp:s??"",caller:bC});return p.jsx(T2e,{scope:t,baseId:Hf(),value:c,onValueChange:f,orientation:o,dir:d,activationMode:l,children:p.jsx($n.div,{dir:d,"data-orientation":o,...u,ref:e})})});NJ.displayName=bC;var IJ="TabsList",OJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=gB(IJ,t),o=RJ(t);return p.jsx(E2e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx($n.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});OJ.displayName=IJ;var FJ="TabsTrigger",DJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=gB(FJ,t),a=RJ(t),l=LJ(o.baseId,r),u=jJ(o.baseId,r),d=r===o.value;return p.jsx(C2e,{asChild:!0,...a,focusable:!i,active:d,children:p.jsx($n.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Dn(n.onMouseDown,c=>{!i&&c.button===0&&c.ctrlKey===!1?o.onValueChange(r):c.preventDefault()}),onKeyDown:Dn(n.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&o.onValueChange(r)}),onFocus:Dn(n.onFocus,()=>{const c=o.activationMode!=="manual";!d&&!i&&c&&o.onValueChange(r)})})})});DJ.displayName=FJ;var BJ="TabsContent",kJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=gB(BJ,t),l=LJ(a.baseId,r),u=jJ(a.baseId,r),d=r===a.value,c=B.useRef(d);return B.useEffect(()=>{const f=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(th,{present:i||d,children:({present:f})=>p.jsx($n.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:c.current?"0s":void 0},children:f&&s})})});kJ.displayName=BJ;function LJ(n,e){return`${n}-trigger-${e}`}function jJ(n,e){return`${n}-content-${e}`}var P2e=NJ,R2e=OJ,N2e=DJ,I2e=kJ;function _C({className:n,...e}){return p.jsx(P2e,{"data-slot":"tabs",className:Wn("flex flex-col gap-2",n),...e})}function wC({className:n,...e}){return p.jsx(R2e,{"data-slot":"tabs-list",className:Wn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Ba({className:n,...e}){return p.jsx(N2e,{"data-slot":"tabs-trigger",className:Wn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function lc({className:n,...e}){return p.jsx(I2e,{"data-slot":"tabs-content",className:Wn("flex-1 outline-none",n),...e})}function i9(){const{user:n}=pu(),[e,t]=B.useState(!1),[r,i]=B.useState(!0),[s,o]=B.useState(!0),[a,l]=B.useState(!0),{firstName:u,lastName:d,userInitial:c}=B.useMemo(()=>{if(!n?.name)return{firstName:"",lastName:"",userInitial:"U"};const m=n.name.trim().split(/\s+/),v=m[0]||"",b=m.slice(1).join(" ")||"",y=v.charAt(0).toUpperCase()||"U";return{firstName:v,lastName:b,userInitial:y}},[n?.name]),f=[{name:"Apple Health",connected:!0,icon:""},{name:"Fitbit",connected:!1,icon:""},{name:"Google Fit",connected:!0,icon:""}];return p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Settings"}),p.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})]}),p.jsxs(_C,{defaultValue:"account",className:"space-y-6",children:[p.jsxs(wC,{className:"bg-white border border-gray-200",children:[p.jsxs(Ba,{value:"account",className:"gap-2",children:[p.jsx(rce,{className:"w-4 h-4"}),"Account"]}),p.jsxs(Ba,{value:"notifications",className:"gap-2",children:[p.jsx(Sj,{className:"w-4 h-4"}),"Notifications"]}),p.jsxs(Ba,{value:"devices",className:"gap-2",children:[p.jsx(Ile,{className:"w-4 h-4"}),"Connected Devices"]}),p.jsxs(Ba,{value:"privacy",className:"gap-2",children:[p.jsx(Ij,{className:"w-4 h-4"}),"Data & Privacy"]})]}),p.jsx(lc,{value:"account",children:p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Account Information"})}),p.jsxs(Bt,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-2xl",children:c}),p.jsx("div",{children:p.jsx(zt,{variant:"outline",size:"sm",children:"Change Photo"})})]}),p.jsx(ec,{}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"firstName",children:"First Name"}),p.jsx(bs,{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",defaultValue:u})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"lastName",children:"Last Name"}),p.jsx(bs,{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",defaultValue:d})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"email",children:"Email"}),p.jsx(bs,{id:"email",name:"email",type:"email",autoComplete:"email",defaultValue:n?.email||""})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"phone",children:"Phone"}),p.jsx(bs,{id:"phone",name:"phone",type:"tel",autoComplete:"tel",placeholder:"Enter your phone number"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"currentPassword",children:"Current Password"}),p.jsx(bs,{id:"currentPassword",name:"currentPassword",type:"password",autoComplete:"current-password",placeholder:""})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"newPassword",children:"New Password"}),p.jsx(bs,{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",placeholder:""})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx(bs,{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",placeholder:""})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(zt,{className:"bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save Changes"}),p.jsx(zt,{variant:"outline",children:"Cancel"})]})]})]})}),p.jsx(lc,{value:"notifications",children:p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Notification Preferences"})}),p.jsxs(Bt,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(_E,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email-notifications",className:"text-[#2C2E6F] cursor-pointer",children:"Email Notifications"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]})]}),p.jsx(My,{id:"email-notifications",name:"emailNotifications",checked:r,onCheckedChange:i,"aria-label":"Email Notifications"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(Sj,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"push-notifications",className:"text-[#2C2E6F] cursor-pointer",children:"Push Notifications"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about session reminders"})]})]}),p.jsx(My,{id:"push-notifications",name:"pushNotifications",checked:s,onCheckedChange:o,"aria-label":"Push Notifications"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(Of,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"weekly-report",className:"text-[#2C2E6F] cursor-pointer",children:"Weekly Progress Report"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Summary of your recovery progress"})]})]}),p.jsx(My,{id:"weekly-report",name:"weeklyReport",checked:a,onCheckedChange:l,"aria-label":"Weekly Progress Report"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{htmlFor:"notification-frequency",children:"Notification Frequency"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx(zt,{variant:"outline",className:"bg-[#2C2E6F] text-white",children:"Daily"}),p.jsx(zt,{variant:"outline",children:"Weekly"}),p.jsx(zt,{variant:"outline",children:"Monthly"})]})]}),p.jsx(zt,{className:"bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save Preferences"})]})]})}),p.jsx(lc,{value:"devices",children:p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Connected Devices"})}),p.jsxs(Bt,{className:"space-y-4",children:[f.map((m,v)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-[#2C2E6F] transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#E9E6F9] rounded-lg flex items-center justify-center text-2xl",children:m.icon}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F]",children:m.name}),p.jsx("p",{className:"text-sm text-gray-600",children:m.connected?"Syncing data automatically":"Not connected"})]})]}),p.jsx(My,{id:`device-${v}`,name:`device-${v}`,checked:m.connected,onCheckedChange:()=>{},"aria-label":`${m.name} connection`})]}),v<f.length-1&&p.jsx(ec,{className:"my-4"})]},v)),p.jsx("div",{className:"p-4 bg-[#E9E6F9] rounded-xl",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("strong",{className:"text-[#2C2E6F]",children:"How it works:"})," Connected devices help track your daily activity, heart rate, and sleep patterns to provide better recovery insights."]})})]})]})}),p.jsx(lc,{value:"privacy",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Appearance"})}),p.jsx(Bt,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(cle,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"dark-mode",className:"text-[#2C2E6F] cursor-pointer",children:"Dark Mode"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Use dark theme for the interface"})]})]}),p.jsx(My,{id:"dark-mode",name:"darkMode",checked:e,onCheckedChange:t,"aria-label":"Dark Mode"})]})})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Data Management"})}),p.jsxs(Bt,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[#2C2E6F]",children:"Download Your Data"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Export all your recovery data as CSV"})]}),p.jsxs(zt,{variant:"outline",className:"gap-2",children:[p.jsx(m0,{className:"w-4 h-4"}),"Export"]})]}),p.jsx(ec,{}),p.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[p.jsx("h4",{className:"text-red-900 mb-2",children:"Delete Account"}),p.jsx("p",{className:"text-sm text-red-700 mb-3",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),p.jsx(zt,{variant:"destructive",size:"sm",children:"Delete My Account"})]})]})]}),p.jsxs(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Privacy & Security"})}),p.jsxs(Bt,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Ij,{className:"w-5 h-5 text-[#2C2E6F] flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-2",children:"Your Data is Protected"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"All data is encrypted end-to-end and stored securely. We never share your personal health information with third parties without your explicit consent."}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"AI Transparency:"})," Computer vision pose estimation runs on-device. No video data is uploaded to the cloud."]})]})]}),p.jsx(ec,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(zt,{variant:"outline",className:"w-full justify-start",children:"View Privacy Policy"}),p.jsx(zt,{variant:"outline",className:"w-full justify-start",children:"View Terms of Service"}),p.jsx(zt,{variant:"outline",className:"w-full justify-start",children:"Manage Consent Preferences"})]})]})]})]})})]})]})}const O2e=[{from:"Mild",to:"Mild",probability:.45,count:89},{from:"Mild",to:"Moderate",probability:.35,count:69},{from:"Mild",to:"Recovery",probability:.2,count:39},{from:"Moderate",to:"Mild",probability:.3,count:52},{from:"Moderate",to:"Moderate",probability:.5,count:87},{from:"Moderate",to:"Severe",probability:.2,count:35},{from:"Severe",to:"Moderate",probability:.4,count:28},{from:"Severe",to:"Severe",probability:.5,count:35},{from:"Severe",to:"Recovery",probability:.1,count:7},{from:"Recovery",to:"Mild",probability:.15,count:12},{from:"Recovery",to:"Recovery",probability:.85,count:68}],fN=["Mild","Moderate","Severe","Recovery"],F2e=n=>n<25?"#A7F3D0":n<40?"#C7D2FE":n<60?"#FECACA":"#FCA5A5",D2e=n=>n>=40?"text-white":"text-slate-800";function B2e(){const[n,e]=B.useState("heatmap"),t=(r,i)=>O2e.find(s=>s.from===r&&s.to===i);return p.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2 mb-1",children:" Milestone Mapping  Pain Transition Matrix"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Visualize patient movement between pain states"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(_C,{value:n,onValueChange:r=>e(r),children:p.jsxs(wC,{className:"bg-white rounded-xl p-1",children:[p.jsx(Ba,{value:"heatmap",className:"rounded-lg text-xs",children:"Heatmap"}),p.jsx(Ba,{value:"sankey",className:"rounded-lg text-xs",children:"Flow"})]})}),p.jsxs(zt,{variant:"outline",size:"sm",className:"rounded-lg",children:[p.jsx(m0,{className:"mr-2",size:16}),"Export"]})]})]}),n==="heatmap"?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"w-full overflow-x-auto",children:p.jsxs("table",{className:"border-separate",style:{borderSpacing:"14px",width:"100%"},children:[p.jsxs("colgroup",{children:[p.jsx("col",{style:{width:"85px"}}),p.jsx("col",{style:{width:"80px"}}),p.jsx("col",{style:{width:"80px"}}),p.jsx("col",{style:{width:"80px"}}),p.jsx("col",{style:{width:"80px"}})]}),p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-sm font-bold text-slate-600 text-left p-2"}),fN.map(r=>p.jsx("th",{className:"text-sm font-bold text-slate-600 text-center py-3 px-4",style:{fontWeight:"700"},children:r},r))]})}),p.jsx("tbody",{children:fN.map(r=>p.jsxs("tr",{children:[p.jsx("td",{className:"text-sm font-bold text-slate-600 text-right pr-5 py-3 align-middle",style:{fontWeight:"700"},children:r}),fN.map(i=>{const s=t(r,i),o=s?Math.round(s.probability*100):0,a=!s,l=a?"#F3F4F6":F2e(o),u=a?"text-slate-400":D2e(o);return p.jsx("td",{className:"p-0",style:{padding:"0",width:"80px"},children:p.jsxs("div",{className:"h-[48px] w-[80px] flex flex-col items-center justify-center rounded-md font-semibold transition-transform duration-300 hover:scale-[1.02] shadow-sm",style:{backgroundColor:l},children:[p.jsx("div",{className:`text-xs font-semibold mb-0 ${u}`,children:a?"":`${o}%`}),!a&&p.jsxs("p",{className:`text-[9px] mt-0 leading-tight ${o>=40?"text-white/80":"text-slate-600"}`,children:["n=",s.count]})]})},`${r}-${i}`)})]},r))})]})}),p.jsxs("div",{className:"flex items-center justify-center gap-6 pt-4 border-t border-slate-200",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#A7F3D0"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Low (<25%)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#C7D2FE"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Medium (25-40%)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#FECACA"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"High (40-60%)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#FCA5A5"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Very High (>60%)"})]})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-slate-50 rounded-xl p-8 border border-slate-200",children:p.jsxs("svg",{className:"w-full h-[400px]",viewBox:"0 0 800 400",children:[p.jsxs("g",{children:[p.jsx("rect",{x:"50",y:"50",width:"120",height:"60",rx:"8",fill:"#6F66FF",opacity:"0.8"}),p.jsx("text",{x:"110",y:"85",textAnchor:"middle",fill:"white",fontSize:"14",children:"Mild Pain"}),p.jsx("rect",{x:"50",y:"150",width:"120",height:"60",rx:"8",fill:"#F87171",opacity:"0.6"}),p.jsx("text",{x:"110",y:"185",textAnchor:"middle",fill:"white",fontSize:"14",children:"Moderate"}),p.jsx("rect",{x:"50",y:"250",width:"120",height:"60",rx:"8",fill:"#F87171",opacity:"0.9"}),p.jsx("text",{x:"110",y:"285",textAnchor:"middle",fill:"white",fontSize:"14",children:"Severe"})]}),p.jsxs("g",{children:[p.jsx("rect",{x:"630",y:"50",width:"120",height:"60",rx:"8",fill:"#6F66FF",opacity:"0.8"}),p.jsx("text",{x:"690",y:"85",textAnchor:"middle",fill:"white",fontSize:"14",children:"Mild Pain"}),p.jsx("rect",{x:"630",y:"150",width:"120",height:"60",rx:"8",fill:"#F87171",opacity:"0.6"}),p.jsx("text",{x:"690",y:"185",textAnchor:"middle",fill:"white",fontSize:"14",children:"Moderate"}),p.jsx("rect",{x:"630",y:"250",width:"120",height:"60",rx:"8",fill:"#3ECF8E",opacity:"0.8"}),p.jsx("text",{x:"690",y:"285",textAnchor:"middle",fill:"white",fontSize:"14",children:"Recovery"})]}),p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"flow1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#6F66FF",stopOpacity:"0.3"}),p.jsx("stop",{offset:"100%",stopColor:"#3ECF8E",stopOpacity:"0.3"})]}),p.jsxs("linearGradient",{id:"flow2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#6F66FF",stopOpacity:"0.2"}),p.jsx("stop",{offset:"100%",stopColor:"#F87171",stopOpacity:"0.2"})]})]}),p.jsx("path",{d:"M 170 80 Q 400 80 630 280",fill:"none",stroke:"url(#flow1)",strokeWidth:"20",opacity:"0.6"}),p.jsx("path",{d:"M 170 180 Q 400 180 630 180",fill:"none",stroke:"url(#flow2)",strokeWidth:"30",opacity:"0.6"}),p.jsx("path",{d:"M 170 280 Q 400 280 630 180",fill:"none",stroke:"#F87171",strokeWidth:"15",opacity:"0.3"}),p.jsx("text",{x:"280",y:"270",textAnchor:"middle",fill:"#3ECF8E",fontSize:"12",children:"20%  Recovery"}),p.jsx("text",{x:"400",y:"170",textAnchor:"middle",fill:"#F87171",fontSize:"12",opacity:"0.7",children:"50% stable"})]})}),p.jsx("div",{className:"text-center text-sm text-slate-600",children:"Flow diagram showing patient transitions between pain states over the last 30 days"})]}),p.jsxs("div",{className:"mt-6 p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:[p.jsxs("p",{className:"text-indigo-700 text-sm font-medium mb-2",children:[" Key Insight: Patients transitioning from ",p.jsx("b",{children:"Mild  Recovery"})," rose ",p.jsx("b",{children:"10%"})," this month."]}),p.jsx("p",{className:"text-slate-600 text-xs",children:"This improvement correlates with increased adherence rates. Consider applying similar approaches to moderate pain patients."})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 flex flex-col items-center text-sm",children:[p.jsx(ma,{className:"w-5 h-5 text-green-500 mb-2"}),p.jsx("p",{className:"text-2xl font-semibold text-green-500 mb-1",children:"20%"}),p.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Recovery Rate"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"From mild"})]}),p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 flex flex-col items-center text-sm",children:[p.jsx(pm,{className:"w-5 h-5 text-blue-500 mb-2"}),p.jsx("p",{className:"text-2xl font-semibold text-blue-500 mb-1",children:"50%"}),p.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Stability Rate"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Moderate stable"})]}),p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 flex flex-col items-center text-sm",children:[p.jsx(Tx,{className:"w-5 h-5 text-red-500 mb-2"}),p.jsx("p",{className:"text-2xl font-semibold text-red-500 mb-1",children:"20%"}),p.jsx("p",{className:"text-xs font-medium text-slate-700",children:"At-Risk Rate"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Moderate  Severe"})]})]})]})}var hN,SC="HoverCard",[UJ]=mc(SC,[PE]),AC=PE(),[k2e,EC]=UJ(SC),zJ=n=>{const{__scopeHoverCard:e,children:t,open:r,defaultOpen:i,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=n,l=AC(e),u=B.useRef(0),d=B.useRef(0),c=B.useRef(!1),f=B.useRef(!1),[m,v]=yd({prop:r,defaultProp:i??!1,onChange:s,caller:SC}),b=B.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>v(!0),o)},[o,v]),y=B.useCallback(()=>{clearTimeout(u.current),!c.current&&!f.current&&(d.current=window.setTimeout(()=>v(!1),a))},[a,v]),w=B.useCallback(()=>v(!1),[v]);return B.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),p.jsx(k2e,{scope:e,open:m,onOpenChange:v,onOpen:b,onClose:y,onDismiss:w,hasSelectionRef:c,isPointerDownOnContentRef:f,children:p.jsx(N$,{...l,children:t})})};zJ.displayName=SC;var HJ="HoverCardTrigger",GJ=B.forwardRef((n,e)=>{const{__scopeHoverCard:t,...r}=n,i=EC(HJ,t),s=AC(t);return p.jsx(I$,{asChild:!0,...s,children:p.jsx($n.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Dn(n.onPointerEnter,fA(i.onOpen)),onPointerLeave:Dn(n.onPointerLeave,fA(i.onClose)),onFocus:Dn(n.onFocus,i.onOpen),onBlur:Dn(n.onBlur,i.onClose),onTouchStart:Dn(n.onTouchStart,o=>o.preventDefault())})})});GJ.displayName=HJ;var vB="HoverCardPortal",[L2e,j2e]=UJ(vB,{forceMount:void 0}),VJ=n=>{const{__scopeHoverCard:e,forceMount:t,children:r,container:i}=n,s=EC(vB,e);return p.jsx(L2e,{scope:e,forceMount:t,children:p.jsx(th,{present:t||s.open,children:p.jsx(RE,{asChild:!0,container:i,children:r})})})};VJ.displayName=vB;var dA="HoverCardContent",WJ=B.forwardRef((n,e)=>{const t=j2e(dA,n.__scopeHoverCard),{forceMount:r=t.forceMount,...i}=n,s=EC(dA,n.__scopeHoverCard);return p.jsx(th,{present:r||s.open,children:p.jsx(U2e,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Dn(n.onPointerEnter,fA(s.onOpen)),onPointerLeave:Dn(n.onPointerLeave,fA(s.onClose)),ref:e})})});WJ.displayName=dA;var U2e=B.forwardRef((n,e)=>{const{__scopeHoverCard:t,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=n,l=EC(dA,t),u=AC(t),d=B.useRef(null),c=Ir(e,d),[f,m]=B.useState(!1);return B.useEffect(()=>{if(f){const v=document.body;return hN=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=hN,v.style.webkitUserSelect=hN}}},[f]),B.useEffect(()=>{if(d.current){const v=()=>{m(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),B.useEffect(()=>{d.current&&G2e(d.current).forEach(b=>b.setAttribute("tabindex","-1"))}),p.jsx(AE,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Dn(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:p.jsx(O$,{...u,...a,onPointerDown:Dn(a.onPointerDown,v=>{v.currentTarget.contains(v.target)&&m(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:c,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),z2e="HoverCardArrow",H2e=B.forwardRef((n,e)=>{const{__scopeHoverCard:t,...r}=n,i=AC(t);return p.jsx(F$,{...i,...r,ref:e})});H2e.displayName=z2e;function fA(n){return e=>e.pointerType==="touch"?void 0:n()}function G2e(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)e.push(t.currentNode);return e}var V2e=zJ,W2e=GJ,$2e=VJ,q2e=WJ;function X2e({...n}){return p.jsx(V2e,{"data-slot":"hover-card",...n})}function K2e({...n}){return p.jsx(W2e,{"data-slot":"hover-card-trigger",...n})}function Y2e({className:n,align:e="center",sideOffset:t=4,...r}){return p.jsx($2e,{"data-slot":"hover-card-portal",children:p.jsx(q2e,{"data-slot":"hover-card-content",align:e,sideOffset:t,className:Wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}const J2e=[{day:"Day 1",adherence:78},{day:"Day 5",adherence:82},{day:"Day 10",adherence:85},{day:"Day 15",adherence:88},{day:"Day 20",adherence:91},{day:"Day 25",adherence:93},{day:"Day 30",adherence:94}];function Z2e(){return p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] bg-gradient-to-br from-[#F59E0B]/5 to-[#3ECF8E]/5 border-2 border-[#F59E0B]/20",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#F59E0B] to-[#F97316] flex items-center justify-center",children:p.jsx(Ex,{className:"text-white",size:24})}),p.jsxs("div",{children:[p.jsx(dn,{className:"text-xl",children:"Clinic Performance Incentives"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Shared-Savings Dashboard"})]})]}),p.jsxs(X2e,{children:[p.jsx(K2e,{children:p.jsx($ae,{className:"text-[#1B1E3D]/40 cursor-help",size:20})}),p.jsx(Y2e,{className:"w-80",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"text-sm",children:"How Performance Bonuses Work"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70",children:"High completion rates increase your clinic's reimbursement potential. Bonuses are calculated based on aggregated patient outcomes."})]})})]})]})}),p.jsxs(Bt,{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Portfolio Completion"}),p.jsxs(hr,{className:"bg-gradient-to-r from-[#F59E0B] to-[#F97316] text-white border-0",children:["Tier ","A"]})]}),p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:[94,"%"]}),p.jsxs("p",{className:"text-sm",style:{color:"#3ECF8E"},children:["10% performance bonus",!1,!1]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(ma,{className:"text-[#3ECF8E]",size:20}),p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Current Tier"})]}),p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:["Tier ","A"]}),p.jsxs("p",{className:"text-sm",style:{color:"#3ECF8E"},children:[" 90% completion",!1,!1]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(Ex,{className:"text-[#6F66FF]",size:20}),p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Bonus Rate"})]}),p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E",opacity:1},children:["+",10,"%"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Performance bonus"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsx("h4",{className:"mb-4",children:"Performance Tier System"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gradient-to-r from-[#3ECF8E]/10 to-[#3ECF8E]/5 border border-[#3ECF8E]/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hr,{className:"bg-[#3ECF8E] text-white border-0",children:"Tier A"}),p.jsx("span",{className:"text-sm",style:{color:"#3ECF8E"},children:" 90% portfolio completion"})]}),p.jsx("span",{style:{color:"#3ECF8E"},children:"+10% bonus"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[#F59E0B]/10 border border-[#F59E0B]/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hr,{className:"bg-[#F59E0B] text-white border-0",children:"Tier B"}),p.jsx("span",{className:"text-sm",style:{color:"#F59E0B"},children:"75-89% portfolio completion"})]}),p.jsx("span",{style:{color:"#F59E0B"},children:"Standard rate"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[#F87171]/10 border border-[#F87171]/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hr,{className:"bg-[#F87171] text-white border-0",children:"Tier C"}),p.jsxs("span",{className:"text-sm",style:{color:"#F87171"},children:["<"," 75% portfolio completion"]})]}),p.jsx("span",{style:{color:"#F87171"},children:"Below target"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h4",{children:"Patient Engagement Trend"}),p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Last 30 days"})]}),p.jsx(to,{width:"100%",height:200,children:p.jsxs(cu,{data:J2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,100]}),p.jsx(di,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#6F66FF",strokeWidth:3,name:"Avg Adherence %",dot:{fill:"#6F66FF",r:5}})]})})]}),p.jsx("div",{className:"bg-[#6F66FF]/5 rounded-xl p-4 border border-[#6F66FF]/20",children:p.jsx("p",{className:"text-sm text-[#1B1E3D]/70",children:" Metrics based on aggregated RRI scores  no patient identifiers used."})})]})]})}const Q2e=[{date:"Oct 18",adherence:88,performance:85},{date:"Oct 20",adherence:90,performance:88},{date:"Oct 22",adherence:92,performance:90},{date:"Oct 24",adherence:94,performance:92},{date:"Oct 26",adherence:95,performance:93},{date:"Oct 28",adherence:96,performance:94},{date:"Oct 30",adherence:96,performance:95}],ePe=[{day:"Day 1",pain:6.5},{day:"Day 3",pain:6},{day:"Day 5",pain:5.5},{day:"Day 7",pain:5},{day:"Day 9",pain:4.8},{day:"Day 11",pain:4.2},{day:"Day 13",pain:3.8}],tPe=[{injury:"Shoulder",rate:92},{injury:"Neck",rate:88},{injury:"Knee",rate:94},{injury:"Back",rate:85},{injury:"Hip",rate:90}],nPe=[{name:"Rose Nguyen",adherence:94,performance:92,risk:"Low",nextAppt:"Nov 3",notes:"Excellent progress",riskColor:"text-[#3ECF8E]"},{name:"James Chen",adherence:88,performance:85,risk:"Low",nextAppt:"Nov 4",notes:"On track",riskColor:"text-[#3ECF8E]"},{name:"Mia Patel",adherence:70,performance:75,risk:"High",nextAppt:"Nov 5",notes:"Motivation slipping",riskColor:"text-[#F87171]"},{name:"Sarah Kim",adherence:82,performance:80,risk:"Medium",nextAppt:"Nov 6",notes:"Needs encouragement",riskColor:"text-[#F87171]/60"},{name:"David Lopez",adherence:96,performance:94,risk:"Low",nextAppt:"Nov 7",notes:"Ahead of schedule",riskColor:"text-[#3ECF8E]"}],s9=(n,e)=>e&&e.toLowerCase()==="high"?"#F87171":e&&e.toLowerCase()==="medium"?"#F59E0B":n>0?"#3ECF8E":"#F59E0B",rPe=n=>n.toLowerCase()==="low"?"#3ECF8E":n.toLowerCase()==="high"?"#F87171":"#F59E0B";function o9({onNavigate:n}){const{user:e}=pu(),t=i=>{n?n(i):window.location.href=`/${i}`},r=e?.name||"Clinician";return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl mb-2",children:["Hi ",r," , here's your clinic's performance today."]}),p.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[p.jsx(zt,{variant:"outline",className:"rounded-xl",children:"This Week"}),p.jsx(zt,{variant:"outline",className:"rounded-xl",children:"This Month"}),p.jsx(zt,{variant:"outline",className:"rounded-xl",children:"Custom Range"}),p.jsx("div",{className:"flex-1"}),p.jsxs(zt,{className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:[p.jsx(yle,{className:"mr-2",size:18}),"Add Patient"]})]})]}),p.jsxs("div",{className:"flex flex-nowrap gap-4 mb-8 overflow-x-auto",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Total Patients"}),p.jsx(Rx,{className:"text-[#6F66FF] flex-shrink-0",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#6F66FF"},children:"152"}),p.jsx("p",{className:"text-sm font-medium",style:{color:"#6F66FF"},children:"+12% from last month"})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Active Plans"}),p.jsx(pm,{className:"text-[#3ECF8E] flex-shrink-0",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:"118"}),p.jsx("p",{className:"text-sm font-medium",style:{color:"#F59E0B"},children:"3 inactive"})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Avg Completion Rate"}),p.jsx(ma,{className:"text-[#6F66FF] flex-shrink-0",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:"91%"}),p.jsx("p",{className:"text-sm font-medium",style:{color:"#3ECF8E"},children:"+4% improvement"})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Avg Drop-Off Risk"}),p.jsx(Tx,{className:"text-[#F59E0B] flex-shrink-0",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#F59E0B"},children:"0.38"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Low risk"})]})]})]}),p.jsxs(_C,{defaultValue:"overview",className:"space-y-6",children:[p.jsxs(wC,{className:"bg-white rounded-xl p-1 shadow-sm",children:[p.jsx(Ba,{value:"overview",className:"rounded-lg",children:"Overview"}),p.jsx(Ba,{value:"patients",className:"rounded-lg",children:"Patients"}),p.jsx(Ba,{value:"bonuses",className:"rounded-lg",children:"Performance Bonus"}),p.jsx(Ba,{value:"insights",className:"rounded-lg",children:"Predictive Insights"})]}),p.jsxs(lc,{value:"overview",className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"Adherence vs Performance"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:Q2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"date",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6}),p.jsx(di,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#6F66FF",strokeWidth:2,name:"Adherence %",dot:{fill:"#6F66FF",r:4}}),p.jsx(As,{type:"monotone",dataKey:"performance",stroke:"#3ECF8E",strokeWidth:2,name:"Performance %",dot:{fill:"#3ECF8E",r:4}})]})})})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"Pain Trend Across Portfolio"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(mB,{data:ePe,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#F87171",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#F87171",stopOpacity:0})]})}),p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,10]}),p.jsx(di,{}),p.jsx(yu,{type:"monotone",dataKey:"pain",stroke:"#F87171",strokeWidth:2,fill:"url(#painGradient)",name:"Avg Pain Level"})]})})})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"Completion Rate per Injury Type"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(yC,{data:tPe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"injury",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,100]}),p.jsx(di,{}),p.jsx(vu,{dataKey:"rate",fill:"#6F66FF",radius:[8,8,0,0],name:"Completion Rate %"})]})})})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{children:"Patient Overview"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(zt,{variant:"outline",size:"sm",className:"rounded-lg",children:[p.jsx(m0,{className:"mr-2",size:16}),"Export CSV"]}),p.jsxs(zt,{variant:"outline",size:"sm",className:"rounded-lg",children:[p.jsx(m0,{className:"mr-2",size:16}),"Export PDF"]})]})]})}),p.jsx(Bt,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-[#1B1E3D]/10",children:[p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Patient"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Adherence"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Performance"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Risk"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Next Appt"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Notes"})]})}),p.jsx("tbody",{children:nPe.map((i,s)=>p.jsxs("tr",{className:"border-b border-[#1B1E3D]/5 hover:bg-[#F9F9FB]",children:[p.jsx("td",{className:"py-4 px-4",children:i.name}),p.jsxs("td",{className:"py-4 px-4 font-semibold",style:{color:s9(i.adherence,i.risk)},children:[i.adherence,"%"]}),p.jsxs("td",{className:"py-4 px-4 font-semibold",style:{color:s9(i.performance,i.risk)},children:[i.performance,"%"]}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("span",{style:{color:rPe(i.risk)},children:[" ",i.risk]})}),p.jsx("td",{className:"py-4 px-4",children:i.nextAppt}),p.jsx("td",{className:"py-4 px-4 text-sm text-[#1B1E3D]/60",children:i.notes})]},s))})]})})})]})]}),p.jsx(lc,{value:"patients",children:p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"All Patients"})}),p.jsx(Bt,{children:p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Search and filter functionality would go here..."})})]})}),p.jsx(lc,{value:"bonuses",children:p.jsx(Z2e,{})}),p.jsxs(lc,{value:"insights",className:"space-y-6",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsx(dn,{children:"Predictive Insights"})}),p.jsxs(Bt,{children:[p.jsx("p",{className:"text-[#1B1E3D]/70 mb-6",children:"View AI-driven actuarial risk modeling to proactively manage patient recovery outcomes."}),p.jsx(zt,{onClick:()=>t("actuarial-insights"),className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:"Open Actuarial Insights"})]})]}),p.jsx(B2e,{})]})]})]})}function iPe({...n}){return p.jsx(qq,{"data-slot":"sheet",...n})}function sPe({...n}){return p.jsx(Xq,{"data-slot":"sheet-portal",...n})}function oPe({className:n,...e}){return p.jsx(Kq,{"data-slot":"sheet-overlay",className:Wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function aPe({className:n,children:e,side:t="right",...r}){return p.jsxs(sPe,{children:[p.jsx(oPe,{}),p.jsxs(Yq,{"data-slot":"sheet-content",className:Wn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[e,p.jsxs(Qq,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[p.jsx(VF,{className:"size-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function lPe({className:n,...e}){return p.jsx("div",{"data-slot":"sheet-header",className:Wn("flex flex-col gap-1.5 p-4",n),...e})}function cPe({className:n,...e}){return p.jsx(Jq,{"data-slot":"sheet-title",className:Wn("text-foreground font-semibold",n),...e})}function uPe({className:n,...e}){return p.jsx(Zq,{"data-slot":"sheet-description",className:Wn("text-muted-foreground text-sm",n),...e})}const dPe=[{id:"1",name:"Rose Martinez",age:34,condition:"Shoulder Rehabilitation",recoveryStage:"Phase 1: Mobility",progress:78,nextSession:"2025-11-02",painTrend:[7,6.5,6,5.5,5,4,3.5,3],adherence:96,letterStatus:"Written",riskLevel:"low"},{id:"2",name:"Michael Chen",age:45,condition:"Knee Rehabilitation",recoveryStage:"Phase 2: Strengthening",progress:92,nextSession:"2025-11-03",painTrend:[6,5.5,5,4.5,4,3.5,3,2.5],adherence:88,letterStatus:"Read",riskLevel:"low"},{id:"3",name:"Sarah Johnson",age:28,condition:"Lower Back Pain",recoveryStage:"Phase 1: Mobility",progress:45,nextSession:"2025-11-04",painTrend:[8,7.5,7,7,6.5,6,6,5.5],adherence:62,letterStatus:"Not Written",riskLevel:"medium"},{id:"4",name:"David Kim",age:52,condition:"Hip Replacement Recovery",recoveryStage:"Phase 3: Return to Activity",progress:85,nextSession:"2025-11-01",painTrend:[7,6,5,4.5,4,3.5,3,2],adherence:94,letterStatus:"Written",riskLevel:"low"}];function fPe(){const[n,e]=B.useState(""),[t,r]=B.useState("all"),[i,s]=B.useState("all"),[o,a]=B.useState(null),l=dPe.filter(d=>{const c=d.name.toLowerCase().includes(n.toLowerCase())||d.condition.toLowerCase().includes(n.toLowerCase()),f=t==="all"||d.condition.includes(t),m=i==="all"||d.recoveryStage.includes(i);return c&&f&&m}),u=d=>{switch(d){case"low":return"bg-green-100 text-green-700 border-green-200";case"medium":return"bg-orange-100 text-orange-700 border-orange-200";case"high":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Patient Management"}),p.jsx("p",{className:"text-gray-600",children:"Track and manage patient recovery progress"})]}),p.jsx(Dt,{className:"border-0 shadow-lg",children:p.jsx(Bt,{className:"p-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"relative md:col-span-2",children:[p.jsx("label",{htmlFor:"search-patients",className:"sr-only",children:"Search by name or condition"}),p.jsx(Hb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx(bs,{id:"search-patients",name:"searchPatients",type:"search",autoComplete:"off",placeholder:"Search by name or condition...",value:n,onChange:d=>e(d.target.value),className:"pl-10"})]}),p.jsxs(e0,{value:t,onValueChange:r,children:[p.jsx(n0,{children:p.jsx(t0,{placeholder:"By Condition"})}),p.jsxs(r0,{children:[p.jsx(wi,{value:"all",children:"All Conditions"}),p.jsx(wi,{value:"Shoulder",children:"Shoulder"}),p.jsx(wi,{value:"Knee",children:"Knee"}),p.jsx(wi,{value:"Back",children:"Back"}),p.jsx(wi,{value:"Hip",children:"Hip"})]})]}),p.jsxs(e0,{value:i,onValueChange:s,children:[p.jsx(n0,{children:p.jsx(t0,{placeholder:"Recovery Stage"})}),p.jsxs(r0,{children:[p.jsx(wi,{value:"all",children:"All Stages"}),p.jsx(wi,{value:"Phase 1",children:"Phase 1: Mobility"}),p.jsx(wi,{value:"Phase 2",children:"Phase 2: Strengthening"}),p.jsx(wi,{value:"Phase 3",children:"Phase 3: Return to Activity"})]})]})]})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(d=>p.jsx(Dt,{className:"border-0 shadow-lg hover:shadow-xl transition-all cursor-pointer",onClick:()=>a(d),children:p.jsxs(Bt,{className:"p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-xl",children:d.name.split(" ").map(c=>c[0]).join("")}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#2C2E6F] mb-1",children:d.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:[d.condition,"  Age ",d.age]})]})]}),p.jsxs(hr,{variant:"outline",className:u(d.riskLevel),children:[d.riskLevel," risk"]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Recovery Stage"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:d.recoveryStage})]}),p.jsxs("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Next Session"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:new Date(d.nextSession).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Progress"}),p.jsxs("span",{className:"text-[#2C2E6F]",children:[d.progress,"%"]})]}),p.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1]",style:{width:`${d.progress}%`}})})]}),p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[p.jsx(ma,{className:"w-4 h-4"}),p.jsxs("span",{children:["Adherence: ",d.adherence,"%"]})]}),p.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[p.jsx(rS,{className:"w-4 h-4"}),p.jsx("span",{children:d.letterStatus})]})]})]})},d.id))}),p.jsx(iPe,{open:!!o,onOpenChange:()=>a(null),children:p.jsx(aPe,{className:"w-full sm:max-w-2xl overflow-y-auto",children:o&&p.jsxs(p.Fragment,{children:[p.jsxs(lPe,{children:[p.jsx(cPe,{className:"text-[#2C2E6F]",children:o.name}),p.jsxs(uPe,{children:[o.condition,"  ",o.recoveryStage]})]}),p.jsxs("div",{className:"space-y-6 mt-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(_E,{className:"w-4 h-4 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"patient@email.com"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(mle,{className:"w-4 h-4 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"+1 (555) 000-0000"})]})]})]}),p.jsxs(Dt,{className:"border-0 shadow-sm",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-sm",children:"Pain Trend"})}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:150,children:p.jsxs(cu,{data:o.painTrend.map((d,c)=>({day:c+1,pain:d})),children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"day",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"},domain:[0,10]}),p.jsx(di,{}),p.jsx(As,{type:"monotone",dataKey:"pain",stroke:"#FF8A73",strokeWidth:2,dot:{fill:"#FF8A73",r:3}})]})})})]}),p.jsxs(Dt,{className:"border-0 shadow-sm",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-sm",children:"Exercise Adherence"})}),p.jsx(Bt,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Current Week"}),p.jsxs("span",{className:"text-sm text-[#4DD2C1]",children:[o.adherence,"%"]})]}),p.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-[#4DD2C1]",style:{width:`${o.adherence}%`}})})]})})]}),p.jsxs(Dt,{className:"border-0 shadow-sm",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-sm",children:"Form Accuracy (Per Exercise)"})}),p.jsx(Bt,{children:p.jsx("div",{className:"space-y-2",children:[{exercise:"Shoulder Rotation",accuracy:94},{exercise:"Neck Mobility",accuracy:88},{exercise:"Upper Back Stretch",accuracy:92}].map((d,c)=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-sm text-gray-700 w-40",children:d.exercise}),p.jsx("div",{className:"flex-1 h-6 bg-gray-100 rounded overflow-hidden",children:p.jsxs("div",{className:`h-full flex items-center justify-end pr-2 text-xs text-white ${d.accuracy>=90?"bg-green-500":d.accuracy>=75?"bg-[#4DD2C1]":"bg-orange-500"}`,style:{width:`${d.accuracy}%`},children:[d.accuracy,"%"]})})]},c))})})]}),p.jsx(Dt,{className:"border-0 shadow-sm bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Bt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(rS,{className:"w-5 h-5 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"Future-Self Letter"}),p.jsx("p",{className:"text-xs text-gray-600",children:o.letterStatus})]})]}),o.letterStatus==="Written"&&p.jsx(hr,{className:"bg-[#4DD2C1]",children:"Active"})]})})}),p.jsxs(Dt,{className:"border-0 shadow-sm",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-sm",children:"Clinician Notes"})}),p.jsx(Bt,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[p.jsx("p",{className:"text-gray-600 mb-1",children:"Nov 1, 2025"}),p.jsx("p",{className:"text-gray-700",children:"Patient achieved 92% form accuracy in today's session. Excellent progress on shoulder mobility."})]}),p.jsx(zt,{variant:"outline",className:"w-full",size:"sm",children:"Add Note"})]})})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsxs(zt,{className:"flex-1 bg-[#2C2E6F] hover:bg-[#1f2050]",children:[p.jsx(zF,{className:"w-4 h-4 mr-2"}),"Schedule Session"]}),p.jsx(zt,{variant:"outline",className:"flex-1",children:"View Full Profile"})]})]})]})})})]})}function $J({className:n,...e}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Wn("w-full caption-bottom text-sm",n),...e})})}function qJ({className:n,...e}){return p.jsx("thead",{"data-slot":"table-header",className:Wn("[&_tr]:border-b",n),...e})}function XJ({className:n,...e}){return p.jsx("tbody",{"data-slot":"table-body",className:Wn("[&_tr:last-child]:border-0",n),...e})}function hA({className:n,...e}){return p.jsx("tr",{"data-slot":"table-row",className:Wn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function ul({className:n,...e}){return p.jsx("th",{"data-slot":"table-head",className:Wn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function dl({className:n,...e}){return p.jsx("td",{"data-slot":"table-cell",className:Wn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const hPe=[{day:"Today",actual:3,predicted:null},{day:"Day 2",actual:null,predicted:2.8},{day:"Day 3",actual:null,predicted:2.6},{day:"Day 4",actual:null,predicted:2.9},{day:"Day 5",actual:null,predicted:2.4},{day:"Day 6",actual:null,predicted:2.2},{day:"Day 7",actual:null,predicted:2}],a9=[{adherence:"80-100%",dropoffRisk:.05,count:42},{adherence:"60-80%",dropoffRisk:.25,count:28},{adherence:"40-60%",dropoffRisk:.55,count:15},{adherence:"20-40%",dropoffRisk:.78,count:8},{adherence:"0-20%",dropoffRisk:.92,count:5}],l9=[{name:"Sarah Johnson",riskScore:.72,lastActivity:"3 days ago",painSpike:"Likely in 2 days",action:"Send check-in message"},{name:"Robert Williams",riskScore:.65,lastActivity:"2 days ago",painSpike:"Unlikely",action:"Schedule follow-up"},{name:"Jennifer Lee",riskScore:.58,lastActivity:"4 days ago",painSpike:"Possible in 3 days",action:"Review exercise plan"},{name:"Mark Thompson",riskScore:.51,lastActivity:"1 day ago",painSpike:"Unlikely",action:"Monitor progress"}],pPe=[{phase:"Phase 1: Mobility",patients:35,avgProgress:62,color:"#FF8A73"},{phase:"Phase 2: Strengthening",patients:28,avgProgress:78,color:"#4DD2C1"},{phase:"Phase 3: Return",patients:18,avgProgress:91,color:"#2C2E6F"}];function mPe(){const n=e=>e>=.7?p.jsx(hr,{className:"bg-red-500",children:"High"}):e>=.5?p.jsx(hr,{className:"bg-orange-500",children:"Medium"}):p.jsx(hr,{className:"bg-yellow-500",children:"Low"});return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Wc,{className:"w-8 h-8"}),"AI Insights & Predictions"]}),p.jsx("p",{className:"text-gray-600",children:"Predictive analytics powered by machine learning"})]}),p.jsx(hr,{className:"bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white px-4 py-2",children:"Real-time Analysis"})]}),p.jsx(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsxs(Bt,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx(Wc,{className:"w-10 h-10 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#2C2E6F]",children:"This Week's Insights"}),p.jsx("p",{className:"text-sm text-gray-600",children:"AI-generated summary across all patients"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg",children:[p.jsx($le,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Avg Pain"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"12%"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg",children:[p.jsx(ma,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"ROM Improvement"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"8"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg",children:[p.jsx(pm,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Adherence"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"10%"})]})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Drop-off Risk vs Adherence"})}),p.jsxs(Bt,{children:[p.jsx(to,{width:"100%",height:300,children:p.jsxs(yC,{data:a9,layout:"vertical",children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{type:"number",domain:[0,1],stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{type:"category",dataKey:"adherence",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(di,{}),p.jsx(vu,{dataKey:"dropoffRisk",name:"Drop-off Risk",children:a9.map((e,t)=>p.jsx(ND,{fill:e.dropoffRisk>=.7?"#ef4444":e.dropoffRisk>=.4?"#f97316":"#22c55e"},`cell-${t}`))})]})}),p.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),p.jsx("span",{className:"text-gray-600",children:"Low Risk"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),p.jsx("span",{className:"text-gray-600",children:"Medium Risk"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),p.jsx("span",{className:"text-gray-600",children:"High Risk"})]})]})]})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Pain Forecast (Next 7 Days)"})}),p.jsxs(Bt,{children:[p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:hPe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"day",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"},domain:[0,10]}),p.jsx(di,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"actual",stroke:"#FF8A73",strokeWidth:3,name:"Actual",dot:{fill:"#FF8A73",r:4},connectNulls:!1}),p.jsx(As,{type:"monotone",dataKey:"predicted",stroke:"#2C2E6F",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted",dot:{fill:"#2C2E6F",r:4},connectNulls:!1})]})}),p.jsx("div",{className:"mt-4 p-3 bg-[#E9E6F9] rounded-lg",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("strong",{className:"text-[#2C2E6F]",children:"AI Prediction:"})," Pain levels expected to decrease by 33% over the next week based on current adherence patterns."]})})]})]})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsx(dn,{className:"text-[#2C2E6F]",children:"Recovery Phases Progress"})}),p.jsx(Bt,{children:p.jsx("div",{className:"space-y-6",children:pPe.map((e,t)=>p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:e.color},children:t+1}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F]",children:e.phase}),p.jsxs("p",{className:"text-sm text-gray-600",children:[e.patients," patients"]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-[#2C2E6F]",children:[e.avgProgress,"%"]}),p.jsx("p",{className:"text-xs text-gray-600",children:"Avg Progress"})]})]}),p.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full rounded-full",style:{width:`${e.avgProgress}%`,backgroundColor:e.color}})})]},t))})})]}),p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Tx,{className:"w-5 h-5 text-orange-600"}),"At-Risk Patients"]}),p.jsxs(hr,{variant:"outline",className:"text-orange-600 border-orange-200",children:[l9.length," patients need attention"]})]})}),p.jsx(Bt,{children:p.jsxs($J,{children:[p.jsx(qJ,{children:p.jsxs(hA,{children:[p.jsx(ul,{children:"Name"}),p.jsx(ul,{children:"Risk Score"}),p.jsx(ul,{children:"Last Activity"}),p.jsx(ul,{children:"Predicted Pain Spike"}),p.jsx(ul,{children:"Suggested Action"}),p.jsx(ul,{})]})}),p.jsx(XJ,{children:l9.map((e,t)=>p.jsxs(hA,{children:[p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-sm",children:e.name.split(" ").map(r=>r[0]).join("")}),p.jsx("span",{className:"text-[#2C2E6F]",children:e.name})]})}),p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[n(e.riskScore),p.jsx("span",{className:"text-sm text-gray-600",children:e.riskScore.toFixed(2)})]})}),p.jsx(dl,{className:"text-gray-600",children:e.lastActivity}),p.jsx(dl,{children:p.jsx(hr,{variant:"outline",className:e.painSpike.includes("Likely")?"border-red-200 text-red-600":e.painSpike.includes("Possible")?"border-orange-200 text-orange-600":"border-green-200 text-green-600",children:e.painSpike})}),p.jsx(dl,{className:"text-gray-700",children:e.action}),p.jsx(dl,{children:p.jsxs(zt,{size:"sm",variant:"outline",className:"gap-2",children:[p.jsx(wE,{className:"w-3 h-3"}),"Send Nudge"]})})]},t))})]})})]}),p.jsx(Dt,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Bt,{className:"p-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx(Wc,{className:"w-6 h-6 text-[#2C2E6F] flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-2",children:"How AI Predictions Work"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Our predictive models analyze exercise adherence, pain trends, form quality, and engagement patterns using XGBoost and LSTM neural networks. Risk scores are calculated based on deviation from expected recovery trajectories."}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"Transparency:"})," All predictions include confidence intervals and are reviewed by clinicians before patient intervention."]})]})]})})})]})}const gPe=[{week:0,current:100,predicted:100},{week:1,current:98,predicted:97},{week:2,current:95,predicted:94},{week:3,current:92,predicted:90},{week:4,current:88,predicted:85},{week:5,current:84,predicted:80},{week:6,current:80,predicted:75},{week:7,current:76,predicted:70},{week:8,current:72,predicted:65}],c9=[{name:"Sarah Johnson",riskScore:.72,lastActivity:"3 days ago",painSpike:"Likely in 2 days",action:"Send check-in message"},{name:"Robert Williams",riskScore:.65,lastActivity:"2 days ago",painSpike:"Unlikely",action:"Schedule follow-up"},{name:"Jennifer Lee",riskScore:.58,lastActivity:"4 days ago",painSpike:"Possible in 3 days",action:"Review exercise plan"},{name:"Mark Thompson",riskScore:.51,lastActivity:"1 day ago",painSpike:"Unlikely",action:"Monitor progress"}],vPe=n=>n>=.7?p.jsx(hr,{className:"bg-red-500",children:"High"}):n>=.5?p.jsx(hr,{className:"bg-orange-500",children:"Medium"}):p.jsx(hr,{className:"bg-yellow-500",children:"Low"});function yPe({onBack:n}){const[e,t]=B.useState([0]),r=Math.round(e[0]*1.2);return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs(zt,{variant:"ghost",onClick:n,className:"mb-4 hover:bg-[#6F66FF]/10",children:[p.jsx(eI,{className:"mr-2",size:18}),"Back to Dashboard"]}),p.jsx("h1",{className:"text-3xl mb-2",children:"Actuarial Intelligence  Recovery Risk Index (RRI)"}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Predictive analytics for proactive rehab management."}),p.jsxs("div",{className:"flex gap-3 mt-4",children:[p.jsx(zt,{className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:"Run New Forecast"}),p.jsxs(zt,{variant:"outline",className:"rounded-xl",children:[p.jsx(m0,{className:"mr-2",size:18}),"Generate Risk Report (CSV)"]})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Avg Drop-Off Probability"}),p.jsx(Tx,{className:"text-[#F87171]",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl text-[#F87171] mb-1",children:"38%"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Portfolio average"})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Avg Recovery Duration"}),p.jsx(pm,{className:"text-[#6F66FF]",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl text-[#6F66FF] mb-1",children:"7.4 weeks"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Predicted timeline"})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dn,{className:"text-sm text-[#1B1E3D]/60",children:"Portfolio Risk Score"}),p.jsx(ma,{className:"text-[#F87171]/60",size:20})]})}),p.jsxs(Bt,{children:[p.jsx("div",{className:"text-3xl text-[#F87171]/60 mb-1",children:"0.41"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Moderate risk"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(cn,{children:[p.jsx(dn,{children:"Kaplan-Meier Recovery Curve"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Probability of continued engagement over time"})]}),p.jsx(Bt,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:gPe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"week",stroke:"#1B1E3D",opacity:.6,label:{value:"Weeks",position:"insideBottom",offset:-5}}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,100],label:{value:"Survival Probability (%)",angle:-90,position:"insideLeft"}}),p.jsx(di,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"current",stroke:"#6F66FF",strokeWidth:3,name:"Current Trajectory",dot:{fill:"#6F66FF",r:4}}),p.jsx(As,{type:"monotone",dataKey:"predicted",stroke:"#3ECF8E",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted Path",dot:{fill:"#3ECF8E",r:4}})]})})})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(cn,{children:[p.jsx(dn,{children:"Risk Distribution by Injury Type"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Color-coded risk assessment across conditions"})]}),p.jsx(Bt,{children:p.jsx("div",{className:"space-y-3",children:["Shoulder","Neck","Knee","Back","Hip"].map((i,s)=>{const o=[.35,.52,.28,.48,.38][s],a=o<.35?"#3ECF8E":o<.5?"#F87171aa":"#F87171";return p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{children:i}),p.jsxs("span",{className:"text-[#1B1E3D]/60",children:["RRI: ",o.toFixed(2)]})]}),p.jsx("div",{className:"h-8 rounded-lg overflow-hidden",style:{backgroundColor:a,opacity:.8},children:p.jsx("div",{className:"h-full flex items-center px-3 text-white text-sm",children:o<.35?"Low Risk":o<.5?"Medium Risk":"High Risk"})})]},i)})})})]})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] mb-8",children:[p.jsxs(cn,{children:[p.jsxs(dn,{className:"flex items-center gap-2",children:[p.jsx(ma,{className:"text-[#6F66FF]"}),"Scenario Simulator"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Interactive modeling to predict impact of intervention strategies"})]}),p.jsx(Bt,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("label",{className:"text-sm",children:"Adherence Improvement"}),p.jsxs(hr,{variant:"outline",children:[e[0]>0?"+":"",e[0],"%"]})]}),p.jsx(Ox,{value:e,onValueChange:t,min:-20,max:20,step:1,className:"w-full"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-[#6F66FF]/10 to-[#8C7BFF]/10 rounded-xl p-6 border-2 border-[#6F66FF]/30",children:[p.jsx("h4",{className:"mb-3",children:"Predicted Impact"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-1",children:"Drop-off Risk Change"}),p.jsxs("p",{className:`text-2xl ${r>0?"text-[#3ECF8E]":r<0?"text-[#F87171]":"text-[#1B1E3D]"}`,children:[r>0?"":r<0?"":""," ",Math.abs(r),"%"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-1",children:"Expected Recovery Time"}),p.jsxs("p",{className:`text-2xl ${e[0]>0?"text-[#3ECF8E]":e[0]<0?"text-[#F87171]":"text-[#1B1E3D]"}`,children:[7.4-e[0]*.15," weeks"]})]})]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70 mt-4 italic",children:e[0]>0?`If adherence ${e[0]}%, drop-off risk ${r}%`:e[0]<0?`If adherence ${Math.abs(e[0])}%, drop-off risk ${Math.abs(r)}%`:"Adjust slider to simulate different scenarios"})]})]})})]}),p.jsxs(Dt,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(cn,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(dn,{className:"flex items-center gap-2",children:[p.jsx(Tx,{className:"w-5 h-5 text-orange-600"}),"Patient Risk Analysis"]}),p.jsxs(hr,{variant:"outline",className:"text-orange-600 border-orange-200",children:[c9.length," patients need attention"]})]})}),p.jsx(Bt,{children:p.jsxs($J,{children:[p.jsx(qJ,{children:p.jsxs(hA,{children:[p.jsx(ul,{children:"Name"}),p.jsx(ul,{children:"Risk Score"}),p.jsx(ul,{children:"Last Activity"}),p.jsx(ul,{children:"Predicted Pain Spike"}),p.jsx(ul,{children:"Suggested Action"}),p.jsx(ul,{})]})}),p.jsx(XJ,{children:c9.map((i,s)=>p.jsxs(hA,{children:[p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-sm",children:i.name.split(" ").map(o=>o[0]).join("")}),p.jsx("span",{className:"text-[#2C2E6F]",children:i.name})]})}),p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[vPe(i.riskScore),p.jsx("span",{className:"text-sm text-gray-600",children:i.riskScore.toFixed(2)})]})}),p.jsx(dl,{className:"text-gray-600",children:i.lastActivity}),p.jsx(dl,{children:p.jsx(hr,{variant:"outline",className:i.painSpike.includes("Likely")?"border-red-200 text-red-600":i.painSpike.includes("Possible")?"border-orange-200 text-orange-600":"border-green-200 text-green-600",children:i.painSpike})}),p.jsx(dl,{className:"text-gray-700",children:i.action}),p.jsx(dl,{children:p.jsxs(zt,{size:"sm",variant:"outline",className:"gap-2",children:[p.jsx(wE,{className:"w-3 h-3"}),"Send Nudge"]})})]},s))})]})})]}),p.jsx("div",{className:"mt-8 text-center text-sm text-[#1B1E3D]/60",children:p.jsxs("p",{children:["Powered by"," ",p.jsx("span",{className:"text-[#6F66FF]",children:"RehabMax AI+ Predictive Core (v1.2)"})," "," combining clinical, behavioural, and sensor data for actuarial recovery forecasting."]})})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Zb="181",gp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},KJ=0,DO=1,YJ=2,xPe=3,JJ=0,CC=1,cx=2,tc=3,uu=0,Wo=1,fl=2,dc=0,Gp=1,BO=2,kO=3,LO=4,ZJ=5,Nf=100,QJ=101,eZ=102,tZ=103,nZ=104,rZ=200,iZ=201,sZ=202,oZ=203,pA=204,mA=205,aZ=206,lZ=207,cZ=208,uZ=209,dZ=210,fZ=211,hZ=212,pZ=213,mZ=214,gA=0,vA=1,yA=2,om=3,xA=4,bA=5,_A=6,wA=7,Qb=0,gZ=1,vZ=2,tu=0,yZ=1,xZ=2,bZ=3,MC=4,_Z=5,wZ=6,SZ=7,jO="attached",AZ="detached",Xf=300,du=301,Kf=302,z0=303,mb=304,wv=306,Yf=1e3,Mi=1001,H0=1002,js=1003,TC=1004,bPe=1004,Tp=1005,_Pe=1005,Rr=1006,l0=1007,wPe=1007,ml=1008,UO=1008,qo=1009,PC=1010,RC=1011,G0=1012,e_=1013,fu=1014,Ti=1015,ws=1016,NC=1017,IC=1018,V0=1020,yB=35902,xB=35899,bB=1021,_B=1022,$i=1023,W0=1026,$0=1027,t_=1028,n_=1029,OC=1030,FC=1031,SPe=1032,DC=1033,ux=33776,dx=33777,fx=33778,hx=33779,SA=35840,AA=35841,EA=35842,CA=35843,MA=36196,TA=37492,PA=37496,RA=37808,NA=37809,IA=37810,OA=37811,FA=37812,DA=37813,BA=37814,kA=37815,LA=37816,jA=37817,UA=37818,zA=37819,HA=37820,GA=37821,VA=36492,WA=36494,$A=36495,qA=36283,XA=36284,KA=36285,YA=36286,EZ=2200,wB=2201,CZ=2202,q0=2300,X0=2301,$w=2302,Pp=2400,Rp=2401,gb=2402,BC=2500,SB=2501,MZ=0,AB=1,JA=2,TZ=3200,PZ=3201,APe=3202,EPe=3203,ch=0,RZ=1,od="",zo="srgb",hu="srgb-linear",vb="linear",Vr="srgb",CPe=0,yp=7680,MPe=7681,TPe=7682,PPe=7683,RPe=34055,NPe=34056,IPe=5386,OPe=512,FPe=513,DPe=514,BPe=515,kPe=516,LPe=517,jPe=518,zO=519,NZ=512,IZ=513,OZ=514,EB=515,FZ=516,DZ=517,BZ=518,kZ=519,yb=35044,UPe=35048,zPe=35040,HPe=35045,GPe=35049,VPe=35041,WPe=35046,$Pe=35050,qPe=35042,XPe="100",HO="300 es",ka=2e3,K0=2001,KPe={COMPUTE:"compute",RENDER:"render"},YPe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},JPe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function LZ(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ZPe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Gg(n,e){return new ZPe[n](e)}function xb(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function jZ(){const n=xb("canvas");return n.style.display="block",n}const u9={};let Jf=null;function QPe(n){Jf=n}function eRe(){return Jf}function bb(...n){const e="THREE."+n.shift();Jf?Jf("log",e,...n):console.log(e,...n)}function tn(...n){const e="THREE."+n.shift();Jf?Jf("warn",e,...n):console.warn(e,...n)}function Vn(...n){const e="THREE."+n.shift();Jf?Jf("error",e,...n):console.error(e,...n)}function Y0(...n){const e=n.join(" ");e in u9||(u9[e]=!0,tn(...n))}function tRe(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}let xu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const mo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let d9=1234567;const Vp=Math.PI/180,J0=180/Math.PI;function ja(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(mo[n&255]+mo[n>>8&255]+mo[n>>16&255]+mo[n>>24&255]+"-"+mo[e&255]+mo[e>>8&255]+"-"+mo[e>>16&15|64]+mo[e>>24&255]+"-"+mo[t&63|128]+mo[t>>8&255]+"-"+mo[t>>16&255]+mo[t>>24&255]+mo[r&255]+mo[r>>8&255]+mo[r>>16&255]+mo[r>>24&255]).toLowerCase()}function zn(n,e,t){return Math.max(e,Math.min(t,n))}function CB(n,e){return(n%e+e)%e}function nRe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function rRe(n,e,t){return n!==e?(t-n)/(e-n):0}function px(n,e,t){return(1-t)*n+t*e}function iRe(n,e,t,r){return px(n,e,1-Math.exp(-t*r))}function sRe(n,e=1){return e-Math.abs(CB(n,e*2)-e)}function oRe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function aRe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function lRe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function cRe(n,e){return n+Math.random()*(e-n)}function uRe(n){return n*(.5-Math.random())}function dRe(n){n!==void 0&&(d9=n);let e=d9+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function fRe(n){return n*Vp}function hRe(n){return n*J0}function pRe(n){return(n&n-1)===0&&n!==0}function mRe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function gRe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function vRe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),d=o((e+r)/2),c=s((e-r)/2),f=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*c,l*f,a*u);break;case"YZY":n.set(l*f,a*d,l*c,a*u);break;case"ZXZ":n.set(l*c,l*f,a*d,a*u);break;case"XZX":n.set(a*d,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*d,a*u);break;default:tn("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ho(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function rr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const UZ={DEG2RAD:Vp,RAD2DEG:J0,generateUUID:ja,clamp:zn,euclideanModulo:CB,mapLinear:nRe,inverseLerp:rRe,lerp:px,damp:iRe,pingpong:sRe,smoothstep:oRe,smootherstep:aRe,randInt:lRe,randFloat:cRe,randFloatSpread:uRe,seededRandom:dRe,degToRad:fRe,radToDeg:hRe,isPowerOfTwo:pRe,ceilPowerOfTwo:mRe,floorPowerOfTwo:gRe,setQuaternionFromProperEuler:vRe,normalize:rr,denormalize:Ho};class xt{constructor(e=0,t=0){xt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=zn(this.x,e.x,t.x),this.y=zn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=zn(this.x,e,t),this.y=zn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(zn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(zn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Us{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],d=r[i+2],c=r[i+3],f=s[o+0],m=s[o+1],v=s[o+2],b=s[o+3];if(a<=0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=c;return}if(a>=1){e[t+0]=f,e[t+1]=m,e[t+2]=v,e[t+3]=b;return}if(c!==b||l!==f||u!==m||d!==v){let y=l*f+u*m+d*v+c*b;y<0&&(f=-f,m=-m,v=-v,b=-b,y=-y);let w=1-a;if(y<.9995){const A=Math.acos(y),E=Math.sin(A);w=Math.sin(w*A)/E,a=Math.sin(a*A)/E,l=l*w+f*a,u=u*w+m*a,d=d*w+v*a,c=c*w+b*a}else{l=l*w+f*a,u=u*w+m*a,d=d*w+v*a,c=c*w+b*a;const A=1/Math.sqrt(l*l+u*u+d*d+c*c);l*=A,u*=A,d*=A,c*=A}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=c}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],d=r[i+3],c=s[o],f=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*c+l*m-u*f,e[t+1]=l*v+d*f+u*c-a*m,e[t+2]=u*v+d*m+a*f-l*c,e[t+3]=d*v-a*c-l*f-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),d=a(i/2),c=a(s/2),f=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=f*d*c+u*m*v,this._y=u*m*c-f*d*v,this._z=u*d*v+f*m*c,this._w=u*d*c-f*m*v;break;case"YXZ":this._x=f*d*c+u*m*v,this._y=u*m*c-f*d*v,this._z=u*d*v-f*m*c,this._w=u*d*c+f*m*v;break;case"ZXY":this._x=f*d*c-u*m*v,this._y=u*m*c+f*d*v,this._z=u*d*v+f*m*c,this._w=u*d*c-f*m*v;break;case"ZYX":this._x=f*d*c-u*m*v,this._y=u*m*c+f*d*v,this._z=u*d*v-f*m*c,this._w=u*d*c+f*m*v;break;case"YZX":this._x=f*d*c+u*m*v,this._y=u*m*c+f*d*v,this._z=u*d*v-f*m*c,this._w=u*d*c-f*m*v;break;case"XZY":this._x=f*d*c-u*m*v,this._y=u*m*c-f*d*v,this._z=u*d*v+f*m*c,this._w=u*d*c+f*m*v;break;default:tn("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],c=t[10],f=r+a+c;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>c){const m=2*Math.sqrt(1+r-a-c);this._w=(d-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>c){const m=2*Math.sqrt(1+a-r-c);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+c-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=r*d+o*a+i*u-s*l,this._y=i*d+o*l+s*a-r*u,this._z=s*d+o*u+r*l-i*a,this._w=o*d-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,o=e._w,a=this.dot(e);a<0&&(r=-r,i=-i,s=-s,o=-o,a=-a);let l=1-t;if(a<.9995){const u=Math.acos(a),d=Math.sin(u);l=Math.sin(l*u)/d,t=Math.sin(t*u)/d,this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+s*t,this._w=this._w*l+o*t,this._onChangeCallback()}else this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+s*t,this._w=this._w*l+o*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,t=0,r=0){de.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(f9.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(f9.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),d=2*(a*t-s*i),c=2*(s*r-o*t);return this.x=t+l*u+o*c-a*d,this.y=r+l*d+a*u-s*c,this.z=i+l*c+s*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=zn(this.x,e.x,t.x),this.y=zn(this.y,e.y,t.y),this.z=zn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=zn(this.x,e,t),this.y=zn(this.y,e,t),this.z=zn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(zn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return pN.copy(this).projectOnVector(e),this.sub(pN)}reflect(e){return this.sub(pN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(zn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const pN=new de,f9=new Us;class er{constructor(e,t,r,i,s,o,a,l,u){er.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u)}set(e,t,r,i,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],d=r[4],c=r[7],f=r[2],m=r[5],v=r[8],b=i[0],y=i[3],w=i[6],A=i[1],E=i[4],C=i[7],M=i[2],P=i[5],O=i[8];return s[0]=o*b+a*A+l*M,s[3]=o*y+a*E+l*P,s[6]=o*w+a*C+l*O,s[1]=u*b+d*A+c*M,s[4]=u*y+d*E+c*P,s[7]=u*w+d*C+c*O,s[2]=f*b+m*A+v*M,s[5]=f*y+m*E+v*P,s[8]=f*w+m*C+v*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-r*s*d+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],c=d*o-a*u,f=a*l-d*s,m=u*s-o*l,v=t*c+r*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=c*b,e[1]=(i*u-d*r)*b,e[2]=(a*r-i*o)*b,e[3]=f*b,e[4]=(d*t-i*l)*b,e[5]=(i*s-a*t)*b,e[6]=m*b,e[7]=(r*l-u*t)*b,e[8]=(o*t-r*s)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(mN.makeScale(e,t)),this}rotate(e){return this.premultiply(mN.makeRotation(-e)),this}translate(e,t){return this.premultiply(mN.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const mN=new er,h9=new er().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),p9=new er().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function yRe(){const n={enabled:!0,workingColorSpace:hu,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Vr&&(i.r=gd(i.r),i.g=gd(i.g),i.b=gd(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Vr&&(i.r=c0(i.r),i.g=c0(i.g),i.b=c0(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===od?vb:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Y0("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Y0("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[hu]:{primaries:e,whitePoint:r,transfer:vb,toXYZ:h9,fromXYZ:p9,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:zo},outputColorSpaceConfig:{drawingBufferColorSpace:zo}},[zo]:{primaries:e,whitePoint:r,transfer:Vr,toXYZ:h9,fromXYZ:p9,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:zo}}}),n}const Mr=yRe();function gd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function c0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let gg;class zZ{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{gg===void 0&&(gg=xb("canvas")),gg.width=e.width,gg.height=e.height;const i=gg.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=gg}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=xb("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=gd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(gd(t[r]/255)*255):t[r]=gd(t[r]);return{data:t,width:e.width,height:e.height}}else return tn("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xRe=0;class kf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xRe++}),this.uuid=ja(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(gN(i[o].image)):s.push(gN(i[o]))}else s=gN(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function gN(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?zZ.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(tn("Texture: Unable to serialize Texture."),{})}let bRe=0;const vN=new de;class zr extends xu{constructor(e=zr.DEFAULT_IMAGE,t=zr.DEFAULT_MAPPING,r=Mi,i=Mi,s=Rr,o=ml,a=$i,l=qo,u=zr.DEFAULT_ANISOTROPY,d=od){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bRe++}),this.uuid=ja(),this.name="",this.source=new kf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xt(0,0),this.repeat=new xt(1,1),this.center=new xt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new er,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(vN).x}get height(){return this.source.getSize(vN).y}get depth(){return this.source.getSize(vN).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){tn(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){tn(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yf:e.x=e.x-Math.floor(e.x);break;case Mi:e.x=e.x<0?0:1;break;case H0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yf:e.y=e.y-Math.floor(e.y);break;case Mi:e.y=e.y<0?0:1;break;case H0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}zr.DEFAULT_IMAGE=null;zr.DEFAULT_MAPPING=Xf;zr.DEFAULT_ANISOTROPY=1;class Pr{constructor(e=0,t=0,r=0,i=1){Pr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],d=l[4],c=l[8],f=l[1],m=l[5],v=l[9],b=l[2],y=l[6],w=l[10];if(Math.abs(d-f)<.01&&Math.abs(c-b)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+f)<.1&&Math.abs(c+b)<.1&&Math.abs(v+y)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(u+1)/2,C=(m+1)/2,M=(w+1)/2,P=(d+f)/4,O=(c+b)/4,k=(v+y)/4;return E>C&&E>M?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=P/r,s=O/r):C>M?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=P/i,s=k/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=O/s,i=k/s),this.set(r,i,s,t),this}let A=Math.sqrt((y-v)*(y-v)+(c-b)*(c-b)+(f-d)*(f-d));return Math.abs(A)<.001&&(A=1),this.x=(y-v)/A,this.y=(c-b)/A,this.z=(f-d)/A,this.w=Math.acos((u+m+w-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=zn(this.x,e.x,t.x),this.y=zn(this.y,e.y,t.y),this.z=zn(this.z,e.z,t.z),this.w=zn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=zn(this.x,e,t),this.y=zn(this.y,e,t),this.z=zn(this.z,e,t),this.w=zn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(zn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class MB extends xu{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new Pr(0,0,e,t),this.scissorTest=!1,this.viewport=new Pr(0,0,e,t);const i={width:e,height:t,depth:r.depth},s=new zr(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Rr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new kf(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wl extends MB{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class kC extends zr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=js,this.minFilter=js,this.wrapR=Mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _Re extends wl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new kC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class LC extends zr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=js,this.minFilter=js,this.wrapR=Mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wRe extends wl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new LC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class zs{constructor(e=new de(1/0,1/0,1/0),t=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Xl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Xl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Xl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Xl):Xl.fromBufferAttribute(s,o),Xl.applyMatrix4(e.matrixWorld),this.expandByPoint(Xl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),O1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),O1.copy(r.boundingBox)),O1.applyMatrix4(e.matrixWorld),this.union(O1)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Xl),Xl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ty),F1.subVectors(this.max,Ty),vg.subVectors(e.a,Ty),yg.subVectors(e.b,Ty),xg.subVectors(e.c,Ty),mf.subVectors(yg,vg),gf.subVectors(xg,yg),Zh.subVectors(vg,xg);let t=[0,-mf.z,mf.y,0,-gf.z,gf.y,0,-Zh.z,Zh.y,mf.z,0,-mf.x,gf.z,0,-gf.x,Zh.z,0,-Zh.x,-mf.y,mf.x,0,-gf.y,gf.x,0,-Zh.y,Zh.x,0];return!yN(t,vg,yg,xg,F1)||(t=[1,0,0,0,1,0,0,0,1],!yN(t,vg,yg,xg,F1))?!1:(D1.crossVectors(mf,gf),t=[D1.x,D1.y,D1.z],yN(t,vg,yg,xg,F1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Xl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Yu=[new de,new de,new de,new de,new de,new de,new de,new de],Xl=new de,O1=new zs,vg=new de,yg=new de,xg=new de,mf=new de,gf=new de,Zh=new de,Ty=new de,F1=new de,D1=new de,Qh=new de;function yN(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Qh.fromArray(n,s);const a=i.x*Math.abs(Qh.x)+i.y*Math.abs(Qh.y)+i.z*Math.abs(Qh.z),l=e.dot(Qh),u=t.dot(Qh),d=r.dot(Qh);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const SRe=new zs,Py=new de,xN=new de;class Hs{constructor(e=new de,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):SRe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Py.subVectors(e,this.center);const t=Py.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Py,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(xN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Py.copy(e.center).add(xN)),this.expandByPoint(Py.copy(e.center).sub(xN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ju=new de,bN=new de,B1=new de,vf=new de,_N=new de,k1=new de,wN=new de;class bm{constructor(e=new de,t=new de(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ju)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ju.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ju.copy(this.origin).addScaledVector(this.direction,t),Ju.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){bN.copy(e).add(t).multiplyScalar(.5),B1.copy(t).sub(e).normalize(),vf.copy(this.origin).sub(bN);const s=e.distanceTo(t)*.5,o=-this.direction.dot(B1),a=vf.dot(this.direction),l=-vf.dot(B1),u=vf.lengthSq(),d=Math.abs(1-o*o);let c,f,m,v;if(d>0)if(c=o*l-a,f=o*a-l,v=s*d,c>=0)if(f>=-v)if(f<=v){const b=1/d;c*=b,f*=b,m=c*(c+o*f+2*a)+f*(o*c+f+2*l)+u}else f=s,c=Math.max(0,-(o*f+a)),m=-c*c+f*(f+2*l)+u;else f=-s,c=Math.max(0,-(o*f+a)),m=-c*c+f*(f+2*l)+u;else f<=-v?(c=Math.max(0,-(-o*s+a)),f=c>0?-s:Math.min(Math.max(-s,-l),s),m=-c*c+f*(f+2*l)+u):f<=v?(c=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+u):(c=Math.max(0,-(o*s+a)),f=c>0?s:Math.min(Math.max(-s,-l),s),m=-c*c+f*(f+2*l)+u);else f=o>0?-s:s,c=Math.max(0,-(o*f+a)),m=-c*c+f*(f+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,c),i&&i.copy(bN).addScaledVector(B1,f),m}intersectSphere(e,t){Ju.subVectors(e.center,this.origin);const r=Ju.dot(this.direction),i=Ju.dot(Ju)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),c>=0?(a=(e.min.z-f.z)*c,l=(e.max.z-f.z)*c):(a=(e.max.z-f.z)*c,l=(e.min.z-f.z)*c),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ju)!==null}intersectTriangle(e,t,r,i,s){_N.subVectors(t,e),k1.subVectors(r,e),wN.crossVectors(_N,k1);let o=this.direction.dot(wN),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;vf.subVectors(this.origin,e);const l=a*this.direction.dot(k1.crossVectors(vf,k1));if(l<0)return null;const u=a*this.direction.dot(_N.cross(vf));if(u<0||l+u>o)return null;const d=-a*vf.dot(wN);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Bn{constructor(e,t,r,i,s,o,a,l,u,d,c,f,m,v,b,y){Bn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u,d,c,f,m,v,b,y)}set(e,t,r,i,s,o,a,l,u,d,c,f,m,v,b,y){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=d,w[10]=c,w[14]=f,w[3]=m,w[7]=v,w[11]=b,w[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Bn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/bg.setFromMatrixColumn(e,0).length(),s=1/bg.setFromMatrixColumn(e,1).length(),o=1/bg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),d=Math.cos(s),c=Math.sin(s);if(e.order==="XYZ"){const f=o*d,m=o*c,v=a*d,b=a*c;t[0]=l*d,t[4]=-l*c,t[8]=u,t[1]=m+v*u,t[5]=f-b*u,t[9]=-a*l,t[2]=b-f*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const f=l*d,m=l*c,v=u*d,b=u*c;t[0]=f+b*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*c,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=b+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*d,m=l*c,v=u*d,b=u*c;t[0]=f-b*a,t[4]=-o*c,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=b-f*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*d,m=o*c,v=a*d,b=a*c;t[0]=l*d,t[4]=v*u-m,t[8]=f*u+b,t[1]=l*c,t[5]=b*u+f,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*u,v=a*l,b=a*u;t[0]=l*d,t[4]=b-f*c,t[8]=v*c+m,t[1]=c,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*c+v,t[10]=f-b*c}else if(e.order==="XZY"){const f=o*l,m=o*u,v=a*l,b=a*u;t[0]=l*d,t[4]=-c,t[8]=u*d,t[1]=f*c+b,t[5]=o*d,t[9]=m*c-v,t[2]=v*c-m,t[6]=a*d,t[10]=b*c+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ARe,e,ERe)}lookAt(e,t,r){const i=this.elements;return Ta.subVectors(e,t),Ta.lengthSq()===0&&(Ta.z=1),Ta.normalize(),yf.crossVectors(r,Ta),yf.lengthSq()===0&&(Math.abs(r.z)===1?Ta.x+=1e-4:Ta.z+=1e-4,Ta.normalize(),yf.crossVectors(r,Ta)),yf.normalize(),L1.crossVectors(Ta,yf),i[0]=yf.x,i[4]=L1.x,i[8]=Ta.x,i[1]=yf.y,i[5]=L1.y,i[9]=Ta.y,i[2]=yf.z,i[6]=L1.z,i[10]=Ta.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],d=r[1],c=r[5],f=r[9],m=r[13],v=r[2],b=r[6],y=r[10],w=r[14],A=r[3],E=r[7],C=r[11],M=r[15],P=i[0],O=i[4],k=i[8],D=i[12],I=i[1],L=i[5],W=i[9],q=i[13],K=i[2],ie=i[6],V=i[10],J=i[14],H=i[3],Y=i[7],ne=i[11],Z=i[15];return s[0]=o*P+a*I+l*K+u*H,s[4]=o*O+a*L+l*ie+u*Y,s[8]=o*k+a*W+l*V+u*ne,s[12]=o*D+a*q+l*J+u*Z,s[1]=d*P+c*I+f*K+m*H,s[5]=d*O+c*L+f*ie+m*Y,s[9]=d*k+c*W+f*V+m*ne,s[13]=d*D+c*q+f*J+m*Z,s[2]=v*P+b*I+y*K+w*H,s[6]=v*O+b*L+y*ie+w*Y,s[10]=v*k+b*W+y*V+w*ne,s[14]=v*D+b*q+y*J+w*Z,s[3]=A*P+E*I+C*K+M*H,s[7]=A*O+E*L+C*ie+M*Y,s[11]=A*k+E*W+C*V+M*ne,s[15]=A*D+E*q+C*J+M*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],c=e[6],f=e[10],m=e[14],v=e[3],b=e[7],y=e[11],w=e[15];return v*(+s*l*c-i*u*c-s*a*f+r*u*f+i*a*m-r*l*m)+b*(+t*l*m-t*u*f+s*o*f-i*o*m+i*u*d-s*l*d)+y*(+t*u*c-t*a*m-s*o*c+r*o*m+s*a*d-r*u*d)+w*(-i*a*d-t*l*c+t*a*f+i*o*c-r*o*f+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],c=e[9],f=e[10],m=e[11],v=e[12],b=e[13],y=e[14],w=e[15],A=c*y*u-b*f*u+b*l*m-a*y*m-c*l*w+a*f*w,E=v*f*u-d*y*u-v*l*m+o*y*m+d*l*w-o*f*w,C=d*b*u-v*c*u+v*a*m-o*b*m-d*a*w+o*c*w,M=v*c*l-d*b*l-v*a*f+o*b*f+d*a*y-o*c*y,P=t*A+r*E+i*C+s*M;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/P;return e[0]=A*O,e[1]=(b*f*s-c*y*s-b*i*m+r*y*m+c*i*w-r*f*w)*O,e[2]=(a*y*s-b*l*s+b*i*u-r*y*u-a*i*w+r*l*w)*O,e[3]=(c*l*s-a*f*s-c*i*u+r*f*u+a*i*m-r*l*m)*O,e[4]=E*O,e[5]=(d*y*s-v*f*s+v*i*m-t*y*m-d*i*w+t*f*w)*O,e[6]=(v*l*s-o*y*s-v*i*u+t*y*u+o*i*w-t*l*w)*O,e[7]=(o*f*s-d*l*s+d*i*u-t*f*u-o*i*m+t*l*m)*O,e[8]=C*O,e[9]=(v*c*s-d*b*s-v*r*m+t*b*m+d*r*w-t*c*w)*O,e[10]=(o*b*s-v*a*s+v*r*u-t*b*u-o*r*w+t*a*w)*O,e[11]=(d*a*s-o*c*s-d*r*u+t*c*u+o*r*m-t*a*m)*O,e[12]=M*O,e[13]=(d*b*i-v*c*i+v*r*f-t*b*f-d*r*y+t*c*y)*O,e[14]=(v*a*i-o*b*i-v*r*l+t*b*l+o*r*y-t*a*y)*O,e[15]=(o*c*i-d*a*i+d*r*l-t*c*l-o*r*f+t*a*f)*O,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,d*a+r,d*l-i*o,0,u*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,c=a+a,f=s*u,m=s*d,v=s*c,b=o*d,y=o*c,w=a*c,A=l*u,E=l*d,C=l*c,M=r.x,P=r.y,O=r.z;return i[0]=(1-(b+w))*M,i[1]=(m+C)*M,i[2]=(v-E)*M,i[3]=0,i[4]=(m-C)*P,i[5]=(1-(f+w))*P,i[6]=(y+A)*P,i[7]=0,i[8]=(v+E)*O,i[9]=(y-A)*O,i[10]=(1-(f+b))*O,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=bg.set(i[0],i[1],i[2]).length();const o=bg.set(i[4],i[5],i[6]).length(),a=bg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Kl.copy(this);const u=1/s,d=1/o,c=1/a;return Kl.elements[0]*=u,Kl.elements[1]*=u,Kl.elements[2]*=u,Kl.elements[4]*=d,Kl.elements[5]*=d,Kl.elements[6]*=d,Kl.elements[8]*=c,Kl.elements[9]*=c,Kl.elements[10]*=c,t.setFromRotationMatrix(Kl),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=ka,l=!1){const u=this.elements,d=2*s/(t-e),c=2*s/(r-i),f=(t+e)/(t-e),m=(r+i)/(r-i);let v,b;if(l)v=s/(o-s),b=o*s/(o-s);else if(a===ka)v=-(o+s)/(o-s),b=-2*o*s/(o-s);else if(a===K0)v=-o/(o-s),b=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=c,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=ka,l=!1){const u=this.elements,d=2/(t-e),c=2/(r-i),f=-(t+e)/(t-e),m=-(r+i)/(r-i);let v,b;if(l)v=1/(o-s),b=o/(o-s);else if(a===ka)v=-2/(o-s),b=-(o+s)/(o-s);else if(a===K0)v=-1/(o-s),b=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=0,u[12]=f,u[1]=0,u[5]=c,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=v,u[14]=b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const bg=new de,Kl=new Bn,ARe=new de(0,0,0),ERe=new de(1,1,1),yf=new de,L1=new de,Ta=new de,m9=new Bn,g9=new Us;class Ua{constructor(e=0,t=0,r=0,i=Ua.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],d=i[9],c=i[2],f=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-zn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,s),this._z=0);break;case"ZXY":this._x=Math.asin(zn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-zn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-c,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:tn("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return m9.makeRotationFromQuaternion(e),this.setFromRotationMatrix(m9,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return g9.setFromEuler(this),this.setFromQuaternion(g9,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ua.DEFAULT_ORDER="XYZ";class Wp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let CRe=0;const v9=new de,_g=new Us,Zu=new Bn,j1=new de,Ry=new de,MRe=new de,TRe=new Us,y9=new de(1,0,0),x9=new de(0,1,0),b9=new de(0,0,1),_9={type:"added"},PRe={type:"removed"},wg={type:"childadded",child:null},SN={type:"childremoved",child:null};class Sr extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:CRe++}),this.uuid=ja(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sr.DEFAULT_UP.clone();const e=new de,t=new Ua,r=new Us,i=new de(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Bn},normalMatrix:{value:new er}}),this.matrix=new Bn,this.matrixWorld=new Bn,this.matrixAutoUpdate=Sr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Wp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _g.setFromAxisAngle(e,t),this.quaternion.multiply(_g),this}rotateOnWorldAxis(e,t){return _g.setFromAxisAngle(e,t),this.quaternion.premultiply(_g),this}rotateX(e){return this.rotateOnAxis(y9,e)}rotateY(e){return this.rotateOnAxis(x9,e)}rotateZ(e){return this.rotateOnAxis(b9,e)}translateOnAxis(e,t){return v9.copy(e).applyQuaternion(this.quaternion),this.position.add(v9.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(y9,e)}translateY(e){return this.translateOnAxis(x9,e)}translateZ(e){return this.translateOnAxis(b9,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?j1.copy(e):j1.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ry.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zu.lookAt(Ry,j1,this.up):Zu.lookAt(j1,Ry,this.up),this.quaternion.setFromRotationMatrix(Zu),i&&(Zu.extractRotation(i.matrixWorld),_g.setFromRotationMatrix(Zu),this.quaternion.premultiply(_g.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Vn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_9),wg.child=e,this.dispatchEvent(wg),wg.child=null):Vn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(PRe),SN.child=e,this.dispatchEvent(SN),SN.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Zu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_9),wg.child=e,this.dispatchEvent(wg),wg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ry,e,MRe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ry,TRe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const c=l[u];s(e.shapes,c)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),c=o(e.shapes),f=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),c.length>0&&(r.shapes=c),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Sr.DEFAULT_UP=new de(0,1,0);Sr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yl=new de,Qu=new de,AN=new de,ed=new de,Sg=new de,Ag=new de,w9=new de,EN=new de,CN=new de,MN=new de,TN=new Pr,PN=new Pr,RN=new Pr;class ca{constructor(e=new de,t=new de,r=new de){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Yl.subVectors(e,t),i.cross(Yl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Yl.subVectors(i,t),Qu.subVectors(r,t),AN.subVectors(e,t);const o=Yl.dot(Yl),a=Yl.dot(Qu),l=Yl.dot(AN),u=Qu.dot(Qu),d=Qu.dot(AN),c=o*u-a*a;if(c===0)return s.set(0,0,0),null;const f=1/c,m=(u*l-a*d)*f,v=(o*d-a*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ed)===null?!1:ed.x>=0&&ed.y>=0&&ed.x+ed.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ed)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ed.x),l.addScaledVector(o,ed.y),l.addScaledVector(a,ed.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return TN.setScalar(0),PN.setScalar(0),RN.setScalar(0),TN.fromBufferAttribute(e,t),PN.fromBufferAttribute(e,r),RN.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(TN,s.x),o.addScaledVector(PN,s.y),o.addScaledVector(RN,s.z),o}static isFrontFacing(e,t,r,i){return Yl.subVectors(r,t),Qu.subVectors(e,t),Yl.cross(Qu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yl.subVectors(this.c,this.b),Qu.subVectors(this.a,this.b),Yl.cross(Qu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ca.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ca.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return ca.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return ca.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ca.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Sg.subVectors(i,r),Ag.subVectors(s,r),EN.subVectors(e,r);const l=Sg.dot(EN),u=Ag.dot(EN);if(l<=0&&u<=0)return t.copy(r);CN.subVectors(e,i);const d=Sg.dot(CN),c=Ag.dot(CN);if(d>=0&&c<=d)return t.copy(i);const f=l*c-d*u;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(Sg,o);MN.subVectors(e,s);const m=Sg.dot(MN),v=Ag.dot(MN);if(v>=0&&m<=v)return t.copy(s);const b=m*u-l*v;if(b<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(Ag,a);const y=d*v-m*c;if(y<=0&&c-d>=0&&m-v>=0)return w9.subVectors(s,i),a=(c-d)/(c-d+(m-v)),t.copy(i).addScaledVector(w9,a);const w=1/(y+b+f);return o=b*w,a=f*w,t.copy(r).addScaledVector(Sg,o).addScaledVector(Ag,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const HZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xf={h:0,s:0,l:0},U1={h:0,s:0,l:0};function NN(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Xt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=zo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mr.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=Mr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Mr.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=Mr.workingColorSpace){if(e=CB(e,1),t=zn(t,0,1),r=zn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=NN(o,s,e+1/3),this.g=NN(o,s,e),this.b=NN(o,s,e-1/3)}return Mr.colorSpaceToWorking(this,i),this}setStyle(e,t=zo){function r(s){s!==void 0&&parseFloat(s)<1&&tn("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:tn("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);tn("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=zo){const r=HZ[e.toLowerCase()];return r!==void 0?this.setHex(r,t):tn("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gd(e.r),this.g=gd(e.g),this.b=gd(e.b),this}copyLinearToSRGB(e){return this.r=c0(e.r),this.g=c0(e.g),this.b=c0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zo){return Mr.workingToColorSpace(go.copy(this),e),Math.round(zn(go.r*255,0,255))*65536+Math.round(zn(go.g*255,0,255))*256+Math.round(zn(go.b*255,0,255))}getHexString(e=zo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mr.workingColorSpace){Mr.workingToColorSpace(go.copy(this),t);const r=go.r,i=go.g,s=go.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const c=o-a;switch(u=d<=.5?c/(o+a):c/(2-o-a),o){case r:l=(i-s)/c+(i<s?6:0);break;case i:l=(s-r)/c+2;break;case s:l=(r-i)/c+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=Mr.workingColorSpace){return Mr.workingToColorSpace(go.copy(this),t),e.r=go.r,e.g=go.g,e.b=go.b,e}getStyle(e=zo){Mr.workingToColorSpace(go.copy(this),e);const t=go.r,r=go.g,i=go.b;return e!==zo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(xf),this.setHSL(xf.h+e,xf.s+t,xf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(xf),e.getHSL(U1);const r=px(xf.h,U1.h,t),i=px(xf.s,U1.s,t),s=px(xf.l,U1.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const go=new Xt;Xt.NAMES=HZ;let RRe=0;class Ss extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:RRe++}),this.uuid=ja(),this.name="",this.type="Material",this.blending=Gp,this.side=uu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=pA,this.blendDst=mA,this.blendEquation=Nf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Xt(0,0,0),this.blendAlpha=0,this.depthFunc=om,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yp,this.stencilZFail=yp,this.stencilZPass=yp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){tn(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){tn(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Gp&&(r.blending=this.blending),this.side!==uu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==pA&&(r.blendSrc=this.blendSrc),this.blendDst!==mA&&(r.blendDst=this.blendDst),this.blendEquation!==Nf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==om&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==zO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==yp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==yp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==yp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class da extends Ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=Qb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ad=NRe();function NRe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function aa(n){Math.abs(n)>65504&&tn("DataUtils.toHalfFloat(): Value out of range."),n=zn(n,-65504,65504),ad.floatView[0]=n;const e=ad.uint32View[0],t=e>>23&511;return ad.baseTable[t]+((e&8388607)>>ad.shiftTable[t])}function Zy(n){const e=n>>10;return ad.uint32View[0]=ad.mantissaTable[ad.offsetTable[e]+(n&1023)]+ad.exponentTable[e],ad.floatView[0]}class Np{static toHalfFloat(e){return aa(e)}static fromHalfFloat(e){return Zy(e)}}const rs=new de,z1=new xt;let IRe=0;class Nr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:IRe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=yb,this.updateRanges=[],this.gpuType=Ti,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)z1.fromBufferAttribute(this,t),z1.applyMatrix3(e),this.setXY(t,z1.x,z1.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix3(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix4(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.applyNormalMatrix(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.transformDirection(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Ho(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=rr(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array),i=rr(i,this.array),s=rr(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yb&&(e.usage=this.usage),e}}class ORe extends Nr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class FRe extends Nr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class DRe extends Nr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class BRe extends Nr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class TB extends Nr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class kRe extends Nr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class PB extends Nr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class LRe extends Nr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Zy(this.array[e*this.itemSize]);return this.normalized&&(t=Ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize]=aa(t),this}getY(e){let t=Zy(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+1]=aa(t),this}getZ(e){let t=Zy(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+2]=aa(t),this}getW(e){let t=Zy(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=rr(t,this.array)),this.array[e*this.itemSize+3]=aa(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array)),this.array[e+0]=aa(t),this.array[e+1]=aa(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.array[e+0]=aa(t),this.array[e+1]=aa(r),this.array[e+2]=aa(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array),i=rr(i,this.array),s=rr(s,this.array)),this.array[e+0]=aa(t),this.array[e+1]=aa(r),this.array[e+2]=aa(i),this.array[e+3]=aa(s),this}}class gn extends Nr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let jRe=0;const sl=new Bn,IN=new Sr,Eg=new de,Pa=new zs,Ny=new zs,ks=new de;class Yn extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jRe++}),this.uuid=ja(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(LZ(e)?PB:TB)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new er().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return sl.makeRotationFromQuaternion(e),this.applyMatrix4(sl),this}rotateX(e){return sl.makeRotationX(e),this.applyMatrix4(sl),this}rotateY(e){return sl.makeRotationY(e),this.applyMatrix4(sl),this}rotateZ(e){return sl.makeRotationZ(e),this.applyMatrix4(sl),this}translate(e,t,r){return sl.makeTranslation(e,t,r),this.applyMatrix4(sl),this}scale(e,t,r){return sl.makeScale(e,t,r),this.applyMatrix4(sl),this}lookAt(e){return IN.lookAt(e),IN.updateMatrix(),this.applyMatrix4(IN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Eg).negate(),this.translate(Eg.x,Eg.y,Eg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new gn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&tn("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Vn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Pa.setFromBufferAttribute(s),this.morphTargetsRelative?(ks.addVectors(this.boundingBox.min,Pa.min),this.boundingBox.expandByPoint(ks),ks.addVectors(this.boundingBox.max,Pa.max),this.boundingBox.expandByPoint(ks)):(this.boundingBox.expandByPoint(Pa.min),this.boundingBox.expandByPoint(Pa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Vn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Vn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new de,1/0);return}if(e){const r=this.boundingSphere.center;if(Pa.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Ny.setFromBufferAttribute(a),this.morphTargetsRelative?(ks.addVectors(Pa.min,Ny.min),Pa.expandByPoint(ks),ks.addVectors(Pa.max,Ny.max),Pa.expandByPoint(ks)):(Pa.expandByPoint(Ny.min),Pa.expandByPoint(Ny.max))}Pa.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ks.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ks));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)ks.fromBufferAttribute(a,u),l&&(Eg.fromBufferAttribute(e,u),ks.add(Eg)),i=Math.max(i,r.distanceToSquared(ks))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Vn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Vn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<r.count;k++)a[k]=new de,l[k]=new de;const u=new de,d=new de,c=new de,f=new xt,m=new xt,v=new xt,b=new de,y=new de;function w(k,D,I){u.fromBufferAttribute(r,k),d.fromBufferAttribute(r,D),c.fromBufferAttribute(r,I),f.fromBufferAttribute(s,k),m.fromBufferAttribute(s,D),v.fromBufferAttribute(s,I),d.sub(u),c.sub(u),m.sub(f),v.sub(f);const L=1/(m.x*v.y-v.x*m.y);isFinite(L)&&(b.copy(d).multiplyScalar(v.y).addScaledVector(c,-m.y).multiplyScalar(L),y.copy(c).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(L),a[k].add(b),a[D].add(b),a[I].add(b),l[k].add(y),l[D].add(y),l[I].add(y))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let k=0,D=A.length;k<D;++k){const I=A[k],L=I.start,W=I.count;for(let q=L,K=L+W;q<K;q+=3)w(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const E=new de,C=new de,M=new de,P=new de;function O(k){M.fromBufferAttribute(i,k),P.copy(M);const D=a[k];E.copy(D),E.sub(M.multiplyScalar(M.dot(D))).normalize(),C.crossVectors(P,D);const L=C.dot(l[k])<0?-1:1;o.setXYZW(k,E.x,E.y,E.z,L)}for(let k=0,D=A.length;k<D;++k){const I=A[k],L=I.start,W=I.count;for(let q=L,K=L+W;q<K;q+=3)O(e.getX(q+0)),O(e.getX(q+1)),O(e.getX(q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Nr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new de,s=new de,o=new de,a=new de,l=new de,u=new de,d=new de,c=new de;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),b=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,b),o.fromBufferAttribute(t,y),d.subVectors(o,s),c.subVectors(i,s),d.cross(c),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,y),a.add(d),l.add(d),u.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,m=t.count;f<m;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),d.subVectors(o,s),c.subVectors(i,s),d.cross(c),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ks.fromBufferAttribute(e,t),ks.normalize(),e.setXYZ(t,ks.x,ks.y,ks.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,c=a.normalized,f=new u.constructor(l.length*d);let m=0,v=0;for(let b=0,y=l.length;b<y;b++){a.isInterleavedBufferAttribute?m=l[b]*a.data.stride+a.offset:m=l[b]*d;for(let w=0;w<d;w++)f[v++]=u[m++]}return new Nr(f,d,c)}if(this.index===null)return tn("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Yn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,c=u.length;d<c;d++){const f=u[d],m=e(f,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let c=0,f=u.length;c<f;c++){const m=u[c];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],c=s[u];for(let f=0,m=c.length;f<m;f++)d.push(c[f].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const c=o[u];this.addGroup(c.start,c.count,c.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const S9=new Bn,ep=new bm,H1=new Hs,A9=new de,G1=new de,V1=new de,W1=new de,ON=new de,$1=new de,E9=new de,q1=new de;class Pi extends Sr{constructor(e=new Yn,t=new da){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){$1.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=a[l],c=s[l];d!==0&&(ON.fromBufferAttribute(c,e),o?$1.addScaledVector(ON,d):$1.addScaledVector(ON.sub(t),d))}t.add($1)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),H1.copy(r.boundingSphere),H1.applyMatrix4(s),ep.copy(e.ray).recast(e.near),!(H1.containsPoint(ep.origin)===!1&&(ep.intersectSphere(H1,A9)===null||ep.origin.distanceToSquared(A9)>(e.far-e.near)**2))&&(S9.copy(s).invert(),ep.copy(e.ray).applyMatrix4(S9),!(r.boundingBox!==null&&ep.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ep)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,c=s.attributes.normal,f=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,b=f.length;v<b;v++){const y=f[v],w=o[y.materialIndex],A=Math.max(y.start,m.start),E=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let C=A,M=E;C<M;C+=3){const P=a.getX(C),O=a.getX(C+1),k=a.getX(C+2);i=X1(this,w,e,r,u,d,c,P,O,k),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(a.count,m.start+m.count);for(let y=v,w=b;y<w;y+=3){const A=a.getX(y),E=a.getX(y+1),C=a.getX(y+2);i=X1(this,o,e,r,u,d,c,A,E,C),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,b=f.length;v<b;v++){const y=f[v],w=o[y.materialIndex],A=Math.max(y.start,m.start),E=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let C=A,M=E;C<M;C+=3){const P=C,O=C+1,k=C+2;i=X1(this,w,e,r,u,d,c,P,O,k),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(l.count,m.start+m.count);for(let y=v,w=b;y<w;y+=3){const A=y,E=y+1,C=y+2;i=X1(this,o,e,r,u,d,c,A,E,C),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}}}function URe(n,e,t,r,i,s,o,a){let l;if(e.side===Wo?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===uu,a),l===null)return null;q1.copy(a),q1.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(q1);return u<t.near||u>t.far?null:{distance:u,point:q1.clone(),object:n}}function X1(n,e,t,r,i,s,o,a,l,u){n.getVertexPosition(a,G1),n.getVertexPosition(l,V1),n.getVertexPosition(u,W1);const d=URe(n,e,t,r,G1,V1,W1,E9);if(d){const c=new de;ca.getBarycoord(E9,G1,V1,W1,c),i&&(d.uv=ca.getInterpolatedAttribute(i,a,l,u,c,new xt)),s&&(d.uv1=ca.getInterpolatedAttribute(s,a,l,u,c,new xt)),o&&(d.normal=ca.getInterpolatedAttribute(o,a,l,u,c,new de),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new de,materialIndex:0};ca.getNormal(G1,V1,W1,f.normal),d.face=f,d.barycoord=c}return d}class _m extends Yn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],c=[];let f=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new gn(u,3)),this.setAttribute("normal",new gn(d,3)),this.setAttribute("uv",new gn(c,2));function v(b,y,w,A,E,C,M,P,O,k,D){const I=C/O,L=M/k,W=C/2,q=M/2,K=P/2,ie=O+1,V=k+1;let J=0,H=0;const Y=new de;for(let ne=0;ne<V;ne++){const Z=ne*L-q;for(let oe=0;oe<ie;oe++){const ye=oe*I-W;Y[b]=ye*A,Y[y]=Z*E,Y[w]=K,u.push(Y.x,Y.y,Y.z),Y[b]=0,Y[y]=0,Y[w]=P>0?1:-1,d.push(Y.x,Y.y,Y.z),c.push(oe/O),c.push(1-ne/k),J+=1}}for(let ne=0;ne<k;ne++)for(let Z=0;Z<O;Z++){const oe=f+Z+ie*ne,ye=f+Z+ie*(ne+1),Be=f+(Z+1)+ie*(ne+1),Xe=f+(Z+1)+ie*ne;l.push(oe,ye,Xe),l.push(ye,Be,Xe),H+=6}a.addGroup(m,H,D),m+=H,f+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _m(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Z0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(tn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function jo(n){const e={};for(let t=0;t<n.length;t++){const r=Z0(n[t]);for(const i in r)e[i]=r[i]}return e}function zRe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function GZ(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mr.workingColorSpace}const VZ={clone:Z0,merge:jo};var HRe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,GRe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xo extends Ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=HRe,this.fragmentShader=GRe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Z0(e.uniforms),this.uniformsGroups=zRe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class r_ extends Sr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Bn,this.projectionMatrix=new Bn,this.projectionMatrixInverse=new Bn,this.coordinateSystem=ka,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bf=new de,C9=new xt,M9=new xt;class Li extends r_{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=J0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return J0*2*Math.atan(Math.tan(Vp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){bf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(bf.x,bf.y).multiplyScalar(-e/bf.z),bf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(bf.x,bf.y).multiplyScalar(-e/bf.z)}getViewSize(e,t){return this.getViewBounds(e,C9,M9),t.subVectors(M9,C9)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Vp*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Cg=-90,Mg=1;class WZ extends Sr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Li(Cg,Mg,e,t);i.layers=this.layers,this.add(i);const s=new Li(Cg,Mg,e,t);s.layers=this.layers,this.add(s);const o=new Li(Cg,Mg,e,t);o.layers=this.layers,this.add(o);const a=new Li(Cg,Mg,e,t);a.layers=this.layers,this.add(a);const l=new Li(Cg,Mg,e,t);l.layers=this.layers,this.add(l);const u=new Li(Cg,Mg,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===ka)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===K0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,d]=this.children,c=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(t,d),e.setRenderTarget(c,f,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class i_ extends zr{constructor(e=[],t=du,r,i,s,o,a,l,u,d){super(e,t,r,i,s,o,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class RB extends wl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new i_(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new _m(5,5,5),s=new Xo({name:"CubemapFromEquirect",uniforms:Z0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Wo,blending:dc});s.uniforms.tEquirect.value=t;const o=new Pi(i,s),a=t.minFilter;return t.minFilter===ml&&(t.minFilter=Rr),new WZ(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class dd extends Sr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const VRe={type:"move"};class qw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const b of e.hand.values()){const y=t.getJointPose(b,r),w=this._getHandJoint(u,b);y!==null&&(w.matrix.fromArray(y.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=y.radius),w.visible=y!==null}const d=u.joints["index-finger-tip"],c=u.joints["thumb-tip"],f=d.position.distanceTo(c.position),m=.02,v=.005;u.inputState.pinching&&f>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(VRe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new dd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class jC{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Xt(e),this.density=t}clone(){return new jC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class UC{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Xt(e),this.near=t,this.far=r}clone(){return new UC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class s_ extends Sr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ua,this.environmentIntensity=1,this.environmentRotation=new Ua,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class o_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yb,this.updateRanges=[],this.version=0,this.uuid=ja()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ja()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ja()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Lo=new de;class Zf{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Lo.fromBufferAttribute(this,t),Lo.applyMatrix4(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Lo.fromBufferAttribute(this,t),Lo.applyNormalMatrix(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Lo.fromBufferAttribute(this,t),Lo.transformDirection(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Ho(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=rr(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ho(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ho(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ho(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ho(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array),i=rr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=rr(t,this.array),r=rr(r,this.array),i=rr(i,this.array),s=rr(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){bb("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Nr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){bb("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class NB extends Ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Tg;const Iy=new de,Pg=new de,Rg=new de,Ng=new xt,Oy=new xt,$Z=new Bn,K1=new de,Fy=new de,Y1=new de,T9=new xt,FN=new xt,P9=new xt;class qZ extends Sr{constructor(e=new NB){if(super(),this.isSprite=!0,this.type="Sprite",Tg===void 0){Tg=new Yn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new o_(t,5);Tg.setIndex([0,1,2,0,2,3]),Tg.setAttribute("position",new Zf(r,3,0,!1)),Tg.setAttribute("uv",new Zf(r,2,3,!1))}this.geometry=Tg,this.material=e,this.center=new xt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Vn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pg.setFromMatrixScale(this.matrixWorld),$Z.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pg.multiplyScalar(-Rg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;J1(K1.set(-.5,-.5,0),Rg,o,Pg,i,s),J1(Fy.set(.5,-.5,0),Rg,o,Pg,i,s),J1(Y1.set(.5,.5,0),Rg,o,Pg,i,s),T9.set(0,0),FN.set(1,0),P9.set(1,1);let a=e.ray.intersectTriangle(K1,Fy,Y1,!1,Iy);if(a===null&&(J1(Fy.set(-.5,.5,0),Rg,o,Pg,i,s),FN.set(0,1),a=e.ray.intersectTriangle(K1,Y1,Fy,!1,Iy),a===null))return;const l=e.ray.origin.distanceTo(Iy);l<e.near||l>e.far||t.push({distance:l,point:Iy.clone(),uv:ca.getInterpolation(Iy,K1,Fy,Y1,T9,FN,P9,new xt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function J1(n,e,t,r,i,s){Ng.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Oy.x=s*Ng.x-i*Ng.y,Oy.y=i*Ng.x+s*Ng.y):Oy.copy(Ng),n.copy(e),n.x+=Oy.x,n.y+=Oy.y,n.applyMatrix4($Z)}const Z1=new de,R9=new de;class XZ extends Sr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Z1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Z1);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Z1.setFromMatrixPosition(e.matrixWorld),R9.setFromMatrixPosition(this.matrixWorld);const r=Z1.distanceTo(R9)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const N9=new de,I9=new Pr,O9=new Pr,WRe=new de,F9=new Bn,Q1=new de,DN=new Hs,D9=new Bn,BN=new bm;class IB extends Pi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=jO,this.bindMatrix=new Bn,this.bindMatrixInverse=new Bn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Q1),this.boundingBox.expandByPoint(Q1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Hs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Q1),this.boundingSphere.expandByPoint(Q1)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),DN.copy(this.boundingSphere),DN.applyMatrix4(i),e.ray.intersectsSphere(DN)!==!1&&(D9.copy(i).invert(),BN.copy(e.ray).applyMatrix4(D9),!(this.boundingBox!==null&&BN.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,BN)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===jO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===AZ?this.bindMatrixInverse.copy(this.bindMatrix).invert():tn("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;I9.fromBufferAttribute(i.attributes.skinIndex,e),O9.fromBufferAttribute(i.attributes.skinWeight,e),N9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=O9.getComponent(s);if(o!==0){const a=I9.getComponent(s);F9.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(WRe.copy(N9).applyMatrix4(F9),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class zC extends Sr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xl extends zr{constructor(e=null,t=1,r=1,i,s,o,a,l,u=js,d=js,c,f){super(null,o,a,l,u,d,i,s,c,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const B9=new Bn,$Re=new Bn;class a_{constructor(e=[],t=[]){this.uuid=ja(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){tn("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Bn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Bn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:$Re;B9.multiplyMatrices(a,t[s]),B9.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new a_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new xl(t,e,e,$i,Ti);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(tn("Skeleton: No bone found with UUID:",s),o=new zC),this.bones.push(o),this.boneInverses.push(new Bn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class am extends Nr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ig=new Bn,k9=new Bn,ew=[],L9=new zs,qRe=new Bn,Dy=new Pi,By=new Hs;class OB extends Pi{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new am(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,qRe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new zs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ig),L9.copy(e.boundingBox).applyMatrix4(Ig),this.boundingBox.union(L9)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Hs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ig),By.copy(e.boundingSphere).applyMatrix4(Ig),this.boundingSphere.union(By)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Dy.geometry=this.geometry,Dy.material=this.material,Dy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),By.copy(this.boundingSphere),By.applyMatrix4(r),e.ray.intersectsSphere(By)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Ig),k9.multiplyMatrices(r,Ig),Dy.matrixWorld=k9,Dy.raycast(e,ew);for(let o=0,a=ew.length;o<a;o++){const l=ew[o];l.instanceId=s,l.object=this,t.push(l)}ew.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new am(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new xl(new Float32Array(i*this.count),i,this.count,t_,Ti));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const kN=new de,XRe=new de,KRe=new er;class id{constructor(e=new de(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=kN.subVectors(r,t).cross(XRe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(kN),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||KRe.getNormalMatrix(e),i=this.coplanarPoint(kN).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tp=new Hs,YRe=new xt(.5,.5),tw=new de;class Sv{constructor(e=new id,t=new id,r=new id,i=new id,s=new id,o=new id){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=ka,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],u=s[3],d=s[4],c=s[5],f=s[6],m=s[7],v=s[8],b=s[9],y=s[10],w=s[11],A=s[12],E=s[13],C=s[14],M=s[15];if(i[0].setComponents(u-o,m-d,w-v,M-A).normalize(),i[1].setComponents(u+o,m+d,w+v,M+A).normalize(),i[2].setComponents(u+a,m+c,w+b,M+E).normalize(),i[3].setComponents(u-a,m-c,w-b,M-E).normalize(),r)i[4].setComponents(l,f,y,C).normalize(),i[5].setComponents(u-l,m-f,w-y,M-C).normalize();else if(i[4].setComponents(u-l,m-f,w-y,M-C).normalize(),t===ka)i[5].setComponents(u+l,m+f,w+y,M+C).normalize();else if(t===K0)i[5].setComponents(l,f,y,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),tp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tp)}intersectsSprite(e){tp.center.set(0,0,0);const t=YRe.distanceTo(e.center);return tp.radius=.7071067811865476+t,tp.applyMatrix4(e.matrixWorld),this.intersectsSphere(tp)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(tw.x=i.normal.x>0?e.max.x:e.min.x,tw.y=i.normal.y>0?e.max.y:e.min.y,tw.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(tw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Hc=new Bn,Gc=new Sv;class HC{constructor(){this.coordinateSystem=ka}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.containsPoint(e))return!0}return!1}clone(){return new HC}}function LN(n,e){return n-e}function JRe(n,e){return n.z-e.z}function ZRe(n,e){return e.z-n.z}class QRe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const oa=new Bn,eNe=new Xt(1,1,1),j9=new Sv,tNe=new HC,nw=new zs,np=new Hs,ky=new de,U9=new de,nNe=new de,jN=new QRe,vo=new Pi,rw=[];function rNe(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function rp(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class KZ extends Pi{constructor(e,t,r=t*2,i){super(new Yn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new xl(t,e,e,$i,Ti);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new xl(t,e,e,n_,fu);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new xl(t,e,e,$i,Ti);r.colorSpace=Mr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:u}=o,d=new a.constructor(r*l),c=new Nr(d,l,u);t.setAttribute(s,c)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Nr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,oa),this.getBoundingBoxAt(s,nw).applyMatrix4(oa),e.union(nw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,oa),this.getBoundingSphereAt(s,np).applyMatrix4(oa),e.union(np)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(LN),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;oa.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(eNe.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(LN),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const d in r.attributes){const c=t.getAttribute(d),f=r.getAttribute(d);rNe(c,f,l);const m=c.itemSize;for(let v=c.count,b=u;v<b;v++){const y=l+v;for(let w=0;w<m;w++)f.setComponent(y,w,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,u*m)}if(i){const d=a.indexStart,c=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let f=0;f<o.count;f++)s.setX(d+f,l+o.getX(f));for(let f=o.count,m=c;f<m;f++)s.setX(d+f,l);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:c,reservedIndexCount:f}=u,m=s.index,v=m.array,b=e-c;for(let y=d;y<d+f;y++)v[y]=v[y]+b;m.array.copyWithin(t,d,d+f),m.addUpdateRange(t,f),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:c}=u,f=s.attributes;for(const m in f){const v=f[m],{array:b,itemSize:y}=v;b.copyWithin(e*y,d*y,(d+c)*y),v.addUpdateRange(e*y,c*y)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new zs,o=r.index,a=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let d=l;o&&(d=o.getX(d)),s.expandByPoint(ky.fromBufferAttribute(a,d))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Hs;this.getBoundingBoxAt(e,nw),nw.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let u=i.start,d=i.start+i.count;u<d;u++){let c=u;o&&(c=o.getX(c)),ky.fromBufferAttribute(a,c),l=Math.max(l,s.center.distanceToSquared(ky))}s.radius=Math.sqrt(l),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(LN);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);rp(this._multiDrawCounts,i),rp(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),rp(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),rp(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),rp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Yn,this._initializeGeometry(s));const o=this.geometry;s.index&&rp(s.index.array,o.index.array);for(const a in s.attributes)rp(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;vo.material=this.material,vo.geometry.index=o.index,vo.geometry.attributes=o.attributes,vo.geometry.boundingBox===null&&(vo.geometry.boundingBox=new zs),vo.geometry.boundingSphere===null&&(vo.geometry.boundingSphere=new Hs);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const u=r[a].geometryIndex,d=i[u];vo.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,vo.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,vo.geometry.boundingBox),this.getBoundingSphereAt(u,vo.geometry.boundingSphere),vo.raycast(e,rw);for(let c=0,f=rw.length;c<f;c++){const m=rw[c];m.object=this,m.batchId=a,t.push(m)}rw.length=0}vo.material=null,vo.geometry.index=null,vo.geometry.attributes={},vo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,c=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,b=r.isArrayCamera?tNe:j9;f&&!r.isArrayCamera&&(oa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),j9.setFromProjectionMatrix(oa,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){oa.copy(this.matrixWorld).invert(),ky.setFromMatrixPosition(r.matrixWorld).applyMatrix4(oa),U9.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(oa);for(let E=0,C=l.length;E<C;E++)if(l[E].visible&&l[E].active){const M=l[E].geometryIndex;this.getMatrixAt(E,oa),this.getBoundingSphereAt(M,np).applyMatrix4(oa);let P=!1;if(f&&(P=!b.intersectsSphere(np,r)),!P){const O=c[M],k=nNe.subVectors(np.center,ky).dot(U9);jN.push(O.start,O.count,k,E)}}const w=jN.list,A=this.customSort;A===null?w.sort(s.transparent?ZRe:JRe):A.call(this,w,r);for(let E=0,C=w.length;E<C;E++){const M=w[E];u[y]=M.start*a,d[y]=M.count,v[y]=M.index,y++}jN.reset()}else for(let w=0,A=l.length;w<A;w++)if(l[w].visible&&l[w].active){const E=l[w].geometryIndex;let C=!1;if(f&&(this.getMatrixAt(w,oa),this.getBoundingSphereAt(E,np).applyMatrix4(oa),C=!b.intersectsSphere(np,r)),!C){const M=c[E];u[y]=M.start*a,d[y]=M.count,v[y]=w,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Co extends Ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ZA=new de,QA=new de,z9=new Bn,Ly=new bm,iw=new Hs,UN=new de,H9=new de;class Ad extends Sr{constructor(e=new Yn,t=new Co){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)ZA.fromBufferAttribute(t,i-1),QA.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=ZA.distanceTo(QA);e.setAttribute("lineDistance",new gn(r,1))}else tn("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),iw.copy(r.boundingSphere),iw.applyMatrix4(i),iw.radius+=s,e.ray.intersectsSphere(iw)===!1)return;z9.copy(i).invert(),Ly.copy(e.ray).applyMatrix4(z9);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,d=r.index,f=r.attributes.position;if(d!==null){const m=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let b=m,y=v-1;b<y;b+=u){const w=d.getX(b),A=d.getX(b+1),E=sw(this,e,Ly,l,w,A,b);E&&t.push(E)}if(this.isLineLoop){const b=d.getX(v-1),y=d.getX(m),w=sw(this,e,Ly,l,b,y,v-1);w&&t.push(w)}}else{const m=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let b=m,y=v-1;b<y;b+=u){const w=sw(this,e,Ly,l,b,b+1,b);w&&t.push(w)}if(this.isLineLoop){const b=sw(this,e,Ly,l,v-1,m,v-1);b&&t.push(b)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function sw(n,e,t,r,i,s,o){const a=n.geometry.attributes.position;if(ZA.fromBufferAttribute(a,i),QA.fromBufferAttribute(a,s),t.distanceSqToSegment(ZA,QA,UN,H9)>r)return;UN.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(UN);if(!(u<e.near||u>e.far))return{distance:u,point:H9.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const G9=new de,V9=new de;class yc extends Ad{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)G9.fromBufferAttribute(t,i),V9.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+G9.distanceTo(V9);e.setAttribute("lineDistance",new gn(r,1))}else tn("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class FB extends Ad{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class GC extends Ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const W9=new Bn,GO=new bm,ow=new Hs,aw=new de;class DB extends Sr{constructor(e=new Yn,t=new GC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ow.copy(r.boundingSphere),ow.applyMatrix4(i),ow.radius+=s,e.ray.intersectsSphere(ow)===!1)return;W9.copy(i).invert(),GO.copy(e.ray).applyMatrix4(W9);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,c=r.attributes.position;if(u!==null){const f=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=f,b=m;v<b;v++){const y=u.getX(v);aw.fromBufferAttribute(c,y),$9(aw,y,l,i,e,t,this)}}else{const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=f,b=m;v<b;v++)aw.fromBufferAttribute(c,v),$9(aw,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function $9(n,e,t,r,i,s,o){const a=GO.distanceSqToPoint(n);if(a<t){const l=new de;GO.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class YZ extends zr{constructor(e,t,r,i,s=Rr,o=Rr,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function c(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class iNe extends YZ{constructor(e,t,r,i,s,o,a,l){super({},e,t,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class sNe extends zr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=js,this.minFilter=js,this.generateMipmaps=!1,this.needsUpdate=!0}}class VC extends zr{constructor(e,t,r,i,s,o,a,l,u,d,c,f){super(null,o,a,l,u,d,i,s,c,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class oNe extends VC{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Mi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class aNe extends VC{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,du),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class lNe extends zr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class BB extends zr{constructor(e,t,r=fu,i,s,o,a=js,l=js,u,d=W0,c=1){if(d!==W0&&d!==$0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:t,depth:c};super(f,i,s,o,a,l,d,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new kf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class kB extends zr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class WC extends Yn{constructor(e=1,t=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:s},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],u=[],d=t/2,c=Math.PI/2*e,f=t,m=2*c+f,v=r*2+s,b=i+1,y=new de,w=new de;for(let A=0;A<=v;A++){let E=0,C=0,M=0,P=0;if(A<=r){const D=A/r,I=D*Math.PI/2;C=-d-e*Math.cos(I),M=e*Math.sin(I),P=-e*Math.cos(I),E=D*c}else if(A<=r+s){const D=(A-r)/s;C=-d+D*t,M=e,P=0,E=c+D*f}else{const D=(A-r-s)/r,I=D*Math.PI/2;C=d+e*Math.sin(I),M=e*Math.cos(I),P=e*Math.sin(I),E=c+f+D*c}const O=Math.max(0,Math.min(1,E/m));let k=0;A===0?k=.5/i:A===v&&(k=-.5/i);for(let D=0;D<=i;D++){const I=D/i,L=I*Math.PI*2,W=Math.sin(L),q=Math.cos(L);w.x=-M*q,w.y=C,w.z=M*W,a.push(w.x,w.y,w.z),y.set(-M*q,P,M*W),y.normalize(),l.push(y.x,y.y,y.z),u.push(I+k,O)}if(A>0){const D=(A-1)*b;for(let I=0;I<i;I++){const L=D+I,W=D+I+1,q=A*b+I,K=A*b+I+1;o.push(L,W,q),o.push(W,K,q)}}}this.setIndex(o),this.setAttribute("position",new gn(a,3)),this.setAttribute("normal",new gn(l,3)),this.setAttribute("uv",new gn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WC(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class $C extends Yn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new de,d=new xt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let c=0,f=3;c<=t;c++,f+=3){const m=r+c/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,l.push(d.x,d.y)}for(let c=1;c<=t;c++)s.push(c,c+1,0);this.setIndex(s),this.setAttribute("position",new gn(o,3)),this.setAttribute("normal",new gn(a,3)),this.setAttribute("uv",new gn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $C(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class l_ extends Yn{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],c=[],f=[],m=[];let v=0;const b=[],y=r/2;let w=0;A(),o===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(d),this.setAttribute("position",new gn(c,3)),this.setAttribute("normal",new gn(f,3)),this.setAttribute("uv",new gn(m,2));function A(){const C=new de,M=new de;let P=0;const O=(t-e)/r;for(let k=0;k<=s;k++){const D=[],I=k/s,L=I*(t-e)+e;for(let W=0;W<=i;W++){const q=W/i,K=q*l+a,ie=Math.sin(K),V=Math.cos(K);M.x=L*ie,M.y=-I*r+y,M.z=L*V,c.push(M.x,M.y,M.z),C.set(ie,O,V).normalize(),f.push(C.x,C.y,C.z),m.push(q,1-I),D.push(v++)}b.push(D)}for(let k=0;k<i;k++)for(let D=0;D<s;D++){const I=b[D][k],L=b[D+1][k],W=b[D+1][k+1],q=b[D][k+1];(e>0||D!==0)&&(d.push(I,L,q),P+=3),(t>0||D!==s-1)&&(d.push(L,W,q),P+=3)}u.addGroup(w,P,0),w+=P}function E(C){const M=v,P=new xt,O=new de;let k=0;const D=C===!0?e:t,I=C===!0?1:-1;for(let W=1;W<=i;W++)c.push(0,y*I,0),f.push(0,I,0),m.push(.5,.5),v++;const L=v;for(let W=0;W<=i;W++){const K=W/i*l+a,ie=Math.cos(K),V=Math.sin(K);O.x=D*V,O.y=y*I,O.z=D*ie,c.push(O.x,O.y,O.z),f.push(0,I,0),P.x=ie*.5+.5,P.y=V*.5*I+.5,m.push(P.x,P.y),v++}for(let W=0;W<i;W++){const q=M+W,K=L+W;C===!0?d.push(K,K+1,q):d.push(K+1,K,q),k+=3}u.addGroup(w,k,C===!0?1:2),w+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class c_ extends l_{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new c_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class uh extends Yn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),d(),this.setAttribute("position",new gn(s,3)),this.setAttribute("normal",new gn(s.slice(),3)),this.setAttribute("uv",new gn(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const E=new de,C=new de,M=new de;for(let P=0;P<t.length;P+=3)m(t[P+0],E),m(t[P+1],C),m(t[P+2],M),l(E,C,M,A)}function l(A,E,C,M){const P=M+1,O=[];for(let k=0;k<=P;k++){O[k]=[];const D=A.clone().lerp(C,k/P),I=E.clone().lerp(C,k/P),L=P-k;for(let W=0;W<=L;W++)W===0&&k===P?O[k][W]=D:O[k][W]=D.clone().lerp(I,W/L)}for(let k=0;k<P;k++)for(let D=0;D<2*(P-k)-1;D++){const I=Math.floor(D/2);D%2===0?(f(O[k][I+1]),f(O[k+1][I]),f(O[k][I])):(f(O[k][I+1]),f(O[k+1][I+1]),f(O[k+1][I]))}}function u(A){const E=new de;for(let C=0;C<s.length;C+=3)E.x=s[C+0],E.y=s[C+1],E.z=s[C+2],E.normalize().multiplyScalar(A),s[C+0]=E.x,s[C+1]=E.y,s[C+2]=E.z}function d(){const A=new de;for(let E=0;E<s.length;E+=3){A.x=s[E+0],A.y=s[E+1],A.z=s[E+2];const C=y(A)/2/Math.PI+.5,M=w(A)/Math.PI+.5;o.push(C,1-M)}v(),c()}function c(){for(let A=0;A<o.length;A+=6){const E=o[A+0],C=o[A+2],M=o[A+4],P=Math.max(E,C,M),O=Math.min(E,C,M);P>.9&&O<.1&&(E<.2&&(o[A+0]+=1),C<.2&&(o[A+2]+=1),M<.2&&(o[A+4]+=1))}}function f(A){s.push(A.x,A.y,A.z)}function m(A,E){const C=A*3;E.x=e[C+0],E.y=e[C+1],E.z=e[C+2]}function v(){const A=new de,E=new de,C=new de,M=new de,P=new xt,O=new xt,k=new xt;for(let D=0,I=0;D<s.length;D+=9,I+=6){A.set(s[D+0],s[D+1],s[D+2]),E.set(s[D+3],s[D+4],s[D+5]),C.set(s[D+6],s[D+7],s[D+8]),P.set(o[I+0],o[I+1]),O.set(o[I+2],o[I+3]),k.set(o[I+4],o[I+5]),M.copy(A).add(E).add(C).divideScalar(3);const L=y(M);b(P,I+0,A,L),b(O,I+2,E,L),b(k,I+4,C,L)}}function b(A,E,C,M){M<0&&A.x===1&&(o[E]=A.x-1),C.x===0&&C.z===0&&(o[E]=M/2/Math.PI+.5)}function y(A){return Math.atan2(A.z,-A.x)}function w(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.vertices,e.indices,e.radius,e.details)}}class qC extends uh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qC(e.radius,e.detail)}}const lw=new de,cw=new de,zN=new de,uw=new ca;class JZ extends Yn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Vp*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],c=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:b,b:y,c:w}=uw;if(b.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),uw.getNormal(zN),c[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,c[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,c[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(c[0]===c[1]||c[1]===c[2]||c[2]===c[0]))for(let A=0;A<3;A++){const E=(A+1)%3,C=c[A],M=c[E],P=uw[d[A]],O=uw[d[E]],k=`${C}_${M}`,D=`${M}_${C}`;D in f&&f[D]?(zN.dot(f[D].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(O.x,O.y,O.z)),f[D]=null):k in f||(f[k]={index0:u[A],index1:u[E],normal:zN.clone()})}}for(const v in f)if(f[v]){const{index0:b,index1:y}=f[v];lw.fromBufferAttribute(a,b),cw.fromBufferAttribute(a,y),m.push(lw.x,lw.y,lw.z),m.push(cw.x,cw.y,cw.z)}this.setAttribute("position",new gn(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){tn("Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],f=r[i+1]-d,m=(o-d)/f;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new xt:new de);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new de,i=[],s=[],o=[],a=new de,l=new Bn;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new de)}s[0]=new de,o[0]=new de;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),c=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),c<=u&&(u=c,r.set(0,1,0)),f<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(zn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(zn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class XC extends xc{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new xt){const r=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=l-this.aX,m=u-this.aY;l=f*d-m*c+this.aX,u=f*c+m*d+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZZ extends XC{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function LB(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,c){let f=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+c)+(l-a)/c;f*=d,m*=d,i(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const dw=new de,HN=new LB,GN=new LB,VN=new LB;class QZ extends xc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new de){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=i[(a-1)%s]:(dw.subVectors(i[0],i[1]).add(i[0]),u=dw);const c=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(dw.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=dw),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(c),m),b=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(d),m);b<1e-4&&(b=1),v<1e-4&&(v=b),y<1e-4&&(y=b),HN.initNonuniformCatmullRom(u.x,c.x,f.x,d.x,v,b,y),GN.initNonuniformCatmullRom(u.y,c.y,f.y,d.y,v,b,y),VN.initNonuniformCatmullRom(u.z,c.z,f.z,d.z,v,b,y)}else this.curveType==="catmullrom"&&(HN.initCatmullRom(u.x,c.x,f.x,d.x,this.tension),GN.initCatmullRom(u.y,c.y,f.y,d.y,this.tension),VN.initCatmullRom(u.z,c.z,f.z,d.z,this.tension));return r.set(HN.calc(l),GN.calc(l),VN.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new de().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function q9(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function cNe(n,e){const t=1-n;return t*t*e}function uNe(n,e){return 2*(1-n)*n*e}function dNe(n,e){return n*n*e}function mx(n,e,t,r){return cNe(n,e)+uNe(n,t)+dNe(n,r)}function fNe(n,e){const t=1-n;return t*t*t*e}function hNe(n,e){const t=1-n;return 3*t*t*n*e}function pNe(n,e){return 3*(1-n)*n*n*e}function mNe(n,e){return n*n*n*e}function gx(n,e,t,r,i){return fNe(n,e)+hNe(n,t)+pNe(n,r)+mNe(n,i)}class jB extends xc{constructor(e=new xt,t=new xt,r=new xt,i=new xt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new xt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(gx(e,i.x,s.x,o.x,a.x),gx(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eQ extends xc{constructor(e=new de,t=new de,r=new de,i=new de){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new de){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(gx(e,i.x,s.x,o.x,a.x),gx(e,i.y,s.y,o.y,a.y),gx(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class UB extends xc{constructor(e=new xt,t=new xt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new xt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new xt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tQ extends xc{constructor(e=new de,t=new de){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new de){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new de){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zB extends xc{constructor(e=new xt,t=new xt,r=new xt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new xt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(mx(e,i.x,s.x,o.x),mx(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HB extends xc{constructor(e=new de,t=new de,r=new de){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new de){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(mx(e,i.x,s.x,o.x),mx(e,i.y,s.y,o.y),mx(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GB extends xc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new xt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],c=i[o>i.length-3?i.length-1:o+2];return r.set(q9(a,l.x,u.x,d.x,c.x),q9(a,l.y,u.y,d.y,c.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new xt().fromArray(i))}return this}}var eE=Object.freeze({__proto__:null,ArcCurve:ZZ,CatmullRomCurve3:QZ,CubicBezierCurve:jB,CubicBezierCurve3:eQ,EllipseCurve:XC,LineCurve:UB,LineCurve3:tQ,QuadraticBezierCurve:zB,QuadraticBezierCurve3:HB,SplineCurve:GB});class nQ extends xc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new eE[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new eE[i.type]().fromJSON(i))}return this}}class tE extends nQ{constructor(e){super(),this.type="Path",this.currentPoint=new xt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new UB(this.currentPoint.clone(),new xt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new zB(this.currentPoint.clone(),new xt(e,t),new xt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new jB(this.currentPoint.clone(),new xt(e,t),new xt(r,i),new xt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new GB(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new XC(e,t,r,i,s,o,a,l);if(this.curves.length>0){const c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class $p extends tE{constructor(e){super(e),this.uuid=ja(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new tE().fromJSON(i))}return this}}function gNe(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=rQ(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(r&&(s=_Ne(n,e,s,t)),n.length>80*t){a=n[0],l=n[1];let d=a,c=l;for(let f=t;f<i;f+=t){const m=n[f],v=n[f+1];m<a&&(a=m),v<l&&(l=v),m>d&&(d=m),v>c&&(c=v)}u=Math.max(d-a,c-l),u=u!==0?32767/u:0}return _b(s,o,t,a,l,u,0),o}function rQ(n,e,t,r,i){let s;if(i===INe(n,e,t,r)>0)for(let o=e;o<t;o+=r)s=X9(o/r|0,n[o],n[o+1],s);else for(let o=t-r;o>=e;o-=r)s=X9(o/r|0,n[o],n[o+1],s);return s&&Q0(s,s.next)&&(Sb(s),s=s.next),s}function lm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Q0(t,t.next)||Ai(t.prev,t,t.next)===0)){if(Sb(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function _b(n,e,t,r,i,s,o){if(!n)return;!o&&s&&CNe(n,r,i,s);let a=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?yNe(n,r,i,s):vNe(n)){e.push(l.i,n.i,u.i),Sb(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=xNe(lm(n),e),_b(n,e,t,r,i,s,2)):o===2&&bNe(n,e,t,r,i,s):_b(lm(n),e,t,r,i,s,1);break}}}function vNe(n){const e=n.prev,t=n,r=n.next;if(Ai(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,d=Math.min(i,s,o),c=Math.min(a,l,u),f=Math.max(i,s,o),m=Math.max(a,l,u);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=f&&v.y>=c&&v.y<=m&&Qy(i,a,s,l,o,u,v.x,v.y)&&Ai(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function yNe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Ai(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,d=i.y,c=s.y,f=o.y,m=Math.min(a,l,u),v=Math.min(d,c,f),b=Math.max(a,l,u),y=Math.max(d,c,f),w=VO(m,v,e,t,r),A=VO(b,y,e,t,r);let E=n.prevZ,C=n.nextZ;for(;E&&E.z>=w&&C&&C.z<=A;){if(E.x>=m&&E.x<=b&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Qy(a,d,l,c,u,f,E.x,E.y)&&Ai(E.prev,E,E.next)>=0||(E=E.prevZ,C.x>=m&&C.x<=b&&C.y>=v&&C.y<=y&&C!==i&&C!==o&&Qy(a,d,l,c,u,f,C.x,C.y)&&Ai(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;E&&E.z>=w;){if(E.x>=m&&E.x<=b&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Qy(a,d,l,c,u,f,E.x,E.y)&&Ai(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;C&&C.z<=A;){if(C.x>=m&&C.x<=b&&C.y>=v&&C.y<=y&&C!==i&&C!==o&&Qy(a,d,l,c,u,f,C.x,C.y)&&Ai(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function xNe(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Q0(r,i)&&sQ(r,t,t.next,i)&&wb(r,i)&&wb(i,r)&&(e.push(r.i,t.i,i.i),Sb(t),Sb(t.next),t=n=i),t=t.next}while(t!==n);return lm(t)}function bNe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&PNe(o,a)){let l=oQ(o,a);o=lm(o,o.next),l=lm(l,l.next),_b(o,e,t,r,i,s,0),_b(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function _Ne(n,e,t,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=rQ(n,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(TNe(u))}i.sort(wNe);for(let s=0;s<i.length;s++)t=SNe(i[s],t);return t}function wNe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function SNe(n,e){const t=ANe(n,e);if(!t)return e;const r=oQ(t,n);return lm(r,r.next),lm(t,t.next)}function ANe(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;if(Q0(n,t))return t;do{if(Q0(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const c=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(c<=r&&c>s&&(s=c,o=t.x<t.next.x?t:t.next,c===r))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let d=1/0;t=o;do{if(r>=t.x&&t.x>=l&&r!==t.x&&iQ(i<u?r:s,i,l,u,i<u?s:r,i,t.x,t.y)){const c=Math.abs(i-t.y)/(r-t.x);wb(t,n)&&(c<d||c===d&&(t.x>o.x||t.x===o.x&&ENe(o,t)))&&(o=t,d=c)}t=t.next}while(t!==a);return o}function ENe(n,e){return Ai(n.prev,n,e.prev)<0&&Ai(e.next,n,n.next)<0}function CNe(n,e,t,r){let i=n;do i.z===0&&(i.z=VO(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,MNe(i)}function MNe(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<t&&(a++,o=o.nextZ,!!o);u++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=o}s.nextZ=null,t*=2}while(e>1);return n}function VO(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function TNe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function iQ(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Qy(n,e,t,r,i,s,o,a){return!(n===o&&e===a)&&iQ(n,e,t,r,i,s,o,a)}function PNe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!RNe(n,e)&&(wb(n,e)&&wb(e,n)&&NNe(n,e)&&(Ai(n.prev,n,e.prev)||Ai(n,e.prev,e))||Q0(n,e)&&Ai(n.prev,n,n.next)>0&&Ai(e.prev,e,e.next)>0)}function Ai(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Q0(n,e){return n.x===e.x&&n.y===e.y}function sQ(n,e,t,r){const i=hw(Ai(n,e,t)),s=hw(Ai(n,e,r)),o=hw(Ai(t,r,n)),a=hw(Ai(t,r,e));return!!(i!==s&&o!==a||i===0&&fw(n,t,e)||s===0&&fw(n,r,e)||o===0&&fw(t,n,r)||a===0&&fw(t,e,r))}function fw(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function hw(n){return n>0?1:n<0?-1:0}function RNe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&sQ(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function wb(n,e){return Ai(n.prev,n,n.next)<0?Ai(n,e,n.next)>=0&&Ai(n,n.prev,e)>=0:Ai(n,e,n.prev)<0||Ai(n,n.next,e)<0}function NNe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function oQ(n,e){const t=WO(n.i,n.x,n.y),r=WO(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function X9(n,e,t,r){const i=WO(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Sb(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function WO(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function INe(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ONe{static triangulate(e,t,r=2){return gNe(e,t,r)}}class cc{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return cc.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];K9(e),Y9(r,e);let o=e.length;t.forEach(K9);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,Y9(r,t[l]);const a=ONe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function K9(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Y9(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class KC extends Yn{constructor(e=new $p([new xt(.5,.5),new xt(-.5,.5),new xt(-.5,-.5),new xt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new gn(i,3)),this.setAttribute("uv",new gn(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,c=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,b=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:FNe;let E,C=!1,M,P,O,k;w&&(E=w.getSpacedPoints(d),C=!0,f=!1,M=w.computeFrenetFrames(d,!1),P=new de,O=new de,k=new de),f||(y=0,m=0,v=0,b=0);const D=a.extractPoints(u);let I=D.shape;const L=D.holes;if(!cc.isClockWise(I)){I=I.reverse();for(let Fe=0,ce=L.length;Fe<ce;Fe++){const rt=L[Fe];cc.isClockWise(rt)&&(L[Fe]=rt.reverse())}}function q(Fe){const rt=10000000000000001e-36;let ct=Fe[0];for(let wt=1;wt<=Fe.length;wt++){const Te=wt%Fe.length,tt=Fe[Te],st=tt.x-ct.x,ft=tt.y-ct.y,ae=st*st+ft*ft,te=Math.max(Math.abs(tt.x),Math.abs(tt.y),Math.abs(ct.x),Math.abs(ct.y)),Ne=rt*te*te;if(ae<=Ne){Fe.splice(Te,1),wt--;continue}ct=tt}}q(I),L.forEach(q);const K=L.length,ie=I;for(let Fe=0;Fe<K;Fe++){const ce=L[Fe];I=I.concat(ce)}function V(Fe,ce,rt){return ce||Vn("ExtrudeGeometry: vec does not exist"),Fe.clone().addScaledVector(ce,rt)}const J=I.length;function H(Fe,ce,rt){let ct,wt,Te;const tt=Fe.x-ce.x,st=Fe.y-ce.y,ft=rt.x-Fe.x,ae=rt.y-Fe.y,te=tt*tt+st*st,Ne=tt*ae-st*ft;if(Math.abs(Ne)>Number.EPSILON){const Ye=Math.sqrt(te),pt=Math.sqrt(ft*ft+ae*ae),Ke=ce.x-st/Ye,Jt=ce.y+tt/Ye,It=rt.x-ae/pt,Vt=rt.y+ft/pt,Lt=((It-Ke)*ae-(Vt-Jt)*ft)/(tt*ae-st*ft);ct=Ke+tt*Lt-Fe.x,wt=Jt+st*Lt-Fe.y;const yt=ct*ct+wt*wt;if(yt<=2)return new xt(ct,wt);Te=Math.sqrt(yt/2)}else{let Ye=!1;tt>Number.EPSILON?ft>Number.EPSILON&&(Ye=!0):tt<-Number.EPSILON?ft<-Number.EPSILON&&(Ye=!0):Math.sign(st)===Math.sign(ae)&&(Ye=!0),Ye?(ct=-st,wt=tt,Te=Math.sqrt(te)):(ct=tt,wt=st,Te=Math.sqrt(te/2))}return new xt(ct/Te,wt/Te)}const Y=[];for(let Fe=0,ce=ie.length,rt=ce-1,ct=Fe+1;Fe<ce;Fe++,rt++,ct++)rt===ce&&(rt=0),ct===ce&&(ct=0),Y[Fe]=H(ie[Fe],ie[rt],ie[ct]);const ne=[];let Z,oe=Y.concat();for(let Fe=0,ce=K;Fe<ce;Fe++){const rt=L[Fe];Z=[];for(let ct=0,wt=rt.length,Te=wt-1,tt=ct+1;ct<wt;ct++,Te++,tt++)Te===wt&&(Te=0),tt===wt&&(tt=0),Z[ct]=H(rt[ct],rt[Te],rt[tt]);ne.push(Z),oe=oe.concat(Z)}let ye;if(y===0)ye=cc.triangulateShape(ie,L);else{const Fe=[],ce=[];for(let rt=0;rt<y;rt++){const ct=rt/y,wt=m*Math.cos(ct*Math.PI/2),Te=v*Math.sin(ct*Math.PI/2)+b;for(let tt=0,st=ie.length;tt<st;tt++){const ft=V(ie[tt],Y[tt],Te);Oe(ft.x,ft.y,-wt),ct===0&&Fe.push(ft)}for(let tt=0,st=K;tt<st;tt++){const ft=L[tt];Z=ne[tt];const ae=[];for(let te=0,Ne=ft.length;te<Ne;te++){const Ye=V(ft[te],Z[te],Te);Oe(Ye.x,Ye.y,-wt),ct===0&&ae.push(Ye)}ct===0&&ce.push(ae)}}ye=cc.triangulateShape(Fe,ce)}const Be=ye.length,Xe=v+b;for(let Fe=0;Fe<J;Fe++){const ce=f?V(I[Fe],oe[Fe],Xe):I[Fe];C?(O.copy(M.normals[0]).multiplyScalar(ce.x),P.copy(M.binormals[0]).multiplyScalar(ce.y),k.copy(E[0]).add(O).add(P),Oe(k.x,k.y,k.z)):Oe(ce.x,ce.y,0)}for(let Fe=1;Fe<=d;Fe++)for(let ce=0;ce<J;ce++){const rt=f?V(I[ce],oe[ce],Xe):I[ce];C?(O.copy(M.normals[Fe]).multiplyScalar(rt.x),P.copy(M.binormals[Fe]).multiplyScalar(rt.y),k.copy(E[Fe]).add(O).add(P),Oe(k.x,k.y,k.z)):Oe(rt.x,rt.y,c/d*Fe)}for(let Fe=y-1;Fe>=0;Fe--){const ce=Fe/y,rt=m*Math.cos(ce*Math.PI/2),ct=v*Math.sin(ce*Math.PI/2)+b;for(let wt=0,Te=ie.length;wt<Te;wt++){const tt=V(ie[wt],Y[wt],ct);Oe(tt.x,tt.y,c+rt)}for(let wt=0,Te=L.length;wt<Te;wt++){const tt=L[wt];Z=ne[wt];for(let st=0,ft=tt.length;st<ft;st++){const ae=V(tt[st],Z[st],ct);C?Oe(ae.x,ae.y+E[d-1].y,E[d-1].x+rt):Oe(ae.x,ae.y,c+rt)}}}we(),Ae();function we(){const Fe=i.length/3;if(f){let ce=0,rt=J*ce;for(let ct=0;ct<Be;ct++){const wt=ye[ct];Ge(wt[2]+rt,wt[1]+rt,wt[0]+rt)}ce=d+y*2,rt=J*ce;for(let ct=0;ct<Be;ct++){const wt=ye[ct];Ge(wt[0]+rt,wt[1]+rt,wt[2]+rt)}}else{for(let ce=0;ce<Be;ce++){const rt=ye[ce];Ge(rt[2],rt[1],rt[0])}for(let ce=0;ce<Be;ce++){const rt=ye[ce];Ge(rt[0]+J*d,rt[1]+J*d,rt[2]+J*d)}}r.addGroup(Fe,i.length/3-Fe,0)}function Ae(){const Fe=i.length/3;let ce=0;ke(ie,ce),ce+=ie.length;for(let rt=0,ct=L.length;rt<ct;rt++){const wt=L[rt];ke(wt,ce),ce+=wt.length}r.addGroup(Fe,i.length/3-Fe,1)}function ke(Fe,ce){let rt=Fe.length;for(;--rt>=0;){const ct=rt;let wt=rt-1;wt<0&&(wt=Fe.length-1);for(let Te=0,tt=d+y*2;Te<tt;Te++){const st=J*Te,ft=J*(Te+1),ae=ce+ct+st,te=ce+wt+st,Ne=ce+wt+ft,Ye=ce+ct+ft;et(ae,te,Ne,Ye)}}}function Oe(Fe,ce,rt){l.push(Fe),l.push(ce),l.push(rt)}function Ge(Fe,ce,rt){ze(Fe),ze(ce),ze(rt);const ct=i.length/3,wt=A.generateTopUV(r,i,ct-3,ct-2,ct-1);nt(wt[0]),nt(wt[1]),nt(wt[2])}function et(Fe,ce,rt,ct){ze(Fe),ze(ce),ze(ct),ze(ce),ze(rt),ze(ct);const wt=i.length/3,Te=A.generateSideWallUV(r,i,wt-6,wt-3,wt-2,wt-1);nt(Te[0]),nt(Te[1]),nt(Te[3]),nt(Te[1]),nt(Te[2]),nt(Te[3])}function ze(Fe){i.push(l[Fe*3+0]),i.push(l[Fe*3+1]),i.push(l[Fe*3+2])}function nt(Fe){s.push(Fe.x),s.push(Fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return DNe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new eE[i.type]().fromJSON(i)),new KC(r,e.options)}}const FNe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new xt(s,o),new xt(a,l),new xt(u,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],d=e[r*3+1],c=e[r*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],b=e[s*3],y=e[s*3+1],w=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new xt(o,1-l),new xt(u,1-c),new xt(f,1-v),new xt(b,1-w)]:[new xt(a,1-l),new xt(d,1-c),new xt(m,1-v),new xt(y,1-w)]}};function DNe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class u_ extends uh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new u_(e.radius,e.detail)}}class YC extends Yn{constructor(e=[new xt(0,-.5),new xt(.5,0),new xt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=zn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,c=new de,f=new xt,m=new de,v=new de,b=new de;let y=0,w=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:y=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,m.x=w*1,m.y=-y,m.z=w*0,b.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:y=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,m.x=w*1,m.y=-y,m.z=w*0,v.copy(m),m.x+=b.x,m.y+=b.y,m.z+=b.z,m.normalize(),l.push(m.x,m.y,m.z),b.copy(v)}for(let A=0;A<=t;A++){const E=r+A*d*i,C=Math.sin(E),M=Math.cos(E);for(let P=0;P<=e.length-1;P++){c.x=e[P].x*C,c.y=e[P].y,c.z=e[P].x*M,o.push(c.x,c.y,c.z),f.x=A/t,f.y=P/(e.length-1),a.push(f.x,f.y);const O=l[3*P+0]*C,k=l[3*P+1],D=l[3*P+0]*M;u.push(O,k,D)}}for(let A=0;A<t;A++)for(let E=0;E<e.length-1;E++){const C=E+A*e.length,M=C,P=C+e.length,O=C+e.length+1,k=C+1;s.push(M,P,k),s.push(O,k,P)}this.setIndex(s),this.setAttribute("position",new gn(o,3)),this.setAttribute("uv",new gn(a,2)),this.setAttribute("normal",new gn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YC(e.points,e.segments,e.phiStart,e.phiLength)}}class d_ extends uh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new d_(e.radius,e.detail)}}class dh extends Yn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,d=l+1,c=e/a,f=t/l,m=[],v=[],b=[],y=[];for(let w=0;w<d;w++){const A=w*f-o;for(let E=0;E<u;E++){const C=E*c-s;v.push(C,-A,0),b.push(0,0,1),y.push(E/a),y.push(1-w/l)}}for(let w=0;w<l;w++)for(let A=0;A<a;A++){const E=A+u*w,C=A+u*(w+1),M=A+1+u*(w+1),P=A+1+u*w;m.push(E,C,P),m.push(C,M,P)}this.setIndex(m),this.setAttribute("position",new gn(v,3)),this.setAttribute("normal",new gn(b,3)),this.setAttribute("uv",new gn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dh(e.width,e.height,e.widthSegments,e.heightSegments)}}class JC extends Yn{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],d=[];let c=e;const f=(t-e)/i,m=new de,v=new xt;for(let b=0;b<=i;b++){for(let y=0;y<=r;y++){const w=s+y/r*o;m.x=c*Math.cos(w),m.y=c*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}c+=f}for(let b=0;b<i;b++){const y=b*(r+1);for(let w=0;w<r;w++){const A=w+y,E=A,C=A+r+1,M=A+r+2,P=A+1;a.push(E,C,P),a.push(C,M,P)}}this.setIndex(a),this.setAttribute("position",new gn(l,3)),this.setAttribute("normal",new gn(u,3)),this.setAttribute("uv",new gn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ZC extends Yn{constructor(e=new $p([new xt(0,.5),new xt(-.5,-.5),new xt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new gn(i,3)),this.setAttribute("normal",new gn(s,3)),this.setAttribute("uv",new gn(o,2));function u(d){const c=i.length/3,f=d.extractPoints(t);let m=f.shape;const v=f.holes;cc.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,w=v.length;y<w;y++){const A=v[y];cc.isClockWise(A)===!0&&(v[y]=A.reverse())}const b=cc.triangulateShape(m,v);for(let y=0,w=v.length;y<w;y++){const A=v[y];m=m.concat(A)}for(let y=0,w=m.length;y<w;y++){const A=m[y];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let y=0,w=b.length;y<w;y++){const A=b[y],E=A[0]+c,C=A[1]+c,M=A[2]+c;r.push(E,C,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return BNe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new ZC(r,e.curveSegments)}}function BNe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class f_ extends Yn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const d=[],c=new de,f=new de,m=[],v=[],b=[],y=[];for(let w=0;w<=r;w++){const A=[],E=w/r;let C=0;w===0&&o===0?C=.5/t:w===r&&l===Math.PI&&(C=-.5/t);for(let M=0;M<=t;M++){const P=M/t;c.x=-e*Math.cos(i+P*s)*Math.sin(o+E*a),c.y=e*Math.cos(o+E*a),c.z=e*Math.sin(i+P*s)*Math.sin(o+E*a),v.push(c.x,c.y,c.z),f.copy(c).normalize(),b.push(f.x,f.y,f.z),y.push(P+C,1-E),A.push(u++)}d.push(A)}for(let w=0;w<r;w++)for(let A=0;A<t;A++){const E=d[w][A+1],C=d[w][A],M=d[w+1][A],P=d[w+1][A+1];(w!==0||o>0)&&m.push(E,C,P),(w!==r-1||l<Math.PI)&&m.push(C,M,P)}this.setIndex(m),this.setAttribute("position",new gn(v,3)),this.setAttribute("normal",new gn(b,3)),this.setAttribute("uv",new gn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class QC extends uh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new QC(e.radius,e.detail)}}class eM extends Yn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],d=new de,c=new de,f=new de;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const b=v/i*s,y=m/r*Math.PI*2;c.x=(e+t*Math.cos(y))*Math.cos(b),c.y=(e+t*Math.cos(y))*Math.sin(b),c.z=t*Math.sin(y),a.push(c.x,c.y,c.z),d.x=e*Math.cos(b),d.y=e*Math.sin(b),f.subVectors(c,d).normalize(),l.push(f.x,f.y,f.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const b=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,w=(i+1)*(m-1)+v,A=(i+1)*m+v;o.push(b,y,A),o.push(y,w,A)}this.setIndex(o),this.setAttribute("position",new gn(a,3)),this.setAttribute("normal",new gn(l,3)),this.setAttribute("uv",new gn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class tM extends Yn{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],d=[],c=new de,f=new de,m=new de,v=new de,b=new de,y=new de,w=new de;for(let E=0;E<=r;++E){const C=E/r*s*Math.PI*2;A(C,s,o,e,m),A(C+.01,s,o,e,v),y.subVectors(v,m),w.addVectors(v,m),b.crossVectors(y,w),w.crossVectors(b,y),b.normalize(),w.normalize();for(let M=0;M<=i;++M){const P=M/i*Math.PI*2,O=-t*Math.cos(P),k=t*Math.sin(P);c.x=m.x+(O*w.x+k*b.x),c.y=m.y+(O*w.y+k*b.y),c.z=m.z+(O*w.z+k*b.z),l.push(c.x,c.y,c.z),f.subVectors(c,m).normalize(),u.push(f.x,f.y,f.z),d.push(E/r),d.push(M/i)}}for(let E=1;E<=r;E++)for(let C=1;C<=i;C++){const M=(i+1)*(E-1)+(C-1),P=(i+1)*E+(C-1),O=(i+1)*E+C,k=(i+1)*(E-1)+C;a.push(M,P,k),a.push(P,O,k)}this.setIndex(a),this.setAttribute("position",new gn(l,3)),this.setAttribute("normal",new gn(u,3)),this.setAttribute("uv",new gn(d,2));function A(E,C,M,P,O){const k=Math.cos(E),D=Math.sin(E),I=M/C*E,L=Math.cos(I);O.x=P*(2+L)*.5*k,O.y=P*(2+L)*D*.5,O.z=P*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class nM extends Yn{constructor(e=new HB(new de(-1,-1,0),new de(-1,1,0),new de(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new de,l=new de,u=new xt;let d=new de;const c=[],f=[],m=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new gn(c,3)),this.setAttribute("normal",new gn(f,3)),this.setAttribute("uv",new gn(m,2));function b(){for(let E=0;E<t;E++)y(E);y(s===!1?t:0),A(),w()}function y(E){d=e.getPointAt(E/t,d);const C=o.normals[E],M=o.binormals[E];for(let P=0;P<=i;P++){const O=P/i*Math.PI*2,k=Math.sin(O),D=-Math.cos(O);l.x=D*C.x+k*M.x,l.y=D*C.y+k*M.y,l.z=D*C.z+k*M.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,c.push(a.x,a.y,a.z)}}function w(){for(let E=1;E<=t;E++)for(let C=1;C<=i;C++){const M=(i+1)*(E-1)+(C-1),P=(i+1)*E+(C-1),O=(i+1)*E+C,k=(i+1)*(E-1)+C;v.push(M,P,k),v.push(P,O,k)}}function A(){for(let E=0;E<=t;E++)for(let C=0;C<=i;C++)u.x=E/t,u.y=C/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new nM(new eE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aQ extends Yn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new de,s=new de;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const c=l[u],f=c.start,m=c.count;for(let v=f,b=f+m;v<b;v+=3)for(let y=0;y<3;y++){const w=a.getX(v+y),A=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,A),J9(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,c=3*a+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,c),J9(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new gn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function J9(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var Z9=Object.freeze({__proto__:null,BoxGeometry:_m,CapsuleGeometry:WC,CircleGeometry:$C,ConeGeometry:c_,CylinderGeometry:l_,DodecahedronGeometry:qC,EdgesGeometry:JZ,ExtrudeGeometry:KC,IcosahedronGeometry:u_,LatheGeometry:YC,OctahedronGeometry:d_,PlaneGeometry:dh,PolyhedronGeometry:uh,RingGeometry:JC,ShapeGeometry:ZC,SphereGeometry:f_,TetrahedronGeometry:QC,TorusGeometry:eM,TorusKnotGeometry:tM,TubeGeometry:nM,WireframeGeometry:aQ});class lQ extends Ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cQ extends Xo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class h_ extends Ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Al extends h_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uQ extends Ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Xt(16777215),this.specular=new Xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=Qb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dQ extends Ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fQ extends Ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hQ extends Ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=Qb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VB extends Ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=TZ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class WB extends Ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class pQ extends Ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mQ extends Co{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ip(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function gQ(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function vQ(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function $O(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function $B(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function kNe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),c=[],f=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<t||v>=r)){c.push(u.times[m]);for(let b=0;b<d;++b)f.push(u.values[m*d+b])}}c.length!==0&&(u.times=Ip(c,u.times.constructor),u.values=Ip(f,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function LNe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let d=0;const c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=c/3);let f=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=a.times.length-1;let b;if(s<=a.times[0]){const w=d,A=c-d;b=a.values.slice(w,A)}else if(s>=a.times[v]){const w=v*c+d,A=w+c-d;b=a.values.slice(w,A)}else{const w=a.createInterpolant(),A=d,E=c-d;w.evaluate(s),b=w.resultBuffer.slice(A,E)}l==="quaternion"&&new Us().fromArray(b).normalize().conjugate().toArray(b);const y=u.times.length;for(let w=0;w<y;++w){const A=w*m+f;if(l==="quaternion")Us.multiplyQuaternionsFlat(u.values,A,b,0,u.values,A);else{const E=m-f*2;for(let C=0;C<E;++C)u.values[A+C]-=b[C]}}}return n.blendMode=SB,n}class jNe{static convertArray(e,t){return Ip(e,t)}static isTypedArray(e){return gQ(e)}static getKeyframeOrder(e){return vQ(e)}static sortedArray(e,t,r){return $O(e,t,r)}static flattenJSON(e,t,r,i){$B(e,t,r,i)}static subclip(e,t,r,i,s=30){return kNe(e,t,r,i,s)}static makeClipAdditive(e,t=0,r=e,i=30){return LNe(e,t,r,i)}}class Av{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yQ extends Av{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pp,endingEnd:Pp}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Rp:s=e,a=2*t-r;break;case gb:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Rp:o=e,l=2*r-t;break;case gb:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),b=v*v,y=b*v,w=-f*y+2*f*b-f*v,A=(1+f)*y+(-1.5-2*f)*b+(-.5+f)*v+1,E=(-1-m)*y+(1.5+m)*b+.5*v,C=m*y-m*b;for(let M=0;M!==a;++M)s[M]=w*o[d+M]+A*o[u+M]+E*o[l+M]+C*o[c+M];return s}}class qB extends Av{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(r-t)/(i-t),c=1-d;for(let f=0;f!==a;++f)s[f]=o[u+f]*c+o[l+f]*d;return s}}class xQ extends Av{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class El{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ip(t,this.TimeBufferType),this.values=Ip(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ip(e.times,Array),values:Ip(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new xQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yQ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case q0:t=this.InterpolantFactoryMethodDiscrete;break;case X0:t=this.InterpolantFactoryMethodLinear;break;case $w:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return tn("KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return q0;case this.InterpolantFactoryMethodLinear:return X0;case this.InterpolantFactoryMethodSmooth:return $w}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Vn("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(Vn("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){Vn("KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){Vn("KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&gQ(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){Vn("KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===$w,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(i)l=!0;else{const c=a*r,f=c-r,m=c+r;for(let v=0;v!==r;++v){const b=t[c+v];if(b!==t[f+v]||b!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const c=a*r,f=o*r;for(let m=0;m!==r;++m)t[f+m]=t[c+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}El.prototype.ValueTypeName="";El.prototype.TimeBufferType=Float32Array;El.prototype.ValueBufferType=Float32Array;El.prototype.DefaultInterpolation=X0;class wm extends El{constructor(e,t,r){super(e,t,r)}}wm.prototype.ValueTypeName="bool";wm.prototype.ValueBufferType=Array;wm.prototype.DefaultInterpolation=q0;wm.prototype.InterpolantFactoryMethodLinear=void 0;wm.prototype.InterpolantFactoryMethodSmooth=void 0;class XB extends El{constructor(e,t,r,i){super(e,t,r,i)}}XB.prototype.ValueTypeName="color";class cm extends El{constructor(e,t,r,i){super(e,t,r,i)}}cm.prototype.ValueTypeName="number";class bQ extends Av{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Us.slerpFlat(s,0,o,u-a,o,u,l);return s}}class um extends El{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new bQ(this.times,this.values,this.getValueSize(),e)}}um.prototype.ValueTypeName="quaternion";um.prototype.InterpolantFactoryMethodSmooth=void 0;class Sm extends El{constructor(e,t,r){super(e,t,r)}}Sm.prototype.ValueTypeName="string";Sm.prototype.ValueBufferType=Array;Sm.prototype.DefaultInterpolation=q0;Sm.prototype.InterpolantFactoryMethodLinear=void 0;Sm.prototype.InterpolantFactoryMethodSmooth=void 0;class dm extends El{constructor(e,t,r,i){super(e,t,r,i)}}dm.prototype.ValueTypeName="vector";class ev{constructor(e="",t=-1,r=[],i=BC){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ja(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(zNe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)t.push(El.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=vQ(l);l=$O(l,1,d),u=$O(u,1,d),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new cm(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const c=d[1];let f=i[c];f||(i[c]=f=[]),f.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(tn("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Vn("AnimationClip: No animation in JSONLoader data."),null;const r=function(c,f,m,v,b){if(m.length!==0){const y=[],w=[];$B(m,y,w,v),y.length!==0&&b.push(new c(f,y,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let c=0;c<u.length;c++){const f=u[c].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let b=0;b<f[v].morphTargets.length;b++)m[f[v].morphTargets[b]]=-1;for(const b in m){const y=[],w=[];for(let A=0;A!==f[v].morphTargets.length;++A){const E=f[v];y.push(E.time),w.push(E.morphTarget===b?1:0)}i.push(new cm(".morphTargetInfluence["+b+"]",y,w))}l=m.length*o}else{const m=".bones["+t[c].name+"]";r(dm,m+".position",f,"pos",i),r(um,m+".quaternion",f,"rot",i),r(dm,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function UNe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cm;case"vector":case"vector2":case"vector3":case"vector4":return dm;case"color":return XB;case"quaternion":return um;case"bool":case"boolean":return wm;case"string":return Sm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function zNe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=UNe(n.type);if(n.times===void 0){const t=[],r=[];$B(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Jc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class rM{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,c){return u.push(d,c),this},this.removeHandler=function(d){const c=u.indexOf(d);return c!==-1&&u.splice(c,2),this},this.getHandler=function(d){for(let c=0,f=u.length;c<f;c+=2){const m=u[c],v=u[c+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const _Q=new rM;class ro{constructor(e){this.manager=e!==void 0?e:_Q,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ro.DEFAULT_MATERIAL_NAME="__DEFAULT";const td={};class HNe extends Error{constructor(e,t){super(e),this.response=t}}class no extends ro{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Jc.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(td[e]!==void 0){td[e].push({onLoad:t,onProgress:r,onError:i});return}td[e]=[],td[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&tn("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=td[e],c=u.body.getReader(),f=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=f?parseInt(f):0,v=m!==0;let b=0;const y=new ReadableStream({start(w){A();function A(){c.read().then(({done:E,value:C})=>{if(E)w.close();else{b+=C.byteLength;const M=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:m});for(let P=0,O=d.length;P<O;P++){const k=d[P];k.onProgress&&k.onProgress(M)}w.enqueue(C),A()}},E=>{w.error(E)})}}});return new Response(y)}else throw new HNe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a==="")return u.text();{const c=/charset="?([^;"\s]*)"?/i.exec(a),f=c&&c[1]?c[1].toLowerCase():void 0,m=new TextDecoder(f);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Jc.add(`file:${e}`,u);const d=td[e];delete td[e];for(let c=0,f=d.length;c<f;c++){const m=d[c];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=td[e];if(d===void 0)throw this.manager.itemError(e),u;delete td[e];for(let c=0,f=d.length;c<f;c++){const m=d[c];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class GNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new no(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):Vn(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=ev.parse(e[r]);t.push(i)}return t}}class VNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new VC,l=new no(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(c){l.load(e[c],function(f){const m=s.parse(f,!0);o[c]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Rr),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let c=0,f=e.length;c<f;++c)d(c);else l.load(e,function(c){const f=s.parse(c,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let b=0;b<f.mipmapCount;b++)o[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+b]),o[v].format=f.format,o[v].width=f.width,o[v].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Rr),a.format=f.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}const Og=new WeakMap;class Ab extends ro{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Jc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let c=Og.get(o);c===void 0&&(c=[],Og.set(o,c)),c.push({onLoad:t,onError:i})}return o}const a=xb("img");function l(){d(),t&&t(this);const c=Og.get(this)||[];for(let f=0;f<c.length;f++){const m=c[f];m.onLoad&&m.onLoad(this)}Og.delete(this),s.manager.itemEnd(e)}function u(c){d(),i&&i(c),Jc.remove(`image:${e}`);const f=Og.get(this)||[];for(let m=0;m<f.length;m++){const v=f[m];v.onError&&v.onError(c)}Og.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),Jc.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class wQ extends ro{constructor(e){super(e)}load(e,t,r,i){const s=new i_;s.colorSpace=zo;const o=new Ab(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class KB extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xl,a=new no(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(d){if(i!==void 0)i(d);else{d(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Mi,o.wrapT=u.wrapT!==void 0?u.wrapT:Mi,o.magFilter=u.magFilter!==void 0?u.magFilter:Rr,o.minFilter=u.minFilter!==void 0?u.minFilter:Rr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ml),u.mipmapCount===1&&(o.minFilter=Rr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},r,i),o}}class SQ extends ro{constructor(e){super(e)}load(e,t,r,i){const s=new zr,o=new Ab(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class fh extends Sr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Xt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class AQ extends fh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Sr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Xt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const WN=new Bn,Q9=new de,eG=new de;class YB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xt(512,512),this.mapType=qo,this.map=null,this.mapPass=null,this.matrix=new Bn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Sv,this._frameExtents=new xt(1,1),this._viewportCount=1,this._viewports=[new Pr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Q9.setFromMatrixPosition(e.matrixWorld),t.position.copy(Q9),eG.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eG),t.updateMatrixWorld(),WN.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WN,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(WN)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class WNe extends YB{constructor(){super(new Li(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=J0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class JB extends fh{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Sr.DEFAULT_UP),this.updateMatrix(),this.target=new Sr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new WNe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tG=new Bn,jy=new de,$N=new de;class $Ne extends YB{constructor(){super(new Li(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xt(4,2),this._viewportCount=6,this._viewports=[new Pr(2,1,1,1),new Pr(0,1,1,1),new Pr(3,1,1,1),new Pr(1,1,1,1),new Pr(3,0,1,1),new Pr(1,0,1,1)],this._cubeDirections=[new de(1,0,0),new de(-1,0,0),new de(0,0,1),new de(0,0,-1),new de(0,1,0),new de(0,-1,0)],this._cubeUps=[new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,0,1),new de(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),jy.setFromMatrixPosition(e.matrixWorld),r.position.copy(jy),$N.copy(r.position),$N.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt($N),r.updateMatrixWorld(),i.makeTranslation(-jy.x,-jy.y,-jy.z),tG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tG,r.coordinateSystem,r.reversedDepth)}}class ZB extends fh{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new $Ne}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nu extends r_{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class qNe extends YB{constructor(){super(new nu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class QB extends fh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sr.DEFAULT_UP),this.updateMatrix(),this.target=new Sr,this.shadow=new qNe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EQ extends fh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class CQ extends fh{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class MQ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new de)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class TQ extends fh{constructor(e=new MQ,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class iM extends ro{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new no(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):Vn(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&tn("MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Xt().setHex(o.value);break;case"v2":i.uniforms[s].value=new xt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new de().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Pr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new er().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Bn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new xt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new xt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return iM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:lQ,SpriteMaterial:NB,RawShaderMaterial:cQ,ShaderMaterial:Xo,PointsMaterial:GC,MeshPhysicalMaterial:Al,MeshStandardMaterial:h_,MeshPhongMaterial:uQ,MeshToonMaterial:dQ,MeshNormalMaterial:fQ,MeshLambertMaterial:hQ,MeshDepthMaterial:VB,MeshDistanceMaterial:WB,MeshBasicMaterial:da,MeshMatcapMaterial:pQ,LineDashedMaterial:mQ,LineBasicMaterial:Co,Material:Ss};return new t[e]}}class Vf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class PQ extends Yn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class RQ extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new no(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):Vn(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const y=m.interleavedBuffers[v],w=s(m,y.buffer),A=Gg(y.type,w),E=new o_(A,y.stride);return E.uuid=y.uuid,t[v]=E,E}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],w=new Uint32Array(y).buffer;return r[v]=w,w}const o=e.isInstancedBufferGeometry?new PQ:new Yn,a=e.data.index;if(a!==void 0){const m=Gg(a.type,a.array);o.setIndex(new Nr(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let b;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);b=new Zf(y,v.itemSize,v.offset,v.normalized)}else{const y=Gg(v.type,v.array),w=v.isInstancedBufferAttribute?am:Nr;b=new w(y,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),o.setAttribute(m,b)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],b=[];for(let y=0,w=v.length;y<w;y++){const A=v[y];let E;if(A.isInterleavedBufferAttribute){const C=i(e.data,A.data);E=new Zf(C,A.itemSize,A.offset,A.normalized)}else{const C=Gg(A.type,A.array);E=new Nr(C,A.itemSize,A.normalized)}A.name!==void 0&&(E.name=A.name),b.push(E)}o.morphAttributes[m]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let m=0,v=c.length;m!==v;++m){const b=c[m];o.addGroup(b.start,b.count,b.materialIndex)}const f=e.data.boundingSphere;return f!==void 0&&(o.boundingSphere=new Hs().fromJSON(f)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class XNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Vf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new no(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(c){i!==void 0&&i(c),c("ObjectLoader: Can't parse "+e+".",c.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),Vn("ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Vf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new no(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let c=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){c=!0;break}c===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $p().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new a_().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new RQ;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Z9?a=Z9[l.type].fromJSON(l,t):tn(`ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new iM;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ev.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return l.data?{data:Gg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new rM(t);s=new Ab(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const c=e[u],f=c.url;if(Array.isArray(f)){const m=[];for(let v=0,b=f.length;v<b;v++){const y=f[v],w=a(y);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new xl(w.data,w.width,w.height)))}i[c.uuid]=new kf(m)}else{const m=a(c.url);i[c.uuid]=new kf(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Gg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Ab(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let c=0,f=u.length;c<f;c++){const m=u[c],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new xl(v.data,v.width,v.height)))}r[l.uuid]=new kf(d)}else{const d=await s(l.url);r[l.uuid]=new kf(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(tn("ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&tn('ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&tn("ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new i_,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new xl:d=new zr,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,KNe)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],nG),d.wrapT=r(a.wrap[1],nG)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,rG)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,rG)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(f){return t[f]===void 0&&tn("ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,b=f.length;v<b;v++){const y=f[v];r[y]===void 0&&tn("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[f]===void 0&&tn("ObjectLoader: Undefined material",f),r[f]}}function u(f){return i[f]===void 0&&tn("ObjectLoader: Undefined texture",f),i[f]}let d,c;switch(e.type){case"Scene":o=new s_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Xt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new UC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new jC(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Li(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new nu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new EQ(e.color,e.intensity);break;case"DirectionalLight":o=new QB(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new ZB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new CQ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new JB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new AQ(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new TQ().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),c=l(e.material),o=new IB(d,c),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),c=l(e.material),o=new Pi(d,c);break;case"InstancedMesh":d=a(e.geometry),c=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new OB(d,c,f),o.instanceMatrix=new am(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new am(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),c=l(e.material),o=new KZ(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,c),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(b=>{let y=null,w=null;return b.boundingBox!==void 0&&(y=new zs().fromJSON(b.boundingBox)),b.boundingSphere!==void 0&&(w=new Hs().fromJSON(b.boundingSphere)),{...b,boundingBox:y,boundingSphere:w}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Hs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new zs().fromJSON(e.boundingBox));break;case"LOD":o=new XZ;break;case"Line":o=new Ad(a(e.geometry),l(e.material));break;case"LineLoop":o=new FB(a(e.geometry),l(e.material));break;case"LineSegments":o=new yc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new DB(a(e.geometry),l(e.material));break;case"Sprite":o=new qZ(l(e.material));break;case"Group":o=new dd;break;case"Bone":o=new zC;break;default:o=new Sr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],t,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],b=o.getObjectByProperty("uuid",v.object);b!==void 0&&o.addLevel(b,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?tn("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new Sr}})}}const KNe={UVMapping:Xf,CubeReflectionMapping:du,CubeRefractionMapping:Kf,EquirectangularReflectionMapping:z0,EquirectangularRefractionMapping:mb,CubeUVReflectionMapping:wv},nG={RepeatWrapping:Yf,ClampToEdgeWrapping:Mi,MirroredRepeatWrapping:H0},rG={NearestFilter:js,NearestMipmapNearestFilter:TC,NearestMipmapLinearFilter:Tp,LinearFilter:Rr,LinearMipmapNearestFilter:l0,LinearMipmapLinearFilter:ml},qN=new WeakMap;class NQ extends ro{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&tn("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&tn("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Jc.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{if(qN.has(o)===!0)i&&i(qN.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Jc.add(`image-bitmap:${e}`,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),qN.set(l,u),Jc.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Jc.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let pw,ek=class{static getContext(){return pw===void 0&&(pw=new(window.AudioContext||window.webkitAudioContext)),pw}static setContext(e){pw=e}};class YNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new no(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);ek.getContext().decodeAudioData(u,function(c){t(c)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):Vn(l),s.manager.itemError(e)}}}const iG=new Bn,sG=new Bn,ip=new Bn;class JNe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Li,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Li,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ip.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Vp*t.fov*.5)/t.zoom;let a,l;sG.elements[12]=-i,iG.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ip.elements[0]=2*t.near/(l-a),ip.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ip),a=-o*t.aspect-s,l=o*t.aspect-s,ip.elements[0]=2*t.near/(l-a),ip.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ip)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sG),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(iG)}}class IQ extends Li{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class tk{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const sp=new de,XN=new Us,ZNe=new de,op=new de,ap=new de;class QNe extends Sr{constructor(){super(),this.type="AudioListener",this.context=ek.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tk}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sp,XN,ZNe),op.set(0,0,-1).applyQuaternion(XN),ap.set(0,1,0).applyQuaternion(XN),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sp.x,r),t.positionY.linearRampToValueAtTime(sp.y,r),t.positionZ.linearRampToValueAtTime(sp.z,r),t.forwardX.linearRampToValueAtTime(op.x,r),t.forwardY.linearRampToValueAtTime(op.y,r),t.forwardZ.linearRampToValueAtTime(op.z,r),t.upX.linearRampToValueAtTime(ap.x,r),t.upY.linearRampToValueAtTime(ap.y,r),t.upZ.linearRampToValueAtTime(ap.z,r)}else t.setPosition(sp.x,sp.y,sp.z),t.setOrientation(op.x,op.y,op.z,ap.x,ap.y,ap.z)}}let OQ=class extends Sr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){tn("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){tn("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){tn("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){tn("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){tn("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(tn("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){tn("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(tn("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}};const lp=new de,oG=new Us,e3e=new de,cp=new de;class t3e extends OQ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(lp,oG,e3e),cp.set(0,0,1).applyQuaternion(oG);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(lp.x,r),t.positionY.linearRampToValueAtTime(lp.y,r),t.positionZ.linearRampToValueAtTime(lp.z,r),t.orientationX.linearRampToValueAtTime(cp.x,r),t.orientationY.linearRampToValueAtTime(cp.y,r),t.orientationZ.linearRampToValueAtTime(cp.z,r)}else t.setPosition(lp.x,lp.y,lp.z),t.setOrientation(cp.x,cp.y,cp.z)}}class n3e{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class FQ{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Us.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Us.multiplyQuaternionsFlat(e,o,e,t,e,r),Us.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const nk="\\[\\]\\.:\\/",r3e=new RegExp("["+nk+"]","g"),rk="[^"+nk+"]",i3e="[^"+nk.replace("\\.","")+"]",s3e=/((?:WC+[\/:])*)/.source.replace("WC",rk),o3e=/(WCOD+)?/.source.replace("WCOD",i3e),a3e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rk),l3e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rk),c3e=new RegExp("^"+s3e+o3e+a3e+l3e+"$"),u3e=["material","materials","bones","map"];class d3e{constructor(e,t,r){const i=r||Cr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Cr{constructor(e,t,r){this.path=t,this.parsedPath=r||Cr.parseTrackName(t),this.node=Cr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Cr.Composite(e,t,r):new Cr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(r3e,"")}static parseTrackName(e){const t=c3e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);u3e.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Cr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){tn("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){Vn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Vn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Vn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Vn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Vn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){Vn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){Vn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;Vn("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Vn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Vn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Cr.Composite=d3e;Cr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Cr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Cr.prototype.GetterByBindingType=[Cr.prototype._getValue_direct,Cr.prototype._getValue_array,Cr.prototype._getValue_arrayElement,Cr.prototype._getValue_toArray];Cr.prototype.SetterByBindingTypeAndVersioning=[[Cr.prototype._setValue_direct,Cr.prototype._setValue_direct_setNeedsUpdate,Cr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_array,Cr.prototype._setValue_array_setNeedsUpdate,Cr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_arrayElement,Cr.prototype._setValue_arrayElement_setNeedsUpdate,Cr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_fromArray,Cr.prototype._setValue_fromArray_setNeedsUpdate,Cr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class f3e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ja(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,c=arguments.length;d!==c;++d){const f=arguments[d],m=f.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(f);for(let b=0,y=o;b!==y;++b)s[b].push(new Cr(f,r[b],i[b]))}else if(v<u){a=e[v];const b=--u,y=e[b];t[y.uuid]=v,e[v]=y,t[m]=b,e[b]=f;for(let w=0,A=o;w!==A;++w){const E=s[w],C=E[b];let M=E[v];E[v]=C,M===void 0&&(M=new Cr(f,r[w],i[w])),E[b]=M}}else e[v]!==a&&Vn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const c=s++,f=e[c];t[f.uuid]=d,e[d]=f,t[u]=c,e[c]=l;for(let m=0,v=i;m!==v;++m){const b=r[m],y=b[c],w=b[d];b[d]=y,b[c]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,c=t[d];if(c!==void 0)if(delete t[d],c<s){const f=--s,m=e[f],v=--o,b=e[v];t[m.uuid]=c,e[c]=m,t[b.uuid]=f,e[f]=b,e.pop();for(let y=0,w=i;y!==w;++y){const A=r[y],E=A[f],C=A[v];A[c]=E,A[f]=C,A.pop()}}else{const f=--o,m=e[f];f>0&&(t[m.uuid]=c),e[c]=m,e.pop();for(let v=0,b=i;v!==b;++v){const y=r[v];y[c]=y[f],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,c=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(c);for(let f=d,m=l.length;f!==m;++f){const v=l[f];c[f]=new Cr(v,e,t)}return c}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class DQ{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Pp,endingEnd:Pp};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=wB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case SB:for(let d=0,c=l.length;d!==c;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case BC:default:for(let d=0,c=l.length;d!==c;++d)l[d].evaluate(o),u[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===CZ;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===EZ){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Rp,i.endingEnd=Rp):(e?i.endingStart=this.zeroSlopeAtStart?Rp:Pp:i.endingStart=gb,t?i.endingEnd=this.zeroSlopeAtEnd?Rp:Pp:i.endingEnd=gb)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const h3e=new Float32Array(1);class BQ extends xu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let c=0;c!==s;++c){const f=i[c],m=f.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[c]=v;else{if(v=o[c],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const b=t&&t._propertyBindings[c].binding.parsedPath;v=new FQ(Cr.create(r,m,b),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[c]=v}a[c].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const c=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete c[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new qB(new Float32Array(2),new Float32Array(2),1,h3e),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?ev.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=BC),l!==void 0){const c=l.actionByRoot[s];if(c!==void 0&&c.blendMode===r)return c;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new DQ(this,o,t,r);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?ev.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=d,t[d]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class p3e extends MB{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new LC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class ik{constructor(e){this.value=e}clone(){return new ik(this.value.clone===void 0?this.value:this.value.clone())}}let m3e=0;class g3e extends xu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:m3e++}),this.name="",this.usage=yb,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class v3e extends o_{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class y3e{constructor(e,t,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const aG=new Bn;class sk{constructor(e,t,r=0,i=1/0){this.ray=new bm(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Wp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Vn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return aG.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(aG),this}intersectObject(e,t=!0,r=[]){return qO(e,this,r,t),r.sort(lG),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)qO(e[i],this,r,t);return r.sort(lG),r}}function lG(n,e){return n.distance-e.distance}function qO(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)qO(s[o],e,t,!0)}}class x3e{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=b3e.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function b3e(){this._document.hidden===!1&&this.reset()}class XO{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=zn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(zn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class _3e{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class ok{constructor(e,t,r,i){ok.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=r,s[3]=i,this}}const cG=new xt;class w3e{constructor(e=new xt(1/0,1/0),t=new xt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=cG.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cG).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uG=new de,mw=new de,Fg=new de,Dg=new de,KN=new de,S3e=new de,A3e=new de;class E3e{constructor(e=new de,t=new de){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){uG.subVectors(e,this.start),mw.subVectors(this.end,this.start);const r=mw.dot(mw);let s=mw.dot(uG)/r;return t&&(s=zn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=S3e,r=A3e){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,u=this.end,d=e.end;Fg.subVectors(u,a),Dg.subVectors(d,l),KN.subVectors(a,l);const c=Fg.dot(Fg),f=Dg.dot(Dg),m=Dg.dot(KN);if(c<=i&&f<=i)return t.copy(a),r.copy(l),t.sub(r),t.dot(t);if(c<=i)s=0,o=m/f,o=zn(o,0,1);else{const v=Fg.dot(KN);if(f<=i)o=0,s=zn(-v/c,0,1);else{const b=Fg.dot(Dg),y=c*f-b*b;y!==0?s=zn((b*m-v*f)/y,0,1):s=0,o=(b*s+m)/f,o<0?(o=0,s=zn(-v/c,0,1)):o>1&&(o=1,s=zn((b-v)/c,0,1))}}return t.copy(a).add(Fg.multiplyScalar(s)),r.copy(l).add(Dg.multiplyScalar(o)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dG=new de;class C3e extends Sr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Yn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new gn(i,3));const s=new Co({fog:!1,toneMapped:!1});this.cone=new yc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _f=new de,gw=new Bn,YN=new Bn;class M3e extends yc{constructor(e){const t=kQ(e),r=new Yn,i=[],s=[];for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new gn(i,3)),r.setAttribute("color",new gn(s,3));const o=new Co({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Xt(255),l=new Xt(65280);this.setColors(a,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");YN.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(gw.multiplyMatrices(YN,a.matrixWorld),_f.setFromMatrixPosition(gw),i.setXYZ(o,_f.x,_f.y,_f.z),gw.multiplyMatrices(YN,a.parent.matrixWorld),_f.setFromMatrixPosition(gw),i.setXYZ(o+1,_f.x,_f.y,_f.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function kQ(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...kQ(n.children[t]));return e}class T3e extends Pi{constructor(e,t,r){const i=new f_(t,4,2),s=new da({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const P3e=new de,fG=new Xt,hG=new Xt;class R3e extends Sr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new d_(t);i.rotateY(Math.PI*.5),this.material=new da({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Nr(o,3)),this.add(new Pi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");fG.copy(this.light.color),hG.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?fG:hG;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(P3e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class N3e extends yc{constructor(e=10,t=10,r=4473924,i=8947848){r=new Xt(r),i=new Xt(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let f=0,m=0,v=-a;f<=t;f++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const b=f===s?r:i;b.toArray(u,m),m+=3,b.toArray(u,m),m+=3,b.toArray(u,m),m+=3,b.toArray(u,m),m+=3}const d=new Yn;d.setAttribute("position",new gn(l,3)),d.setAttribute("color",new gn(u,3));const c=new Co({vertexColors:!0,toneMapped:!1});super(d,c),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class I3e extends yc{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Xt(s),o=new Xt(o);const a=[],l=[];if(t>1)for(let c=0;c<t;c++){const f=c/t*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,v);const b=c&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let c=0;c<r;c++){const f=c&1?s:o,m=e-e/r*c;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),y=Math.sin(b)*m,w=Math.cos(b)*m;a.push(y,0,w),l.push(f.r,f.g,f.b),b=(v+1)/i*(Math.PI*2),y=Math.sin(b)*m,w=Math.cos(b)*m,a.push(y,0,w),l.push(f.r,f.g,f.b)}}const u=new Yn;u.setAttribute("position",new gn(a,3)),u.setAttribute("color",new gn(l,3));const d=new Co({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const pG=new de,vw=new de,mG=new de;class O3e extends Sr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Yn;i.setAttribute("position",new gn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Co({fog:!1,toneMapped:!1});this.lightPlane=new Ad(i,s),this.add(this.lightPlane),i=new Yn,i.setAttribute("position",new gn([0,0,0,0,0,1],3)),this.targetLine=new Ad(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),pG.setFromMatrixPosition(this.light.matrixWorld),vw.setFromMatrixPosition(this.light.target.matrixWorld),mG.subVectors(vw,pG),this.lightPlane.lookAt(vw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vw),this.targetLine.scale.z=mG.length()}}const yw=new de,Fi=new r_;class F3e extends yc{constructor(e){const t=new Yn,r=new Co({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,b){l(v),l(b)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new gn(i,3)),t.setAttribute("color",new gn(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Xt(16755200),d=new Xt(16711680),c=new Xt(43775),f=new Xt(16777215),m=new Xt(3355443);this.setColors(u,d,c,f,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let s,o;if(Fi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===ka)s=-1,o=1;else if(this.camera.coordinateSystem===K0)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Vi("c",t,e,Fi,0,0,s),Vi("t",t,e,Fi,0,0,o),Vi("n1",t,e,Fi,-r,-i,s),Vi("n2",t,e,Fi,r,-i,s),Vi("n3",t,e,Fi,-r,i,s),Vi("n4",t,e,Fi,r,i,s),Vi("f1",t,e,Fi,-r,-i,o),Vi("f2",t,e,Fi,r,-i,o),Vi("f3",t,e,Fi,-r,i,o),Vi("f4",t,e,Fi,r,i,o),Vi("u1",t,e,Fi,r*.7,i*1.1,s),Vi("u2",t,e,Fi,-r*.7,i*1.1,s),Vi("u3",t,e,Fi,0,i*2,s),Vi("cf1",t,e,Fi,-r,0,o),Vi("cf2",t,e,Fi,r,0,o),Vi("cf3",t,e,Fi,0,-i,o),Vi("cf4",t,e,Fi,0,i,o),Vi("cn1",t,e,Fi,-r,0,s),Vi("cn2",t,e,Fi,r,0,s),Vi("cn3",t,e,Fi,0,-i,s),Vi("cn4",t,e,Fi,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vi(n,e,t,r,i,s,o){yw.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],yw.x,yw.y,yw.z)}}const xw=new zs;class D3e extends yc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new Yn;s.setIndex(new Nr(r,1)),s.setAttribute("position",new Nr(i,3)),super(s,new Co({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&xw.setFromObject(this.object),xw.isEmpty())return;const e=xw.min,t=xw.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class B3e extends yc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Yn;s.setIndex(new Nr(r,1)),s.setAttribute("position",new gn(i,3)),super(s,new Co({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class k3e extends Ad{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Yn;o.setAttribute("position",new gn(s,3)),o.computeBoundingSphere(),super(o,new Co({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Yn;l.setAttribute("position",new gn(a,3)),l.computeBoundingSphere(),this.add(new Pi(l,new da({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gG=new de;let bw,JN;class L3e extends Sr{constructor(e=new de(0,0,1),t=new de(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",bw===void 0&&(bw=new Yn,bw.setAttribute("position",new gn([0,0,0,0,1,0],3)),JN=new c_(.5,1,5,1),JN.translate(0,-.5,0)),this.position.copy(t),this.line=new Ad(bw,new Co({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pi(JN,new da({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gG.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gG,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class j3e extends yc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Yn;i.setAttribute("position",new gn(t,3)),i.setAttribute("color",new gn(r,3));const s=new Co({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Xt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class U3e{constructor(){this.type="ShapePath",this.color=new Xt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new tE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const A=[];for(let E=0,C=w.length;E<C;E++){const M=w[E],P=new $p;P.curves=M.curves,A.push(P)}return A}function r(w,A){const E=A.length;let C=!1;for(let M=E-1,P=0;P<E;M=P++){let O=A[M],k=A[P],D=k.x-O.x,I=k.y-O.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(O=A[P],D=-D,k=A[M],I=-I),w.y<O.y||w.y>k.y)continue;if(w.y===O.y){if(w.x===O.x)return!0}else{const L=I*(w.x-O.x)-D*(w.y-O.y);if(L===0)return!0;if(L<0)continue;C=!C}}else{if(w.y!==O.y)continue;if(k.x<=w.x&&w.x<=O.x||O.x<=w.x&&w.x<=k.x)return!0}}return C}const i=cc.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new $p,l.curves=a.curves,u.push(l),u;let d=!i(s[0].getPoints());d=e?!d:d;const c=[],f=[];let m=[],v=0,b;f[v]=void 0,m[v]=[];for(let w=0,A=s.length;w<A;w++)a=s[w],b=a.getPoints(),o=i(b),o=e?!o:o,o?(!d&&f[v]&&v++,f[v]={s:new $p,p:b},f[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:b[0]});if(!f[0])return t(s);if(f.length>1){let w=!1,A=0;for(let E=0,C=f.length;E<C;E++)c[E]=[];for(let E=0,C=f.length;E<C;E++){const M=m[E];for(let P=0;P<M.length;P++){const O=M[P];let k=!0;for(let D=0;D<f.length;D++)r(O.p,f[D].p)&&(E!==D&&A++,k?(k=!1,c[D].push(O)):w=!0);k&&c[E].push(O)}}A>0&&w===!1&&(m=c)}let y;for(let w=0,A=f.length;w<A;w++){l=f[w].s,u.push(l),y=m[w];for(let E=0,C=y.length;E<C;E++)l.holes.push(y[E].h)}return u}}class z3e extends xu{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){tn("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function H3e(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function G3e(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function V3e(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function KO(n,e,t,r){const i=W3e(r);switch(t){case bB:return n*e;case t_:return n*e/i.components*i.byteLength;case n_:return n*e/i.components*i.byteLength;case OC:return n*e*2/i.components*i.byteLength;case FC:return n*e*2/i.components*i.byteLength;case _B:return n*e*3/i.components*i.byteLength;case $i:return n*e*4/i.components*i.byteLength;case DC:return n*e*4/i.components*i.byteLength;case ux:case dx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case fx:case hx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case AA:case CA:return Math.max(n,16)*Math.max(e,8)/4;case SA:case EA:return Math.max(n,8)*Math.max(e,8)/2;case MA:case TA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case PA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case RA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case NA:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case IA:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case OA:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case FA:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case DA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case BA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case kA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case LA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case jA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case UA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case zA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case HA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case GA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case VA:case WA:case $A:return Math.ceil(n/4)*Math.ceil(e/4)*16;case qA:case XA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case KA:case YA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function W3e(n){switch(n){case qo:case PC:return{byteLength:1,components:1};case G0:case RC:case ws:return{byteLength:2,components:1};case NC:case IC:return{byteLength:2,components:4};case fu:case e_:case Ti:return{byteLength:4,components:1};case yB:case xB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class $3e{static contain(e,t){return H3e(e,t)}static cover(e,t){return G3e(e,t)}static fill(e){return V3e(e)}static getByteLength(e,t,r,i){return KO(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Zb}}));typeof window<"u"&&(window.__THREE__?tn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Zb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function LQ(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function q3e(n){const e=new WeakMap;function t(a,l){const u=a.array,d=a.usage,c=u.byteLength,f=n.createBuffer();n.bindBuffer(l,f),n.bufferData(l,u,d),a.onUploadCallback();let m;if(u instanceof Float32Array)m=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=n.HALF_FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=n.SHORT;else if(u instanceof Uint32Array)m=n.UNSIGNED_INT;else if(u instanceof Int32Array)m=n.INT;else if(u instanceof Int8Array)m=n.BYTE;else if(u instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:c}}function r(a,l,u){const d=l.array,c=l.updateRanges;if(n.bindBuffer(u,a),c.length===0)n.bufferSubData(u,0,d);else{c.sort((m,v)=>m.start-v.start);let f=0;for(let m=1;m<c.length;m++){const v=c[f],b=c[m];b.start<=v.start+v.count+1?v.count=Math.max(v.count,b.start+b.count-v.start):(++f,c[f]=b)}c.length=f+1;for(let m=0,v=c.length;m<v;m++){const b=c[m];n.bufferSubData(u,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,t(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}var X3e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,K3e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Y3e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,J3e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Z3e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Q3e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,eIe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tIe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nIe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,rIe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,iIe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,sIe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oIe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,aIe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lIe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cIe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,uIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fIe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hIe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,gIe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,vIe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,yIe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xIe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bIe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_Ie=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,wIe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,SIe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,AIe="gl_FragColor = linearToOutputTexel( gl_FragColor );",EIe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MIe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,TIe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,PIe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,RIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,NIe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IIe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,OIe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,FIe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,DIe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,BIe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,kIe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,LIe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jIe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,UIe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,zIe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,HIe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,GIe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,VIe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,WIe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,$Ie=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qIe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,XIe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KIe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,YIe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,JIe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ZIe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QIe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,eOe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,tOe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,nOe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,rOe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,iOe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,sOe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,oOe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,aOe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,lOe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,cOe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,uOe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,dOe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,fOe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,pOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mOe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,gOe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,vOe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,yOe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,xOe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,bOe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_Oe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,wOe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,SOe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AOe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,EOe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,COe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,MOe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,TOe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,POe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,ROe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,NOe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,IOe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,OOe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,FOe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,DOe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,BOe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,kOe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,LOe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jOe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,UOe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zOe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,HOe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,GOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,VOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,WOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$Oe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qOe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,XOe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YOe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZOe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QOe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,eFe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,tFe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nFe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rFe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iFe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sFe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oFe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aFe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lFe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cFe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uFe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dFe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fFe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hFe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,pFe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mFe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gFe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vFe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yFe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xFe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bFe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Fe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,wFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SFe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AFe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,EFe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cr={alphahash_fragment:X3e,alphahash_pars_fragment:K3e,alphamap_fragment:Y3e,alphamap_pars_fragment:J3e,alphatest_fragment:Z3e,alphatest_pars_fragment:Q3e,aomap_fragment:eIe,aomap_pars_fragment:tIe,batching_pars_vertex:nIe,batching_vertex:rIe,begin_vertex:iIe,beginnormal_vertex:sIe,bsdfs:oIe,iridescence_fragment:aIe,bumpmap_pars_fragment:lIe,clipping_planes_fragment:cIe,clipping_planes_pars_fragment:uIe,clipping_planes_pars_vertex:dIe,clipping_planes_vertex:fIe,color_fragment:hIe,color_pars_fragment:pIe,color_pars_vertex:mIe,color_vertex:gIe,common:vIe,cube_uv_reflection_fragment:yIe,defaultnormal_vertex:xIe,displacementmap_pars_vertex:bIe,displacementmap_vertex:_Ie,emissivemap_fragment:wIe,emissivemap_pars_fragment:SIe,colorspace_fragment:AIe,colorspace_pars_fragment:EIe,envmap_fragment:CIe,envmap_common_pars_fragment:MIe,envmap_pars_fragment:TIe,envmap_pars_vertex:PIe,envmap_physical_pars_fragment:UIe,envmap_vertex:RIe,fog_vertex:NIe,fog_pars_vertex:IIe,fog_fragment:OIe,fog_pars_fragment:FIe,gradientmap_pars_fragment:DIe,lightmap_pars_fragment:BIe,lights_lambert_fragment:kIe,lights_lambert_pars_fragment:LIe,lights_pars_begin:jIe,lights_toon_fragment:zIe,lights_toon_pars_fragment:HIe,lights_phong_fragment:GIe,lights_phong_pars_fragment:VIe,lights_physical_fragment:WIe,lights_physical_pars_fragment:$Ie,lights_fragment_begin:qIe,lights_fragment_maps:XIe,lights_fragment_end:KIe,logdepthbuf_fragment:YIe,logdepthbuf_pars_fragment:JIe,logdepthbuf_pars_vertex:ZIe,logdepthbuf_vertex:QIe,map_fragment:eOe,map_pars_fragment:tOe,map_particle_fragment:nOe,map_particle_pars_fragment:rOe,metalnessmap_fragment:iOe,metalnessmap_pars_fragment:sOe,morphinstance_vertex:oOe,morphcolor_vertex:aOe,morphnormal_vertex:lOe,morphtarget_pars_vertex:cOe,morphtarget_vertex:uOe,normal_fragment_begin:dOe,normal_fragment_maps:fOe,normal_pars_fragment:hOe,normal_pars_vertex:pOe,normal_vertex:mOe,normalmap_pars_fragment:gOe,clearcoat_normal_fragment_begin:vOe,clearcoat_normal_fragment_maps:yOe,clearcoat_pars_fragment:xOe,iridescence_pars_fragment:bOe,opaque_fragment:_Oe,packing:wOe,premultiplied_alpha_fragment:SOe,project_vertex:AOe,dithering_fragment:EOe,dithering_pars_fragment:COe,roughnessmap_fragment:MOe,roughnessmap_pars_fragment:TOe,shadowmap_pars_fragment:POe,shadowmap_pars_vertex:ROe,shadowmap_vertex:NOe,shadowmask_pars_fragment:IOe,skinbase_vertex:OOe,skinning_pars_vertex:FOe,skinning_vertex:DOe,skinnormal_vertex:BOe,specularmap_fragment:kOe,specularmap_pars_fragment:LOe,tonemapping_fragment:jOe,tonemapping_pars_fragment:UOe,transmission_fragment:zOe,transmission_pars_fragment:HOe,uv_pars_fragment:GOe,uv_pars_vertex:VOe,uv_vertex:WOe,worldpos_vertex:$Oe,background_vert:qOe,background_frag:XOe,backgroundCube_vert:KOe,backgroundCube_frag:YOe,cube_vert:JOe,cube_frag:ZOe,depth_vert:QOe,depth_frag:eFe,distanceRGBA_vert:tFe,distanceRGBA_frag:nFe,equirect_vert:rFe,equirect_frag:iFe,linedashed_vert:sFe,linedashed_frag:oFe,meshbasic_vert:aFe,meshbasic_frag:lFe,meshlambert_vert:cFe,meshlambert_frag:uFe,meshmatcap_vert:dFe,meshmatcap_frag:fFe,meshnormal_vert:hFe,meshnormal_frag:pFe,meshphong_vert:mFe,meshphong_frag:gFe,meshphysical_vert:vFe,meshphysical_frag:yFe,meshtoon_vert:xFe,meshtoon_frag:bFe,points_vert:_Fe,points_frag:wFe,shadow_vert:SFe,shadow_frag:AFe,sprite_vert:EFe,sprite_frag:CFe},en={common:{diffuse:{value:new Xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new er},alphaMap:{value:null},alphaMapTransform:{value:new er},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new er}},envmap:{envMap:{value:null},envMapRotation:{value:new er},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new er}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new er}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new er},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new er},normalScale:{value:new xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new er},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new er}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new er}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new er}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new er},alphaTest:{value:0},uvTransform:{value:new er}},sprite:{diffuse:{value:new Xt(16777215)},opacity:{value:1},center:{value:new xt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new er},alphaMap:{value:null},alphaMapTransform:{value:new er},alphaTest:{value:0}}},sc={basic:{uniforms:jo([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.fog]),vertexShader:cr.meshbasic_vert,fragmentShader:cr.meshbasic_frag},lambert:{uniforms:jo([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.fog,en.lights,{emissive:{value:new Xt(0)}}]),vertexShader:cr.meshlambert_vert,fragmentShader:cr.meshlambert_frag},phong:{uniforms:jo([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.fog,en.lights,{emissive:{value:new Xt(0)},specular:{value:new Xt(1118481)},shininess:{value:30}}]),vertexShader:cr.meshphong_vert,fragmentShader:cr.meshphong_frag},standard:{uniforms:jo([en.common,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.roughnessmap,en.metalnessmap,en.fog,en.lights,{emissive:{value:new Xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cr.meshphysical_vert,fragmentShader:cr.meshphysical_frag},toon:{uniforms:jo([en.common,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.gradientmap,en.fog,en.lights,{emissive:{value:new Xt(0)}}]),vertexShader:cr.meshtoon_vert,fragmentShader:cr.meshtoon_frag},matcap:{uniforms:jo([en.common,en.bumpmap,en.normalmap,en.displacementmap,en.fog,{matcap:{value:null}}]),vertexShader:cr.meshmatcap_vert,fragmentShader:cr.meshmatcap_frag},points:{uniforms:jo([en.points,en.fog]),vertexShader:cr.points_vert,fragmentShader:cr.points_frag},dashed:{uniforms:jo([en.common,en.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cr.linedashed_vert,fragmentShader:cr.linedashed_frag},depth:{uniforms:jo([en.common,en.displacementmap]),vertexShader:cr.depth_vert,fragmentShader:cr.depth_frag},normal:{uniforms:jo([en.common,en.bumpmap,en.normalmap,en.displacementmap,{opacity:{value:1}}]),vertexShader:cr.meshnormal_vert,fragmentShader:cr.meshnormal_frag},sprite:{uniforms:jo([en.sprite,en.fog]),vertexShader:cr.sprite_vert,fragmentShader:cr.sprite_frag},background:{uniforms:{uvTransform:{value:new er},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cr.background_vert,fragmentShader:cr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new er}},vertexShader:cr.backgroundCube_vert,fragmentShader:cr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cr.cube_vert,fragmentShader:cr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cr.equirect_vert,fragmentShader:cr.equirect_frag},distanceRGBA:{uniforms:jo([en.common,en.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cr.distanceRGBA_vert,fragmentShader:cr.distanceRGBA_frag},shadow:{uniforms:jo([en.lights,en.fog,{color:{value:new Xt(0)},opacity:{value:1}}]),vertexShader:cr.shadow_vert,fragmentShader:cr.shadow_frag}};sc.physical={uniforms:jo([sc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new er},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new er},clearcoatNormalScale:{value:new xt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new er},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new er},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new er},sheen:{value:0},sheenColor:{value:new Xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new er},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new er},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new er},transmissionSamplerSize:{value:new xt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new er},attenuationDistance:{value:0},attenuationColor:{value:new Xt(0)},specularColor:{value:new Xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new er},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new er},anisotropyVector:{value:new xt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new er}}]),vertexShader:cr.meshphysical_vert,fragmentShader:cr.meshphysical_frag};const _w={r:0,b:0,g:0},up=new Ua,MFe=new Bn;function TFe(n,e,t,r,i,s,o){const a=new Xt(0);let l=s===!0?0:1,u,d,c=null,f=0,m=null;function v(E){let C=E.isScene===!0?E.background:null;return C&&C.isTexture&&(C=(E.backgroundBlurriness>0?t:e).get(C)),C}function b(E){let C=!1;const M=v(E);M===null?w(a,l):M&&M.isColor&&(w(M,1),C=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||C)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(E,C){const M=v(C);M&&(M.isCubeTexture||M.mapping===wv)?(d===void 0&&(d=new Pi(new _m(1,1,1),new Xo({name:"BackgroundCubeMaterial",uniforms:Z0(sc.backgroundCube.uniforms),vertexShader:sc.backgroundCube.vertexShader,fragmentShader:sc.backgroundCube.fragmentShader,side:Wo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,O,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),up.copy(C.backgroundRotation),up.x*=-1,up.y*=-1,up.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(up.y*=-1,up.z*=-1),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(MFe.makeRotationFromEuler(up)),d.material.toneMapped=Mr.getTransfer(M.colorSpace)!==Vr,(c!==M||f!==M.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,c=M,f=M.version,m=n.toneMapping),d.layers.enableAll(),E.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new Pi(new dh(2,2),new Xo({name:"BackgroundMaterial",uniforms:Z0(sc.background.uniforms),vertexShader:sc.background.vertexShader,fragmentShader:sc.background.fragmentShader,side:uu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=M,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=Mr.getTransfer(M.colorSpace)!==Vr,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(c!==M||f!==M.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,c=M,f=M.version,m=n.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null))}function w(E,C){E.getRGB(_w,GZ(n)),r.buffers.color.setClear(_w.r,_w.g,_w.b,C,o)}function A(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(E,C=1){a.set(E),l=C,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,w(a,l)},render:b,addToRenderList:y,dispose:A}}function PFe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function a(I,L,W,q,K){let ie=!1;const V=c(q,W,L);s!==V&&(s=V,u(s.object)),ie=m(I,q,W,K),ie&&v(I,q,W,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(ie||o)&&(o=!1,C(I,L,W,q),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return n.createVertexArray()}function u(I){return n.bindVertexArray(I)}function d(I){return n.deleteVertexArray(I)}function c(I,L,W){const q=W.wireframe===!0;let K=r[I.id];K===void 0&&(K={},r[I.id]=K);let ie=K[L.id];ie===void 0&&(ie={},K[L.id]=ie);let V=ie[q];return V===void 0&&(V=f(l()),ie[q]=V),V}function f(I){const L=[],W=[],q=[];for(let K=0;K<t;K++)L[K]=0,W[K]=0,q[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:W,attributeDivisors:q,object:I,attributes:{},index:null}}function m(I,L,W,q){const K=s.attributes,ie=L.attributes;let V=0;const J=W.getAttributes();for(const H in J)if(J[H].location>=0){const ne=K[H];let Z=ie[H];if(Z===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(Z=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(Z=I.instanceColor)),ne===void 0||ne.attribute!==Z||Z&&ne.data!==Z.data)return!0;V++}return s.attributesNum!==V||s.index!==q}function v(I,L,W,q){const K={},ie=L.attributes;let V=0;const J=W.getAttributes();for(const H in J)if(J[H].location>=0){let ne=ie[H];ne===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(ne=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(ne=I.instanceColor));const Z={};Z.attribute=ne,ne&&ne.data&&(Z.data=ne.data),K[H]=Z,V++}s.attributes=K,s.attributesNum=V,s.index=q}function b(){const I=s.newAttributes;for(let L=0,W=I.length;L<W;L++)I[L]=0}function y(I){w(I,0)}function w(I,L){const W=s.newAttributes,q=s.enabledAttributes,K=s.attributeDivisors;W[I]=1,q[I]===0&&(n.enableVertexAttribArray(I),q[I]=1),K[I]!==L&&(n.vertexAttribDivisor(I,L),K[I]=L)}function A(){const I=s.newAttributes,L=s.enabledAttributes;for(let W=0,q=L.length;W<q;W++)L[W]!==I[W]&&(n.disableVertexAttribArray(W),L[W]=0)}function E(I,L,W,q,K,ie,V){V===!0?n.vertexAttribIPointer(I,L,W,K,ie):n.vertexAttribPointer(I,L,W,q,K,ie)}function C(I,L,W,q){b();const K=q.attributes,ie=W.getAttributes(),V=L.defaultAttributeValues;for(const J in ie){const H=ie[J];if(H.location>=0){let Y=K[J];if(Y===void 0&&(J==="instanceMatrix"&&I.instanceMatrix&&(Y=I.instanceMatrix),J==="instanceColor"&&I.instanceColor&&(Y=I.instanceColor)),Y!==void 0){const ne=Y.normalized,Z=Y.itemSize,oe=e.get(Y);if(oe===void 0)continue;const ye=oe.buffer,Be=oe.type,Xe=oe.bytesPerElement,we=Be===n.INT||Be===n.UNSIGNED_INT||Y.gpuType===e_;if(Y.isInterleavedBufferAttribute){const Ae=Y.data,ke=Ae.stride,Oe=Y.offset;if(Ae.isInstancedInterleavedBuffer){for(let Ge=0;Ge<H.locationSize;Ge++)w(H.location+Ge,Ae.meshPerAttribute);I.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Ge=0;Ge<H.locationSize;Ge++)y(H.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,ye);for(let Ge=0;Ge<H.locationSize;Ge++)E(H.location+Ge,Z/H.locationSize,Be,ne,ke*Xe,(Oe+Z/H.locationSize*Ge)*Xe,we)}else{if(Y.isInstancedBufferAttribute){for(let Ae=0;Ae<H.locationSize;Ae++)w(H.location+Ae,Y.meshPerAttribute);I.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Ae=0;Ae<H.locationSize;Ae++)y(H.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,ye);for(let Ae=0;Ae<H.locationSize;Ae++)E(H.location+Ae,Z/H.locationSize,Be,ne,Z*Xe,Z/H.locationSize*Ae*Xe,we)}}else if(V!==void 0){const ne=V[J];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(H.location,ne);break;case 3:n.vertexAttrib3fv(H.location,ne);break;case 4:n.vertexAttrib4fv(H.location,ne);break;default:n.vertexAttrib1fv(H.location,ne)}}}}A()}function M(){k();for(const I in r){const L=r[I];for(const W in L){const q=L[W];for(const K in q)d(q[K].object),delete q[K];delete L[W]}delete r[I]}}function P(I){if(r[I.id]===void 0)return;const L=r[I.id];for(const W in L){const q=L[W];for(const K in q)d(q[K].object),delete q[K];delete L[W]}delete r[I.id]}function O(I){for(const L in r){const W=r[L];if(W[I.id]===void 0)continue;const q=W[I.id];for(const K in q)d(q[K].object),delete q[K];delete W[I.id]}}function k(){D(),o=!0,s!==i&&(s=i,u(s.object))}function D(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:k,resetDefaultState:D,dispose:M,releaseStatesOfGeometry:P,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:y,disableUnusedAttributes:A}}function RFe(n,e,t){let r;function i(u){r=u}function s(u,d){n.drawArrays(r,u,d),t.update(d,r,1)}function o(u,d,c){c!==0&&(n.drawArraysInstanced(r,u,d,c),t.update(d,r,c))}function a(u,d,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,c);let m=0;for(let v=0;v<c;v++)m+=d[v];t.update(m,r,1)}function l(u,d,c,f){if(c===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<u.length;v++)o(u[v],d[v],f[v]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,d,0,f,0,c);let v=0;for(let b=0;b<c;b++)v+=d[b]*f[b];t.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function NFe(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(O){return!(O!==$i&&r.convert(O)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(O){const k=O===ws&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(O!==qo&&r.convert(O)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&O!==Ti&&!k)}function l(O){if(O==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=l(u);d!==u&&(tn("WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const c=t.logarithmicDepthBuffer===!0,f=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),w=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),E=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=v>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:c,reversedDepthBuffer:f,maxTextures:m,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:y,maxAttributes:w,maxVertexUniforms:A,maxVaryings:E,maxFragmentUniforms:C,vertexTextures:M,maxSamples:P}}function IFe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new id,a=new er,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(c,f){const m=c.length!==0||f||r!==0||i;return i=f,r=c.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(c,f){t=d(c,f,0)},this.setState=function(c,f,m){const v=c.clippingPlanes,b=c.clipIntersection,y=c.clipShadows,w=n.get(c);if(!i||v===null||v.length===0||s&&!y)s?d(null):u();else{const A=s?0:r,E=A*4;let C=w.clippingState||null;l.value=C,C=d(v,f,E,m);for(let M=0;M!==E;++M)C[M]=t[M];w.clippingState=C,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=A}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(c,f,m,v){const b=c!==null?c.length:0;let y=null;if(b!==0){if(y=l.value,v!==!0||y===null){const w=m+b*4,A=f.matrixWorldInverse;a.getNormalMatrix(A),(y===null||y.length<w)&&(y=new Float32Array(w));for(let E=0,C=m;E!==b;++E,C+=4)o.copy(c[E]).applyMatrix4(A,a),o.normal.toArray(y,C),y[C+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function OFe(n){let e=new WeakMap;function t(o,a){return a===z0?o.mapping=du:a===mb&&(o.mapping=Kf),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===z0||a===mb)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new RB(l.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Lf=4,vG=[.125,.215,.35,.446,.526,.582],_p=20,FFe=512,Uy=new nu,yG=new Xt;let ZN=null,QN=0,e3=0,t3=!1;const DFe=new de;class YO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,i=100,s={}){const{size:o=256,position:a=DFe}=s;ZN=this._renderer.getRenderTarget(),QN=this._renderer.getActiveCubeFace(),e3=this._renderer.getActiveMipmapLevel(),t3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_G(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bG(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(ZN,QN,e3),this._renderer.xr.enabled=t3,e.scissorTest=!1,Bg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===du||e.mapping===Kf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ZN=this._renderer.getRenderTarget(),QN=this._renderer.getActiveCubeFace(),e3=this._renderer.getActiveMipmapLevel(),t3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Rr,minFilter:Rr,generateMipmaps:!1,type:ws,format:$i,colorSpace:hu,depthBuffer:!1},i=xG(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=xG(e,t,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=BFe(s)),this._blurMaterial=LFe(s,e,t)}return i}_compileMaterial(e){const t=new Pi(new Yn,e);this._renderer.compile(t,Uy)}_sceneToCubeUV(e,t,r,i,s){const l=new Li(90,1,t,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,m=c.toneMapping;c.getClearColor(yG),c.toneMapping=tu,c.autoClear=!1,c.state.buffers.depth.getReversed()&&(c.setRenderTarget(i),c.clearDepth(),c.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Pi(new _m,new da({name:"PMREM.Background",side:Wo,depthWrite:!1,depthTest:!1})));const b=this._backgroundBox,y=b.material;let w=!1;const A=e.background;A?A.isColor&&(y.color.copy(A),e.background=null,w=!0):(y.color.copy(yG),w=!0);for(let E=0;E<6;E++){const C=E%3;C===0?(l.up.set(0,u[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[E],s.y,s.z)):C===1?(l.up.set(0,0,u[E]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[E],s.z)):(l.up.set(0,u[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[E]));const M=this._cubeSize;Bg(i,C*M,E>2?M:0,M,M),c.setRenderTarget(i),w&&c.render(b,l),c.render(e,l)}c.toneMapping=m,c.autoClear=f,e.background=A}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===du||e.mapping===Kf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=_G()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bG());const s=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=s;const a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Bg(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Uy)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);t.autoClear=r}_applyGGXFilter(e,t,r){const i=this._renderer,s=this._pingPongRenderTarget;if(this._ggxMaterial===null){const A=3*Math.max(this._cubeSize,16),E=4*this._cubeSize;this._ggxMaterial=kFe(this._lodMax,A,E)}const o=this._ggxMaterial,a=this._lodMeshes[r];a.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),d=t/(this._lodMeshes.length-1),c=Math.sqrt(u*u-d*d),f=.05+u*.95,m=c*f,{_lodMax:v}=this,b=this._sizeLods[r],y=3*b*(r>v-Lf?r-v+Lf:0),w=4*(this._cubeSize-b);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=v-t,Bg(s,y,w,3*b,2*b),i.setRenderTarget(s),i.render(a,Uy),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=v-r,Bg(e,y,w,3*b,2*b),i.setRenderTarget(e),i.render(a,Uy)}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Vn("blur direction must be either latitudinal or longitudinal!");const d=3,c=this._lodMeshes[i];c.material=u;const f=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*_p-1),b=s/v,y=isFinite(s)?1+Math.floor(d*b):_p;y>_p&&tn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${_p}`);const w=[];let A=0;for(let O=0;O<_p;++O){const k=O/b,D=Math.exp(-k*k/2);w.push(D),O===0?A+=D:O<y&&(A+=2*D)}for(let O=0;O<w.length;O++)w[O]=w[O]/A;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=w,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:E}=this;f.dTheta.value=v,f.mipInt.value=E-r;const C=this._sizeLods[i],M=3*C*(i>E-Lf?i-E+Lf:0),P=4*(this._cubeSize-C);Bg(t,M,P,3*C,2*C),l.setRenderTarget(t),l.render(c,Uy)}}function BFe(n){const e=[],t=[],r=[];let i=n;const s=n-Lf+1+vG.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);e.push(a);let l=1/a;o>n-Lf?l=vG[o-n+Lf-1]:o===0&&(l=0),t.push(l);const u=1/(a-2),d=-u,c=1+u,f=[d,d,c,d,c,c,d,d,c,c,d,c],m=6,v=6,b=3,y=2,w=1,A=new Float32Array(b*v*m),E=new Float32Array(y*v*m),C=new Float32Array(w*v*m);for(let P=0;P<m;P++){const O=P%3*2/3-1,k=P>2?0:-1,D=[O,k,0,O+2/3,k,0,O+2/3,k+1,0,O,k,0,O+2/3,k+1,0,O,k+1,0];A.set(D,b*v*P),E.set(f,y*v*P);const I=[P,P,P,P,P,P];C.set(I,w*v*P)}const M=new Yn;M.setAttribute("position",new Nr(A,b)),M.setAttribute("uv",new Nr(E,y)),M.setAttribute("faceIndex",new Nr(C,w)),r.push(new Pi(M,null)),i>Lf&&i--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function xG(n,e,t){const r=new wl(n,e,t);return r.texture.mapping=wv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Bg(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function kFe(n,e,t){return new Xo({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:FFe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:sM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function LFe(n,e,t){const r=new Float32Array(_p),i=new de(0,1,0);return new Xo({name:"SphericalGaussianBlur",defines:{n:_p,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:sM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function bG(){return new Xo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function _G(){return new Xo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function sM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jFe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===z0||l===mb,d=l===du||l===Kf;if(u||d){let c=e.get(a);const f=c!==void 0?c.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return t===null&&(t=new YO(n)),c=u?t.fromEquirectangular(a,c):t.fromCubemap(a,c),c.texture.pmremVersion=a.pmremVersion,e.set(a,c),c.texture;if(c!==void 0)return c.texture;{const m=a.image;return u&&m&&m.height>0||d&&m&&i(m)?(t===null&&(t=new YO(n)),c=u?t.fromEquirectangular(a):t.fromCubemap(a),c.texture.pmremVersion=a.pmremVersion,e.set(a,c),a.addEventListener("dispose",s),c.texture):null}}}return a}function i(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function UFe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const i=n.getExtension(r);return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Y0("WebGLRenderer: "+r+" extension not supported."),i}}}function zFe(n,e,t,r){const i={},s=new WeakMap;function o(c){const f=c.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);f.removeEventListener("dispose",o),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(c,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(c){const f=c.attributes;for(const m in f)e.update(f[m],n.ARRAY_BUFFER)}function u(c){const f=[],m=c.index,v=c.attributes.position;let b=0;if(m!==null){const A=m.array;b=m.version;for(let E=0,C=A.length;E<C;E+=3){const M=A[E+0],P=A[E+1],O=A[E+2];f.push(M,P,P,O,O,M)}}else if(v!==void 0){const A=v.array;b=v.version;for(let E=0,C=A.length/3-1;E<C;E+=3){const M=E+0,P=E+1,O=E+2;f.push(M,P,P,O,O,M)}}else return;const y=new(LZ(f)?PB:TB)(f,1);y.version=b;const w=s.get(c);w&&e.remove(w),s.set(c,y)}function d(c){const f=s.get(c);if(f){const m=c.index;m!==null&&f.version<m.version&&u(c)}else u(c);return s.get(c)}return{get:a,update:l,getWireframeAttribute:d}}function HFe(n,e,t){let r;function i(f){r=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,m){n.drawElements(r,m,s,f*o),t.update(m,r,1)}function u(f,m,v){v!==0&&(n.drawElementsInstanced(r,m,s,f*o,v),t.update(m,r,v))}function d(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,f,0,v);let y=0;for(let w=0;w<v;w++)y+=m[w];t.update(y,r,1)}function c(f,m,v,b){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let w=0;w<f.length;w++)u(f[w]/o,m[w],b[w]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,f,0,b,0,v);let w=0;for(let A=0;A<v;A++)w+=m[A]*b[A];t.update(w,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=c}function GFe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:Vn("WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function VFe(n,e,t){const r=new WeakMap,i=new Pr;function s(o,a,l){const u=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,c=d!==void 0?d.length:0;let f=r.get(a);if(f===void 0||f.count!==c){let I=function(){k.dispose(),r.delete(a),a.removeEventListener("dispose",I)};var m=I;f!==void 0&&f.texture.dispose();const v=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,w=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],E=a.morphAttributes.color||[];let C=0;v===!0&&(C=1),b===!0&&(C=2),y===!0&&(C=3);let M=a.attributes.position.count*C,P=1;M>e.maxTextureSize&&(P=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const O=new Float32Array(M*P*4*c),k=new kC(O,M,P,c);k.type=Ti,k.needsUpdate=!0;const D=C*4;for(let L=0;L<c;L++){const W=w[L],q=A[L],K=E[L],ie=M*P*4*L;for(let V=0;V<W.count;V++){const J=V*D;v===!0&&(i.fromBufferAttribute(W,V),O[ie+J+0]=i.x,O[ie+J+1]=i.y,O[ie+J+2]=i.z,O[ie+J+3]=0),b===!0&&(i.fromBufferAttribute(q,V),O[ie+J+4]=i.x,O[ie+J+5]=i.y,O[ie+J+6]=i.z,O[ie+J+7]=0),y===!0&&(i.fromBufferAttribute(K,V),O[ie+J+8]=i.x,O[ie+J+9]=i.y,O[ie+J+10]=i.z,O[ie+J+11]=K.itemSize===4?i.w:1)}}f={count:c,texture:k,size:new xt(M,P)},r.set(a,f),a.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let y=0;y<u.length;y++)v+=u[y];const b=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",b),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}return{update:s}}function WFe(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,d=l.geometry,c=e.get(l,d);if(i.get(c)!==u&&(e.update(c),i.set(c,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return c}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const jQ=new zr,wG=new BB(1,1),UQ=new kC,zQ=new LC,HQ=new i_,SG=[],AG=[],EG=new Float32Array(16),CG=new Float32Array(9),MG=new Float32Array(4);function Ev(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=SG[i];if(s===void 0&&(s=new Float32Array(i),SG[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Es(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Cs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function oM(n,e){let t=AG[e];t===void 0&&(t=new Int32Array(e),AG[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function $Fe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function qFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Es(t,e))return;n.uniform2fv(this.addr,e),Cs(t,e)}}function XFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Es(t,e))return;n.uniform3fv(this.addr,e),Cs(t,e)}}function KFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Es(t,e))return;n.uniform4fv(this.addr,e),Cs(t,e)}}function YFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Es(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Cs(t,e)}else{if(Es(t,r))return;MG.set(r),n.uniformMatrix2fv(this.addr,!1,MG),Cs(t,r)}}function JFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Es(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Cs(t,e)}else{if(Es(t,r))return;CG.set(r),n.uniformMatrix3fv(this.addr,!1,CG),Cs(t,r)}}function ZFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Es(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Cs(t,e)}else{if(Es(t,r))return;EG.set(r),n.uniformMatrix4fv(this.addr,!1,EG),Cs(t,r)}}function QFe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function eDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Es(t,e))return;n.uniform2iv(this.addr,e),Cs(t,e)}}function tDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Es(t,e))return;n.uniform3iv(this.addr,e),Cs(t,e)}}function nDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Es(t,e))return;n.uniform4iv(this.addr,e),Cs(t,e)}}function rDe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function iDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Es(t,e))return;n.uniform2uiv(this.addr,e),Cs(t,e)}}function sDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Es(t,e))return;n.uniform3uiv(this.addr,e),Cs(t,e)}}function oDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Es(t,e))return;n.uniform4uiv(this.addr,e),Cs(t,e)}}function aDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(wG.compareFunction=EB,s=wG):s=jQ,t.setTexture2D(e||s,i)}function lDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||zQ,i)}function cDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||HQ,i)}function uDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||UQ,i)}function dDe(n){switch(n){case 5126:return $Fe;case 35664:return qFe;case 35665:return XFe;case 35666:return KFe;case 35674:return YFe;case 35675:return JFe;case 35676:return ZFe;case 5124:case 35670:return QFe;case 35667:case 35671:return eDe;case 35668:case 35672:return tDe;case 35669:case 35673:return nDe;case 5125:return rDe;case 36294:return iDe;case 36295:return sDe;case 36296:return oDe;case 35678:case 36198:case 36298:case 36306:case 35682:return aDe;case 35679:case 36299:case 36307:return lDe;case 35680:case 36300:case 36308:case 36293:return cDe;case 36289:case 36303:case 36311:case 36292:return uDe}}function fDe(n,e){n.uniform1fv(this.addr,e)}function hDe(n,e){const t=Ev(e,this.size,2);n.uniform2fv(this.addr,t)}function pDe(n,e){const t=Ev(e,this.size,3);n.uniform3fv(this.addr,t)}function mDe(n,e){const t=Ev(e,this.size,4);n.uniform4fv(this.addr,t)}function gDe(n,e){const t=Ev(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function vDe(n,e){const t=Ev(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function yDe(n,e){const t=Ev(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function xDe(n,e){n.uniform1iv(this.addr,e)}function bDe(n,e){n.uniform2iv(this.addr,e)}function _De(n,e){n.uniform3iv(this.addr,e)}function wDe(n,e){n.uniform4iv(this.addr,e)}function SDe(n,e){n.uniform1uiv(this.addr,e)}function ADe(n,e){n.uniform2uiv(this.addr,e)}function EDe(n,e){n.uniform3uiv(this.addr,e)}function CDe(n,e){n.uniform4uiv(this.addr,e)}function MDe(n,e,t){const r=this.cache,i=e.length,s=oM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||jQ,s[o])}function TDe(n,e,t){const r=this.cache,i=e.length,s=oM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||zQ,s[o])}function PDe(n,e,t){const r=this.cache,i=e.length,s=oM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||HQ,s[o])}function RDe(n,e,t){const r=this.cache,i=e.length,s=oM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||UQ,s[o])}function NDe(n){switch(n){case 5126:return fDe;case 35664:return hDe;case 35665:return pDe;case 35666:return mDe;case 35674:return gDe;case 35675:return vDe;case 35676:return yDe;case 5124:case 35670:return xDe;case 35667:case 35671:return bDe;case 35668:case 35672:return _De;case 35669:case 35673:return wDe;case 5125:return SDe;case 36294:return ADe;case 36295:return EDe;case 36296:return CDe;case 35678:case 36198:case 36298:case 36306:case 35682:return MDe;case 35679:case 36299:case 36307:return TDe;case 35680:case 36300:case 36308:case 36293:return PDe;case 36289:case 36303:case 36311:case 36292:return RDe}}class IDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=dDe(t.type)}}class ODe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=NDe(t.type)}}class FDe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const n3=/(\w+)(\])?(\[|\.)?/g;function TG(n,e){n.seq.push(e),n.map[e.id]=e}function DDe(n,e,t){const r=n.name,i=r.length;for(n3.lastIndex=0;;){const s=n3.exec(r),o=n3.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){TG(t,u===void 0?new IDe(a,n,e):new ODe(a,n,e));break}else{let c=t.map[a];c===void 0&&(c=new FDe(a),TG(t,c)),t=c}}}class Xw{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);DDe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function PG(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const BDe=37297;let kDe=0;function LDe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}const RG=new er;function jDe(n){Mr._getMatrix(RG,Mr.workingColorSpace,n);const e=`mat3( ${RG.elements.map(t=>t.toFixed(4))} )`;switch(Mr.getTransfer(n)){case vb:return[e,"LinearTransferOETF"];case Vr:return[e,"sRGBTransferOETF"];default:return tn("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function NG(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),s=(n.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+s+`

`+LDe(n.getShaderSource(e),a)}else return s}function UDe(n,e){const t=jDe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function zDe(n,e){let t;switch(e){case yZ:t="Linear";break;case xZ:t="Reinhard";break;case bZ:t="Cineon";break;case MC:t="ACESFilmic";break;case wZ:t="AgX";break;case SZ:t="Neutral";break;case _Z:t="Custom";break;default:tn("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const ww=new de;function HDe(){Mr.getLuminanceCoefficients(ww);const n=ww.x.toFixed(4),e=ww.y.toFixed(4),t=ww.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function GDe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ex).join(`
`)}function VDe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function WDe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function ex(n){return n!==""}function IG(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function OG(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const $De=/^[ \t]*#include +<([\w\d./]+)>/gm;function JO(n){return n.replace($De,XDe)}const qDe=new Map;function XDe(n,e){let t=cr[e];if(t===void 0){const r=qDe.get(e);if(r!==void 0)t=cr[r],tn('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return JO(t)}const KDe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function FG(n){return n.replace(KDe,YDe)}function YDe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function DG(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JDe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===CC?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===cx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===tc&&(e="SHADOWMAP_TYPE_VSM"),e}function ZDe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case du:case Kf:e="ENVMAP_TYPE_CUBE";break;case wv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function QDe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Kf:e="ENVMAP_MODE_REFRACTION";break}return e}function eBe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Qb:e="ENVMAP_BLENDING_MULTIPLY";break;case gZ:e="ENVMAP_BLENDING_MIX";break;case vZ:e="ENVMAP_BLENDING_ADD";break}return e}function tBe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function nBe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=JDe(t),u=ZDe(t),d=QDe(t),c=eBe(t),f=tBe(t),m=GDe(t),v=VDe(s),b=i.createProgram();let y,w,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(ex).join(`
`),y.length>0&&(y+=`
`),w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(ex).join(`
`),w.length>0&&(w+=`
`)):(y=[DG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ex).join(`
`),w=[DG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+c:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==tu?"#define TONE_MAPPING":"",t.toneMapping!==tu?cr.tonemapping_pars_fragment:"",t.toneMapping!==tu?zDe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cr.colorspace_pars_fragment,UDe("linearToOutputTexel",t.outputColorSpace),HDe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ex).join(`
`)),o=JO(o),o=IG(o,t),o=OG(o,t),a=JO(a),a=IG(a,t),a=OG(a,t),o=FG(o),a=FG(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,w=["#define varying in",t.glslVersion===HO?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===HO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const E=A+y+o,C=A+w+a,M=PG(i,i.VERTEX_SHADER,E),P=PG(i,i.FRAGMENT_SHADER,C);i.attachShader(b,M),i.attachShader(b,P),t.index0AttributeName!==void 0?i.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function O(L){if(n.debug.checkShaderErrors){const W=i.getProgramInfoLog(b)||"",q=i.getShaderInfoLog(M)||"",K=i.getShaderInfoLog(P)||"",ie=W.trim(),V=q.trim(),J=K.trim();let H=!0,Y=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(H=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,b,M,P);else{const ne=NG(i,M,"vertex"),Z=NG(i,P,"fragment");Vn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+L.name+`
Material Type: `+L.type+`

Program Info Log: `+ie+`
`+ne+`
`+Z)}else ie!==""?tn("WebGLProgram: Program Info Log:",ie):(V===""||J==="")&&(Y=!1);Y&&(L.diagnostics={runnable:H,programLog:ie,vertexShader:{log:V,prefix:y},fragmentShader:{log:J,prefix:w}})}i.deleteShader(M),i.deleteShader(P),k=new Xw(i,b),D=WDe(i,b)}let k;this.getUniforms=function(){return k===void 0&&O(this),k};let D;this.getAttributes=function(){return D===void 0&&O(this),D};let I=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(b,BDe)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=kDe++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=M,this.fragmentShader=P,this}let rBe=0;class iBe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new sBe(e),t.set(e,r)),r}}class sBe{constructor(e){this.id=rBe++,this.code=e,this.usedTimes=0}}function oBe(n,e,t,r,i,s,o){const a=new Wp,l=new iBe,u=new Set,d=[],c=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(D){return u.add(D),D===0?"uv":`uv${D}`}function y(D,I,L,W,q){const K=W.fog,ie=q.geometry,V=D.isMeshStandardMaterial?W.environment:null,J=(D.isMeshStandardMaterial?t:e).get(D.envMap||V),H=J&&J.mapping===wv?J.image.height:null,Y=v[D.type];D.precision!==null&&(m=i.getMaxPrecision(D.precision),m!==D.precision&&tn("WebGLProgram.getParameters:",D.precision,"not supported, using",m,"instead."));const ne=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,Z=ne!==void 0?ne.length:0;let oe=0;ie.morphAttributes.position!==void 0&&(oe=1),ie.morphAttributes.normal!==void 0&&(oe=2),ie.morphAttributes.color!==void 0&&(oe=3);let ye,Be,Xe,we;if(Y){const Sn=sc[Y];ye=Sn.vertexShader,Be=Sn.fragmentShader}else ye=D.vertexShader,Be=D.fragmentShader,l.update(D),Xe=l.getVertexShaderID(D),we=l.getFragmentShaderID(D);const Ae=n.getRenderTarget(),ke=n.state.buffers.depth.getReversed(),Oe=q.isInstancedMesh===!0,Ge=q.isBatchedMesh===!0,et=!!D.map,ze=!!D.matcap,nt=!!J,Fe=!!D.aoMap,ce=!!D.lightMap,rt=!!D.bumpMap,ct=!!D.normalMap,wt=!!D.displacementMap,Te=!!D.emissiveMap,tt=!!D.metalnessMap,st=!!D.roughnessMap,ft=D.anisotropy>0,ae=D.clearcoat>0,te=D.dispersion>0,Ne=D.iridescence>0,Ye=D.sheen>0,pt=D.transmission>0,Ke=ft&&!!D.anisotropyMap,Jt=ae&&!!D.clearcoatMap,It=ae&&!!D.clearcoatNormalMap,Vt=ae&&!!D.clearcoatRoughnessMap,Lt=Ne&&!!D.iridescenceMap,yt=Ne&&!!D.iridescenceThicknessMap,bt=Ye&&!!D.sheenColorMap,Zt=Ye&&!!D.sheenRoughnessMap,_e=!!D.specularMap,Pe=!!D.specularColorMap,ht=!!D.specularIntensityMap,he=pt&&!!D.transmissionMap,Le=pt&&!!D.thicknessMap,lt=!!D.gradientMap,vt=!!D.alphaMap,mt=D.alphaTest>0,je=!!D.alphaHash,_t=!!D.extensions;let jt=tu;D.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(jt=n.toneMapping);const _n={shaderID:Y,shaderType:D.type,shaderName:D.name,vertexShader:ye,fragmentShader:Be,defines:D.defines,customVertexShaderID:Xe,customFragmentShaderID:we,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:m,batching:Ge,batchingColor:Ge&&q._colorsTexture!==null,instancing:Oe,instancingColor:Oe&&q.instanceColor!==null,instancingMorph:Oe&&q.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:Ae===null?n.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:hu,alphaToCoverage:!!D.alphaToCoverage,map:et,matcap:ze,envMap:nt,envMapMode:nt&&J.mapping,envMapCubeUVHeight:H,aoMap:Fe,lightMap:ce,bumpMap:rt,normalMap:ct,displacementMap:f&&wt,emissiveMap:Te,normalMapObjectSpace:ct&&D.normalMapType===RZ,normalMapTangentSpace:ct&&D.normalMapType===ch,metalnessMap:tt,roughnessMap:st,anisotropy:ft,anisotropyMap:Ke,clearcoat:ae,clearcoatMap:Jt,clearcoatNormalMap:It,clearcoatRoughnessMap:Vt,dispersion:te,iridescence:Ne,iridescenceMap:Lt,iridescenceThicknessMap:yt,sheen:Ye,sheenColorMap:bt,sheenRoughnessMap:Zt,specularMap:_e,specularColorMap:Pe,specularIntensityMap:ht,transmission:pt,transmissionMap:he,thicknessMap:Le,gradientMap:lt,opaque:D.transparent===!1&&D.blending===Gp&&D.alphaToCoverage===!1,alphaMap:vt,alphaTest:mt,alphaHash:je,combine:D.combine,mapUv:et&&b(D.map.channel),aoMapUv:Fe&&b(D.aoMap.channel),lightMapUv:ce&&b(D.lightMap.channel),bumpMapUv:rt&&b(D.bumpMap.channel),normalMapUv:ct&&b(D.normalMap.channel),displacementMapUv:wt&&b(D.displacementMap.channel),emissiveMapUv:Te&&b(D.emissiveMap.channel),metalnessMapUv:tt&&b(D.metalnessMap.channel),roughnessMapUv:st&&b(D.roughnessMap.channel),anisotropyMapUv:Ke&&b(D.anisotropyMap.channel),clearcoatMapUv:Jt&&b(D.clearcoatMap.channel),clearcoatNormalMapUv:It&&b(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Vt&&b(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Lt&&b(D.iridescenceMap.channel),iridescenceThicknessMapUv:yt&&b(D.iridescenceThicknessMap.channel),sheenColorMapUv:bt&&b(D.sheenColorMap.channel),sheenRoughnessMapUv:Zt&&b(D.sheenRoughnessMap.channel),specularMapUv:_e&&b(D.specularMap.channel),specularColorMapUv:Pe&&b(D.specularColorMap.channel),specularIntensityMapUv:ht&&b(D.specularIntensityMap.channel),transmissionMapUv:he&&b(D.transmissionMap.channel),thicknessMapUv:Le&&b(D.thicknessMap.channel),alphaMapUv:vt&&b(D.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(ct||ft),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!ie.attributes.uv&&(et||vt),fog:!!K,useFog:D.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:D.flatShading===!0&&D.wireframe===!1,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:c,reversedDepthBuffer:ke,skinning:q.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:oe,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:D.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:jt,decodeVideoTexture:et&&D.map.isVideoTexture===!0&&Mr.getTransfer(D.map.colorSpace)===Vr,decodeVideoTextureEmissive:Te&&D.emissiveMap.isVideoTexture===!0&&Mr.getTransfer(D.emissiveMap.colorSpace)===Vr,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===fl,flipSided:D.side===Wo,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:_t&&D.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&D.extensions.multiDraw===!0||Ge)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return _n.vertexUv1s=u.has(1),_n.vertexUv2s=u.has(2),_n.vertexUv3s=u.has(3),u.clear(),_n}function w(D){const I=[];if(D.shaderID?I.push(D.shaderID):(I.push(D.customVertexShaderID),I.push(D.customFragmentShaderID)),D.defines!==void 0)for(const L in D.defines)I.push(L),I.push(D.defines[L]);return D.isRawShaderMaterial===!1&&(A(I,D),E(I,D),I.push(n.outputColorSpace)),I.push(D.customProgramCacheKey),I.join()}function A(D,I){D.push(I.precision),D.push(I.outputColorSpace),D.push(I.envMapMode),D.push(I.envMapCubeUVHeight),D.push(I.mapUv),D.push(I.alphaMapUv),D.push(I.lightMapUv),D.push(I.aoMapUv),D.push(I.bumpMapUv),D.push(I.normalMapUv),D.push(I.displacementMapUv),D.push(I.emissiveMapUv),D.push(I.metalnessMapUv),D.push(I.roughnessMapUv),D.push(I.anisotropyMapUv),D.push(I.clearcoatMapUv),D.push(I.clearcoatNormalMapUv),D.push(I.clearcoatRoughnessMapUv),D.push(I.iridescenceMapUv),D.push(I.iridescenceThicknessMapUv),D.push(I.sheenColorMapUv),D.push(I.sheenRoughnessMapUv),D.push(I.specularMapUv),D.push(I.specularColorMapUv),D.push(I.specularIntensityMapUv),D.push(I.transmissionMapUv),D.push(I.thicknessMapUv),D.push(I.combine),D.push(I.fogExp2),D.push(I.sizeAttenuation),D.push(I.morphTargetsCount),D.push(I.morphAttributeCount),D.push(I.numDirLights),D.push(I.numPointLights),D.push(I.numSpotLights),D.push(I.numSpotLightMaps),D.push(I.numHemiLights),D.push(I.numRectAreaLights),D.push(I.numDirLightShadows),D.push(I.numPointLightShadows),D.push(I.numSpotLightShadows),D.push(I.numSpotLightShadowsWithMaps),D.push(I.numLightProbes),D.push(I.shadowMapType),D.push(I.toneMapping),D.push(I.numClippingPlanes),D.push(I.numClipIntersection),D.push(I.depthPacking)}function E(D,I){a.disableAll(),I.supportsVertexTextures&&a.enable(0),I.instancing&&a.enable(1),I.instancingColor&&a.enable(2),I.instancingMorph&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),I.dispersion&&a.enable(20),I.batchingColor&&a.enable(21),I.gradientMap&&a.enable(22),D.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.reversedDepthBuffer&&a.enable(4),I.skinning&&a.enable(5),I.morphTargets&&a.enable(6),I.morphNormals&&a.enable(7),I.morphColors&&a.enable(8),I.premultipliedAlpha&&a.enable(9),I.shadowMapEnabled&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),I.decodeVideoTextureEmissive&&a.enable(20),I.alphaToCoverage&&a.enable(21),D.push(a.mask)}function C(D){const I=v[D.type];let L;if(I){const W=sc[I];L=VZ.clone(W.uniforms)}else L=D.uniforms;return L}function M(D,I){let L;for(let W=0,q=d.length;W<q;W++){const K=d[W];if(K.cacheKey===I){L=K,++L.usedTimes;break}}return L===void 0&&(L=new nBe(n,I,D,s),d.push(L)),L}function P(D){if(--D.usedTimes===0){const I=d.indexOf(D);d[I]=d[d.length-1],d.pop(),D.destroy()}}function O(D){l.remove(D)}function k(){l.dispose()}return{getParameters:y,getProgramCacheKey:w,getUniforms:C,acquireProgram:M,releaseProgram:P,releaseShaderCache:O,programs:d,dispose:k}}function aBe(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function r(o){n.delete(o)}function i(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function lBe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function BG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function kG(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(c,f,m,v,b,y){let w=n[e];return w===void 0?(w={id:c.id,object:c,geometry:f,material:m,groupOrder:v,renderOrder:c.renderOrder,z:b,group:y},n[e]=w):(w.id=c.id,w.object=c,w.geometry=f,w.material=m,w.groupOrder=v,w.renderOrder=c.renderOrder,w.z=b,w.group=y),e++,w}function a(c,f,m,v,b,y){const w=o(c,f,m,v,b,y);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):t.push(w)}function l(c,f,m,v,b,y){const w=o(c,f,m,v,b,y);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):t.unshift(w)}function u(c,f){t.length>1&&t.sort(c||lBe),r.length>1&&r.sort(f||BG),i.length>1&&i.sort(f||BG)}function d(){for(let c=e,f=n.length;c<f;c++){const m=n[c];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:u}}function cBe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new kG,n.set(r,[o])):i>=s.length?(o=new kG,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function uBe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new de,color:new Xt};break;case"SpotLight":t={position:new de,direction:new de,color:new Xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new de,color:new Xt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new de,skyColor:new Xt,groundColor:new Xt};break;case"RectAreaLight":t={color:new Xt,position:new de,halfWidth:new de,halfHeight:new de};break}return n[e.id]=t,t}}}function dBe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let fBe=0;function hBe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function pBe(n){const e=new uBe,t=dBe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new de);const i=new de,s=new Bn,o=new Bn;function a(u){let d=0,c=0,f=0;for(let D=0;D<9;D++)r.probe[D].set(0,0,0);let m=0,v=0,b=0,y=0,w=0,A=0,E=0,C=0,M=0,P=0,O=0;u.sort(hBe);for(let D=0,I=u.length;D<I;D++){const L=u[D],W=L.color,q=L.intensity,K=L.distance,ie=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)d+=W.r*q,c+=W.g*q,f+=W.b*q;else if(L.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(L.sh.coefficients[V],q);O++}else if(L.isDirectionalLight){const V=e.get(L);if(V.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const J=L.shadow,H=t.get(L);H.shadowIntensity=J.intensity,H.shadowBias=J.bias,H.shadowNormalBias=J.normalBias,H.shadowRadius=J.radius,H.shadowMapSize=J.mapSize,r.directionalShadow[m]=H,r.directionalShadowMap[m]=ie,r.directionalShadowMatrix[m]=L.shadow.matrix,A++}r.directional[m]=V,m++}else if(L.isSpotLight){const V=e.get(L);V.position.setFromMatrixPosition(L.matrixWorld),V.color.copy(W).multiplyScalar(q),V.distance=K,V.coneCos=Math.cos(L.angle),V.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),V.decay=L.decay,r.spot[b]=V;const J=L.shadow;if(L.map&&(r.spotLightMap[M]=L.map,M++,J.updateMatrices(L),L.castShadow&&P++),r.spotLightMatrix[b]=J.matrix,L.castShadow){const H=t.get(L);H.shadowIntensity=J.intensity,H.shadowBias=J.bias,H.shadowNormalBias=J.normalBias,H.shadowRadius=J.radius,H.shadowMapSize=J.mapSize,r.spotShadow[b]=H,r.spotShadowMap[b]=ie,C++}b++}else if(L.isRectAreaLight){const V=e.get(L);V.color.copy(W).multiplyScalar(q),V.halfWidth.set(L.width*.5,0,0),V.halfHeight.set(0,L.height*.5,0),r.rectArea[y]=V,y++}else if(L.isPointLight){const V=e.get(L);if(V.color.copy(L.color).multiplyScalar(L.intensity),V.distance=L.distance,V.decay=L.decay,L.castShadow){const J=L.shadow,H=t.get(L);H.shadowIntensity=J.intensity,H.shadowBias=J.bias,H.shadowNormalBias=J.normalBias,H.shadowRadius=J.radius,H.shadowMapSize=J.mapSize,H.shadowCameraNear=J.camera.near,H.shadowCameraFar=J.camera.far,r.pointShadow[v]=H,r.pointShadowMap[v]=ie,r.pointShadowMatrix[v]=L.shadow.matrix,E++}r.point[v]=V,v++}else if(L.isHemisphereLight){const V=e.get(L);V.skyColor.copy(L.color).multiplyScalar(q),V.groundColor.copy(L.groundColor).multiplyScalar(q),r.hemi[w]=V,w++}}y>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=en.LTC_FLOAT_1,r.rectAreaLTC2=en.LTC_FLOAT_2):(r.rectAreaLTC1=en.LTC_HALF_1,r.rectAreaLTC2=en.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=c,r.ambient[2]=f;const k=r.hash;(k.directionalLength!==m||k.pointLength!==v||k.spotLength!==b||k.rectAreaLength!==y||k.hemiLength!==w||k.numDirectionalShadows!==A||k.numPointShadows!==E||k.numSpotShadows!==C||k.numSpotMaps!==M||k.numLightProbes!==O)&&(r.directional.length=m,r.spot.length=b,r.rectArea.length=y,r.point.length=v,r.hemi.length=w,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=C+M-P,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=O,k.directionalLength=m,k.pointLength=v,k.spotLength=b,k.rectAreaLength=y,k.hemiLength=w,k.numDirectionalShadows=A,k.numPointShadows=E,k.numSpotShadows=C,k.numSpotMaps=M,k.numLightProbes=O,r.version=fBe++)}function l(u,d){let c=0,f=0,m=0,v=0,b=0;const y=d.matrixWorldInverse;for(let w=0,A=u.length;w<A;w++){const E=u[w];if(E.isDirectionalLight){const C=r.directional[c];C.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(y),c++}else if(E.isSpotLight){const C=r.spot[m];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(y),C.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(y),m++}else if(E.isRectAreaLight){const C=r.rectArea[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(y),o.identity(),s.copy(E.matrixWorld),s.premultiply(y),o.extractRotation(s),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),v++}else if(E.isPointLight){const C=r.point[f];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(y),f++}else if(E.isHemisphereLight){const C=r.hemi[b];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(y),b++}}}return{setup:a,setupView:l,state:r}}function LG(n){const e=new pBe(n),t=[],r=[];function i(d){u.camera=d,t.length=0,r.length=0}function s(d){t.push(d)}function o(d){r.push(d)}function a(){e.setup(t)}function l(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function mBe(n){let e=new WeakMap;function t(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new LG(n),e.set(i,[a])):s>=o.length?(a=new LG(n),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:t,dispose:r}}const gBe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vBe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yBe(n,e,t){let r=new Sv;const i=new xt,s=new xt,o=new Pr,a=new VB({depthPacking:PZ}),l=new WB,u={},d=t.maxTextureSize,c={[uu]:Wo,[Wo]:uu,[fl]:fl},f=new Xo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xt},radius:{value:4}},vertexShader:gBe,fragmentShader:vBe}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new Yn;v.setAttribute("position",new Nr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Pi(v,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=CC;let w=this.type;this.render=function(P,O,k){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||P.length===0)return;const D=n.getRenderTarget(),I=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),W=n.state;W.setBlending(dc),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const q=w!==tc&&this.type===tc,K=w===tc&&this.type!==tc;for(let ie=0,V=P.length;ie<V;ie++){const J=P[ie],H=J.shadow;if(H===void 0){tn("WebGLShadowMap:",J,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const Y=H.getFrameExtents();if(i.multiply(Y),s.copy(H.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/Y.x),i.x=s.x*Y.x,H.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/Y.y),i.y=s.y*Y.y,H.mapSize.y=s.y)),H.map===null||q===!0||K===!0){const Z=this.type!==tc?{minFilter:js,magFilter:js}:{};H.map!==null&&H.map.dispose(),H.map=new wl(i.x,i.y,Z),H.map.texture.name=J.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const ne=H.getViewportCount();for(let Z=0;Z<ne;Z++){const oe=H.getViewport(Z);o.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),W.viewport(o),H.updateMatrices(J,Z),r=H.getFrustum(),C(O,k,H.camera,J,this.type)}H.isPointLightShadow!==!0&&this.type===tc&&A(H,k),H.needsUpdate=!1}w=this.type,y.needsUpdate=!1,n.setRenderTarget(D,I,L)};function A(P,O){const k=e.update(b);f.defines.VSM_SAMPLES!==P.blurSamples&&(f.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new wl(i.x,i.y)),f.uniforms.shadow_pass.value=P.map.texture,f.uniforms.resolution.value=P.mapSize,f.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(O,null,k,f,b,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(O,null,k,m,b,null)}function E(P,O,k,D){let I=null;const L=k.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(L!==void 0)I=L;else if(I=k.isPointLight===!0?l:a,n.localClippingEnabled&&O.clipShadows===!0&&Array.isArray(O.clippingPlanes)&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0||O.alphaToCoverage===!0){const W=I.uuid,q=O.uuid;let K=u[W];K===void 0&&(K={},u[W]=K);let ie=K[q];ie===void 0&&(ie=I.clone(),K[q]=ie,O.addEventListener("dispose",M)),I=ie}if(I.visible=O.visible,I.wireframe=O.wireframe,D===tc?I.side=O.shadowSide!==null?O.shadowSide:O.side:I.side=O.shadowSide!==null?O.shadowSide:c[O.side],I.alphaMap=O.alphaMap,I.alphaTest=O.alphaToCoverage===!0?.5:O.alphaTest,I.map=O.map,I.clipShadows=O.clipShadows,I.clippingPlanes=O.clippingPlanes,I.clipIntersection=O.clipIntersection,I.displacementMap=O.displacementMap,I.displacementScale=O.displacementScale,I.displacementBias=O.displacementBias,I.wireframeLinewidth=O.wireframeLinewidth,I.linewidth=O.linewidth,k.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const W=n.properties.get(I);W.light=k}return I}function C(P,O,k,D,I){if(P.visible===!1)return;if(P.layers.test(O.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&I===tc)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,P.matrixWorld);const q=e.update(P),K=P.material;if(Array.isArray(K)){const ie=q.groups;for(let V=0,J=ie.length;V<J;V++){const H=ie[V],Y=K[H.materialIndex];if(Y&&Y.visible){const ne=E(P,Y,D,I);P.onBeforeShadow(n,P,O,k,q,ne,H),n.renderBufferDirect(k,null,q,ne,P,H),P.onAfterShadow(n,P,O,k,q,ne,H)}}}else if(K.visible){const ie=E(P,K,D,I);P.onBeforeShadow(n,P,O,k,q,ie,null),n.renderBufferDirect(k,null,q,ie,P,null),P.onAfterShadow(n,P,O,k,q,ie,null)}}const W=P.children;for(let q=0,K=W.length;q<K;q++)C(W[q],O,k,D,I)}function M(P){P.target.removeEventListener("dispose",M);for(const k in u){const D=u[k],I=P.target.uuid;I in D&&(D[I].dispose(),delete D[I])}}}const xBe={[gA]:vA,[yA]:_A,[xA]:wA,[om]:bA,[vA]:gA,[_A]:yA,[wA]:xA,[bA]:om};function bBe(n,e){function t(){let he=!1;const Le=new Pr;let lt=null;const vt=new Pr(0,0,0,0);return{setMask:function(mt){lt!==mt&&!he&&(n.colorMask(mt,mt,mt,mt),lt=mt)},setLocked:function(mt){he=mt},setClear:function(mt,je,_t,jt,_n){_n===!0&&(mt*=jt,je*=jt,_t*=jt),Le.set(mt,je,_t,jt),vt.equals(Le)===!1&&(n.clearColor(mt,je,_t,jt),vt.copy(Le))},reset:function(){he=!1,lt=null,vt.set(-1,0,0,0)}}}function r(){let he=!1,Le=!1,lt=null,vt=null,mt=null;return{setReversed:function(je){if(Le!==je){const _t=e.get("EXT_clip_control");je?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT),Le=je;const jt=mt;mt=null,this.setClear(jt)}},getReversed:function(){return Le},setTest:function(je){je?Ae(n.DEPTH_TEST):ke(n.DEPTH_TEST)},setMask:function(je){lt!==je&&!he&&(n.depthMask(je),lt=je)},setFunc:function(je){if(Le&&(je=xBe[je]),vt!==je){switch(je){case gA:n.depthFunc(n.NEVER);break;case vA:n.depthFunc(n.ALWAYS);break;case yA:n.depthFunc(n.LESS);break;case om:n.depthFunc(n.LEQUAL);break;case xA:n.depthFunc(n.EQUAL);break;case bA:n.depthFunc(n.GEQUAL);break;case _A:n.depthFunc(n.GREATER);break;case wA:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}vt=je}},setLocked:function(je){he=je},setClear:function(je){mt!==je&&(Le&&(je=1-je),n.clearDepth(je),mt=je)},reset:function(){he=!1,lt=null,vt=null,mt=null,Le=!1}}}function i(){let he=!1,Le=null,lt=null,vt=null,mt=null,je=null,_t=null,jt=null,_n=null;return{setTest:function(Sn){he||(Sn?Ae(n.STENCIL_TEST):ke(n.STENCIL_TEST))},setMask:function(Sn){Le!==Sn&&!he&&(n.stencilMask(Sn),Le=Sn)},setFunc:function(Sn,An,kn){(lt!==Sn||vt!==An||mt!==kn)&&(n.stencilFunc(Sn,An,kn),lt=Sn,vt=An,mt=kn)},setOp:function(Sn,An,kn){(je!==Sn||_t!==An||jt!==kn)&&(n.stencilOp(Sn,An,kn),je=Sn,_t=An,jt=kn)},setLocked:function(Sn){he=Sn},setClear:function(Sn){_n!==Sn&&(n.clearStencil(Sn),_n=Sn)},reset:function(){he=!1,Le=null,lt=null,vt=null,mt=null,je=null,_t=null,jt=null,_n=null}}}const s=new t,o=new r,a=new i,l=new WeakMap,u=new WeakMap;let d={},c={},f=new WeakMap,m=[],v=null,b=!1,y=null,w=null,A=null,E=null,C=null,M=null,P=null,O=new Xt(0,0,0),k=0,D=!1,I=null,L=null,W=null,q=null,K=null;const ie=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,J=0;const H=n.getParameter(n.VERSION);H.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(H)[1]),V=J>=1):H.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),V=J>=2);let Y=null,ne={};const Z=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),ye=new Pr().fromArray(Z),Be=new Pr().fromArray(oe);function Xe(he,Le,lt,vt){const mt=new Uint8Array(4),je=n.createTexture();n.bindTexture(he,je),n.texParameteri(he,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(he,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _t=0;_t<lt;_t++)he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY?n.texImage3D(Le,0,n.RGBA,1,1,vt,0,n.RGBA,n.UNSIGNED_BYTE,mt):n.texImage2D(Le+_t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,mt);return je}const we={};we[n.TEXTURE_2D]=Xe(n.TEXTURE_2D,n.TEXTURE_2D,1),we[n.TEXTURE_CUBE_MAP]=Xe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[n.TEXTURE_2D_ARRAY]=Xe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),we[n.TEXTURE_3D]=Xe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Ae(n.DEPTH_TEST),o.setFunc(om),rt(!1),ct(DO),Ae(n.CULL_FACE),Fe(dc);function Ae(he){d[he]!==!0&&(n.enable(he),d[he]=!0)}function ke(he){d[he]!==!1&&(n.disable(he),d[he]=!1)}function Oe(he,Le){return c[he]!==Le?(n.bindFramebuffer(he,Le),c[he]=Le,he===n.DRAW_FRAMEBUFFER&&(c[n.FRAMEBUFFER]=Le),he===n.FRAMEBUFFER&&(c[n.DRAW_FRAMEBUFFER]=Le),!0):!1}function Ge(he,Le){let lt=m,vt=!1;if(he){lt=f.get(Le),lt===void 0&&(lt=[],f.set(Le,lt));const mt=he.textures;if(lt.length!==mt.length||lt[0]!==n.COLOR_ATTACHMENT0){for(let je=0,_t=mt.length;je<_t;je++)lt[je]=n.COLOR_ATTACHMENT0+je;lt.length=mt.length,vt=!0}}else lt[0]!==n.BACK&&(lt[0]=n.BACK,vt=!0);vt&&n.drawBuffers(lt)}function et(he){return v!==he?(n.useProgram(he),v=he,!0):!1}const ze={[Nf]:n.FUNC_ADD,[QJ]:n.FUNC_SUBTRACT,[eZ]:n.FUNC_REVERSE_SUBTRACT};ze[tZ]=n.MIN,ze[nZ]=n.MAX;const nt={[rZ]:n.ZERO,[iZ]:n.ONE,[sZ]:n.SRC_COLOR,[pA]:n.SRC_ALPHA,[dZ]:n.SRC_ALPHA_SATURATE,[cZ]:n.DST_COLOR,[aZ]:n.DST_ALPHA,[oZ]:n.ONE_MINUS_SRC_COLOR,[mA]:n.ONE_MINUS_SRC_ALPHA,[uZ]:n.ONE_MINUS_DST_COLOR,[lZ]:n.ONE_MINUS_DST_ALPHA,[fZ]:n.CONSTANT_COLOR,[hZ]:n.ONE_MINUS_CONSTANT_COLOR,[pZ]:n.CONSTANT_ALPHA,[mZ]:n.ONE_MINUS_CONSTANT_ALPHA};function Fe(he,Le,lt,vt,mt,je,_t,jt,_n,Sn){if(he===dc){b===!0&&(ke(n.BLEND),b=!1);return}if(b===!1&&(Ae(n.BLEND),b=!0),he!==ZJ){if(he!==y||Sn!==D){if((w!==Nf||C!==Nf)&&(n.blendEquation(n.FUNC_ADD),w=Nf,C=Nf),Sn)switch(he){case Gp:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case BO:n.blendFunc(n.ONE,n.ONE);break;case kO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case LO:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Vn("WebGLState: Invalid blending: ",he);break}else switch(he){case Gp:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case BO:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case kO:Vn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case LO:Vn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Vn("WebGLState: Invalid blending: ",he);break}A=null,E=null,M=null,P=null,O.set(0,0,0),k=0,y=he,D=Sn}return}mt=mt||Le,je=je||lt,_t=_t||vt,(Le!==w||mt!==C)&&(n.blendEquationSeparate(ze[Le],ze[mt]),w=Le,C=mt),(lt!==A||vt!==E||je!==M||_t!==P)&&(n.blendFuncSeparate(nt[lt],nt[vt],nt[je],nt[_t]),A=lt,E=vt,M=je,P=_t),(jt.equals(O)===!1||_n!==k)&&(n.blendColor(jt.r,jt.g,jt.b,_n),O.copy(jt),k=_n),y=he,D=!1}function ce(he,Le){he.side===fl?ke(n.CULL_FACE):Ae(n.CULL_FACE);let lt=he.side===Wo;Le&&(lt=!lt),rt(lt),he.blending===Gp&&he.transparent===!1?Fe(dc):Fe(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),o.setFunc(he.depthFunc),o.setTest(he.depthTest),o.setMask(he.depthWrite),s.setMask(he.colorWrite);const vt=he.stencilWrite;a.setTest(vt),vt&&(a.setMask(he.stencilWriteMask),a.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),a.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),Te(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function rt(he){I!==he&&(he?n.frontFace(n.CW):n.frontFace(n.CCW),I=he)}function ct(he){he!==KJ?(Ae(n.CULL_FACE),he!==L&&(he===DO?n.cullFace(n.BACK):he===YJ?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ke(n.CULL_FACE),L=he}function wt(he){he!==W&&(V&&n.lineWidth(he),W=he)}function Te(he,Le,lt){he?(Ae(n.POLYGON_OFFSET_FILL),(q!==Le||K!==lt)&&(n.polygonOffset(Le,lt),q=Le,K=lt)):ke(n.POLYGON_OFFSET_FILL)}function tt(he){he?Ae(n.SCISSOR_TEST):ke(n.SCISSOR_TEST)}function st(he){he===void 0&&(he=n.TEXTURE0+ie-1),Y!==he&&(n.activeTexture(he),Y=he)}function ft(he,Le,lt){lt===void 0&&(Y===null?lt=n.TEXTURE0+ie-1:lt=Y);let vt=ne[lt];vt===void 0&&(vt={type:void 0,texture:void 0},ne[lt]=vt),(vt.type!==he||vt.texture!==Le)&&(Y!==lt&&(n.activeTexture(lt),Y=lt),n.bindTexture(he,Le||we[he]),vt.type=he,vt.texture=Le)}function ae(){const he=ne[Y];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function te(){try{n.compressedTexImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function Ne(){try{n.compressedTexImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function Ye(){try{n.texSubImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function pt(){try{n.texSubImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function Ke(){try{n.compressedTexSubImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function Jt(){try{n.compressedTexSubImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function It(){try{n.texStorage2D(...arguments)}catch(he){he("WebGLState:",he)}}function Vt(){try{n.texStorage3D(...arguments)}catch(he){he("WebGLState:",he)}}function Lt(){try{n.texImage2D(...arguments)}catch(he){he("WebGLState:",he)}}function yt(){try{n.texImage3D(...arguments)}catch(he){he("WebGLState:",he)}}function bt(he){ye.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),ye.copy(he))}function Zt(he){Be.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),Be.copy(he))}function _e(he,Le){let lt=u.get(Le);lt===void 0&&(lt=new WeakMap,u.set(Le,lt));let vt=lt.get(he);vt===void 0&&(vt=n.getUniformBlockIndex(Le,he.name),lt.set(he,vt))}function Pe(he,Le){const vt=u.get(Le).get(he);l.get(Le)!==vt&&(n.uniformBlockBinding(Le,vt,he.__bindingPointIndex),l.set(Le,vt))}function ht(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},Y=null,ne={},c={},f=new WeakMap,m=[],v=null,b=!1,y=null,w=null,A=null,E=null,C=null,M=null,P=null,O=new Xt(0,0,0),k=0,D=!1,I=null,L=null,W=null,q=null,K=null,ye.set(0,0,n.canvas.width,n.canvas.height),Be.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:Ae,disable:ke,bindFramebuffer:Oe,drawBuffers:Ge,useProgram:et,setBlending:Fe,setMaterial:ce,setFlipSided:rt,setCullFace:ct,setLineWidth:wt,setPolygonOffset:Te,setScissorTest:tt,activeTexture:st,bindTexture:ft,unbindTexture:ae,compressedTexImage2D:te,compressedTexImage3D:Ne,texImage2D:Lt,texImage3D:yt,updateUBOMapping:_e,uniformBlockBinding:Pe,texStorage2D:It,texStorage3D:Vt,texSubImage2D:Ye,texSubImage3D:pt,compressedTexSubImage2D:Ke,compressedTexSubImage3D:Jt,scissor:bt,viewport:Zt,reset:ht}}function _Be(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new xt,d=new WeakMap;let c;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ae,te){return m?new OffscreenCanvas(ae,te):xb("canvas")}function b(ae,te,Ne){let Ye=1;const pt=ft(ae);if((pt.width>Ne||pt.height>Ne)&&(Ye=Ne/Math.max(pt.width,pt.height)),Ye<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Ke=Math.floor(Ye*pt.width),Jt=Math.floor(Ye*pt.height);c===void 0&&(c=v(Ke,Jt));const It=te?v(Ke,Jt):c;return It.width=Ke,It.height=Jt,It.getContext("2d").drawImage(ae,0,0,Ke,Jt),tn("WebGLRenderer: Texture has been resized from ("+pt.width+"x"+pt.height+") to ("+Ke+"x"+Jt+")."),It}else return"data"in ae&&tn("WebGLRenderer: Image in DataTexture is too big ("+pt.width+"x"+pt.height+")."),ae;return ae}function y(ae){return ae.generateMipmaps}function w(ae){n.generateMipmap(ae)}function A(ae){return ae.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?n.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(ae,te,Ne,Ye,pt=!1){if(ae!==null){if(n[ae]!==void 0)return n[ae];tn("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Ke=te;if(te===n.RED&&(Ne===n.FLOAT&&(Ke=n.R32F),Ne===n.HALF_FLOAT&&(Ke=n.R16F),Ne===n.UNSIGNED_BYTE&&(Ke=n.R8)),te===n.RED_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(Ke=n.R8UI),Ne===n.UNSIGNED_SHORT&&(Ke=n.R16UI),Ne===n.UNSIGNED_INT&&(Ke=n.R32UI),Ne===n.BYTE&&(Ke=n.R8I),Ne===n.SHORT&&(Ke=n.R16I),Ne===n.INT&&(Ke=n.R32I)),te===n.RG&&(Ne===n.FLOAT&&(Ke=n.RG32F),Ne===n.HALF_FLOAT&&(Ke=n.RG16F),Ne===n.UNSIGNED_BYTE&&(Ke=n.RG8)),te===n.RG_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(Ke=n.RG8UI),Ne===n.UNSIGNED_SHORT&&(Ke=n.RG16UI),Ne===n.UNSIGNED_INT&&(Ke=n.RG32UI),Ne===n.BYTE&&(Ke=n.RG8I),Ne===n.SHORT&&(Ke=n.RG16I),Ne===n.INT&&(Ke=n.RG32I)),te===n.RGB_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(Ke=n.RGB8UI),Ne===n.UNSIGNED_SHORT&&(Ke=n.RGB16UI),Ne===n.UNSIGNED_INT&&(Ke=n.RGB32UI),Ne===n.BYTE&&(Ke=n.RGB8I),Ne===n.SHORT&&(Ke=n.RGB16I),Ne===n.INT&&(Ke=n.RGB32I)),te===n.RGBA_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(Ke=n.RGBA8UI),Ne===n.UNSIGNED_SHORT&&(Ke=n.RGBA16UI),Ne===n.UNSIGNED_INT&&(Ke=n.RGBA32UI),Ne===n.BYTE&&(Ke=n.RGBA8I),Ne===n.SHORT&&(Ke=n.RGBA16I),Ne===n.INT&&(Ke=n.RGBA32I)),te===n.RGB&&(Ne===n.UNSIGNED_INT_5_9_9_9_REV&&(Ke=n.RGB9_E5),Ne===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ke=n.R11F_G11F_B10F)),te===n.RGBA){const Jt=pt?vb:Mr.getTransfer(Ye);Ne===n.FLOAT&&(Ke=n.RGBA32F),Ne===n.HALF_FLOAT&&(Ke=n.RGBA16F),Ne===n.UNSIGNED_BYTE&&(Ke=Jt===Vr?n.SRGB8_ALPHA8:n.RGBA8),Ne===n.UNSIGNED_SHORT_4_4_4_4&&(Ke=n.RGBA4),Ne===n.UNSIGNED_SHORT_5_5_5_1&&(Ke=n.RGB5_A1)}return(Ke===n.R16F||Ke===n.R32F||Ke===n.RG16F||Ke===n.RG32F||Ke===n.RGBA16F||Ke===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ke}function C(ae,te){let Ne;return ae?te===null||te===fu||te===V0?Ne=n.DEPTH24_STENCIL8:te===Ti?Ne=n.DEPTH32F_STENCIL8:te===G0&&(Ne=n.DEPTH24_STENCIL8,tn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):te===null||te===fu||te===V0?Ne=n.DEPTH_COMPONENT24:te===Ti?Ne=n.DEPTH_COMPONENT32F:te===G0&&(Ne=n.DEPTH_COMPONENT16),Ne}function M(ae,te){return y(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==js&&ae.minFilter!==Rr?Math.log2(Math.max(te.width,te.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?te.mipmaps.length:1}function P(ae){const te=ae.target;te.removeEventListener("dispose",P),k(te),te.isVideoTexture&&d.delete(te)}function O(ae){const te=ae.target;te.removeEventListener("dispose",O),I(te)}function k(ae){const te=r.get(ae);if(te.__webglInit===void 0)return;const Ne=ae.source,Ye=f.get(Ne);if(Ye){const pt=Ye[te.__cacheKey];pt.usedTimes--,pt.usedTimes===0&&D(ae),Object.keys(Ye).length===0&&f.delete(Ne)}r.remove(ae)}function D(ae){const te=r.get(ae);n.deleteTexture(te.__webglTexture);const Ne=ae.source,Ye=f.get(Ne);delete Ye[te.__cacheKey],o.memory.textures--}function I(ae){const te=r.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),r.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let Ye=0;Ye<6;Ye++){if(Array.isArray(te.__webglFramebuffer[Ye]))for(let pt=0;pt<te.__webglFramebuffer[Ye].length;pt++)n.deleteFramebuffer(te.__webglFramebuffer[Ye][pt]);else n.deleteFramebuffer(te.__webglFramebuffer[Ye]);te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer[Ye])}else{if(Array.isArray(te.__webglFramebuffer))for(let Ye=0;Ye<te.__webglFramebuffer.length;Ye++)n.deleteFramebuffer(te.__webglFramebuffer[Ye]);else n.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&n.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let Ye=0;Ye<te.__webglColorRenderbuffer.length;Ye++)te.__webglColorRenderbuffer[Ye]&&n.deleteRenderbuffer(te.__webglColorRenderbuffer[Ye]);te.__webglDepthRenderbuffer&&n.deleteRenderbuffer(te.__webglDepthRenderbuffer)}const Ne=ae.textures;for(let Ye=0,pt=Ne.length;Ye<pt;Ye++){const Ke=r.get(Ne[Ye]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(Ne[Ye])}r.remove(ae)}let L=0;function W(){L=0}function q(){const ae=L;return ae>=i.maxTextures&&tn("WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+i.maxTextures),L+=1,ae}function K(ae){const te=[];return te.push(ae.wrapS),te.push(ae.wrapT),te.push(ae.wrapR||0),te.push(ae.magFilter),te.push(ae.minFilter),te.push(ae.anisotropy),te.push(ae.internalFormat),te.push(ae.format),te.push(ae.type),te.push(ae.generateMipmaps),te.push(ae.premultiplyAlpha),te.push(ae.flipY),te.push(ae.unpackAlignment),te.push(ae.colorSpace),te.join()}function ie(ae,te){const Ne=r.get(ae);if(ae.isVideoTexture&&tt(ae),ae.isRenderTargetTexture===!1&&ae.isExternalTexture!==!0&&ae.version>0&&Ne.__version!==ae.version){const Ye=ae.image;if(Ye===null)tn("WebGLRenderer: Texture marked for update but no image data found.");else if(Ye.complete===!1)tn("WebGLRenderer: Texture marked for update but image is incomplete");else{we(Ne,ae,te);return}}else ae.isExternalTexture&&(Ne.__webglTexture=ae.sourceTexture?ae.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Ne.__webglTexture,n.TEXTURE0+te)}function V(ae,te){const Ne=r.get(ae);if(ae.isRenderTargetTexture===!1&&ae.version>0&&Ne.__version!==ae.version){we(Ne,ae,te);return}else ae.isExternalTexture&&(Ne.__webglTexture=ae.sourceTexture?ae.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Ne.__webglTexture,n.TEXTURE0+te)}function J(ae,te){const Ne=r.get(ae);if(ae.isRenderTargetTexture===!1&&ae.version>0&&Ne.__version!==ae.version){we(Ne,ae,te);return}t.bindTexture(n.TEXTURE_3D,Ne.__webglTexture,n.TEXTURE0+te)}function H(ae,te){const Ne=r.get(ae);if(ae.version>0&&Ne.__version!==ae.version){Ae(Ne,ae,te);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture,n.TEXTURE0+te)}const Y={[Yf]:n.REPEAT,[Mi]:n.CLAMP_TO_EDGE,[H0]:n.MIRRORED_REPEAT},ne={[js]:n.NEAREST,[TC]:n.NEAREST_MIPMAP_NEAREST,[Tp]:n.NEAREST_MIPMAP_LINEAR,[Rr]:n.LINEAR,[l0]:n.LINEAR_MIPMAP_NEAREST,[ml]:n.LINEAR_MIPMAP_LINEAR},Z={[NZ]:n.NEVER,[kZ]:n.ALWAYS,[IZ]:n.LESS,[EB]:n.LEQUAL,[OZ]:n.EQUAL,[BZ]:n.GEQUAL,[FZ]:n.GREATER,[DZ]:n.NOTEQUAL};function oe(ae,te){if(te.type===Ti&&e.has("OES_texture_float_linear")===!1&&(te.magFilter===Rr||te.magFilter===l0||te.magFilter===Tp||te.magFilter===ml||te.minFilter===Rr||te.minFilter===l0||te.minFilter===Tp||te.minFilter===ml)&&tn("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ae,n.TEXTURE_WRAP_S,Y[te.wrapS]),n.texParameteri(ae,n.TEXTURE_WRAP_T,Y[te.wrapT]),(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ae,n.TEXTURE_WRAP_R,Y[te.wrapR]),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,ne[te.magFilter]),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,ne[te.minFilter]),te.compareFunction&&(n.texParameteri(ae,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ae,n.TEXTURE_COMPARE_FUNC,Z[te.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(te.magFilter===js||te.minFilter!==Tp&&te.minFilter!==ml||te.type===Ti&&e.has("OES_texture_float_linear")===!1)return;if(te.anisotropy>1||r.get(te).__currentAnisotropy){const Ne=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ae,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,i.getMaxAnisotropy())),r.get(te).__currentAnisotropy=te.anisotropy}}}function ye(ae,te){let Ne=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,te.addEventListener("dispose",P));const Ye=te.source;let pt=f.get(Ye);pt===void 0&&(pt={},f.set(Ye,pt));const Ke=K(te);if(Ke!==ae.__cacheKey){pt[Ke]===void 0&&(pt[Ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ne=!0),pt[Ke].usedTimes++;const Jt=pt[ae.__cacheKey];Jt!==void 0&&(pt[ae.__cacheKey].usedTimes--,Jt.usedTimes===0&&D(te)),ae.__cacheKey=Ke,ae.__webglTexture=pt[Ke].texture}return Ne}function Be(ae,te,Ne){return Math.floor(Math.floor(ae/Ne)/te)}function Xe(ae,te,Ne,Ye){const Ke=ae.updateRanges;if(Ke.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,te.width,te.height,Ne,Ye,te.data);else{Ke.sort((yt,bt)=>yt.start-bt.start);let Jt=0;for(let yt=1;yt<Ke.length;yt++){const bt=Ke[Jt],Zt=Ke[yt],_e=bt.start+bt.count,Pe=Be(Zt.start,te.width,4),ht=Be(bt.start,te.width,4);Zt.start<=_e+1&&Pe===ht&&Be(Zt.start+Zt.count-1,te.width,4)===Pe?bt.count=Math.max(bt.count,Zt.start+Zt.count-bt.start):(++Jt,Ke[Jt]=Zt)}Ke.length=Jt+1;const It=n.getParameter(n.UNPACK_ROW_LENGTH),Vt=n.getParameter(n.UNPACK_SKIP_PIXELS),Lt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,te.width);for(let yt=0,bt=Ke.length;yt<bt;yt++){const Zt=Ke[yt],_e=Math.floor(Zt.start/4),Pe=Math.ceil(Zt.count/4),ht=_e%te.width,he=Math.floor(_e/te.width),Le=Pe,lt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ht),n.pixelStorei(n.UNPACK_SKIP_ROWS,he),t.texSubImage2D(n.TEXTURE_2D,0,ht,he,Le,lt,Ne,Ye,te.data)}ae.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,It),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Vt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Lt)}}function we(ae,te,Ne){let Ye=n.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(Ye=n.TEXTURE_2D_ARRAY),te.isData3DTexture&&(Ye=n.TEXTURE_3D);const pt=ye(ae,te),Ke=te.source;t.bindTexture(Ye,ae.__webglTexture,n.TEXTURE0+Ne);const Jt=r.get(Ke);if(Ke.version!==Jt.__version||pt===!0){t.activeTexture(n.TEXTURE0+Ne);const It=Mr.getPrimaries(Mr.workingColorSpace),Vt=te.colorSpace===od?null:Mr.getPrimaries(te.colorSpace),Lt=te.colorSpace===od||It===Vt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,te.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,te.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Lt);let yt=b(te.image,!1,i.maxTextureSize);yt=st(te,yt);const bt=s.convert(te.format,te.colorSpace),Zt=s.convert(te.type);let _e=E(te.internalFormat,bt,Zt,te.colorSpace,te.isVideoTexture);oe(Ye,te);let Pe;const ht=te.mipmaps,he=te.isVideoTexture!==!0,Le=Jt.__version===void 0||pt===!0,lt=Ke.dataReady,vt=M(te,yt);if(te.isDepthTexture)_e=C(te.format===$0,te.type),Le&&(he?t.texStorage2D(n.TEXTURE_2D,1,_e,yt.width,yt.height):t.texImage2D(n.TEXTURE_2D,0,_e,yt.width,yt.height,0,bt,Zt,null));else if(te.isDataTexture)if(ht.length>0){he&&Le&&t.texStorage2D(n.TEXTURE_2D,vt,_e,ht[0].width,ht[0].height);for(let mt=0,je=ht.length;mt<je;mt++)Pe=ht[mt],he?lt&&t.texSubImage2D(n.TEXTURE_2D,mt,0,0,Pe.width,Pe.height,bt,Zt,Pe.data):t.texImage2D(n.TEXTURE_2D,mt,_e,Pe.width,Pe.height,0,bt,Zt,Pe.data);te.generateMipmaps=!1}else he?(Le&&t.texStorage2D(n.TEXTURE_2D,vt,_e,yt.width,yt.height),lt&&Xe(te,yt,bt,Zt)):t.texImage2D(n.TEXTURE_2D,0,_e,yt.width,yt.height,0,bt,Zt,yt.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){he&&Le&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,_e,ht[0].width,ht[0].height,yt.depth);for(let mt=0,je=ht.length;mt<je;mt++)if(Pe=ht[mt],te.format!==$i)if(bt!==null)if(he){if(lt)if(te.layerUpdates.size>0){const _t=KO(Pe.width,Pe.height,te.format,te.type);for(const jt of te.layerUpdates){const _n=Pe.data.subarray(jt*_t/Pe.data.BYTES_PER_ELEMENT,(jt+1)*_t/Pe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,mt,0,0,jt,Pe.width,Pe.height,1,bt,_n)}te.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,mt,0,0,0,Pe.width,Pe.height,yt.depth,bt,Pe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,mt,_e,Pe.width,Pe.height,yt.depth,0,Pe.data,0,0);else tn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else he?lt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,mt,0,0,0,Pe.width,Pe.height,yt.depth,bt,Zt,Pe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,mt,_e,Pe.width,Pe.height,yt.depth,0,bt,Zt,Pe.data)}else{he&&Le&&t.texStorage2D(n.TEXTURE_2D,vt,_e,ht[0].width,ht[0].height);for(let mt=0,je=ht.length;mt<je;mt++)Pe=ht[mt],te.format!==$i?bt!==null?he?lt&&t.compressedTexSubImage2D(n.TEXTURE_2D,mt,0,0,Pe.width,Pe.height,bt,Pe.data):t.compressedTexImage2D(n.TEXTURE_2D,mt,_e,Pe.width,Pe.height,0,Pe.data):tn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):he?lt&&t.texSubImage2D(n.TEXTURE_2D,mt,0,0,Pe.width,Pe.height,bt,Zt,Pe.data):t.texImage2D(n.TEXTURE_2D,mt,_e,Pe.width,Pe.height,0,bt,Zt,Pe.data)}else if(te.isDataArrayTexture)if(he){if(Le&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,_e,yt.width,yt.height,yt.depth),lt)if(te.layerUpdates.size>0){const mt=KO(yt.width,yt.height,te.format,te.type);for(const je of te.layerUpdates){const _t=yt.data.subarray(je*mt/yt.data.BYTES_PER_ELEMENT,(je+1)*mt/yt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,je,yt.width,yt.height,1,bt,Zt,_t)}te.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,yt.width,yt.height,yt.depth,bt,Zt,yt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,_e,yt.width,yt.height,yt.depth,0,bt,Zt,yt.data);else if(te.isData3DTexture)he?(Le&&t.texStorage3D(n.TEXTURE_3D,vt,_e,yt.width,yt.height,yt.depth),lt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,yt.width,yt.height,yt.depth,bt,Zt,yt.data)):t.texImage3D(n.TEXTURE_3D,0,_e,yt.width,yt.height,yt.depth,0,bt,Zt,yt.data);else if(te.isFramebufferTexture){if(Le)if(he)t.texStorage2D(n.TEXTURE_2D,vt,_e,yt.width,yt.height);else{let mt=yt.width,je=yt.height;for(let _t=0;_t<vt;_t++)t.texImage2D(n.TEXTURE_2D,_t,_e,mt,je,0,bt,Zt,null),mt>>=1,je>>=1}}else if(ht.length>0){if(he&&Le){const mt=ft(ht[0]);t.texStorage2D(n.TEXTURE_2D,vt,_e,mt.width,mt.height)}for(let mt=0,je=ht.length;mt<je;mt++)Pe=ht[mt],he?lt&&t.texSubImage2D(n.TEXTURE_2D,mt,0,0,bt,Zt,Pe):t.texImage2D(n.TEXTURE_2D,mt,_e,bt,Zt,Pe);te.generateMipmaps=!1}else if(he){if(Le){const mt=ft(yt);t.texStorage2D(n.TEXTURE_2D,vt,_e,mt.width,mt.height)}lt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,bt,Zt,yt)}else t.texImage2D(n.TEXTURE_2D,0,_e,bt,Zt,yt);y(te)&&w(Ye),Jt.__version=Ke.version,te.onUpdate&&te.onUpdate(te)}ae.__version=te.version}function Ae(ae,te,Ne){if(te.image.length!==6)return;const Ye=ye(ae,te),pt=te.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+Ne);const Ke=r.get(pt);if(pt.version!==Ke.__version||Ye===!0){t.activeTexture(n.TEXTURE0+Ne);const Jt=Mr.getPrimaries(Mr.workingColorSpace),It=te.colorSpace===od?null:Mr.getPrimaries(te.colorSpace),Vt=te.colorSpace===od||Jt===It?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,te.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,te.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vt);const Lt=te.isCompressedTexture||te.image[0].isCompressedTexture,yt=te.image[0]&&te.image[0].isDataTexture,bt=[];for(let je=0;je<6;je++)!Lt&&!yt?bt[je]=b(te.image[je],!0,i.maxCubemapSize):bt[je]=yt?te.image[je].image:te.image[je],bt[je]=st(te,bt[je]);const Zt=bt[0],_e=s.convert(te.format,te.colorSpace),Pe=s.convert(te.type),ht=E(te.internalFormat,_e,Pe,te.colorSpace),he=te.isVideoTexture!==!0,Le=Ke.__version===void 0||Ye===!0,lt=pt.dataReady;let vt=M(te,Zt);oe(n.TEXTURE_CUBE_MAP,te);let mt;if(Lt){he&&Le&&t.texStorage2D(n.TEXTURE_CUBE_MAP,vt,ht,Zt.width,Zt.height);for(let je=0;je<6;je++){mt=bt[je].mipmaps;for(let _t=0;_t<mt.length;_t++){const jt=mt[_t];te.format!==$i?_e!==null?he?lt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t,0,0,jt.width,jt.height,_e,jt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t,ht,jt.width,jt.height,0,jt.data):tn("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):he?lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t,0,0,jt.width,jt.height,_e,Pe,jt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t,ht,jt.width,jt.height,0,_e,Pe,jt.data)}}}else{if(mt=te.mipmaps,he&&Le){mt.length>0&&vt++;const je=ft(bt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,vt,ht,je.width,je.height)}for(let je=0;je<6;je++)if(yt){he?lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,bt[je].width,bt[je].height,_e,Pe,bt[je].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,ht,bt[je].width,bt[je].height,0,_e,Pe,bt[je].data);for(let _t=0;_t<mt.length;_t++){const _n=mt[_t].image[je].image;he?lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t+1,0,0,_n.width,_n.height,_e,Pe,_n.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t+1,ht,_n.width,_n.height,0,_e,Pe,_n.data)}}else{he?lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,_e,Pe,bt[je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,ht,_e,Pe,bt[je]);for(let _t=0;_t<mt.length;_t++){const jt=mt[_t];he?lt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t+1,0,0,_e,Pe,jt.image[je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,_t+1,ht,_e,Pe,jt.image[je])}}}y(te)&&w(n.TEXTURE_CUBE_MAP),Ke.__version=pt.version,te.onUpdate&&te.onUpdate(te)}ae.__version=te.version}function ke(ae,te,Ne,Ye,pt,Ke){const Jt=s.convert(Ne.format,Ne.colorSpace),It=s.convert(Ne.type),Vt=E(Ne.internalFormat,Jt,It,Ne.colorSpace),Lt=r.get(te),yt=r.get(Ne);if(yt.__renderTarget=te,!Lt.__hasExternalTextures){const bt=Math.max(1,te.width>>Ke),Zt=Math.max(1,te.height>>Ke);pt===n.TEXTURE_3D||pt===n.TEXTURE_2D_ARRAY?t.texImage3D(pt,Ke,Vt,bt,Zt,te.depth,0,Jt,It,null):t.texImage2D(pt,Ke,Vt,bt,Zt,0,Jt,It,null)}t.bindFramebuffer(n.FRAMEBUFFER,ae),Te(te)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ye,pt,yt.__webglTexture,0,wt(te)):(pt===n.TEXTURE_2D||pt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&pt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ye,pt,yt.__webglTexture,Ke),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Oe(ae,te,Ne){if(n.bindRenderbuffer(n.RENDERBUFFER,ae),te.depthBuffer){const Ye=te.depthTexture,pt=Ye&&Ye.isDepthTexture?Ye.type:null,Ke=C(te.stencilBuffer,pt),Jt=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,It=wt(te);Te(te)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,It,Ke,te.width,te.height):Ne?n.renderbufferStorageMultisample(n.RENDERBUFFER,It,Ke,te.width,te.height):n.renderbufferStorage(n.RENDERBUFFER,Ke,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Jt,n.RENDERBUFFER,ae)}else{const Ye=te.textures;for(let pt=0;pt<Ye.length;pt++){const Ke=Ye[pt],Jt=s.convert(Ke.format,Ke.colorSpace),It=s.convert(Ke.type),Vt=E(Ke.internalFormat,Jt,It,Ke.colorSpace),Lt=wt(te);Ne&&Te(te)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Lt,Vt,te.width,te.height):Te(te)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Lt,Vt,te.width,te.height):n.renderbufferStorage(n.RENDERBUFFER,Vt,te.width,te.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ge(ae,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ae),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ye=r.get(te.depthTexture);Ye.__renderTarget=te,(!Ye.__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),ie(te.depthTexture,0);const pt=Ye.__webglTexture,Ke=wt(te);if(te.depthTexture.format===W0)Te(te)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pt,0,Ke):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pt,0);else if(te.depthTexture.format===$0)Te(te)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pt,0,Ke):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pt,0);else throw new Error("Unknown depthTexture format")}function et(ae){const te=r.get(ae),Ne=ae.isWebGLCubeRenderTarget===!0;if(te.__boundDepthTexture!==ae.depthTexture){const Ye=ae.depthTexture;if(te.__depthDisposeCallback&&te.__depthDisposeCallback(),Ye){const pt=()=>{delete te.__boundDepthTexture,delete te.__depthDisposeCallback,Ye.removeEventListener("dispose",pt)};Ye.addEventListener("dispose",pt),te.__depthDisposeCallback=pt}te.__boundDepthTexture=Ye}if(ae.depthTexture&&!te.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");const Ye=ae.texture.mipmaps;Ye&&Ye.length>0?Ge(te.__webglFramebuffer[0],ae):Ge(te.__webglFramebuffer,ae)}else if(Ne){te.__webglDepthbuffer=[];for(let Ye=0;Ye<6;Ye++)if(t.bindFramebuffer(n.FRAMEBUFFER,te.__webglFramebuffer[Ye]),te.__webglDepthbuffer[Ye]===void 0)te.__webglDepthbuffer[Ye]=n.createRenderbuffer(),Oe(te.__webglDepthbuffer[Ye],ae,!1);else{const pt=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ke=te.__webglDepthbuffer[Ye];n.bindRenderbuffer(n.RENDERBUFFER,Ke),n.framebufferRenderbuffer(n.FRAMEBUFFER,pt,n.RENDERBUFFER,Ke)}}else{const Ye=ae.texture.mipmaps;if(Ye&&Ye.length>0?t.bindFramebuffer(n.FRAMEBUFFER,te.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,te.__webglFramebuffer),te.__webglDepthbuffer===void 0)te.__webglDepthbuffer=n.createRenderbuffer(),Oe(te.__webglDepthbuffer,ae,!1);else{const pt=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ke=te.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ke),n.framebufferRenderbuffer(n.FRAMEBUFFER,pt,n.RENDERBUFFER,Ke)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(ae,te,Ne){const Ye=r.get(ae);te!==void 0&&ke(Ye.__webglFramebuffer,ae,ae.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ne!==void 0&&et(ae)}function nt(ae){const te=ae.texture,Ne=r.get(ae),Ye=r.get(te);ae.addEventListener("dispose",O);const pt=ae.textures,Ke=ae.isWebGLCubeRenderTarget===!0,Jt=pt.length>1;if(Jt||(Ye.__webglTexture===void 0&&(Ye.__webglTexture=n.createTexture()),Ye.__version=te.version,o.memory.textures++),Ke){Ne.__webglFramebuffer=[];for(let It=0;It<6;It++)if(te.mipmaps&&te.mipmaps.length>0){Ne.__webglFramebuffer[It]=[];for(let Vt=0;Vt<te.mipmaps.length;Vt++)Ne.__webglFramebuffer[It][Vt]=n.createFramebuffer()}else Ne.__webglFramebuffer[It]=n.createFramebuffer()}else{if(te.mipmaps&&te.mipmaps.length>0){Ne.__webglFramebuffer=[];for(let It=0;It<te.mipmaps.length;It++)Ne.__webglFramebuffer[It]=n.createFramebuffer()}else Ne.__webglFramebuffer=n.createFramebuffer();if(Jt)for(let It=0,Vt=pt.length;It<Vt;It++){const Lt=r.get(pt[It]);Lt.__webglTexture===void 0&&(Lt.__webglTexture=n.createTexture(),o.memory.textures++)}if(ae.samples>0&&Te(ae)===!1){Ne.__webglMultisampledFramebuffer=n.createFramebuffer(),Ne.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let It=0;It<pt.length;It++){const Vt=pt[It];Ne.__webglColorRenderbuffer[It]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ne.__webglColorRenderbuffer[It]);const Lt=s.convert(Vt.format,Vt.colorSpace),yt=s.convert(Vt.type),bt=E(Vt.internalFormat,Lt,yt,Vt.colorSpace,ae.isXRRenderTarget===!0),Zt=wt(ae);n.renderbufferStorageMultisample(n.RENDERBUFFER,Zt,bt,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+It,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[It])}n.bindRenderbuffer(n.RENDERBUFFER,null),ae.depthBuffer&&(Ne.__webglDepthRenderbuffer=n.createRenderbuffer(),Oe(Ne.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ke){t.bindTexture(n.TEXTURE_CUBE_MAP,Ye.__webglTexture),oe(n.TEXTURE_CUBE_MAP,te);for(let It=0;It<6;It++)if(te.mipmaps&&te.mipmaps.length>0)for(let Vt=0;Vt<te.mipmaps.length;Vt++)ke(Ne.__webglFramebuffer[It][Vt],ae,te,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+It,Vt);else ke(Ne.__webglFramebuffer[It],ae,te,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0);y(te)&&w(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Jt){for(let It=0,Vt=pt.length;It<Vt;It++){const Lt=pt[It],yt=r.get(Lt);let bt=n.TEXTURE_2D;(ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(bt=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(bt,yt.__webglTexture),oe(bt,Lt),ke(Ne.__webglFramebuffer,ae,Lt,n.COLOR_ATTACHMENT0+It,bt,0),y(Lt)&&w(bt)}t.unbindTexture()}else{let It=n.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(It=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(It,Ye.__webglTexture),oe(It,te),te.mipmaps&&te.mipmaps.length>0)for(let Vt=0;Vt<te.mipmaps.length;Vt++)ke(Ne.__webglFramebuffer[Vt],ae,te,n.COLOR_ATTACHMENT0,It,Vt);else ke(Ne.__webglFramebuffer,ae,te,n.COLOR_ATTACHMENT0,It,0);y(te)&&w(It),t.unbindTexture()}ae.depthBuffer&&et(ae)}function Fe(ae){const te=ae.textures;for(let Ne=0,Ye=te.length;Ne<Ye;Ne++){const pt=te[Ne];if(y(pt)){const Ke=A(ae),Jt=r.get(pt).__webglTexture;t.bindTexture(Ke,Jt),w(Ke),t.unbindTexture()}}}const ce=[],rt=[];function ct(ae){if(ae.samples>0){if(Te(ae)===!1){const te=ae.textures,Ne=ae.width,Ye=ae.height;let pt=n.COLOR_BUFFER_BIT;const Ke=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Jt=r.get(ae),It=te.length>1;if(It)for(let Lt=0;Lt<te.length;Lt++)t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Jt.__webglMultisampledFramebuffer);const Vt=ae.texture.mipmaps;Vt&&Vt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Jt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Jt.__webglFramebuffer);for(let Lt=0;Lt<te.length;Lt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(pt|=n.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(pt|=n.STENCIL_BUFFER_BIT)),It){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Jt.__webglColorRenderbuffer[Lt]);const yt=r.get(te[Lt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,yt,0)}n.blitFramebuffer(0,0,Ne,Ye,0,0,Ne,Ye,pt,n.NEAREST),l===!0&&(ce.length=0,rt.length=0,ce.push(n.COLOR_ATTACHMENT0+Lt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(ce.push(Ke),rt.push(Ke),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,rt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ce))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),It)for(let Lt=0;Lt<te.length;Lt++){t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.RENDERBUFFER,Jt.__webglColorRenderbuffer[Lt]);const yt=r.get(te[Lt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.TEXTURE_2D,yt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Jt.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&l){const te=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[te])}}}function wt(ae){return Math.min(i.maxSamples,ae.samples)}function Te(ae){const te=r.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function tt(ae){const te=o.render.frame;d.get(ae)!==te&&(d.set(ae,te),ae.update())}function st(ae,te){const Ne=ae.colorSpace,Ye=ae.format,pt=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||Ne!==hu&&Ne!==od&&(Mr.getTransfer(Ne)===Vr?(Ye!==$i||pt!==qo)&&tn("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Vn("WebGLTextures: Unsupported texture color space:",Ne)),te}function ft(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(u.width=ae.naturalWidth||ae.width,u.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(u.width=ae.displayWidth,u.height=ae.displayHeight):(u.width=ae.width,u.height=ae.height),u}this.allocateTextureUnit=q,this.resetTextureUnits=W,this.setTexture2D=ie,this.setTexture2DArray=V,this.setTexture3D=J,this.setTextureCube=H,this.rebindTextures=ze,this.setupRenderTarget=nt,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=ct,this.setupDepthRenderbuffer=et,this.setupFrameBufferTexture=ke,this.useMultisampledRTT=Te}function GQ(n,e){function t(r,i=od){let s;const o=Mr.getTransfer(i);if(r===qo)return n.UNSIGNED_BYTE;if(r===NC)return n.UNSIGNED_SHORT_4_4_4_4;if(r===IC)return n.UNSIGNED_SHORT_5_5_5_1;if(r===yB)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===xB)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===PC)return n.BYTE;if(r===RC)return n.SHORT;if(r===G0)return n.UNSIGNED_SHORT;if(r===e_)return n.INT;if(r===fu)return n.UNSIGNED_INT;if(r===Ti)return n.FLOAT;if(r===ws)return n.HALF_FLOAT;if(r===bB)return n.ALPHA;if(r===_B)return n.RGB;if(r===$i)return n.RGBA;if(r===W0)return n.DEPTH_COMPONENT;if(r===$0)return n.DEPTH_STENCIL;if(r===t_)return n.RED;if(r===n_)return n.RED_INTEGER;if(r===OC)return n.RG;if(r===FC)return n.RG_INTEGER;if(r===DC)return n.RGBA_INTEGER;if(r===ux||r===dx||r===fx||r===hx)if(o===Vr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===ux)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===dx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===fx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===hx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===ux)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===dx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===fx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===hx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===SA||r===AA||r===EA||r===CA)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===SA)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===AA)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===EA)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===CA)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===MA||r===TA||r===PA)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===MA||r===TA)return o===Vr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===PA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===RA||r===NA||r===IA||r===OA||r===FA||r===DA||r===BA||r===kA||r===LA||r===jA||r===UA||r===zA||r===HA||r===GA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===RA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===NA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===IA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===OA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===FA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===DA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===BA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===kA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===LA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===jA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===UA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===zA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===HA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===GA)return o===Vr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===VA||r===WA||r===$A)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===VA)return o===Vr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===WA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===$A)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===qA||r===XA||r===KA||r===YA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===qA)return s.COMPRESSED_RED_RGTC1_EXT;if(r===XA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===KA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===YA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===V0?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const wBe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,SBe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ABe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new kB(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Xo({vertexShader:wBe,fragmentShader:SBe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Pi(new dh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class EBe extends xu{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,d=null,c=null,f=null,m=null,v=null;const b=typeof XRWebGLBinding<"u",y=new ABe,w={},A=t.getContextAttributes();let E=null,C=null;const M=[],P=[],O=new xt;let k=null;const D=new Li;D.viewport=new Pr;const I=new Li;I.viewport=new Pr;const L=[D,I],W=new IQ;let q=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(we){let Ae=M[we];return Ae===void 0&&(Ae=new qw,M[we]=Ae),Ae.getTargetRaySpace()},this.getControllerGrip=function(we){let Ae=M[we];return Ae===void 0&&(Ae=new qw,M[we]=Ae),Ae.getGripSpace()},this.getHand=function(we){let Ae=M[we];return Ae===void 0&&(Ae=new qw,M[we]=Ae),Ae.getHandSpace()};function ie(we){const Ae=P.indexOf(we.inputSource);if(Ae===-1)return;const ke=M[Ae];ke!==void 0&&(ke.update(we.inputSource,we.frame,u||o),ke.dispatchEvent({type:we.type,data:we.inputSource}))}function V(){i.removeEventListener("select",ie),i.removeEventListener("selectstart",ie),i.removeEventListener("selectend",ie),i.removeEventListener("squeeze",ie),i.removeEventListener("squeezestart",ie),i.removeEventListener("squeezeend",ie),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",J);for(let we=0;we<M.length;we++){const Ae=P[we];Ae!==null&&(P[we]=null,M[we].disconnect(Ae))}q=null,K=null,y.reset();for(const we in w)delete w[we];e.setRenderTarget(E),m=null,f=null,c=null,i=null,C=null,Xe.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(we){s=we,r.isPresenting===!0&&tn("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(we){a=we,r.isPresenting===!0&&tn("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(we){u=we},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return c===null&&b&&(c=new XRWebGLBinding(i,t)),c},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(we){if(i=we,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",ie),i.addEventListener("selectstart",ie),i.addEventListener("selectend",ie),i.addEventListener("squeeze",ie),i.addEventListener("squeezestart",ie),i.addEventListener("squeezeend",ie),i.addEventListener("end",V),i.addEventListener("inputsourceschange",J),A.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(O),b&&"createProjectionLayer"in XRWebGLBinding.prototype){let ke=null,Oe=null,Ge=null;A.depth&&(Ge=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ke=A.stencil?$0:W0,Oe=A.stencil?V0:fu);const et={colorFormat:t.RGBA8,depthFormat:Ge,scaleFactor:s};c=this.getBinding(),f=c.createProjectionLayer(et),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),C=new wl(f.textureWidth,f.textureHeight,{format:$i,type:qo,depthTexture:new BB(f.textureWidth,f.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,ke),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const ke={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ke),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),C=new wl(m.framebufferWidth,m.framebufferHeight,{format:$i,type:qo,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),Xe.setContext(i),Xe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function J(we){for(let Ae=0;Ae<we.removed.length;Ae++){const ke=we.removed[Ae],Oe=P.indexOf(ke);Oe>=0&&(P[Oe]=null,M[Oe].disconnect(ke))}for(let Ae=0;Ae<we.added.length;Ae++){const ke=we.added[Ae];let Oe=P.indexOf(ke);if(Oe===-1){for(let et=0;et<M.length;et++)if(et>=P.length){P.push(ke),Oe=et;break}else if(P[et]===null){P[et]=ke,Oe=et;break}if(Oe===-1)break}const Ge=M[Oe];Ge&&Ge.connect(ke)}}const H=new de,Y=new de;function ne(we,Ae,ke){H.setFromMatrixPosition(Ae.matrixWorld),Y.setFromMatrixPosition(ke.matrixWorld);const Oe=H.distanceTo(Y),Ge=Ae.projectionMatrix.elements,et=ke.projectionMatrix.elements,ze=Ge[14]/(Ge[10]-1),nt=Ge[14]/(Ge[10]+1),Fe=(Ge[9]+1)/Ge[5],ce=(Ge[9]-1)/Ge[5],rt=(Ge[8]-1)/Ge[0],ct=(et[8]+1)/et[0],wt=ze*rt,Te=ze*ct,tt=Oe/(-rt+ct),st=tt*-rt;if(Ae.matrixWorld.decompose(we.position,we.quaternion,we.scale),we.translateX(st),we.translateZ(tt),we.matrixWorld.compose(we.position,we.quaternion,we.scale),we.matrixWorldInverse.copy(we.matrixWorld).invert(),Ge[10]===-1)we.projectionMatrix.copy(Ae.projectionMatrix),we.projectionMatrixInverse.copy(Ae.projectionMatrixInverse);else{const ft=ze+tt,ae=nt+tt,te=wt-st,Ne=Te+(Oe-st),Ye=Fe*nt/ae*ft,pt=ce*nt/ae*ft;we.projectionMatrix.makePerspective(te,Ne,Ye,pt,ft,ae),we.projectionMatrixInverse.copy(we.projectionMatrix).invert()}}function Z(we,Ae){Ae===null?we.matrixWorld.copy(we.matrix):we.matrixWorld.multiplyMatrices(Ae.matrixWorld,we.matrix),we.matrixWorldInverse.copy(we.matrixWorld).invert()}this.updateCamera=function(we){if(i===null)return;let Ae=we.near,ke=we.far;y.texture!==null&&(y.depthNear>0&&(Ae=y.depthNear),y.depthFar>0&&(ke=y.depthFar)),W.near=I.near=D.near=Ae,W.far=I.far=D.far=ke,(q!==W.near||K!==W.far)&&(i.updateRenderState({depthNear:W.near,depthFar:W.far}),q=W.near,K=W.far),W.layers.mask=we.layers.mask|6,D.layers.mask=W.layers.mask&3,I.layers.mask=W.layers.mask&5;const Oe=we.parent,Ge=W.cameras;Z(W,Oe);for(let et=0;et<Ge.length;et++)Z(Ge[et],Oe);Ge.length===2?ne(W,D,I):W.projectionMatrix.copy(D.projectionMatrix),oe(we,W,Oe)};function oe(we,Ae,ke){ke===null?we.matrix.copy(Ae.matrixWorld):(we.matrix.copy(ke.matrixWorld),we.matrix.invert(),we.matrix.multiply(Ae.matrixWorld)),we.matrix.decompose(we.position,we.quaternion,we.scale),we.updateMatrixWorld(!0),we.projectionMatrix.copy(Ae.projectionMatrix),we.projectionMatrixInverse.copy(Ae.projectionMatrixInverse),we.isPerspectiveCamera&&(we.fov=J0*2*Math.atan(1/we.projectionMatrix.elements[5]),we.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(we){l=we,f!==null&&(f.fixedFoveation=we),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=we)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(W)},this.getCameraTexture=function(we){return w[we]};let ye=null;function Be(we,Ae){if(d=Ae.getViewerPose(u||o),v=Ae,d!==null){const ke=d.views;m!==null&&(e.setRenderTargetFramebuffer(C,m.framebuffer),e.setRenderTarget(C));let Oe=!1;ke.length!==W.cameras.length&&(W.cameras.length=0,Oe=!0);for(let nt=0;nt<ke.length;nt++){const Fe=ke[nt];let ce=null;if(m!==null)ce=m.getViewport(Fe);else{const ct=c.getViewSubImage(f,Fe);ce=ct.viewport,nt===0&&(e.setRenderTargetTextures(C,ct.colorTexture,ct.depthStencilTexture),e.setRenderTarget(C))}let rt=L[nt];rt===void 0&&(rt=new Li,rt.layers.enable(nt),rt.viewport=new Pr,L[nt]=rt),rt.matrix.fromArray(Fe.transform.matrix),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale),rt.projectionMatrix.fromArray(Fe.projectionMatrix),rt.projectionMatrixInverse.copy(rt.projectionMatrix).invert(),rt.viewport.set(ce.x,ce.y,ce.width,ce.height),nt===0&&(W.matrix.copy(rt.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),Oe===!0&&W.cameras.push(rt)}const Ge=i.enabledFeatures;if(Ge&&Ge.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&b){c=r.getBinding();const nt=c.getDepthInformation(ke[0]);nt&&nt.isValid&&nt.texture&&y.init(nt,i.renderState)}if(Ge&&Ge.includes("camera-access")&&b){e.state.unbindTexture(),c=r.getBinding();for(let nt=0;nt<ke.length;nt++){const Fe=ke[nt].camera;if(Fe){let ce=w[Fe];ce||(ce=new kB,w[Fe]=ce);const rt=c.getCameraImage(Fe);ce.sourceTexture=rt}}}}for(let ke=0;ke<M.length;ke++){const Oe=P[ke],Ge=M[ke];Oe!==null&&Ge!==void 0&&Ge.update(Oe,Ae,u||o)}ye&&ye(we,Ae),Ae.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ae}),v=null}const Xe=new LQ;Xe.setAnimationLoop(Be),this.setAnimationLoop=function(we){ye=we},this.dispose=function(){}}}const dp=new Ua,CBe=new Bn;function MBe(n,e){function t(y,w){y.matrixAutoUpdate===!0&&y.updateMatrix(),w.value.copy(y.matrix)}function r(y,w){w.color.getRGB(y.fogColor.value,GZ(n)),w.isFog?(y.fogNear.value=w.near,y.fogFar.value=w.far):w.isFogExp2&&(y.fogDensity.value=w.density)}function i(y,w,A,E,C){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(y,w):w.isMeshToonMaterial?(s(y,w),c(y,w)):w.isMeshPhongMaterial?(s(y,w),d(y,w)):w.isMeshStandardMaterial?(s(y,w),f(y,w),w.isMeshPhysicalMaterial&&m(y,w,C)):w.isMeshMatcapMaterial?(s(y,w),v(y,w)):w.isMeshDepthMaterial?s(y,w):w.isMeshDistanceMaterial?(s(y,w),b(y,w)):w.isMeshNormalMaterial?s(y,w):w.isLineBasicMaterial?(o(y,w),w.isLineDashedMaterial&&a(y,w)):w.isPointsMaterial?l(y,w,A,E):w.isSpriteMaterial?u(y,w):w.isShadowMaterial?(y.color.value.copy(w.color),y.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(y,w){y.opacity.value=w.opacity,w.color&&y.diffuse.value.copy(w.color),w.emissive&&y.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(y.map.value=w.map,t(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,t(w.alphaMap,y.alphaMapTransform)),w.bumpMap&&(y.bumpMap.value=w.bumpMap,t(w.bumpMap,y.bumpMapTransform),y.bumpScale.value=w.bumpScale,w.side===Wo&&(y.bumpScale.value*=-1)),w.normalMap&&(y.normalMap.value=w.normalMap,t(w.normalMap,y.normalMapTransform),y.normalScale.value.copy(w.normalScale),w.side===Wo&&y.normalScale.value.negate()),w.displacementMap&&(y.displacementMap.value=w.displacementMap,t(w.displacementMap,y.displacementMapTransform),y.displacementScale.value=w.displacementScale,y.displacementBias.value=w.displacementBias),w.emissiveMap&&(y.emissiveMap.value=w.emissiveMap,t(w.emissiveMap,y.emissiveMapTransform)),w.specularMap&&(y.specularMap.value=w.specularMap,t(w.specularMap,y.specularMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest);const A=e.get(w),E=A.envMap,C=A.envMapRotation;E&&(y.envMap.value=E,dp.copy(C),dp.x*=-1,dp.y*=-1,dp.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(dp.y*=-1,dp.z*=-1),y.envMapRotation.value.setFromMatrix4(CBe.makeRotationFromEuler(dp)),y.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=w.reflectivity,y.ior.value=w.ior,y.refractionRatio.value=w.refractionRatio),w.lightMap&&(y.lightMap.value=w.lightMap,y.lightMapIntensity.value=w.lightMapIntensity,t(w.lightMap,y.lightMapTransform)),w.aoMap&&(y.aoMap.value=w.aoMap,y.aoMapIntensity.value=w.aoMapIntensity,t(w.aoMap,y.aoMapTransform))}function o(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,w.map&&(y.map.value=w.map,t(w.map,y.mapTransform))}function a(y,w){y.dashSize.value=w.dashSize,y.totalSize.value=w.dashSize+w.gapSize,y.scale.value=w.scale}function l(y,w,A,E){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.size.value=w.size*A,y.scale.value=E*.5,w.map&&(y.map.value=w.map,t(w.map,y.uvTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,t(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function u(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.rotation.value=w.rotation,w.map&&(y.map.value=w.map,t(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,t(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function d(y,w){y.specular.value.copy(w.specular),y.shininess.value=Math.max(w.shininess,1e-4)}function c(y,w){w.gradientMap&&(y.gradientMap.value=w.gradientMap)}function f(y,w){y.metalness.value=w.metalness,w.metalnessMap&&(y.metalnessMap.value=w.metalnessMap,t(w.metalnessMap,y.metalnessMapTransform)),y.roughness.value=w.roughness,w.roughnessMap&&(y.roughnessMap.value=w.roughnessMap,t(w.roughnessMap,y.roughnessMapTransform)),w.envMap&&(y.envMapIntensity.value=w.envMapIntensity)}function m(y,w,A){y.ior.value=w.ior,w.sheen>0&&(y.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),y.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(y.sheenColorMap.value=w.sheenColorMap,t(w.sheenColorMap,y.sheenColorMapTransform)),w.sheenRoughnessMap&&(y.sheenRoughnessMap.value=w.sheenRoughnessMap,t(w.sheenRoughnessMap,y.sheenRoughnessMapTransform))),w.clearcoat>0&&(y.clearcoat.value=w.clearcoat,y.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(y.clearcoatMap.value=w.clearcoatMap,t(w.clearcoatMap,y.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,t(w.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(y.clearcoatNormalMap.value=w.clearcoatNormalMap,t(w.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Wo&&y.clearcoatNormalScale.value.negate())),w.dispersion>0&&(y.dispersion.value=w.dispersion),w.iridescence>0&&(y.iridescence.value=w.iridescence,y.iridescenceIOR.value=w.iridescenceIOR,y.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(y.iridescenceMap.value=w.iridescenceMap,t(w.iridescenceMap,y.iridescenceMapTransform)),w.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=w.iridescenceThicknessMap,t(w.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),w.transmission>0&&(y.transmission.value=w.transmission,y.transmissionSamplerMap.value=A.texture,y.transmissionSamplerSize.value.set(A.width,A.height),w.transmissionMap&&(y.transmissionMap.value=w.transmissionMap,t(w.transmissionMap,y.transmissionMapTransform)),y.thickness.value=w.thickness,w.thicknessMap&&(y.thicknessMap.value=w.thicknessMap,t(w.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=w.attenuationDistance,y.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(y.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(y.anisotropyMap.value=w.anisotropyMap,t(w.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=w.specularIntensity,y.specularColor.value.copy(w.specularColor),w.specularColorMap&&(y.specularColorMap.value=w.specularColorMap,t(w.specularColorMap,y.specularColorMapTransform)),w.specularIntensityMap&&(y.specularIntensityMap.value=w.specularIntensityMap,t(w.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,w){w.matcap&&(y.matcap.value=w.matcap)}function b(y,w){const A=e.get(w).light;y.referencePosition.value.setFromMatrixPosition(A.matrixWorld),y.nearDistance.value=A.shadow.camera.near,y.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function TBe(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,E){const C=E.program;r.uniformBlockBinding(A,C)}function u(A,E){let C=i[A.id];C===void 0&&(v(A),C=d(A),i[A.id]=C,A.addEventListener("dispose",y));const M=E.program;r.updateUBOMapping(A,M);const P=e.render.frame;s[A.id]!==P&&(f(A),s[A.id]=P)}function d(A){const E=c();A.__bindingPointIndex=E;const C=n.createBuffer(),M=A.__size,P=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,M,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,C),C}function c(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return Vn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(A){const E=i[A.id],C=A.uniforms,M=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let P=0,O=C.length;P<O;P++){const k=Array.isArray(C[P])?C[P]:[C[P]];for(let D=0,I=k.length;D<I;D++){const L=k[D];if(m(L,P,D,M)===!0){const W=L.__offset,q=Array.isArray(L.value)?L.value:[L.value];let K=0;for(let ie=0;ie<q.length;ie++){const V=q[ie],J=b(V);typeof V=="number"||typeof V=="boolean"?(L.__data[0]=V,n.bufferSubData(n.UNIFORM_BUFFER,W+K,L.__data)):V.isMatrix3?(L.__data[0]=V.elements[0],L.__data[1]=V.elements[1],L.__data[2]=V.elements[2],L.__data[3]=0,L.__data[4]=V.elements[3],L.__data[5]=V.elements[4],L.__data[6]=V.elements[5],L.__data[7]=0,L.__data[8]=V.elements[6],L.__data[9]=V.elements[7],L.__data[10]=V.elements[8],L.__data[11]=0):(V.toArray(L.__data,K),K+=J.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,W,L.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,E,C,M){const P=A.value,O=E+"_"+C;if(M[O]===void 0)return typeof P=="number"||typeof P=="boolean"?M[O]=P:M[O]=P.clone(),!0;{const k=M[O];if(typeof P=="number"||typeof P=="boolean"){if(k!==P)return M[O]=P,!0}else if(k.equals(P)===!1)return k.copy(P),!0}return!1}function v(A){const E=A.uniforms;let C=0;const M=16;for(let O=0,k=E.length;O<k;O++){const D=Array.isArray(E[O])?E[O]:[E[O]];for(let I=0,L=D.length;I<L;I++){const W=D[I],q=Array.isArray(W.value)?W.value:[W.value];for(let K=0,ie=q.length;K<ie;K++){const V=q[K],J=b(V),H=C%M,Y=H%J.boundary,ne=H+Y;C+=Y,ne!==0&&M-ne<J.storage&&(C+=M-ne),W.__data=new Float32Array(J.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=C,C+=J.storage}}}const P=C%M;return P>0&&(C+=M-P),A.__size=C,A.__cache={},this}function b(A){const E={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(E.boundary=4,E.storage=4):A.isVector2?(E.boundary=8,E.storage=8):A.isVector3||A.isColor?(E.boundary=16,E.storage=12):A.isVector4?(E.boundary=16,E.storage=16):A.isMatrix3?(E.boundary=48,E.storage=48):A.isMatrix4?(E.boundary=64,E.storage=64):A.isTexture?tn("WebGLRenderer: Texture samplers can not be part of an uniforms group."):tn("WebGLRenderer: Unsupported uniform value type.",A),E}function y(A){const E=A.target;E.removeEventListener("dispose",y);const C=o.indexOf(E.__bindingPointIndex);o.splice(C,1),n.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function w(){for(const A in i)n.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:l,update:u,dispose:w}}const PBe=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let nd=null;function RBe(){return nd===null&&(nd=new xl(PBe,32,32,OC,ws),nd.minFilter=Rr,nd.magFilter=Rr,nd.wrapS=Mi,nd.wrapT=Mi,nd.generateMipmaps=!1,nd.needsUpdate=!0),nd}class ak{constructor(e={}){const{canvas:t=jZ(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:c=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;const v=new Set([DC,FC,n_]),b=new Set([qo,fu,G0,V0,NC,IC]),y=new Uint32Array(4),w=new Int32Array(4);let A=null,E=null;const C=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=tu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let O=!1;this._outputColorSpace=zo;let k=0,D=0,I=null,L=-1,W=null;const q=new Pr,K=new Pr;let ie=null;const V=new Xt(0);let J=0,H=t.width,Y=t.height,ne=1,Z=null,oe=null;const ye=new Pr(0,0,H,Y),Be=new Pr(0,0,H,Y);let Xe=!1;const we=new Sv;let Ae=!1,ke=!1;const Oe=new Bn,Ge=new de,et=new Pr,ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let nt=!1;function Fe(){return I===null?ne:1}let ce=r;function rt(ee,ve){return t.getContext(ee,ve)}try{const ee={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Zb}`),t.addEventListener("webglcontextlost",mt,!1),t.addEventListener("webglcontextrestored",je,!1),t.addEventListener("webglcontextcreationerror",_t,!1),ce===null){const ve="webgl2";if(ce=rt(ve,ee),ce===null)throw rt(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw ee("WebGLRenderer: "+ee.message),ee}let ct,wt,Te,tt,st,ft,ae,te,Ne,Ye,pt,Ke,Jt,It,Vt,Lt,yt,bt,Zt,_e,Pe,ht,he,Le;function lt(){ct=new UFe(ce),ct.init(),ht=new GQ(ce,ct),wt=new NFe(ce,ct,e,ht),Te=new bBe(ce,ct),wt.reversedDepthBuffer&&f&&Te.buffers.depth.setReversed(!0),tt=new GFe(ce),st=new aBe,ft=new _Be(ce,ct,Te,st,wt,ht,tt),ae=new OFe(P),te=new jFe(P),Ne=new q3e(ce),he=new PFe(ce,Ne),Ye=new zFe(ce,Ne,tt,he),pt=new WFe(ce,Ye,Ne,tt),Zt=new VFe(ce,wt,ft),Lt=new IFe(st),Ke=new oBe(P,ae,te,ct,wt,he,Lt),Jt=new MBe(P,st),It=new cBe,Vt=new mBe(ct),bt=new TFe(P,ae,te,Te,pt,m,l),yt=new yBe(P,pt,wt),Le=new TBe(ce,tt,wt,Te),_e=new RFe(ce,ct,tt),Pe=new HFe(ce,ct,tt),tt.programs=Ke.programs,P.capabilities=wt,P.extensions=ct,P.properties=st,P.renderLists=It,P.shadowMap=yt,P.state=Te,P.info=tt}lt();const vt=new EBe(P,ce);this.xr=vt,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const ee=ct.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=ct.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(ee){ee!==void 0&&(ne=ee,this.setSize(H,Y,!1))},this.getSize=function(ee){return ee.set(H,Y)},this.setSize=function(ee,ve,xe=!0){if(vt.isPresenting){tn("WebGLRenderer: Can't change size while VR device is presenting.");return}H=ee,Y=ve,t.width=Math.floor(ee*ne),t.height=Math.floor(ve*ne),xe===!0&&(t.style.width=ee+"px",t.style.height=ve+"px"),this.setViewport(0,0,ee,ve)},this.getDrawingBufferSize=function(ee){return ee.set(H*ne,Y*ne).floor()},this.setDrawingBufferSize=function(ee,ve,xe){H=ee,Y=ve,ne=xe,t.width=Math.floor(ee*xe),t.height=Math.floor(ve*xe),this.setViewport(0,0,ee,ve)},this.getCurrentViewport=function(ee){return ee.copy(q)},this.getViewport=function(ee){return ee.copy(ye)},this.setViewport=function(ee,ve,xe,Ue){ee.isVector4?ye.set(ee.x,ee.y,ee.z,ee.w):ye.set(ee,ve,xe,Ue),Te.viewport(q.copy(ye).multiplyScalar(ne).round())},this.getScissor=function(ee){return ee.copy(Be)},this.setScissor=function(ee,ve,xe,Ue){ee.isVector4?Be.set(ee.x,ee.y,ee.z,ee.w):Be.set(ee,ve,xe,Ue),Te.scissor(K.copy(Be).multiplyScalar(ne).round())},this.getScissorTest=function(){return Xe},this.setScissorTest=function(ee){Te.setScissorTest(Xe=ee)},this.setOpaqueSort=function(ee){Z=ee},this.setTransparentSort=function(ee){oe=ee},this.getClearColor=function(ee){return ee.copy(bt.getClearColor())},this.setClearColor=function(){bt.setClearColor(...arguments)},this.getClearAlpha=function(){return bt.getClearAlpha()},this.setClearAlpha=function(){bt.setClearAlpha(...arguments)},this.clear=function(ee=!0,ve=!0,xe=!0){let Ue=0;if(ee){let Se=!1;if(I!==null){const Je=I.texture.format;Se=v.has(Je)}if(Se){const Je=I.texture.type,dt=b.has(Je),St=bt.getClearColor(),Et=bt.getClearAlpha(),Pt=St.r,At=St.g,Nt=St.b;dt?(y[0]=Pt,y[1]=At,y[2]=Nt,y[3]=Et,ce.clearBufferuiv(ce.COLOR,0,y)):(w[0]=Pt,w[1]=At,w[2]=Nt,w[3]=Et,ce.clearBufferiv(ce.COLOR,0,w))}else Ue|=ce.COLOR_BUFFER_BIT}ve&&(Ue|=ce.DEPTH_BUFFER_BIT),xe&&(Ue|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(Ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",mt,!1),t.removeEventListener("webglcontextrestored",je,!1),t.removeEventListener("webglcontextcreationerror",_t,!1),bt.dispose(),It.dispose(),Vt.dispose(),st.dispose(),ae.dispose(),te.dispose(),pt.dispose(),he.dispose(),Le.dispose(),Ke.dispose(),vt.dispose(),vt.removeEventListener("sessionstart",Or),vt.removeEventListener("sessionend",xr),Fr.stop()};function mt(ee){ee.preventDefault(),bb("WebGLRenderer: Context Lost."),O=!0}function je(){bb("WebGLRenderer: Context Restored."),O=!1;const ee=tt.autoReset,ve=yt.enabled,xe=yt.autoUpdate,Ue=yt.needsUpdate,Se=yt.type;lt(),tt.autoReset=ee,yt.enabled=ve,yt.autoUpdate=xe,yt.needsUpdate=Ue,yt.type=Se}function _t(ee){Vn("WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function jt(ee){const ve=ee.target;ve.removeEventListener("dispose",jt),_n(ve)}function _n(ee){Sn(ee),st.remove(ee)}function Sn(ee){const ve=st.get(ee).programs;ve!==void 0&&(ve.forEach(function(xe){Ke.releaseProgram(xe)}),ee.isShaderMaterial&&Ke.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,ve,xe,Ue,Se,Je){ve===null&&(ve=ze);const dt=Se.isMesh&&Se.matrixWorld.determinant()<0,St=Ve(ee,ve,xe,Ue,Se);Te.setMaterial(Ue,dt);let Et=xe.index,Pt=1;if(Ue.wireframe===!0){if(Et=Ye.getWireframeAttribute(xe),Et===void 0)return;Pt=2}const At=xe.drawRange,Nt=xe.attributes.position;let Wt=At.start*Pt,yn=(At.start+At.count)*Pt;Je!==null&&(Wt=Math.max(Wt,Je.start*Pt),yn=Math.min(yn,(Je.start+Je.count)*Pt)),Et!==null?(Wt=Math.max(Wt,0),yn=Math.min(yn,Et.count)):Nt!=null&&(Wt=Math.max(Wt,0),yn=Math.min(yn,Nt.count));const un=yn-Wt;if(un<0||un===1/0)return;he.setup(Se,Ue,St,xe,Et);let Tn,Rn=_e;if(Et!==null&&(Tn=Ne.get(Et),Rn=Pe,Rn.setIndex(Tn)),Se.isMesh)Ue.wireframe===!0?(Te.setLineWidth(Ue.wireframeLinewidth*Fe()),Rn.setMode(ce.LINES)):Rn.setMode(ce.TRIANGLES);else if(Se.isLine){let Yt=Ue.linewidth;Yt===void 0&&(Yt=1),Te.setLineWidth(Yt*Fe()),Se.isLineSegments?Rn.setMode(ce.LINES):Se.isLineLoop?Rn.setMode(ce.LINE_LOOP):Rn.setMode(ce.LINE_STRIP)}else Se.isPoints?Rn.setMode(ce.POINTS):Se.isSprite&&Rn.setMode(ce.TRIANGLES);if(Se.isBatchedMesh)if(Se._multiDrawInstances!==null)Y0("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Rn.renderMultiDrawInstances(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount,Se._multiDrawInstances);else if(ct.get("WEBGL_multi_draw"))Rn.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else{const Yt=Se._multiDrawStarts,Ln=Se._multiDrawCounts,sn=Se._multiDrawCount,jn=Et?Ne.get(Et).bytesPerElement:1,or=st.get(Ue).currentProgram.getUniforms();for(let Pn=0;Pn<sn;Pn++)or.setValue(ce,"_gl_DrawID",Pn),Rn.render(Yt[Pn]/jn,Ln[Pn])}else if(Se.isInstancedMesh)Rn.renderInstances(Wt,un,Se.count);else if(xe.isInstancedBufferGeometry){const Yt=xe._maxInstanceCount!==void 0?xe._maxInstanceCount:1/0,Ln=Math.min(xe.instanceCount,Yt);Rn.renderInstances(Wt,un,Ln)}else Rn.render(Wt,un)};function An(ee,ve,xe){ee.transparent===!0&&ee.side===fl&&ee.forceSinglePass===!1?(ee.side=Wo,ee.needsUpdate=!0,Q(ee,ve,xe),ee.side=uu,ee.needsUpdate=!0,Q(ee,ve,xe),ee.side=fl):Q(ee,ve,xe)}this.compile=function(ee,ve,xe=null){xe===null&&(xe=ee),E=Vt.get(xe),E.init(ve),M.push(E),xe.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ve.layers)&&(E.pushLight(Se),Se.castShadow&&E.pushShadow(Se))}),ee!==xe&&ee.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ve.layers)&&(E.pushLight(Se),Se.castShadow&&E.pushShadow(Se))}),E.setupLights();const Ue=new Set;return ee.traverse(function(Se){if(!(Se.isMesh||Se.isPoints||Se.isLine||Se.isSprite))return;const Je=Se.material;if(Je)if(Array.isArray(Je))for(let dt=0;dt<Je.length;dt++){const St=Je[dt];An(St,xe,Se),Ue.add(St)}else An(Je,xe,Se),Ue.add(Je)}),E=M.pop(),Ue},this.compileAsync=function(ee,ve,xe=null){const Ue=this.compile(ee,ve,xe);return new Promise(Se=>{function Je(){if(Ue.forEach(function(dt){st.get(dt).currentProgram.isReady()&&Ue.delete(dt)}),Ue.size===0){Se(ee);return}setTimeout(Je,10)}ct.get("KHR_parallel_shader_compile")!==null?Je():setTimeout(Je,10)})};let kn=null;function Kr(ee){kn&&kn(ee)}function Or(){Fr.stop()}function xr(){Fr.start()}const Fr=new LQ;Fr.setAnimationLoop(Kr),typeof self<"u"&&Fr.setContext(self),this.setAnimationLoop=function(ee){kn=ee,vt.setAnimationLoop(ee),ee===null?Fr.stop():Fr.start()},vt.addEventListener("sessionstart",Or),vt.addEventListener("sessionend",xr),this.render=function(ee,ve){if(ve!==void 0&&ve.isCamera!==!0){Vn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),vt.enabled===!0&&vt.isPresenting===!0&&(vt.cameraAutoUpdate===!0&&vt.updateCamera(ve),ve=vt.getCamera()),ee.isScene===!0&&ee.onBeforeRender(P,ee,ve,I),E=Vt.get(ee,M.length),E.init(ve),M.push(E),Oe.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),we.setFromProjectionMatrix(Oe,ka,ve.reversedDepth),ke=this.localClippingEnabled,Ae=Lt.init(this.clippingPlanes,ke),A=It.get(ee,C.length),A.init(),C.push(A),vt.enabled===!0&&vt.isPresenting===!0){const Je=P.xr.getDepthSensingMesh();Je!==null&&Yr(Je,ve,-1/0,P.sortObjects)}Yr(ee,ve,0,P.sortObjects),A.finish(),P.sortObjects===!0&&A.sort(Z,oe),nt=vt.enabled===!1||vt.isPresenting===!1||vt.hasDepthSensing()===!1,nt&&bt.addToRenderList(A,ee),this.info.render.frame++,Ae===!0&&Lt.beginShadows();const xe=E.state.shadowsArray;yt.render(xe,ee,ve),Ae===!0&&Lt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ue=A.opaque,Se=A.transmissive;if(E.setupLights(),ve.isArrayCamera){const Je=ve.cameras;if(Se.length>0)for(let dt=0,St=Je.length;dt<St;dt++){const Et=Je[dt];En(Ue,Se,ee,Et)}nt&&bt.render(ee);for(let dt=0,St=Je.length;dt<St;dt++){const Et=Je[dt];tr(A,ee,Et,Et.viewport)}}else Se.length>0&&En(Ue,Se,ee,ve),nt&&bt.render(ee),tr(A,ee,ve);I!==null&&D===0&&(ft.updateMultisampleRenderTarget(I),ft.updateRenderTargetMipmap(I)),ee.isScene===!0&&ee.onAfterRender(P,ee,ve),he.resetDefaultState(),L=-1,W=null,M.pop(),M.length>0?(E=M[M.length-1],Ae===!0&&Lt.setGlobalState(P.clippingPlanes,E.state.camera)):E=null,C.pop(),C.length>0?A=C[C.length-1]:A=null};function Yr(ee,ve,xe,Ue){if(ee.visible===!1)return;if(ee.layers.test(ve.layers)){if(ee.isGroup)xe=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(ve);else if(ee.isLight)E.pushLight(ee),ee.castShadow&&E.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||we.intersectsSprite(ee)){Ue&&et.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(Oe);const dt=pt.update(ee),St=ee.material;St.visible&&A.push(ee,dt,St,xe,et.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||we.intersectsObject(ee))){const dt=pt.update(ee),St=ee.material;if(Ue&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),et.copy(ee.boundingSphere.center)):(dt.boundingSphere===null&&dt.computeBoundingSphere(),et.copy(dt.boundingSphere.center)),et.applyMatrix4(ee.matrixWorld).applyMatrix4(Oe)),Array.isArray(St)){const Et=dt.groups;for(let Pt=0,At=Et.length;Pt<At;Pt++){const Nt=Et[Pt],Wt=St[Nt.materialIndex];Wt&&Wt.visible&&A.push(ee,dt,Wt,xe,et.z,Nt)}}else St.visible&&A.push(ee,dt,St,xe,et.z,null)}}const Je=ee.children;for(let dt=0,St=Je.length;dt<St;dt++)Yr(Je[dt],ve,xe,Ue)}function tr(ee,ve,xe,Ue){const{opaque:Se,transmissive:Je,transparent:dt}=ee;E.setupLightsView(xe),Ae===!0&&Lt.setGlobalState(P.clippingPlanes,xe),Ue&&Te.viewport(q.copy(Ue)),Se.length>0&&Mo(Se,ve,xe),Je.length>0&&Mo(Je,ve,xe),dt.length>0&&Mo(dt,ve,xe),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function En(ee,ve,xe,Ue){if((xe.isScene===!0?xe.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[Ue.id]===void 0&&(E.state.transmissionRenderTarget[Ue.id]=new wl(1,1,{generateMipmaps:!0,type:ct.has("EXT_color_buffer_half_float")||ct.has("EXT_color_buffer_float")?ws:qo,minFilter:ml,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mr.workingColorSpace}));const Je=E.state.transmissionRenderTarget[Ue.id],dt=Ue.viewport||q;Je.setSize(dt.z*P.transmissionResolutionScale,dt.w*P.transmissionResolutionScale);const St=P.getRenderTarget(),Et=P.getActiveCubeFace(),Pt=P.getActiveMipmapLevel();P.setRenderTarget(Je),P.getClearColor(V),J=P.getClearAlpha(),J<1&&P.setClearColor(16777215,.5),P.clear(),nt&&bt.render(xe);const At=P.toneMapping;P.toneMapping=tu;const Nt=Ue.viewport;if(Ue.viewport!==void 0&&(Ue.viewport=void 0),E.setupLightsView(Ue),Ae===!0&&Lt.setGlobalState(P.clippingPlanes,Ue),Mo(ee,xe,Ue),ft.updateMultisampleRenderTarget(Je),ft.updateRenderTargetMipmap(Je),ct.has("WEBGL_multisampled_render_to_texture")===!1){let Wt=!1;for(let yn=0,un=ve.length;yn<un;yn++){const Tn=ve[yn],{object:Rn,geometry:Yt,material:Ln,group:sn}=Tn;if(Ln.side===fl&&Rn.layers.test(Ue.layers)){const jn=Ln.side;Ln.side=Wo,Ln.needsUpdate=!0,bc(Rn,xe,Ue,Yt,Ln,sn),Ln.side=jn,Ln.needsUpdate=!0,Wt=!0}}Wt===!0&&(ft.updateMultisampleRenderTarget(Je),ft.updateRenderTargetMipmap(Je))}P.setRenderTarget(St,Et,Pt),P.setClearColor(V,J),Nt!==void 0&&(Ue.viewport=Nt),P.toneMapping=At}function Mo(ee,ve,xe){const Ue=ve.isScene===!0?ve.overrideMaterial:null;for(let Se=0,Je=ee.length;Se<Je;Se++){const dt=ee[Se],{object:St,geometry:Et,group:Pt}=dt;let At=dt.material;At.allowOverride===!0&&Ue!==null&&(At=Ue),St.layers.test(xe.layers)&&bc(St,ve,xe,Et,At,Pt)}}function bc(ee,ve,xe,Ue,Se,Je){ee.onBeforeRender(P,ve,xe,Ue,Se,Je),ee.modelViewMatrix.multiplyMatrices(xe.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Se.onBeforeRender(P,ve,xe,Ue,ee,Je),Se.transparent===!0&&Se.side===fl&&Se.forceSinglePass===!1?(Se.side=Wo,Se.needsUpdate=!0,P.renderBufferDirect(xe,ve,Ue,Se,ee,Je),Se.side=uu,Se.needsUpdate=!0,P.renderBufferDirect(xe,ve,Ue,Se,ee,Je),Se.side=fl):P.renderBufferDirect(xe,ve,Ue,Se,ee,Je),ee.onAfterRender(P,ve,xe,Ue,Se,Je)}function Q(ee,ve,xe){ve.isScene!==!0&&(ve=ze);const Ue=st.get(ee),Se=E.state.lights,Je=E.state.shadowsArray,dt=Se.state.version,St=Ke.getParameters(ee,Se.state,Je,ve,xe),Et=Ke.getProgramCacheKey(St);let Pt=Ue.programs;Ue.environment=ee.isMeshStandardMaterial?ve.environment:null,Ue.fog=ve.fog,Ue.envMap=(ee.isMeshStandardMaterial?te:ae).get(ee.envMap||Ue.environment),Ue.envMapRotation=Ue.environment!==null&&ee.envMap===null?ve.environmentRotation:ee.envMapRotation,Pt===void 0&&(ee.addEventListener("dispose",jt),Pt=new Map,Ue.programs=Pt);let At=Pt.get(Et);if(At!==void 0){if(Ue.currentProgram===At&&Ue.lightsStateVersion===dt)return Ee(ee,St),At}else St.uniforms=Ke.getUniforms(ee),ee.onBeforeCompile(St,P),At=Ke.acquireProgram(St,Et),Pt.set(Et,At),Ue.uniforms=St.uniforms;const Nt=Ue.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Nt.clippingPlanes=Lt.uniform),Ee(ee,St),Ue.needsLights=it(ee),Ue.lightsStateVersion=dt,Ue.needsLights&&(Nt.ambientLightColor.value=Se.state.ambient,Nt.lightProbe.value=Se.state.probe,Nt.directionalLights.value=Se.state.directional,Nt.directionalLightShadows.value=Se.state.directionalShadow,Nt.spotLights.value=Se.state.spot,Nt.spotLightShadows.value=Se.state.spotShadow,Nt.rectAreaLights.value=Se.state.rectArea,Nt.ltc_1.value=Se.state.rectAreaLTC1,Nt.ltc_2.value=Se.state.rectAreaLTC2,Nt.pointLights.value=Se.state.point,Nt.pointLightShadows.value=Se.state.pointShadow,Nt.hemisphereLights.value=Se.state.hemi,Nt.directionalShadowMap.value=Se.state.directionalShadowMap,Nt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Nt.spotShadowMap.value=Se.state.spotShadowMap,Nt.spotLightMatrix.value=Se.state.spotLightMatrix,Nt.spotLightMap.value=Se.state.spotLightMap,Nt.pointShadowMap.value=Se.state.pointShadowMap,Nt.pointShadowMatrix.value=Se.state.pointShadowMatrix),Ue.currentProgram=At,Ue.uniformsList=null,At}function le(ee){if(ee.uniformsList===null){const ve=ee.currentProgram.getUniforms();ee.uniformsList=Xw.seqWithValue(ve.seq,ee.uniforms)}return ee.uniformsList}function Ee(ee,ve){const xe=st.get(ee);xe.outputColorSpace=ve.outputColorSpace,xe.batching=ve.batching,xe.batchingColor=ve.batchingColor,xe.instancing=ve.instancing,xe.instancingColor=ve.instancingColor,xe.instancingMorph=ve.instancingMorph,xe.skinning=ve.skinning,xe.morphTargets=ve.morphTargets,xe.morphNormals=ve.morphNormals,xe.morphColors=ve.morphColors,xe.morphTargetsCount=ve.morphTargetsCount,xe.numClippingPlanes=ve.numClippingPlanes,xe.numIntersection=ve.numClipIntersection,xe.vertexAlphas=ve.vertexAlphas,xe.vertexTangents=ve.vertexTangents,xe.toneMapping=ve.toneMapping}function Ve(ee,ve,xe,Ue,Se){ve.isScene!==!0&&(ve=ze),ft.resetTextureUnits();const Je=ve.fog,dt=Ue.isMeshStandardMaterial?ve.environment:null,St=I===null?P.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:hu,Et=(Ue.isMeshStandardMaterial?te:ae).get(Ue.envMap||dt),Pt=Ue.vertexColors===!0&&!!xe.attributes.color&&xe.attributes.color.itemSize===4,At=!!xe.attributes.tangent&&(!!Ue.normalMap||Ue.anisotropy>0),Nt=!!xe.morphAttributes.position,Wt=!!xe.morphAttributes.normal,yn=!!xe.morphAttributes.color;let un=tu;Ue.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(un=P.toneMapping);const Tn=xe.morphAttributes.position||xe.morphAttributes.normal||xe.morphAttributes.color,Rn=Tn!==void 0?Tn.length:0,Yt=st.get(Ue),Ln=E.state.lights;if(Ae===!0&&(ke===!0||ee!==W)){const ti=ee===W&&Ue.id===L;Lt.setState(Ue,ee,ti)}let sn=!1;Ue.version===Yt.__version?(Yt.needsLights&&Yt.lightsStateVersion!==Ln.state.version||Yt.outputColorSpace!==St||Se.isBatchedMesh&&Yt.batching===!1||!Se.isBatchedMesh&&Yt.batching===!0||Se.isBatchedMesh&&Yt.batchingColor===!0&&Se.colorTexture===null||Se.isBatchedMesh&&Yt.batchingColor===!1&&Se.colorTexture!==null||Se.isInstancedMesh&&Yt.instancing===!1||!Se.isInstancedMesh&&Yt.instancing===!0||Se.isSkinnedMesh&&Yt.skinning===!1||!Se.isSkinnedMesh&&Yt.skinning===!0||Se.isInstancedMesh&&Yt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&Yt.instancingColor===!1&&Se.instanceColor!==null||Se.isInstancedMesh&&Yt.instancingMorph===!0&&Se.morphTexture===null||Se.isInstancedMesh&&Yt.instancingMorph===!1&&Se.morphTexture!==null||Yt.envMap!==Et||Ue.fog===!0&&Yt.fog!==Je||Yt.numClippingPlanes!==void 0&&(Yt.numClippingPlanes!==Lt.numPlanes||Yt.numIntersection!==Lt.numIntersection)||Yt.vertexAlphas!==Pt||Yt.vertexTangents!==At||Yt.morphTargets!==Nt||Yt.morphNormals!==Wt||Yt.morphColors!==yn||Yt.toneMapping!==un||Yt.morphTargetsCount!==Rn)&&(sn=!0):(sn=!0,Yt.__version=Ue.version);let jn=Yt.currentProgram;sn===!0&&(jn=Q(Ue,ve,Se));let or=!1,Pn=!1,mr=!1;const dr=jn.getUniforms(),fr=Yt.uniforms;if(Te.useProgram(jn.program)&&(or=!0,Pn=!0,mr=!0),Ue.id!==L&&(L=Ue.id,Pn=!0),or||W!==ee){Te.buffers.depth.getReversed()&&ee.reversedDepth!==!0&&(ee._reversedDepth=!0,ee.updateProjectionMatrix()),dr.setValue(ce,"projectionMatrix",ee.projectionMatrix),dr.setValue(ce,"viewMatrix",ee.matrixWorldInverse);const Nn=dr.map.cameraPosition;Nn!==void 0&&Nn.setValue(ce,Ge.setFromMatrixPosition(ee.matrixWorld)),wt.logarithmicDepthBuffer&&dr.setValue(ce,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&dr.setValue(ce,"isOrthographic",ee.isOrthographicCamera===!0),W!==ee&&(W=ee,Pn=!0,mr=!0)}if(Se.isSkinnedMesh){dr.setOptional(ce,Se,"bindMatrix"),dr.setOptional(ce,Se,"bindMatrixInverse");const ti=Se.skeleton;ti&&(ti.boneTexture===null&&ti.computeBoneTexture(),dr.setValue(ce,"boneTexture",ti.boneTexture,ft))}Se.isBatchedMesh&&(dr.setOptional(ce,Se,"batchingTexture"),dr.setValue(ce,"batchingTexture",Se._matricesTexture,ft),dr.setOptional(ce,Se,"batchingIdTexture"),dr.setValue(ce,"batchingIdTexture",Se._indirectTexture,ft),dr.setOptional(ce,Se,"batchingColorTexture"),Se._colorsTexture!==null&&dr.setValue(ce,"batchingColorTexture",Se._colorsTexture,ft));const Jr=xe.morphAttributes;if((Jr.position!==void 0||Jr.normal!==void 0||Jr.color!==void 0)&&Zt.update(Se,xe,jn),(Pn||Yt.receiveShadow!==Se.receiveShadow)&&(Yt.receiveShadow=Se.receiveShadow,dr.setValue(ce,"receiveShadow",Se.receiveShadow)),Ue.isMeshGouraudMaterial&&Ue.envMap!==null&&(fr.envMap.value=Et,fr.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1),Ue.isMeshStandardMaterial&&Ue.envMap===null&&ve.environment!==null&&(fr.envMapIntensity.value=ve.environmentIntensity),fr.dfgLUT!==void 0&&(fr.dfgLUT.value=RBe()),Pn&&(dr.setValue(ce,"toneMappingExposure",P.toneMappingExposure),Yt.needsLights&&ot(fr,mr),Je&&Ue.fog===!0&&Jt.refreshFogUniforms(fr,Je),Jt.refreshMaterialUniforms(fr,Ue,ne,Y,E.state.transmissionRenderTarget[ee.id]),Xw.upload(ce,le(Yt),fr,ft)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(Xw.upload(ce,le(Yt),fr,ft),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&dr.setValue(ce,"center",Se.center),dr.setValue(ce,"modelViewMatrix",Se.modelViewMatrix),dr.setValue(ce,"normalMatrix",Se.normalMatrix),dr.setValue(ce,"modelMatrix",Se.matrixWorld),Ue.isShaderMaterial||Ue.isRawShaderMaterial){const ti=Ue.uniformsGroups;for(let Nn=0,To=ti.length;Nn<To;Nn++){const Ki=ti[Nn];Le.update(Ki,jn),Le.bind(Ki,jn)}}return jn}function ot(ee,ve){ee.ambientLightColor.needsUpdate=ve,ee.lightProbe.needsUpdate=ve,ee.directionalLights.needsUpdate=ve,ee.directionalLightShadows.needsUpdate=ve,ee.pointLights.needsUpdate=ve,ee.pointLightShadows.needsUpdate=ve,ee.spotLights.needsUpdate=ve,ee.spotLightShadows.needsUpdate=ve,ee.rectAreaLights.needsUpdate=ve,ee.hemisphereLights.needsUpdate=ve}function it(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(ee,ve,xe){const Ue=st.get(ee);Ue.__autoAllocateDepthBuffer=ee.resolveDepthBuffer===!1,Ue.__autoAllocateDepthBuffer===!1&&(Ue.__useRenderToTexture=!1),st.get(ee.texture).__webglTexture=ve,st.get(ee.depthTexture).__webglTexture=Ue.__autoAllocateDepthBuffer?void 0:xe,Ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ee,ve){const xe=st.get(ee);xe.__webglFramebuffer=ve,xe.__useDefaultFramebuffer=ve===void 0};const Ft=ce.createFramebuffer();this.setRenderTarget=function(ee,ve=0,xe=0){I=ee,k=ve,D=xe;let Ue=!0,Se=null,Je=!1,dt=!1;if(ee){const Et=st.get(ee);if(Et.__useDefaultFramebuffer!==void 0)Te.bindFramebuffer(ce.FRAMEBUFFER,null),Ue=!1;else if(Et.__webglFramebuffer===void 0)ft.setupRenderTarget(ee);else if(Et.__hasExternalTextures)ft.rebindTextures(ee,st.get(ee.texture).__webglTexture,st.get(ee.depthTexture).__webglTexture);else if(ee.depthBuffer){const Nt=ee.depthTexture;if(Et.__boundDepthTexture!==Nt){if(Nt!==null&&st.has(Nt)&&(ee.width!==Nt.image.width||ee.height!==Nt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ft.setupDepthRenderbuffer(ee)}}const Pt=ee.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(dt=!0);const At=st.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(At[ve])?Se=At[ve][xe]:Se=At[ve],Je=!0):ee.samples>0&&ft.useMultisampledRTT(ee)===!1?Se=st.get(ee).__webglMultisampledFramebuffer:Array.isArray(At)?Se=At[xe]:Se=At,q.copy(ee.viewport),K.copy(ee.scissor),ie=ee.scissorTest}else q.copy(ye).multiplyScalar(ne).floor(),K.copy(Be).multiplyScalar(ne).floor(),ie=Xe;if(xe!==0&&(Se=Ft),Te.bindFramebuffer(ce.FRAMEBUFFER,Se)&&Ue&&Te.drawBuffers(ee,Se),Te.viewport(q),Te.scissor(K),Te.setScissorTest(ie),Je){const Et=st.get(ee.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Et.__webglTexture,xe)}else if(dt){const Et=ve;for(let Pt=0;Pt<ee.textures.length;Pt++){const At=st.get(ee.textures[Pt]);ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0+Pt,At.__webglTexture,xe,Et)}}else if(ee!==null&&xe!==0){const Et=st.get(ee.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Et.__webglTexture,xe)}L=-1},this.readRenderTargetPixels=function(ee,ve,xe,Ue,Se,Je,dt,St=0){if(!(ee&&ee.isWebGLRenderTarget)){Vn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=st.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&dt!==void 0&&(Et=Et[dt]),Et){Te.bindFramebuffer(ce.FRAMEBUFFER,Et);try{const Pt=ee.textures[St],At=Pt.format,Nt=Pt.type;if(!wt.textureFormatReadable(At)){Vn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!wt.textureTypeReadable(Nt)){Vn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=ee.width-Ue&&xe>=0&&xe<=ee.height-Se&&(ee.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+St),ce.readPixels(ve,xe,Ue,Se,ht.convert(At),ht.convert(Nt),Je))}finally{const Pt=I!==null?st.get(I).__webglFramebuffer:null;Te.bindFramebuffer(ce.FRAMEBUFFER,Pt)}}},this.readRenderTargetPixelsAsync=async function(ee,ve,xe,Ue,Se,Je,dt,St=0){if(!(ee&&ee.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Et=st.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&dt!==void 0&&(Et=Et[dt]),Et)if(ve>=0&&ve<=ee.width-Ue&&xe>=0&&xe<=ee.height-Se){Te.bindFramebuffer(ce.FRAMEBUFFER,Et);const Pt=ee.textures[St],At=Pt.format,Nt=Pt.type;if(!wt.textureFormatReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!wt.textureTypeReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Wt=ce.createBuffer();ce.bindBuffer(ce.PIXEL_PACK_BUFFER,Wt),ce.bufferData(ce.PIXEL_PACK_BUFFER,Je.byteLength,ce.STREAM_READ),ee.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+St),ce.readPixels(ve,xe,Ue,Se,ht.convert(At),ht.convert(Nt),0);const yn=I!==null?st.get(I).__webglFramebuffer:null;Te.bindFramebuffer(ce.FRAMEBUFFER,yn);const un=ce.fenceSync(ce.SYNC_GPU_COMMANDS_COMPLETE,0);return ce.flush(),await tRe(ce,un,4),ce.bindBuffer(ce.PIXEL_PACK_BUFFER,Wt),ce.getBufferSubData(ce.PIXEL_PACK_BUFFER,0,Je),ce.deleteBuffer(Wt),ce.deleteSync(un),Je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ee,ve=null,xe=0){const Ue=Math.pow(2,-xe),Se=Math.floor(ee.image.width*Ue),Je=Math.floor(ee.image.height*Ue),dt=ve!==null?ve.x:0,St=ve!==null?ve.y:0;ft.setTexture2D(ee,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,xe,0,0,dt,St,Se,Je),Te.unbindTexture()};const Mt=ce.createFramebuffer(),Ot=ce.createFramebuffer();this.copyTextureToTexture=function(ee,ve,xe=null,Ue=null,Se=0,Je=null){Je===null&&(Se!==0?(Y0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Je=Se,Se=0):Je=0);let dt,St,Et,Pt,At,Nt,Wt,yn,un;const Tn=ee.isCompressedTexture?ee.mipmaps[Je]:ee.image;if(xe!==null)dt=xe.max.x-xe.min.x,St=xe.max.y-xe.min.y,Et=xe.isBox3?xe.max.z-xe.min.z:1,Pt=xe.min.x,At=xe.min.y,Nt=xe.isBox3?xe.min.z:0;else{const Jr=Math.pow(2,-Se);dt=Math.floor(Tn.width*Jr),St=Math.floor(Tn.height*Jr),ee.isDataArrayTexture?Et=Tn.depth:ee.isData3DTexture?Et=Math.floor(Tn.depth*Jr):Et=1,Pt=0,At=0,Nt=0}Ue!==null?(Wt=Ue.x,yn=Ue.y,un=Ue.z):(Wt=0,yn=0,un=0);const Rn=ht.convert(ve.format),Yt=ht.convert(ve.type);let Ln;ve.isData3DTexture?(ft.setTexture3D(ve,0),Ln=ce.TEXTURE_3D):ve.isDataArrayTexture||ve.isCompressedArrayTexture?(ft.setTexture2DArray(ve,0),Ln=ce.TEXTURE_2D_ARRAY):(ft.setTexture2D(ve,0),Ln=ce.TEXTURE_2D),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,ve.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,ve.unpackAlignment);const sn=ce.getParameter(ce.UNPACK_ROW_LENGTH),jn=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),or=ce.getParameter(ce.UNPACK_SKIP_PIXELS),Pn=ce.getParameter(ce.UNPACK_SKIP_ROWS),mr=ce.getParameter(ce.UNPACK_SKIP_IMAGES);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,Tn.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,Tn.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Pt),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,At),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,Nt);const dr=ee.isDataArrayTexture||ee.isData3DTexture,fr=ve.isDataArrayTexture||ve.isData3DTexture;if(ee.isDepthTexture){const Jr=st.get(ee),ti=st.get(ve),Nn=st.get(Jr.__renderTarget),To=st.get(ti.__renderTarget);Te.bindFramebuffer(ce.READ_FRAMEBUFFER,Nn.__webglFramebuffer),Te.bindFramebuffer(ce.DRAW_FRAMEBUFFER,To.__webglFramebuffer);for(let Ki=0;Ki<Et;Ki++)dr&&(ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,st.get(ee).__webglTexture,Se,Nt+Ki),ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,st.get(ve).__webglTexture,Je,un+Ki)),ce.blitFramebuffer(Pt,At,dt,St,Wt,yn,dt,St,ce.DEPTH_BUFFER_BIT,ce.NEAREST);Te.bindFramebuffer(ce.READ_FRAMEBUFFER,null),Te.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else if(Se!==0||ee.isRenderTargetTexture||st.has(ee)){const Jr=st.get(ee),ti=st.get(ve);Te.bindFramebuffer(ce.READ_FRAMEBUFFER,Mt),Te.bindFramebuffer(ce.DRAW_FRAMEBUFFER,Ot);for(let Nn=0;Nn<Et;Nn++)dr?ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Jr.__webglTexture,Se,Nt+Nn):ce.framebufferTexture2D(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Jr.__webglTexture,Se),fr?ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ti.__webglTexture,Je,un+Nn):ce.framebufferTexture2D(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,ti.__webglTexture,Je),Se!==0?ce.blitFramebuffer(Pt,At,dt,St,Wt,yn,dt,St,ce.COLOR_BUFFER_BIT,ce.NEAREST):fr?ce.copyTexSubImage3D(Ln,Je,Wt,yn,un+Nn,Pt,At,dt,St):ce.copyTexSubImage2D(Ln,Je,Wt,yn,Pt,At,dt,St);Te.bindFramebuffer(ce.READ_FRAMEBUFFER,null),Te.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else fr?ee.isDataTexture||ee.isData3DTexture?ce.texSubImage3D(Ln,Je,Wt,yn,un,dt,St,Et,Rn,Yt,Tn.data):ve.isCompressedArrayTexture?ce.compressedTexSubImage3D(Ln,Je,Wt,yn,un,dt,St,Et,Rn,Tn.data):ce.texSubImage3D(Ln,Je,Wt,yn,un,dt,St,Et,Rn,Yt,Tn):ee.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,Je,Wt,yn,dt,St,Rn,Yt,Tn.data):ee.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,Je,Wt,yn,Tn.width,Tn.height,Rn,Tn.data):ce.texSubImage2D(ce.TEXTURE_2D,Je,Wt,yn,dt,St,Rn,Yt,Tn);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,sn),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,jn),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,or),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,Pn),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,mr),Je===0&&ve.generateMipmaps&&ce.generateMipmap(Ln),Te.unbindTexture()},this.initRenderTarget=function(ee){st.get(ee).__webglFramebuffer===void 0&&ft.setupRenderTarget(ee)},this.initTexture=function(ee){ee.isCubeTexture?ft.setTextureCube(ee,0):ee.isData3DTexture?ft.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?ft.setTexture2DArray(ee,0):ft.setTexture2D(ee,0),Te.unbindTexture()},this.resetState=function(){k=0,D=0,I=null,Te.reset(),he.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ka}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Mr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Mr._getUnpackColorSpace()}}const NBe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:MC,AddEquation:Nf,AddOperation:vZ,AdditiveAnimationBlendMode:SB,AdditiveBlending:BO,AgXToneMapping:wZ,AlphaFormat:bB,AlwaysCompare:kZ,AlwaysDepth:vA,AlwaysStencilFunc:zO,AmbientLight:EQ,AnimationAction:DQ,AnimationClip:ev,AnimationLoader:GNe,AnimationMixer:BQ,AnimationObjectGroup:f3e,AnimationUtils:jNe,ArcCurve:ZZ,ArrayCamera:IQ,ArrowHelper:L3e,AttachedBindMode:jO,Audio:OQ,AudioAnalyser:n3e,AudioContext:ek,AudioListener:QNe,AudioLoader:YNe,AxesHelper:j3e,BackSide:Wo,BasicDepthPacking:TZ,BasicShadowMap:JJ,BatchedMesh:KZ,Bone:zC,BooleanKeyframeTrack:wm,Box2:w3e,Box3:zs,Box3Helper:B3e,BoxGeometry:_m,BoxHelper:D3e,BufferAttribute:Nr,BufferGeometry:Yn,BufferGeometryLoader:RQ,ByteType:PC,Cache:Jc,Camera:r_,CameraHelper:F3e,CanvasTexture:lNe,CapsuleGeometry:WC,CatmullRomCurve3:QZ,CineonToneMapping:bZ,CircleGeometry:$C,ClampToEdgeWrapping:Mi,Clock:tk,Color:Xt,ColorKeyframeTrack:XB,ColorManagement:Mr,CompressedArrayTexture:oNe,CompressedCubeTexture:aNe,CompressedTexture:VC,CompressedTextureLoader:VNe,ConeGeometry:c_,ConstantAlphaFactor:pZ,ConstantColorFactor:fZ,Controls:z3e,CubeCamera:WZ,CubeReflectionMapping:du,CubeRefractionMapping:Kf,CubeTexture:i_,CubeTextureLoader:wQ,CubeUVReflectionMapping:wv,CubicBezierCurve:jB,CubicBezierCurve3:eQ,CubicInterpolant:yQ,CullFaceBack:DO,CullFaceFront:YJ,CullFaceFrontBack:xPe,CullFaceNone:KJ,Curve:xc,CurvePath:nQ,CustomBlending:ZJ,CustomToneMapping:_Z,CylinderGeometry:l_,Cylindrical:_3e,Data3DTexture:LC,DataArrayTexture:kC,DataTexture:xl,DataTextureLoader:KB,DataUtils:Np,DecrementStencilOp:PPe,DecrementWrapStencilOp:NPe,DefaultLoadingManager:_Q,DepthFormat:W0,DepthStencilFormat:$0,DepthTexture:BB,DetachedBindMode:AZ,DirectionalLight:QB,DirectionalLightHelper:O3e,DiscreteInterpolant:xQ,DodecahedronGeometry:qC,DoubleSide:fl,DstAlphaFactor:aZ,DstColorFactor:cZ,DynamicCopyUsage:$Pe,DynamicDrawUsage:UPe,DynamicReadUsage:GPe,EdgesGeometry:JZ,EllipseCurve:XC,EqualCompare:OZ,EqualDepth:xA,EqualStencilFunc:DPe,EquirectangularReflectionMapping:z0,EquirectangularRefractionMapping:mb,Euler:Ua,EventDispatcher:xu,ExternalTexture:kB,ExtrudeGeometry:KC,FileLoader:no,Float16BufferAttribute:LRe,Float32BufferAttribute:gn,FloatType:Ti,Fog:UC,FogExp2:jC,FramebufferTexture:sNe,FrontSide:uu,Frustum:Sv,FrustumArray:HC,GLBufferAttribute:y3e,GLSL1:XPe,GLSL3:HO,GreaterCompare:FZ,GreaterDepth:_A,GreaterEqualCompare:BZ,GreaterEqualDepth:bA,GreaterEqualStencilFunc:jPe,GreaterStencilFunc:kPe,GridHelper:N3e,Group:dd,HalfFloatType:ws,HemisphereLight:AQ,HemisphereLightHelper:R3e,IcosahedronGeometry:u_,ImageBitmapLoader:NQ,ImageLoader:Ab,ImageUtils:zZ,IncrementStencilOp:TPe,IncrementWrapStencilOp:RPe,InstancedBufferAttribute:am,InstancedBufferGeometry:PQ,InstancedInterleavedBuffer:v3e,InstancedMesh:OB,Int16BufferAttribute:BRe,Int32BufferAttribute:kRe,Int8BufferAttribute:ORe,IntType:e_,InterleavedBuffer:o_,InterleavedBufferAttribute:Zf,Interpolant:Av,InterpolateDiscrete:q0,InterpolateLinear:X0,InterpolateSmooth:$w,InterpolationSamplingMode:JPe,InterpolationSamplingType:YPe,InvertStencilOp:IPe,KeepStencilOp:yp,KeyframeTrack:El,LOD:XZ,LatheGeometry:YC,Layers:Wp,LessCompare:IZ,LessDepth:yA,LessEqualCompare:EB,LessEqualDepth:om,LessEqualStencilFunc:BPe,LessStencilFunc:FPe,Light:fh,LightProbe:TQ,Line:Ad,Line3:E3e,LineBasicMaterial:Co,LineCurve:UB,LineCurve3:tQ,LineDashedMaterial:mQ,LineLoop:FB,LineSegments:yc,LinearFilter:Rr,LinearInterpolant:qB,LinearMipMapLinearFilter:UO,LinearMipMapNearestFilter:wPe,LinearMipmapLinearFilter:ml,LinearMipmapNearestFilter:l0,LinearSRGBColorSpace:hu,LinearToneMapping:yZ,LinearTransfer:vb,Loader:ro,LoaderUtils:Vf,LoadingManager:rM,LoopOnce:EZ,LoopPingPong:CZ,LoopRepeat:wB,MOUSE:gp,Material:Ss,MaterialLoader:iM,MathUtils:UZ,Matrix2:ok,Matrix3:er,Matrix4:Bn,MaxEquation:nZ,Mesh:Pi,MeshBasicMaterial:da,MeshDepthMaterial:VB,MeshDistanceMaterial:WB,MeshLambertMaterial:hQ,MeshMatcapMaterial:pQ,MeshNormalMaterial:fQ,MeshPhongMaterial:uQ,MeshPhysicalMaterial:Al,MeshStandardMaterial:h_,MeshToonMaterial:dQ,MinEquation:tZ,MirroredRepeatWrapping:H0,MixOperation:gZ,MultiplyBlending:LO,MultiplyOperation:Qb,NearestFilter:js,NearestMipMapLinearFilter:_Pe,NearestMipMapNearestFilter:bPe,NearestMipmapLinearFilter:Tp,NearestMipmapNearestFilter:TC,NeutralToneMapping:SZ,NeverCompare:NZ,NeverDepth:gA,NeverStencilFunc:OPe,NoBlending:dc,NoColorSpace:od,NoToneMapping:tu,NormalAnimationBlendMode:BC,NormalBlending:Gp,NotEqualCompare:DZ,NotEqualDepth:wA,NotEqualStencilFunc:LPe,NumberKeyframeTrack:cm,Object3D:Sr,ObjectLoader:XNe,ObjectSpaceNormalMap:RZ,OctahedronGeometry:d_,OneFactor:iZ,OneMinusConstantAlphaFactor:mZ,OneMinusConstantColorFactor:hZ,OneMinusDstAlphaFactor:lZ,OneMinusDstColorFactor:uZ,OneMinusSrcAlphaFactor:mA,OneMinusSrcColorFactor:oZ,OrthographicCamera:nu,PCFShadowMap:CC,PCFSoftShadowMap:cx,PMREMGenerator:YO,Path:tE,PerspectiveCamera:Li,Plane:id,PlaneGeometry:dh,PlaneHelper:k3e,PointLight:ZB,PointLightHelper:T3e,Points:DB,PointsMaterial:GC,PolarGridHelper:I3e,PolyhedronGeometry:uh,PositionalAudio:t3e,PropertyBinding:Cr,PropertyMixer:FQ,QuadraticBezierCurve:zB,QuadraticBezierCurve3:HB,Quaternion:Us,QuaternionKeyframeTrack:um,QuaternionLinearInterpolant:bQ,RED_GREEN_RGTC2_Format:KA,RED_RGTC1_Format:qA,REVISION:Zb,RGBADepthPacking:PZ,RGBAFormat:$i,RGBAIntegerFormat:DC,RGBA_ASTC_10x10_Format:zA,RGBA_ASTC_10x5_Format:LA,RGBA_ASTC_10x6_Format:jA,RGBA_ASTC_10x8_Format:UA,RGBA_ASTC_12x10_Format:HA,RGBA_ASTC_12x12_Format:GA,RGBA_ASTC_4x4_Format:RA,RGBA_ASTC_5x4_Format:NA,RGBA_ASTC_5x5_Format:IA,RGBA_ASTC_6x5_Format:OA,RGBA_ASTC_6x6_Format:FA,RGBA_ASTC_8x5_Format:DA,RGBA_ASTC_8x6_Format:BA,RGBA_ASTC_8x8_Format:kA,RGBA_BPTC_Format:VA,RGBA_ETC2_EAC_Format:PA,RGBA_PVRTC_2BPPV1_Format:CA,RGBA_PVRTC_4BPPV1_Format:EA,RGBA_S3TC_DXT1_Format:dx,RGBA_S3TC_DXT3_Format:fx,RGBA_S3TC_DXT5_Format:hx,RGBDepthPacking:APe,RGBFormat:_B,RGBIntegerFormat:SPe,RGB_BPTC_SIGNED_Format:WA,RGB_BPTC_UNSIGNED_Format:$A,RGB_ETC1_Format:MA,RGB_ETC2_Format:TA,RGB_PVRTC_2BPPV1_Format:AA,RGB_PVRTC_4BPPV1_Format:SA,RGB_S3TC_DXT1_Format:ux,RGDepthPacking:EPe,RGFormat:OC,RGIntegerFormat:FC,RawShaderMaterial:cQ,Ray:bm,Raycaster:sk,RectAreaLight:CQ,RedFormat:t_,RedIntegerFormat:n_,ReinhardToneMapping:xZ,RenderTarget:MB,RenderTarget3D:p3e,RepeatWrapping:Yf,ReplaceStencilOp:MPe,ReverseSubtractEquation:eZ,RingGeometry:JC,SIGNED_RED_GREEN_RGTC2_Format:YA,SIGNED_RED_RGTC1_Format:XA,SRGBColorSpace:zo,SRGBTransfer:Vr,Scene:s_,ShaderChunk:cr,ShaderLib:sc,ShaderMaterial:Xo,ShadowMaterial:lQ,Shape:$p,ShapeGeometry:ZC,ShapePath:U3e,ShapeUtils:cc,ShortType:RC,Skeleton:a_,SkeletonHelper:M3e,SkinnedMesh:IB,Source:kf,Sphere:Hs,SphereGeometry:f_,Spherical:XO,SphericalHarmonics3:MQ,SplineCurve:GB,SpotLight:JB,SpotLightHelper:C3e,Sprite:qZ,SpriteMaterial:NB,SrcAlphaFactor:pA,SrcAlphaSaturateFactor:dZ,SrcColorFactor:sZ,StaticCopyUsage:WPe,StaticDrawUsage:yb,StaticReadUsage:HPe,StereoCamera:JNe,StreamCopyUsage:qPe,StreamDrawUsage:zPe,StreamReadUsage:VPe,StringKeyframeTrack:Sm,SubtractEquation:QJ,SubtractiveBlending:kO,TOUCH:vp,TangentSpaceNormalMap:ch,TetrahedronGeometry:QC,Texture:zr,TextureLoader:SQ,TextureUtils:$3e,Timer:x3e,TimestampQuery:KPe,TorusGeometry:eM,TorusKnotGeometry:tM,Triangle:ca,TriangleFanDrawMode:JA,TriangleStripDrawMode:AB,TrianglesDrawMode:MZ,TubeGeometry:nM,UVMapping:Xf,Uint16BufferAttribute:TB,Uint32BufferAttribute:PB,Uint8BufferAttribute:FRe,Uint8ClampedBufferAttribute:DRe,Uniform:ik,UniformsGroup:g3e,UniformsLib:en,UniformsUtils:VZ,UnsignedByteType:qo,UnsignedInt101111Type:xB,UnsignedInt248Type:V0,UnsignedInt5999Type:yB,UnsignedIntType:fu,UnsignedShort4444Type:NC,UnsignedShort5551Type:IC,UnsignedShortType:G0,VSMShadowMap:tc,Vector2:xt,Vector3:de,Vector4:Pr,VectorKeyframeTrack:dm,VideoFrameTexture:iNe,VideoTexture:YZ,WebGL3DRenderTarget:wRe,WebGLArrayRenderTarget:_Re,WebGLCoordinateSystem:ka,WebGLCubeRenderTarget:RB,WebGLRenderTarget:wl,WebGLRenderer:ak,WebGLUtils:GQ,WebGPUCoordinateSystem:K0,WebXRController:qw,WireframeGeometry:aQ,WrapAroundEnding:gb,ZeroCurvatureEnding:Pp,ZeroFactor:rZ,ZeroSlopeEnding:Rp,ZeroStencilOp:CPe,createCanvasElement:jZ,error:Vn,getConsoleFunction:eRe,log:bb,setConsoleFunction:QPe,warn:tn,warnOnce:Y0},Symbol.toStringTag,{value:"Module"}));var r3={exports:{}},wf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jG;function IBe(){return jG||(jG=1,wf.ConcurrentRoot=1,wf.ContinuousEventPriority=4,wf.DefaultEventPriority=16,wf.DiscreteEventPriority=1,wf.IdleEventPriority=536870912,wf.LegacyRoot=0),wf}var UG;function OBe(){return UG||(UG=1,r3.exports=IBe()),r3.exports}var Vg=OBe();function FBe(n){let e;const t=new Set,r=(u,d)=>{const c=typeof u=="function"?u(e):u;if(c!==e){const f=e;e=d?c:Object.assign({},e,c),t.forEach(m=>m(e,f))}},i=()=>e,s=(u,d=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function m(){const v=d(e);if(!c(f,v)){const b=f;u(f=v,b)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,d,c)=>d||c?s(u,d,c):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const DBe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zG=DBe?B.useEffect:B.useLayoutEffect;function VQ(n){const e=typeof n=="function"?FBe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(y=>y+1,0),o=e.getState(),a=B.useRef(o),l=B.useRef(r),u=B.useRef(i),d=B.useRef(!1),c=B.useRef();c.current===void 0&&(c.current=r(o));let f,m=!1;(a.current!==o||l.current!==r||u.current!==i||d.current)&&(f=r(o),m=!i(c.current,f)),zG(()=>{m&&(c.current=f),a.current=o,l.current=r,u.current=i,d.current=!1});const v=B.useRef(o);zG(()=>{const y=()=>{try{const A=e.getState(),E=l.current(A);u.current(c.current,E)||(a.current=A,c.current=E,s())}catch{d.current=!0,s()}},w=e.subscribe(y);return e.getState()!==v.current&&y(),w},[]);const b=m?f:c.current;return B.useDebugValue(b),b};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const BBe=n=>typeof n=="object"&&typeof n.then=="function",Op=[];function WQ(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function $Q(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Op)if(WQ(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Op.indexOf(i);s!==-1&&Op.splice(s,1)},promise:(BBe(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Op.push(i),!t)throw i.promise}const kBe=(n,e,t)=>$Q(n,e,!1,t),LBe=(n,e,t)=>void $Q(n,e,!0,t),jBe=n=>{if(n===void 0||n.length===0)Op.splice(0,Op.length);else{const e=Op.find(t=>WQ(n,t.keys,t.equal));e&&e.remove()}};var i3={exports:{}},s3={exports:{}},o3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HG;function UBe(){return HG||(HG=1,(function(n){function e(H,Y){var ne=H.length;H.push(Y);e:for(;0<ne;){var Z=ne-1>>>1,oe=H[Z];if(0<i(oe,Y))H[Z]=Y,H[ne]=oe,ne=Z;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],ne=H.pop();if(ne!==Y){H[0]=ne;e:for(var Z=0,oe=H.length,ye=oe>>>1;Z<ye;){var Be=2*(Z+1)-1,Xe=H[Be],we=Be+1,Ae=H[we];if(0>i(Xe,ne))we<oe&&0>i(Ae,Xe)?(H[Z]=Ae,H[we]=ne,Z=we):(H[Z]=Xe,H[Be]=ne,Z=Be);else if(we<oe&&0>i(Ae,ne))H[Z]=Ae,H[we]=ne,Z=we;else break e}}return Y}function i(H,Y){var ne=H.sortIndex-Y.sortIndex;return ne!==0?ne:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Y=t(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=H)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(u)}}function C(H){if(b=!1,E(H),!v)if(t(l)!==null)v=!0,V(M);else{var Y=t(u);Y!==null&&J(C,Y.startTime-H)}}function M(H,Y){v=!1,b&&(b=!1,w(k),k=-1),m=!0;var ne=f;try{for(E(Y),c=t(l);c!==null&&(!(c.expirationTime>Y)||H&&!L());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var oe=Z(c.expirationTime<=Y);Y=n.unstable_now(),typeof oe=="function"?c.callback=oe:c===t(l)&&r(l),E(Y)}else r(l);c=t(l)}if(c!==null)var ye=!0;else{var Be=t(u);Be!==null&&J(C,Be.startTime-Y),ye=!1}return ye}finally{c=null,f=ne,m=!1}}var P=!1,O=null,k=-1,D=5,I=-1;function L(){return!(n.unstable_now()-I<D)}function W(){if(O!==null){var H=n.unstable_now();I=H;var Y=!0;try{Y=O(!0,H)}finally{Y?q():(P=!1,O=null)}}else P=!1}var q;if(typeof A=="function")q=function(){A(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=W,q=function(){ie.postMessage(null)}}else q=function(){y(W,0)};function V(H){O=H,P||(P=!0,q())}function J(H,Y){k=y(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,V(M))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ne=f;f=Y;try{return H()}finally{f=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=f;f=H;try{return Y()}finally{f=ne}},n.unstable_scheduleCallback=function(H,Y,ne){var Z=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Z+ne:Z):ne=Z,H){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,H={id:d++,callback:Y,priorityLevel:H,startTime:ne,expirationTime:oe,sortIndex:-1},ne>Z?(H.sortIndex=ne,e(u,H),t(l)===null&&H===t(u)&&(b?(w(k),k=-1):b=!0,J(C,ne-Z))):(H.sortIndex=oe,e(l,H),v||m||(v=!0,V(M))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var Y=f;return function(){var ne=f;f=Y;try{return H.apply(this,arguments)}finally{f=ne}}}})(o3)),o3}var GG;function zBe(){return GG||(GG=1,s3.exports=UBe()),s3.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3,VG;function HBe(){return VG||(VG=1,a3=function(e){var t={},r=lE(),i=zBe(),s=Object.assign;function o(x){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+x,T=1;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),M=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}function O(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case c:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case v:return(x.displayName||"Context")+".Consumer";case m:return(x._context.displayName||"Context")+".Provider";case b:var _=x.render;return x=x.displayName,x||(x=_.displayName||_.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case A:return _=x.displayName||null,_!==null?_:O(x.type)||"Memo";case E:_=x._payload,x=x._init;try{return O(x(_))}catch{}}return null}function k(x){var _=x.type;switch(x.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=_.render,x=x.displayName||x.name||"",_.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(_);case 8:return _===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function D(x){var _=x,T=x;if(x.alternate)for(;_.return;)_=_.return;else{x=_;do _=x,(_.flags&4098)!==0&&(T=_.return),x=_.return;while(x)}return _.tag===3?T:null}function I(x){if(D(x)!==x)throw Error(o(188))}function L(x){var _=x.alternate;if(!_){if(_=D(x),_===null)throw Error(o(188));return _!==x?null:x}for(var T=x,F=_;;){var z=T.return;if(z===null)break;var X=z.alternate;if(X===null){if(F=z.return,F!==null){T=F;continue}break}if(z.child===X.child){for(X=z.child;X;){if(X===T)return I(z),x;if(X===F)return I(z),_;X=X.sibling}throw Error(o(188))}if(T.return!==F.return)T=z,F=X;else{for(var ge=!1,Ie=z.child;Ie;){if(Ie===T){ge=!0,T=z,F=X;break}if(Ie===F){ge=!0,F=z,T=X;break}Ie=Ie.sibling}if(!ge){for(Ie=X.child;Ie;){if(Ie===T){ge=!0,T=X,F=z;break}if(Ie===F){ge=!0,F=X,T=z;break}Ie=Ie.sibling}if(!ge)throw Error(o(189))}}if(T.alternate!==F)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?x:_}function W(x){return x=L(x),x!==null?q(x):null}function q(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var _=q(x);if(_!==null)return _;x=x.sibling}return null}function K(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var _=K(x);if(_!==null)return _}x=x.sibling}return null}var ie=Array.isArray,V=e.getPublicInstance,J=e.getRootHostContext,H=e.getChildHostContext,Y=e.prepareForCommit,ne=e.resetAfterCommit,Z=e.createInstance,oe=e.appendInitialChild,ye=e.finalizeInitialChildren,Be=e.prepareUpdate,Xe=e.shouldSetTextContent,we=e.createTextInstance,Ae=e.scheduleTimeout,ke=e.cancelTimeout,Oe=e.noTimeout,Ge=e.isPrimaryRenderer,et=e.supportsMutation,ze=e.supportsPersistence,nt=e.supportsHydration,Fe=e.getInstanceFromNode,ce=e.preparePortalMount,rt=e.getCurrentEventPriority,ct=e.detachDeletedInstance,wt=e.supportsMicrotasks,Te=e.scheduleMicrotask,tt=e.supportsTestSelectors,st=e.findFiberRoot,ft=e.getBoundingRect,ae=e.getTextContent,te=e.isHiddenSubtree,Ne=e.matchAccessibilityRole,Ye=e.setFocusIfFocusable,pt=e.setupIntersectionObserver,Ke=e.appendChild,Jt=e.appendChildToContainer,It=e.commitTextUpdate,Vt=e.commitMount,Lt=e.commitUpdate,yt=e.insertBefore,bt=e.insertInContainerBefore,Zt=e.removeChild,_e=e.removeChildFromContainer,Pe=e.resetTextContent,ht=e.hideInstance,he=e.hideTextInstance,Le=e.unhideInstance,lt=e.unhideTextInstance,vt=e.clearContainer,mt=e.cloneInstance,je=e.createContainerChildSet,_t=e.appendChildToContainerChildSet,jt=e.finalizeContainerChildren,_n=e.replaceContainerChildren,Sn=e.cloneHiddenInstance,An=e.cloneHiddenTextInstance,kn=e.canHydrateInstance,Kr=e.canHydrateTextInstance,Or=e.canHydrateSuspenseInstance,xr=e.isSuspenseInstancePending,Fr=e.isSuspenseInstanceFallback,Yr=e.registerSuspenseInstanceRetry,tr=e.getNextHydratableSibling,En=e.getFirstHydratableChild,Mo=e.getFirstHydratableChildWithinContainer,bc=e.getFirstHydratableChildWithinSuspenseInstance,Q=e.hydrateInstance,le=e.hydrateTextInstance,Ee=e.hydrateSuspenseInstance,Ve=e.getNextHydratableInstanceAfterSuspenseInstance,ot=e.commitHydratedContainer,it=e.commitHydratedSuspenseInstance,Ft=e.clearSuspenseBoundary,Mt=e.clearSuspenseBoundaryFromContainer,Ot=e.shouldDeleteUnhydratedTailInstances,ee=e.didNotMatchHydratedContainerTextInstance,ve=e.didNotMatchHydratedTextInstance,xe;function Ue(x){if(xe===void 0)try{throw Error()}catch(T){var _=T.stack.trim().match(/\n( *(at )?)/);xe=_&&_[1]||""}return`
`+xe+x}var Se=!1;function Je(x,_){if(!x||Se)return"";Se=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(Ut){var F=Ut}Reflect.construct(x,[],_)}else{try{_.call()}catch(Ut){F=Ut}x.call(_.prototype)}else{try{throw Error()}catch(Ut){F=Ut}x()}}catch(Ut){if(Ut&&F&&typeof Ut.stack=="string"){for(var z=Ut.stack.split(`
`),X=F.stack.split(`
`),ge=z.length-1,Ie=X.length-1;1<=ge&&0<=Ie&&z[ge]!==X[Ie];)Ie--;for(;1<=ge&&0<=Ie;ge--,Ie--)if(z[ge]!==X[Ie]){if(ge!==1||Ie!==1)do if(ge--,Ie--,0>Ie||z[ge]!==X[Ie]){var ut=`
`+z[ge].replace(" at new "," at ");return x.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",x.displayName)),ut}while(1<=ge&&0<=Ie);break}}}finally{Se=!1,Error.prepareStackTrace=T}return(x=x?x.displayName||x.name:"")?Ue(x):""}var dt=Object.prototype.hasOwnProperty,St=[],Et=-1;function Pt(x){return{current:x}}function At(x){0>Et||(x.current=St[Et],St[Et]=null,Et--)}function Nt(x,_){Et++,St[Et]=x.current,x.current=_}var Wt={},yn=Pt(Wt),un=Pt(!1),Tn=Wt;function Rn(x,_){var T=x.type.contextTypes;if(!T)return Wt;var F=x.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===_)return F.__reactInternalMemoizedMaskedChildContext;var z={},X;for(X in T)z[X]=_[X];return F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=_,x.__reactInternalMemoizedMaskedChildContext=z),z}function Yt(x){return x=x.childContextTypes,x!=null}function Ln(){At(un),At(yn)}function sn(x,_,T){if(yn.current!==Wt)throw Error(o(168));Nt(yn,_),Nt(un,T)}function jn(x,_,T){var F=x.stateNode;if(_=_.childContextTypes,typeof F.getChildContext!="function")return T;F=F.getChildContext();for(var z in F)if(!(z in _))throw Error(o(108,k(x)||"Unknown",z));return s({},T,F)}function or(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Wt,Tn=yn.current,Nt(yn,x),Nt(un,un.current),!0}function Pn(x,_,T){var F=x.stateNode;if(!F)throw Error(o(169));T?(x=jn(x,_,Tn),F.__reactInternalMemoizedMergedChildContext=x,At(un),At(yn),Nt(yn,x)):At(un),Nt(un,T)}var mr=Math.clz32?Math.clz32:Jr,dr=Math.log,fr=Math.LN2;function Jr(x){return x>>>=0,x===0?32:31-(dr(x)/fr|0)|0}var ti=64,Nn=4194304;function To(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function Ki(x,_){var T=x.pendingLanes;if(T===0)return 0;var F=0,z=x.suspendedLanes,X=x.pingedLanes,ge=T&268435455;if(ge!==0){var Ie=ge&~z;Ie!==0?F=To(Ie):(X&=ge,X!==0&&(F=To(X)))}else ge=T&~z,ge!==0?F=To(ge):X!==0&&(F=To(X));if(F===0)return 0;if(_!==0&&_!==F&&(_&z)===0&&(z=F&-F,X=_&-_,z>=X||z===16&&(X&4194240)!==0))return _;if((F&4)!==0&&(F|=T&16),_=x.entangledLanes,_!==0)for(x=x.entanglements,_&=F;0<_;)T=31-mr(_),z=1<<T,F|=x[T],_&=~z;return F}function Id(x,_){switch(x){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ph(x,_){for(var T=x.suspendedLanes,F=x.pingedLanes,z=x.expirationTimes,X=x.pendingLanes;0<X;){var ge=31-mr(X),Ie=1<<ge,ut=z[ge];ut===-1?((Ie&T)===0||(Ie&F)!==0)&&(z[ge]=Id(Ie,_)):ut<=_&&(x.expiredLanes|=Ie),X&=~Ie}}function za(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Od(x){for(var _=[],T=0;31>T;T++)_.push(x);return _}function Cl(x,_,T){x.pendingLanes|=_,_!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,_=31-mr(_),x[_]=T}function Fd(x,_){var T=x.pendingLanes&~_;x.pendingLanes=_,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=_,x.mutableReadLanes&=_,x.entangledLanes&=_,_=x.entanglements;var F=x.eventTimes;for(x=x.expirationTimes;0<T;){var z=31-mr(T),X=1<<z;_[z]=0,F[z]=-1,x[z]=-1,T&=~X}}function Ko(x,_){var T=x.entangledLanes|=_;for(x=x.entanglements;T;){var F=31-mr(T),z=1<<F;z&_|x[F]&_&&(x[F]|=_),T&=~z}}var Kn=0;function Vs(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Ml=i.unstable_scheduleCallback,_c=i.unstable_cancelCallback,Ha=i.unstable_shouldYield,Pv=i.unstable_requestPaint,oi=i.unstable_now,Ga=i.unstable_ImmediatePriority,Am=i.unstable_UserBlockingPriority,Va=i.unstable_NormalPriority,Ts=i.unstable_IdlePriority,bu=null,Yo=null;function wc(x){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(bu,x,void 0,(x.current.flags&128)===128)}catch{}}function Sc(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var Ui=typeof Object.is=="function"?Object.is:Sc,Ps=null,va=!1,Dd=!1;function Ac(x){Ps===null?Ps=[x]:Ps.push(x)}function Bd(x){va=!0,Ac(x)}function io(){if(!Dd&&Ps!==null){Dd=!0;var x=0,_=Kn;try{var T=Ps;for(Kn=1;x<T.length;x++){var F=T[x];do F=F(!0);while(F!==null)}Ps=null,va=!1}catch(z){throw Ps!==null&&(Ps=Ps.slice(x+1)),Ml(Ga,io),z}finally{Kn=_,Dd=!1}}return null}var Ec=a.ReactCurrentBatchConfig;function so(x,_){if(Ui(x,_))return!0;if(typeof x!="object"||x===null||typeof _!="object"||_===null)return!1;var T=Object.keys(x),F=Object.keys(_);if(T.length!==F.length)return!1;for(F=0;F<T.length;F++){var z=T[F];if(!dt.call(_,z)||!Ui(x[z],_[z]))return!1}return!0}function kd(x){switch(x.tag){case 5:return Ue(x.type);case 16:return Ue("Lazy");case 13:return Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 2:case 15:return x=Je(x.type,!1),x;case 11:return x=Je(x.type.render,!1),x;case 1:return x=Je(x.type,!0),x;default:return""}}function Rs(x,_){if(x&&x.defaultProps){_=s({},_),x=x.defaultProps;for(var T in x)_[T]===void 0&&(_[T]=x[T]);return _}return _}var _u=Pt(null),Jo=null,Zo=null,Ld=null;function Yi(){Ld=Zo=Jo=null}function Tl(x,_,T){Ge?(Nt(_u,_._currentValue),_._currentValue=T):(Nt(_u,_._currentValue2),_._currentValue2=T)}function wu(x){var _=_u.current;At(_u),Ge?x._currentValue=_:x._currentValue2=_}function ya(x,_,T){for(;x!==null;){var F=x.alternate;if((x.childLanes&_)!==_?(x.childLanes|=_,F!==null&&(F.childLanes|=_)):F!==null&&(F.childLanes&_)!==_&&(F.childLanes|=_),x===T)break;x=x.return}}function Wa(x,_){Jo=x,Ld=Zo=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&_)!==0&&(es=!0),x.firstContext=null)}function ds(x){var _=Ge?x._currentValue:x._currentValue2;if(Ld!==x)if(x={context:x,memoizedValue:_,next:null},Zo===null){if(Jo===null)throw Error(o(308));Zo=x,Jo.dependencies={lanes:0,firstContext:x}}else Zo=Zo.next=x;return _}var oo=null,ao=!1;function Cc(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(x,_){x=x.updateQueue,_.updateQueue===x&&(_.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Qo(x,_){return{eventTime:x,lane:_,tag:0,payload:null,callback:null,next:null}}function $a(x,_){var T=x.updateQueue;T!==null&&(T=T.shared,_i!==null&&(x.mode&1)!==0&&(Qn&2)===0?(x=T.interleaved,x===null?(_.next=_,oo===null?oo=[T]:oo.push(T)):(_.next=x.next,x.next=_),T.interleaved=_):(x=T.pending,x===null?_.next=_:(_.next=x.next,x.next=_),T.pending=_))}function jd(x,_,T){if(_=_.updateQueue,_!==null&&(_=_.shared,(T&4194240)!==0)){var F=_.lanes;F&=x.pendingLanes,T|=F,_.lanes=T,Ko(x,T)}}function Mc(x,_){var T=x.updateQueue,F=x.alternate;if(F!==null&&(F=F.updateQueue,T===F)){var z=null,X=null;if(T=T.firstBaseUpdate,T!==null){do{var ge={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};X===null?z=X=ge:X=X.next=ge,T=T.next}while(T!==null);X===null?z=X=_:X=X.next=_}else z=X=_;T={baseState:F.baseState,firstBaseUpdate:z,lastBaseUpdate:X,shared:F.shared,effects:F.effects},x.updateQueue=T;return}x=T.lastBaseUpdate,x===null?T.firstBaseUpdate=_:x.next=_,T.lastBaseUpdate=_}function Ud(x,_,T,F){var z=x.updateQueue;ao=!1;var X=z.firstBaseUpdate,ge=z.lastBaseUpdate,Ie=z.shared.pending;if(Ie!==null){z.shared.pending=null;var ut=Ie,Ut=ut.next;ut.next=null,ge===null?X=Ut:ge.next=Ut,ge=ut;var ln=x.alternate;ln!==null&&(ln=ln.updateQueue,Ie=ln.lastBaseUpdate,Ie!==ge&&(Ie===null?ln.firstBaseUpdate=Ut:Ie.next=Ut,ln.lastBaseUpdate=ut))}if(X!==null){var qn=z.baseState;ge=0,ln=Ut=ut=null,Ie=X;do{var Mn=Ie.lane,nr=Ie.eventTime;if((F&Mn)===Mn){ln!==null&&(ln=ln.next={eventTime:nr,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var rn=x,gs=Ie;switch(Mn=_,nr=T,gs.tag){case 1:if(rn=gs.payload,typeof rn=="function"){qn=rn.call(nr,qn,Mn);break e}qn=rn;break e;case 3:rn.flags=rn.flags&-65537|128;case 0:if(rn=gs.payload,Mn=typeof rn=="function"?rn.call(nr,qn,Mn):rn,Mn==null)break e;qn=s({},qn,Mn);break e;case 2:ao=!0}}Ie.callback!==null&&Ie.lane!==0&&(x.flags|=64,Mn=z.effects,Mn===null?z.effects=[Ie]:Mn.push(Ie))}else nr={eventTime:nr,lane:Mn,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},ln===null?(Ut=ln=nr,ut=qn):ln=ln.next=nr,ge|=Mn;if(Ie=Ie.next,Ie===null){if(Ie=z.shared.pending,Ie===null)break;Mn=Ie,Ie=Mn.next,Mn.next=null,z.lastBaseUpdate=Mn,z.shared.pending=null}}while(!0);if(ln===null&&(ut=qn),z.baseState=ut,z.firstBaseUpdate=Ut,z.lastBaseUpdate=ln,_=z.shared.interleaved,_!==null){z=_;do ge|=z.lane,z=z.next;while(z!==_)}else X===null&&(z.shared.lanes=0);Ja|=ge,x.lanes=ge,x.memoizedState=qn}}function Em(x,_,T){if(x=_.effects,_.effects=null,x!==null)for(_=0;_<x.length;_++){var F=x[_],z=F.callback;if(z!==null){if(F.callback=null,F=T,typeof z!="function")throw Error(o(191,z));z.call(F)}}}var Cm=new r.Component().refs;function Tc(x,_,T,F){_=x.memoizedState,T=T(F,_),T=T==null?_:s({},_,T),x.memoizedState=T,x.lanes===0&&(x.updateQueue.baseState=T)}var zd={isMounted:function(x){return(x=x._reactInternals)?D(x)===x:!1},enqueueSetState:function(x,_,T){x=x._reactInternals;var F=Er(),z=Ea(x),X=Qo(F,z);X.payload=_,T!=null&&(X.callback=T),$a(x,X),_=Fs(x,z,F),_!==null&&jd(_,x,z)},enqueueReplaceState:function(x,_,T){x=x._reactInternals;var F=Er(),z=Ea(x),X=Qo(F,z);X.tag=1,X.payload=_,T!=null&&(X.callback=T),$a(x,X),_=Fs(x,z,F),_!==null&&jd(_,x,z)},enqueueForceUpdate:function(x,_){x=x._reactInternals;var T=Er(),F=Ea(x),z=Qo(T,F);z.tag=2,_!=null&&(z.callback=_),$a(x,z),_=Fs(x,F,T),_!==null&&jd(_,x,F)}};function gh(x,_,T,F,z,X,ge){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(F,X,ge):_.prototype&&_.prototype.isPureReactComponent?!so(T,F)||!so(z,X):!0}function Mm(x,_,T){var F=!1,z=Wt,X=_.contextType;return typeof X=="object"&&X!==null?X=ds(X):(z=Yt(_)?Tn:yn.current,F=_.contextTypes,X=(F=F!=null)?Rn(x,z):Wt),_=new _(T,X),x.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=zd,x.stateNode=_,_._reactInternals=x,F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=z,x.__reactInternalMemoizedMaskedChildContext=X),_}function vh(x,_,T,F){x=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(T,F),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(T,F),_.state!==x&&zd.enqueueReplaceState(_,_.state,null)}function Hd(x,_,T,F){var z=x.stateNode;z.props=T,z.state=x.memoizedState,z.refs=Cm,Cc(x);var X=_.contextType;typeof X=="object"&&X!==null?z.context=ds(X):(X=Yt(_)?Tn:yn.current,z.context=Rn(x,X)),z.state=x.memoizedState,X=_.getDerivedStateFromProps,typeof X=="function"&&(Tc(x,_,X,T),z.state=x.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(_=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),_!==z.state&&zd.enqueueReplaceState(z,z.state,null),Ud(x,T,z,F),z.state=x.memoizedState),typeof z.componentDidMount=="function"&&(x.flags|=4194308)}var R=[],U=0,$=null,re=0,fe=[],me=0,pe=null,Ce=1,We="";function Ct(x,_){R[U++]=re,R[U++]=$,$=x,re=_}function qt(x,_,T){fe[me++]=Ce,fe[me++]=We,fe[me++]=pe,pe=x;var F=Ce;x=We;var z=32-mr(F)-1;F&=~(1<<z),T+=1;var X=32-mr(_)+z;if(30<X){var ge=z-z%5;X=(F&(1<<ge)-1).toString(32),F>>=ge,z-=ge,Ce=1<<32-mr(_)+z|T<<z|F,We=X+x}else Ce=1<<X|T<<z|F,We=x}function Cn(x){x.return!==null&&(Ct(x,1),qt(x,1,0))}function vn(x){for(;x===$;)$=R[--U],R[U]=null,re=R[--U],R[U]=null;for(;x===pe;)pe=fe[--me],fe[me]=null,We=fe[--me],fe[me]=null,Ce=fe[--me],fe[me]=null}var Ht=null,an=null,fn=!1,Ar=!1,ar=null;function xi(x,_){var T=Do(5,null,null,0);T.elementType="DELETED",T.stateNode=_,T.return=x,_=x.deletions,_===null?(x.deletions=[T],x.flags|=16):_.push(T)}function Ns(x,_){switch(x.tag){case 5:return _=kn(_,x.type,x.pendingProps),_!==null?(x.stateNode=_,Ht=x,an=En(_),!0):!1;case 6:return _=Kr(_,x.pendingProps),_!==null?(x.stateNode=_,Ht=x,an=null,!0):!1;case 13:if(_=Or(_),_!==null){var T=pe!==null?{id:Ce,overflow:We}:null;return x.memoizedState={dehydrated:_,treeContext:T,retryLane:1073741824},T=Do(18,null,null,0),T.stateNode=_,T.return=x,x.child=T,Ht=x,an=null,!0}return!1;default:return!1}}function zi(x){return(x.mode&1)!==0&&(x.flags&128)===0}function Zn(x){if(fn){var _=an;if(_){var T=_;if(!Ns(x,_)){if(zi(x))throw Error(o(418));_=tr(T);var F=Ht;_&&Ns(x,_)?xi(F,T):(x.flags=x.flags&-4097|2,fn=!1,Ht=x)}}else{if(zi(x))throw Error(o(418));x.flags=x.flags&-4097|2,fn=!1,Ht=x}}}function Ri(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Ht=x}function lo(x){if(!nt||x!==Ht)return!1;if(!fn)return Ri(x),fn=!0,!1;if(x.tag!==3&&(x.tag!==5||Ot(x.type)&&!Xe(x.type,x.memoizedProps))){var _=an;if(_){if(zi(x)){for(x=an;x;)x=tr(x);throw Error(o(418))}for(;_;)xi(x,_),_=tr(_)}}if(Ri(x),x.tag===13){if(!nt)throw Error(o(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));an=Ve(x)}else an=Ht?tr(x.stateNode):null;return!0}function Pc(){nt&&(an=Ht=null,Ar=fn=!1)}function Gd(x){ar===null?ar=[x]:ar.push(x)}function Rc(x,_,T){if(x=T.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var F=T.stateNode}if(!F)throw Error(o(147,x));var z=F,X=""+x;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===X?_.ref:(_=function(ge){var Ie=z.refs;Ie===Cm&&(Ie=z.refs={}),ge===null?delete Ie[X]:Ie[X]=ge},_._stringRef=X,_)}if(typeof x!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,x))}return x}function qa(x,_){throw x=Object.prototype.toString.call(_),Error(o(31,x==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":x))}function Nc(x){var _=x._init;return _(x._payload)}function Su(x){function _(qe,De){if(x){var at=qe.deletions;at===null?(qe.deletions=[De],qe.flags|=16):at.push(De)}}function T(qe,De){if(!x)return null;for(;De!==null;)_(qe,De),De=De.sibling;return null}function F(qe,De){for(qe=new Map;De!==null;)De.key!==null?qe.set(De.key,De):qe.set(De.index,De),De=De.sibling;return qe}function z(qe,De){return qe=Hl(qe,De),qe.index=0,qe.sibling=null,qe}function X(qe,De,at){return qe.index=at,x?(at=qe.alternate,at!==null?(at=at.index,at<De?(qe.flags|=2,De):at):(qe.flags|=2,De)):(qe.flags|=1048576,De)}function ge(qe){return x&&qe.alternate===null&&(qe.flags|=2),qe}function Ie(qe,De,at,Qt){return De===null||De.tag!==6?(De=eg(at,qe.mode,Qt),De.return=qe,De):(De=z(De,at),De.return=qe,De)}function ut(qe,De,at,Qt){var bn=at.type;return bn===d?ln(qe,De,at.props.children,Qt,at.key):De!==null&&(De.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===E&&Nc(bn)===De.type)?(Qt=z(De,at.props),Qt.ref=Rc(qe,De,at),Qt.return=qe,Qt):(Qt=Qm(at.type,at.key,at.props,null,qe.mode,Qt),Qt.ref=Rc(qe,De,at),Qt.return=qe,Qt)}function Ut(qe,De,at,Qt){return De===null||De.tag!==4||De.stateNode.containerInfo!==at.containerInfo||De.stateNode.implementation!==at.implementation?(De=tg(at,qe.mode,Qt),De.return=qe,De):(De=z(De,at.children||[]),De.return=qe,De)}function ln(qe,De,at,Qt,bn){return De===null||De.tag!==7?(De=Wu(at,qe.mode,Qt,bn),De.return=qe,De):(De=z(De,at),De.return=qe,De)}function qn(qe,De,at){if(typeof De=="string"&&De!==""||typeof De=="number")return De=eg(""+De,qe.mode,at),De.return=qe,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return at=Qm(De.type,De.key,De.props,null,qe.mode,at),at.ref=Rc(qe,null,De),at.return=qe,at;case u:return De=tg(De,qe.mode,at),De.return=qe,De;case E:var Qt=De._init;return qn(qe,Qt(De._payload),at)}if(ie(De)||P(De))return De=Wu(De,qe.mode,at,null),De.return=qe,De;qa(qe,De)}return null}function Mn(qe,De,at,Qt){var bn=De!==null?De.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return bn!==null?null:Ie(qe,De,""+at,Qt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case l:return at.key===bn?ut(qe,De,at,Qt):null;case u:return at.key===bn?Ut(qe,De,at,Qt):null;case E:return bn=at._init,Mn(qe,De,bn(at._payload),Qt)}if(ie(at)||P(at))return bn!==null?null:ln(qe,De,at,Qt,null);qa(qe,at)}return null}function nr(qe,De,at,Qt,bn){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number")return qe=qe.get(at)||null,Ie(De,qe,""+Qt,bn);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case l:return qe=qe.get(Qt.key===null?at:Qt.key)||null,ut(De,qe,Qt,bn);case u:return qe=qe.get(Qt.key===null?at:Qt.key)||null,Ut(De,qe,Qt,bn);case E:var Jn=Qt._init;return nr(qe,De,at,Jn(Qt._payload),bn)}if(ie(Qt)||P(Qt))return qe=qe.get(at)||null,ln(De,qe,Qt,bn,null);qa(De,Qt)}return null}function rn(qe,De,at,Qt){for(var bn=null,Jn=null,Xn=De,_r=De=0,Ii=null;Xn!==null&&_r<at.length;_r++){Xn.index>_r?(Ii=Xn,Xn=null):Ii=Xn.sibling;var br=Mn(qe,Xn,at[_r],Qt);if(br===null){Xn===null&&(Xn=Ii);break}x&&Xn&&br.alternate===null&&_(qe,Xn),De=X(br,De,_r),Jn===null?bn=br:Jn.sibling=br,Jn=br,Xn=Ii}if(_r===at.length)return T(qe,Xn),fn&&Ct(qe,_r),bn;if(Xn===null){for(;_r<at.length;_r++)Xn=qn(qe,at[_r],Qt),Xn!==null&&(De=X(Xn,De,_r),Jn===null?bn=Xn:Jn.sibling=Xn,Jn=Xn);return fn&&Ct(qe,_r),bn}for(Xn=F(qe,Xn);_r<at.length;_r++)Ii=nr(Xn,qe,_r,at[_r],Qt),Ii!==null&&(x&&Ii.alternate!==null&&Xn.delete(Ii.key===null?_r:Ii.key),De=X(Ii,De,_r),Jn===null?bn=Ii:Jn.sibling=Ii,Jn=Ii);return x&&Xn.forEach(function(Gl){return _(qe,Gl)}),fn&&Ct(qe,_r),bn}function gs(qe,De,at,Qt){var bn=P(at);if(typeof bn!="function")throw Error(o(150));if(at=bn.call(at),at==null)throw Error(o(151));for(var Jn=bn=null,Xn=De,_r=De=0,Ii=null,br=at.next();Xn!==null&&!br.done;_r++,br=at.next()){Xn.index>_r?(Ii=Xn,Xn=null):Ii=Xn.sibling;var Gl=Mn(qe,Xn,br.value,Qt);if(Gl===null){Xn===null&&(Xn=Ii);break}x&&Xn&&Gl.alternate===null&&_(qe,Xn),De=X(Gl,De,_r),Jn===null?bn=Gl:Jn.sibling=Gl,Jn=Gl,Xn=Ii}if(br.done)return T(qe,Xn),fn&&Ct(qe,_r),bn;if(Xn===null){for(;!br.done;_r++,br=at.next())br=qn(qe,br.value,Qt),br!==null&&(De=X(br,De,_r),Jn===null?bn=br:Jn.sibling=br,Jn=br);return fn&&Ct(qe,_r),bn}for(Xn=F(qe,Xn);!br.done;_r++,br=at.next())br=nr(Xn,qe,_r,br.value,Qt),br!==null&&(x&&br.alternate!==null&&Xn.delete(br.key===null?_r:br.key),De=X(br,De,_r),Jn===null?bn=br:Jn.sibling=br,Jn=br);return x&&Xn.forEach(function(oy){return _(qe,oy)}),fn&&Ct(qe,_r),bn}function Bo(qe,De,at,Qt){if(typeof at=="object"&&at!==null&&at.type===d&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case l:e:{for(var bn=at.key,Jn=De;Jn!==null;){if(Jn.key===bn){if(bn=at.type,bn===d){if(Jn.tag===7){T(qe,Jn.sibling),De=z(Jn,at.props.children),De.return=qe,qe=De;break e}}else if(Jn.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===E&&Nc(bn)===Jn.type){T(qe,Jn.sibling),De=z(Jn,at.props),De.ref=Rc(qe,Jn,at),De.return=qe,qe=De;break e}T(qe,Jn);break}else _(qe,Jn);Jn=Jn.sibling}at.type===d?(De=Wu(at.props.children,qe.mode,Qt,at.key),De.return=qe,qe=De):(Qt=Qm(at.type,at.key,at.props,null,qe.mode,Qt),Qt.ref=Rc(qe,De,at),Qt.return=qe,qe=Qt)}return ge(qe);case u:e:{for(Jn=at.key;De!==null;){if(De.key===Jn)if(De.tag===4&&De.stateNode.containerInfo===at.containerInfo&&De.stateNode.implementation===at.implementation){T(qe,De.sibling),De=z(De,at.children||[]),De.return=qe,qe=De;break e}else{T(qe,De);break}else _(qe,De);De=De.sibling}De=tg(at,qe.mode,Qt),De.return=qe,qe=De}return ge(qe);case E:return Jn=at._init,Bo(qe,De,Jn(at._payload),Qt)}if(ie(at))return rn(qe,De,at,Qt);if(P(at))return gs(qe,De,at,Qt);qa(qe,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,De!==null&&De.tag===6?(T(qe,De.sibling),De=z(De,at),De.return=qe,qe=De):(T(qe,De),De=eg(at,qe.mode,Qt),De.return=qe,qe=De),ge(qe)):T(qe,De)}return Bo}var Pl=Su(!0),__=Su(!1),Vd={},co=Pt(Vd),Au=Pt(Vd),Eu=Pt(Vd);function xa(x){if(x===Vd)throw Error(o(174));return x}function Tm(x,_){Nt(Eu,_),Nt(Au,x),Nt(co,Vd),x=J(_),At(co),Nt(co,x)}function Wd(){At(co),At(Au),At(Eu)}function w_(x){var _=xa(Eu.current),T=xa(co.current);_=H(T,x.type,_),T!==_&&(Nt(Au,x),Nt(co,_))}function Rv(x){Au.current===x&&(At(co),At(Au))}var ai=Pt(0);function Pm(x){for(var _=x;_!==null;){if(_.tag===13){var T=_.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||xr(T)||Fr(T)))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Po=[];function Cu(){for(var x=0;x<Po.length;x++){var _=Po[x];Ge?_._workInProgressVersionPrimary=null:_._workInProgressVersionSecondary=null}Po.length=0}var yh=a.ReactCurrentDispatcher,Ro=a.ReactCurrentBatchConfig,Mu=0,li=null,Ji=null,Zi=null,Rm=!1,Xa=!1,Tu=0,xh=0;function Qi(){throw Error(o(321))}function Nm(x,_){if(_===null)return!1;for(var T=0;T<_.length&&T<x.length;T++)if(!Ui(x[T],_[T]))return!1;return!0}function $d(x,_,T,F,z,X){if(Mu=X,li=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,yh.current=x===null||x.memoizedState===null?Bv:kv,x=T(F,z),Xa){X=0;do{if(Xa=!1,Tu=0,25<=X)throw Error(o(301));X+=1,Zi=Ji=null,_.updateQueue=null,yh.current=Lv,x=T(F,z)}while(Xa)}if(yh.current=Yd,_=Ji!==null&&Ji.next!==null,Mu=0,Zi=Ji=li=null,Rm=!1,_)throw Error(o(300));return x}function Ic(){var x=Tu!==0;return Tu=0,x}function ba(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?li.memoizedState=Zi=x:Zi=Zi.next=x,Zi}function _a(){if(Ji===null){var x=li.alternate;x=x!==null?x.memoizedState:null}else x=Ji.next;var _=Zi===null?li.memoizedState:Zi.next;if(_!==null)Zi=_,Ji=x;else{if(x===null)throw Error(o(310));Ji=x,x={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},Zi===null?li.memoizedState=Zi=x:Zi=Zi.next=x}return Zi}function Ka(x,_){return typeof _=="function"?_(x):_}function bh(x){var _=_a(),T=_.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=x;var F=Ji,z=F.baseQueue,X=T.pending;if(X!==null){if(z!==null){var ge=z.next;z.next=X.next,X.next=ge}F.baseQueue=z=X,T.pending=null}if(z!==null){X=z.next,F=F.baseState;var Ie=ge=null,ut=null,Ut=X;do{var ln=Ut.lane;if((Mu&ln)===ln)ut!==null&&(ut=ut.next={lane:0,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),F=Ut.hasEagerState?Ut.eagerState:x(F,Ut.action);else{var qn={lane:ln,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null};ut===null?(Ie=ut=qn,ge=F):ut=ut.next=qn,li.lanes|=ln,Ja|=ln}Ut=Ut.next}while(Ut!==null&&Ut!==X);ut===null?ge=F:ut.next=Ie,Ui(F,_.memoizedState)||(es=!0),_.memoizedState=F,_.baseState=ge,_.baseQueue=ut,T.lastRenderedState=F}if(x=T.interleaved,x!==null){z=x;do X=z.lane,li.lanes|=X,Ja|=X,z=z.next;while(z!==x)}else z===null&&(T.lanes=0);return[_.memoizedState,T.dispatch]}function _h(x){var _=_a(),T=_.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=x;var F=T.dispatch,z=T.pending,X=_.memoizedState;if(z!==null){T.pending=null;var ge=z=z.next;do X=x(X,ge.action),ge=ge.next;while(ge!==z);Ui(X,_.memoizedState)||(es=!0),_.memoizedState=X,_.baseQueue===null&&(_.baseState=X),T.lastRenderedState=X}return[X,F]}function Nv(){}function Iv(x,_){var T=li,F=_a(),z=_(),X=!Ui(F.memoizedState,z);if(X&&(F.memoizedState=z,es=!0),F=F.queue,qd(Rl.bind(null,T,F,x),[x]),F.getSnapshot!==_||X||Zi!==null&&Zi.memoizedState.tag&1){if(T.flags|=2048,Sh(9,Fv.bind(null,T,F,z,_),void 0,null),_i===null)throw Error(o(349));(Mu&30)!==0||Ov(T,_,z)}return z}function Ov(x,_,T){x.flags|=16384,x={getSnapshot:_,value:T},_=li.updateQueue,_===null?(_={lastEffect:null,stores:null},li.updateQueue=_,_.stores=[x]):(T=_.stores,T===null?_.stores=[x]:T.push(x))}function Fv(x,_,T,F){_.value=T,_.getSnapshot=F,Im(_)&&Fs(x,1,-1)}function Rl(x,_,T){return T(function(){Im(_)&&Fs(x,1,-1)})}function Im(x){var _=x.getSnapshot;x=x.value;try{var T=_();return!Ui(x,T)}catch{return!0}}function wh(x){var _=ba();return typeof x=="function"&&(x=x()),_.memoizedState=_.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:x},_.queue=x,x=x.dispatch=hM.bind(null,li,x),[_.memoizedState,x]}function Sh(x,_,T,F){return x={tag:x,create:_,destroy:T,deps:F,next:null},_=li.updateQueue,_===null?(_={lastEffect:null,stores:null},li.updateQueue=_,_.lastEffect=x.next=x):(T=_.lastEffect,T===null?_.lastEffect=x.next=x:(F=T.next,T.next=x,x.next=F,_.lastEffect=x)),x}function S_(){return _a().memoizedState}function Oc(x,_,T,F){var z=ba();li.flags|=x,z.memoizedState=Sh(1|_,T,void 0,F===void 0?null:F)}function Om(x,_,T,F){var z=_a();F=F===void 0?null:F;var X=void 0;if(Ji!==null){var ge=Ji.memoizedState;if(X=ge.destroy,F!==null&&Nm(F,ge.deps)){z.memoizedState=Sh(_,T,X,F);return}}li.flags|=x,z.memoizedState=Sh(1|_,T,X,F)}function Fm(x,_){return Oc(8390656,8,x,_)}function qd(x,_){return Om(2048,8,x,_)}function Wr(x,_){return Om(4,2,x,_)}function Dm(x,_){return Om(4,4,x,_)}function Ah(x,_){if(typeof _=="function")return x=x(),_(x),function(){_(null)};if(_!=null)return x=x(),_.current=x,function(){_.current=null}}function Xd(x,_,T){return T=T!=null?T.concat([x]):null,Om(4,4,Ah.bind(null,_,x),T)}function Bm(){}function km(x,_){var T=_a();_=_===void 0?null:_;var F=T.memoizedState;return F!==null&&_!==null&&Nm(_,F[1])?F[0]:(T.memoizedState=[x,_],x)}function Kd(x,_){var T=_a();_=_===void 0?null:_;var F=T.memoizedState;return F!==null&&_!==null&&Nm(_,F[1])?F[0]:(x=x(),T.memoizedState=[x,_],x)}function Lm(x,_){var T=Kn;Kn=T!==0&&4>T?T:4,x(!0);var F=Ro.transition;Ro.transition={};try{x(!1),_()}finally{Kn=T,Ro.transition=F}}function Pu(){return _a().memoizedState}function A_(x,_,T){var F=Ea(x);T={lane:F,action:T,hasEagerState:!1,eagerState:null,next:null},E_(x)?Dv(_,T):(Eh(x,_,T),T=Er(),x=Fs(x,F,T),x!==null&&Ch(x,_,F))}function hM(x,_,T){var F=Ea(x),z={lane:F,action:T,hasEagerState:!1,eagerState:null,next:null};if(E_(x))Dv(_,z);else{Eh(x,_,z);var X=x.alternate;if(x.lanes===0&&(X===null||X.lanes===0)&&(X=_.lastRenderedReducer,X!==null))try{var ge=_.lastRenderedState,Ie=X(ge,T);if(z.hasEagerState=!0,z.eagerState=Ie,Ui(Ie,ge))return}catch{}finally{}T=Er(),x=Fs(x,F,T),x!==null&&Ch(x,_,F)}}function E_(x){var _=x.alternate;return x===li||_!==null&&_===li}function Dv(x,_){Xa=Rm=!0;var T=x.pending;T===null?_.next=_:(_.next=T.next,T.next=_),x.pending=_}function Eh(x,_,T){_i!==null&&(x.mode&1)!==0&&(Qn&2)===0?(x=_.interleaved,x===null?(T.next=T,oo===null?oo=[_]:oo.push(_)):(T.next=x.next,x.next=T),_.interleaved=T):(x=_.pending,x===null?T.next=T:(T.next=x.next,x.next=T),_.pending=T)}function Ch(x,_,T){if((T&4194240)!==0){var F=_.lanes;F&=x.pendingLanes,T|=F,_.lanes=T,Ko(x,T)}}var Yd={readContext:ds,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useInsertionEffect:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useSyncExternalStore:Qi,useId:Qi,unstable_isNewReconciler:!1},Bv={readContext:ds,useCallback:function(x,_){return ba().memoizedState=[x,_===void 0?null:_],x},useContext:ds,useEffect:Fm,useImperativeHandle:function(x,_,T){return T=T!=null?T.concat([x]):null,Oc(4194308,4,Ah.bind(null,_,x),T)},useLayoutEffect:function(x,_){return Oc(4194308,4,x,_)},useInsertionEffect:function(x,_){return Oc(4,2,x,_)},useMemo:function(x,_){var T=ba();return _=_===void 0?null:_,x=x(),T.memoizedState=[x,_],x},useReducer:function(x,_,T){var F=ba();return _=T!==void 0?T(_):_,F.memoizedState=F.baseState=_,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:_},F.queue=x,x=x.dispatch=A_.bind(null,li,x),[F.memoizedState,x]},useRef:function(x){var _=ba();return x={current:x},_.memoizedState=x},useState:wh,useDebugValue:Bm,useDeferredValue:function(x){var _=wh(x),T=_[0],F=_[1];return Fm(function(){var z=Ro.transition;Ro.transition={};try{F(x)}finally{Ro.transition=z}},[x]),T},useTransition:function(){var x=wh(!1),_=x[0];return x=Lm.bind(null,x[1]),ba().memoizedState=x,[_,x]},useMutableSource:function(){},useSyncExternalStore:function(x,_,T){var F=li,z=ba();if(fn){if(T===void 0)throw Error(o(407));T=T()}else{if(T=_(),_i===null)throw Error(o(349));(Mu&30)!==0||Ov(F,_,T)}z.memoizedState=T;var X={value:T,getSnapshot:_};return z.queue=X,Fm(Rl.bind(null,F,X,x),[x]),F.flags|=2048,Sh(9,Fv.bind(null,F,X,T,_),void 0,null),T},useId:function(){var x=ba(),_=_i.identifierPrefix;if(fn){var T=We,F=Ce;T=(F&~(1<<32-mr(F)-1)).toString(32)+T,_=":"+_+"R"+T,T=Tu++,0<T&&(_+="H"+T.toString(32)),_+=":"}else T=xh++,_=":"+_+"r"+T.toString(32)+":";return x.memoizedState=_},unstable_isNewReconciler:!1},kv={readContext:ds,useCallback:km,useContext:ds,useEffect:qd,useImperativeHandle:Xd,useInsertionEffect:Wr,useLayoutEffect:Dm,useMemo:Kd,useReducer:bh,useRef:S_,useState:function(){return bh(Ka)},useDebugValue:Bm,useDeferredValue:function(x){var _=bh(Ka),T=_[0],F=_[1];return qd(function(){var z=Ro.transition;Ro.transition={};try{F(x)}finally{Ro.transition=z}},[x]),T},useTransition:function(){var x=bh(Ka)[0],_=_a().memoizedState;return[x,_]},useMutableSource:Nv,useSyncExternalStore:Iv,useId:Pu,unstable_isNewReconciler:!1},Lv={readContext:ds,useCallback:km,useContext:ds,useEffect:qd,useImperativeHandle:Xd,useInsertionEffect:Wr,useLayoutEffect:Dm,useMemo:Kd,useReducer:_h,useRef:S_,useState:function(){return _h(Ka)},useDebugValue:Bm,useDeferredValue:function(x){var _=_h(Ka),T=_[0],F=_[1];return qd(function(){var z=Ro.transition;Ro.transition={};try{F(x)}finally{Ro.transition=z}},[x]),T},useTransition:function(){var x=_h(Ka)[0],_=_a().memoizedState;return[x,_]},useMutableSource:Nv,useSyncExternalStore:Iv,useId:Pu,unstable_isNewReconciler:!1};function jv(x,_){try{var T="",F=_;do T+=kd(F),F=F.return;while(F);var z=T}catch(X){z=`
Error generating stack: `+X.message+`
`+X.stack}return{value:x,source:_,stack:z}}function jm(x,_){try{console.error(_.value)}catch(T){setTimeout(function(){throw T})}}var pM=typeof WeakMap=="function"?WeakMap:Map;function C_(x,_,T){T=Qo(-1,T),T.tag=3,T.payload={element:null};var F=_.value;return T.callback=function(){nf||(nf=!0,Qr=F),jm(x,_)},T}function Um(x,_,T){T=Qo(-1,T),T.tag=3;var F=x.type.getDerivedStateFromError;if(typeof F=="function"){var z=_.value;T.payload=function(){return F(z)},T.callback=function(){jm(x,_)}}var X=x.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(T.callback=function(){jm(x,_),typeof F!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var ge=_.stack;this.componentDidCatch(_.value,{componentStack:ge!==null?ge:""})}),T}function Nl(x,_,T){var F=x.pingCache;if(F===null){F=x.pingCache=new pM;var z=new Set;F.set(_,z)}else z=F.get(_),z===void 0&&(z=new Set,F.set(_,z));z.has(T)||(z.add(T),x=ry.bind(null,x,_,T),_.then(x,x))}function Uv(x){do{var _;if((_=x.tag===13)&&(_=x.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return x;x=x.return}while(x!==null);return null}function Ru(x,_,T,F,z){return(x.mode&1)===0?(x===_?x.flags|=65536:(x.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(_=Qo(-1,1),_.tag=2,$a(T,_))),T.lanes|=1),x):(x.flags|=65536,x.lanes=z,x)}function Hi(x){x.flags|=4}function Jd(x,_){if(x!==null&&x.child===_.child)return!0;if((_.flags&16)!==0)return!1;for(x=_.child;x!==null;){if((x.flags&12854)!==0||(x.subtreeFlags&12854)!==0)return!1;x=x.sibling}return!0}var No,Nu,zm,Hm;if(et)No=function(x,_){for(var T=_.child;T!==null;){if(T.tag===5||T.tag===6)oe(x,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===_)break;for(;T.sibling===null;){if(T.return===null||T.return===_)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Nu=function(){},zm=function(x,_,T,F,z){if(x=x.memoizedProps,x!==F){var X=_.stateNode,ge=xa(co.current);T=Be(X,T,x,F,z,ge),(_.updateQueue=T)&&Hi(_)}},Hm=function(x,_,T,F){T!==F&&Hi(_)};else if(ze){No=function(x,_,T,F){for(var z=_.child;z!==null;){if(z.tag===5){var X=z.stateNode;T&&F&&(X=Sn(X,z.type,z.memoizedProps,z)),oe(x,X)}else if(z.tag===6)X=z.stateNode,T&&F&&(X=An(X,z.memoizedProps,z)),oe(x,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),No(x,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===_)break;for(;z.sibling===null;){if(z.return===null||z.return===_)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};var Fc=function(x,_,T,F){for(var z=_.child;z!==null;){if(z.tag===5){var X=z.stateNode;T&&F&&(X=Sn(X,z.type,z.memoizedProps,z)),_t(x,X)}else if(z.tag===6)X=z.stateNode,T&&F&&(X=An(X,z.memoizedProps,z)),_t(x,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),Fc(x,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===_)break;for(;z.sibling===null;){if(z.return===null||z.return===_)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};Nu=function(x,_){var T=_.stateNode;if(!Jd(x,_)){x=T.containerInfo;var F=je(x);Fc(F,_,!1,!1),T.pendingChildren=F,Hi(_),jt(x,F)}},zm=function(x,_,T,F,z){var X=x.stateNode,ge=x.memoizedProps;if((x=Jd(x,_))&&ge===F)_.stateNode=X;else{var Ie=_.stateNode,ut=xa(co.current),Ut=null;ge!==F&&(Ut=Be(Ie,T,ge,F,z,ut)),x&&Ut===null?_.stateNode=X:(X=mt(X,Ut,T,ge,F,_,x,Ie),ye(X,T,F,z,ut)&&Hi(_),_.stateNode=X,x?Hi(_):No(X,_,!1,!1))}},Hm=function(x,_,T,F){T!==F?(x=xa(Eu.current),T=xa(co.current),_.stateNode=we(F,x,T,_),Hi(_)):_.stateNode=x.stateNode}}else Nu=function(){},zm=function(){},Hm=function(){};function Il(x,_){if(!fn)switch(x.tailMode){case"hidden":_=x.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?x.tail=null:T.sibling=null;break;case"collapsed":T=x.tail;for(var F=null;T!==null;)T.alternate!==null&&(F=T),T=T.sibling;F===null?_||x.tail===null?x.tail=null:x.tail.sibling=null:F.sibling=null}}function bi(x){var _=x.alternate!==null&&x.alternate.child===x.child,T=0,F=0;if(_)for(var z=x.child;z!==null;)T|=z.lanes|z.childLanes,F|=z.subtreeFlags&14680064,F|=z.flags&14680064,z.return=x,z=z.sibling;else for(z=x.child;z!==null;)T|=z.lanes|z.childLanes,F|=z.subtreeFlags,F|=z.flags,z.return=x,z=z.sibling;return x.subtreeFlags|=F,x.childLanes=T,_}function Gm(x,_,T){var F=_.pendingProps;switch(vn(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(_),null;case 1:return Yt(_.type)&&Ln(),bi(_),null;case 3:return F=_.stateNode,Wd(),At(un),At(yn),Cu(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(x===null||x.child===null)&&(lo(_)?Hi(_):x===null||x.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,ar!==null&&(jh(ar),ar=null))),Nu(x,_),bi(_),null;case 5:Rv(_),T=xa(Eu.current);var z=_.type;if(x!==null&&_.stateNode!=null)zm(x,_,z,F,T),x.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!F){if(_.stateNode===null)throw Error(o(166));return bi(_),null}if(x=xa(co.current),lo(_)){if(!nt)throw Error(o(175));x=Q(_.stateNode,_.type,_.memoizedProps,T,x,_,!Ar),_.updateQueue=x,x!==null&&Hi(_)}else{var X=Z(z,F,T,x,_);No(X,_,!1,!1),_.stateNode=X,ye(X,z,F,T,x)&&Hi(_)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return bi(_),null;case 6:if(x&&_.stateNode!=null)Hm(x,_,x.memoizedProps,F);else{if(typeof F!="string"&&_.stateNode===null)throw Error(o(166));if(x=xa(Eu.current),T=xa(co.current),lo(_)){if(!nt)throw Error(o(176));if(x=_.stateNode,F=_.memoizedProps,(T=le(x,F,_,!Ar))&&(z=Ht,z!==null))switch(X=(z.mode&1)!==0,z.tag){case 3:ee(z.stateNode.containerInfo,x,F,X);break;case 5:ve(z.type,z.memoizedProps,z.stateNode,x,F,X)}T&&Hi(_)}else _.stateNode=we(F,x,T,_)}return bi(_),null;case 13:if(At(ai),F=_.memoizedState,fn&&an!==null&&(_.mode&1)!==0&&(_.flags&128)===0){for(x=an;x;)x=tr(x);return Pc(),_.flags|=98560,_}if(F!==null&&F.dehydrated!==null){if(F=lo(_),x===null){if(!F)throw Error(o(318));if(!nt)throw Error(o(344));if(x=_.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));Ee(x,_)}else Pc(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;return bi(_),null}return ar!==null&&(jh(ar),ar=null),(_.flags&128)!==0?(_.lanes=T,_):(F=F!==null,T=!1,x===null?lo(_):T=x.memoizedState!==null,F&&!T&&(_.child.flags|=8192,(_.mode&1)!==0&&(x===null||(ai.current&1)!==0?pi===0&&(pi=3):Ym())),_.updateQueue!==null&&(_.flags|=4),bi(_),null);case 4:return Wd(),Nu(x,_),x===null&&ce(_.stateNode.containerInfo),bi(_),null;case 10:return wu(_.type._context),bi(_),null;case 17:return Yt(_.type)&&Ln(),bi(_),null;case 19:if(At(ai),z=_.memoizedState,z===null)return bi(_),null;if(F=(_.flags&128)!==0,X=z.rendering,X===null)if(F)Il(z,!1);else{if(pi!==0||x!==null&&(x.flags&128)!==0)for(x=_.child;x!==null;){if(X=Pm(x),X!==null){for(_.flags|=128,Il(z,!1),x=X.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),_.subtreeFlags=0,x=T,F=_.child;F!==null;)T=F,z=x,T.flags&=14680066,X=T.alternate,X===null?(T.childLanes=0,T.lanes=z,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=X.childLanes,T.lanes=X.lanes,T.child=X.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=X.memoizedProps,T.memoizedState=X.memoizedState,T.updateQueue=X.updateQueue,T.type=X.type,z=X.dependencies,T.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),F=F.sibling;return Nt(ai,ai.current&1|2),_.child}x=x.sibling}z.tail!==null&&oi()>kc&&(_.flags|=128,F=!0,Il(z,!1),_.lanes=4194304)}else{if(!F)if(x=Pm(X),x!==null){if(_.flags|=128,F=!0,x=x.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),Il(z,!0),z.tail===null&&z.tailMode==="hidden"&&!X.alternate&&!fn)return bi(_),null}else 2*oi()-z.renderingStartTime>kc&&T!==1073741824&&(_.flags|=128,F=!0,Il(z,!1),_.lanes=4194304);z.isBackwards?(X.sibling=_.child,_.child=X):(x=z.last,x!==null?x.sibling=X:_.child=X,z.last=X)}return z.tail!==null?(_=z.tail,z.rendering=_,z.tail=_.sibling,z.renderingStartTime=oi(),_.sibling=null,x=ai.current,Nt(ai,F?x&1|2:x&1),_):(bi(_),null);case 22:case 23:return Uh(),F=_.memoizedState!==null,x!==null&&x.memoizedState!==null!==F&&(_.flags|=8192),F&&(_.mode&1)!==0?(Os&1073741824)!==0&&(bi(_),et&&_.subtreeFlags&6&&(_.flags|=8192)):bi(_),null;case 24:return null;case 25:return null}throw Error(o(156,_.tag))}var zv=a.ReactCurrentOwner,es=!1;function hi(x,_,T,F){_.child=x===null?__(_,null,T,F):Pl(_,x.child,T,F)}function $r(x,_,T,F,z){T=T.render;var X=_.ref;return Wa(_,z),F=$d(x,_,T,F,X,z),T=Ic(),x!==null&&!es?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~z,uo(x,_,z)):(fn&&T&&Cn(_),_.flags|=1,hi(x,_,F,z),_.child)}function Gr(x,_,T,F,z){if(x===null){var X=T.type;return typeof X=="function"&&!Zm(X)&&X.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(_.tag=15,_.type=X,Ol(x,_,X,F,z)):(x=Qm(T.type,null,F,_,_.mode,z),x.ref=_.ref,x.return=_,_.child=x)}if(X=x.child,(x.lanes&z)===0){var ge=X.memoizedProps;if(T=T.compare,T=T!==null?T:so,T(ge,F)&&x.ref===_.ref)return uo(x,_,z)}return _.flags|=1,x=Hl(X,F),x.ref=_.ref,x.return=_,_.child=x}function Ol(x,_,T,F,z){if(x!==null&&so(x.memoizedProps,F)&&x.ref===_.ref)if(es=!1,(x.lanes&z)!==0)(x.flags&131072)!==0&&(es=!0);else return _.lanes=x.lanes,uo(x,_,z);return Fl(x,_,T,F,z)}function fs(x,_,T){var F=_.pendingProps,z=F.children,X=x!==null?x.memoizedState:null;if(F.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null},Nt(Uu,Os),Os|=T;else if((T&1073741824)!==0)_.memoizedState={baseLanes:0,cachePool:null},F=X!==null?X.baseLanes:T,Nt(Uu,Os),Os|=F;else return x=X!==null?X.baseLanes|T:T,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:x,cachePool:null},_.updateQueue=null,Nt(Uu,Os),Os|=x,null;else X!==null?(F=X.baseLanes|T,_.memoizedState=null):F=T,Nt(Uu,Os),Os|=F;return hi(x,_,z,T),_.child}function Ws(x,_){var T=_.ref;(x===null&&T!==null||x!==null&&x.ref!==T)&&(_.flags|=512,_.flags|=2097152)}function Fl(x,_,T,F,z){var X=Yt(T)?Tn:yn.current;return X=Rn(_,X),Wa(_,z),T=$d(x,_,T,F,X,z),F=Ic(),x!==null&&!es?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~z,uo(x,_,z)):(fn&&F&&Cn(_),_.flags|=1,hi(x,_,T,z),_.child)}function Iu(x,_,T,F,z){if(Yt(T)){var X=!0;or(_)}else X=!1;if(Wa(_,z),_.stateNode===null)x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),Mm(_,T,F),Hd(_,T,F,z),F=!0;else if(x===null){var ge=_.stateNode,Ie=_.memoizedProps;ge.props=Ie;var ut=ge.context,Ut=T.contextType;typeof Ut=="object"&&Ut!==null?Ut=ds(Ut):(Ut=Yt(T)?Tn:yn.current,Ut=Rn(_,Ut));var ln=T.getDerivedStateFromProps,qn=typeof ln=="function"||typeof ge.getSnapshotBeforeUpdate=="function";qn||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ie!==F||ut!==Ut)&&vh(_,ge,F,Ut),ao=!1;var Mn=_.memoizedState;ge.state=Mn,Ud(_,F,ge,z),ut=_.memoizedState,Ie!==F||Mn!==ut||un.current||ao?(typeof ln=="function"&&(Tc(_,T,ln,F),ut=_.memoizedState),(Ie=ao||gh(_,T,Ie,F,Mn,ut,Ut))?(qn||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(_.flags|=4194308)):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=F,_.memoizedState=ut),ge.props=F,ge.state=ut,ge.context=Ut,F=Ie):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),F=!1)}else{ge=_.stateNode,mh(x,_),Ie=_.memoizedProps,Ut=_.type===_.elementType?Ie:Rs(_.type,Ie),ge.props=Ut,qn=_.pendingProps,Mn=ge.context,ut=T.contextType,typeof ut=="object"&&ut!==null?ut=ds(ut):(ut=Yt(T)?Tn:yn.current,ut=Rn(_,ut));var nr=T.getDerivedStateFromProps;(ln=typeof nr=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ie!==qn||Mn!==ut)&&vh(_,ge,F,ut),ao=!1,Mn=_.memoizedState,ge.state=Mn,Ud(_,F,ge,z);var rn=_.memoizedState;Ie!==qn||Mn!==rn||un.current||ao?(typeof nr=="function"&&(Tc(_,T,nr,F),rn=_.memoizedState),(Ut=ao||gh(_,T,Ut,F,Mn,rn,ut)||!1)?(ln||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(F,rn,ut),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(F,rn,ut)),typeof ge.componentDidUpdate=="function"&&(_.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof ge.componentDidUpdate!="function"||Ie===x.memoizedProps&&Mn===x.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ie===x.memoizedProps&&Mn===x.memoizedState||(_.flags|=1024),_.memoizedProps=F,_.memoizedState=rn),ge.props=F,ge.state=rn,ge.context=ut,F=Ut):(typeof ge.componentDidUpdate!="function"||Ie===x.memoizedProps&&Mn===x.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ie===x.memoizedProps&&Mn===x.memoizedState||(_.flags|=1024),F=!1)}return Is(x,_,T,F,X,z)}function Is(x,_,T,F,z,X){Ws(x,_);var ge=(_.flags&128)!==0;if(!F&&!ge)return z&&Pn(_,T,!1),uo(x,_,X);F=_.stateNode,zv.current=_;var Ie=ge&&typeof T.getDerivedStateFromError!="function"?null:F.render();return _.flags|=1,x!==null&&ge?(_.child=Pl(_,x.child,null,X),_.child=Pl(_,null,Ie,X)):hi(x,_,Ie,X),_.memoizedState=F.state,z&&Pn(_,T,!0),_.child}function Mh(x){var _=x.stateNode;_.pendingContext?sn(x,_.pendingContext,_.pendingContext!==_.context):_.context&&sn(x,_.context,!1),Tm(x,_.containerInfo)}function Hv(x,_,T,F,z){return Pc(),Gd(z),_.flags|=256,hi(x,_,T,F),_.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ou(x){return{baseLanes:x,cachePool:null}}function Gv(x,_,T){var F=_.pendingProps,z=ai.current,X=!1,ge=(_.flags&128)!==0,Ie;if((Ie=ge)||(Ie=x!==null&&x.memoizedState===null?!1:(z&2)!==0),Ie?(X=!0,_.flags&=-129):(x===null||x.memoizedState!==null)&&(z|=1),Nt(ai,z&1),x===null)return Zn(_),x=_.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((_.mode&1)===0?_.lanes=1:Fr(x)?_.lanes=8:_.lanes=1073741824,null):(z=F.children,x=F.fallback,X?(F=_.mode,X=_.child,z={mode:"hidden",children:z},(F&1)===0&&X!==null?(X.childLanes=0,X.pendingProps=z):X=Gh(z,F,0,null),x=Wu(x,F,T,null),X.return=_,x.return=_,X.sibling=x,_.child=X,_.child.memoizedState=Ou(T),_.memoizedState=Th,x):wa(_,z));if(z=x.memoizedState,z!==null){if(Ie=z.dehydrated,Ie!==null){if(ge)return _.flags&256?(_.flags&=-257,Rh(x,_,T,Error(o(422)))):_.memoizedState!==null?(_.child=x.child,_.flags|=128,null):(X=F.fallback,z=_.mode,F=Gh({mode:"visible",children:F.children},z,0,null),X=Wu(X,z,T,null),X.flags|=2,F.return=_,X.return=_,F.sibling=X,_.child=F,(_.mode&1)!==0&&Pl(_,x.child,null,T),_.child.memoizedState=Ou(T),_.memoizedState=Th,X);if((_.mode&1)===0)_=Rh(x,_,T,null);else if(Fr(Ie))_=Rh(x,_,T,Error(o(419)));else if(F=(T&x.childLanes)!==0,es||F){if(F=_i,F!==null){switch(T&-T){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}F=(X&(F.suspendedLanes|T))!==0?0:X,F!==0&&F!==z.retryLane&&(z.retryLane=F,Fs(x,F,-1))}Ym(),_=Rh(x,_,T,Error(o(421)))}else xr(Ie)?(_.flags|=128,_.child=x.child,_=N_.bind(null,x),Yr(Ie,_),_=null):(T=z.treeContext,nt&&(an=bc(Ie),Ht=_,fn=!0,ar=null,Ar=!1,T!==null&&(fe[me++]=Ce,fe[me++]=We,fe[me++]=pe,Ce=T.id,We=T.overflow,pe=_)),_=wa(_,_.pendingProps.children),_.flags|=4096);return _}return X?(F=Vm(x,_,F.children,F.fallback,T),X=_.child,z=x.child.memoizedState,X.memoizedState=z===null?Ou(T):{baseLanes:z.baseLanes|T,cachePool:null},X.childLanes=x.childLanes&~T,_.memoizedState=Th,F):(T=Ph(x,_,F.children,T),_.memoizedState=null,T)}return X?(F=Vm(x,_,F.children,F.fallback,T),X=_.child,z=x.child.memoizedState,X.memoizedState=z===null?Ou(T):{baseLanes:z.baseLanes|T,cachePool:null},X.childLanes=x.childLanes&~T,_.memoizedState=Th,F):(T=Ph(x,_,F.children,T),_.memoizedState=null,T)}function wa(x,_){return _=Gh({mode:"visible",children:_},x.mode,0,null),_.return=x,x.child=_}function Ph(x,_,T,F){var z=x.child;return x=z.sibling,T=Hl(z,{mode:"visible",children:T}),(_.mode&1)===0&&(T.lanes=F),T.return=_,T.sibling=null,x!==null&&(F=_.deletions,F===null?(_.deletions=[x],_.flags|=16):F.push(x)),_.child=T}function Vm(x,_,T,F,z){var X=_.mode;x=x.child;var ge=x.sibling,Ie={mode:"hidden",children:T};return(X&1)===0&&_.child!==x?(T=_.child,T.childLanes=0,T.pendingProps=Ie,_.deletions=null):(T=Hl(x,Ie),T.subtreeFlags=x.subtreeFlags&14680064),ge!==null?F=Hl(ge,F):(F=Wu(F,X,z,null),F.flags|=2),F.return=_,T.return=_,T.sibling=F,_.child=T,F}function Rh(x,_,T,F){return F!==null&&Gd(F),Pl(_,x.child,null,T),x=wa(_,_.pendingProps.children),x.flags|=2,_.memoizedState=null,x}function M_(x,_,T){x.lanes|=_;var F=x.alternate;F!==null&&(F.lanes|=_),ya(x.return,_,T)}function Ya(x,_,T,F,z){var X=x.memoizedState;X===null?x.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:F,tail:T,tailMode:z}:(X.isBackwards=_,X.rendering=null,X.renderingStartTime=0,X.last=F,X.tail=T,X.tailMode=z)}function Fu(x,_,T){var F=_.pendingProps,z=F.revealOrder,X=F.tail;if(hi(x,_,F.children,T),F=ai.current,(F&2)!==0)F=F&1|2,_.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=_.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&M_(x,T,_);else if(x.tag===19)M_(x,T,_);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===_)break e;for(;x.sibling===null;){if(x.return===null||x.return===_)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}F&=1}if(Nt(ai,F),(_.mode&1)===0)_.memoizedState=null;else switch(z){case"forwards":for(T=_.child,z=null;T!==null;)x=T.alternate,x!==null&&Pm(x)===null&&(z=T),T=T.sibling;T=z,T===null?(z=_.child,_.child=null):(z=T.sibling,T.sibling=null),Ya(_,!1,z,T,X);break;case"backwards":for(T=null,z=_.child,_.child=null;z!==null;){if(x=z.alternate,x!==null&&Pm(x)===null){_.child=z;break}x=z.sibling,z.sibling=T,T=z,z=x}Ya(_,!0,T,null,X);break;case"together":Ya(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function uo(x,_,T){if(x!==null&&(_.dependencies=x.dependencies),Ja|=_.lanes,(T&_.childLanes)===0)return null;if(x!==null&&_.child!==x.child)throw Error(o(153));if(_.child!==null){for(x=_.child,T=Hl(x,x.pendingProps),_.child=T,T.return=_;x.sibling!==null;)x=x.sibling,T=T.sibling=Hl(x,x.pendingProps),T.return=_;T.sibling=null}return _.child}function Wm(x,_,T){switch(_.tag){case 3:Mh(_),Pc();break;case 5:w_(_);break;case 1:Yt(_.type)&&or(_);break;case 4:Tm(_,_.stateNode.containerInfo);break;case 10:Tl(_,_.type._context,_.memoizedProps.value);break;case 13:var F=_.memoizedState;if(F!==null)return F.dehydrated!==null?(Nt(ai,ai.current&1),_.flags|=128,null):(T&_.child.childLanes)!==0?Gv(x,_,T):(Nt(ai,ai.current&1),x=uo(x,_,T),x!==null?x.sibling:null);Nt(ai,ai.current&1);break;case 19:if(F=(T&_.childLanes)!==0,(x.flags&128)!==0){if(F)return Fu(x,_,T);_.flags|=128}var z=_.memoizedState;if(z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Nt(ai,ai.current),F)break;return null;case 22:case 23:return _.lanes=0,fs(x,_,T)}return uo(x,_,T)}function $m(x,_){switch(vn(_),_.tag){case 1:return Yt(_.type)&&Ln(),x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 3:return Wd(),At(un),At(yn),Cu(),x=_.flags,(x&65536)!==0&&(x&128)===0?(_.flags=x&-65537|128,_):null;case 5:return Rv(_),null;case 13:if(At(ai),x=_.memoizedState,x!==null&&x.dehydrated!==null){if(_.alternate===null)throw Error(o(340));Pc()}return x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 19:return At(ai),null;case 4:return Wd(),null;case 10:return wu(_.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var $s=!1,ts=!1,Du=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function ea(x,_){var T=x.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(F){Xs(x,_,F)}else T.current=null}function Dl(x,_,T){try{T()}catch(F){Xs(x,_,F)}}var Vv=!1;function Wv(x,_){for(Y(x.containerInfo),Kt=_;Kt!==null;)if(x=Kt,_=x.child,(x.subtreeFlags&1028)!==0&&_!==null)_.return=x,Kt=_;else for(;Kt!==null;){x=Kt;try{var T=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var F=T.memoizedProps,z=T.memoizedState,X=x.stateNode,ge=X.getSnapshotBeforeUpdate(x.elementType===x.type?F:Rs(x.type,F),z);X.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:et&&vt(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ie){Xs(x,x.return,Ie)}if(_=x.sibling,_!==null){_.return=x.return,Kt=_;break}Kt=x.return}return T=Vv,Vv=!1,T}function Bl(x,_,T){var F=_.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var z=F=F.next;do{if((z.tag&x)===x){var X=z.destroy;z.destroy=void 0,X!==void 0&&Dl(_,T,X)}z=z.next}while(z!==F)}}function hs(x,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&x)===x){var F=T.create;T.destroy=F()}T=T.next}while(T!==_)}}function qs(x){var _=x.ref;if(_!==null){var T=x.stateNode;switch(x.tag){case 5:x=V(T);break;default:x=T}typeof _=="function"?_(x):_.current=x}}function Zr(x,_,T){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(bu,_)}catch{}switch(_.tag){case 0:case 11:case 14:case 15:if(x=_.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var F=x=x.next;do{var z=F,X=z.destroy;z=z.tag,X!==void 0&&((z&2)!==0||(z&4)!==0)&&Dl(_,T,X),F=F.next}while(F!==x)}break;case 1:if(ea(_,T),x=_.stateNode,typeof x.componentWillUnmount=="function")try{x.props=_.memoizedProps,x.state=_.memoizedState,x.componentWillUnmount()}catch(ge){Xs(_,T,ge)}break;case 5:ea(_,T);break;case 4:et?Xv(x,_,T):ze&&ze&&(_=_.stateNode.containerInfo,T=je(_),_n(_,T))}}function ta(x,_,T){for(var F=_;;)if(Zr(x,F,T),F.child===null||et&&F.tag===4){if(F===_)break;for(;F.sibling===null;){if(F.return===null||F.return===_)return;F=F.return}F.sibling.return=F.return,F=F.sibling}else F.child.return=F,F=F.child}function $v(x){var _=x.alternate;_!==null&&(x.alternate=null,$v(_)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(_=x.stateNode,_!==null&&ct(_)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function qv(x){return x.tag===5||x.tag===3||x.tag===4}function qm(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||qv(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Xm(x){if(et){e:{for(var _=x.return;_!==null;){if(qv(_))break e;_=_.return}throw Error(o(160))}var T=_;switch(T.tag){case 5:_=T.stateNode,T.flags&32&&(Pe(_),T.flags&=-33),T=qm(x),Zd(x,T,_);break;case 3:case 4:_=T.stateNode.containerInfo,T=qm(x),Km(x,T,_);break;default:throw Error(o(161))}}}function Km(x,_,T){var F=x.tag;if(F===5||F===6)x=x.stateNode,_?bt(T,x,_):Jt(T,x);else if(F!==4&&(x=x.child,x!==null))for(Km(x,_,T),x=x.sibling;x!==null;)Km(x,_,T),x=x.sibling}function Zd(x,_,T){var F=x.tag;if(F===5||F===6)x=x.stateNode,_?yt(T,x,_):Ke(T,x);else if(F!==4&&(x=x.child,x!==null))for(Zd(x,_,T),x=x.sibling;x!==null;)Zd(x,_,T),x=x.sibling}function Xv(x,_,T){for(var F=_,z=!1,X,ge;;){if(!z){z=F.return;e:for(;;){if(z===null)throw Error(o(160));switch(X=z.stateNode,z.tag){case 5:ge=!1;break e;case 3:X=X.containerInfo,ge=!0;break e;case 4:X=X.containerInfo,ge=!0;break e}z=z.return}z=!0}if(F.tag===5||F.tag===6)ta(x,F,T),ge?_e(X,F.stateNode):Zt(X,F.stateNode);else if(F.tag===18)ge?Mt(X,F.stateNode):Ft(X,F.stateNode);else if(F.tag===4){if(F.child!==null){X=F.stateNode.containerInfo,ge=!0,F.child.return=F,F=F.child;continue}}else if(Zr(x,F,T),F.child!==null){F.child.return=F,F=F.child;continue}if(F===_)break;for(;F.sibling===null;){if(F.return===null||F.return===_)return;F=F.return,F.tag===4&&(z=!1)}F.sibling.return=F.return,F=F.sibling}}function Dc(x,_){if(et){switch(_.tag){case 0:case 11:case 14:case 15:Bl(3,_,_.return),hs(3,_),Bl(5,_,_.return);return;case 1:return;case 5:var T=_.stateNode;if(T!=null){var F=_.memoizedProps;x=x!==null?x.memoizedProps:F;var z=_.type,X=_.updateQueue;_.updateQueue=null,X!==null&&Lt(T,X,z,x,F,_)}return;case 6:if(_.stateNode===null)throw Error(o(162));T=_.memoizedProps,It(_.stateNode,x!==null?x.memoizedProps:T,T);return;case 3:nt&&x!==null&&x.memoizedState.isDehydrated&&ot(_.stateNode.containerInfo);return;case 12:return;case 13:Qd(_);return;case 19:Qd(_);return;case 17:return}throw Error(o(163))}switch(_.tag){case 0:case 11:case 14:case 15:Bl(3,_,_.return),hs(3,_),Bl(5,_,_.return);return;case 12:return;case 13:Qd(_);return;case 19:Qd(_);return;case 3:nt&&x!==null&&x.memoizedState.isDehydrated&&ot(_.stateNode.containerInfo);break;case 22:case 23:return}e:if(ze){switch(_.tag){case 1:case 5:case 6:break e;case 3:case 4:_=_.stateNode,_n(_.containerInfo,_.pendingChildren);break e}throw Error(o(163))}}function Qd(x){var _=x.updateQueue;if(_!==null){x.updateQueue=null;var T=x.stateNode;T===null&&(T=x.stateNode=new Du),_.forEach(function(F){var z=I_.bind(null,x,F);T.has(F)||(T.add(F),F.then(z,z))})}}function mM(x,_){for(Kt=_;Kt!==null;){_=Kt;var T=_.deletions;if(T!==null)for(var F=0;F<T.length;F++){var z=T[F];try{var X=x;et?Xv(X,z,_):ta(X,z,_);var ge=z.alternate;ge!==null&&(ge.return=null),z.return=null}catch(bn){Xs(z,_,bn)}}if(T=_.child,(_.subtreeFlags&12854)!==0&&T!==null)T.return=_,Kt=T;else for(;Kt!==null;){_=Kt;try{var Ie=_.flags;if(Ie&32&&et&&Pe(_.stateNode),Ie&512){var ut=_.alternate;if(ut!==null){var Ut=ut.ref;Ut!==null&&(typeof Ut=="function"?Ut(null):Ut.current=null)}}if(Ie&8192)switch(_.tag){case 13:if(_.memoizedState!==null){var ln=_.alternate;(ln===null||ln.memoizedState===null)&&(kh=oi())}break;case 22:var qn=_.memoizedState!==null,Mn=_.alternate,nr=Mn!==null&&Mn.memoizedState!==null;if(T=_,et){e:if(F=T,z=qn,X=null,et)for(var rn=F;;){if(rn.tag===5){if(X===null){X=rn;var gs=rn.stateNode;z?ht(gs):Le(rn.stateNode,rn.memoizedProps)}}else if(rn.tag===6){if(X===null){var Bo=rn.stateNode;z?he(Bo):lt(Bo,rn.memoizedProps)}}else if((rn.tag!==22&&rn.tag!==23||rn.memoizedState===null||rn===F)&&rn.child!==null){rn.child.return=rn,rn=rn.child;continue}if(rn===F)break;for(;rn.sibling===null;){if(rn.return===null||rn.return===F)break e;X===rn&&(X=null),rn=rn.return}X===rn&&(X=null),rn.sibling.return=rn.return,rn=rn.sibling}}if(qn&&!nr&&(T.mode&1)!==0){Kt=T;for(var qe=T.child;qe!==null;){for(T=Kt=qe;Kt!==null;){F=Kt;var De=F.child;switch(F.tag){case 0:case 11:case 14:case 15:Bl(4,F,F.return);break;case 1:ea(F,F.return);var at=F.stateNode;if(typeof at.componentWillUnmount=="function"){var Qt=F.return;try{at.props=F.memoizedProps,at.state=F.memoizedState,at.componentWillUnmount()}catch(bn){Xs(F,Qt,bn)}}break;case 5:ea(F,F.return);break;case 22:if(F.memoizedState!==null){Yv(T);continue}}De!==null?(De.return=F,Kt=De):Yv(T)}qe=qe.sibling}}}switch(Ie&4102){case 2:Xm(_),_.flags&=-3;break;case 6:Xm(_),_.flags&=-3,Dc(_.alternate,_);break;case 4096:_.flags&=-4097;break;case 4100:_.flags&=-4097,Dc(_.alternate,_);break;case 4:Dc(_.alternate,_)}}catch(bn){Xs(_,_.return,bn)}if(T=_.sibling,T!==null){T.return=_.return,Kt=T;break}Kt=_.return}}}function Nh(x,_,T){Kt=x,Ih(x)}function Ih(x,_,T){for(var F=(x.mode&1)!==0;Kt!==null;){var z=Kt,X=z.child;if(z.tag===22&&F){var ge=z.memoizedState!==null||$s;if(!ge){var Ie=z.alternate,ut=Ie!==null&&Ie.memoizedState!==null||ts;Ie=$s;var Ut=ts;if($s=ge,(ts=ut)&&!Ut)for(Kt=z;Kt!==null;)ge=Kt,ut=ge.child,ge.tag===22&&ge.memoizedState!==null?Bu(z):ut!==null?(ut.return=ge,Kt=ut):Bu(z);for(;X!==null;)Kt=X,Ih(X),X=X.sibling;Kt=z,$s=Ie,ts=Ut}Kv(x)}else(z.subtreeFlags&8772)!==0&&X!==null?(X.return=z,Kt=X):Kv(x)}}function Kv(x){for(;Kt!==null;){var _=Kt;if((_.flags&8772)!==0){var T=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:ts||hs(5,_);break;case 1:var F=_.stateNode;if(_.flags&4&&!ts)if(T===null)F.componentDidMount();else{var z=_.elementType===_.type?T.memoizedProps:Rs(_.type,T.memoizedProps);F.componentDidUpdate(z,T.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var X=_.updateQueue;X!==null&&Em(_,X,F);break;case 3:var ge=_.updateQueue;if(ge!==null){if(T=null,_.child!==null)switch(_.child.tag){case 5:T=V(_.child.stateNode);break;case 1:T=_.child.stateNode}Em(_,ge,T)}break;case 5:var Ie=_.stateNode;T===null&&_.flags&4&&Vt(Ie,_.type,_.memoizedProps,_);break;case 6:break;case 4:break;case 12:break;case 13:if(nt&&_.memoizedState===null){var ut=_.alternate;if(ut!==null){var Ut=ut.memoizedState;if(Ut!==null){var ln=Ut.dehydrated;ln!==null&&it(ln)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ts||_.flags&512&&qs(_)}catch(qn){Xs(_,_.return,qn)}}if(_===x){Kt=null;break}if(T=_.sibling,T!==null){T.return=_.return,Kt=T;break}Kt=_.return}}function Yv(x){for(;Kt!==null;){var _=Kt;if(_===x){Kt=null;break}var T=_.sibling;if(T!==null){T.return=_.return,Kt=T;break}Kt=_.return}}function Bu(x){for(;Kt!==null;){var _=Kt;try{switch(_.tag){case 0:case 11:case 15:var T=_.return;try{hs(4,_)}catch(ut){Xs(_,T,ut)}break;case 1:var F=_.stateNode;if(typeof F.componentDidMount=="function"){var z=_.return;try{F.componentDidMount()}catch(ut){Xs(_,z,ut)}}var X=_.return;try{qs(_)}catch(ut){Xs(_,X,ut)}break;case 5:var ge=_.return;try{qs(_)}catch(ut){Xs(_,ge,ut)}}}catch(ut){Xs(_,_.return,ut)}if(_===x){Kt=null;break}var Ie=_.sibling;if(Ie!==null){Ie.return=_.return,Kt=Ie;break}Kt=_.return}}var Oh=0,ku=1,Lu=2,kl=3,ef=4;if(typeof Symbol=="function"&&Symbol.for){var ju=Symbol.for;Oh=ju("selector.component"),ku=ju("selector.has_pseudo_class"),Lu=ju("selector.role"),kl=ju("selector.test_id"),ef=ju("selector.text")}function Fh(x){var _=Fe(x);if(_!=null){if(typeof _.memoizedProps["data-testname"]!="string")throw Error(o(364));return _}if(x=st(x),x===null)throw Error(o(362));return x.stateNode.current}function Dh(x,_){switch(_.$$typeof){case Oh:if(x.type===_.value)return!0;break;case ku:e:{_=_.value,x=[x,0];for(var T=0;T<x.length;){var F=x[T++],z=x[T++],X=_[z];if(F.tag!==5||!te(F)){for(;X!=null&&Dh(F,X);)z++,X=_[z];if(z===_.length){_=!0;break e}else for(F=F.child;F!==null;)x.push(F,z),F=F.sibling}}_=!1}return _;case Lu:if(x.tag===5&&Ne(x.stateNode,_.value))return!0;break;case ef:if((x.tag===5||x.tag===6)&&(x=ae(x),x!==null&&0<=x.indexOf(_.value)))return!0;break;case kl:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===_.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Bc(x){switch(x.$$typeof){case Oh:return"<"+(O(x.value)||"Unknown")+">";case ku:return":has("+(Bc(x)||"")+")";case Lu:return'[role="'+x.value+'"]';case ef:return'"'+x.value+'"';case kl:return'[data-testname="'+x.value+'"]';default:throw Error(o(365))}}function Io(x,_){var T=[];x=[x,0];for(var F=0;F<x.length;){var z=x[F++],X=x[F++],ge=_[X];if(z.tag!==5||!te(z)){for(;ge!=null&&Dh(z,ge);)X++,ge=_[X];if(X===_.length)T.push(z);else for(z=z.child;z!==null;)x.push(z,X),z=z.sibling}}return T}function Ll(x,_){if(!tt)throw Error(o(363));x=Fh(x),x=Io(x,_),_=[],x=Array.from(x);for(var T=0;T<x.length;){var F=x[T++];if(F.tag===5)te(F)||_.push(F.stateNode);else for(F=F.child;F!==null;)x.push(F),F=F.sibling}return _}var Jv=Math.ceil,Bh=a.ReactCurrentDispatcher,Sa=a.ReactCurrentOwner,kr=a.ReactCurrentBatchConfig,Qn=0,_i=null,Lr=null,ni=0,Os=0,Uu=Pt(0),pi=0,tf=null,Ja=0,Oo=0,zu=0,jl=null,Ni=null,kh=0,kc=1/0;function Hu(){kc=oi()+500}var nf=!1,Qr=null,Aa=null,rf=!1,Za=null,Gu=0,Vu=0,Ul=null,qr=-1,mi=0;function Er(){return(Qn&6)!==0?oi():qr!==-1?qr:qr=oi()}function Ea(x){return(x.mode&1)===0?1:(Qn&2)!==0&&ni!==0?ni&-ni:Ec.transition!==null?(mi===0&&(x=ti,ti<<=1,(ti&4194240)===0&&(ti=64),mi=x),mi):(x=Kn,x!==0?x:rt())}function Fs(x,_,T){if(50<Vu)throw Vu=0,Ul=null,Error(o(185));var F=Lc(x,_);return F===null?null:(Cl(F,_,T),((Qn&2)===0||F!==_i)&&(F===_i&&((Qn&2)===0&&(Oo|=_),pi===4&&ms(F,ni)),fo(F,T),_===1&&Qn===0&&(x.mode&1)===0&&(Hu(),va&&io())),F)}function Lc(x,_){x.lanes|=_;var T=x.alternate;for(T!==null&&(T.lanes|=_),T=x,x=x.return;x!==null;)x.childLanes|=_,T=x.alternate,T!==null&&(T.childLanes|=_),T=x,x=x.return;return T.tag===3?T.stateNode:null}function fo(x,_){var T=x.callbackNode;ph(x,_);var F=Ki(x,x===_i?ni:0);if(F===0)T!==null&&_c(T),x.callbackNode=null,x.callbackPriority=0;else if(_=F&-F,x.callbackPriority!==_){if(T!=null&&_c(T),_===1)x.tag===0?Bd(Fo.bind(null,x)):Ac(Fo.bind(null,x)),wt?Te(function(){Qn===0&&io()}):Ml(Ga,io),T=null;else{switch(Vs(F)){case 1:T=Ga;break;case 4:T=Am;break;case 16:T=Va;break;case 536870912:T=Ts;break;default:T=Va}T=Jm(T,ps.bind(null,x))}x.callbackPriority=_,x.callbackNode=T}}function ps(x,_){if(qr=-1,mi=0,(Qn&6)!==0)throw Error(o(327));var T=x.callbackNode;if(Qa()&&x.callbackNode!==T)return null;var F=Ki(x,x===_i?ni:0);if(F===0)return null;if((F&30)!==0||(F&x.expiredLanes)!==0||_)_=zh(x,F);else{_=F;var z=Qn;Qn|=2;var X=ey();(_i!==x||ni!==_)&&(Hu(),zl(x,_));do try{P_();break}catch(Ie){Qv(x,Ie)}while(!0);Yi(),Bh.current=X,Qn=z,Lr!==null?_=0:(_i=null,ni=0,_=pi)}if(_!==0){if(_===2&&(z=za(x),z!==0&&(F=z,_=Lh(x,z))),_===1)throw T=tf,zl(x,0),ms(x,F),fo(x,oi()),T;if(_===6)ms(x,F);else{if(z=x.current.alternate,(F&30)===0&&!Zv(z)&&(_=zh(x,F),_===2&&(X=za(x),X!==0&&(F=X,_=Lh(x,X))),_===1))throw T=tf,zl(x,0),ms(x,F),fo(x,oi()),T;switch(x.finishedWork=z,x.finishedLanes=F,_){case 0:case 1:throw Error(o(345));case 2:Ca(x,Ni);break;case 3:if(ms(x,F),(F&130023424)===F&&(_=kh+500-oi(),10<_)){if(Ki(x,0)!==0)break;if(z=x.suspendedLanes,(z&F)!==F){Er(),x.pingedLanes|=x.suspendedLanes&z;break}x.timeoutHandle=Ae(Ca.bind(null,x,Ni),_);break}Ca(x,Ni);break;case 4:if(ms(x,F),(F&4194240)===F)break;for(_=x.eventTimes,z=-1;0<F;){var ge=31-mr(F);X=1<<ge,ge=_[ge],ge>z&&(z=ge),F&=~X}if(F=z,F=oi()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Jv(F/1960))-F,10<F){x.timeoutHandle=Ae(Ca.bind(null,x,Ni),F);break}Ca(x,Ni);break;case 5:Ca(x,Ni);break;default:throw Error(o(329))}}}return fo(x,oi()),x.callbackNode===T?ps.bind(null,x):null}function Lh(x,_){var T=jl;return x.current.memoizedState.isDehydrated&&(zl(x,_).flags|=256),x=zh(x,_),x!==2&&(_=Ni,Ni=T,_!==null&&jh(_)),x}function jh(x){Ni===null?Ni=x:Ni.push.apply(Ni,x)}function Zv(x){for(var _=x;;){if(_.flags&16384){var T=_.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var F=0;F<T.length;F++){var z=T[F],X=z.getSnapshot;z=z.value;try{if(!Ui(X(),z))return!1}catch{return!1}}}if(T=_.child,_.subtreeFlags&16384&&T!==null)T.return=_,_=T;else{if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function ms(x,_){for(_&=~zu,_&=~Oo,x.suspendedLanes|=_,x.pingedLanes&=~_,x=x.expirationTimes;0<_;){var T=31-mr(_),F=1<<T;x[T]=-1,_&=~F}}function Fo(x){if((Qn&6)!==0)throw Error(o(327));Qa();var _=Ki(x,0);if((_&1)===0)return fo(x,oi()),null;var T=zh(x,_);if(x.tag!==0&&T===2){var F=za(x);F!==0&&(_=F,T=Lh(x,F))}if(T===1)throw T=tf,zl(x,0),ms(x,_),fo(x,oi()),T;if(T===6)throw Error(o(345));return x.finishedWork=x.current.alternate,x.finishedLanes=_,Ca(x,Ni),fo(x,oi()),null}function sf(x){Za!==null&&Za.tag===0&&(Qn&6)===0&&Qa();var _=Qn;Qn|=1;var T=kr.transition,F=Kn;try{if(kr.transition=null,Kn=1,x)return x()}finally{Kn=F,kr.transition=T,Qn=_,(Qn&6)===0&&io()}}function Uh(){Os=Uu.current,At(Uu)}function zl(x,_){x.finishedWork=null,x.finishedLanes=0;var T=x.timeoutHandle;if(T!==Oe&&(x.timeoutHandle=Oe,ke(T)),Lr!==null)for(T=Lr.return;T!==null;){var F=T;switch(vn(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&Ln();break;case 3:Wd(),At(un),At(yn),Cu();break;case 5:Rv(F);break;case 4:Wd();break;case 13:At(ai);break;case 19:At(ai);break;case 10:wu(F.type._context);break;case 22:case 23:Uh()}T=T.return}if(_i=x,Lr=x=Hl(x.current,null),ni=Os=_,pi=0,tf=null,zu=Oo=Ja=0,Ni=jl=null,oo!==null){for(_=0;_<oo.length;_++)if(T=oo[_],F=T.interleaved,F!==null){T.interleaved=null;var z=F.next,X=T.pending;if(X!==null){var ge=X.next;X.next=z,F.next=ge}T.pending=F}oo=null}return x}function Qv(x,_){do{var T=Lr;try{if(Yi(),yh.current=Yd,Rm){for(var F=li.memoizedState;F!==null;){var z=F.queue;z!==null&&(z.pending=null),F=F.next}Rm=!1}if(Mu=0,Zi=Ji=li=null,Xa=!1,Tu=0,Sa.current=null,T===null||T.return===null){pi=1,tf=_,Lr=null;break}e:{var X=x,ge=T.return,Ie=T,ut=_;if(_=ni,Ie.flags|=32768,ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Ut=ut,ln=Ie,qn=ln.tag;if((ln.mode&1)===0&&(qn===0||qn===11||qn===15)){var Mn=ln.alternate;Mn?(ln.updateQueue=Mn.updateQueue,ln.memoizedState=Mn.memoizedState,ln.lanes=Mn.lanes):(ln.updateQueue=null,ln.memoizedState=null)}var nr=Uv(ge);if(nr!==null){nr.flags&=-257,Ru(nr,ge,Ie,X,_),nr.mode&1&&Nl(X,Ut,_),_=nr,ut=Ut;var rn=_.updateQueue;if(rn===null){var gs=new Set;gs.add(ut),_.updateQueue=gs}else rn.add(ut);break e}else{if((_&1)===0){Nl(X,Ut,_),Ym();break e}ut=Error(o(426))}}else if(fn&&Ie.mode&1){var Bo=Uv(ge);if(Bo!==null){(Bo.flags&65536)===0&&(Bo.flags|=256),Ru(Bo,ge,Ie,X,_),Gd(ut);break e}}X=ut,pi!==4&&(pi=2),jl===null?jl=[X]:jl.push(X),ut=jv(ut,Ie),Ie=ge;do{switch(Ie.tag){case 3:Ie.flags|=65536,_&=-_,Ie.lanes|=_;var qe=C_(Ie,ut,_);Mc(Ie,qe);break e;case 1:X=ut;var De=Ie.type,at=Ie.stateNode;if((Ie.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Aa===null||!Aa.has(at)))){Ie.flags|=65536,_&=-_,Ie.lanes|=_;var Qt=Um(Ie,X,_);Mc(Ie,Qt);break e}}Ie=Ie.return}while(Ie!==null)}ny(T)}catch(bn){_=bn,Lr===T&&T!==null&&(Lr=T=T.return);continue}break}while(!0)}function ey(){var x=Bh.current;return Bh.current=Yd,x===null?Yd:x}function Ym(){(pi===0||pi===3||pi===2)&&(pi=4),_i===null||(Ja&268435455)===0&&(Oo&268435455)===0||ms(_i,ni)}function zh(x,_){var T=Qn;Qn|=2;var F=ey();_i===x&&ni===_||zl(x,_);do try{T_();break}catch(z){Qv(x,z)}while(!0);if(Yi(),Qn=T,Bh.current=F,Lr!==null)throw Error(o(261));return _i=null,ni=0,pi}function T_(){for(;Lr!==null;)ty(Lr)}function P_(){for(;Lr!==null&&!Ha();)ty(Lr)}function ty(x){var _=sy(x.alternate,x,Os);x.memoizedProps=x.pendingProps,_===null?ny(x):Lr=_,Sa.current=null}function ny(x){var _=x;do{var T=_.alternate;if(x=_.return,(_.flags&32768)===0){if(T=Gm(T,_,Os),T!==null){Lr=T;return}}else{if(T=$m(T,_),T!==null){T.flags&=32767,Lr=T;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{pi=6,Lr=null;return}}if(_=_.sibling,_!==null){Lr=_;return}Lr=_=x}while(_!==null);pi===0&&(pi=5)}function Ca(x,_){var T=Kn,F=kr.transition;try{kr.transition=null,Kn=1,R_(x,_,T)}finally{kr.transition=F,Kn=T}return null}function R_(x,_,T){do Qa();while(Za!==null);if((Qn&6)!==0)throw Error(o(327));var F=x.finishedWork,z=x.finishedLanes;if(F===null)return null;if(x.finishedWork=null,x.finishedLanes=0,F===x.current)throw Error(o(177));x.callbackNode=null,x.callbackPriority=0;var X=F.lanes|F.childLanes;if(Fd(x,X),x===_i&&(Lr=_i=null,ni=0),(F.subtreeFlags&2064)===0&&(F.flags&2064)===0||rf||(rf=!0,Jm(Va,function(){return Qa(),null})),X=(F.flags&15990)!==0,(F.subtreeFlags&15990)!==0||X){X=kr.transition,kr.transition=null;var ge=Kn;Kn=1;var Ie=Qn;Qn|=4,Sa.current=null,Wv(x,F),mM(x,F),ne(x.containerInfo),x.current=F,Nh(F),Pv(),Qn=Ie,Kn=ge,kr.transition=X}else x.current=F;if(rf&&(rf=!1,Za=x,Gu=z),X=x.pendingLanes,X===0&&(Aa=null),wc(F.stateNode),fo(x,oi()),_!==null)for(T=x.onRecoverableError,F=0;F<_.length;F++)T(_[F]);if(nf)throw nf=!1,x=Qr,Qr=null,x;return(Gu&1)!==0&&x.tag!==0&&Qa(),X=x.pendingLanes,(X&1)!==0?x===Ul?Vu++:(Vu=0,Ul=x):Vu=0,io(),null}function Qa(){if(Za!==null){var x=Vs(Gu),_=kr.transition,T=Kn;try{if(kr.transition=null,Kn=16>x?16:x,Za===null)var F=!1;else{if(x=Za,Za=null,Gu=0,(Qn&6)!==0)throw Error(o(331));var z=Qn;for(Qn|=4,Kt=x.current;Kt!==null;){var X=Kt,ge=X.child;if((Kt.flags&16)!==0){var Ie=X.deletions;if(Ie!==null){for(var ut=0;ut<Ie.length;ut++){var Ut=Ie[ut];for(Kt=Ut;Kt!==null;){var ln=Kt;switch(ln.tag){case 0:case 11:case 15:Bl(8,ln,X)}var qn=ln.child;if(qn!==null)qn.return=ln,Kt=qn;else for(;Kt!==null;){ln=Kt;var Mn=ln.sibling,nr=ln.return;if($v(ln),ln===Ut){Kt=null;break}if(Mn!==null){Mn.return=nr,Kt=Mn;break}Kt=nr}}}var rn=X.alternate;if(rn!==null){var gs=rn.child;if(gs!==null){rn.child=null;do{var Bo=gs.sibling;gs.sibling=null,gs=Bo}while(gs!==null)}}Kt=X}}if((X.subtreeFlags&2064)!==0&&ge!==null)ge.return=X,Kt=ge;else e:for(;Kt!==null;){if(X=Kt,(X.flags&2048)!==0)switch(X.tag){case 0:case 11:case 15:Bl(9,X,X.return)}var qe=X.sibling;if(qe!==null){qe.return=X.return,Kt=qe;break e}Kt=X.return}}var De=x.current;for(Kt=De;Kt!==null;){ge=Kt;var at=ge.child;if((ge.subtreeFlags&2064)!==0&&at!==null)at.return=ge,Kt=at;else e:for(ge=De;Kt!==null;){if(Ie=Kt,(Ie.flags&2048)!==0)try{switch(Ie.tag){case 0:case 11:case 15:hs(9,Ie)}}catch(bn){Xs(Ie,Ie.return,bn)}if(Ie===ge){Kt=null;break e}var Qt=Ie.sibling;if(Qt!==null){Qt.return=Ie.return,Kt=Qt;break e}Kt=Ie.return}}if(Qn=z,io(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(bu,x)}catch{}F=!0}return F}finally{Kn=T,kr.transition=_}}return!1}function Hh(x,_,T){_=jv(T,_),_=C_(x,_,1),$a(x,_),_=Er(),x=Lc(x,1),x!==null&&(Cl(x,1,_),fo(x,_))}function Xs(x,_,T){if(x.tag===3)Hh(x,x,T);else for(;_!==null;){if(_.tag===3){Hh(_,x,T);break}else if(_.tag===1){var F=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Aa===null||!Aa.has(F))){x=jv(T,x),x=Um(_,x,1),$a(_,x),x=Er(),_=Lc(_,1),_!==null&&(Cl(_,1,x),fo(_,x));break}}_=_.return}}function ry(x,_,T){var F=x.pingCache;F!==null&&F.delete(_),_=Er(),x.pingedLanes|=x.suspendedLanes&T,_i===x&&(ni&T)===T&&(pi===4||pi===3&&(ni&130023424)===ni&&500>oi()-kh?zl(x,0):zu|=T),fo(x,_)}function iy(x,_){_===0&&((x.mode&1)===0?_=1:(_=Nn,Nn<<=1,(Nn&130023424)===0&&(Nn=4194304)));var T=Er();x=Lc(x,_),x!==null&&(Cl(x,_,T),fo(x,T))}function N_(x){var _=x.memoizedState,T=0;_!==null&&(T=_.retryLane),iy(x,T)}function I_(x,_){var T=0;switch(x.tag){case 13:var F=x.stateNode,z=x.memoizedState;z!==null&&(T=z.retryLane);break;case 19:F=x.stateNode;break;default:throw Error(o(314))}F!==null&&F.delete(_),iy(x,T)}var sy;sy=function(x,_,T){if(x!==null)if(x.memoizedProps!==_.pendingProps||un.current)es=!0;else{if((x.lanes&T)===0&&(_.flags&128)===0)return es=!1,Wm(x,_,T);es=(x.flags&131072)!==0}else es=!1,fn&&(_.flags&1048576)!==0&&qt(_,re,_.index);switch(_.lanes=0,_.tag){case 2:var F=_.type;x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps;var z=Rn(_,yn.current);Wa(_,T),z=$d(null,_,F,x,z,T);var X=Ic();return _.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Yt(F)?(X=!0,or(_)):X=!1,_.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,Cc(_),z.updater=zd,_.stateNode=z,z._reactInternals=_,Hd(_,F,x,T),_=Is(null,_,F,!0,X,T)):(_.tag=0,fn&&X&&Cn(_),hi(null,_,z,T),_=_.child),_;case 16:F=_.elementType;e:{switch(x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps,z=F._init,F=z(F._payload),_.type=F,z=_.tag=gM(F),x=Rs(F,x),z){case 0:_=Fl(null,_,F,x,T);break e;case 1:_=Iu(null,_,F,x,T);break e;case 11:_=$r(null,_,F,x,T);break e;case 14:_=Gr(null,_,F,Rs(F.type,x),T);break e}throw Error(o(306,F,""))}return _;case 0:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),Fl(x,_,F,z,T);case 1:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),Iu(x,_,F,z,T);case 3:e:{if(Mh(_),x===null)throw Error(o(387));F=_.pendingProps,X=_.memoizedState,z=X.element,mh(x,_),Ud(_,F,null,T);var ge=_.memoizedState;if(F=ge.element,nt&&X.isDehydrated)if(X={element:F,isDehydrated:!1,cache:ge.cache,transitions:ge.transitions},_.updateQueue.baseState=X,_.memoizedState=X,_.flags&256){z=Error(o(423)),_=Hv(x,_,F,T,z);break e}else if(F!==z){z=Error(o(424)),_=Hv(x,_,F,T,z);break e}else for(nt&&(an=Mo(_.stateNode.containerInfo),Ht=_,fn=!0,ar=null,Ar=!1),T=__(_,null,F,T),_.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Pc(),F===z){_=uo(x,_,T);break e}hi(x,_,F,T)}_=_.child}return _;case 5:return w_(_),x===null&&Zn(_),F=_.type,z=_.pendingProps,X=x!==null?x.memoizedProps:null,ge=z.children,Xe(F,z)?ge=null:X!==null&&Xe(F,X)&&(_.flags|=32),Ws(x,_),hi(x,_,ge,T),_.child;case 6:return x===null&&Zn(_),null;case 13:return Gv(x,_,T);case 4:return Tm(_,_.stateNode.containerInfo),F=_.pendingProps,x===null?_.child=Pl(_,null,F,T):hi(x,_,F,T),_.child;case 11:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),$r(x,_,F,z,T);case 7:return hi(x,_,_.pendingProps,T),_.child;case 8:return hi(x,_,_.pendingProps.children,T),_.child;case 12:return hi(x,_,_.pendingProps.children,T),_.child;case 10:e:{if(F=_.type._context,z=_.pendingProps,X=_.memoizedProps,ge=z.value,Tl(_,F,ge),X!==null)if(Ui(X.value,ge)){if(X.children===z.children&&!un.current){_=uo(x,_,T);break e}}else for(X=_.child,X!==null&&(X.return=_);X!==null;){var Ie=X.dependencies;if(Ie!==null){ge=X.child;for(var ut=Ie.firstContext;ut!==null;){if(ut.context===F){if(X.tag===1){ut=Qo(-1,T&-T),ut.tag=2;var Ut=X.updateQueue;if(Ut!==null){Ut=Ut.shared;var ln=Ut.pending;ln===null?ut.next=ut:(ut.next=ln.next,ln.next=ut),Ut.pending=ut}}X.lanes|=T,ut=X.alternate,ut!==null&&(ut.lanes|=T),ya(X.return,T,_),Ie.lanes|=T;break}ut=ut.next}}else if(X.tag===10)ge=X.type===_.type?null:X.child;else if(X.tag===18){if(ge=X.return,ge===null)throw Error(o(341));ge.lanes|=T,Ie=ge.alternate,Ie!==null&&(Ie.lanes|=T),ya(ge,T,_),ge=X.sibling}else ge=X.child;if(ge!==null)ge.return=X;else for(ge=X;ge!==null;){if(ge===_){ge=null;break}if(X=ge.sibling,X!==null){X.return=ge.return,ge=X;break}ge=ge.return}X=ge}hi(x,_,z.children,T),_=_.child}return _;case 9:return z=_.type,F=_.pendingProps.children,Wa(_,T),z=ds(z),F=F(z),_.flags|=1,hi(x,_,F,T),_.child;case 14:return F=_.type,z=Rs(F,_.pendingProps),z=Rs(F.type,z),Gr(x,_,F,z,T);case 15:return Ol(x,_,_.type,_.pendingProps,T);case 17:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),_.tag=1,Yt(F)?(x=!0,or(_)):x=!1,Wa(_,T),Mm(_,F,z),Hd(_,F,z,T),Is(null,_,F,!0,x,T);case 19:return Fu(x,_,T);case 22:return fs(x,_,T)}throw Error(o(156,_.tag))};function Jm(x,_){return Ml(x,_)}function O_(x,_,T,F){this.tag=x,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(x,_,T,F){return new O_(x,_,T,F)}function Zm(x){return x=x.prototype,!(!x||!x.isReactComponent)}function gM(x){if(typeof x=="function")return Zm(x)?1:0;if(x!=null){if(x=x.$$typeof,x===b)return 11;if(x===A)return 14}return 2}function Hl(x,_){var T=x.alternate;return T===null?(T=Do(x.tag,_,x.key,x.mode),T.elementType=x.elementType,T.type=x.type,T.stateNode=x.stateNode,T.alternate=x,x.alternate=T):(T.pendingProps=_,T.type=x.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=x.flags&14680064,T.childLanes=x.childLanes,T.lanes=x.lanes,T.child=x.child,T.memoizedProps=x.memoizedProps,T.memoizedState=x.memoizedState,T.updateQueue=x.updateQueue,_=x.dependencies,T.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},T.sibling=x.sibling,T.index=x.index,T.ref=x.ref,T}function Qm(x,_,T,F,z,X){var ge=2;if(F=x,typeof x=="function")Zm(x)&&(ge=1);else if(typeof x=="string")ge=5;else e:switch(x){case d:return Wu(T.children,z,X,_);case c:ge=8,z|=8;break;case f:return x=Do(12,T,_,z|2),x.elementType=f,x.lanes=X,x;case y:return x=Do(13,T,_,z),x.elementType=y,x.lanes=X,x;case w:return x=Do(19,T,_,z),x.elementType=w,x.lanes=X,x;case C:return Gh(T,z,X,_);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case m:ge=10;break e;case v:ge=9;break e;case b:ge=11;break e;case A:ge=14;break e;case E:ge=16,F=null;break e}throw Error(o(130,x==null?x:typeof x,""))}return _=Do(ge,T,_,z),_.elementType=x,_.type=F,_.lanes=X,_}function Wu(x,_,T,F){return x=Do(7,x,F,_),x.lanes=T,x}function Gh(x,_,T,F){return x=Do(22,x,F,_),x.elementType=C,x.lanes=T,x.stateNode={},x}function eg(x,_,T){return x=Do(6,x,null,_),x.lanes=T,x}function tg(x,_,T){return _=Do(4,x.children!==null?x.children:[],x.key,_),_.lanes=T,_.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},_}function ng(x,_,T,F,z){this.tag=_,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=F,this.onRecoverableError=z,nt&&(this.mutableSourceEagerHydrationData=null)}function F_(x,_,T,F,z,X,ge,Ie,ut){return x=new ng(x,_,T,Ie,ut),_===1?(_=1,X===!0&&(_|=8)):_=0,X=Do(3,null,null,_),x.current=X,X.stateNode=x,X.memoizedState={element:F,isDehydrated:T,cache:null,transitions:null},Cc(X),x}function D_(x){if(!x)return Wt;x=x._reactInternals;e:{if(D(x)!==x||x.tag!==1)throw Error(o(170));var _=x;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Yt(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(o(171))}if(x.tag===1){var T=x.type;if(Yt(T))return jn(x,T,_)}return _}function B_(x){var _=x._reactInternals;if(_===void 0)throw typeof x.render=="function"?Error(o(188)):(x=Object.keys(x).join(","),Error(o(268,x)));return x=W(_),x===null?null:x.stateNode}function na(x,_){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var T=x.retryLane;x.retryLane=T!==0&&T<_?T:_}}function Vh(x,_){na(x,_),(x=x.alternate)&&na(x,_)}function rg(x){return x=W(x),x===null?null:x.stateNode}function k_(){return null}return t.attemptContinuousHydration=function(x){if(x.tag===13){var _=Er();Fs(x,134217728,_),Vh(x,134217728)}},t.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var _=Er(),T=Ea(x);Fs(x,T,_),Vh(x,T)}},t.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var _=x.stateNode;if(_.current.memoizedState.isDehydrated){var T=To(_.pendingLanes);T!==0&&(Ko(_,T|1),fo(_,oi()),(Qn&6)===0&&(Hu(),io()))}break;case 13:var F=Er();sf(function(){return Fs(x,1,F)}),Vh(x,1)}},t.batchedUpdates=function(x,_){var T=Qn;Qn|=1;try{return x(_)}finally{Qn=T,Qn===0&&(Hu(),va&&io())}},t.createComponentSelector=function(x){return{$$typeof:Oh,value:x}},t.createContainer=function(x,_,T,F,z,X,ge){return F_(x,_,!1,null,T,F,z,X,ge)},t.createHasPseudoClassSelector=function(x){return{$$typeof:ku,value:x}},t.createHydrationContainer=function(x,_,T,F,z,X,ge,Ie,ut){return x=F_(T,F,!0,x,z,X,ge,Ie,ut),x.context=D_(null),T=x.current,F=Er(),z=Ea(T),X=Qo(F,z),X.callback=_??null,$a(T,X),x.current.lanes=z,Cl(x,z,F),fo(x,F),x},t.createPortal=function(x,_,T){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:F==null?null:""+F,children:x,containerInfo:_,implementation:T}},t.createRoleSelector=function(x){return{$$typeof:Lu,value:x}},t.createTestNameSelector=function(x){return{$$typeof:kl,value:x}},t.createTextSelector=function(x){return{$$typeof:ef,value:x}},t.deferredUpdates=function(x){var _=Kn,T=kr.transition;try{return kr.transition=null,Kn=16,x()}finally{Kn=_,kr.transition=T}},t.discreteUpdates=function(x,_,T,F,z){var X=Kn,ge=kr.transition;try{return kr.transition=null,Kn=1,x(_,T,F,z)}finally{Kn=X,kr.transition=ge,Qn===0&&Hu()}},t.findAllNodes=Ll,t.findBoundingRects=function(x,_){if(!tt)throw Error(o(363));_=Ll(x,_),x=[];for(var T=0;T<_.length;T++)x.push(ft(_[T]));for(_=x.length-1;0<_;_--){T=x[_];for(var F=T.x,z=F+T.width,X=T.y,ge=X+T.height,Ie=_-1;0<=Ie;Ie--)if(_!==Ie){var ut=x[Ie],Ut=ut.x,ln=Ut+ut.width,qn=ut.y,Mn=qn+ut.height;if(F>=Ut&&X>=qn&&z<=ln&&ge<=Mn){x.splice(_,1);break}else if(F!==Ut||T.width!==ut.width||Mn<X||qn>ge){if(!(X!==qn||T.height!==ut.height||ln<F||Ut>z)){Ut>F&&(ut.width+=Ut-F,ut.x=F),ln<z&&(ut.width=z-Ut),x.splice(_,1);break}}else{qn>X&&(ut.height+=qn-X,ut.y=X),Mn<ge&&(ut.height=ge-qn),x.splice(_,1);break}}}return x},t.findHostInstance=B_,t.findHostInstanceWithNoPortals=function(x){return x=L(x),x=x!==null?K(x):null,x===null?null:x.stateNode},t.findHostInstanceWithWarning=function(x){return B_(x)},t.flushControlled=function(x){var _=Qn;Qn|=1;var T=kr.transition,F=Kn;try{kr.transition=null,Kn=1,x()}finally{Kn=F,kr.transition=T,Qn=_,Qn===0&&(Hu(),io())}},t.flushPassiveEffects=Qa,t.flushSync=sf,t.focusWithin=function(x,_){if(!tt)throw Error(o(363));for(x=Fh(x),_=Io(x,_),_=Array.from(_),x=0;x<_.length;){var T=_[x++];if(!te(T)){if(T.tag===5&&Ye(T.stateNode))return!0;for(T=T.child;T!==null;)_.push(T),T=T.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Kn},t.getFindAllNodesFailureDescription=function(x,_){if(!tt)throw Error(o(363));var T=0,F=[];x=[Fh(x),0];for(var z=0;z<x.length;){var X=x[z++],ge=x[z++],Ie=_[ge];if((X.tag!==5||!te(X))&&(Dh(X,Ie)&&(F.push(Bc(Ie)),ge++,ge>T&&(T=ge)),ge<_.length))for(X=X.child;X!==null;)x.push(X,ge),X=X.sibling}if(T<_.length){for(x=[];T<_.length;T++)x.push(Bc(_[T]));return`findAllNodes was able to match part of the selector:
  `+(F.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},t.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return V(x.child.stateNode);default:return x.child.stateNode}},t.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:rg,findFiberByHostInstance:x.findFiberByHostInstance||k_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var _=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_.isDisabled||!_.supportsFiber)x=!0;else{try{bu=_.inject(x),Yo=_}catch{}x=!!_.checkDCE}}return x},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(x,_,T,F){if(!tt)throw Error(o(363));x=Ll(x,_);var z=pt(x,T,F).disconnect;return{disconnect:function(){z()}}},t.registerMutableSourceForHydration=function(x,_){var T=_._getVersion;T=T(_._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[_,T]:x.mutableSourceEagerHydrationData.push(_,T)},t.runWithPriority=function(x,_){var T=Kn;try{return Kn=x,_()}finally{Kn=T}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(x,_,T,F){var z=_.current,X=Er(),ge=Ea(z);return T=D_(T),_.context===null?_.context=T:_.pendingContext=T,_=Qo(X,ge),_.payload={element:x},F=F===void 0?null:F,F!==null&&(_.callback=F),$a(z,_),x=Fs(z,ge,X),x!==null&&jd(x,z,ge),ge},t}),a3}var WG;function GBe(){return WG||(WG=1,i3.exports=HBe()),i3.exports}var VBe=GBe();const WBe=Hr(VBe);var l3={exports:{}},c3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $G;function $Be(){return $G||($G=1,(function(n){function e(H,Y){var ne=H.length;H.push(Y);e:for(;0<ne;){var Z=ne-1>>>1,oe=H[Z];if(0<i(oe,Y))H[Z]=Y,H[ne]=oe,ne=Z;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],ne=H.pop();if(ne!==Y){H[0]=ne;e:for(var Z=0,oe=H.length,ye=oe>>>1;Z<ye;){var Be=2*(Z+1)-1,Xe=H[Be],we=Be+1,Ae=H[we];if(0>i(Xe,ne))we<oe&&0>i(Ae,Xe)?(H[Z]=Ae,H[we]=ne,Z=we):(H[Z]=Xe,H[Be]=ne,Z=Be);else if(we<oe&&0>i(Ae,ne))H[Z]=Ae,H[we]=ne,Z=we;else break e}}return Y}function i(H,Y){var ne=H.sortIndex-Y.sortIndex;return ne!==0?ne:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Y=t(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=H)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(u)}}function C(H){if(b=!1,E(H),!v)if(t(l)!==null)v=!0,V(M);else{var Y=t(u);Y!==null&&J(C,Y.startTime-H)}}function M(H,Y){v=!1,b&&(b=!1,w(k),k=-1),m=!0;var ne=f;try{for(E(Y),c=t(l);c!==null&&(!(c.expirationTime>Y)||H&&!L());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var oe=Z(c.expirationTime<=Y);Y=n.unstable_now(),typeof oe=="function"?c.callback=oe:c===t(l)&&r(l),E(Y)}else r(l);c=t(l)}if(c!==null)var ye=!0;else{var Be=t(u);Be!==null&&J(C,Be.startTime-Y),ye=!1}return ye}finally{c=null,f=ne,m=!1}}var P=!1,O=null,k=-1,D=5,I=-1;function L(){return!(n.unstable_now()-I<D)}function W(){if(O!==null){var H=n.unstable_now();I=H;var Y=!0;try{Y=O(!0,H)}finally{Y?q():(P=!1,O=null)}}else P=!1}var q;if(typeof A=="function")q=function(){A(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=W,q=function(){ie.postMessage(null)}}else q=function(){y(W,0)};function V(H){O=H,P||(P=!0,q())}function J(H,Y){k=y(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,V(M))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ne=f;f=Y;try{return H()}finally{f=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=f;f=H;try{return Y()}finally{f=ne}},n.unstable_scheduleCallback=function(H,Y,ne){var Z=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Z+ne:Z):ne=Z,H){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,H={id:d++,callback:Y,priorityLevel:H,startTime:ne,expirationTime:oe,sortIndex:-1},ne>Z?(H.sortIndex=ne,e(u,H),t(l)===null&&H===t(u)&&(b?(w(k),k=-1):b=!0,J(C,ne-Z))):(H.sortIndex=oe,e(l,H),v||m||(v=!0,V(M))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var Y=f;return function(){var ne=f;f=Y;try{return H.apply(this,arguments)}finally{f=ne}}}})(c3)),c3}var qG;function qBe(){return qG||(qG=1,l3.exports=$Be()),l3.exports}var XG=qBe();const lk={},qQ=n=>void Object.assign(lk,n);function XBe(n,e){function t(d,{args:c=[],attach:f,...m},v){let b=`${d[0].toUpperCase()}${d.slice(1)}`,y;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;y=Lg(w,{type:d,root:v,attach:f,primitive:!0})}else{const w=lk[b];if(!w)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(c))throw new Error("R3F: The args prop must be an array!");y=Lg(new w(...c),{type:d,root:v,attach:f,memoizedProps:{args:c}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),b!=="inject"&&f3(y,m),y}function r(d,c){let f=!1;if(c){var m,v;(m=c.__r3f)!=null&&m.attach?d3(d,c,c.__r3f.attach):c.isObject3D&&d.isObject3D&&(d.add(c),f=!0),f||(v=d.__r3f)==null||v.objects.push(c),c.__r3f||Lg(c,{}),c.__r3f.parent=d,QO(c),jg(c)}}function i(d,c,f){let m=!1;if(c){var v,b;if((v=c.__r3f)!=null&&v.attach)d3(d,c,c.__r3f.attach);else if(c.isObject3D&&d.isObject3D){c.parent=d,c.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:c});const y=d.children.filter(A=>A!==c),w=y.indexOf(f);d.children=[...y.slice(0,w),c,...y.slice(w)],m=!0}m||(b=d.__r3f)==null||b.objects.push(c),c.__r3f||Lg(c,{}),c.__r3f.parent=d,QO(c),jg(c)}}function s(d,c,f=!1){d&&[...d].forEach(m=>o(c,m,f))}function o(d,c,f){if(c){var m,v,b;if(c.__r3f&&(c.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(C=>C!==c)),(v=c.__r3f)!=null&&v.attach)QG(d,c,c.__r3f.attach);else if(c.isObject3D&&d.isObject3D){var y;d.remove(c),(y=c.__r3f)!=null&&y.root&&tke(Kw(c),c)}const A=(b=c.__r3f)==null?void 0:b.primitive,E=!A&&(f===void 0?c.dispose!==null:f);if(!A){var w;s((w=c.__r3f)==null?void 0:w.objects,c,E),s(c.children,c,E)}if(delete c.__r3f,E&&c.dispose&&c.type!=="Scene"){const C=()=>{try{c.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?XG.unstable_scheduleCallback(XG.unstable_IdlePriority,C):C()}jg(d)}}function a(d,c,f,m){var v;const b=(v=d.__r3f)==null?void 0:v.parent;if(!b)return;const y=t(c,f,d.__r3f.root);if(d.children){for(const w of d.children)w.__r3f&&r(y,w);d.children=d.children.filter(w=>!w.__r3f)}d.__r3f.objects.forEach(w=>r(y,w)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(b,d),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(b,y),y.raycast&&y.__r3f.eventCount&&Kw(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=y,w.ref&&(typeof w.ref=="function"?w.ref(y):w.ref.current=y))})}const l=()=>{};return{reconciler:WBe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,c)=>{if(!c)return;const f=d.getState().scene;f.__r3f&&(f.__r3f.root=d,r(f,c))},removeChildFromContainer:(d,c)=>{c&&o(d.getState().scene,c)},insertInContainerBefore:(d,c,f)=>{if(!c||!f)return;const m=d.getState().scene;m.__r3f&&i(m,c,f)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var c;return!!((c=d?.__r3f)!=null?c:{}).handlers},prepareUpdate(d,c,f,m){var v;if(((v=d?.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:w,...A}=m,{args:E=[],children:C,...M}=f;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((O,k)=>O!==E[k]))return[!0];const P=eee(d,A,M,!0);return P.changes.length?[!1,P]:null}},commitUpdate(d,[c,f],m,v,b,y){c?a(d,m,b,y):f3(d,f)},commitMount(d,c,f,m){var v;const b=(v=d.__r3f)!=null?v:{};d.raycast&&b.handlers&&b.eventCount&&Kw(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Lg(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var c;const{attach:f,parent:m}=(c=d.__r3f)!=null?c:{};f&&m&&QG(m,d,f),d.isObject3D&&(d.visible=!1),jg(d)},unhideInstance(d,c){var f;const{attach:m,parent:v}=(f=d.__r3f)!=null?f:{};m&&v&&d3(v,d,m),(d.isObject3D&&c.visible==null||c.visible)&&(d.visible=!0),jg(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Vg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ii.fun(performance.now)?performance.now:ii.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ii.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ii.fun(clearTimeout)?clearTimeout:void 0}),applyProps:f3}}var KG,YG;const u3=n=>"colorSpace"in n||"outputColorSpace"in n,XQ=()=>{var n;return(n=lk.ColorManagement)!=null?n:null},KQ=n=>n&&n.isOrthographicCamera,KBe=n=>n&&n.hasOwnProperty("current"),p_=typeof window<"u"&&((KG=window.document)!=null&&KG.createElement||((YG=window.navigator)==null?void 0:YG.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function YQ(n){const e=B.useRef(n);return p_(()=>void(e.current=n),[n]),e}function YBe({set:n}){return p_(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class JQ extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}JQ.getDerivedStateFromError=()=>({error:!0});const ZQ="__default",JG=new Map,JBe=n=>n&&!!n.memoized&&!!n.changes;function QQ(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const zy=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Kw(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ii={obj:n=>n===Object(n)&&!ii.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ii.str(n)||ii.num(n)||ii.boo(n))return n===e;const s=ii.obj(n);if(s&&r==="reference")return n===e;const o=ii.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!ii.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(ii.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ZBe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function QBe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Lg(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function ZO(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const ZG=/-\d+$/;function d3(n,e,t){if(ii.str(t)){if(ZG.test(t)){const s=t.replace(ZG,""),{target:o,key:a}=ZO(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=ZO(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function QG(n,e,t){var r,i;if(ii.str(t)){const{target:s,key:o}=ZO(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function eee(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const d=n.__r3f,c=Object.entries(i),f=[];if(u){const v=Object.keys(l);for(let b=0;b<v.length;b++)i.hasOwnProperty(v[b])||c.unshift([v[b],ZQ+"remove"])}c.forEach(([v,b])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||ii.equ(b,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,b,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),f.push([v,b,!1,w]);for(const A in i){const E=i[A];A.startsWith(`${v}-`)&&f.push([A,E,!1,A.split("-")])}});const m={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:f}}function f3(n,e){var t;const r=n.__r3f,i=r?.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=JBe(e)?e:eee(n,e),l=r?.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[m,v,b,y]=a[f];if(u3(n)){const C="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?C:M):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?C:M)}let w=n,A=w[m];if(y.length&&(A=y.reduce((E,C)=>E[C],n),!(A&&A.set))){const[E,...C]=y.reverse();w=C.reverse().reduce((M,P)=>M[P],n),m=E}if(v===ZQ+"remove")if(w.constructor){let E=JG.get(w.constructor);E||(E=new w.constructor,JG.set(w.constructor,E)),v=E[m]}else v=0;if(b&&r)v?r.handlers[m]=v:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Wp)){if(Array.isArray(v))A.fromArray?A.fromArray(v):A.set(...v);else if(A.copy&&v&&v.constructor&&A.constructor===v.constructor)A.copy(v);else if(v!==void 0){var u;const E=(u=A)==null?void 0:u.isColor;!E&&A.setScalar?A.setScalar(v):A instanceof Wp&&v instanceof Wp?A.mask=v.mask:A.set(v),!XQ()&&s&&!s.linear&&E&&A.convertSRGBToLinear()}}else{var d;if(w[m]=v,(d=w[m])!=null&&d.isTexture&&w[m].format===$i&&w[m].type===qo&&s){const E=w[m];u3(E)&&u3(s.gl)?E.colorSpace=s.gl.outputColorSpace:E.encoding=s.gl.outputEncoding}}jg(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const f=Kw(n).getState().internal,m=f.interaction.indexOf(n);m>-1&&f.interaction.splice(m,1),r.eventCount&&f.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&QO(n),n}function jg(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function QO(n){n.onUpdate==null||n.onUpdate(n)}function tee(n,e){n.manual||(KQ(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Sw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function eke(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Vg.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vg.ContinuousEventPriority;default:return Vg.DefaultEventPriority}}function nee(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function tke(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{nee(t.capturedMap,e,r,i)})}function nke(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],c=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+c*c))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var c;return(c=u.__r3f)==null?void 0:c.handlers["onPointer"+d]}))}function r(l,u){const d=n.getState(),c=new Set,f=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let w=0;w<m.length;w++){const A=zy(m[w]);A&&(A.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(w){const A=zy(w);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var E;A.events.compute==null||A.events.compute(l,A,(E=A.previousRoot)==null?void 0:E.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(w,!0):[]}let b=m.flatMap(v).sort((w,A)=>{const E=zy(w.object),C=zy(A.object);return!E||!C?w.distance-A.distance:C.events.priority-E.events.priority||w.distance-A.distance}).filter(w=>{const A=Sw(w);return c.has(A)?!1:(c.add(A),!0)});d.events.filter&&(b=d.events.filter(b,d));for(const w of b){let A=w.object;for(;A;){var y;(y=A.__r3f)!=null&&y.eventCount&&f.push({...w,eventObject:A}),A=A.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let w of d.internal.capturedMap.get(l.pointerId).values())c.has(Sw(w.intersection))||f.push(w.intersection);return f}function i(l,u,d,c){const f=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const b=zy(v.object)||f,{raycaster:y,pointer:w,camera:A,internal:E}=b,C=new de(w.x,w.y,0).unproject(A),M=I=>{var L,W;return(L=(W=E.capturedMap.get(I))==null?void 0:W.has(v.eventObject))!=null?L:!1},P=I=>{const L={intersection:v,target:u.target};E.capturedMap.has(I)?E.capturedMap.get(I).set(v.eventObject,L):E.capturedMap.set(I,new Map([[v.eventObject,L]])),u.target.setPointerCapture(I)},O=I=>{const L=E.capturedMap.get(I);L&&nee(E.capturedMap,v.eventObject,L,I)};let k={};for(let I in u){let L=u[I];typeof L!="function"&&(k[I]=L)}let D={...v,...k,pointer:w,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:C,ray:y.ray,camera:A,stopPropagation(){const I="pointerId"in u&&E.capturedMap.get(u.pointerId);if((!I||I.has(v.eventObject))&&(D.stopped=m.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(L=>L.eventObject===v.eventObject))){const L=l.slice(0,l.indexOf(v));s([...L,v])}},target:{hasPointerCapture:M,setPointerCapture:P,releasePointerCapture:O},currentTarget:{hasPointerCapture:M,setPointerCapture:P,releasePointerCapture:O},nativeEvent:u};if(c(D),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(c=>c.object===d.object&&c.index===d.index&&c.instanceId===d.instanceId)){const f=d.eventObject.__r3f,m=f?.handlers;if(u.hovered.delete(Sw(d)),f!=null&&f.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let d=0;d<u.length;d++){const c=u[d].__r3f;c==null||c.handlers.onPointerMissed==null||c.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:c,internal:f}=n.getState();f.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(d,m?t:void 0),w=v?e(d):0;l==="onPointerDown"&&(f.initialClick=[d.offsetX,d.offsetY],f.initialHits=y.map(E=>E.eventObject)),v&&!y.length&&w<=2&&(o(d,f.interaction),c&&c(d)),m&&s(y);function A(E){const C=E.eventObject,M=C.__r3f,P=M?.handlers;if(M!=null&&M.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const O=Sw(E),k=f.hovered.get(O);k?k.stopped&&E.stopPropagation():(f.hovered.set(O,E),P.onPointerOver==null||P.onPointerOver(E),P.onPointerEnter==null||P.onPointerEnter(E))}P.onPointerMove==null||P.onPointerMove(E)}else{const O=P[l];O?(!v||f.initialHits.includes(C))&&(o(d,f.interaction.filter(k=>!f.initialHits.includes(k))),O(E)):v&&f.initialHits.includes(C)&&o(d,f.interaction.filter(k=>!f.initialHits.includes(k)))}}i(y,d,w,A)}}return{handlePointer:a}}const rke=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],ree=n=>!!(n!=null&&n.render),ck=B.createContext(null),ike=(n,e)=>{const t=VQ((a,l)=>{const u=new de,d=new de,c=new de;function f(w=l().camera,A=d,E=l().size){const{width:C,height:M,top:P,left:O}=E,k=C/M;A.isVector3?c.copy(A):c.set(...A);const D=w.getWorldPosition(u).distanceTo(c);if(KQ(w))return{width:C/w.zoom,height:M/w.zoom,top:P,left:O,factor:1,distance:D,aspect:k};{const I=w.fov*Math.PI/180,L=2*Math.tan(I/2)*D,W=L*(C/M);return{width:W,height:L,top:P,left:O,factor:C/W,distance:D,aspect:k}}}let m;const v=w=>a(A=>({performance:{...A.performance,current:w}})),b=new xt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>n(l(),w),advance:(w,A)=>e(w,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tk,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&v(w.performance.min),m=setTimeout(()=>v(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:w=>a(A=>({...A,events:{...A.events,...w}})),setSize:(w,A,E,C,M)=>{const P=l().camera,O={width:w,height:A,top:C||0,left:M||0,updateStyle:E};a(k=>({size:O,viewport:{...k.viewport,...f(P,d,O)}}))},setDpr:w=>a(A=>{const E=QQ(w);return{viewport:{...A.viewport,dpr:E,initialDpr:A.viewport.initialDpr||E}}}),setFrameloop:(w="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,w!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,A,E)=>{const C=l().internal;return C.priority=C.priority+(A>0?1:0),C.subscribers.push({ref:w,priority:A,store:E}),C.subscribers=C.subscribers.sort((M,P)=>M.priority-P.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(A>0?1:0),M.subscribers=M.subscribers.filter(P=>P.ref!==w))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:c}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var f;i=l,s=u.dpr,tee(a,l),d.setPixelRatio(u.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,c(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Aw,ske=new Set,oke=new Set,ake=new Set;function h3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Hy(n,e){switch(n){case"before":return h3(ske,e);case"after":return h3(oke,e);case"tail":return h3(ake,e)}}let p3,m3;function g3(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),p3=e.internal.subscribers,Aw=0;Aw<p3.length;Aw++)m3=p3[Aw],m3.ref.current(m3.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function lke(n){let e=!1,t=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,Hy("before",u),t=!0;for(const c of n.values()){var d;s=c.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=g3(u,s))}if(t=!1,Hy("after",u),r===0)return Hy("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,d=1){var c;if(!u)return n.forEach(f=>a(f.store.getState(),d));(c=u.gl.xr)!=null&&c.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,d=!0,c,f){if(d&&Hy("before",u),c)g3(u,c,f);else for(const m of n.values())g3(u,m.store.getState());d&&Hy("after",u)}return{loop:o,invalidate:a,advance:l}}function uk(){const n=B.useContext(ck);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uo(n=t=>t,e){return uk()(n,e)}function aM(n,e=0){const t=uk(),r=t.getState().internal.subscribe,i=YQ(n);return p_(()=>r(i,e,t),[e,r,t]),null}const eV=new WeakMap;function iee(n,e){return function(t,...r){let i=eV.get(t);return i||(i=new t,eV.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,ZBe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l?.message}`))))))}}function Ed(n,e,t,r){const i=Array.isArray(e)?e:[e],s=kBe(iee(t,r),[n,...i],{equal:ii.equ});return Array.isArray(e)?s:s[0]}Ed.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return LBe(iee(t),[n,...r])};Ed.clear=function(n,e){const t=Array.isArray(e)?e:[e];return jBe([n,...t])};const tv=new Map,{invalidate:tV,advance:nV}=lke(tv),{reconciler:Eb,applyProps:Pf}=XBe(tv,eke),kg={objects:"shallow",strict:!1},cke=(n,e)=>{const t=typeof n=="function"?n(e):n;return ree(t)?t:new ak({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function uke(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function dke(n){const e=tv.get(n),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||ike(tV,nV),o=t||Eb.createContainer(s,Vg.ConcurrentRoot,null,!1,null,"",i,null);e||tv.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(d={}){let{gl:c,size:f,scene:m,events:v,onCreated:b,shadows:y=!1,linear:w=!1,flat:A=!1,legacy:E=!1,orthographic:C=!1,frameloop:M="always",dpr:P=[1,2],performance:O,raycaster:k,camera:D,onPointerMissed:I}=d,L=s.getState(),W=L.gl;L.gl||L.set({gl:W=cke(c,n)});let q=L.raycaster;q||L.set({raycaster:q=new sk});const{params:K,...ie}=k||{};if(ii.equ(ie,q,kg)||Pf(q,{...ie}),ii.equ(K,q.params,kg)||Pf(q,{params:{...q.params,...K}}),!L.camera||L.camera===u&&!ii.equ(u,D,kg)){u=D;const ne=D instanceof r_,Z=ne?D:C?new nu(0,0,0,0,.1,1e3):new Li(75,0,.1,1e3);ne||(Z.position.z=5,D&&(Pf(Z,D),("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(Z.manual=!0,Z.updateProjectionMatrix())),!L.camera&&!(D!=null&&D.rotation)&&Z.lookAt(0,0,0)),L.set({camera:Z}),q.camera=Z}if(!L.scene){let ne;m!=null&&m.isScene?ne=m:(ne=new s_,m&&Pf(ne,m)),L.set({scene:Lg(ne)})}if(!L.xr){var V;const ne=(ye,Be)=>{const Xe=s.getState();Xe.frameloop!=="never"&&nV(ye,!0,Xe,Be)},Z=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?ne:null),ye.gl.xr.isPresenting||tV(ye)},oe={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",Z),ye.xr.addEventListener("sessionend",Z)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",Z),ye.xr.removeEventListener("sessionend",Z)}};typeof((V=W.xr)==null?void 0:V.addEventListener)=="function"&&oe.connect(),L.set({xr:oe})}if(W.shadowMap){const ne=W.shadowMap.enabled,Z=W.shadowMap.type;if(W.shadowMap.enabled=!!y,ii.boo(y))W.shadowMap.type=cx;else if(ii.str(y)){var J;const oe={basic:JJ,percentage:CC,soft:cx,variance:tc};W.shadowMap.type=(J=oe[y])!=null?J:cx}else ii.obj(y)&&Object.assign(W.shadowMap,y);(ne!==W.shadowMap.enabled||Z!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const H=XQ();H&&("enabled"in H?H.enabled=!E:"legacyMode"in H&&(H.legacyMode=E)),l||Pf(W,{outputEncoding:w?3e3:3001,toneMapping:A?tu:MC}),L.legacy!==E&&L.set(()=>({legacy:E})),L.linear!==w&&L.set(()=>({linear:w})),L.flat!==A&&L.set(()=>({flat:A})),c&&!ii.fun(c)&&!ree(c)&&!ii.equ(c,W,kg)&&Pf(W,c),v&&!L.events.handlers&&L.set({events:v(s)});const Y=uke(n,f);return ii.equ(Y,L.size,kg)||L.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),P&&L.viewport.dpr!==QQ(P)&&L.setDpr(P),L.frameloop!==M&&L.setFrameloop(M),L.onPointerMissed||L.set({onPointerMissed:I}),O&&!ii.equ(O,L.performance,kg)&&L.set(ne=>({performance:{...ne.performance,...O}})),a=b,l=!0,this},render(d){return l||this.configure(),Eb.updateContainer(p.jsx(fke,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){see(n)}}}function fke({store:n,children:e,onCreated:t,rootElement:r}){return p_(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),p.jsx(ck.Provider,{value:n,children:e})}function see(n,e){const t=tv.get(n),r=t?.fiber;if(r){const i=t?.store.getState();i&&(i.internal.active=!1),Eb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),QBe(i),tv.delete(n)}catch{}},500)})}}function hke(n,e,t){return p.jsx(pke,{children:n,container:e,state:t},e.uuid)}function pke({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=uk(),[a]=B.useState(()=>new sk),[l]=B.useState(()=>new xt),u=B.useCallback((c,f)=>{const m={...c};Object.keys(c).forEach(b=>{(rke.includes(b)||c[b]!==f[b]&&f[b])&&delete m[b]});let v;if(f&&i){const b=f.camera;v=c.viewport.getCurrentViewport(b,new de,i),b!==c.camera&&tee(b,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...c.events,...f?.events,...r},size:{...c.size,...i},viewport:{...c.viewport,...v},...s}},[n]),[d]=B.useState(()=>{const c=o.getState();return VQ((m,v)=>({...c,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...c.events,...r},size:{...c.size,...i},...s,set:m,get:v,setEvents:b=>m(y=>({...y,events:{...y.events,...b}}))}))});return B.useEffect(()=>{const c=o.subscribe(f=>d.setState(m=>u(f,m)));return()=>{c()}},[u]),B.useEffect(()=>{d.setState(c=>u(o.getState(),c))},[u]),B.useEffect(()=>()=>{d.destroy()},[]),p.jsx(p.Fragment,{children:Eb.createPortal(p.jsx(ck.Provider,{value:d,children:e}),d,null)})}Eb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});const v3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mke(n){const{handlePointer:e}=nke(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(v3).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=v3[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=v3[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function rV(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function gke({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=B.useRef(!1);B.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[c,f,m]=B.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:A,top:E,width:C,height:M,bottom:P,right:O,x:k,y:D}=a.current.element.getBoundingClientRect(),I={left:A,top:E,width:C,height:M,bottom:P,right:O,x:k,y:D};a.current.element instanceof HTMLElement&&r&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),d.current&&!bke(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[w,u?rV(w,u):w,l?rV(w,l):w]},[o,r,l,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=w=>{!w||w===a.current.element||(v(),a.current.element=w,a.current.scrollContainers=oee(w),b())};return yke(m,!!e),vke(f),B.useEffect(()=>{v(),b()},[e,m,f]),B.useEffect(()=>v,[]),[y,s,c]}function vke(n){B.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function yke(n,e){B.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function oee(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...oee(n.parentElement)]}const xke=["x","y","top","bottom","left","right","width","height"],bke=(n,e)=>xke.every(t=>n[t]===e[t]);var _ke=Object.defineProperty,wke=Object.defineProperties,Ske=Object.getOwnPropertyDescriptors,iV=Object.getOwnPropertySymbols,Ake=Object.prototype.hasOwnProperty,Eke=Object.prototype.propertyIsEnumerable,sV=(n,e,t)=>e in n?_ke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,oV=(n,e)=>{for(var t in e||(e={}))Ake.call(e,t)&&sV(n,t,e[t]);if(iV)for(var t of iV(e))Eke.call(e,t)&&sV(n,t,e[t]);return n},Cke=(n,e)=>wke(n,Ske(e)),aV,lV;typeof window<"u"&&((aV=window.document)!=null&&aV.createElement||((lV=window.navigator)==null?void 0:lV.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function aee(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=aee(r,e,t);if(i)return i;r=r.sibling}}function lee(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const cV=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=cV;return}return cV.apply(this,arguments)};const dk=lee(B.createContext(null));class cee extends B.Component{render(){return B.createElement(dk.Provider,{value:this._reactInternals},this.props.children)}}function Mke(){const n=B.useContext(dk);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[n,n?.alternate]){if(!r)continue;const i=aee(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function Tke(){const n=Mke(),[e]=B.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==dk&&!e.has(i)&&e.set(i,B.useContext(lee(i)))}t=t.return}return e}function Pke(){const n=Tke();return B.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>B.createElement(e,null,B.createElement(t.Provider,Cke(oV({},r),{value:n.get(t)}))),e=>B.createElement(cee,oV({},e))),[n])}const Rke=B.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=mke,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:c,legacy:f,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:w,camera:A,scene:E,onPointerMissed:C,onCreated:M,...P},O){B.useMemo(()=>qQ(NBe),[]);const k=Pke(),[D,I]=gke({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=B.useRef(null),W=B.useRef(null);B.useImperativeHandle(O,()=>L.current);const q=YQ(C),[K,ie]=B.useState(!1),[V,J]=B.useState(!1);if(K)throw K;if(V)throw V;const H=B.useRef(null);p_(()=>{const ne=L.current;I.width>0&&I.height>0&&ne&&(H.current||(H.current=dke(ne)),H.current.configure({gl:s,events:o,shadows:u,linear:d,flat:c,legacy:f,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:w,camera:A,scene:E,size:I,onPointerMissed:(...Z)=>q.current==null?void 0:q.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(a?KBe(a)?a.current:a:W.current),l&&Z.setEvents({compute:(oe,ye)=>{const Be=oe[l+"X"],Xe=oe[l+"Y"];ye.pointer.set(Be/ye.size.width*2-1,-(Xe/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),M?.(Z)}}),H.current.render(p.jsx(k,{children:p.jsx(JQ,{set:J,children:p.jsx(B.Suspense,{fallback:p.jsx(YBe,{set:ie}),children:e??null})})})))}),B.useEffect(()=>{const ne=L.current;if(ne)return()=>see(ne)},[]);const Y=a?"none":"auto";return p.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...i},...P,children:p.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:p.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}),Nke=B.forwardRef(function(e,t){return p.jsx(cee,{children:p.jsx(Rke,{...e,ref:t})})}),uV=n=>{let e;const t=new Set,r=(u,d)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const f=e;e=d??(typeof c!="object"||c===null)?c:Object.assign({},e,c),t.forEach(m=>m(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,i,a);return a},Ike=(n=>n?uV(n):uV),Oke=n=>n;function Fke(n,e=Oke){const t=ue.useSyncExternalStore(n.subscribe,ue.useCallback(()=>e(n.getState()),[n,e]),ue.useCallback(()=>e(n.getInitialState()),[n,e]));return ue.useDebugValue(t),t}const Dke=n=>{const e=Ike(n),t=r=>Fke(e,r);return Object.assign(t,e),t},Bke=(n=>Dke);function kke(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const eF=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return eF(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return eF(r)(t)}}}},Lke=(n,e)=>(t,r,i)=>{let s={storage:kke(()=>localStorage),partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...b)},r,i);const d=()=>{const b=s.partialize({...r()});return u.setItem(s.name,{state:b,version:s.version})},c=i.setState;i.setState=(b,y)=>(c(b,y),d());const f=n((...b)=>(t(...b),d()),r,i);i.getInitialState=()=>f;let m;const v=()=>{var b,y;if(!u)return;o=!1,a.forEach(A=>{var E;return A((E=r())!=null?E:f)});const w=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(b=r())!=null?b:f))||void 0;return eF(u.getItem.bind(u))(s.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==s.version){if(s.migrate){const E=s.migrate(A.state,A.version);return E instanceof Promise?E.then(C=>[!0,C]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var E;const[C,M]=A;if(m=s.merge(M,(E=r())!=null?E:f),t(m,!0),C)return d()}).then(()=>{w?.(m,void 0),m=r(),o=!0,l.forEach(A=>A(m))}).catch(A=>{w?.(void 0,A)})};return i.persist={setOptions:b=>{s={...s,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},s.skipHydration||v(),m||f},jke=Lke,fk=parseInt(Zb.replace(/\D+/g,""));function dV(n,e){if(e===MZ)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===JA||e===AB){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===JA)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var hl=Uint8Array,jf=Uint16Array,tF=Uint32Array,uee=new hl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dee=new hl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Uke=new hl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fee=function(n,e){for(var t=new jf(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new tF(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},hee=fee(uee,2),pee=hee[0],zke=hee[1];pee[28]=258,zke[258]=28;var Hke=fee(dee,0),Gke=Hke[0],nF=new jf(32768);for(var fi=0;fi<32768;++fi){var Sf=(fi&43690)>>>1|(fi&21845)<<1;Sf=(Sf&52428)>>>2|(Sf&13107)<<2,Sf=(Sf&61680)>>>4|(Sf&3855)<<4,nF[fi]=((Sf&65280)>>>8|(Sf&255)<<8)>>>1}var vx=(function(n,e,t){for(var r=n.length,i=0,s=new jf(e);i<r;++i)++s[n[i]-1];var o=new jf(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new jf(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],d=e-n[i],c=o[n[i]-1]++<<d,f=c|(1<<d)-1;c<=f;++c)a[nF[c]>>>l]=u}else for(a=new jf(r),i=0;i<r;++i)n[i]&&(a[i]=nF[o[n[i]-1]++]>>>15-n[i]);return a}),m_=new hl(288);for(var fi=0;fi<144;++fi)m_[fi]=8;for(var fi=144;fi<256;++fi)m_[fi]=9;for(var fi=256;fi<280;++fi)m_[fi]=7;for(var fi=280;fi<288;++fi)m_[fi]=8;var mee=new hl(32);for(var fi=0;fi<32;++fi)mee[fi]=5;var Vke=vx(m_,9,1),Wke=vx(mee,5,1),y3=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Jl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},x3=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},$ke=function(n){return(n/8|0)+(n&7&&1)},qke=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof jf?jf:n instanceof tF?tF:hl)(t-e);return r.set(n.subarray(e,t)),r},Xke=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new hl(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new hl(r*3));var o=function(we){var Ae=e.length;if(we>Ae){var ke=new hl(Math.max(Ae*2,we));ke.set(e),e=ke}},a=t.f||0,l=t.p||0,u=t.b||0,d=t.l,c=t.d,f=t.m,m=t.n,v=r*8;do{if(!d){t.f=a=Jl(n,l,1);var b=Jl(n,l+1,3);if(l+=3,b)if(b==1)d=Vke,c=Wke,f=9,m=5;else if(b==2){var E=Jl(n,l,31)+257,C=Jl(n,l+10,15)+4,M=E+Jl(n,l+5,31)+1;l+=14;for(var P=new hl(M),O=new hl(19),k=0;k<C;++k)O[Uke[k]]=Jl(n,l+k*3,7);l+=C*3;for(var D=y3(O),I=(1<<D)-1,L=vx(O,D,1),k=0;k<M;){var W=L[Jl(n,l,I)];l+=W&15;var y=W>>>4;if(y<16)P[k++]=y;else{var q=0,K=0;for(y==16?(K=3+Jl(n,l,3),l+=2,q=P[k-1]):y==17?(K=3+Jl(n,l,7),l+=3):y==18&&(K=11+Jl(n,l,127),l+=7);K--;)P[k++]=q}}var ie=P.subarray(0,E),V=P.subarray(E);f=y3(ie),m=y3(V),d=vx(ie,f,1),c=vx(V,m,1)}else throw"invalid block type";else{var y=$ke(l)+4,w=n[y-4]|n[y-3]<<8,A=y+w;if(A>r){if(s)throw"unexpected EOF";break}i&&o(u+w),e.set(n.subarray(y,A),u),t.b=u+=w,t.p=l=A*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var J=(1<<f)-1,H=(1<<m)-1,Y=l;;Y=l){var q=d[x3(n,l)&J],ne=q>>>4;if(l+=q&15,l>v){if(s)throw"unexpected EOF";break}if(!q)throw"invalid length/literal";if(ne<256)e[u++]=ne;else if(ne==256){Y=l,d=null;break}else{var Z=ne-254;if(ne>264){var k=ne-257,oe=uee[k];Z=Jl(n,l,(1<<oe)-1)+pee[k],l+=oe}var ye=c[x3(n,l)&H],Be=ye>>>4;if(!ye)throw"invalid distance";l+=ye&15;var V=Gke[Be];if(Be>3){var oe=dee[Be];V+=x3(n,l)&(1<<oe)-1,l+=oe}if(l>v){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var Xe=u+Z;u<Xe;u+=4)e[u]=e[u-V],e[u+1]=e[u+1-V],e[u+2]=e[u+2-V],e[u+3]=e[u+3-V];u=Xe}}t.l=d,t.p=Y,t.b=u,d&&(a=1,t.m=f,t.d=c,t.n=m)}while(!a);return u==e.length?e:qke(e,0,u)},Kke=new hl(0),Yke=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ew(n,e){return Xke((Yke(n),n.subarray(2,-4)),e)}var Jke=typeof TextDecoder<"u"&&new TextDecoder,Zke=0;try{Jke.decode(Kke,{stream:!0}),Zke=1}catch{}const Qke=n=>n&&n.isCubeTexture;class eLe extends Pi{constructor(e,t){var r,i;const s=Qke(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),d=3*Math.max(u,112),c=4*u,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/c}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${fk>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},y=new u_(1,16),w=new Xo({uniforms:b,fragmentShader:v,vertexShader:m,side:fl});super(y,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var tLe=Object.defineProperty,nLe=(n,e,t)=>e in n?tLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rLe=(n,e,t)=>(nLe(n,e+"",t),t);class iLe{constructor(){rLe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var sLe=Object.defineProperty,oLe=(n,e,t)=>e in n?sLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fn=(n,e,t)=>(oLe(n,typeof e!="symbol"?e+"":e,t),t);const Cw=new bm,fV=new id,aLe=Math.cos(70*(Math.PI/180)),hV=(n,e)=>(n%e+e)%e;let lLe=class extends iLe{constructor(e,t){super(),Fn(this,"object"),Fn(this,"domElement"),Fn(this,"enabled",!0),Fn(this,"target",new de),Fn(this,"minDistance",0),Fn(this,"maxDistance",1/0),Fn(this,"minZoom",0),Fn(this,"maxZoom",1/0),Fn(this,"minPolarAngle",0),Fn(this,"maxPolarAngle",Math.PI),Fn(this,"minAzimuthAngle",-1/0),Fn(this,"maxAzimuthAngle",1/0),Fn(this,"enableDamping",!1),Fn(this,"dampingFactor",.05),Fn(this,"enableZoom",!0),Fn(this,"zoomSpeed",1),Fn(this,"enableRotate",!0),Fn(this,"rotateSpeed",1),Fn(this,"enablePan",!0),Fn(this,"panSpeed",1),Fn(this,"screenSpacePanning",!0),Fn(this,"keyPanSpeed",7),Fn(this,"zoomToCursor",!1),Fn(this,"autoRotate",!1),Fn(this,"autoRotateSpeed",2),Fn(this,"reverseOrbit",!1),Fn(this,"reverseHorizontalOrbit",!1),Fn(this,"reverseVerticalOrbit",!1),Fn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Fn(this,"mouseButtons",{LEFT:gp.ROTATE,MIDDLE:gp.DOLLY,RIGHT:gp.PAN}),Fn(this,"touches",{ONE:vp.ROTATE,TWO:vp.DOLLY_PAN}),Fn(this,"target0"),Fn(this,"position0"),Fn(this,"zoom0"),Fn(this,"_domElementKeyEvents",null),Fn(this,"getPolarAngle"),Fn(this,"getAzimuthalAngle"),Fn(this,"setPolarAngle"),Fn(this,"setAzimuthalAngle"),Fn(this,"getDistance"),Fn(this,"getZoomScale"),Fn(this,"listenToKeyEvents"),Fn(this,"stopListenToKeyEvents"),Fn(this,"saveState"),Fn(this,"reset"),Fn(this,"update"),Fn(this,"connect"),Fn(this,"dispose"),Fn(this,"dollyIn"),Fn(this,"dollyOut"),Fn(this,"getScale"),Fn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=_e=>{let Pe=hV(_e,2*Math.PI),ht=d.phi;ht<0&&(ht+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let he=Math.abs(Pe-ht);2*Math.PI-he<he&&(Pe<ht?Pe+=2*Math.PI:ht+=2*Math.PI),c.phi=Pe-ht,r.update()},this.setAzimuthalAngle=_e=>{let Pe=hV(_e,2*Math.PI),ht=d.theta;ht<0&&(ht+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let he=Math.abs(Pe-ht);2*Math.PI-he<he&&(Pe<ht?Pe+=2*Math.PI:ht+=2*Math.PI),c.theta=Pe-ht,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=_e=>{_e.addEventListener("keydown",Ke),this._domElementKeyEvents=_e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ke),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const _e=new de,Pe=new de(0,1,0),ht=new Us().setFromUnitVectors(e.up,Pe),he=ht.clone().invert(),Le=new de,lt=new Us,vt=2*Math.PI;return function(){const je=r.object.position;ht.setFromUnitVectors(e.up,Pe),he.copy(ht).invert(),_e.copy(je).sub(r.target),_e.applyQuaternion(ht),d.setFromVector3(_e),r.autoRotate&&l===a.NONE&&K(W()),r.enableDamping?(d.theta+=c.theta*r.dampingFactor,d.phi+=c.phi*r.dampingFactor):(d.theta+=c.theta,d.phi+=c.phi);let _t=r.minAzimuthAngle,jt=r.maxAzimuthAngle;isFinite(_t)&&isFinite(jt)&&(_t<-Math.PI?_t+=vt:_t>Math.PI&&(_t-=vt),jt<-Math.PI?jt+=vt:jt>Math.PI&&(jt-=vt),_t<=jt?d.theta=Math.max(_t,Math.min(jt,d.theta)):d.theta=d.theta>(_t+jt)/2?Math.max(_t,d.theta):Math.min(jt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&D||r.object.isOrthographicCamera?d.radius=ye(d.radius):d.radius=ye(d.radius*f),_e.setFromSpherical(d),_e.applyQuaternion(he),je.copy(r.target).add(_e),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(c.theta*=1-r.dampingFactor,c.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(c.set(0,0,0),m.set(0,0,0));let _n=!1;if(r.zoomToCursor&&D){let Sn=null;if(r.object instanceof Li&&r.object.isPerspectiveCamera){const An=_e.length();Sn=ye(An*f);const kn=An-Sn;r.object.position.addScaledVector(O,kn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const An=new de(k.x,k.y,0);An.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),_n=!0;const kn=new de(k.x,k.y,0);kn.unproject(r.object),r.object.position.sub(kn).add(An),r.object.updateMatrixWorld(),Sn=_e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Sn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Sn).add(r.object.position):(Cw.origin.copy(r.object.position),Cw.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Cw.direction))<aLe?e.lookAt(r.target):(fV.setFromNormalAndCoplanarPoint(r.object.up,r.target),Cw.intersectPlane(fV,r.target))))}else r.object instanceof nu&&r.object.isOrthographicCamera&&(_n=f!==1,_n&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,D=!1,_n||Le.distanceToSquared(r.object.position)>u||8*(1-lt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Le.copy(r.object.position),lt.copy(r.object.quaternion),_n=!1,!0):!1}})(),this.connect=_e=>{r.domElement=_e,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Vt),r.domElement.addEventListener("pointerdown",ft),r.domElement.addEventListener("pointercancel",te),r.domElement.addEventListener("wheel",pt)},this.dispose=()=>{var _e,Pe,ht,he,Le,lt;r.domElement&&(r.domElement.style.touchAction="auto"),(_e=r.domElement)==null||_e.removeEventListener("contextmenu",Vt),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",ft),(ht=r.domElement)==null||ht.removeEventListener("pointercancel",te),(he=r.domElement)==null||he.removeEventListener("wheel",pt),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointermove",ae),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointerup",te),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ke)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new XO,c=new XO;let f=1;const m=new de,v=new xt,b=new xt,y=new xt,w=new xt,A=new xt,E=new xt,C=new xt,M=new xt,P=new xt,O=new de,k=new xt;let D=!1;const I=[],L={};function W(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function K(_e){r.reverseOrbit||r.reverseHorizontalOrbit?c.theta+=_e:c.theta-=_e}function ie(_e){r.reverseOrbit||r.reverseVerticalOrbit?c.phi+=_e:c.phi-=_e}const V=(()=>{const _e=new de;return function(ht,he){_e.setFromMatrixColumn(he,0),_e.multiplyScalar(-ht),m.add(_e)}})(),J=(()=>{const _e=new de;return function(ht,he){r.screenSpacePanning===!0?_e.setFromMatrixColumn(he,1):(_e.setFromMatrixColumn(he,0),_e.crossVectors(r.object.up,_e)),_e.multiplyScalar(ht),m.add(_e)}})(),H=(()=>{const _e=new de;return function(ht,he){const Le=r.domElement;if(Le&&r.object instanceof Li&&r.object.isPerspectiveCamera){const lt=r.object.position;_e.copy(lt).sub(r.target);let vt=_e.length();vt*=Math.tan(r.object.fov/2*Math.PI/180),V(2*ht*vt/Le.clientHeight,r.object.matrix),J(2*he*vt/Le.clientHeight,r.object.matrix)}else Le&&r.object instanceof nu&&r.object.isOrthographicCamera?(V(ht*(r.object.right-r.object.left)/r.object.zoom/Le.clientWidth,r.object.matrix),J(he*(r.object.top-r.object.bottom)/r.object.zoom/Le.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Y(_e){r.object instanceof Li&&r.object.isPerspectiveCamera||r.object instanceof nu&&r.object.isOrthographicCamera?f=_e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ne(_e){Y(f/_e)}function Z(_e){Y(f*_e)}function oe(_e){if(!r.zoomToCursor||!r.domElement)return;D=!0;const Pe=r.domElement.getBoundingClientRect(),ht=_e.clientX-Pe.left,he=_e.clientY-Pe.top,Le=Pe.width,lt=Pe.height;k.x=ht/Le*2-1,k.y=-(he/lt)*2+1,O.set(k.x,k.y,1).unproject(r.object).sub(r.object.position).normalize()}function ye(_e){return Math.max(r.minDistance,Math.min(r.maxDistance,_e))}function Be(_e){v.set(_e.clientX,_e.clientY)}function Xe(_e){oe(_e),C.set(_e.clientX,_e.clientY)}function we(_e){w.set(_e.clientX,_e.clientY)}function Ae(_e){b.set(_e.clientX,_e.clientY),y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(K(2*Math.PI*y.x/Pe.clientHeight),ie(2*Math.PI*y.y/Pe.clientHeight)),v.copy(b),r.update()}function ke(_e){M.set(_e.clientX,_e.clientY),P.subVectors(M,C),P.y>0?ne(q()):P.y<0&&Z(q()),C.copy(M),r.update()}function Oe(_e){A.set(_e.clientX,_e.clientY),E.subVectors(A,w).multiplyScalar(r.panSpeed),H(E.x,E.y),w.copy(A),r.update()}function Ge(_e){oe(_e),_e.deltaY<0?Z(q()):_e.deltaY>0&&ne(q()),r.update()}function et(_e){let Pe=!1;switch(_e.code){case r.keys.UP:H(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:H(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:H(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:H(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(_e.preventDefault(),r.update())}function ze(){if(I.length==1)v.set(I[0].pageX,I[0].pageY);else{const _e=.5*(I[0].pageX+I[1].pageX),Pe=.5*(I[0].pageY+I[1].pageY);v.set(_e,Pe)}}function nt(){if(I.length==1)w.set(I[0].pageX,I[0].pageY);else{const _e=.5*(I[0].pageX+I[1].pageX),Pe=.5*(I[0].pageY+I[1].pageY);w.set(_e,Pe)}}function Fe(){const _e=I[0].pageX-I[1].pageX,Pe=I[0].pageY-I[1].pageY,ht=Math.sqrt(_e*_e+Pe*Pe);C.set(0,ht)}function ce(){r.enableZoom&&Fe(),r.enablePan&&nt()}function rt(){r.enableZoom&&Fe(),r.enableRotate&&ze()}function ct(_e){if(I.length==1)b.set(_e.pageX,_e.pageY);else{const ht=Zt(_e),he=.5*(_e.pageX+ht.x),Le=.5*(_e.pageY+ht.y);b.set(he,Le)}y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(K(2*Math.PI*y.x/Pe.clientHeight),ie(2*Math.PI*y.y/Pe.clientHeight)),v.copy(b)}function wt(_e){if(I.length==1)A.set(_e.pageX,_e.pageY);else{const Pe=Zt(_e),ht=.5*(_e.pageX+Pe.x),he=.5*(_e.pageY+Pe.y);A.set(ht,he)}E.subVectors(A,w).multiplyScalar(r.panSpeed),H(E.x,E.y),w.copy(A)}function Te(_e){const Pe=Zt(_e),ht=_e.pageX-Pe.x,he=_e.pageY-Pe.y,Le=Math.sqrt(ht*ht+he*he);M.set(0,Le),P.set(0,Math.pow(M.y/C.y,r.zoomSpeed)),ne(P.y),C.copy(M)}function tt(_e){r.enableZoom&&Te(_e),r.enablePan&&wt(_e)}function st(_e){r.enableZoom&&Te(_e),r.enableRotate&&ct(_e)}function ft(_e){var Pe,ht;r.enabled!==!1&&(I.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",ae),(ht=r.domElement)==null||ht.ownerDocument.addEventListener("pointerup",te)),Lt(_e),_e.pointerType==="touch"?Jt(_e):Ne(_e))}function ae(_e){r.enabled!==!1&&(_e.pointerType==="touch"?It(_e):Ye(_e))}function te(_e){var Pe,ht,he;yt(_e),I.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(_e.pointerId),(ht=r.domElement)==null||ht.ownerDocument.removeEventListener("pointermove",ae),(he=r.domElement)==null||he.ownerDocument.removeEventListener("pointerup",te)),r.dispatchEvent(o),l=a.NONE}function Ne(_e){let Pe;switch(_e.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case gp.DOLLY:if(r.enableZoom===!1)return;Xe(_e),l=a.DOLLY;break;case gp.ROTATE:if(_e.ctrlKey||_e.metaKey||_e.shiftKey){if(r.enablePan===!1)return;we(_e),l=a.PAN}else{if(r.enableRotate===!1)return;Be(_e),l=a.ROTATE}break;case gp.PAN:if(_e.ctrlKey||_e.metaKey||_e.shiftKey){if(r.enableRotate===!1)return;Be(_e),l=a.ROTATE}else{if(r.enablePan===!1)return;we(_e),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ye(_e){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Ae(_e);break;case a.DOLLY:if(r.enableZoom===!1)return;ke(_e);break;case a.PAN:if(r.enablePan===!1)return;Oe(_e);break}}function pt(_e){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(_e.preventDefault(),r.dispatchEvent(s),Ge(_e),r.dispatchEvent(o))}function Ke(_e){r.enabled===!1||r.enablePan===!1||et(_e)}function Jt(_e){switch(bt(_e),I.length){case 1:switch(r.touches.ONE){case vp.ROTATE:if(r.enableRotate===!1)return;ze(),l=a.TOUCH_ROTATE;break;case vp.PAN:if(r.enablePan===!1)return;nt(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case vp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ce(),l=a.TOUCH_DOLLY_PAN;break;case vp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;rt(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function It(_e){switch(bt(_e),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ct(_e),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;wt(_e),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;tt(_e),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;st(_e),r.update();break;default:l=a.NONE}}function Vt(_e){r.enabled!==!1&&_e.preventDefault()}function Lt(_e){I.push(_e)}function yt(_e){delete L[_e.pointerId];for(let Pe=0;Pe<I.length;Pe++)if(I[Pe].pointerId==_e.pointerId){I.splice(Pe,1);return}}function bt(_e){let Pe=L[_e.pointerId];Pe===void 0&&(Pe=new xt,L[_e.pointerId]=Pe),Pe.set(_e.pageX,_e.pageY)}function Zt(_e){const Pe=_e.pointerId===I[0].pointerId?I[1]:I[0];return L[Pe.pointerId]}this.dollyIn=(_e=q())=>{Z(_e),r.update()},this.dollyOut=(_e=q())=>{ne(_e),r.update()},this.getScale=()=>f,this.setScale=_e=>{Y(_e),r.update()},this.getZoomScale=()=>q(),t!==void 0&&this.connect(t),this.update()}};function nE(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Fp="srgb",vd="srgb-linear",pV=3001,cLe=3e3;class hk extends ro{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new pLe(t)}),this.register(function(t){return new mLe(t)}),this.register(function(t){return new ALe(t)}),this.register(function(t){return new ELe(t)}),this.register(function(t){return new CLe(t)}),this.register(function(t){return new vLe(t)}),this.register(function(t){return new yLe(t)}),this.register(function(t){return new xLe(t)}),this.register(function(t){return new bLe(t)}),this.register(function(t){return new hLe(t)}),this.register(function(t){return new _Le(t)}),this.register(function(t){return new gLe(t)}),this.register(function(t){return new SLe(t)}),this.register(function(t){return new wLe(t)}),this.register(function(t){return new dLe(t)}),this.register(function(t){return new MLe(t)}),this.register(function(t){return new TLe(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Vf.extractUrlBase(e);o=Vf.resolveURL(u,this.path)}else o=Vf.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new no(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(nE(new Uint8Array(e.slice(0,4)))===gee){try{o[vr.KHR_BINARY_GLTF]=new PLe(e)}catch(d){i&&i(d);return}s=JSON.parse(o[vr.KHR_BINARY_GLTF].content)}else s=JSON.parse(nE(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new HLe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],c=s.extensionsRequired||[];switch(d){case vr.KHR_MATERIALS_UNLIT:o[d]=new fLe;break;case vr.KHR_DRACO_MESH_COMPRESSION:o[d]=new RLe(s,this.dracoLoader);break;case vr.KHR_TEXTURE_TRANSFORM:o[d]=new NLe;break;case vr.KHR_MESH_QUANTIZATION:o[d]=new ILe;break;default:c.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function uLe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const vr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class dLe{constructor(e){this.parser=e,this.name=vr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new Xt(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],vd);const c=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new QB(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new ZB(d),u.distance=c;break;case"spot":u=new JB(d),u.distance=c,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,rd(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class fLe{constructor(){this.name=vr.KHR_MATERIALS_UNLIT}getMaterialType(){return da}extendParams(e,t,r){const i=[];e.color=new Xt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],vd),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Fp))}return Promise.all(i)}}class hLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class pLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new xt(a,a)}return Promise.all(s)}}class mLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class gLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class vLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Xt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],vd)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Fp)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class yLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class xLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Xt().setRGB(a[0],a[1],a[2],vd),Promise.all(s)}}class bLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class _Le{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Xt().setRGB(a[0],a[1],a[2],vd),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Fp)),Promise.all(s)}}class wLe{constructor(e){this.parser=e,this.name=vr.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class SLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class ALe{constructor(e){this.parser=e,this.name=vr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class ELe{constructor(e){this.parser=e,this.name=vr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class CLe{constructor(e){this.parser=e,this.name=vr.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class MLe{constructor(e){this.name=vr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,d=i.count,c=i.byteStride,f=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,c,f,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*c);return o.decodeGltfBuffer(new Uint8Array(m),d,c,f,i.mode,i.filter),m})})}else return null}}class TLe{constructor(e){this.name=vr.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==ll.TRIANGLES&&u.mode!==ll.TRIANGLE_STRIP&&u.mode!==ll.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(d=>(l[u]=d,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const d=u.pop(),c=d.isGroup?d.children:[d],f=u[0].count,m=[];for(const v of c){const b=new Bn,y=new de,w=new Us,A=new de(1,1,1),E=new OB(v.geometry,v.material,f);for(let C=0;C<f;C++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&w.fromBufferAttribute(l.ROTATION,C),l.SCALE&&A.fromBufferAttribute(l.SCALE,C),E.setMatrixAt(C,b.compose(y,w,A));for(const C in l)if(C==="_COLOR_0"){const M=l[C];E.instanceColor=new am(M.array,M.itemSize,M.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&v.geometry.setAttribute(C,l[C]);Sr.prototype.copy.call(E,v),this.parser.assignFinalMaterial(E),m.push(E)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const gee="glTF",Gy=12,mV={JSON:1313821514,BIN:5130562};class PLe{constructor(e){this.name=vr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Gy);if(this.header={magic:nE(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==gee)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Gy,i=new DataView(e,Gy);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===mV.JSON){const l=new Uint8Array(e,Gy+s,o);this.content=nE(l)}else if(a===mV.BIN){const l=Gy+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class RLe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const c=rF[d]||d.toLowerCase();a[c]=o[d]}for(const d in e.attributes){const c=rF[d]||d.toLowerCase();if(o[d]!==void 0){const f=r.accessors[e.attributes[d]],m=u0[f.componentType];u[c]=m.name,l[c]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(c,f){i.decodeDracoFile(d,function(m){for(const v in m.attributes){const b=m.attributes[v],y=l[v];y!==void 0&&(b.normalized=y)}c(m)},a,u,vd,f)})})}}class NLe{constructor(){this.name=vr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ILe{constructor(){this.name=vr.KHR_MESH_QUANTIZATION}}class vee extends Av{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,d=i-t,c=(r-t)/d,f=c*c,m=f*c,v=e*u,b=v-u,y=-2*m+3*f,w=m-f,A=1-y,E=w-f+c;for(let C=0;C!==a;C++){const M=o[b+C+a],P=o[b+C+l]*d,O=o[v+C+a],k=o[v+C]*d;s[C]=A*M+E*P+y*O+w*k}return s}}const OLe=new Us;class FLe extends vee{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return OLe.fromArray(s).normalize().toArray(s),s}}const ll={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},gV={9728:js,9729:Rr,9984:TC,9985:l0,9986:Tp,9987:ml},vV={33071:Mi,33648:H0,10497:Yf},b3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},rF={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...fk>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Af={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},DLe={CUBICSPLINE:void 0,LINEAR:X0,STEP:q0},_3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function BLe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new h_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:uu})),n.DefaultMaterial}function fp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function rd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function kLe(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const c=e[u];if(c.POSITION!==void 0&&(r=!0),c.NORMAL!==void 0&&(i=!0),c.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,d=e.length;u<d;u++){const c=e[u];if(r){const f=c.POSITION!==void 0?t.getDependency("accessor",c.POSITION):n.attributes.position;o.push(f)}if(i){const f=c.NORMAL!==void 0?t.getDependency("accessor",c.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=c.COLOR_0!==void 0?t.getDependency("accessor",c.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],c=u[1],f=u[2];return r&&(n.morphAttributes.position=d),i&&(n.morphAttributes.normal=c),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function LLe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function jLe(n){let e;const t=n.extensions&&n.extensions[vr.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+w3(t.attributes):e=n.indices+":"+w3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+w3(n.targets[r]);return e}function w3(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function iF(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ULe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const zLe=new Bn;class HLe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new uLe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new SQ(this.options.manager):this.textureLoader=new NQ(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new no(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return fp(s,a,i),rd(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[vr.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Vf.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=b3[i.type],a=u0[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Nr(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=b3[i.type],u=u0[i.componentType],d=u.BYTES_PER_ELEMENT,c=d*l,f=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let b,y;if(m&&m!==c){const w=Math.floor(f/m),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let E=t.cache.get(A);E||(b=new u(a,w*m,i.count*m/d),E=new o_(b,m/d),t.cache.add(A,E)),y=new Zf(E,l,f%m/d,v)}else a===null?b=new u(i.count*l):b=new u(a,f,i.count*l),y=new Nr(b,l,v);if(i.sparse!==void 0){const w=b3.SCALAR,A=u0[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,C=i.sparse.values.byteOffset||0,M=new A(o[1],E,i.sparse.count*w),P=new u(o[2],C,i.sparse.count*l);a!==null&&(y=new Nr(y.array.slice(),y.itemSize,y.normalized));for(let O=0,k=M.length;O<k;O++){const D=M[O];if(y.setX(D,P[O*l]),l>=2&&y.setY(D,P[O*l+1]),l>=3&&y.setZ(D,P[O*l+2]),l>=4&&y.setW(D,P[O*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return d.magFilter=gV[f.magFilter]||Rr,d.minFilter=gV[f.minFilter]||ml,d.wrapS=vV[f.wrapS]||Yf,d.wrapT=vV[f.wrapT]||Yf,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(c=>c.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(c){u=!0;const f=new Blob([c],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(c){return new Promise(function(f,m){let v=f;t.isImageBitmapLoader===!0&&(v=function(b){const y=new zr(b);y.needsUpdate=!0,f(y)}),t.load(Vf.resolveURL(c,s.path),v,void 0,m)})}).then(function(c){return u===!0&&a.revokeObjectURL(l),rd(c,o),c.userData.mimeType=o.mimeType||ULe(o.uri),c}).catch(function(c){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),c});return this.sourceCache[e]=d,d}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[vr.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[vr.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[vr.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===pV?Fp:vd),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Fp?pV:cLe),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new GC,Ss.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Co,Ss.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return h_}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[vr.KHR_MATERIALS_UNLIT]){const c=i[vr.KHR_MATERIALS_UNLIT];o=c.getMaterialType(),u.push(c.extendParams(a,s,t))}else{const c=s.pbrMetallicRoughness||{};if(a.color=new Xt(1,1,1),a.opacity=1,Array.isArray(c.baseColorFactor)){const f=c.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],vd),a.opacity=f[3]}c.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",c.baseColorTexture,Fp)),a.metalness=c.metallicFactor!==void 0?c.metallicFactor:1,a.roughness=c.roughnessFactor!==void 0?c.roughnessFactor:1,c.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",c.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",c.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=fl);const d=s.alphaMode||_3.OPAQUE;if(d===_3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===_3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==da&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new xt(1,1),s.normalTexture.scale!==void 0)){const c=s.normalTexture.scale;a.normalScale.set(c,c)}if(s.occlusionTexture!==void 0&&o!==da&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==da){const c=s.emissiveFactor;a.emissive=new Xt().setRGB(c[0],c[1],c[2],vd)}return s.emissiveTexture!==void 0&&o!==da&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Fp)),Promise.all(u).then(function(){const c=new o(a);return s.name&&(c.name=s.name),rd(c,s),t.associations.set(c,{materials:e}),s.extensions&&fp(i,c,s),c})}createUniqueName(e){const t=Cr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[vr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return yV(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=jLe(u),c=i[d];if(c)o.push(c.promise);else{let f;u.extensions&&u.extensions[vr.KHR_DRACO_MESH_COMPRESSION]?f=s(u):f=yV(new Yn,u,t),i[d]={primitive:u,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?BLe(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],c=[];for(let m=0,v=d.length;m<v;m++){const b=d[m],y=o[m];let w;const A=u[m];if(y.mode===ll.TRIANGLES||y.mode===ll.TRIANGLE_STRIP||y.mode===ll.TRIANGLE_FAN||y.mode===void 0)w=s.isSkinnedMesh===!0?new IB(b,A):new Pi(b,A),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),y.mode===ll.TRIANGLE_STRIP?w.geometry=dV(w.geometry,AB):y.mode===ll.TRIANGLE_FAN&&(w.geometry=dV(w.geometry,JA));else if(y.mode===ll.LINES)w=new yc(b,A);else if(y.mode===ll.LINE_STRIP)w=new Ad(b,A);else if(y.mode===ll.LINE_LOOP)w=new FB(b,A);else if(y.mode===ll.POINTS)w=new DB(b,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(w.geometry.morphAttributes).length>0&&LLe(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),rd(w,s),y.extensions&&fp(i,w,y),t.assignFinalMaterial(w),c.push(w)}for(let m=0,v=c.length;m<v;m++)t.associations.set(c[m],{meshes:e,primitives:m});if(c.length===1)return s.extensions&&fp(i,c[0],s),c[0];const f=new dd;s.extensions&&fp(i,f,s),t.associations.set(f,{meshes:e});for(let m=0,v=c.length;m<v;m++)f.add(c[m]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Li(UZ.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new nu(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),rd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,d=o.length;u<d;u++){const c=o[u];if(c){a.push(c);const f=new Bn;s!==null&&f.fromArray(s.array,u*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new a_(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],u=[],d=[];for(let c=0,f=i.channels.length;c<f;c++){const m=i.channels[c],v=i.samplers[m.sampler],b=m.target,y=b.node,w=i.parameters!==void 0?i.parameters[v.input]:v.input,A=i.parameters!==void 0?i.parameters[v.output]:v.output;b.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",w)),l.push(this.getDependency("accessor",A)),u.push(v),d.push(b))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(c){const f=c[0],m=c[1],v=c[2],b=c[3],y=c[4],w=[];for(let A=0,E=f.length;A<E;A++){const C=f[A],M=m[A],P=v[A],O=b[A],k=y[A];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const D=r._createAnimationTracks(C,M,P,O,k);if(D)for(let I=0;I<D.length;I++)w.push(D[I])}return new ev(s,void 0,w)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,d=a.length;u<d;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const d=u[0],c=u[1],f=u[2];f!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(f,zLe)});for(let m=0,v=c.length;m<v;m++)d.add(c[m]);return d})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let d;if(s.isBone===!0?d=new zC:u.length>1?d=new dd:u.length===1?d=u[0]:d=new Sr,d!==u[0])for(let c=0,f=u.length;c<f;c++)d.add(u[c]);if(s.name&&(d.userData.name=s.name,d.name=o),rd(d,s),s.extensions&&fp(r,d,s),s.matrix!==void 0){const c=new Bn;c.fromArray(s.matrix),d.applyMatrix4(c)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new dd;r.name&&(s.name=i.createUniqueName(r.name)),rd(s,r),r.extensions&&fp(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,c=l.length;d<c;d++)s.add(l[d]);const u=d=>{const c=new Map;for(const[f,m]of i.associations)(f instanceof Ss||f instanceof zr)&&c.set(f,m);return d.traverse(f=>{const m=i.associations.get(f);m!=null&&c.set(f,m)}),c};return i.associations=u(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Af[s.path]===Af.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(a);let u;switch(Af[s.path]){case Af.weights:u=cm;break;case Af.rotation:u=um;break;case Af.position:case Af.scale:u=dm;break;default:switch(r.itemSize){case 1:u=cm;break;case 2:case 3:default:u=dm;break}break}const d=i.interpolation!==void 0?DLe[i.interpolation]:X0,c=this._getArrayFromAccessor(r);for(let f=0,m=l.length;f<m;f++){const v=new u(l[f]+"."+Af[s.path],t.array,c,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=iF(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof um?FLe:vee;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function GLe(n,e,t){const r=e.attributes,i=new zs;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new de(l[0],l[1],l[2]),new de(u[0],u[1],u[2])),a.normalized){const d=iF(u0[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new de,l=new de;for(let u=0,d=s.length;u<d;u++){const c=s[u];if(c.POSITION!==void 0){const f=t.json.accessors[c.POSITION],m=f.min,v=f.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),f.normalized){const b=iF(u0[f.componentType]);l.multiplyScalar(b)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Hs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function yV(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=rF[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return rd(n,e),GLe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?kLe(n,e.targets,t):n})}class VLe extends KB{constructor(e){super(e),this.type=ws}parse(e){const o=function(k,D){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(D||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(D||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(D||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(D||""))}},c=function(k,D,I){D=D||1024;let W=k.pos,q=-1,K=0,ie="",V=String.fromCharCode.apply(null,new Uint16Array(k.subarray(W,W+128)));for(;0>(q=V.indexOf(`
`))&&K<D&&W<k.byteLength;)ie+=V,K+=V.length,W+=128,V+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(W,W+128)));return-1<q?(k.pos+=K+q+1,ie+V.slice(0,q)):!1},f=function(k){const D=/^#\?(\S+)/,I=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,L=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,W=/^\s*FORMAT=(\S+)\s*$/,q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ie,V;for((k.pos>=k.byteLength||!(ie=c(k)))&&o(1,"no header found"),(V=ie.match(D))||o(3,"bad initial token"),K.valid|=1,K.programtype=V[1],K.string+=ie+`
`;ie=c(k),ie!==!1;){if(K.string+=ie+`
`,ie.charAt(0)==="#"){K.comments+=ie+`
`;continue}if((V=ie.match(I))&&(K.gamma=parseFloat(V[1])),(V=ie.match(L))&&(K.exposure=parseFloat(V[1])),(V=ie.match(W))&&(K.valid|=2,K.format=V[1]),(V=ie.match(q))&&(K.valid|=4,K.height=parseInt(V[1],10),K.width=parseInt(V[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||o(3,"missing format specifier"),K.valid&4||o(3,"missing image size specifier"),K},m=function(k,D,I){const L=D;if(L<8||L>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);L!==(k[2]<<8|k[3])&&o(3,"wrong scanline width");const W=new Uint8Array(4*D*I);W.length||o(4,"unable to allocate buffer space");let q=0,K=0;const ie=4*L,V=new Uint8Array(4),J=new Uint8Array(ie);let H=I;for(;H>0&&K<k.byteLength;){K+4>k.byteLength&&o(1),V[0]=k[K++],V[1]=k[K++],V[2]=k[K++],V[3]=k[K++],(V[0]!=2||V[1]!=2||(V[2]<<8|V[3])!=L)&&o(3,"bad rgbe scanline format");let Y=0,ne;for(;Y<ie&&K<k.byteLength;){ne=k[K++];const oe=ne>128;if(oe&&(ne-=128),(ne===0||Y+ne>ie)&&o(3,"bad scanline data"),oe){const ye=k[K++];for(let Be=0;Be<ne;Be++)J[Y++]=ye}else J.set(k.subarray(K,K+ne),Y),Y+=ne,K+=ne}const Z=L;for(let oe=0;oe<Z;oe++){let ye=0;W[q]=J[oe+ye],ye+=L,W[q+1]=J[oe+ye],ye+=L,W[q+2]=J[oe+ye],ye+=L,W[q+3]=J[oe+ye],q+=4}H--}return W},v=function(k,D,I,L){const W=k[D+3],q=Math.pow(2,W-128)/255;I[L+0]=k[D+0]*q,I[L+1]=k[D+1]*q,I[L+2]=k[D+2]*q,I[L+3]=1},b=function(k,D,I,L){const W=k[D+3],q=Math.pow(2,W-128)/255;I[L+0]=Np.toHalfFloat(Math.min(k[D+0]*q,65504)),I[L+1]=Np.toHalfFloat(Math.min(k[D+1]*q,65504)),I[L+2]=Np.toHalfFloat(Math.min(k[D+2]*q,65504)),I[L+3]=Np.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const w=f(y),A=w.width,E=w.height,C=m(y.subarray(y.pos),A,E);let M,P,O;switch(this.type){case Ti:O=C.length/4;const k=new Float32Array(O*4);for(let I=0;I<O;I++)v(C,I*4,k,I*4);M=k,P=Ti;break;case ws:O=C.length/4;const D=new Uint16Array(O*4);for(let I=0;I<O;I++)b(C,I*4,D,I*4);M=D,P=ws;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:A,height:E,data:M,header:w.string,gamma:w.gamma,exposure:w.exposure,type:P}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Ti:case ws:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Rr,o.magFilter=Rr,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const Vy=fk>=152;class WLe extends KB{constructor(e){super(e),this.type=ws}parse(e){const D=Math.pow(2.7182818,2.2);function I(Q,le){for(var Ee=0,Ve=0;Ve<65536;++Ve)(Ve==0||Q[Ve>>3]&1<<(Ve&7))&&(le[Ee++]=Ve);for(var ot=Ee-1;Ee<65536;)le[Ee++]=0;return ot}function L(Q){for(var le=0;le<16384;le++)Q[le]={},Q[le].len=0,Q[le].lit=0,Q[le].p=null}const W={l:0,c:0,lc:0};function q(Q,le,Ee,Ve,ot){for(;Ee<Q;)le=le<<8|Zt(Ve,ot),Ee+=8;Ee-=Q,W.l=le>>Ee&(1<<Q)-1,W.c=le,W.lc=Ee}const K=new Array(59);function ie(Q){for(var le=0;le<=58;++le)K[le]=0;for(var le=0;le<65537;++le)K[Q[le]]+=1;for(var Ee=0,le=58;le>0;--le){var Ve=Ee+K[le]>>1;K[le]=Ee,Ee=Ve}for(var le=0;le<65537;++le){var ot=Q[le];ot>0&&(Q[le]=ot|K[ot]++<<6)}}function V(Q,le,Ee,Ve,ot,it,Ft){for(var Mt=Ee,Ot=0,ee=0;ot<=it;ot++){if(Mt.value-Ee.value>Ve)return!1;q(6,Ot,ee,Q,Mt);var ve=W.l;if(Ot=W.c,ee=W.lc,Ft[ot]=ve,ve==63){if(Mt.value-Ee.value>Ve)throw"Something wrong with hufUnpackEncTable";q(8,Ot,ee,Q,Mt);var xe=W.l+6;if(Ot=W.c,ee=W.lc,ot+xe>it+1)throw"Something wrong with hufUnpackEncTable";for(;xe--;)Ft[ot++]=0;ot--}else if(ve>=59){var xe=ve-59+2;if(ot+xe>it+1)throw"Something wrong with hufUnpackEncTable";for(;xe--;)Ft[ot++]=0;ot--}}ie(Ft)}function J(Q){return Q&63}function H(Q){return Q>>6}function Y(Q,le,Ee,Ve){for(;le<=Ee;le++){var ot=H(Q[le]),it=J(Q[le]);if(ot>>it)throw"Invalid table entry";if(it>14){var Ft=Ve[ot>>it-14];if(Ft.len)throw"Invalid table entry";if(Ft.lit++,Ft.p){var Mt=Ft.p;Ft.p=new Array(Ft.lit);for(var Ot=0;Ot<Ft.lit-1;++Ot)Ft.p[Ot]=Mt[Ot]}else Ft.p=new Array(1);Ft.p[Ft.lit-1]=le}else if(it)for(var ee=0,Ot=1<<14-it;Ot>0;Ot--){var Ft=Ve[(ot<<14-it)+ee];if(Ft.len||Ft.p)throw"Invalid table entry";Ft.len=it,Ft.lit=le,ee++}}return!0}const ne={c:0,lc:0};function Z(Q,le,Ee,Ve){Q=Q<<8|Zt(Ee,Ve),le+=8,ne.c=Q,ne.lc=le}const oe={c:0,lc:0};function ye(Q,le,Ee,Ve,ot,it,Ft,Mt,Ot,ee){if(Q==le){Ve<8&&(Z(Ee,Ve,ot,Ft),Ee=ne.c,Ve=ne.lc),Ve-=8;var ve=Ee>>Ve,ve=new Uint8Array([ve])[0];if(Ot.value+ve>ee)return!1;for(var xe=Mt[Ot.value-1];ve-- >0;)Mt[Ot.value++]=xe}else if(Ot.value<ee)Mt[Ot.value++]=Q;else return!1;oe.c=Ee,oe.lc=Ve}function Be(Q){return Q&65535}function Xe(Q){var le=Be(Q);return le>32767?le-65536:le}const we={a:0,b:0};function Ae(Q,le){var Ee=Xe(Q),Ve=Xe(le),ot=Ve,it=Ee+(ot&1)+(ot>>1),Ft=it,Mt=it-ot;we.a=Ft,we.b=Mt}function ke(Q,le){var Ee=Be(Q),Ve=Be(le),ot=Ee-(Ve>>1)&65535,it=Ve+ot-32768&65535;we.a=it,we.b=ot}function Oe(Q,le,Ee,Ve,ot,it,Ft){for(var Mt=Ft<16384,Ot=Ee>ot?ot:Ee,ee=1,ve;ee<=Ot;)ee<<=1;for(ee>>=1,ve=ee,ee>>=1;ee>=1;){for(var xe=0,Ue=xe+it*(ot-ve),Se=it*ee,Je=it*ve,dt=Ve*ee,St=Ve*ve,Et,Pt,At,Nt;xe<=Ue;xe+=Je){for(var Wt=xe,yn=xe+Ve*(Ee-ve);Wt<=yn;Wt+=St){var un=Wt+dt,Tn=Wt+Se,Rn=Tn+dt;Mt?(Ae(Q[Wt+le],Q[Tn+le]),Et=we.a,At=we.b,Ae(Q[un+le],Q[Rn+le]),Pt=we.a,Nt=we.b,Ae(Et,Pt),Q[Wt+le]=we.a,Q[un+le]=we.b,Ae(At,Nt),Q[Tn+le]=we.a,Q[Rn+le]=we.b):(ke(Q[Wt+le],Q[Tn+le]),Et=we.a,At=we.b,ke(Q[un+le],Q[Rn+le]),Pt=we.a,Nt=we.b,ke(Et,Pt),Q[Wt+le]=we.a,Q[un+le]=we.b,ke(At,Nt),Q[Tn+le]=we.a,Q[Rn+le]=we.b)}if(Ee&ee){var Tn=Wt+Se;Mt?Ae(Q[Wt+le],Q[Tn+le]):ke(Q[Wt+le],Q[Tn+le]),Et=we.a,Q[Tn+le]=we.b,Q[Wt+le]=Et}}if(ot&ee)for(var Wt=xe,yn=xe+Ve*(Ee-ve);Wt<=yn;Wt+=St){var un=Wt+dt;Mt?Ae(Q[Wt+le],Q[un+le]):ke(Q[Wt+le],Q[un+le]),Et=we.a,Q[un+le]=we.b,Q[Wt+le]=Et}ve=ee,ee>>=1}return xe}function Ge(Q,le,Ee,Ve,ot,it,Ft,Mt,Ot,ee){for(var ve=0,xe=0,Ue=Mt,Se=Math.trunc(ot.value+(it+7)/8);ot.value<Se;)for(Z(ve,xe,Ee,ot),ve=ne.c,xe=ne.lc;xe>=14;){var Je=ve>>xe-14&16383,dt=le[Je];if(dt.len)xe-=dt.len,ye(dt.lit,Ft,ve,xe,Ee,Ve,ot,Ot,ee,Ue),ve=oe.c,xe=oe.lc;else{if(!dt.p)throw"hufDecode issues";var St;for(St=0;St<dt.lit;St++){for(var Et=J(Q[dt.p[St]]);xe<Et&&ot.value<Se;)Z(ve,xe,Ee,ot),ve=ne.c,xe=ne.lc;if(xe>=Et&&H(Q[dt.p[St]])==(ve>>xe-Et&(1<<Et)-1)){xe-=Et,ye(dt.p[St],Ft,ve,xe,Ee,Ve,ot,Ot,ee,Ue),ve=oe.c,xe=oe.lc;break}}if(St==dt.lit)throw"hufDecode issues"}}var Pt=8-it&7;for(ve>>=Pt,xe-=Pt;xe>0;){var dt=le[ve<<14-xe&16383];if(dt.len)xe-=dt.len,ye(dt.lit,Ft,ve,xe,Ee,Ve,ot,Ot,ee,Ue),ve=oe.c,xe=oe.lc;else throw"hufDecode issues"}return!0}function et(Q,le,Ee,Ve,ot,it){var Ft={value:0},Mt=Ee.value,Ot=bt(le,Ee),ee=bt(le,Ee);Ee.value+=4;var ve=bt(le,Ee);if(Ee.value+=4,Ot<0||Ot>=65537||ee<0||ee>=65537)throw"Something wrong with HUF_ENCSIZE";var xe=new Array(65537),Ue=new Array(16384);L(Ue);var Se=Ve-(Ee.value-Mt);if(V(Q,le,Ee,Se,Ot,ee,xe),ve>8*(Ve-(Ee.value-Mt)))throw"Something wrong with hufUncompress";Y(xe,Ot,ee,Ue),Ge(xe,Ue,Q,le,Ee,ve,ee,it,ot,Ft)}function ze(Q,le,Ee){for(var Ve=0;Ve<Ee;++Ve)le[Ve]=Q[le[Ve]]}function nt(Q){for(var le=1;le<Q.length;le++){var Ee=Q[le-1]+Q[le]-128;Q[le]=Ee}}function Fe(Q,le){for(var Ee=0,Ve=Math.floor((Q.length+1)/2),ot=0,it=Q.length-1;!(ot>it||(le[ot++]=Q[Ee++],ot>it));)le[ot++]=Q[Ve++]}function ce(Q){for(var le=Q.byteLength,Ee=new Array,Ve=0,ot=new DataView(Q);le>0;){var it=ot.getInt8(Ve++);if(it<0){var Ft=-it;le-=Ft+1;for(var Mt=0;Mt<Ft;Mt++)Ee.push(ot.getUint8(Ve++))}else{var Ft=it;le-=2;for(var Ot=ot.getUint8(Ve++),Mt=0;Mt<Ft+1;Mt++)Ee.push(Ot)}}return Ee}function rt(Q,le,Ee,Ve,ot,it){var un=new DataView(it.buffer),Ft=Ee[Q.idx[0]].width,Mt=Ee[Q.idx[0]].height,Ot=3,ee=Math.floor(Ft/8),ve=Math.ceil(Ft/8),xe=Math.ceil(Mt/8),Ue=Ft-(ve-1)*8,Se=Mt-(xe-1)*8,Je={value:0},dt=new Array(Ot),St=new Array(Ot),Et=new Array(Ot),Pt=new Array(Ot),At=new Array(Ot);for(let sn=0;sn<Ot;++sn)At[sn]=le[Q.idx[sn]],dt[sn]=sn<1?0:dt[sn-1]+ve*xe,St[sn]=new Float32Array(64),Et[sn]=new Uint16Array(64),Pt[sn]=new Uint16Array(ve*64);for(let sn=0;sn<xe;++sn){var Nt=8;sn==xe-1&&(Nt=Se);var Wt=8;for(let or=0;or<ve;++or){or==ve-1&&(Wt=Ue);for(let Pn=0;Pn<Ot;++Pn)Et[Pn].fill(0),Et[Pn][0]=ot[dt[Pn]++],ct(Je,Ve,Et[Pn]),wt(Et[Pn],St[Pn]),Te(St[Pn]);tt(St);for(let Pn=0;Pn<Ot;++Pn)st(St[Pn],Pt[Pn],or*64)}let jn=0;for(let or=0;or<Ot;++or){const Pn=Ee[Q.idx[or]].type;for(let mr=8*sn;mr<8*sn+Nt;++mr){jn=At[or][mr];for(let dr=0;dr<ee;++dr){const fr=dr*64+(mr&7)*8;un.setUint16(jn+0*Pn,Pt[or][fr+0],!0),un.setUint16(jn+2*Pn,Pt[or][fr+1],!0),un.setUint16(jn+4*Pn,Pt[or][fr+2],!0),un.setUint16(jn+6*Pn,Pt[or][fr+3],!0),un.setUint16(jn+8*Pn,Pt[or][fr+4],!0),un.setUint16(jn+10*Pn,Pt[or][fr+5],!0),un.setUint16(jn+12*Pn,Pt[or][fr+6],!0),un.setUint16(jn+14*Pn,Pt[or][fr+7],!0),jn+=16*Pn}}if(ee!=ve)for(let mr=8*sn;mr<8*sn+Nt;++mr){const dr=At[or][mr]+8*ee*2*Pn,fr=ee*64+(mr&7)*8;for(let Jr=0;Jr<Wt;++Jr)un.setUint16(dr+Jr*2*Pn,Pt[or][fr+Jr],!0)}}}for(var yn=new Uint16Array(Ft),un=new DataView(it.buffer),Tn=0;Tn<Ot;++Tn){Ee[Q.idx[Tn]].decoded=!0;var Rn=Ee[Q.idx[Tn]].type;if(Ee[Tn].type==2)for(var Yt=0;Yt<Mt;++Yt){const sn=At[Tn][Yt];for(var Ln=0;Ln<Ft;++Ln)yn[Ln]=un.getUint16(sn+Ln*2*Rn,!0);for(var Ln=0;Ln<Ft;++Ln)un.setFloat32(sn+Ln*2*Rn,Le(yn[Ln]),!0)}}}function ct(Q,le,Ee){for(var Ve,ot=1;ot<64;)Ve=le[Q.value],Ve==65280?ot=64:Ve>>8==255?ot+=Ve&255:(Ee[ot]=Ve,ot++),Q.value++}function wt(Q,le){le[0]=Le(Q[0]),le[1]=Le(Q[1]),le[2]=Le(Q[5]),le[3]=Le(Q[6]),le[4]=Le(Q[14]),le[5]=Le(Q[15]),le[6]=Le(Q[27]),le[7]=Le(Q[28]),le[8]=Le(Q[2]),le[9]=Le(Q[4]),le[10]=Le(Q[7]),le[11]=Le(Q[13]),le[12]=Le(Q[16]),le[13]=Le(Q[26]),le[14]=Le(Q[29]),le[15]=Le(Q[42]),le[16]=Le(Q[3]),le[17]=Le(Q[8]),le[18]=Le(Q[12]),le[19]=Le(Q[17]),le[20]=Le(Q[25]),le[21]=Le(Q[30]),le[22]=Le(Q[41]),le[23]=Le(Q[43]),le[24]=Le(Q[9]),le[25]=Le(Q[11]),le[26]=Le(Q[18]),le[27]=Le(Q[24]),le[28]=Le(Q[31]),le[29]=Le(Q[40]),le[30]=Le(Q[44]),le[31]=Le(Q[53]),le[32]=Le(Q[10]),le[33]=Le(Q[19]),le[34]=Le(Q[23]),le[35]=Le(Q[32]),le[36]=Le(Q[39]),le[37]=Le(Q[45]),le[38]=Le(Q[52]),le[39]=Le(Q[54]),le[40]=Le(Q[20]),le[41]=Le(Q[22]),le[42]=Le(Q[33]),le[43]=Le(Q[38]),le[44]=Le(Q[46]),le[45]=Le(Q[51]),le[46]=Le(Q[55]),le[47]=Le(Q[60]),le[48]=Le(Q[21]),le[49]=Le(Q[34]),le[50]=Le(Q[37]),le[51]=Le(Q[47]),le[52]=Le(Q[50]),le[53]=Le(Q[56]),le[54]=Le(Q[59]),le[55]=Le(Q[61]),le[56]=Le(Q[35]),le[57]=Le(Q[36]),le[58]=Le(Q[48]),le[59]=Le(Q[49]),le[60]=Le(Q[57]),le[61]=Le(Q[58]),le[62]=Le(Q[62]),le[63]=Le(Q[63])}function Te(Q){const le=.5*Math.cos(.7853975),Ee=.5*Math.cos(3.14159/16),Ve=.5*Math.cos(3.14159/8),ot=.5*Math.cos(3*3.14159/16),it=.5*Math.cos(5*3.14159/16),Ft=.5*Math.cos(3*3.14159/8),Mt=.5*Math.cos(7*3.14159/16);for(var Ot=new Array(4),ee=new Array(4),ve=new Array(4),xe=new Array(4),Ue=0;Ue<8;++Ue){var Se=Ue*8;Ot[0]=Ve*Q[Se+2],Ot[1]=Ft*Q[Se+2],Ot[2]=Ve*Q[Se+6],Ot[3]=Ft*Q[Se+6],ee[0]=Ee*Q[Se+1]+ot*Q[Se+3]+it*Q[Se+5]+Mt*Q[Se+7],ee[1]=ot*Q[Se+1]-Mt*Q[Se+3]-Ee*Q[Se+5]-it*Q[Se+7],ee[2]=it*Q[Se+1]-Ee*Q[Se+3]+Mt*Q[Se+5]+ot*Q[Se+7],ee[3]=Mt*Q[Se+1]-it*Q[Se+3]+ot*Q[Se+5]-Ee*Q[Se+7],ve[0]=le*(Q[Se+0]+Q[Se+4]),ve[3]=le*(Q[Se+0]-Q[Se+4]),ve[1]=Ot[0]+Ot[3],ve[2]=Ot[1]-Ot[2],xe[0]=ve[0]+ve[1],xe[1]=ve[3]+ve[2],xe[2]=ve[3]-ve[2],xe[3]=ve[0]-ve[1],Q[Se+0]=xe[0]+ee[0],Q[Se+1]=xe[1]+ee[1],Q[Se+2]=xe[2]+ee[2],Q[Se+3]=xe[3]+ee[3],Q[Se+4]=xe[3]-ee[3],Q[Se+5]=xe[2]-ee[2],Q[Se+6]=xe[1]-ee[1],Q[Se+7]=xe[0]-ee[0]}for(var Je=0;Je<8;++Je)Ot[0]=Ve*Q[16+Je],Ot[1]=Ft*Q[16+Je],Ot[2]=Ve*Q[48+Je],Ot[3]=Ft*Q[48+Je],ee[0]=Ee*Q[8+Je]+ot*Q[24+Je]+it*Q[40+Je]+Mt*Q[56+Je],ee[1]=ot*Q[8+Je]-Mt*Q[24+Je]-Ee*Q[40+Je]-it*Q[56+Je],ee[2]=it*Q[8+Je]-Ee*Q[24+Je]+Mt*Q[40+Je]+ot*Q[56+Je],ee[3]=Mt*Q[8+Je]-it*Q[24+Je]+ot*Q[40+Je]-Ee*Q[56+Je],ve[0]=le*(Q[Je]+Q[32+Je]),ve[3]=le*(Q[Je]-Q[32+Je]),ve[1]=Ot[0]+Ot[3],ve[2]=Ot[1]-Ot[2],xe[0]=ve[0]+ve[1],xe[1]=ve[3]+ve[2],xe[2]=ve[3]-ve[2],xe[3]=ve[0]-ve[1],Q[0+Je]=xe[0]+ee[0],Q[8+Je]=xe[1]+ee[1],Q[16+Je]=xe[2]+ee[2],Q[24+Je]=xe[3]+ee[3],Q[32+Je]=xe[3]-ee[3],Q[40+Je]=xe[2]-ee[2],Q[48+Je]=xe[1]-ee[1],Q[56+Je]=xe[0]-ee[0]}function tt(Q){for(var le=0;le<64;++le){var Ee=Q[0][le],Ve=Q[1][le],ot=Q[2][le];Q[0][le]=Ee+1.5747*ot,Q[1][le]=Ee-.1873*Ve-.4682*ot,Q[2][le]=Ee+1.8556*Ve}}function st(Q,le,Ee){for(var Ve=0;Ve<64;++Ve)le[Ee+Ve]=Np.toHalfFloat(ft(Q[Ve]))}function ft(Q){return Q<=1?Math.sign(Q)*Math.pow(Math.abs(Q),2.2):Math.sign(Q)*Math.pow(D,Math.abs(Q)-1)}function ae(Q){return new DataView(Q.array.buffer,Q.offset.value,Q.size)}function te(Q){var le=Q.viewer.buffer.slice(Q.offset.value,Q.offset.value+Q.size),Ee=new Uint8Array(ce(le)),Ve=new Uint8Array(Ee.length);return nt(Ee),Fe(Ee,Ve),new DataView(Ve.buffer)}function Ne(Q){var le=Q.array.slice(Q.offset.value,Q.offset.value+Q.size),Ee=Ew(le),Ve=new Uint8Array(Ee.length);return nt(Ee),Fe(Ee,Ve),new DataView(Ve.buffer)}function Ye(Q){for(var le=Q.viewer,Ee={value:Q.offset.value},Ve=new Uint16Array(Q.width*Q.scanlineBlockSize*(Q.channels*Q.type)),ot=new Uint8Array(8192),it=0,Ft=new Array(Q.channels),Mt=0;Mt<Q.channels;Mt++)Ft[Mt]={},Ft[Mt].start=it,Ft[Mt].end=Ft[Mt].start,Ft[Mt].nx=Q.width,Ft[Mt].ny=Q.lines,Ft[Mt].size=Q.type,it+=Ft[Mt].nx*Ft[Mt].ny*Ft[Mt].size;var Ot=lt(le,Ee),ee=lt(le,Ee);if(ee>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ot<=ee)for(var Mt=0;Mt<ee-Ot+1;Mt++)ot[Mt+Ot]=_e(le,Ee);var ve=new Uint16Array(65536),xe=I(ot,ve),Ue=bt(le,Ee);et(Q.array,le,Ee,Ue,Ve,it);for(var Mt=0;Mt<Q.channels;++Mt)for(var Se=Ft[Mt],Je=0;Je<Ft[Mt].size;++Je)Oe(Ve,Se.start+Je,Se.nx,Se.size,Se.ny,Se.nx*Se.size,xe);ze(ve,Ve,it);for(var dt=0,St=new Uint8Array(Ve.buffer.byteLength),Et=0;Et<Q.lines;Et++)for(var Pt=0;Pt<Q.channels;Pt++){var Se=Ft[Pt],At=Se.nx*Se.size,Nt=new Uint8Array(Ve.buffer,Se.end*2,At*2);St.set(Nt,dt),dt+=At*2,Se.end+=At}return new DataView(St.buffer)}function pt(Q){var le=Q.array.slice(Q.offset.value,Q.offset.value+Q.size),Ee=Ew(le);const Ve=Q.lines*Q.channels*Q.width,ot=Q.type==1?new Uint16Array(Ve):new Uint32Array(Ve);let it=0,Ft=0;const Mt=new Array(4);for(let Ot=0;Ot<Q.lines;Ot++)for(let ee=0;ee<Q.channels;ee++){let ve=0;switch(Q.type){case 1:Mt[0]=it,Mt[1]=Mt[0]+Q.width,it=Mt[1]+Q.width;for(let xe=0;xe<Q.width;++xe){const Ue=Ee[Mt[0]++]<<8|Ee[Mt[1]++];ve+=Ue,ot[Ft]=ve,Ft++}break;case 2:Mt[0]=it,Mt[1]=Mt[0]+Q.width,Mt[2]=Mt[1]+Q.width,it=Mt[2]+Q.width;for(let xe=0;xe<Q.width;++xe){const Ue=Ee[Mt[0]++]<<24|Ee[Mt[1]++]<<16|Ee[Mt[2]++]<<8;ve+=Ue,ot[Ft]=ve,Ft++}break}}return new DataView(ot.buffer)}function Ke(Q){var le=Q.viewer,Ee={value:Q.offset.value},Ve=new Uint8Array(Q.width*Q.lines*(Q.channels*Q.type*2)),ot={version:Pe(le,Ee),unknownUncompressedSize:Pe(le,Ee),unknownCompressedSize:Pe(le,Ee),acCompressedSize:Pe(le,Ee),dcCompressedSize:Pe(le,Ee),rleCompressedSize:Pe(le,Ee),rleUncompressedSize:Pe(le,Ee),rleRawSize:Pe(le,Ee),totalAcUncompressedCount:Pe(le,Ee),totalDcUncompressedCount:Pe(le,Ee),acCompression:Pe(le,Ee)};if(ot.version<2)throw"EXRLoader.parse: "+tr.compression+" version "+ot.version+" is unsupported";for(var it=new Array,Ft=lt(le,Ee)-2;Ft>0;){var Mt=Jt(le.buffer,Ee),Ot=_e(le,Ee),ee=Ot>>2&3,ve=(Ot>>4)-1,xe=new Int8Array([ve])[0],Ue=_e(le,Ee);it.push({name:Mt,index:xe,type:Ue,compression:ee}),Ft-=Mt.length+3}for(var Se=tr.channels,Je=new Array(Q.channels),dt=0;dt<Q.channels;++dt){var St=Je[dt]={},Et=Se[dt];St.name=Et.name,St.compression=0,St.decoded=!1,St.type=Et.pixelType,St.pLinear=Et.pLinear,St.width=Q.width,St.height=Q.lines}for(var Pt={idx:new Array(3)},At=0;At<Q.channels;++At)for(var St=Je[At],dt=0;dt<it.length;++dt){var Nt=it[dt];St.name==Nt.name&&(St.compression=Nt.compression,Nt.index>=0&&(Pt.idx[Nt.index]=At),St.offset=At)}if(ot.acCompressedSize>0)switch(ot.acCompression){case 0:var un=new Uint16Array(ot.totalAcUncompressedCount);et(Q.array,le,Ee,ot.acCompressedSize,un,ot.totalAcUncompressedCount);break;case 1:var Wt=Q.array.slice(Ee.value,Ee.value+ot.totalAcUncompressedCount),yn=Ew(Wt),un=new Uint16Array(yn.buffer);Ee.value+=ot.totalAcUncompressedCount;break}if(ot.dcCompressedSize>0){var Tn={array:Q.array,offset:Ee,size:ot.dcCompressedSize},Rn=new Uint16Array(Ne(Tn).buffer);Ee.value+=ot.dcCompressedSize}if(ot.rleRawSize>0){var Wt=Q.array.slice(Ee.value,Ee.value+ot.rleCompressedSize),yn=Ew(Wt),Yt=ce(yn.buffer);Ee.value+=ot.rleCompressedSize}for(var Ln=0,sn=new Array(Je.length),dt=0;dt<sn.length;++dt)sn[dt]=new Array;for(var jn=0;jn<Q.lines;++jn)for(var or=0;or<Je.length;++or)sn[or].push(Ln),Ln+=Je[or].width*Q.type*2;rt(Pt,sn,Je,un,Rn,Ve);for(var dt=0;dt<Je.length;++dt){var St=Je[dt];if(!St.decoded)switch(St.compression){case 2:for(var Pn=0,mr=0,jn=0;jn<Q.lines;++jn){for(var dr=sn[dt][Pn],fr=0;fr<St.width;++fr){for(var Jr=0;Jr<2*St.type;++Jr)Ve[dr++]=Yt[mr+Jr*St.width*St.height];mr++}Pn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ve.buffer)}function Jt(Q,le){for(var Ee=new Uint8Array(Q),Ve=0;Ee[le.value+Ve]!=0;)Ve+=1;var ot=new TextDecoder().decode(Ee.slice(le.value,le.value+Ve));return le.value=le.value+Ve+1,ot}function It(Q,le,Ee){var Ve=new TextDecoder().decode(new Uint8Array(Q).slice(le.value,le.value+Ee));return le.value=le.value+Ee,Ve}function Vt(Q,le){var Ee=yt(Q,le),Ve=bt(Q,le);return[Ee,Ve]}function Lt(Q,le){var Ee=bt(Q,le),Ve=bt(Q,le);return[Ee,Ve]}function yt(Q,le){var Ee=Q.getInt32(le.value,!0);return le.value=le.value+4,Ee}function bt(Q,le){var Ee=Q.getUint32(le.value,!0);return le.value=le.value+4,Ee}function Zt(Q,le){var Ee=Q[le.value];return le.value=le.value+1,Ee}function _e(Q,le){var Ee=Q.getUint8(le.value);return le.value=le.value+1,Ee}const Pe=function(Q,le){let Ee;return"getBigInt64"in DataView.prototype?Ee=Number(Q.getBigInt64(le.value,!0)):Ee=Q.getUint32(le.value+4,!0)+Number(Q.getUint32(le.value,!0)<<32),le.value+=8,Ee};function ht(Q,le){var Ee=Q.getFloat32(le.value,!0);return le.value+=4,Ee}function he(Q,le){return Np.toHalfFloat(ht(Q,le))}function Le(Q){var le=(Q&31744)>>10,Ee=Q&1023;return(Q>>15?-1:1)*(le?le===31?Ee?NaN:1/0:Math.pow(2,le-15)*(1+Ee/1024):6103515625e-14*(Ee/1024))}function lt(Q,le){var Ee=Q.getUint16(le.value,!0);return le.value+=2,Ee}function vt(Q,le){return Le(lt(Q,le))}function mt(Q,le,Ee,Ve){for(var ot=Ee.value,it=[];Ee.value<ot+Ve-1;){var Ft=Jt(le,Ee),Mt=yt(Q,Ee),Ot=_e(Q,Ee);Ee.value+=3;var ee=yt(Q,Ee),ve=yt(Q,Ee);it.push({name:Ft,pixelType:Mt,pLinear:Ot,xSampling:ee,ySampling:ve})}return Ee.value+=1,it}function je(Q,le){var Ee=ht(Q,le),Ve=ht(Q,le),ot=ht(Q,le),it=ht(Q,le),Ft=ht(Q,le),Mt=ht(Q,le),Ot=ht(Q,le),ee=ht(Q,le);return{redX:Ee,redY:Ve,greenX:ot,greenY:it,blueX:Ft,blueY:Mt,whiteX:Ot,whiteY:ee}}function _t(Q,le){var Ee=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ve=_e(Q,le);return Ee[Ve]}function jt(Q,le){var Ee=bt(Q,le),Ve=bt(Q,le),ot=bt(Q,le),it=bt(Q,le);return{xMin:Ee,yMin:Ve,xMax:ot,yMax:it}}function _n(Q,le){var Ee=["INCREASING_Y"],Ve=_e(Q,le);return Ee[Ve]}function Sn(Q,le){var Ee=ht(Q,le),Ve=ht(Q,le);return[Ee,Ve]}function An(Q,le){var Ee=ht(Q,le),Ve=ht(Q,le),ot=ht(Q,le);return[Ee,Ve,ot]}function kn(Q,le,Ee,Ve,ot){if(Ve==="string"||Ve==="stringvector"||Ve==="iccProfile")return It(le,Ee,ot);if(Ve==="chlist")return mt(Q,le,Ee,ot);if(Ve==="chromaticities")return je(Q,Ee);if(Ve==="compression")return _t(Q,Ee);if(Ve==="box2i")return jt(Q,Ee);if(Ve==="lineOrder")return _n(Q,Ee);if(Ve==="float")return ht(Q,Ee);if(Ve==="v2f")return Sn(Q,Ee);if(Ve==="v3f")return An(Q,Ee);if(Ve==="int")return yt(Q,Ee);if(Ve==="rational")return Vt(Q,Ee);if(Ve==="timecode")return Lt(Q,Ee);if(Ve==="preview")return Ee.value+=ot,"skipped";Ee.value+=ot}function Kr(Q,le,Ee){const Ve={};if(Q.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ve.version=Q.getUint8(4);const ot=Q.getUint8(5);Ve.spec={singleTile:!!(ot&2),longName:!!(ot&4),deepFormat:!!(ot&8),multiPart:!!(ot&16)},Ee.value=8;for(var it=!0;it;){var Ft=Jt(le,Ee);if(Ft==0)it=!1;else{var Mt=Jt(le,Ee),Ot=bt(Q,Ee),ee=kn(Q,le,Ee,Mt,Ot);ee===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Mt}'.`):Ve[Ft]=ee}}if((ot&-5)!=0)throw console.error("EXRHeader:",Ve),"THREE.EXRLoader: provided file is currently unsupported.";return Ve}function Or(Q,le,Ee,Ve,ot){const it={size:0,viewer:le,array:Ee,offset:Ve,width:Q.dataWindow.xMax-Q.dataWindow.xMin+1,height:Q.dataWindow.yMax-Q.dataWindow.yMin+1,channels:Q.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Q.channels[0].pixelType,uncompress:null,getter:null,format:null,[Vy?"colorSpace":"encoding"]:null};switch(Q.compression){case"NO_COMPRESSION":it.lines=1,it.uncompress=ae;break;case"RLE_COMPRESSION":it.lines=1,it.uncompress=te;break;case"ZIPS_COMPRESSION":it.lines=1,it.uncompress=Ne;break;case"ZIP_COMPRESSION":it.lines=16,it.uncompress=Ne;break;case"PIZ_COMPRESSION":it.lines=32,it.uncompress=Ye;break;case"PXR24_COMPRESSION":it.lines=16,it.uncompress=pt;break;case"DWAA_COMPRESSION":it.lines=32,it.uncompress=Ke;break;case"DWAB_COMPRESSION":it.lines=256,it.uncompress=Ke;break;default:throw"EXRLoader.parse: "+Q.compression+" is unsupported"}if(it.scanlineBlockSize=it.lines,it.type==1)switch(ot){case Ti:it.getter=vt,it.inputSize=2;break;case ws:it.getter=lt,it.inputSize=2;break}else if(it.type==2)switch(ot){case Ti:it.getter=ht,it.inputSize=4;break;case ws:it.getter=he,it.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+it.type+" for "+Q.compression+".";it.blockCount=(Q.dataWindow.yMax+1)/it.scanlineBlockSize;for(var Ft=0;Ft<it.blockCount;Ft++)Pe(le,Ve);it.outputChannels=it.channels==3?4:it.channels;const Mt=it.width*it.height*it.outputChannels;switch(ot){case Ti:it.byteArray=new Float32Array(Mt),it.channels<it.outputChannels&&it.byteArray.fill(1,0,Mt);break;case ws:it.byteArray=new Uint16Array(Mt),it.channels<it.outputChannels&&it.byteArray.fill(15360,0,Mt);break;default:console.error("THREE.EXRLoader: unsupported type: ",ot);break}return it.bytesPerLine=it.width*it.inputSize*it.channels,it.outputChannels==4?it.format=$i:it.format=t_,Vy?it.colorSpace="srgb-linear":it.encoding=3e3,it}const xr=new DataView(e),Fr=new Uint8Array(e),Yr={value:0},tr=Kr(xr,e,Yr),En=Or(tr,xr,Fr,Yr,this.type),Mo={value:0},bc={R:0,G:1,B:2,A:3,Y:0};for(let Q=0;Q<En.height/En.scanlineBlockSize;Q++){const le=bt(xr,Yr);En.size=bt(xr,Yr),En.lines=le+En.scanlineBlockSize>En.height?En.height-le:En.scanlineBlockSize;const Ve=En.size<En.lines*En.bytesPerLine?En.uncompress(En):ae(En);Yr.value+=En.size;for(let ot=0;ot<En.scanlineBlockSize;ot++){const it=ot+Q*En.scanlineBlockSize;if(it>=En.height)break;for(let Ft=0;Ft<En.channels;Ft++){const Mt=bc[tr.channels[Ft].name];for(let Ot=0;Ot<En.width;Ot++){Mo.value=(ot*(En.channels*En.width)+Ft*En.width+Ot)*En.inputSize;const ee=(En.height-1-it)*(En.width*En.outputChannels)+Ot*En.outputChannels+Mt;En.byteArray[ee]=En.getter(Ve,Mo)}}}}return{header:tr,width:En.width,height:En.height,data:En.byteArray,format:En.format,[Vy?"colorSpace":"encoding"]:En[Vy?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){Vy?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=Rr,o.magFilter=Rr,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const S3=new WeakMap;class $Le extends ro{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new no(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(S3.has(e)){const l=S3.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,d)=>{i._callbacks[s]={resolve:u,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),S3.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Yn;e.index&&t.setIndex(new Nr(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Nr(o,a))}return t}_loadLibrary(e,t){const r=new no(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=qLe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qLe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(c){d({draco:c})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const c=d.draco,f=new c.Decoder,m=new c.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(c,f,m,u),b=v.attributes.map(y=>y.array.buffer);v.index&&b.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},b)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{c.destroy(m),c.destroy(f)}});break}};function t(o,a,l,u){const d=u.attributeIDs,c=u.attributeTypes;let f,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)f=new o.Mesh,m=a.DecodeBufferToMesh(l,f);else if(v===o.POINT_CLOUD)f=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const b={index:null,attributes:[]};for(const y in d){const w=self[c[y]];let A,E;if(u.useUniqueIDs)E=d[y],A=a.GetAttributeByUniqueId(f,E);else{if(E=a.GetAttributeId(f,o[d[y]]),E===-1)continue;A=a.GetAttribute(f,E)}b.attributes.push(i(o,a,f,y,w,A))}return v===o.TRIANGULAR_MESH&&(b.index=r(o,a,f)),o.destroy(f),b}function r(o,a,l){const d=l.num_faces()*3,c=d*4,f=o._malloc(c);a.GetTrianglesUInt32Array(l,c,f);const m=new Uint32Array(o.HEAPF32.buffer,f,d).slice();return o._free(f),{array:m,itemSize:1}}function i(o,a,l,u,d,c){const f=c.num_components(),v=l.num_points()*f,b=v*d.BYTES_PER_ELEMENT,y=s(o,d),w=o._malloc(b);a.GetAttributeDataArrayForAllPoints(l,c,y,b,w);const A=new d(o.HEAPF32.buffer,w,v).slice();return o._free(w),{name:u,array:A,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Mw;const A3=()=>{if(Mw)return Mw;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(c=>{s=c.instance,s.exports.__wasm_call_ctors()});function a(c){const f=new Uint8Array(c.length);for(let v=0;v<c.length;++v){const b=c.charCodeAt(v);f[v]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let m=0;for(let v=0;v<c.length;++v)f[m++]=f[v]<60?r[f[v]]:(f[v]-60)*64+f[++v];return f.buffer.slice(0,m)}function l(c,f,m,v,b,y){const w=s.exports.sbrk,A=m+3&-4,E=w(A*v),C=w(b.length),M=new Uint8Array(s.exports.memory.buffer);M.set(b,C);const P=c(E,m,v,C,b.length);if(P===0&&y&&y(E,A,v),f.set(M.subarray(E,E+m*v)),w(E-w(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Mw={ready:o,supported:!0,decodeVertexBuffer(c,f,m,v,b){l(s.exports.meshopt_decodeVertexBuffer,c,f,m,v,s.exports[u[b]])},decodeIndexBuffer(c,f,m,v){l(s.exports.meshopt_decodeIndexBuffer,c,f,m,v)},decodeIndexSequence(c,f,m,v){l(s.exports.meshopt_decodeIndexSequence,c,f,m,v)},decodeGltfBuffer(c,f,m,v,b,y){l(s.exports[d[b]],c,f,m,v,s.exports[u[y]])}},Mw};let Tw=null,yee="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function xee(n=!0,e=!0,t){return r=>{t&&t(r),n&&(Tw||(Tw=new $Le),Tw.setDecoderPath(typeof n=="string"?n:yee),r.setDRACOLoader(Tw)),e&&r.setMeshoptDecoder(typeof A3=="function"?A3():A3)}}const g_=(n,e,t,r)=>Ed(hk,n,xee(e,t,r));g_.preload=(n,e,t,r)=>Ed.preload(hk,n,xee(e,t,r));g_.clear=n=>Ed.clear(hk,n);g_.setDecoderPath=n=>{yee=n};const XLe=B.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},d)=>{const c=Uo(P=>P.invalidate),f=Uo(P=>P.camera),m=Uo(P=>P.gl),v=Uo(P=>P.events),b=Uo(P=>P.setEvents),y=Uo(P=>P.set),w=Uo(P=>P.get),A=Uo(P=>P.performance),E=e||f,C=r||v.connected||m.domElement,M=B.useMemo(()=>new lLe(E),[E]);return aM(()=>{M.enabled&&M.update()},-1),B.useEffect(()=>(s&&M.connect(s===!0?C:s),M.connect(C),()=>void M.dispose()),[s,C,t,M,c]),B.useEffect(()=>{const P=D=>{c(),t&&A.regress(),o&&o(D)},O=D=>{a&&a(D)},k=D=>{l&&l(D)};return M.addEventListener("change",P),M.addEventListener("start",O),M.addEventListener("end",k),()=>{M.removeEventListener("start",O),M.removeEventListener("end",k),M.removeEventListener("change",P)}},[o,a,l,M,c,b]),B.useEffect(()=>{if(n){const P=w().controls;return y({controls:M}),()=>y({controls:P})}},[n,M]),B.createElement("primitive",$S({ref:d,object:M,enableDamping:i},u))}),KLe=3e3,YLe=3001,bee=(n,e,t)=>{let r;switch(n){case qo:r=new Uint8ClampedArray(e*t*4);break;case ws:r=new Uint16Array(e*t*4);break;case fu:r=new Uint32Array(e*t*4);break;case PC:r=new Int8Array(e*t*4);break;case RC:r=new Int16Array(e*t*4);break;case e_:r=new Int32Array(e*t*4);break;case Ti:r=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return r};let Pw;const JLe=(n,e,t,r)=>{if(Pw!==void 0)return Pw;const i=new wl(1,1,r);e.setRenderTarget(i);const s=new Pi(new dh,new da({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=bee(n,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),Pw=o[0]!==0,Pw};class pk{constructor(e){var t,r,i,s,o,a,l,u,d,c,f,m,v,b,y,w;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(E){throw this._renderer.setRenderTarget(null),E}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const A={format:$i,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:Rr,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:Rr,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Mi,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT:Mi};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=pk.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new s_,this._camera=new nu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!JLe(this._type,this._renderer,this._camera,A)){let E;switch(this._type){case ws:E=this._renderer.extensions.has("EXT_color_buffer_float")?Ti:void 0;break}E!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ti}`),this._type=E):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Pi(new dh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new wl(this.width,this.height,A),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping:Xf}static instantiateRenderer(){const e=new ak;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=bee(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new xl(this.toArray(),this.width,this.height,$i,this._type,e?.mapping||Xf,e?.wrapS||Mi,e?.wrapT||Mi,e?.magFilter||Rr,e?.minFilter||Rr,e?.anisotropy||1,hu);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Xo&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof zr&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof zr&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const ZLe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,QLe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class eje extends Xo{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:ZLe,fragmentShader:QLe,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new de(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new de().fromArray(t)},offsetSdr:{value:new de().fromArray(r)},gainMapMin:{value:new de().fromArray(i)},gainMapMax:{value:new de().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:dc,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class _ee extends Error{}class wee extends Error{}const Wy=(n,e,t)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},tje=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const r=e.indexOf("x:xmpmeta>",t),i=e.slice(t,r+10);try{const s=Wy(i,"hdrgm:GainMapMin","0"),o=Wy(i,"hdrgm:GainMapMax"),a=Wy(i,"hdrgm:Gamma","1"),l=Wy(i,"hdrgm:OffsetSDR","0.015625"),u=Wy(i,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),c=d?d[1]:"0",f=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!f)throw new Error("Incomplete gainmap metadata");const m=f[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(v=>parseFloat(v)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(c),hdrCapacityMax:parseFloat(m)}}catch{}t=e.indexOf("<x:xmpmeta",r)}};class nje{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,u;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(u=s.getUint8(a+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const d=a+4;if(s.getUint32(d)===1297106432){const c=d+4;let f;if(s.getUint16(c)===18761)f=!1;else if(s.getUint16(c)===19789)f=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(c+2,!f)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(c+4,!f);if(m<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=c+m,b=s.getUint16(v,!f),y=v+2;let w=0;for(let M=y;M<y+12*b;M+=12)s.getUint16(M,!f)===45057&&(w=s.getUint32(M+8,!f));const E=v+2+b*12+4,C=[];for(let M=E;M<E+w*16;M+=16){const P={MPType:s.getUint32(M,!f),size:s.getUint32(M+4,!f),dataOffset:s.getUint32(M+8,!f),dependantImages:s.getUint32(M+12,!f),start:-1,end:-1,isFII:!1};P.dataOffset?(P.start=c+P.dataOffset,P.isFII=!1):(P.start=0,P.isFII=!0),P.end=P.start+P.size,C.push(P)}if(this.options.extractNonFII&&C.length){const M=new Blob([s]),P=[];for(const O of C){if(O.isFII&&!this.options.extractFII)continue;const k=M.slice(O.start,O.end+1,"image/jpeg");P.push(k)}t(P)}}}a+=2+s.getUint16(a+2)}})}}const rje=async n=>{const e=tje(n);if(!e)throw new wee("Gain map XMP metadata not found");const r=await new nje({extractFII:!0,extractNonFII:!0}).extract(n);if(r.length!==2)throw new _ee("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},xV=n=>new Promise((e,t)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{t(i)},r.src=URL.createObjectURL(n)});class See extends ro{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new rM}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new eje({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new zr,sdr:new zr});return new pk({width:16,height:16,type:ws,colorSpace:hu,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,u=!1;if(typeof createImageBitmap>"u"){const f=await Promise.all([s?xV(s):Promise.resolve(void 0),xV(o)]);l=f[0],a=f[1],u=!0}else{const f=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=f[0],a=f[1]}const d=new zr(l||new ImageData(2,2),Xf,Mi,Mi,Rr,UO,$i,qo,1,hu);d.flipY=u,d.needsUpdate=!0;const c=new zr(a,Xf,Mi,Mi,Rr,UO,$i,qo,1,zo);c.flipY=u,c.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=d,e.material.sdr=c,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class ije extends See{load([e,t,r],i,s,o){const a=this.prepareQuadRenderer();let l,u,d;const c=async()=>{if(l&&u&&d){try{await this.render(a,d,l,u)}catch(D){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),typeof o=="function"&&o(D),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let f=!0,m=0,v=0,b=!0,y=0,w=0,A=!0,E=0,C=0;const M=()=>{if(typeof s=="function"){const D=m+y+E,I=v+w+C,L=f&&b&&A;s(new ProgressEvent("progress",{lengthComputable:L,loaded:I,total:D}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);const P=new no(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(e,async D=>{if(typeof D=="string")throw new Error("Invalid sdr buffer");l=D,await c()},D=>{f=D.lengthComputable,v=D.loaded,m=D.total,M()},D=>{this.manager.itemError(e),typeof o=="function"&&o(D)});const O=new no(this._internalLoadingManager);O.setResponseType("arraybuffer"),O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(t,async D=>{if(typeof D=="string")throw new Error("Invalid gainmap buffer");u=D,await c()},D=>{b=D.lengthComputable,w=D.loaded,y=D.total,M()},D=>{this.manager.itemError(t),typeof o=="function"&&o(D)});const k=new no(this._internalLoadingManager);return k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(r,async D=>{if(typeof D!="string")throw new Error("Invalid metadata string");d=JSON.parse(D),await c()},D=>{A=D.lengthComputable,C=D.loaded,E=D.total,M()},D=>{this.manager.itemError(r),typeof o=="function"&&o(D)}),a}}class sje extends See{load(e,t,r,i){const s=this.prepareQuadRenderer(),o=new no(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let u,d,c;try{const f=await rje(l);u=f.sdr,d=f.gainMap,c=f.metadata}catch(f){if(f instanceof wee||f instanceof _ee)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),c={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw f}try{await this.render(s,c,u,d)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const Cb={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Aee="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",d0=n=>Array.isArray(n),mk=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function lM({files:n=mk,path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;t&&(gk(t),n=Cb[t],e=Aee),o=d0(n);const{extension:a,isCubemap:l}=vk(n);if(s=yk(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=Uo(m=>m.gl);B.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function m(){Ed.clear(s,o?[n]:n)}u.domElement.addEventListener("webglcontextlost",m,{once:!0})},[n,u.domElement]);const d=Ed(s,o?[n]:n,m=>{(a==="webp"||a==="jpg"||a==="jpeg")&&m.setRenderer(u),m.setPath==null||m.setPath(e),i&&i(m)});let c=o?d[0]:d;if(a==="jpg"||a==="jpeg"||a==="webp"){var f;c=(f=c.renderTarget)==null?void 0:f.texture}return c.mapping=l?du:z0,"colorSpace"in c?c.colorSpace=r??l?"srgb":"srgb-linear":c.encoding=r??l?YLe:KLe,c}const oje={files:mk,path:"",preset:void 0,extensions:void 0};lM.preload=n=>{const e={...oje,...n};let{files:t,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(gk(i),t=Cb[i],r=Aee);const{extension:o}=vk(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=yk(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ed.preload(a,d0(t)?[t]:t,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const aje={files:mk,preset:void 0};lM.clear=n=>{const e={...aje,...n};let{files:t}=e;const{preset:r}=e;r&&(gk(r),t=Cb[r]);const{extension:i}=vk(t),s=yk(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ed.clear(s,d0(t)?[t]:t)};function gk(n){if(!(n in Cb))throw new Error("Preset must be one of: "+Object.keys(Cb).join(", "))}function vk(n){var e;const t=d0(n)&&n.length===6,r=d0(n)&&n.length===3&&n.some(o=>o.endsWith("json")),i=d0(n)?n[0]:n;return{extension:t?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:r}}function yk(n){return n==="cube"?wQ:n==="hdr"?VLe:n==="exr"?WLe:n==="jpg"||n==="jpeg"?sje:n==="webp"?ije:null}const lje=n=>n.current&&n.current.isScene,cje=n=>lje(n)?n.current:n;function xk(n,e,t,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=cje(e||t),d=u.background,c=u.environment,f={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(a=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return n!=="only"&&(u.environment=r),n&&(u.background=r),Pf(u,i),()=>{n!=="only"&&(u.environment=c),n&&(u.background=d),Pf(u,f)}}function bk({scene:n,background:e=!1,map:t,...r}){const i=Uo(s=>s.scene);return B.useLayoutEffect(()=>{if(t)return xk(e,n,i,t,r)}),null}function Eee({background:n=!1,scene:e,blur:t,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const u=lM(l),d=Uo(c=>c.scene);return B.useLayoutEffect(()=>xk(n,e,d,u,{backgroundBlurriness:t??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),B.useEffect(()=>()=>{u.dispose()},[u]),null}function uje({children:n,near:e=.1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:c,environmentRotation:f,scene:m,files:v,path:b,preset:y=void 0,extensions:w}){const A=Uo(k=>k.gl),E=Uo(k=>k.scene),C=B.useRef(null),[M]=B.useState(()=>new s_),P=B.useMemo(()=>{const k=new RB(r);return k.texture.type=ws,k},[r]);B.useEffect(()=>()=>{P.dispose()},[P]),B.useLayoutEffect(()=>{if(i===1){const k=A.autoClear;A.autoClear=!0,C.current.update(A,M),A.autoClear=k}return xk(o,m,E,P.texture,{backgroundBlurriness:a??l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:c,environmentRotation:f})},[n,M,P.texture,m,E,o,i,A]);let O=1;return aM(()=>{if(i===1/0||O<i){const k=A.autoClear;A.autoClear=!0,C.current.update(A,M),A.autoClear=k,O++}}),B.createElement(B.Fragment,null,hke(B.createElement(B.Fragment,null,n,B.createElement("cubeCamera",{ref:C,args:[e,t,P]}),v||y?B.createElement(Eee,{background:!0,files:v,preset:y,path:b,extensions:w}):s?B.createElement(bk,{background:!0,map:s,extensions:w}):null),M))}function dje(n){var e,t,r,i;const s=lM(n),o=n.map||s;B.useMemo(()=>qQ({GroundProjectedEnvImpl:eLe}),[]),B.useEffect(()=>()=>{s.dispose()},[s]);const a=B.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,d=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return B.createElement(B.Fragment,null,B.createElement(bk,$S({},n,{map:o})),B.createElement("groundProjectedEnvImpl",{args:a,scale:d,height:l,radius:u}))}function fje(n){return n.ground?B.createElement(dje,n):n.map?B.createElement(bk,n):n.children?B.createElement(uje,n):B.createElement(Eee,n)}const _k=B.createContext({});function wk(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sk=typeof window<"u",Cee=Sk?B.useLayoutEffect:B.useEffect,cM=B.createContext(null);function Ak(n,e){n.indexOf(e)===-1&&n.push(e)}function Ek(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Cd=(n,e,t)=>t>e?e:t<n?n:t;let Ck=()=>{};const Md={},Mee=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Tee(n){return typeof n=="object"&&n!==null}const Pee=n=>/^0[^.\s]+$/u.test(n);function Mk(n){let e;return()=>(e===void 0&&(e=n()),e)}const bl=n=>n,hje=(n,e)=>t=>e(n(t)),v_=(...n)=>n.reduce(hje),Mb=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Tk{constructor(){this.subscriptions=[]}add(e){return Ak(this.subscriptions,e),()=>Ek(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ru=n=>n*1e3,gl=n=>n/1e3;function Ree(n,e){return e?n*(1e3/e):0}const Nee=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,pje=1e-7,mje=12;function gje(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=Nee(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>pje&&++a<mje);return o}function y_(n,e,t,r){if(n===e&&t===r)return bl;const i=s=>gje(s,0,1,n,t);return s=>s===0||s===1?s:Nee(i(s),e,r)}const Iee=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Oee=n=>e=>1-n(1-e),Fee=y_(.33,1.53,.69,.99),Pk=Oee(Fee),Dee=Iee(Pk),Bee=n=>(n*=2)<1?.5*Pk(n):.5*(2-Math.pow(2,-10*(n-1))),Rk=n=>1-Math.sin(Math.acos(n)),kee=Oee(Rk),Lee=Iee(Rk),vje=y_(.42,0,1,1),yje=y_(0,0,.58,1),jee=y_(.42,0,.58,1),xje=n=>Array.isArray(n)&&typeof n[0]!="number",Uee=n=>Array.isArray(n)&&typeof n[0]=="number",bje={linear:bl,easeIn:vje,easeInOut:jee,easeOut:yje,circIn:Rk,circInOut:Lee,circOut:kee,backIn:Pk,backInOut:Dee,backOut:Fee,anticipate:Bee},_je=n=>typeof n=="string",bV=n=>{if(Uee(n)){Ck(n.length===4);const[e,t,r,i]=n;return y_(e,t,r,i)}else if(_je(n))return bje[n];return n},Rw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wje(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),n()),d(a)}const u={schedule:(d,c=!1,f=!1)=>{const v=f&&i?t:r;return c&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const Sje=40;function zee(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Rw.reduce((E,C)=>(E[C]=wje(s),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:c,preRender:f,render:m,postRender:v}=o,b=()=>{const E=Md.useManualTiming?i.timestamp:performance.now();t=!1,Md.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,Sje),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),c.process(i),f.process(i),m.process(i),v.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(b))},y=()=>{t=!0,r=!0,i.isProcessing||n(b)};return{schedule:Rw.reduce((E,C)=>{const M=o[C];return E[C]=(P,O=!1,k=!1)=>(t||y(),M.schedule(P,O,k)),E},{}),cancel:E=>{for(let C=0;C<Rw.length;C++)o[Rw[C]].cancel(E)},state:i,steps:o}}const{schedule:yi,cancel:Qf,state:Zs,steps:E3}=zee(typeof requestAnimationFrame<"u"?requestAnimationFrame:bl,!0);let Yw;function Aje(){Yw=void 0}const fa={now:()=>(Yw===void 0&&fa.set(Zs.isProcessing||Md.useManualTiming?Zs.timestamp:performance.now()),Yw),set:n=>{Yw=n,queueMicrotask(Aje)}},Hee=n=>e=>typeof e=="string"&&e.startsWith(n),Nk=Hee("--"),Eje=Hee("var(--"),Ik=n=>Eje(n)?Cje.test(n.split("/*")[0].trim()):!1,Cje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cv={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tb={...Cv,transform:n=>Cd(0,1,n)},Nw={...Cv,default:1},yx=n=>Math.round(n*1e5)/1e5,Ok=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mje(n){return n==null}const Tje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fk=(n,e)=>t=>!!(typeof t=="string"&&Tje.test(t)&&t.startsWith(n)||e&&!Mje(t)&&Object.prototype.hasOwnProperty.call(t,e)),Gee=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Ok);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Pje=n=>Cd(0,255,n),C3={...Cv,transform:n=>Math.round(Pje(n))},Dp={test:Fk("rgb","red"),parse:Gee("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+C3.transform(n)+", "+C3.transform(e)+", "+C3.transform(t)+", "+yx(Tb.transform(r))+")"};function Rje(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sF={test:Fk("#"),parse:Rje,transform:Dp.transform},x_=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Mf=x_("deg"),iu=x_("%"),Hn=x_("px"),Nje=x_("vh"),Ije=x_("vw"),_V={...iu,parse:n=>iu.parse(n)/100,transform:n=>iu.transform(n*100)},Wg={test:Fk("hsl","hue"),parse:Gee("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+iu.transform(yx(e))+", "+iu.transform(yx(t))+", "+yx(Tb.transform(r))+")"},os={test:n=>Dp.test(n)||sF.test(n)||Wg.test(n),parse:n=>Dp.test(n)?Dp.parse(n):Wg.test(n)?Wg.parse(n):sF.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Dp.transform(n):Wg.transform(n),getAnimatableNone:n=>{const e=os.parse(n);return e.alpha=0,os.transform(e)}},Oje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fje(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ok)?.length||0)+(n.match(Oje)?.length||0)>0}const Vee="number",Wee="color",Dje="var",Bje="var(",wV="${}",kje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pb(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(kje,l=>(os.test(l)?(r.color.push(s),i.push(Wee),t.push(os.parse(l))):l.startsWith(Bje)?(r.var.push(s),i.push(Dje),t.push(l)):(r.number.push(s),i.push(Vee),t.push(parseFloat(l))),++s,wV)).split(wV);return{values:t,split:a,indexes:r,types:i}}function $ee(n){return Pb(n).values}function qee(n){const{split:e,types:t}=Pb(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===Vee?s+=yx(i[o]):a===Wee?s+=os.transform(i[o]):s+=i[o]}return s}}const Lje=n=>typeof n=="number"?0:os.test(n)?os.getAnimatableNone(n):n;function jje(n){const e=$ee(n);return qee(n)(e.map(Lje))}const eh={test:Fje,parse:$ee,createTransformer:qee,getAnimatableNone:jje};function M3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Uje({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=M3(l,a,n+1/3),s=M3(l,a,n),o=M3(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function rE(n,e){return t=>t>0?e:n}const Ei=(n,e,t)=>n+(e-n)*t,T3=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},zje=[sF,Dp,Wg],Hje=n=>zje.find(e=>e.test(n));function SV(n){const e=Hje(n);if(!e)return!1;let t=e.parse(n);return e===Wg&&(t=Uje(t)),t}const AV=(n,e)=>{const t=SV(n),r=SV(e);if(!t||!r)return rE(n,e);const i={...t};return s=>(i.red=T3(t.red,r.red,s),i.green=T3(t.green,r.green,s),i.blue=T3(t.blue,r.blue,s),i.alpha=Ei(t.alpha,r.alpha,s),Dp.transform(i))},oF=new Set(["none","hidden"]);function Gje(n,e){return oF.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Vje(n,e){return t=>Ei(n,e,t)}function Dk(n){return typeof n=="number"?Vje:typeof n=="string"?Ik(n)?rE:os.test(n)?AV:qje:Array.isArray(n)?Xee:typeof n=="object"?os.test(n)?AV:Wje:rE}function Xee(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>Dk(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function Wje(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Dk(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function $je(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],a=n.values[o]??0;t[i]=a,r[s]++}return t}const qje=(n,e)=>{const t=eh.createTransformer(e),r=Pb(n),i=Pb(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?oF.has(n)&&!i.values.length||oF.has(e)&&!r.values.length?Gje(n,e):v_(Xee($je(r,i),i.values),t):rE(n,e)};function Kee(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ei(n,e,t):Dk(n)(n,e)}const Xje=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>yi.update(e,t),stop:()=>Qf(e),now:()=>Zs.isProcessing?Zs.timestamp:fa.now()}},Yee=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},iE=2e4;function Bk(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<iE;)e+=t,r=n.next(e);return e>=iE?1/0:e}function Kje(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(Bk(r),iE);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:gl(i)}}const Yje=5;function Jee(n,e,t){const r=Math.max(e-Yje,0);return Ree(t-n(r),e-r)}const Di={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},P3=.001;function Jje({duration:n=Di.duration,bounce:e=Di.bounce,velocity:t=Di.velocity,mass:r=Di.mass}){let i,s,o=1-e;o=Cd(Di.minDamping,Di.maxDamping,o),n=Cd(Di.minDuration,Di.maxDuration,gl(n)),o<1?(i=u=>{const d=u*o,c=d*n,f=d-t,m=aF(u,o),v=Math.exp(-c);return P3-f/m*v},s=u=>{const c=u*o*n,f=c*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-c),b=aF(Math.pow(u,2),o);return(-i(u)+P3>0?-1:1)*((f-m)*v)/b}):(i=u=>{const d=Math.exp(-u*n),c=(u-t)*n+1;return-P3+d*c},s=u=>{const d=Math.exp(-u*n),c=(t-u)*(n*n);return d*c});const a=5/n,l=Qje(i,s,a);if(n=ru(n),isNaN(l))return{stiffness:Di.stiffness,damping:Di.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const Zje=12;function Qje(n,e,t){let r=t;for(let i=1;i<Zje;i++)r=r-n(r)/e(r);return r}function aF(n,e){return n*Math.sqrt(1-e*e)}const eUe=["duration","bounce"],tUe=["stiffness","damping","mass"];function EV(n,e){return e.some(t=>n[t]!==void 0)}function nUe(n){let e={velocity:Di.velocity,stiffness:Di.stiffness,damping:Di.damping,mass:Di.mass,isResolvedFromDuration:!1,...n};if(!EV(n,tUe)&&EV(n,eUe))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Cd(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Di.mass,stiffness:i,damping:s}}else{const t=Jje(n);e={...e,...t,mass:Di.mass},e.isResolvedFromDuration=!0}return e}function sE(n=Di.visualDuration,e=Di.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:c,velocity:f,isResolvedFromDuration:m}=nUe({...t,velocity:-gl(t.velocity||0)}),v=f||0,b=u/(2*Math.sqrt(l*d)),y=o-s,w=gl(Math.sqrt(l/d)),A=Math.abs(y)<5;r||(r=A?Di.restSpeed.granular:Di.restSpeed.default),i||(i=A?Di.restDelta.granular:Di.restDelta.default);let E;if(b<1){const M=aF(w,b);E=P=>{const O=Math.exp(-b*w*P);return o-O*((v+b*w*y)/M*Math.sin(M*P)+y*Math.cos(M*P))}}else if(b===1)E=M=>o-Math.exp(-w*M)*(y+(v+w*y)*M);else{const M=w*Math.sqrt(b*b-1);E=P=>{const O=Math.exp(-b*w*P),k=Math.min(M*P,300);return o-O*((v+b*w*y)*Math.sinh(k)+M*y*Math.cosh(k))/M}}const C={calculatedDuration:m&&c||null,next:M=>{const P=E(M);if(m)a.done=M>=c;else{let O=M===0?v:0;b<1&&(O=M===0?ru(v):Jee(E,M,P));const k=Math.abs(O)<=r,D=Math.abs(o-P)<=i;a.done=k&&D}return a.value=a.done?o:P,a},toString:()=>{const M=Math.min(Bk(C),iE),P=Yee(O=>C.next(M*O).value,M,30);return M+"ms "+P},toTransition:()=>{}};return C}sE.applyToOptions=n=>{const e=Kje(n,100,sE);return n.ease=e.ease,n.duration=ru(e.duration),n.type="keyframes",n};function lF({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const c=n[0],f={done:!1,value:c},m=k=>a!==void 0&&k<a||l!==void 0&&k>l,v=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let b=t*e;const y=c+b,w=o===void 0?y:o(y);w!==y&&(b=w-c);const A=k=>-b*Math.exp(-k/r),E=k=>w+A(k),C=k=>{const D=A(k),I=E(k);f.done=Math.abs(D)<=u,f.value=f.done?w:I};let M,P;const O=k=>{m(f.value)&&(M=k,P=sE({keyframes:[f.value,v(f.value)],velocity:Jee(E,k,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:k=>{let D=!1;return!P&&M===void 0&&(D=!0,C(k),O(k)),M!==void 0&&k>=M?P.next(k-M):(!D&&C(k),f)}}}function rUe(n,e,t){const r=[],i=t||Md.mix||Kee,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||bl:e;a=v_(l,a)}r.push(a)}return r}function iUe(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(Ck(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=rUe(e,r,i),l=a.length,u=d=>{if(o&&d<n[0])return e[0];let c=0;if(l>1)for(;c<n.length-2&&!(d<n[c+1]);c++);const f=Mb(n[c],n[c+1],d);return a[c](f)};return t?d=>u(Cd(n[0],n[s-1],d)):u}function sUe(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Mb(0,e,r);n.push(Ei(t,1,i))}}function oUe(n){const e=[0];return sUe(e,n.length-1),e}function aUe(n,e){return n.map(t=>t*e)}function lUe(n,e){return n.map(()=>e||jee).splice(0,n.length-1)}function xx({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=xje(r)?r.map(bV):bV(r),s={done:!1,value:e[0]},o=aUe(t&&t.length===e.length?t:oUe(e),n),a=iUe(o,e,{ease:Array.isArray(i)?i:lUe(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const cUe=n=>n!==null;function kk(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(cUe),a=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const uUe={decay:lF,inertia:lF,tween:xx,keyframes:xx,spring:sE};function Zee(n){typeof n.type=="string"&&(n.type=uUe[n.type])}class Lk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const dUe=n=>n/100;class jk extends Lk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==fa.now()&&this.tick(fa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Zee(e);const{type:t=xx,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=t||xx;l!==xx&&typeof a[0]!="number"&&(this.mixKeyframes=v_(dUe,Kee(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Bk(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:c,repeatType:f,repeatDelay:m,type:v,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,C=r;if(c){const k=Math.min(this.currentTime,i)/a;let D=Math.floor(k),I=k%1;!I&&k>=1&&(I=1),I===1&&D--,D=Math.min(D,c+1),!!(D%2)&&(f==="reverse"?(I=1-I,m&&(I-=m/a)):f==="mirror"&&(C=o)),E=Cd(0,1,I)*a}const M=A?{done:!1,value:d[0]}:C.next(E);s&&(M.value=s(M.value));let{done:P}=M;!A&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return O&&v!==lF&&(M.value=kk(d,this.options,y,this.speed)),b&&b(M.value),O&&this.finish(),M}then(e,t){return this.finished.then(e,t)}get duration(){return gl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gl(e)}get time(){return gl(this.currentTime)}set time(e){e=ru(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fa.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Xje,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fUe(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Bp=n=>n*180/Math.PI,cF=n=>{const e=Bp(Math.atan2(n[1],n[0]));return uF(e)},hUe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cF,rotateZ:cF,skewX:n=>Bp(Math.atan(n[1])),skewY:n=>Bp(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},uF=n=>(n=n%360,n<0&&(n+=360),n),CV=cF,MV=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),TV=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),pUe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MV,scaleY:TV,scale:n=>(MV(n)+TV(n))/2,rotateX:n=>uF(Bp(Math.atan2(n[6],n[5]))),rotateY:n=>uF(Bp(Math.atan2(-n[2],n[0]))),rotateZ:CV,rotate:CV,skewX:n=>Bp(Math.atan(n[4])),skewY:n=>Bp(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function dF(n){return n.includes("scale")?1:0}function fF(n,e){if(!n||n==="none")return dF(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=pUe,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=hUe,i=a}if(!i)return dF(e);const s=r[e],o=i[1].split(",").map(gUe);return typeof s=="function"?s(o):o[s]}const mUe=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return fF(t,e)};function gUe(n){return parseFloat(n.trim())}const Mv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tv=new Set(Mv),PV=n=>n===Cv||n===Hn,vUe=new Set(["x","y","z"]),yUe=Mv.filter(n=>!vUe.has(n));function xUe(n){const e=[];return yUe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const qp={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>fF(e,"x"),y:(n,{transform:e})=>fF(e,"y")};qp.translateX=qp.x;qp.translateY=qp.y;const Xp=new Set;let hF=!1,pF=!1,mF=!1;function Qee(){if(pF){const n=Array.from(Xp).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=xUe(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pF=!1,hF=!1,Xp.forEach(n=>n.complete(mF)),Xp.clear()}function ete(){Xp.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pF=!0)})}function bUe(){mF=!0,ete(),Qee(),mF=!1}class Uk{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xp.add(this),hF||(hF=!0,yi.read(ete),yi.resolveKeyframes(Qee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const a=r.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}fUe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xp.delete(this)}cancel(){this.state==="scheduled"&&(Xp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _Ue=n=>n.startsWith("--");function wUe(n,e,t){_Ue(e)?n.style.setProperty(e,t):n.style[e]=t}const SUe=Mk(()=>window.ScrollTimeline!==void 0),AUe={};function EUe(n,e){const t=Mk(n);return()=>AUe[e]??t()}const tte=EUe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tx=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,RV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tx([0,.65,.55,1]),circOut:tx([.55,0,1,.45]),backIn:tx([.31,.01,.66,-.59]),backOut:tx([.33,1.53,.69,.99])};function nte(n,e){if(n)return typeof n=="function"?tte()?Yee(n,e):"ease-out":Uee(n)?tx(n):Array.isArray(n)?n.map(t=>nte(t,e)||RV.easeOut):RV[n]}function CUe(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:t};l&&(d.offset=l);const c=nte(a,i);Array.isArray(c)&&(d.easing=c);const f={delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),n.animate(d,f)}function rte(n){return typeof n=="function"&&"applyToOptions"in n}function MUe({type:n,...e}){return rte(n)&&tte()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TUe extends Lk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Ck(typeof e.type!="string");const u=MUe(e);this.animation=CUe(t,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=kk(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):wUe(t,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gl(e)}get time(){return gl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ru(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&SUe()?(this.animation.timeline=e,bl):t(this)}}const ite={anticipate:Bee,backInOut:Dee,circInOut:Lee};function PUe(n){return n in ite}function RUe(n){typeof n.ease=="string"&&PUe(n.ease)&&(n.ease=ite[n.ease])}const NV=10;class NUe extends TUe{constructor(e){RUe(e),Zee(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new jk({...o,autoplay:!1}),l=ru(this.finishedTime??this.time);t.setWithVelocity(a.sample(l-NV).value,a.sample(l).value,NV),a.stop()}}const IV=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(eh.test(n)||n==="0")&&!n.startsWith("url("));function IUe(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function OUe(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=IV(i,e),a=IV(s,e);return!o||!a?!1:IUe(n)||(t==="spring"||rte(t))&&r}function gF(n){n.duration=0,n.type="keyframes"}const FUe=new Set(["opacity","clipPath","filter","transform"]),DUe=Mk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BUe(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return DUe()&&t&&FUe.has(t)&&(t!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const kUe=40;class LUe extends Lk{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fa.now();const f={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:d,...c},m=d?.KeyframeResolver||Uk;this.keyframeResolver=new m(a,(v,b,y)=>this.onKeyframesResolved(v,b,f,!y),l,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=fa.now(),OUe(e,s,o,a)||((Md.instantAnimations||!l)&&d?.(kk(e,r,t)),e[0]=e[e.length-1],gF(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kUe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},m=!u&&BUe(f)?new NUe({...f,element:f.motionValue.owner.current}):new jk(f);m.finished.then(()=>this.notifyFinished()).catch(bl),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),bUe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jUe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UUe(n){const e=jUe.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function ste(n,e,t=1){const[r,i]=UUe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Mee(o)?parseFloat(o):o}return Ik(i)?ste(i,e,t+1):i}function zk(n,e){return n?.[e]??n?.default??n}const ote=new Set(["width","height","top","left","right","bottom",...Mv]),zUe={test:n=>n==="auto",parse:n=>n},ate=n=>e=>e.test(n),lte=[Cv,Hn,iu,Mf,Ije,Nje,zUe],OV=n=>lte.find(ate(n));function HUe(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Pee(n):!0}const GUe=new Set(["brightness","contrast","saturate","opacity"]);function VUe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Ok)||[];if(!r)return n;const i=t.replace(r,"");let s=GUe.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const WUe=/\b([a-z-]*)\(.*?\)/gu,vF={...eh,getAnimatableNone:n=>{const e=n.match(WUe);return e?e.map(VUe).join(" "):n}},FV={...Cv,transform:Math.round},$Ue={rotate:Mf,rotateX:Mf,rotateY:Mf,rotateZ:Mf,scale:Nw,scaleX:Nw,scaleY:Nw,scaleZ:Nw,skew:Mf,skewX:Mf,skewY:Mf,distance:Hn,translateX:Hn,translateY:Hn,translateZ:Hn,x:Hn,y:Hn,z:Hn,perspective:Hn,transformPerspective:Hn,opacity:Tb,originX:_V,originY:_V,originZ:Hn},Hk={borderWidth:Hn,borderTopWidth:Hn,borderRightWidth:Hn,borderBottomWidth:Hn,borderLeftWidth:Hn,borderRadius:Hn,radius:Hn,borderTopLeftRadius:Hn,borderTopRightRadius:Hn,borderBottomRightRadius:Hn,borderBottomLeftRadius:Hn,width:Hn,maxWidth:Hn,height:Hn,maxHeight:Hn,top:Hn,right:Hn,bottom:Hn,left:Hn,padding:Hn,paddingTop:Hn,paddingRight:Hn,paddingBottom:Hn,paddingLeft:Hn,margin:Hn,marginTop:Hn,marginRight:Hn,marginBottom:Hn,marginLeft:Hn,backgroundPositionX:Hn,backgroundPositionY:Hn,...$Ue,zIndex:FV,fillOpacity:Tb,strokeOpacity:Tb,numOctaves:FV},qUe={...Hk,color:os,backgroundColor:os,outlineColor:os,fill:os,stroke:os,borderColor:os,borderTopColor:os,borderRightColor:os,borderBottomColor:os,borderLeftColor:os,filter:vF,WebkitFilter:vF},cte=n=>qUe[n];function ute(n,e){let t=cte(n);return t!==vF&&(t=eh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const XUe=new Set(["auto","none","0"]);function KUe(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!XUe.has(s)&&Pb(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=ute(t,i)}class YUe extends Uk{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Ik(u))){const d=ste(u,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ote.has(r)||e.length!==2)return;const[i,s]=e,o=OV(i),a=OV(s);if(o!==a)if(PV(o)&&PV(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else qp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||HUe(e[i]))&&r.push(i);r.length&&KUe(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=qp[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function JUe(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const dte=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function fte(n){return Tee(n)&&"offsetHeight"in n}const DV=30,ZUe=n=>!isNaN(parseFloat(n));class QUe{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=fa.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZUe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Tk);const r=this.events[e].add(t);return e==="change"?()=>{r(),yi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DV)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,DV);return Ree(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nv(n,e){return new QUe(n,e)}const{schedule:Gk}=zee(queueMicrotask,!1),Ql={x:!1,y:!1};function hte(){return Ql.x||Ql.y}function e4e(n){return n==="x"||n==="y"?Ql[n]?null:(Ql[n]=!0,()=>{Ql[n]=!1}):Ql.x||Ql.y?null:(Ql.x=Ql.y=!0,()=>{Ql.x=Ql.y=!1})}function pte(n,e){const t=JUe(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function BV(n){return!(n.pointerType==="touch"||hte())}function t4e(n,e,t={}){const[r,i,s]=pte(n,t),o=a=>{if(!BV(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=c=>{BV(c)&&(u(c),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const mte=(n,e)=>e?n===e?!0:mte(n,e.parentElement):!1,Vk=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,n4e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r4e(n){return n4e.has(n.tagName)||n.tabIndex!==-1}const Jw=new WeakSet;function kV(n){return e=>{e.key==="Enter"&&n(e)}}function R3(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i4e=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=kV(()=>{if(Jw.has(t))return;R3(t,"down");const i=kV(()=>{R3(t,"up")}),s=()=>R3(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function LV(n){return Vk(n)&&!hte()}function s4e(n,e,t={}){const[r,i,s]=pte(n,t),o=a=>{const l=a.currentTarget;if(!LV(a))return;Jw.add(l);const u=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",f),Jw.has(l)&&Jw.delete(l),LV(m)&&typeof u=="function"&&u(m,{success:v})},c=m=>{d(m,l===window||l===document||t.useGlobalTarget||mte(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",c,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),fte(a)&&(a.addEventListener("focus",u=>i4e(u,i)),!r4e(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function gte(n){return Tee(n)&&"ownerSVGElement"in n}function o4e(n){return gte(n)&&n.tagName==="svg"}const So=n=>!!(n&&n.getVelocity),a4e=[...lte,os,eh],l4e=n=>a4e.find(ate(n)),Wk=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function jV(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function c4e(...n){return e=>{let t=!1;const r=n.map(i=>{const s=jV(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():jV(n[i],null)}}}}function u4e(...n){return B.useCallback(c4e(...n),n)}class d4e extends B.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=fte(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f4e({children:n,isPresent:e,anchorX:t,root:r}){const i=B.useId(),s=B.useRef(null),o=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=B.useContext(Wk),l=u4e(s,n?.ref);return B.useInsertionEffect(()=>{const{width:u,height:d,top:c,left:f,right:m}=o.current;if(e||!s.current||!u||!d)return;const v=t==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const y=r??document.head;return y.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${c}px !important;
          }
        `),()=>{y.contains(b)&&y.removeChild(b)}},[e]),p.jsx(d4e,{isPresent:e,childRef:s,sizeRef:o,children:B.cloneElement(n,{ref:l})})}const h4e=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=wk(p4e),d=B.useId();let c=!0,f=B.useMemo(()=>(c=!1,{id:d,initial:e,isPresent:t,custom:i,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[t,u,r]);return s&&c&&(f={...f}),B.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[t]),B.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),o==="popLayout"&&(n=p.jsx(f4e,{isPresent:t,anchorX:a,root:l,children:n})),p.jsx(cM.Provider,{value:f,children:n})};function p4e(){return new Map}function vte(n=!0){const e=B.useContext(cM);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=B.useId();B.useEffect(()=>{if(n)return i(s)},[n]);const o=B.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const Iw=n=>n.key||"";function UV(n){const e=[];return B.Children.forEach(n,t=>{B.isValidElement(t)&&e.push(t)}),e}const Rb=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=vte(o),c=B.useMemo(()=>UV(n),[n]),f=o&&!u?[]:c.map(Iw),m=B.useRef(!0),v=B.useRef(c),b=wk(()=>new Map),[y,w]=B.useState(c),[A,E]=B.useState(c);Cee(()=>{m.current=!1,v.current=c;for(let P=0;P<A.length;P++){const O=Iw(A[P]);f.includes(O)?b.delete(O):b.get(O)!==!0&&b.set(O,!1)}},[A,f.length,f.join("-")]);const C=[];if(c!==y){let P=[...c];for(let O=0;O<A.length;O++){const k=A[O],D=Iw(k);f.includes(D)||(P.splice(O,0,k),C.push(k))}return s==="wait"&&C.length&&(P=C),E(UV(P)),w(c),null}const{forceRender:M}=B.useContext(_k);return p.jsx(p.Fragment,{children:A.map(P=>{const O=Iw(P),k=o&&!u?!1:c===A||f.includes(O),D=()=>{if(b.has(O))b.set(O,!0);else return;let I=!0;b.forEach(L=>{L||(I=!1)}),I&&(M?.(),E(v.current),o&&d?.(),r&&r())};return p.jsx(h4e,{isPresent:k,initial:!m.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:k?void 0:D,anchorX:a,children:P},O)})})},yte=B.createContext({strict:!1}),zV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rv={};for(const n in zV)rv[n]={isEnabled:e=>zV[n].some(t=>!!e[t])};function m4e(n){for(const e in n)rv[e]={...rv[e],...n[e]}}const g4e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oE(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||g4e.has(n)}let xte=n=>!oE(n);function v4e(n){typeof n=="function"&&(xte=e=>e.startsWith("on")?!oE(e):n(e))}try{v4e(require("@emotion/is-prop-valid").default)}catch{}function y4e(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(xte(i)||t===!0&&oE(i)||!e&&!oE(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const uM=B.createContext({});function dM(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Nb(n){return typeof n=="string"||Array.isArray(n)}const $k=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qk=["initial",...$k];function fM(n){return dM(n.animate)||qk.some(e=>Nb(n[e]))}function bte(n){return!!(fM(n)||n.variants)}function x4e(n,e){if(fM(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Nb(t)?t:void 0,animate:Nb(r)?r:void 0}}return n.inherit!==!1?e:{}}function b4e(n){const{initial:e,animate:t}=x4e(n,B.useContext(uM));return B.useMemo(()=>({initial:e,animate:t}),[HV(e),HV(t)])}function HV(n){return Array.isArray(n)?n.join(" "):n}const Ib={};function _4e(n){for(const e in n)Ib[e]=n[e],Nk(e)&&(Ib[e].isCSSVariable=!0)}function _te(n,{layout:e,layoutId:t}){return Tv.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ib[n]||n==="opacity")}const w4e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S4e=Mv.length;function A4e(n,e,t){let r="",i=!0;for(let s=0;s<S4e;s++){const o=Mv[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=dte(a,Hk[o]);if(!l){i=!1;const d=w4e[o]||o;r+=`${d}(${u}) `}t&&(e[o]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Xk(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(Tv.has(l)){o=!0;continue}else if(Nk(l)){i[l]=u;continue}else{const d=dte(u,Hk[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||t?r.transform=A4e(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const Kk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wte(n,e,t){for(const r in e)!So(e[r])&&!_te(r,t)&&(n[r]=e[r])}function E4e({transformTemplate:n},e){return B.useMemo(()=>{const t=Kk();return Xk(t,e,n),Object.assign({},t.vars,t.style)},[e])}function C4e(n,e){const t=n.style||{},r={};return wte(r,t,n),Object.assign(r,E4e(n,e)),r}function M4e(n,e){const t={},r=C4e(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const T4e={offset:"stroke-dashoffset",array:"stroke-dasharray"},P4e={offset:"strokeDashoffset",array:"strokeDasharray"};function R4e(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?T4e:P4e;n[s.offset]=Hn.transform(-r);const o=Hn.transform(e),a=Hn.transform(t);n[s.array]=`${o} ${a}`}function Ste(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,d){if(Xk(n,a,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:c,style:f}=n;c.transform&&(f.transform=c.transform,delete c.transform),(f.transform||c.transformOrigin)&&(f.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),f.transform&&(f.transformBox=d?.transformBox??"fill-box",delete c.transformBox),e!==void 0&&(c.x=e),t!==void 0&&(c.y=t),r!==void 0&&(c.scale=r),i!==void 0&&R4e(c,i,s,o,!1)}const Ate=()=>({...Kk(),attrs:{}}),Ete=n=>typeof n=="string"&&n.toLowerCase()==="svg";function N4e(n,e,t,r){const i=B.useMemo(()=>{const s=Ate();return Ste(s,e,Ete(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};wte(s,n.style,n),i.style={...s,...i.style}}return i}const I4e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yk(n){return typeof n!="string"||n.includes("-")?!1:!!(I4e.indexOf(n)>-1||/[A-Z]/u.test(n))}function O4e(n,e,t,{latestValues:r},i,s=!1){const a=(Yk(n)?N4e:M4e)(e,r,i,n),l=y4e(e,typeof n=="string",s),u=n!==B.Fragment?{...l,...a,ref:t}:{},{children:d}=e,c=B.useMemo(()=>So(d)?d.get():d,[d]);return B.createElement(n,{...u,children:c})}function GV(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Jk(n,e,t,r){if(typeof e=="function"){const[i,s]=GV(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=GV(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function Zw(n){return So(n)?n.get():n}function F4e({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:D4e(t,r,i,n),renderState:e()}}function D4e(n,e,t,r){const i={},s=r(n,{});for(const f in s)i[f]=Zw(s[f]);let{initial:o,animate:a}=n;const l=fM(n),u=bte(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const c=d?a:o;if(c&&typeof c!="boolean"&&!dM(c)){const f=Array.isArray(c)?c:[c];for(let m=0;m<f.length;m++){const v=Jk(n,f[m]);if(v){const{transitionEnd:b,transition:y,...w}=v;for(const A in w){let E=w[A];if(Array.isArray(E)){const C=d?E.length-1:0;E=E[C]}E!==null&&(i[A]=E)}for(const A in b)i[A]=b[A]}}}return i}const Cte=n=>(e,t)=>{const r=B.useContext(uM),i=B.useContext(cM),s=()=>F4e(n,e,r,i);return t?s():wk(s)};function Zk(n,e,t){const{style:r}=n,i={};for(const s in r)(So(r[s])||e.style&&So(e.style[s])||_te(s,n)||t?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const B4e=Cte({scrapeMotionValuesFromProps:Zk,createRenderState:Kk});function Mte(n,e,t){const r=Zk(n,e,t);for(const i in n)if(So(n[i])||So(e[i])){const s=Mv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const k4e=Cte({scrapeMotionValuesFromProps:Mte,createRenderState:Ate}),L4e=Symbol.for("motionComponentSymbol");function $g(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function j4e(n,e,t){return B.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):$g(t)&&(t.current=r))},[e])}const Qk=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U4e="framerAppearId",Tte="data-"+Qk(U4e),Pte=B.createContext({});function z4e(n,e,t,r,i){const{visualElement:s}=B.useContext(uM),o=B.useContext(yte),a=B.useContext(cM),l=B.useContext(Wk).reducedMotion,u=B.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,c=B.useContext(Pte);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&H4e(u.current,t,i,c);const f=B.useRef(!1);B.useInsertionEffect(()=>{d&&f.current&&d.update(t,a)});const m=t[Tte],v=B.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return Cee(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),B.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),v.current=!1),d.enteringChildren=void 0)}),d}function H4e(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Rte(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&$g(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function Rte(n){if(n)return n.options.allowProjection!==!1?n.projection:Rte(n.parent)}function N3(n,{forwardMotionProps:e=!1}={},t,r){t&&m4e(t);const i=Yk(n)?k4e:B4e;function s(a,l){let u;const d={...B.useContext(Wk),...a,layoutId:G4e(a)},{isStatic:c}=d,f=b4e(a),m=i(a,c);if(!c&&Sk){V4e();const v=W4e(d);u=v.MeasureLayout,f.visualElement=z4e(n,m,d,r,v.ProjectionNode)}return p.jsxs(uM.Provider,{value:f,children:[u&&f.visualElement?p.jsx(u,{visualElement:f.visualElement,...d}):null,O4e(n,a,j4e(m,f.visualElement,l),m,c,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=B.forwardRef(s);return o[L4e]=n,o}function G4e({layoutId:n}){const e=B.useContext(_k).id;return e&&n!==void 0?e+"-"+n:n}function V4e(n,e){B.useContext(yte).strict}function W4e(n){const{drag:e,layout:t}=rv;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function $4e(n,e){if(typeof Proxy>"u")return N3;const t=new Map,r=(s,o)=>N3(s,o,n,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(t.has(o)||t.set(o,N3(o,void 0,n,e)),t.get(o))})}function Nte({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function q4e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function X4e(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function I3(n){return n===void 0||n===1}function yF({scale:n,scaleX:e,scaleY:t}){return!I3(n)||!I3(e)||!I3(t)}function xp(n){return yF(n)||Ite(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Ite(n){return VV(n.x)||VV(n.y)}function VV(n){return n&&n!=="0%"}function aE(n,e,t){const r=n-t,i=e*r;return t+i}function WV(n,e,t,r,i){return i!==void 0&&(n=aE(n,i,r)),aE(n,t,r)+e}function xF(n,e=0,t=1,r,i){n.min=WV(n.min,e,t,r,i),n.max=WV(n.max,e,t,r,i)}function Ote(n,{x:e,y:t}){xF(n.x,e.translate,e.scale,e.originPoint),xF(n.y,t.translate,t.scale,t.originPoint)}const $V=.999999999999,qV=1.0000000000001;function K4e(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xg(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ote(n,o)),r&&xp(s.latestValues)&&Xg(n,s.latestValues))}e.x<qV&&e.x>$V&&(e.x=1),e.y<qV&&e.y>$V&&(e.y=1)}function qg(n,e){n.min=n.min+e,n.max=n.max+e}function XV(n,e,t,r,i=.5){const s=Ei(n.min,n.max,i);xF(n,e,t,s,r)}function Xg(n,e){XV(n.x,e.x,e.scaleX,e.scale,e.originX),XV(n.y,e.y,e.scaleY,e.scale,e.originY)}function Fte(n,e){return Nte(X4e(n.getBoundingClientRect(),e))}function Y4e(n,e,t){const r=Fte(n,t),{scroll:i}=e;return i&&(qg(r.x,i.offset.x),qg(r.y,i.offset.y)),r}const KV=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kg=()=>({x:KV(),y:KV()}),YV=()=>({min:0,max:0}),Wi=()=>({x:YV(),y:YV()}),bF={current:null},Dte={current:!1};function J4e(){if(Dte.current=!0,!!Sk)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>bF.current=n.matches;n.addEventListener("change",e),e()}else bF.current=!1}const Z4e=new WeakMap;function Q4e(n,e,t){for(const r in e){const i=e[r],s=t[r];if(So(i))n.addValue(r,i);else if(So(s))n.addValue(r,nv(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,nv(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const JV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e6e{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=fa.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,yi.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=fM(t),this.isVariantNode=bte(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in c){const m=c[f];l[f]!==void 0&&So(m)&&m.set(l[f])}}mount(e){this.current=e,Z4e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Dte.current||J4e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bF.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qf(this.notifyUpdate),Qf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Tv.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&yi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rv){const t=rv[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<JV.length;r++){const i=JV[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Q4e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=nv(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Mee(r)||Pee(r))?r=parseFloat(r):!l4e(r)&&eh.test(t)&&(r=ute(e,t)),this.setBaseTarget(e,So(r)?r.get():r)),So(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=Jk(this.props,t,this.presenceContext?.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!So(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Tk),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Gk.render(this.render)}}class Bte extends e6e{constructor(){super(...arguments),this.KeyframeResolver=YUe}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;So(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function kte(n,{style:e,vars:t},r,i){const s=n.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in t)s.setProperty(o,t[o])}function t6e(n){return window.getComputedStyle(n)}class n6e extends Bte{constructor(){super(...arguments),this.type="html",this.renderInstance=kte}readValueFromInstance(e,t){if(Tv.has(t))return this.projection?.isProjecting?dF(t):mUe(e,t);{const r=t6e(e),i=(Nk(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Fte(e,t)}build(e,t,r){Xk(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Zk(e,t,r)}}const Lte=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r6e(n,e,t,r){kte(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Lte.has(i)?i:Qk(i),e.attrs[i])}class i6e extends Bte{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Tv.has(t)){const r=cte(t);return r&&r.default||0}return t=Lte.has(t)?t:Qk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Mte(e,t,r)}build(e,t,r){Ste(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){r6e(e,t,r,i)}mount(e){this.isSVGTag=Ete(e.tagName),super.mount(e)}}const s6e=(n,e)=>Yk(n)?new i6e(e):new n6e(e,{allowProjection:n!==B.Fragment});function f0(n,e,t){const r=n.getProps();return Jk(r,e,t!==void 0?t:r.custom,n)}const _F=n=>Array.isArray(n);function o6e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nv(t))}function a6e(n){return _F(n)?n[n.length-1]||0:n}function l6e(n,e){const t=f0(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=a6e(s[o]);o6e(n,o,a)}}function c6e(n){return!!(So(n)&&n.add)}function wF(n,e){const t=n.getValue("willChange");if(c6e(t))return t.add(e);if(!t&&Md.WillChange){const r=new Md.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function jte(n){return n.props[Tte]}const u6e=n=>n!==null;function d6e(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(u6e),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const f6e={type:"spring",stiffness:500,damping:25,restSpeed:10},h6e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),p6e={type:"keyframes",duration:.8},m6e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g6e=(n,{keyframes:e})=>e.length>2?p6e:Tv.has(n)?n.startsWith("scale")?h6e(e[1]):f6e:m6e;function v6e({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const eL=(n,e,t,r={},i,s)=>o=>{const a=zk(r,n)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ru(l);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};v6e(a)||Object.assign(d,g6e(n,d)),d.duration&&(d.duration=ru(d.duration)),d.repeatDelay&&(d.repeatDelay=ru(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let c=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(gF(d),d.delay===0&&(c=!0)),(Md.instantAnimations||Md.skipAnimations)&&(c=!0,gF(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,c&&!s&&e.get()!==void 0){const f=d6e(d.keyframes,a);if(f!==void 0){yi.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new jk(d):new LUe(d)};function y6e({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Ute(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const c=n.getValue(d,n.latestValues[d]??null),f=a[d];if(f===void 0||u&&y6e(u,d))continue;const m={delay:t,...zk(s||{},d)},v=c.get();if(v!==void 0&&!c.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const w=jte(n);if(w){const A=window.MotionHandoffAnimation(w,d,yi);A!==null&&(m.startTime=A,b=!0)}}wF(n,d),c.start(eL(d,c,f,n.shouldReduceMotion&&ote.has(d)?{type:!1}:m,n,b));const y=c.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{yi.update(()=>{o&&l6e(n,o)})}),l}function zte(n,e,t,r=0,i=1){const s=Array.from(n).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=n.size,a=(o-1)*r;return typeof t=="function"?t(s,o):i===1?s*r:a-s*r}function SF(n,e,t={}){const r=f0(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(Ute(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:c}=i;return x6e(n,e,l,u,d,c,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function x6e(n,e,t=0,r=0,i=0,s=1,o){const a=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),a.push(SF(l,e,{...o,delay:t+(typeof r=="function"?0:r)+zte(n.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function b6e(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>SF(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=SF(n,e,t);else{const i=typeof e=="function"?f0(n,e,t.custom):e;r=Promise.all(Ute(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function Hte(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const _6e=qk.length;function Gte(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Gte(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<_6e;t++){const r=qk[t],i=n.props[r];(Nb(i)||i===!1)&&(e[r]=i)}return e}const w6e=[...$k].reverse(),S6e=$k.length;function A6e(n){return e=>Promise.all(e.map(({animation:t,options:r})=>b6e(n,t,r)))}function E6e(n){let e=A6e(n),t=ZV(),r=!0;const i=l=>(u,d)=>{const c=f0(n,d,l==="exit"?n.presenceContext?.custom:void 0);if(c){const{transition:f,transitionEnd:m,...v}=c;u={...u,...v,...m}}return u};function s(l){e=l(n)}function o(l){const{props:u}=n,d=Gte(n.parent)||{},c=[],f=new Set;let m={},v=1/0;for(let y=0;y<S6e;y++){const w=w6e[y],A=t[w],E=u[w]!==void 0?u[w]:d[w],C=Nb(E),M=w===l?A.isActive:null;M===!1&&(v=y);let P=E===d[w]&&E!==u[w]&&C;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...m},!A.isActive&&M===null||!E&&!A.prevProp||dM(E)||typeof E=="boolean")continue;const O=C6e(A.prevProp,E);let k=O||w===l&&A.isActive&&!P&&C||y>v&&C,D=!1;const I=Array.isArray(E)?E:[E];let L=I.reduce(i(w),{});M===!1&&(L={});const{prevResolvedValues:W={}}=A,q={...W,...L},K=J=>{k=!0,f.has(J)&&(D=!0,f.delete(J)),A.needsAnimating[J]=!0;const H=n.getValue(J);H&&(H.liveStyle=!1)};for(const J in q){const H=L[J],Y=W[J];if(m.hasOwnProperty(J))continue;let ne=!1;_F(H)&&_F(Y)?ne=!Hte(H,Y):ne=H!==Y,ne?H!=null?K(J):f.add(J):H!==void 0&&f.has(J)?K(J):A.protectedKeys[J]=!0}A.prevProp=E,A.prevResolvedValues=L,A.isActive&&(m={...m,...L}),r&&n.blockInitialAnimation&&(k=!1);const ie=P&&O;k&&(!ie||D)&&c.push(...I.map(J=>{const H={type:w};if(typeof J=="string"&&r&&!ie&&n.manuallyAnimateOnMount&&n.parent){const{parent:Y}=n,ne=f0(Y,J);if(Y.enteringChildren&&ne){const{delayChildren:Z}=ne.transition||{};H.delay=zte(Y.enteringChildren,n,Z)}}return{animation:J,options:H}}))}if(f.size){const y={};if(typeof u.initial!="boolean"){const w=f0(n,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(y.transition=w.transition)}f.forEach(w=>{const A=n.getBaseTarget(w),E=n.getValue(w);E&&(E.liveStyle=!0),y[w]=A??null}),c.push({animation:y})}let b=!!c.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(c):Promise.resolve()}function a(l,u){if(t[l].isActive===u)return Promise.resolve();n.variantChildren?.forEach(c=>c.animationState?.setActive(l,u)),t[l].isActive=u;const d=o(l);for(const c in t)t[c].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=ZV()}}}function C6e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Hte(e,n):!1}function hp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZV(){return{animate:hp(!0),whileInView:hp(),whileHover:hp(),whileTap:hp(),whileDrag:hp(),whileFocus:hp(),exit:hp()}}class hh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class M6e extends hh{constructor(e){super(e),e.animationState||(e.animationState=E6e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dM(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let T6e=0;class P6e extends hh{constructor(){super(...arguments),this.id=T6e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const R6e={animation:{Feature:M6e},exit:{Feature:P6e}};function Ob(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function b_(n){return{point:{x:n.pageX,y:n.pageY}}}const N6e=n=>e=>Vk(e)&&n(e,b_(e));function bx(n,e,t,r){return Ob(n,e,N6e(t),r)}const Vte=1e-4,I6e=1-Vte,O6e=1+Vte,Wte=.01,F6e=0-Wte,D6e=0+Wte;function Vo(n){return n.max-n.min}function B6e(n,e,t){return Math.abs(n-e)<=t}function QV(n,e,t,r=.5){n.origin=r,n.originPoint=Ei(e.min,e.max,n.origin),n.scale=Vo(t)/Vo(e),n.translate=Ei(t.min,t.max,n.origin)-n.originPoint,(n.scale>=I6e&&n.scale<=O6e||isNaN(n.scale))&&(n.scale=1),(n.translate>=F6e&&n.translate<=D6e||isNaN(n.translate))&&(n.translate=0)}function _x(n,e,t,r){QV(n.x,e.x,t.x,r?r.originX:void 0),QV(n.y,e.y,t.y,r?r.originY:void 0)}function e7(n,e,t){n.min=t.min+e.min,n.max=n.min+Vo(e)}function k6e(n,e,t){e7(n.x,e.x,t.x),e7(n.y,e.y,t.y)}function t7(n,e,t){n.min=e.min-t.min,n.max=n.min+Vo(e)}function wx(n,e,t){t7(n.x,e.x,t.x),t7(n.y,e.y,t.y)}function al(n){return[n("x"),n("y")]}const $te=({current:n})=>n?n.ownerDocument.defaultView:null,n7=(n,e)=>Math.abs(n-e);function L6e(n,e){const t=n7(n.x,e.x),r=n7(n.y,e.y);return Math.sqrt(t**2+r**2)}class qte{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=F3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=L6e(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:b}=f,{timestamp:y}=Zs;this.history.push({...b,timestamp:y});const{onStart:w,onMove:A}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=O3(m,this.transformPagePoint),yi.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=F3(f.type==="pointercancel"?this.lastMoveEventInfo:O3(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,w),b&&b(f,w)},!Vk(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=b_(e),l=O3(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=Zs;this.history=[{...u,timestamp:d}];const{onSessionStart:c}=t;c&&c(e,F3(l,this.history)),this.removeListeners=v_(bx(this.contextWindow,"pointermove",this.handlePointerMove),bx(this.contextWindow,"pointerup",this.handlePointerUp),bx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qf(this.updatePoint)}}function O3(n,e){return e?{point:e(n.point)}:n}function r7(n,e){return{x:n.x-e.x,y:n.y-e.y}}function F3({point:n},e){return{point:n,delta:r7(n,Xte(e)),offset:r7(n,j6e(e)),velocity:U6e(e,.1)}}function j6e(n){return n[0]}function Xte(n){return n[n.length-1]}function U6e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Xte(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ru(e)));)t--;if(!r)return{x:0,y:0};const s=gl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function z6e(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Ei(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Ei(t,n,r.max):Math.min(n,t)),n}function i7(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function H6e(n,{top:e,left:t,bottom:r,right:i}){return{x:i7(n.x,t,i),y:i7(n.y,e,r)}}function s7(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function G6e(n,e){return{x:s7(n.x,e.x),y:s7(n.y,e.y)}}function V6e(n,e){let t=.5;const r=Vo(n),i=Vo(e);return i>r?t=Mb(e.min,e.max-r,n.min):r>i&&(t=Mb(n.min,n.max-i,e.min)),Cd(0,1,t)}function W6e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const AF=.35;function $6e(n=AF){return n===!1?n=0:n===!0&&(n=AF),{x:o7(n,"left","right"),y:o7(n,"top","bottom")}}function o7(n,e,t){return{min:a7(n,e),max:a7(n,t)}}function a7(n,e){return typeof n=="number"?n:n[e]||0}const q6e=new WeakMap;class X6e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(b_(c).point)},o=(c,f)=>{const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e4e(m),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),al(w=>{let A=this.getAxisMotionValue(w).get()||0;if(iu.test(A)){const{projection:E}=this.visualElement;if(E&&E.layout){const C=E.layout.layoutBox[w];C&&(A=Vo(C)*(parseFloat(A)/100))}}this.originPoint[w]=A}),b&&yi.postRender(()=>b(c,f)),wF(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,f)=>{this.latestPointerEvent=c,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(v&&this.currentDirection===null){this.currentDirection=K6e(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(c,f)},l=(c,f)=>{this.latestPointerEvent=c,this.latestPanInfo=f,this.stop(c,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>al(c=>this.getAnimationState(c)==="paused"&&this.getAxisMotionValue(c).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new qte(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:$te(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&yi.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ow(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=z6e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&$g(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=H6e(r.layoutBox,e):this.constraints=!1,this.elastic=$6e(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&al(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=W6e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!$g(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Y4e(r,i.root,this.visualElement.getTransformPagePoint());let o=G6e(i.layout.layoutBox,s);if(t){const a=t(q4e(o));this.hasMutatedConstraints=!!a,a&&(o=Nte(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=al(d=>{if(!Ow(d,t,this.currentDirection))return;let c=l&&l[d]||{};o&&(c={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return wF(this.visualElement,e),r.start(eL(e,r,0,t,this.visualElement,!1))}stopAnimation(){al(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){al(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){al(t=>{const{drag:r}=this.getProps();if(!Ow(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Ei(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!$g(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};al(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=V6e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),al(o=>{if(!Ow(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ei(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;q6e.set(this.visualElement,this);const e=this.visualElement.current,t=bx(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$g(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yi.read(r);const o=Ob(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(al(d=>{const c=this.getAxisMotionValue(d);c&&(this.originPoint[d]+=l[d].translate,c.set(c.get()+l[d].translate))}),this.visualElement.render())}));return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=AF,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ow(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function K6e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Y6e extends hh{constructor(e){super(e),this.removeGroupControls=bl,this.removeListeners=bl,this.controls=new X6e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bl}unmount(){this.removeGroupControls(),this.removeListeners()}}const l7=n=>(e,t)=>{n&&yi.postRender(()=>n(e,t))};class J6e extends hh{constructor(){super(...arguments),this.removePointerDownListener=bl}onPointerDown(e){this.session=new qte(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$te(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:l7(e),onStart:l7(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&yi.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=bx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c7(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $y={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Hn.test(n))n=parseFloat(n);else return n;const t=c7(n,e.target.x),r=c7(n,e.target.y);return`${t}% ${r}%`}},Z6e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=eh.parse(n);if(i.length>5)return r;const s=eh.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ei(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let D3=!1;class Q6e extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;_4e(e5e),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),D3&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Qw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,D3=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||yi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;D3=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kte(n){const[e,t]=vte(),r=B.useContext(_k);return p.jsx(Q6e,{...n,layoutGroup:r,switchLayoutGroup:B.useContext(Pte),isPresent:e,safeToRemove:t})}const e5e={borderRadius:{...$y,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$y,borderTopRightRadius:$y,borderBottomLeftRadius:$y,borderBottomRightRadius:$y,boxShadow:Z6e};function t5e(n,e,t){const r=So(n)?n:nv(n);return r.start(eL("",r,e,t)),r.animation}const n5e=(n,e)=>n.depth-e.depth;class r5e{constructor(){this.children=[],this.isDirty=!1}add(e){Ak(this.children,e),this.isDirty=!0}remove(e){Ek(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n5e),this.isDirty=!1,this.children.forEach(e)}}function i5e(n,e){const t=fa.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Qf(r),n(s-e))};return yi.setup(r,!0),()=>Qf(r)}const Yte=["TopLeft","TopRight","BottomLeft","BottomRight"],s5e=Yte.length,u7=n=>typeof n=="string"?parseFloat(n):n,d7=n=>typeof n=="number"||Hn.test(n);function o5e(n,e,t,r,i,s){i?(n.opacity=Ei(0,t.opacity??1,a5e(r)),n.opacityExit=Ei(e.opacity??1,0,l5e(r))):s&&(n.opacity=Ei(e.opacity??1,t.opacity??1,r));for(let o=0;o<s5e;o++){const a=`border${Yte[o]}Radius`;let l=f7(e,a),u=f7(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||d7(l)===d7(u)?(n[a]=Math.max(Ei(u7(l),u7(u),r),0),(iu.test(u)||iu.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=Ei(e.rotate||0,t.rotate||0,r))}function f7(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const a5e=Jte(0,.5,kee),l5e=Jte(.5,.95,bl);function Jte(n,e,t){return r=>r<n?0:r>e?1:t(Mb(n,e,r))}function h7(n,e){n.min=e.min,n.max=e.max}function ol(n,e){h7(n.x,e.x),h7(n.y,e.y)}function p7(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function m7(n,e,t,r,i){return n-=e,n=aE(n,1/t,r),i!==void 0&&(n=aE(n,1/i,r)),n}function c5e(n,e=0,t=1,r=.5,i,s=n,o=n){if(iu.test(e)&&(e=parseFloat(e),e=Ei(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ei(s.min,s.max,r);n===s&&(a-=e),n.min=m7(n.min,e,t,a,i),n.max=m7(n.max,e,t,a,i)}function g7(n,e,[t,r,i],s,o){c5e(n,e[t],e[r],e[i],e.scale,s,o)}const u5e=["x","scaleX","originX"],d5e=["y","scaleY","originY"];function v7(n,e,t,r){g7(n.x,e,u5e,t?t.x:void 0,r?r.x:void 0),g7(n.y,e,d5e,t?t.y:void 0,r?r.y:void 0)}function y7(n){return n.translate===0&&n.scale===1}function Zte(n){return y7(n.x)&&y7(n.y)}function x7(n,e){return n.min===e.min&&n.max===e.max}function f5e(n,e){return x7(n.x,e.x)&&x7(n.y,e.y)}function b7(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Qte(n,e){return b7(n.x,e.x)&&b7(n.y,e.y)}function _7(n){return Vo(n.x)/Vo(n.y)}function w7(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class h5e{constructor(){this.members=[]}add(e){Ak(this.members,e),e.scheduleRender()}remove(e){if(Ek(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p5e(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=t?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:d,rotateX:c,rotateY:f,skewX:m,skewY:v}=t;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),c&&(r+=`rotateX(${c}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const B3=["","X","Y","Z"],m5e=1e3;let g5e=0;function k3(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function ene(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=jte(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",yi,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&ene(r)}function tne({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=g5e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x5e),this.nodes.forEach(S5e),this.nodes.forEach(A5e),this.nodes.forEach(b5e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new r5e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Tk),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=gte(o)&&!o4e(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),n){let d,c=0;const f=()=>this.root.updateBlockedByResize=!1;yi.read(()=>{c=window.innerWidth}),n(o,()=>{const m=window.innerWidth;m!==c&&(c=m,this.root.updateBlockedByResize=!0,d&&d(),d=i5e(f,250),Qw.hasAnimatedSinceResize&&(Qw.hasAnimatedSinceResize=!1,this.nodes.forEach(E7)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||P5e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!Qte(this.targetLayout,m),A=!c&&f;if(this.options.layoutRoot||this.resumeFrom||A||c&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...zk(v,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,A)}else c||E7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E5e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ene(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const c=this.path[d];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S7);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A7);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w5e),this.nodes.forEach(v5e),this.nodes.forEach(y5e)):this.nodes.forEach(A7),this.clearAllSnapshots();const a=fa.now();Zs.delta=Cd(0,1e3/60,a-Zs.timestamp),Zs.timestamp=a,Zs.isProcessing=!0,E3.update.process(Zs),E3.preRender.process(Zs),E3.render.process(Zs),Zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_5e),this.sharedNodes.forEach(C5e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vo(this.snapshot.measuredBox.x)&&!Vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Zte(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||xp(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),R5e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wi();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(N5e))){const{scroll:u}=this.root;u&&(qg(a.x,u.offset.x),qg(a.y,u.offset.y))}return a}removeElementScroll(o){const a=Wi();if(ol(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:c}=u;u!==this.root&&d&&c.layoutScroll&&(d.wasRoot&&ol(a,o),qg(a.x,d.offset.x),qg(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Wi();ol(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xp(d.latestValues)&&Xg(l,d.latestValues)}return xp(this.latestValues)&&Xg(l,this.latestValues),l}removeTransform(o){const a=Wi();ol(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xp(u.latestValues))continue;yF(u.latestValues)&&u.updateSnapshot();const d=Wi(),c=u.measurePageBox();ol(d,c),v7(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return xp(this.latestValues)&&v7(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:c}=this.options;if(!(!this.layout||!(d||c))){if(this.resolvedRelativeTargetAt=Zs.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wi(),this.relativeTargetOrigin=Wi(),wx(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wi(),this.targetWithTransforms=Wi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),k6e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ol(this.target,this.layout.layoutBox),Ote(this.target,this.targetDelta)):ol(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wi(),this.relativeTargetOrigin=Wi(),wx(this.relativeTargetOrigin,this.target,f.target),ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yF(this.parent.latestValues)||Ite(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zs.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ol(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,f=this.treeScale.y;K4e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wi());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p7(this.prevProjectionDelta.x,this.projectionDelta.x),p7(this.prevProjectionDelta.y,this.projectionDelta.y)),_x(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==f||!w7(this.projectionDelta.x,this.prevProjectionDelta.x)||!w7(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kg(),this.projectionDelta=Kg(),this.projectionDeltaWithTransform=Kg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},c=Kg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Wi(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=m!==v,y=this.getStack(),w=!y||y.members.length<=1,A=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(T5e));this.animationProgress=0;let E;this.mixTargetDelta=C=>{const M=C/1e3;C7(c.x,o.x,M),C7(c.y,o.y,M),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wx(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M5e(this.relativeTarget,this.relativeTargetOrigin,f,M),E&&f5e(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Wi()),ol(E,this.relativeTarget)),b&&(this.animationValues=d,o5e(d,u,this.latestValues,M,A,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yi.update(()=>{Qw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nv(0)),this.currentAnimation=t5e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m5e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&nne(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wi();const c=Vo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+c;const f=Vo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ol(a,l),Xg(a,d),_x(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new h5e),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&k3("z",o,u,this.animationValues);for(let d=0;d<B3.length;d++)k3(`rotate${B3[d]}`,o,u,this.animationValues),k3(`skew${B3[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Zw(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Zw(a?.pointerEvents)||""),this.hasProjected&&!xp(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let c=p5e(this.projectionDeltaWithTransform,this.treeScale,d);l&&(c=l(d,c)),o.transform=c;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Ib){if(d[v]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:w}=Ib[v],A=c==="none"?d[v]:b(d[v],u);if(y){const E=y.length;for(let C=0;C<E;C++)o[y[C]]=A}else w?this.options.visualElement.renderState.vars[v]=A:o[v]=A}this.options.layoutId&&(o.pointerEvents=u===this?Zw(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(S7),this.root.sharedNodes.clear()}}}function v5e(n){n.updateLayout()}function y5e(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,s=e.source!==n.layout.source;i==="size"?al(d=>{const c=s?e.measuredBox[d]:e.layoutBox[d],f=Vo(c);c.min=t[d].min,c.max=c.min+f}):nne(i,e.layoutBox,t)&&al(d=>{const c=s?e.measuredBox[d]:e.layoutBox[d],f=Vo(t[d]);c.max=c.min+f,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+f)});const o=Kg();_x(o,t,e.layoutBox);const a=Kg();s?_x(a,n.applyTransform(r,!0),e.measuredBox):_x(a,t,e.layoutBox);const l=!Zte(o);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:c,layout:f}=d;if(c&&f){const m=Wi();wx(m,e.layoutBox,c.layoutBox);const v=Wi();wx(v,t,f.layoutBox),Qte(m,v)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=m,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function x5e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function b5e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _5e(n){n.clearSnapshot()}function S7(n){n.clearMeasurements()}function A7(n){n.isLayoutDirty=!1}function w5e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function E7(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function S5e(n){n.resolveTargetDelta()}function A5e(n){n.calcProjection()}function E5e(n){n.resetSkewAndRotation()}function C5e(n){n.removeLeadSnapshot()}function C7(n,e,t){n.translate=Ei(e.translate,0,t),n.scale=Ei(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function M7(n,e,t,r){n.min=Ei(e.min,t.min,r),n.max=Ei(e.max,t.max,r)}function M5e(n,e,t,r){M7(n.x,e.x,t.x,r),M7(n.y,e.y,t.y,r)}function T5e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const P5e={duration:.45,ease:[.4,0,.1,1]},T7=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),P7=T7("applewebkit/")&&!T7("chrome/")?Math.round:bl;function R7(n){n.min=P7(n.min),n.max=P7(n.max)}function R5e(n){R7(n.x),R7(n.y)}function nne(n,e,t){return n==="position"||n==="preserve-aspect"&&!B6e(_7(e),_7(t),.2)}function N5e(n){return n!==n.root&&n.scroll?.wasRoot}const I5e=tne({attachResizeListener:(n,e)=>Ob(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),L3={current:void 0},rne=tne({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!L3.current){const n=new I5e({});n.mount(window),n.setOptions({layoutScroll:!0}),L3.current=n}return L3.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),O5e={pan:{Feature:J6e},drag:{Feature:Y6e,ProjectionNode:rne,MeasureLayout:Kte}};function N7(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&yi.postRender(()=>s(e,b_(e)))}class F5e extends hh{mount(){const{current:e}=this.node;e&&(this.unmount=t4e(e,(t,r)=>(N7(this.node,r,"Start"),i=>N7(this.node,i,"End"))))}unmount(){}}class D5e extends hh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=v_(Ob(this.node.current,"focus",()=>this.onFocus()),Ob(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I7(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&yi.postRender(()=>s(e,b_(e)))}class B5e extends hh{mount(){const{current:e}=this.node;e&&(this.unmount=s4e(e,(t,r)=>(I7(this.node,r,"Start"),(i,{success:s})=>I7(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const EF=new WeakMap,j3=new WeakMap,k5e=n=>{const e=EF.get(n.target);e&&e(n)},L5e=n=>{n.forEach(k5e)};function j5e({root:n,...e}){const t=n||document;j3.has(t)||j3.set(t,{});const r=j3.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(L5e,{root:n,...e})),r[i]}function U5e(n,e,t){const r=j5e(e);return EF.set(n,t),r.observe(n),()=>{EF.delete(n),r.unobserve(n)}}const z5e={some:0,all:1};class H5e extends hh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:z5e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:c}=this.node.getProps(),f=u?d:c;f&&f(l)};return U5e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(G5e(e,t))&&this.startObserver()}unmount(){}}function G5e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const V5e={inView:{Feature:H5e},tap:{Feature:B5e},focus:{Feature:D5e},hover:{Feature:F5e}},W5e={layout:{ProjectionNode:rne,MeasureLayout:Kte}},$5e={...R6e,...V5e,...O5e,...W5e},Ci=$4e($5e,s6e),O7=n=>n<200?1:n<400?2:n<700?3:n<1e3?4:5,qc=Bke()(jke((n,e)=>({xp:0,level:1,addXP:t=>{const r=e().xp,i=e().level,s=r+t,o=O7(s),a=o>i;return n({xp:s,level:o}),a},setXP:t=>{const r=O7(t);n({xp:t,level:r})},reset:()=>n({xp:0,level:1})}),{name:"xp-storage"})),q5e=n=>{const e={1:"#ff4b4b",2:"#ffae42",3:"#4bff85",4:"#42b4ff",5:"#b342ff"};return e[n]||e[5]};function X5e({onAuraChange:n}){const{xp:e,level:t}=qc(),[r,i]=B.useState(0),[s,o]=B.useState(!1),a=e%200,l=a/200*100,u=q5e(t);return B.useEffect(()=>{a<50?i(.3):a>=75?i(1):i(.6),n?.(r)},[a,r,n]),B.useEffect(()=>{if(t>1){o(!0);const d=setTimeout(()=>o(!1),1e3);return()=>clearTimeout(d)}},[t]),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("div",{className:"relative",children:p.jsxs(Ci.div,{animate:{scale:s?[1,1.2,1]:1},transition:{duration:.6,ease:"easeOut"},className:"flex items-center gap-2",children:[p.jsx(jp,{className:"text-[#6F66FF]",size:20}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-2xl font-bold text-[#6F66FF]",children:["Level ",t," ",t===5&&""]}),p.jsx("div",{className:"text-xs text-gray-500",children:t===5?"Radiant":`${a}/200 XP`})]})]})})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-sm font-semibold text-gray-600",children:"Total XP"}),p.jsx("div",{className:"text-xl font-bold text-[#6F66FF]",children:e})]})]}),p.jsxs("div",{className:"relative h-6 bg-gray-200/50 rounded-full overflow-hidden backdrop-blur-sm",children:[p.jsx(Ci.div,{className:"absolute inset-y-0 left-0 rounded-full",style:{background:`linear-gradient(90deg, ${u}, ${u}dd)`,boxShadow:`0 0 ${15+a/4}px ${u}80`},initial:{width:0},animate:{width:`${l}%`,boxShadow:`0 0 ${15+a/4}px ${u}80`},transition:{duration:.5,ease:"easeOut"}}),p.jsx(Rb,{children:r>0&&p.jsx(Ci.div,{className:"absolute inset-0 rounded-full",style:{background:`linear-gradient(90deg, ${u}40, ${u}20)`,boxShadow:`0 0 ${r*30}px ${u}60`},initial:{opacity:0,scaleX:0},animate:{scaleX:[0,l/100,l/100],opacity:[.3,.6,.3]},exit:{opacity:0},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})}),p.jsx(Rb,{children:s&&p.jsx(Ci.div,{className:"absolute inset-0 rounded-full",style:{background:`radial-gradient(circle, ${u}40, transparent 70%)`},initial:{opacity:0,scale:.8},animate:{opacity:[0,1,0],scale:[.8,1.4,1.4]},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"}})}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("span",{className:"text-xs font-semibold text-white drop-shadow-md",children:[Math.round(l),"%"]})})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[p.jsx(ma,{size:14}),p.jsx("span",{children:l>=75?"Almost there! Keep going! ":l>=50?"You're making great progress! ":"Every session builds your strength "})]})]})}const K5e=n=>n<20?"border-green-400/50 bg-green-400/5":n<50?"border-blue-400/50 bg-blue-400/5":"border-orange-400/50 bg-orange-400/5",Y5e=n=>n<20?"from-green-400 to-emerald-500":n<50?"from-indigo-400 to-violet-500":"from-pink-400 to-orange-500",J5e=n=>n<20?"bg-green-500/20 text-green-300 border-green-400/30":n<50?"bg-blue-500/20 text-blue-300 border-blue-400/30":"bg-orange-500/20 text-orange-300 border-orange-400/30";function Z5e({quests:n,onCompleteQuest:e}){const t=n.filter(r=>r.status!=="completed");return t.length===0?p.jsx(Dt,{className:"border-0 shadow-lg bg-white/10 backdrop-blur-lg",children:p.jsxs(Bt,{className:"p-6 text-center text-gray-400",children:[p.jsx(Mx,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No active quests"}),p.jsx("p",{className:"text-xs mt-2 text-gray-500",children:"Keep healing strong! "})]})}):p.jsxs(Dt,{className:"border-0 shadow-lg bg-white/10 backdrop-blur-lg",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#6F66FF] flex items-center gap-2",children:[p.jsx(Up,{className:"w-5 h-5"}),"Keep Healing Strong "]})}),p.jsx(Bt,{className:"space-y-3",children:p.jsx(Rb,{children:t.map((r,i)=>{const s=r.progress/r.total*100,o=r.progress>=r.total;return p.jsx(Ci.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:i*.1},className:`p-4 rounded-xl border-2 transition-all backdrop-blur-sm ${K5e(r.rewardXP)} ${o?"ring-2 ring-[#6F66FF] ring-opacity-50":""}`,whileHover:{scale:1.02,transition:{duration:.2}},children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Ci.div,{className:`w-10 h-10 rounded-lg flex items-center justify-center ${o?"bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF]":"bg-gradient-to-br from-gray-400 to-gray-500"}`,animate:o?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:.5},children:o?p.jsx(Up,{className:"w-5 h-5 text-white"}):p.jsx(Mx,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2 gap-2",children:[p.jsx("h4",{className:"text-[#2C2E6F] font-semibold text-sm leading-tight",children:r.title}),p.jsxs(hr,{className:`rounded-full px-2 py-0.5 text-xs font-semibold border ${J5e(r.rewardXP)}`,children:["+",r.rewardXP," XP"]})]}),p.jsxs("div",{className:"space-y-1 mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsxs("span",{className:"text-gray-500",children:[r.progress," / ",r.total]}),p.jsxs("span",{className:"text-[#6F66FF] font-semibold",children:[Math.round(s),"%"]})]}),p.jsx("div",{className:"relative h-2 bg-gray-200/30 rounded-full overflow-hidden",children:p.jsx(Ci.div,{className:`h-full rounded-full bg-gradient-to-r ${Y5e(r.rewardXP)}`,initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5,ease:"easeOut"}})})]}),o&&p.jsx(Ci.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:p.jsxs(zt,{onClick:()=>e(r.id),className:"w-full bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 text-white",size:"sm",children:[p.jsx(sd,{className:"w-4 h-4 mr-2"}),"Claim Your Reward"]})})]})]})},r.id)})})})]})}function Q5e({quests:n,onAuraPulse:e}){const{addXP:t,xp:r,setXP:i}=qc(),{addXP:s,stats:o}=zb(),a=B.useRef(new Set),l=async d=>{const c=n.find(f=>f.id===d);if(c&&!a.current.has(d)&&c.progress>=c.total&&c.status!=="completed"){c.status="completed",a.current.add(d);const f=qc.getState().level,m=o?.totalXp||qc.getState().xp;try{await s(c.rewardXP);const v=m+c.rewardXP;i(v);const b=qc.getState().level,y=b>f;ki.success(` ${c.title} complete! +${c.rewardXP} XP `,{duration:3e3,description:"Your EchoBody glows brighter!"}),y&&ki.success(` Level Up! You're now Level ${b}!`,{duration:4e3})}catch{const b=t(c.rewardXP);if(ki.success(` ${c.title} complete! +${c.rewardXP} XP `,{duration:3e3}),b){const{level:y}=qc.getState();ki.success(` Level Up! You're now Level ${y}!`,{duration:4e3})}}e?.()}};return B.useEffect(()=>{n.forEach(d=>{d.progress>=d.total&&d.status!=="completed"&&!a.current.has(d.id)&&setTimeout(()=>{l(d.id)},500)})},[n]),{completeQuest:l,xp:r,showXPToast:d=>{ki.success(`+${d} XP`,{duration:2e3})}}}const CF=n=>{if(n<0){const e=n+1;return new Xt().lerpColors(new Xt(1982639),new Xt(7300863),e)}else{const e=n;return new Xt().lerpColors(new Xt(7300863),new Xt(16498468),e)}},e8e=n=>n<-.3?"from-blue-500 to-cyan-400":n<.3?"from-indigo-500 to-violet-600":"from-pink-500 to-orange-400",t8e=n=>{const e={1:"#ff4b4b",2:"#ffae42",3:"#4bff85",4:"#42b4ff",5:"#b342ff"};return e[n]||e[5]};function n8e({animationName:n="Idle Breathing"}){const e=B.useRef(null),t=B.useRef(null),r=g_("/models/avatar3.glb"),i=r.scene,s=B.useMemo(()=>r.animations||[],[r.animations]);return ue.useEffect(()=>{i&&i.traverse(o=>{o.isMesh})},[i]),ue.useEffect(()=>{if(!s||s.length===0||!i)return;t.current&&(t.current.stopAllAction(),t.current=null),t.current=new BQ(i);const a=s.find(l=>{const u=l.name.toLowerCase(),d=n.toLowerCase();return u.includes(d)||d.includes(u)})||s[0];if(a&&t.current){const l=t.current.clipAction(a);l&&(l.reset(),l.setLoop(wB,1/0),l.play())}},[s,n,i]),aM((o,a)=>{t.current&&t.current.update(a)}),ue.useEffect(()=>{if(!i)return;const o=new zs().setFromObject(i),a=o.getSize(new de),l=o.getCenter(new de),d=Math.min(11/a.y,2),c=Math.max(.01,Math.min(d,2));i.scale.setScalar(c);const f=l.multiplyScalar(c);i.position.x=-f.x,i.position.y=-f.y+1.5,i.position.z=-f.z},[i]),i?p.jsx("group",{ref:e,children:p.jsx("primitive",{object:i})}):null}function r8e({mood:n}){const{scene:e}=Uo();return aM(()=>{const t=new Xt(7300863),r=CF(n),i=t.clone().lerp(r,.2);e.background instanceof Xt?e.background.lerp(i,.05):e.background=i.clone()}),null}const ine=B.forwardRef((n,e)=>{const{camera:t}=Uo(),r=B.useRef(null),i=B.useRef(new de(0,4.5,0)),s=B.useRef(new de(0,6,10));return B.useImperativeHandle(e,()=>({rotateLeft:()=>{r.current&&r.current.setAzimuthalAngle((r.current.getAzimuthalAngle()||0)-Math.PI/12)},rotateRight:()=>{r.current&&r.current.setAzimuthalAngle((r.current.getAzimuthalAngle()||0)+Math.PI/12)},rotateUp:()=>{r.current&&r.current.setPolarAngle((r.current.getPolarAngle()||Math.PI/2)-Math.PI/12)},rotateDown:()=>{r.current&&r.current.setPolarAngle((r.current.getPolarAngle()||Math.PI/2)+Math.PI/12)},moveCameraUp:()=>{t.position.y+=.5,i.current.y+=.5,r.current&&r.current.target.copy(i.current)},moveCameraDown:()=>{t.position.y-=.5,i.current.y-=.5,r.current&&r.current.target.copy(i.current)},resetCamera:()=>{t.position.copy(s.current),i.current.set(0,4.5,0),r.current&&r.current.target.copy(i.current)}})),B.useEffect(()=>{t.position.copy(s.current),r.current&&r.current.target.copy(i.current)},[t]),p.jsx(XLe,{ref:r,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:4,maxDistance:25,autoRotate:!1,target:i.current})});ine.displayName="CameraControls";function i8e({count:n=15}){const e=Array.from({length:n},(t,r)=>({id:r,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2,duration:3+Math.random()*2}));return p.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:e.map(t=>p.jsx(Ci.div,{className:"absolute w-2 h-2 rounded-full bg-white/30 blur-sm",style:{left:`${t.x}%`,top:`${t.y}%`},animate:{y:[0,-30,0],x:[0,Math.sin(t.id)*20,0],opacity:[.3,.8,.3],scale:[1,1.5,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id))})}function s8e(){const n=B.useRef(null),[e,t]=B.useState(0),{stats:r}=zb(),i=B.useRef(null),{setXP:s,xp:o,level:a}=qc(),[l,u]=B.useState(!1);B.useEffect(()=>{if(r?.totalXp!==void 0){const y=qc.getState().xp;if(Math.abs(y-r.totalXp)>.1){const w=qc.getState().level;s(r.totalXp),qc.getState().level>w&&(u(!0),setTimeout(()=>u(!1),1e3))}}},[r?.totalXp,s]);const d=[{id:"complete_3_sessions_week",title:"Complete 3 sessions this week",total:3,rewardXP:50,progress:r?.questProgress?.complete_3_sessions_week?.progress||0},{id:"perfect_form_x3",title:"Perfect Form x3",total:3,rewardXP:10,progress:r?.questProgress?.perfect_form_x3?.progress||0},{id:"maintain_7_day_streak",title:"Maintain 7-day streak",total:7,rewardXP:100,progress:Math.min(r?.currentStreak||0,7)},{id:"complete_full_exercise_plan",title:"Complete full exercise plan",total:10,rewardXP:75,progress:r?.questProgress?.complete_full_exercise_plan?.progress||0}],{completeQuest:c}=Q5e({quests:d,onAuraPulse:()=>{i.current?.()}}),m=(y=>y<-.5?"TiredIdle":y>.5?"VictoryPose":"Idle Breathing")(e),v=e8e(e),b=t8e(a);return p.jsxs("div",{className:"w-full min-h-screen relative overflow-hidden",style:{height:"calc(100vh - 8rem)"},children:[p.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${v} opacity-20`}),p.jsx(i8e,{count:20}),p.jsxs("div",{className:"relative z-10 flex gap-6 h-full p-6",children:[p.jsx(Ci.div,{className:"w-56 flex-shrink-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:p.jsxs(Dt,{className:"bg-white/95 backdrop-blur-lg shadow-xl border-2 border-[#6F66FF]/30 h-fit",style:{boxShadow:`0 0 30px ${b}30`},children:[p.jsx(cn,{children:p.jsxs(dn,{className:"flex items-center gap-2 text-[#2C2E6F] font-semibold",children:[p.jsx(Wc,{className:"text-[#6F66FF]",size:20}),"Emotional & Camera Controls "]})}),p.jsxs(Bt,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{htmlFor:"emotional-state-slider",className:"text-sm text-[#2C2E6F] font-medium mb-2 block",children:["Your Emotional State: ",e.toFixed(2)]}),p.jsx("div",{className:"mb-1 text-xs text-[#6F66FF] font-semibold",children:e<-.5?" Calm & Resting":e>.5?" Energized & Strong":" Balanced & Ready"}),p.jsx(Ox,{id:"emotional-state-slider",name:"emotionalState",value:[e],onValueChange:y=>t(y[0]),min:-1,max:1,step:.01,className:"w-full","aria-label":"Your Emotional State"}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[p.jsx("span",{children:"Calm"}),p.jsx("span",{children:"Neutral"}),p.jsx("span",{children:"Energized"})]})]}),p.jsxs("div",{className:"text-xs text-gray-700 mb-4 p-2 bg-[#6F66FF]/10 rounded-lg border border-[#6F66FF]/20",children:["Animation: ",p.jsx("span",{className:"font-semibold text-[#6F66FF]",children:m})]}),p.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-300",children:[p.jsx("label",{className:"text-sm font-semibold text-[#2C2E6F] block",children:"Camera View"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Rotation"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateLeft(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(Sle,{size:16}),"Left"]}),p.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateRight(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(Ele,{size:16}),"Right"]}),p.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateUp(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(n$,{size:16}),"Up"]}),p.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateDown(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(HF,{size:16}),"Down"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Position"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.moveCameraUp(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(hle,{size:16}),"Up"]}),p.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.moveCameraDown(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(dle,{size:16}),"Down"]})]})]}),p.jsx(zt,{variant:"outline",size:"sm",onClick:()=>n.current?.resetCamera(),className:"w-full mt-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:"Reset View"})]})]})]})}),p.jsxs("div",{className:"flex-1 relative flex items-center justify-center",style:{height:"calc(100vh - 12rem)"},children:[p.jsx(Ci.div,{className:"absolute inset-0 rounded-3xl",style:{background:`radial-gradient(circle at center, ${b}20, transparent 70%)`},animate:{scale:[1,1.05,1],opacity:[.3,.5,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),p.jsx(Rb,{children:l&&p.jsx(Ci.div,{className:"absolute inset-0 rounded-3xl",style:{background:`radial-gradient(circle, ${b}40, transparent 70%)`},initial:{opacity:0,scale:.8},animate:{opacity:[0,1,0],scale:[.8,1.4,1.4]},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"}})}),p.jsx(Ci.div,{className:"absolute inset-0 rounded-3xl border-2 pointer-events-none",style:{borderColor:b,boxShadow:`0 0 ${30+o/10}px ${b}60`},animate:{boxShadow:[`0 0 ${30+o/10}px ${b}60`,`0 0 ${40+o/10}px ${b}80`,`0 0 ${30+o/10}px ${b}60`]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),p.jsx("div",{className:"relative w-full h-full rounded-3xl overflow-hidden shadow-2xl",children:p.jsx(Nke,{gl:{antialias:!0,alpha:!0},dpr:[1,2],camera:{position:[0,6,10],fov:70},style:{width:"100%",height:"100%",background:"transparent"},onCreated:({gl:y,scene:w})=>{y.toneMapping=MC,y.toneMappingExposure=1.5,w.background=new Xt(7300863)},children:p.jsxs(B.Suspense,{fallback:null,children:[p.jsx("ambientLight",{intensity:.5}),p.jsx("directionalLight",{position:[5,5,5],intensity:1.2}),p.jsx("pointLight",{position:[-5,0,5],intensity:.6,color:CF(e)}),p.jsx("pointLight",{position:[5,0,-5],intensity:.6,color:CF(e)}),p.jsx(fje,{preset:"sunset"}),p.jsx(n8e,{animationName:m}),p.jsx(r8e,{mood:e}),p.jsx(ine,{ref:n})]})})})]}),p.jsxs(Ci.div,{className:"w-80 flex-shrink-0 flex flex-col gap-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[p.jsxs(Dt,{className:"border-0 shadow-lg bg-white/10 backdrop-blur-lg",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#6F66FF] flex items-center gap-2 text-sm",children:[p.jsx(jp,{className:"w-5 h-5"}),"Your Progress So Far "]})}),p.jsx(Bt,{children:p.jsx(X5e,{onAuraChange:()=>{}})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsx(Z5e,{quests:d,onCompleteQuest:c})})]})]})]})}g_.preload("/models/avatar3.glb");var U3={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var F7;function o8e(){return F7||(F7=1,(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||t;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||t;if(c=parseFloat(c),f.ctx||d(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,t.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),b=0;b<v.length;b++){var y=f._howls[m]._soundById(v[b]);y&&y._node&&(y._node.volume=y._volume*c)}return f}return f._volume},mute:function(c){var f=this||t;f.ctx||d(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,t.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),b=0;b<v.length;b++){var y=f._howls[m]._soundById(v[b]);y&&y._node&&(y._node.muted=c?!0:y._muted)}return f},stop:function(){for(var c=this||t,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||t,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,d()),c},codecs:function(c){return(this||t)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||t;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||t,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return c}if(!f||typeof f.canPlayType!="function")return c;var m=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",b=v.match(/OPR\/(\d+)/g),y=b&&parseInt(b[0].split("/")[1],10)<33,w=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,A=v.match(/Version\/(.*?) /),E=w&&A&&parseInt(A[1],10)<15;return c._codecs={mp3:!!(!y&&(m||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!m,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||t;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(m){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var b=0;b<c._howls.length;b++)if(!c._howls[b]._webAudio)for(var y=c._howls[b]._getSoundIds(),w=0;w<y.length;w++){var A=c._howls[b]._soundById(y[w]);A&&A._node&&!A._node._unlocked&&(A._node._unlocked=!0,A._node.load())}c._autoResume();var E=c.ctx.createBufferSource();E.buffer=c._scratchBuffer,E.connect(c.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),E.onended=function(){E.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var C=0;C<c._howls.length;C++)c._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||t;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||t;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!t.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var m=0;m<c._howls[f]._sounds.length;m++)if(!c._howls[f]._sounds[m]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!t.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var t=new e,r=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};r.prototype={init:function(c){var f=this;return t.ctx||d(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=t.usingWebAudio&&!f._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(t.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var m=0;m<c._src.length;m++){var v,b;if(c._format&&c._format[m])v=c._format[m];else{if(b=c._src[m],typeof b!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(b),v||(v=/\.([^.]+)$/.exec(b.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&t.codecs(v)){f=c._src[m];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,f){var m=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&m._state==="loaded"&&!m._sprite[c])return null;if(typeof c>"u"&&(c="__default",!m._playLock)){for(var b=0,y=0;y<m._sounds.length;y++)m._sounds[y]._paused&&!m._sounds[y]._ended&&(b++,v=m._sounds[y]._id);b===1?c=null:v=null}}var w=v?m._soundById(v):m._inactiveSound();if(!w)return null;if(v&&!c&&(c=w._sprite||"__default"),m._state!=="loaded"){w._sprite=c,w._ended=!1;var A=w._id;return m._queue.push({event:"play",action:function(){m.play(A)}}),A}if(v&&!w._paused)return f||m._loadQueue("play"),w._id;m._webAudio&&t._autoResume();var E=Math.max(0,w._seek>0?w._seek:m._sprite[c][0]/1e3),C=Math.max(0,(m._sprite[c][0]+m._sprite[c][1])/1e3-E),M=C*1e3/Math.abs(w._rate),P=m._sprite[c][0]/1e3,O=(m._sprite[c][0]+m._sprite[c][1])/1e3;w._sprite=c,w._ended=!1;var k=function(){w._paused=!1,w._seek=E,w._start=P,w._stop=O,w._loop=!!(w._loop||m._sprite[c][2])};if(E>=O){m._ended(w);return}var D=w._node;if(m._webAudio){var I=function(){m._playLock=!1,k(),m._refreshBuffer(w);var K=w._muted||m._muted?0:w._volume;D.gain.setValueAtTime(K,t.ctx.currentTime),w._playStart=t.ctx.currentTime,typeof D.bufferSource.start>"u"?w._loop?D.bufferSource.noteGrainOn(0,E,86400):D.bufferSource.noteGrainOn(0,E,C):w._loop?D.bufferSource.start(0,E,86400):D.bufferSource.start(0,E,C),M!==1/0&&(m._endTimers[w._id]=setTimeout(m._ended.bind(m,w),M)),f||setTimeout(function(){m._emit("play",w._id),m._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?I():(m._playLock=!0,m.once("resume",I),m._clearTimer(w._id))}else{var L=function(){D.currentTime=E,D.muted=w._muted||m._muted||t._muted||D.muted,D.volume=w._volume*t.volume(),D.playbackRate=w._rate;try{var K=D.play();if(K&&typeof Promise<"u"&&(K instanceof Promise||typeof K.then=="function")?(m._playLock=!0,k(),K.then(function(){m._playLock=!1,D._unlocked=!0,f?m._loadQueue():m._emit("play",w._id)}).catch(function(){m._playLock=!1,m._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),w._ended=!0,w._paused=!0})):f||(m._playLock=!1,k(),m._emit("play",w._id)),D.playbackRate=w._rate,D.paused){m._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||w._loop?m._endTimers[w._id]=setTimeout(m._ended.bind(m,w),M):(m._endTimers[w._id]=function(){m._ended(w),D.removeEventListener("ended",m._endTimers[w._id],!1)},D.addEventListener("ended",m._endTimers[w._id],!1))}catch(ie){m._emit("playerror",w._id,ie)}};D.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(D.src=m._src,D.load());var W=window&&window.ejecta||!D.readyState&&t._navigator.isCocoonJS;if(D.readyState>=3||W)L();else{m._playLock=!0,m._state="loading";var q=function(){m._state="loaded",L(),D.removeEventListener(t._canPlayEvent,q,!1)};D.addEventListener(t._canPlayEvent,q,!1),m._clearTimer(w._id)}}return w._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var m=f._getSoundIds(c),v=0;v<m.length;v++){f._clearTimer(m[v]);var b=f._soundById(m[v]);if(b&&!b._paused&&(b._seek=f.seek(m[v]),b._rateSeek=0,b._paused=!0,f._stopFade(m[v]),b._node))if(f._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),f._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||f._emit("pause",b?b._id:null)}return f},stop:function(c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"stop",action:function(){m.stop(c)}}),m;for(var v=m._getSoundIds(c),b=0;b<v.length;b++){m._clearTimer(v[b]);var y=m._soundById(v[b]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,m._stopFade(v[b]),y._node&&(m._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),m._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&m._clearSound(y._node))),f||m._emit("stop",y._id))}return m},mute:function(c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"mute",action:function(){m.mute(c,f)}}),m;if(typeof f>"u")if(typeof c=="boolean")m._muted=c;else return m._muted;for(var v=m._getSoundIds(f),b=0;b<v.length;b++){var y=m._soundById(v[b]);y&&(y._muted=c,y._interval&&m._stopFade(y._id),m._webAudio&&y._node?y._node.gain.setValueAtTime(c?0:y._volume,t.ctx.currentTime):y._node&&(y._node.muted=t._muted?!0:c),m._emit("mute",y._id))}return m},volume:function(){var c=this,f=arguments,m,v;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var b=c._getSoundIds(),y=b.indexOf(f[0]);y>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length>=2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var w;if(typeof m<"u"&&m>=0&&m<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof v>"u"&&(c._volume=m),v=c._getSoundIds(v);for(var A=0;A<v.length;A++)w=c._soundById(v[A]),w&&(w._volume=m,f[2]||c._stopFade(v[A]),c._webAudio&&w._node&&!w._muted?w._node.gain.setValueAtTime(m,t.ctx.currentTime):w._node&&!w._muted&&(w._node.volume=m*t.volume()),c._emit("volume",w._id))}else return w=v?c._soundById(v):c._sounds[0],w?w._volume:0;return c},fade:function(c,f,m,v){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(c,f,m,v)}}),b;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),m=parseFloat(m),b.volume(c,v);for(var y=b._getSoundIds(v),w=0;w<y.length;w++){var A=b._soundById(y[w]);if(A){if(v||b._stopFade(y[w]),b._webAudio&&!A._muted){var E=t.ctx.currentTime,C=E+m/1e3;A._volume=c,A._node.gain.setValueAtTime(c,E),A._node.gain.linearRampToValueAtTime(f,C)}b._startFadeInterval(A,c,f,m,y[w],typeof v>"u")}}return b},_startFadeInterval:function(c,f,m,v,b,y){var w=this,A=f,E=m-f,C=Math.abs(E/.01),M=Math.max(4,C>0?v/C:v),P=Date.now();c._fadeTo=m,c._interval=setInterval(function(){var O=(Date.now()-P)/v;P=Date.now(),A+=E*O,A=Math.round(A*100)/100,E<0?A=Math.max(m,A):A=Math.min(m,A),w._webAudio?c._volume=A:w.volume(A,c._id,!0),y&&(w._volume=A),(m<f&&A<=m||m>f&&A>=m)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,w.volume(m,c._id),w._emit("fade",c._id))},M)},_stopFade:function(c){var f=this,m=f._soundById(c);return m&&m._interval&&(f._webAudio&&m._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(m._interval),m._interval=null,f.volume(m._fadeTo,c),m._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,m,v,b;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")m=f[0],c._loop=m;else return b=c._soundById(parseInt(f[0],10)),b?b._loop:!1;else f.length===2&&(m=f[0],v=parseInt(f[1],10));for(var y=c._getSoundIds(v),w=0;w<y.length;w++)b=c._soundById(y[w]),b&&(b._loop=m,c._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=m,m&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,c.playing(y[w])&&(c.pause(y[w],!0),c.play(y[w],!0)))));return c},rate:function(){var c=this,f=arguments,m,v;if(f.length===0)v=c._sounds[0]._id;else if(f.length===1){var b=c._getSoundIds(),y=b.indexOf(f[0]);y>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var w;if(typeof m=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof v>"u"&&(c._rate=m),v=c._getSoundIds(v);for(var A=0;A<v.length;A++)if(w=c._soundById(v[A]),w){c.playing(v[A])&&(w._rateSeek=c.seek(v[A]),w._playStart=c._webAudio?t.ctx.currentTime:w._playStart),w._rate=m,c._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.setValueAtTime(m,t.ctx.currentTime):w._node&&(w._node.playbackRate=m);var E=c.seek(v[A]),C=(c._sprite[w._sprite][0]+c._sprite[w._sprite][1])/1e3-E,M=C*1e3/Math.abs(w._rate);(c._endTimers[v[A]]||!w._paused)&&(c._clearTimer(v[A]),c._endTimers[v[A]]=setTimeout(c._ended.bind(c,w),M)),c._emit("rate",w._id)}}else return w=c._soundById(v),w?w._rate:c._rate;return c},seek:function(){var c=this,f=arguments,m,v;if(f.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(f.length===1){var b=c._getSoundIds(),y=b.indexOf(f[0]);y>=0?v=parseInt(f[0],10):c._sounds.length&&(v=c._sounds[0]._id,m=parseFloat(f[0]))}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof m=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var w=c._soundById(v);if(w)if(typeof m=="number"&&m>=0){var A=c.playing(v);A&&c.pause(v,!0),w._seek=m,w._ended=!1,c._clearTimer(v),!c._webAudio&&w._node&&!isNaN(w._node.duration)&&(w._node.currentTime=m);var E=function(){A&&c.play(v,!0),c._emit("seek",v)};if(A&&!c._webAudio){var C=function(){c._playLock?setTimeout(C,0):E()};setTimeout(C,0)}else E()}else if(c._webAudio){var M=c.playing(v)?t.ctx.currentTime-w._playStart:0,P=w._rateSeek?w._rateSeek-w._seek:0;return w._seek+(P+M*Math.abs(w._rate))}else return w._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var m=f._soundById(c);return m?!m._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(c){var f=this,m=f._duration,v=f._soundById(c);return v&&(m=f._sprite[v._sprite][1]/1e3),m},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,m=0;m<f.length;m++)f[m]._paused||c.stop(f[m]._id),c._webAudio||(c._clearSound(f[m]._node),f[m]._node.removeEventListener("error",f[m]._errorFn,!1),f[m]._node.removeEventListener(t._canPlayEvent,f[m]._loadFn,!1),f[m]._node.removeEventListener("ended",f[m]._endFn,!1),t._releaseHtml5Audio(f[m]._node)),delete f[m]._node,c._clearTimer(f[m]._id);var v=t._howls.indexOf(c);v>=0&&t._howls.splice(v,1);var b=!0;for(m=0;m<t._howls.length;m++)if(t._howls[m]._src===c._src||c._src.indexOf(t._howls[m]._src)>=0){b=!1;break}return s&&b&&delete s[c._src],t.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,m,v){var b=this,y=b["_on"+c];return typeof f=="function"&&y.push(v?{id:m,fn:f,once:v}:{id:m,fn:f}),b},off:function(c,f,m){var v=this,b=v["_on"+c],y=0;if(typeof f=="number"&&(m=f,f=null),f||m)for(y=0;y<b.length;y++){var w=m===b[y].id;if(f===b[y].fn&&w||!f&&w){b.splice(y,1);break}}else if(c)v["_on"+c]=[];else{var A=Object.keys(v);for(y=0;y<A.length;y++)A[y].indexOf("_on")===0&&Array.isArray(v[A[y]])&&(v[A[y]]=[])}return v},once:function(c,f,m){var v=this;return v.on(c,f,m,1),v},_emit:function(c,f,m){for(var v=this,b=v["_on"+c],y=b.length-1;y>=0;y--)(!b[y].id||b[y].id===f||c==="load")&&(setTimeout(function(w){w.call(this,f,m)}.bind(v,b[y].fn),0),b[y].once&&v.off(c,b[y].fn,b[y].id));return v._loadQueue(c),v},_loadQueue:function(c){var f=this;if(f._queue.length>0){var m=f._queue[0];m.event===c&&(f._queue.shift(),f._loadQueue()),c||m.action()}return f},_ended:function(c){var f=this,m=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var v=!!(c._loop||f._sprite[m][2]);if(f._emit("end",c._id),!f._webAudio&&v&&f.stop(c._id,!0).play(c._id),f._webAudio&&v){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=t.ctx.currentTime;var b=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),b)}return f._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),t._autoSuspend()),!f._webAudio&&!v&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var m=f._soundById(c);m&&m._node&&m._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,m=0;m<f._sounds.length;m++)if(c===f._sounds[m]._id)return f._sounds[m];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new i(c)},_drain:function(){var c=this,f=c._pool,m=0,v=0;if(!(c._sounds.length<f)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&m++;for(v=c._sounds.length-1;v>=0;v--){if(m<=f)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),m--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var m=[],v=0;v<f._sounds.length;v++)m.push(f._sounds[v]._id);return m}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=t.ctx.createBufferSource(),c._node.bufferSource.buffer=s[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,t.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,m=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return f;if(t._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),m))try{c.bufferSource.buffer=t._scratchBuffer}catch{}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,m=t._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),c._node.gain.setValueAtTime(m,t.ctx.currentTime),c._node.paused=!0,c._node.connect(t.masterGain)):t.noAudio||(c._node=t._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(t._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=m*t.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(t._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var f=c._src;if(s[f]){c._duration=s[f].duration,u(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var m=atob(f.split(",")[1]),v=new Uint8Array(m.length),b=0;b<m.length;++b)v[b]=m.charCodeAt(b);l(v.buffer,c)}else{var y=new XMLHttpRequest;y.open(c._xhr.method,f,!0),y.withCredentials=c._xhr.withCredentials,y.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(w){y.setRequestHeader(w,c._xhr.headers[w])}),y.onload=function(){var w=(y.status+"")[0];if(w!=="0"&&w!=="2"&&w!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}l(y.response,c)},y.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[f],c.load())},a(y)}},a=function(c){try{c.send()}catch{c.onerror()}},l=function(c,f){var m=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(b){b&&f._sounds.length>0?(s[f._src]=b,u(f,b)):m()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(c).then(v).catch(m):t.ctx.decodeAudioData(c,v,m)},u=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},d=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),f=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),m=f?parseInt(f[1],10):null;if(c&&m&&m<9){var v=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!v&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof Fa<"u"?(Fa.HowlerGlobal=e,Fa.Howler=t,Fa.Howl=r,Fa.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof t=="number")s._pos=[t,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,r,i,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(r=typeof r!="number"?u[1]:r,i=typeof i!="number"?u[2]:i,s=typeof s!="number"?u[3]:s,o=typeof o!="number"?u[4]:o,a=typeof a!="number"?u[5]:a,typeof t=="number")l._orientation=[t,r,i,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(t,r,i,s,o,a);else return u;return l},Howl.prototype.init=(function(t){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var l=i._soundById(o[a]);if(l)if(typeof t=="number")l._stereo=t,l._pos=[t,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(t,0,0):l._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(t,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof t=="number")o._pos=[t,r,i];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var u=o._soundById(a[l]);if(u)if(typeof t=="number")u._pos=[t,r,i],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setPosition(t,r,i)),o._emit("pos",u._id);else return u._pos}return o},Howl.prototype.orientation=function(t,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof t=="number")o._orientation=[t,r,i];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var u=o._soundById(a[l]);if(u)if(typeof t=="number")u._orientation=[t,r,i],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setOrientation(t,r,i)),o._emit("orientation",u._id);else return u._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,i,s,o;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(r[0],10)),o?o._pannerAttr:t._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var a=t._getSoundIds(s),l=0;l<a.length;l++)if(o=t._soundById(a[l]),o){var u=o._pannerAttr;u={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:u.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:u.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:u.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:u.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:u.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:u.panningModel};var d=o._panner;d||(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"),d=o._panner),d.coneInnerAngle=u.coneInnerAngle,d.coneOuterAngle=u.coneOuterAngle,d.coneOuterGain=u.coneOuterGain,d.distanceModel=u.distanceModel,d.maxDistance=u.maxDistance,d.refDistance=u.refDistance,d.rolloffFactor=u.rolloffFactor,d.panningModel=u.panningModel}return t},Sound.prototype.init=(function(t){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,t.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(t){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),t.call(this)}})(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(U3)),U3}var a8e=o8e();function l8e({onScanComplete:n,onError:e}){const t=B.useRef(null),r=B.useRef(null),i=B.useRef(null),s=B.useRef(null),[o,a]=B.useState(0),[l,u]=B.useState(0),d=B.useRef(null),c=B.useRef(null),f=B.useRef(!1);B.useEffect(()=>{try{d.current=new a8e.Howl({src:["/sounds/scan-sound.mp3"],volume:.5,loop:!0,onloaderror:()=>{}})}catch{}return()=>{d.current?.unload()}},[]);const m=B.useCallback(v=>{const b=r.current,y=t.current;if(!b||!y||!y.videoWidth||!y.videoHeight)return;const w=b.getContext("2d");if(w){if((b.width!==y.videoWidth||b.height!==y.videoHeight)&&(b.width=y.videoWidth,b.height=y.videoHeight),w.clearRect(0,0,b.width,b.height),w.drawImage(y,0,0,b.width,b.height),v.poseLandmarks&&Array.isArray(v.poseLandmarks)){const A=v.poseLandmarks;w.strokeStyle="#00ffff",w.lineWidth=3,w.shadowBlur=10,w.shadowColor="#00ffff",[[0,2],[2,4],[0,4],[11,12],[11,23],[12,24],[23,24],[11,13],[13,15],[12,14],[14,16],[23,25],[25,27],[27,29],[29,31],[24,26],[26,28],[28,30],[30,32]].forEach(([C,M])=>{A[C]&&A[M]&&A[C].visibility&&A[C].visibility>.5&&A[M].visibility&&A[M].visibility>.5&&(w.beginPath(),w.moveTo(A[C].x*b.width,A[C].y*b.height),w.lineTo(A[M].x*b.width,A[M].y*b.height),w.stroke())}),A.forEach(C=>{if(C.visibility&&C.visibility>.5){const M=C.x*b.width,P=C.y*b.height;w.fillStyle="#00ffff",w.shadowBlur=15,w.beginPath(),w.arc(M,P,5,0,2*Math.PI),w.fill()}})}if(l>0){const A=w.createLinearGradient(0,l-50,0,l+50);A.addColorStop(0,"rgba(0, 255, 255, 0)"),A.addColorStop(.5,"rgba(0, 255, 255, 0.6)"),A.addColorStop(1,"rgba(0, 255, 255, 0)"),w.fillStyle=A,w.fillRect(0,l-50,b.width,100)}}},[l]);return B.useEffect(()=>{if(f.current||!t.current||!r.current)return;f.current=!0;let v=!1,b=null,y=null,w=null;const A=[],E=(P,O)=>{const k=setTimeout(()=>{v||P();const D=A.indexOf(k);D>-1&&A.splice(D,1)},O);return A.push(k),k},C=P=>{if(P){clearTimeout(P);const O=A.indexOf(P);O>-1&&A.splice(O,1)}};return(async()=>{try{const P=new gJ.Pose({locateFile:O=>`https://cdn.jsdelivr.net/npm/@mediapipe/pose/${O}`});P.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,smoothSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5}),P.onResults(m);try{const O=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});if(b=O,t.current){const k=t.current;k.srcObject&&(k.srcObject.getTracks().forEach(H=>H.stop()),k.srcObject=null,await new Promise(H=>{E(()=>{v||H()},100)})),k.srcObject=O,await new Promise((J,H)=>{if(v){H(new Error("Component unmounted"));return}const Y=E(()=>{v||(k.removeEventListener("loadedmetadata",Z),k.removeEventListener("playing",oe),k.removeEventListener("error",ye),H(new Error("Video loading timeout")))},5e3),ne=O.getVideoTracks()[0];if(ne&&ne.readyState==="live"){C(Y),v||E(()=>{v||J()},200);return}const Z=()=>{v||(C(Y),k.removeEventListener("loadedmetadata",Z),k.removeEventListener("playing",oe),k.removeEventListener("error",ye),E(()=>{v||J()},100))},oe=()=>{v||(C(Y),k.removeEventListener("loadedmetadata",Z),k.removeEventListener("playing",oe),k.removeEventListener("error",ye),J())},ye=Be=>{v||(C(Y),k.removeEventListener("loadedmetadata",Z),k.removeEventListener("playing",oe),k.removeEventListener("error",ye),H(Be))};k.readyState>=1?E(()=>{v||Z()},100):k.addEventListener("loadedmetadata",Z,{once:!0}),k.addEventListener("playing",oe,{once:!0}),k.addEventListener("error",ye,{once:!0})});let D=0;const I=50;for(;(!k.videoWidth||!k.videoHeight)&&D<I&&!v;)if(await new Promise(J=>{E(()=>{v||J()},100)}),D++,!t.current||t.current!==k)throw new Error("Video element was removed");if(v||!k||!k.videoWidth||!k.videoHeight)throw b&&b.getTracks().forEach(J=>J.stop()),new Error("Video did not load properly - no valid dimensions");const L=k.videoWidth||640,W=k.videoHeight||480,q=new vJ.Camera(k,{onFrame:async()=>{if(!v&&k&&k.readyState===4&&k.videoWidth&&k.videoHeight)try{await P.send({image:k})}catch{}},width:L,height:W});await q.start(),y=P,w=q,i.current=P,s.current=q,d.current?.play();const K=Date.now(),ie=3e3,V=()=>{if(v)return;const J=Date.now()-K,H=Math.min(J/ie,1);a(H);const Y=r.current;u(H*(Y?.height||480)*.9),H<1?c.current=requestAnimationFrame(V):(d.current?.fade(.5,0,500),E(()=>{v||n()},500))};V()}}catch(O){const k=O;let D="Failed to access camera. ";if(k.name==="NotAllowedError"||k.name==="PermissionDeniedError")D+="Please allow camera permissions in your browser settings.";else if(k.name==="NotFoundError"||k.name==="DevicesNotFoundError")D+="No camera found. Please connect a camera device.";else if(k.name==="NotReadableError"||k.name==="TrackStartError")D+="Camera is already in use by another application. Please close other apps using the camera.";else if(k.name==="OverconstrainedError"||k.name==="ConstraintNotSatisfiedError"){D+="Camera constraints not supported. Trying with basic constraints...";try{const I=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});b=I,t.current&&(t.current.srcObject=I,await t.current.play(),e?.(D))}catch{D="Unable to access camera. Please check your camera permissions and ensure no other app is using it.",e?.(D)}}else D+=`Error: ${k.message||"Unknown error"}`,e?.(D)}}catch{e?.("Failed to initialize pose detection.")}})().catch(()=>{f.current=!1}),()=>{if(v=!0,f.current=!1,A.forEach(O=>{clearTimeout(O)}),A.length=0,c.current&&(cancelAnimationFrame(c.current),c.current=null),w){try{w.stop()}catch{}s.current=null,w=null}if(y){try{y.close()}catch{}i.current=null,y=null}b&&(b.getTracks().forEach(O=>{O.stop(),O.onended=null}),b=null);const P=t.current;P&&(P.srcObject=null,P.onloadedmetadata=null,P.onplaying=null,P.onerror=null),d.current&&d.current.stop()}},[]),p.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[p.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,className:"hidden",style:{display:"none"}}),p.jsx("canvas",{ref:r,className:"absolute inset-0 w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:p.jsxs("div",{className:"bg-black/60 backdrop-blur-sm px-8 py-6 rounded-2xl border border-cyan-400/50 shadow-lg",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx(s$,{className:"text-cyan-400 animate-pulse",size:32}),p.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:"SCANNING..."})]}),p.jsx("div",{className:"w-64 h-2 bg-gray-800 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-blue-500 transition-all duration-100",style:{width:`${o*100}%`}})}),p.jsxs("p",{className:"text-sm text-cyan-300 mt-2 text-center",children:[Math.round(o*100),"% Complete"]})]})})]})}function c8e(){const[n,e]=B.useState("scanning"),[t,r]=B.useState(null),i=Td(),s=()=>{e("transitioning"),setTimeout(()=>{i("/echo-body")},1500)},o=a=>{r(a),setTimeout(()=>{r(null)},5e3)};return p.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[p.jsxs(Rb,{mode:"wait",children:[n==="scanning"&&p.jsx(Ci.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0",children:p.jsx(l8e,{onScanComplete:s,onError:o})},"scan"),n==="transitioning"&&p.jsx(Ci.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-purple-900",children:p.jsxs(Ci.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-center",children:[p.jsx(Jae,{className:"w-16 h-16 text-cyan-400 animate-spin mx-auto mb-4"}),p.jsx("h2",{className:"text-3xl font-bold text-cyan-400 mb-2",children:"SCAN COMPLETE"}),p.jsx("p",{className:"text-xl text-cyan-300",children:"Initializing EchoBody..."})]})},"transition")]}),t&&p.jsx(Ci.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-red-500/90 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:t})]})}function sne(){const{user:n}=pu(),e=hm(),[t,r]=B.useState([]),[i,s]=B.useState(null),[o,a]=B.useState(null),[l,u]=B.useState([]),[d,c]=B.useState(""),[f,m]=B.useState(""),[v,b]=B.useState(!0),[y,w]=B.useState("loading"),A=B.useRef(null),E=B.useRef(null),C=B.useRef(new Set);B.useEffect(()=>{const V=e.state;V?.userId&&(s(V.userId),a(V.userName||null))},[e.state]),B.useEffect(()=>{let V=!0,J=null;return(async()=>{if(!V)return;try{await P()}catch{}if(!V)return;const Y=ne=>{if(!V)return;const Z=ne||[];r(Z),Vc.updateCache(Z)};J=Y,Vc.onConversationsUpdated(Y)})(),()=>{V=!1,J&&(Vc.offConversationsUpdated(J),J=null)}},[]),B.useEffect(()=>{i&&n?.id?M():w("loading")},[i,n?.id]),B.useEffect(()=>{const V=t.some(H=>H.otherUserId===i);if(i){if(C.current.has(i))return;V||y==="friends"?(C.current.add(i),O(i).finally(()=>{C.current.delete(i)}),Vc.markConversationAsRead(i).catch(H=>{})):y==="not_friends"&&u([])}else u([]);const J=H=>{const Y=Number(H.fromUserId),ne=Number(H.toUserId),Z=Number(n?.id),oe=Number(i);(Y===oe&&ne===Z||ne===oe&&Y===Z)&&u(ye=>ye.some(Xe=>Xe.id===H.id)?ye:[...ye,H])};return i&&(V||y==="friends")&&Vc.onMessageReceived(J),()=>{i&&Vc.offMessageReceived(J)}},[i,y,n?.id]),B.useEffect(()=>{L()},[l]);const M=async()=>{if(!(!i||!n?.id))try{w("loading");const V=await xo.getFriendRequestStatus(i);w(V.status),e.state&&e.state.userName&&!o&&a(e.state.userName||null)}catch{w("not_friends")}},P=async()=>{try{b(!0);const V=await Vc.getConversations(!0);r(V||[])}catch(V){const J=V;J?.code!=="ERR_NETWORK"&&J?.code!=="ERR_CONNECTION_REFUSED"&&ki.error("Failed to load conversations");try{const H=localStorage.getItem("hack2heal_conversations");if(H){const Y=JSON.parse(H);r(Y||[])}}catch{}}finally{b(!1)}},O=async V=>{try{b(!0);const J=await Vc.getMessages(V);J&&Array.isArray(J)&&J.length>0?(u(J),setTimeout(()=>{L()},100)):u([])}catch(J){const H=J;H?.code!=="ERR_NETWORK"&&H?.code!=="ERR_CONNECTION_REFUSED"&&ki.error("Failed to load messages"),u([])}finally{b(!1)}},k=async()=>{if(!d.trim()||!i||y!=="friends")return;const V=d.trim();c("");try{await Vc.sendMessage(i,V),await O(i),await P(),ki.success("Message sent!")}catch(J){const H=J;if(H?.code!=="ERR_NETWORK"&&H?.code!=="ERR_CONNECTION_REFUSED"){const Y=H?.response?.data?.message||"Failed to send message";ki.error(Y)}c(V)}},D=async()=>{if(i)try{await xo.sendFriendRequest(i),ki.success(`Friend request sent to ${o||"user"}!`),await M()}catch(V){const J=V;if(J?.code!=="ERR_NETWORK"&&J?.code!=="ERR_CONNECTION_REFUSED"){const H=J?.response?.data?.message||"Failed to send friend request";ki.error(H)}}},I=async()=>{if(!(!i||y!=="request_received"))try{const V=await xo.getFriendRequestStatus(i);V.request&&(await xo.acceptFriendRequest(V.request.id),ki.success(`You're now friends with ${o||"user"}!`),await M())}catch(V){const J=V;J?.code!=="ERR_NETWORK"&&J?.code!=="ERR_CONNECTION_REFUSED"&&ki.error("Failed to accept friend request")}},L=()=>{A.current?.scrollIntoView({behavior:"smooth"})},W=t.filter(V=>V.otherUserName.toLowerCase().includes(f.toLowerCase())),q=t.find(V=>V.otherUserId===i),K=q?.otherUserName||o||"User",ie=q!==void 0||y==="friends";return p.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Of,{className:"w-6 h-6"}),"Messages"]}),p.jsx("p",{className:"text-gray-600",children:"Connect and chat with your recovery community"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-12rem)]",children:[p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs("div",{className:"relative",children:[p.jsx("label",{htmlFor:"search-conversations",className:"sr-only",children:"Search conversations"}),p.jsx(Hb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),p.jsx(bs,{id:"search-conversations",name:"search-conversations",type:"search",autoComplete:"off",placeholder:"Search conversations...",value:f,onChange:V=>m(V.target.value),className:"pl-10"})]})}),p.jsx(Bt,{className:"p-0",children:p.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-20rem)]",children:v?p.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading conversations..."}):W.length===0?p.jsxs("div",{className:"p-8 text-center text-gray-500",children:[p.jsx(Of,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No conversations yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Start a conversation from the leaderboard!"})]}):p.jsx("div",{className:"divide-y divide-gray-200",children:W.map(V=>p.jsx("button",{onClick:()=>{s(V.otherUserId),a(V.otherUserName)},className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${i===V.otherUserId?"bg-[#6F66FF]/10 border-l-4 border-[#6F66FF]":""}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-lg font-semibold flex-shrink-0",children:V.otherUserAvatar||V.otherUserName.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("h4",{className:"text-sm font-semibold text-[#2C2E6F] truncate",children:V.otherUserName}),V.unreadCount>0&&p.jsx(hr,{className:"bg-[#6F66FF] text-white text-xs",children:V.unreadCount})]}),V.lastMessage&&p.jsx("p",{className:"text-xs text-gray-600 truncate",children:V.lastMessage}),V.lastMessageTime&&p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(V.lastMessageTime).toLocaleDateString()})]})]})},V.id))})})})]}),p.jsx("div",{className:"lg:col-span-2",children:i?p.jsxs(Dt,{className:"border-0 shadow-lg flex flex-col",style:{height:"600px",display:"flex",flexDirection:"column"},children:[p.jsx(cn,{className:"border-b flex-shrink-0",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white font-semibold",children:q?.otherUserAvatar||K.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1",children:[p.jsx(dn,{className:"text-lg",children:K}),p.jsx("p",{className:"text-xs text-gray-500",children:y==="friends"?"Online":y==="request_sent"?"Friend request sent":y==="request_received"?"Sent you a friend request":y==="loading"?"Checking...":"Not friends yet"})]})]})}),p.jsx(Bt,{className:"flex-1 flex flex-col p-0 overflow-hidden",style:{minHeight:0,flex:"1 1 auto"},children:y==="loading"&&!q?p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-500",children:"Loading..."})}):ie?p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:E,className:"flex-1 overflow-y-auto p-4 bg-gray-50",style:{minHeight:"400px",height:"100%",display:"flex",flexDirection:"column"},children:v?p.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:p.jsx("p",{className:"text-gray-500",children:"Loading messages..."})}):l.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(Of,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No messages yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Start the conversation!"})]}):p.jsxs("div",{className:"flex flex-col gap-4 py-2",style:{width:"100%"},children:[l.map((V,J)=>{const H=V.fromUserId===Number(n?.id);return p.jsx("div",{className:`flex w-full ${H?"justify-end":"justify-start"}`,style:{marginBottom:"8px"},children:p.jsx("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${H?"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF]":""}`,style:{wordWrap:"break-word",wordBreak:"break-word",backgroundColor:H?void 0:"#FFFFFF",border:H?"none":"1px solid #E5E7EB"},children:H?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"whitespace-pre-wrap break-words",style:{color:"#FFFFFF !important",fontSize:"14px !important",fontWeight:"400 !important",lineHeight:"1.5 !important",margin:"0 !important",padding:"0 !important"},children:V.content}),p.jsxs("div",{className:"flex items-center gap-1 mt-1",style:{color:"rgba(255, 255, 255, 0.7) !important",fontSize:"12px !important",lineHeight:"1.5 !important"},children:[p.jsx("span",{children:new Date(V.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),V.read&&p.jsx(sd,{className:"w-3 h-3",style:{color:"rgba(255, 255, 255, 0.7) !important",stroke:"rgba(255, 255, 255, 0.7) !important",fill:"rgba(255, 255, 255, 0.7) !important"}})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"whitespace-pre-wrap break-words",style:{color:"#111827 !important",fontSize:"14px !important",fontWeight:"400 !important",lineHeight:"1.5 !important",margin:"0 !important",padding:"0 !important"},children:V.content}),p.jsx("div",{className:"flex items-center gap-1 mt-1",style:{color:"#6B7280 !important",fontSize:"12px !important",lineHeight:"1.5 !important"},children:p.jsx("span",{children:new Date(V.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})})},V.id)}),p.jsx("div",{ref:A,style:{height:"1px"}})]})}),p.jsx("div",{className:"border-t p-4 bg-white",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("label",{htmlFor:"message-input",className:"sr-only",children:"Type a message"}),p.jsx(bs,{id:"message-input",name:"message",type:"text",autoComplete:"off",placeholder:"Type a message...",value:d,onChange:V=>c(V.target.value),onKeyPress:V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),k())},className:"flex-1"}),p.jsx(zt,{onClick:k,disabled:!d.trim(),className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90",children:p.jsx(wE,{className:"w-4 h-4"})})]})})]}):p.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:p.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[p.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-2xl font-semibold",children:K.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-[#2C2E6F] mb-2",children:y==="request_sent"?"Friend Request Sent":y==="request_received"?"Friend Request Received":"Not Friends Yet"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y==="request_sent"?`You've sent a friend request to ${K}. Once they accept, you can start messaging!`:y==="request_received"?`${K} sent you a friend request. Accept to start messaging!`:`You need to be friends with ${K} before you can message them. Send a friend request to get started!`})]}),p.jsxs("div",{className:"flex gap-2 justify-center",children:[y==="request_received"&&p.jsxs(zt,{onClick:I,className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 text-white",children:[p.jsx(GF,{className:"w-4 h-4 mr-2"}),"Accept Request"]}),y==="not_friends"&&p.jsxs(zt,{onClick:D,className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 text-white",children:[p.jsx(Px,{className:"w-4 h-4 mr-2"}),"Send Friend Request"]}),y==="request_sent"&&p.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[p.jsx(Px,{className:"w-4 h-4"}),p.jsx("span",{children:"Waiting for response..."})]})]})]})})})]}):p.jsx(Dt,{className:"border-0 shadow-lg h-full flex items-center justify-center",children:p.jsxs(Bt,{className:"text-center text-gray-500",children:[p.jsx(Of,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),p.jsx("p",{className:"text-sm",children:"Choose a conversation from the list to start messaging"})]})})})]})]})}function one(){const[n,e]=B.useState([]),[t,r]=B.useState([]),[i,s]=B.useState(!0),[o,a]=B.useState("incoming");B.useEffect(()=>{l();const c=m=>{e(m.incoming||[]),r(m.outgoing||[])},f=()=>{l()};return xo.onFriendRequestsUpdated(c),xo.onFriendRequestReceived(f),()=>{xo.offFriendRequestsUpdated(c),xo.offFriendRequestReceived(f)}},[]);const l=async()=>{try{s(!0);const c=await xo.getAllFriendRequests();e(c.incoming||[]),r(c.outgoing||[])}catch(c){const f=c;f?.code!=="ERR_NETWORK"&&f?.code!=="ERR_CONNECTION_REFUSED"&&ki.error("Failed to load friend requests")}finally{s(!1)}},u=async(c,f)=>{try{await xo.acceptFriendRequest(c),ki.success(`You're now friends with ${f}!`),await l()}catch(m){const v=m;if(v?.code!=="ERR_NETWORK"&&v?.code!=="ERR_CONNECTION_REFUSED"){const b=v?.response?.data?.message||"Failed to accept friend request";ki.error(b)}}},d=async(c,f)=>{try{await xo.rejectFriendRequest(c),ki.success(`Friend request from ${f} rejected`),await l()}catch(m){const v=m;v?.code!=="ERR_NETWORK"&&v?.code!=="ERR_CONNECTION_REFUSED"&&ki.error("Failed to reject friend request")}};return p.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Rx,{className:"w-6 h-6"}),"Friend Requests"]}),p.jsx("p",{className:"text-gray-600",children:"Manage your friend requests and connections"})]}),p.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[p.jsxs("button",{onClick:()=>a("incoming"),className:`pb-3 px-4 font-semibold transition-colors relative ${o==="incoming"?"text-[#6F66FF]":"text-gray-500 hover:text-gray-700"}`,children:["Incoming",n.length>0&&p.jsx(hr,{className:"ml-2 bg-[#6F66FF] text-white",children:n.length}),o==="incoming"&&p.jsx(Ci.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#6F66FF]",layoutId:"activeTab"})]}),p.jsxs("button",{onClick:()=>a("outgoing"),className:`pb-3 px-4 font-semibold transition-colors relative ${o==="outgoing"?"text-[#6F66FF]":"text-gray-500 hover:text-gray-700"}`,children:["Outgoing",t.length>0&&p.jsx(hr,{className:"ml-2 bg-gray-500 text-white",children:t.length}),o==="outgoing"&&p.jsx(Ci.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#6F66FF]",layoutId:"activeTab"})]})]}),i?p.jsx(Dt,{className:"border-0 shadow-lg",children:p.jsx(Bt,{className:"p-8 text-center text-gray-500",children:"Loading friend requests..."})}):o==="incoming"?p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Px,{className:"w-5 h-5"}),"Incoming Friend Requests",n.length>0&&p.jsx(hr,{className:"ml-2 bg-[#6F66FF] text-white",children:n.length})]})}),p.jsx(Bt,{children:n.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(Px,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No incoming requests"}),p.jsx("p",{className:"text-sm",children:"You don't have any pending friend requests right now."})]}):p.jsx("div",{className:"space-y-3",children:n.map(c=>p.jsxs(Ci.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 hover:border-[#6F66FF]/50 transition-all bg-white",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-lg font-semibold flex-shrink-0",children:c.userAvatar||c.userName?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-[#2C2E6F] font-semibold",children:c.userName||`User ${c.fromUserId}`}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Sent ",new Date(c.createdAt).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(zt,{onClick:()=>u(c.id,c.userName||`User ${c.fromUserId}`),className:"bg-gradient-to-r from-green-500 to-green-600 hover:opacity-90 text-white",children:[p.jsx(GF,{className:"w-4 h-4 mr-2"}),"Accept"]}),p.jsxs(zt,{onClick:()=>d(c.id,c.userName||`User ${c.fromUserId}`),variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:[p.jsx(tce,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]},c.id))})})]}):p.jsxs(Dt,{className:"border-0 shadow-lg",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(rx,{className:"w-5 h-5"}),"Outgoing Friend Requests",t.length>0&&p.jsx(hr,{className:"ml-2 bg-gray-500 text-white",children:t.length})]})}),p.jsx(Bt,{children:t.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(rx,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No outgoing requests"}),p.jsx("p",{className:"text-sm",children:"You haven't sent any friend requests yet."})]}):p.jsx("div",{className:"space-y-3",children:t.map(c=>p.jsxs(Ci.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 bg-white",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-lg font-semibold flex-shrink-0",children:c.userAvatar||c.userName?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-[#2C2E6F] font-semibold",children:c.userName||`User ${c.toUserId}`}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Sent ",new Date(c.createdAt).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[p.jsx(rx,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm",children:"Waiting for response"})]})]},c.id))})})]})]})}function u8e(){const n=Td(),[e,t]=B.useState([]),[r,i]=B.useState(""),[s,o]=B.useState(!0);B.useEffect(()=>(a(),xo.onFriendRequestsUpdated(()=>{a()}),()=>{xo.offFriendRequestsUpdated(()=>{})}),[]);const a=async()=>{try{o(!0);const d=(await xo.getFriends()).map(c=>({...c,userName:c.friendName||`User ${c.friendId}`,userAvatar:c.friendName?.charAt(0).toUpperCase()||"?",userId:c.friendId}));t(d)}catch(u){const d=u;console.error("Failed to load friends:",u),d?.code!=="ERR_NETWORK"&&d?.code!=="ERR_CONNECTION_REFUSED"&&ki.error("Failed to load friends")}finally{o(!1)}},l=e.filter(u=>u.userName?.toLowerCase().includes(r.toLowerCase()));return p.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Friends"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Connect with your recovery community"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white font-semibold",children:p.jsx(Rx,{className:"w-5 h-5"})}),p.jsxs(hr,{className:"bg-[#6F66FF]/10 text-[#6F66FF] border-[#6F66FF]/20",children:[e.length," ",e.length===1?"Friend":"Friends"]})]})]}),p.jsx(Dt,{className:"border-0 shadow-sm",children:p.jsx(Bt,{className:"p-4",children:p.jsxs("div",{className:"relative",children:[p.jsx(Hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx(bs,{type:"text",placeholder:"Search friends...",value:r,onChange:u=>i(u.target.value),className:"pl-10 bg-white border-gray-200"})]})})}),p.jsxs(Dt,{className:"border-0 shadow-sm",children:[p.jsx(cn,{children:p.jsxs(dn,{className:"flex items-center gap-2",children:[p.jsx(GF,{className:"w-5 h-5 text-[#6F66FF]"}),"Friends (",l.length,")"]})}),p.jsx(Bt,{children:s?p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx("div",{className:"text-gray-500",children:"Loading friends..."})}):l.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[p.jsx(Rx,{className:"w-16 h-16 text-gray-300 mb-4"}),p.jsx("p",{className:"text-gray-500 text-lg font-medium",children:r?"No friends found":"No friends yet"}),p.jsx("p",{className:"text-gray-400 text-sm mt-2",children:r?"Try a different search term":"Connect with others in the Quests & XP section"})]}):p.jsx("div",{className:"space-y-3",children:l.map((u,d)=>p.jsx(Ci.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},children:p.jsx(Dt,{className:"border border-gray-200 hover:border-[#6F66FF]/50 hover:shadow-md transition-all",children:p.jsx(Bt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white font-semibold",children:u.userAvatar||u.userName?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:u.userName||u.friendName||`User ${u.friendId}`}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Friend since ",new Date(u.createdAt).toLocaleDateString()]})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs(zt,{size:"sm",variant:"outline",onClick:()=>{n("/friends-messages",{state:{tab:"messages",userId:u.friendId,userName:u.userName||u.friendName}})},className:"text-xs h-8 px-3 bg-white border-[#6F66FF] text-[#6F66FF] hover:bg-[#6F66FF]/10",children:[p.jsx(Of,{className:"w-3 h-3 mr-1"}),"Message"]})})]})})})},u.id||u.friendId||d))})})]})]})}function D7(){const n=hm(),[e,t]=B.useState("messages");return B.useEffect(()=>{const r=n.state;r?.tab?t(r.tab):n.pathname==="/friends"&&t("friends")},[n]),p.jsx("div",{className:"p-8",children:p.jsxs(_C,{defaultValue:e,value:e,onValueChange:t,className:"w-full",children:[p.jsxs(wC,{className:"mb-6",children:[p.jsx(Ba,{value:"messages",children:"Messages"}),p.jsx(Ba,{value:"friends",children:"Friends"}),p.jsx(Ba,{value:"friend-requests",children:"Friend Requests"})]}),p.jsx(lc,{value:"messages",className:"mt-0",children:p.jsx("div",{className:"-m-8",children:p.jsx(sne,{})})}),p.jsx(lc,{value:"friends",className:"mt-0",children:p.jsx("div",{className:"-m-8",children:p.jsx(u8e,{})})}),p.jsx(lc,{value:"friend-requests",className:"mt-0",children:p.jsx("div",{className:"-m-8",children:p.jsx(one,{})})})]})})}var d8e=(n,e,t,r,i,s,o,a)=>{let l=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(n)?n:[n]).forEach(v=>{let b=v==="class",y=b&&s?i.map(w=>s[w]||w):i;b?(l.classList.remove(...y),l.classList.add(s&&s[m]?s[m]:m)):l.setAttribute(v,m)}),c(m)}function c(m){a&&u.includes(m)&&(l.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let m=localStorage.getItem(e)||t,v=o&&m==="system"?f():m;d(v)}catch{}},f8e=B.createContext(void 0),h8e={setTheme:n=>{},themes:[]},p8e=()=>{var n;return(n=B.useContext(f8e))!=null?n:h8e};B.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:u})=>{let d=JSON.stringify([t,e,s,n,a,o,r,i]).slice(1,-1);return B.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${d8e.toString()})(${d})`}})});const m8e=({...n})=>{const{theme:e="system"}=p8e();return p.jsx(YTe,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function g8e(){const{isAuthenticated:n,user:e}=pu(),[t,r]=B.useState("patient"),[i,s]=B.useState("dashboard"),o=Td(),a=hm();B.useEffect(()=>{const f=a.pathname.replace("/","")||"dashboard";s(f)},[a]),B.useEffect(()=>{if(e){const f=e?.role,m=f==="clinician"?"clinician":"patient";r(m);const v=a.pathname.replace("/","")||"dashboard";v==="dashboard"&&f==="clinician"?o("/clinician-dashboard"):v==="clinician-dashboard"&&m==="patient"&&o("/dashboard")}},[e,a.pathname,o]);const l=f=>{r(f);const m=f==="patient"?"dashboard":"clinician-dashboard";s(m),o(`/${m}`)},u=f=>{s(f),o(`/${f}`)};if(!n)return p.jsx(tX,{onLogin:l});const d=()=>{if(t==="patient")switch(i){case"dashboard":return p.jsx(qH,{});case"ai-plan":return p.jsx(bTe,{});case"live-session":return p.jsx(STe,{});case"quests":return p.jsx(QTe,{});case"friends":return p.jsx(D7,{});case"friends-messages":return p.jsx(D7,{});case"friend-requests":return p.jsx(one,{});case"messages":return p.jsx(sne,{});case"future-self":return p.jsx(e2e,{});case"clarity-hub":return p.jsx(n9,{userRole:"patient"});case"body-scan":return p.jsx(c8e,{});case"echo-body":return p.jsx(s8e,{});case"exercises":return p.jsx(r9,{});case"settings":return p.jsx(i9,{});default:return p.jsx(qH,{})}if(t==="clinician")switch(i){case"clinician-dashboard":case"dashboard":return p.jsx(o9,{onNavigate:u});case"patients":return p.jsx(fPe,{});case"clarity-hub":return p.jsx(n9,{userRole:"clinician"});case"exercises":return p.jsx(r9,{});case"analytics":return p.jsx(mPe,{});case"actuarial-insights":return p.jsx(yPe,{onBack:()=>u("clinician-dashboard")});case"settings":return p.jsx(i9,{});default:return p.jsx(o9,{onNavigate:u})}return p.jsx(fTe,{})},c=i==="body-scan";return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#E9E6F9] via-white to-white",children:[!c&&p.jsx(Jfe,{currentPage:i,onPageChange:u,userRole:t}),p.jsx("main",{className:c?"w-full h-screen":"ml-64 p-8",children:d()})]})}function v8e(){return p.jsx(ooe,{children:p.jsxs(aoe,{children:[p.jsx(m8e,{}),p.jsx(Ore,{children:p.jsxs(Rre,{children:[p.jsx(Fw,{path:"/login",element:p.jsx(tX,{})}),p.jsx(Fw,{path:"/*",element:p.jsx(loe,{children:p.jsx(g8e,{})})}),p.jsx(Fw,{path:"/",element:p.jsx(J7,{to:"/dashboard",replace:!0})})]})})]})})}Une.createRoot(document.getElementById("root")).render(p.jsx(ue.StrictMode,{children:p.jsx(v8e,{})}));
