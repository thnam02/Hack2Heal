function Mne(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var LM={exports:{}},fy={},jM={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL;function Tne(){if(RL)return gr;RL=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),c=Symbol.iterator;function f(Y){return Y===null||typeof Y!="object"?null:(Y=c&&Y[c]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function y(Y,ae,we){this.props=Y,this.context=ae,this.refs=b,this.updater=we||m}y.prototype.isReactComponent={},y.prototype.setState=function(Y,ae){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ae,"setState")},y.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=y.prototype;function A(Y,ae,we){this.props=Y,this.context=ae,this.refs=b,this.updater=we||m}var E=A.prototype=new w;E.constructor=A,v(E,y.prototype),E.isPureReactComponent=!0;var C=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(Y,ae,we){var Fe,qe={},fe=null,xe=null;if(ae!=null)for(Fe in ae.ref!==void 0&&(xe=ae.ref),ae.key!==void 0&&(fe=""+ae.key),ae)M.call(ae,Fe)&&!O.hasOwnProperty(Fe)&&(qe[Fe]=ae[Fe]);var Pe=arguments.length-2;if(Pe===1)qe.children=we;else if(1<Pe){for(var Te=Array(Pe),je=0;je<Pe;je++)Te[je]=arguments[je+2];qe.children=Te}if(Y&&Y.defaultProps)for(Fe in Pe=Y.defaultProps,Pe)qe[Fe]===void 0&&(qe[Fe]=Pe[Fe]);return{$$typeof:n,type:Y,key:fe,ref:xe,props:qe,_owner:R.current}}function D(Y,ae){return{$$typeof:n,type:Y.type,key:ae,ref:Y.ref,props:Y.props,_owner:Y._owner}}function I(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function L(Y){var ae={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(we){return ae[we]})}var W=/\/+/g;function q(Y,ae){return typeof Y=="object"&&Y!==null&&Y.key!=null?L(""+Y.key):ae.toString(36)}function K(Y,ae,we,Fe,qe){var fe=typeof Y;(fe==="undefined"||fe==="boolean")&&(Y=null);var xe=!1;if(Y===null)xe=!0;else switch(fe){case"string":case"number":xe=!0;break;case"object":switch(Y.$$typeof){case n:case e:xe=!0}}if(xe)return xe=Y,qe=qe(xe),Y=Fe===""?"."+q(xe,0):Fe,C(qe)?(we="",Y!=null&&(we=Y.replace(W,"$&/")+"/"),K(qe,ae,we,"",function(je){return je})):qe!=null&&(I(qe)&&(qe=D(qe,we+(!qe.key||xe&&xe.key===qe.key?"":(""+qe.key).replace(W,"$&/")+"/")+Y)),ae.push(qe)),1;if(xe=0,Fe=Fe===""?".":Fe+":",C(Y))for(var Pe=0;Pe<Y.length;Pe++){fe=Y[Pe];var Te=Fe+q(fe,Pe);xe+=K(fe,ae,we,Te,qe)}else if(Te=f(Y),typeof Te=="function")for(Y=Te.call(Y),Pe=0;!(fe=Y.next()).done;)fe=fe.value,Te=Fe+q(fe,Pe++),xe+=K(fe,ae,we,Te,qe);else if(fe==="object")throw ae=String(Y),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return xe}function ne(Y,ae,we){if(Y==null)return Y;var Fe=[],qe=0;return K(Y,Fe,"","",function(fe){return ae.call(we,fe,qe++)}),Fe}function V(Y){if(Y._status===-1){var ae=Y._result;ae=ae(),ae.then(function(we){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=we)},function(we){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=we)}),Y._status===-1&&(Y._status=0,Y._result=ae)}if(Y._status===1)return Y._result.default;throw Y._result}var ee={current:null},H={transition:null},Z={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:R};function te(){throw Error("act(...) is not supported in production builds of React.")}return gr.Children={map:ne,forEach:function(Y,ae,we){ne(Y,function(){ae.apply(this,arguments)},we)},count:function(Y){var ae=0;return ne(Y,function(){ae++}),ae},toArray:function(Y){return ne(Y,function(ae){return ae})||[]},only:function(Y){if(!I(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},gr.Component=y,gr.Fragment=t,gr.Profiler=i,gr.PureComponent=A,gr.StrictMode=r,gr.Suspense=l,gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,gr.act=te,gr.cloneElement=function(Y,ae,we){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Fe=v({},Y.props),qe=Y.key,fe=Y.ref,xe=Y._owner;if(ae!=null){if(ae.ref!==void 0&&(fe=ae.ref,xe=R.current),ae.key!==void 0&&(qe=""+ae.key),Y.type&&Y.type.defaultProps)var Pe=Y.type.defaultProps;for(Te in ae)M.call(ae,Te)&&!O.hasOwnProperty(Te)&&(Fe[Te]=ae[Te]===void 0&&Pe!==void 0?Pe[Te]:ae[Te])}var Te=arguments.length-2;if(Te===1)Fe.children=we;else if(1<Te){Pe=Array(Te);for(var je=0;je<Te;je++)Pe[je]=arguments[je+2];Fe.children=Pe}return{$$typeof:n,type:Y.type,key:qe,ref:fe,props:Fe,_owner:xe}},gr.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},gr.createElement=k,gr.createFactory=function(Y){var ae=k.bind(null,Y);return ae.type=Y,ae},gr.createRef=function(){return{current:null}},gr.forwardRef=function(Y){return{$$typeof:a,render:Y}},gr.isValidElement=I,gr.lazy=function(Y){return{$$typeof:d,_payload:{_status:-1,_result:Y},_init:V}},gr.memo=function(Y,ae){return{$$typeof:u,type:Y,compare:ae===void 0?null:ae}},gr.startTransition=function(Y){var ae=H.transition;H.transition={};try{Y()}finally{H.transition=ae}},gr.unstable_act=te,gr.useCallback=function(Y,ae){return ee.current.useCallback(Y,ae)},gr.useContext=function(Y){return ee.current.useContext(Y)},gr.useDebugValue=function(){},gr.useDeferredValue=function(Y){return ee.current.useDeferredValue(Y)},gr.useEffect=function(Y,ae){return ee.current.useEffect(Y,ae)},gr.useId=function(){return ee.current.useId()},gr.useImperativeHandle=function(Y,ae,we){return ee.current.useImperativeHandle(Y,ae,we)},gr.useInsertionEffect=function(Y,ae){return ee.current.useInsertionEffect(Y,ae)},gr.useLayoutEffect=function(Y,ae){return ee.current.useLayoutEffect(Y,ae)},gr.useMemo=function(Y,ae){return ee.current.useMemo(Y,ae)},gr.useReducer=function(Y,ae,we){return ee.current.useReducer(Y,ae,we)},gr.useRef=function(Y){return ee.current.useRef(Y)},gr.useState=function(Y){return ee.current.useState(Y)},gr.useSyncExternalStore=function(Y,ae,we){return ee.current.useSyncExternalStore(Y,ae,we)},gr.useTransition=function(){return ee.current.useTransition()},gr.version="18.3.1",gr}var NL;function sE(){return NL||(NL=1,jM.exports=Tne()),jM.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function Pne(){if(IL)return fy;IL=1;var n=sE(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var d,c={},f=null,m=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(c[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)c[d]===void 0&&(c[d]=l[d]);return{$$typeof:e,type:a,key:f,ref:m,props:c,_owner:i.current}}return fy.Fragment=t,fy.jsx=o,fy.jsxs=o,fy}var OL;function Rne(){return OL||(OL=1,LM.exports=Pne()),LM.exports}var p=Rne(),B=sE();const ue=zr(B),EF=Mne({__proto__:null,default:ue},[B]);var n1={},UM={exports:{}},sa={},zM={exports:{}},HM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL;function Nne(){return FL||(FL=1,(function(n){function e(H,Z){var te=H.length;H.push(Z);e:for(;0<te;){var Y=te-1>>>1,ae=H[Y];if(0<i(ae,Z))H[Y]=Z,H[te]=ae,te=Y;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],te=H.pop();if(te!==Z){H[0]=te;e:for(var Y=0,ae=H.length,we=ae>>>1;Y<we;){var Fe=2*(Y+1)-1,qe=H[Fe],fe=Fe+1,xe=H[fe];if(0>i(qe,te))fe<ae&&0>i(xe,qe)?(H[Y]=xe,H[fe]=te,Y=fe):(H[Y]=qe,H[Fe]=te,Y=Fe);else if(fe<ae&&0>i(xe,te))H[Y]=xe,H[fe]=te,Y=fe;else break e}}return Z}function i(H,Z){var te=H.sortIndex-Z.sortIndex;return te!==0?te:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=H)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function C(H){if(b=!1,E(H),!v)if(t(l)!==null)v=!0,V(M);else{var Z=t(u);Z!==null&&ee(C,Z.startTime-H)}}function M(H,Z){v=!1,b&&(b=!1,w(k),k=-1),m=!0;var te=f;try{for(E(Z),c=t(l);c!==null&&(!(c.expirationTime>Z)||H&&!L());){var Y=c.callback;if(typeof Y=="function"){c.callback=null,f=c.priorityLevel;var ae=Y(c.expirationTime<=Z);Z=n.unstable_now(),typeof ae=="function"?c.callback=ae:c===t(l)&&r(l),E(Z)}else r(l);c=t(l)}if(c!==null)var we=!0;else{var Fe=t(u);Fe!==null&&ee(C,Fe.startTime-Z),we=!1}return we}finally{c=null,f=te,m=!1}}var R=!1,O=null,k=-1,D=5,I=-1;function L(){return!(n.unstable_now()-I<D)}function W(){if(O!==null){var H=n.unstable_now();I=H;var Z=!0;try{Z=O(!0,H)}finally{Z?q():(R=!1,O=null)}}else R=!1}var q;if(typeof A=="function")q=function(){A(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=W,q=function(){ne.postMessage(null)}}else q=function(){y(W,0)};function V(H){O=H,R||(R=!0,q())}function ee(H,Z){k=y(function(){H(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,V(M))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var te=f;f=Z;try{return H()}finally{f=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=f;f=H;try{return Z()}finally{f=te}},n.unstable_scheduleCallback=function(H,Z,te){var Y=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Y+te:Y):te=Y,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,H={id:d++,callback:Z,priorityLevel:H,startTime:te,expirationTime:ae,sortIndex:-1},te>Y?(H.sortIndex=te,e(u,H),t(l)===null&&H===t(u)&&(b?(w(k),k=-1):b=!0,ee(C,te-Y))):(H.sortIndex=ae,e(l,H),v||m||(v=!0,V(M))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var Z=f;return function(){var te=f;f=Z;try{return H.apply(this,arguments)}finally{f=te}}}})(HM)),HM}var DL;function Ine(){return DL||(DL=1,zM.exports=Nne()),zM.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BL;function One(){if(BL)return sa;BL=1;var n=sE(),e=Ine();function t(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,g){o(h,g),o(h+"Capture",g)}function o(h,g){for(i[h]=g,h=0;h<g.length;h++)r.add(g[h])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},c={};function f(h){return l.call(c,h)?!0:l.call(d,h)?!1:u.test(h)?c[h]=!0:(d[h]=!0,!1)}function m(h,g,S,N){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return N?!1:S!==null?!S.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function v(h,g,S,N){if(g===null||typeof g>"u"||m(h,g,S,N))return!0;if(N)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function b(h,g,S,N,j,G,se){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=N,this.attributeNamespace=j,this.mustUseProperty=S,this.propertyName=h,this.type=g,this.sanitizeURL=G,this.removeEmptyString=se}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){y[h]=new b(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];y[g]=new b(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){y[h]=new b(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){y[h]=new b(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){y[h]=new b(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){y[h]=new b(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){y[h]=new b(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){y[h]=new b(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){y[h]=new b(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(w,A);y[g]=new b(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(w,A);y[g]=new b(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(w,A);y[g]=new b(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){y[h]=new b(h,1,!1,h.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){y[h]=new b(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,g,S,N){var j=y.hasOwnProperty(g)?y[g]:null;(j!==null?j.type!==0:N||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(v(g,S,j,N)&&(S=null),N||j===null?f(g)&&(S===null?h.removeAttribute(g):h.setAttribute(g,""+S)):j.mustUseProperty?h[j.propertyName]=S===null?j.type===3?!1:"":S:(g=j.attributeName,N=j.attributeNamespace,S===null?h.removeAttribute(g):(j=j.type,S=j===3||j===4&&S===!0?"":""+S,N?h.setAttributeNS(N,g,S):h.setAttribute(g,S))))}var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(h){return h===null||typeof h!="object"?null:(h=H&&h[H]||h["@@iterator"],typeof h=="function"?h:null)}var te=Object.assign,Y;function ae(h){if(Y===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);Y=g&&g[1]||""}return`
`+Y+h}var we=!1;function Fe(h,g){if(!h||we)return"";we=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ye){var N=Ye}Reflect.construct(h,[],g)}else{try{g.call()}catch(Ye){N=Ye}h.call(g.prototype)}else{try{throw Error()}catch(Ye){N=Ye}h()}}catch(Ye){if(Ye&&N&&typeof Ye.stack=="string"){for(var j=Ye.stack.split(`
`),G=N.stack.split(`
`),se=j.length-1,_e=G.length-1;1<=se&&0<=_e&&j[se]!==G[_e];)_e--;for(;1<=se&&0<=_e;se--,_e--)if(j[se]!==G[_e]){if(se!==1||_e!==1)do if(se--,_e--,0>_e||j[se]!==G[_e]){var Me=`
`+j[se].replace(" at new "," at ");return h.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",h.displayName)),Me}while(1<=se&&0<=_e);break}}}finally{we=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?ae(h):""}function qe(h){switch(h.tag){case 5:return ae(h.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return h=Fe(h.type,!1),h;case 11:return h=Fe(h.type.render,!1),h;case 1:return h=Fe(h.type,!0),h;default:return""}}function fe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case O:return"Fragment";case R:return"Portal";case D:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case K:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case L:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case W:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case ne:return g=h.displayName||null,g!==null?g:fe(h.type)||"Memo";case V:g=h._payload,h=h._init;try{return fe(h(g))}catch{}}return null}function xe(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(g);case 8:return g===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Pe(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Te(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function je(h){var g=Te(h)?"checked":"value",S=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),N=""+h[g];if(!h.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var j=S.get,G=S.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return j.call(this)},set:function(se){N=""+se,G.call(this,se)}}),Object.defineProperty(h,g,{enumerable:S.enumerable}),{getValue:function(){return N},setValue:function(se){N=""+se},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function rt(h){h._valueTracker||(h._valueTracker=je(h))}function Ue(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var S=g.getValue(),N="";return h&&(N=Te(h)?h.checked?"true":"false":h.value),h=N,h!==S?(g.setValue(h),!0):!1}function ot(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function De(h,g){var S=g.checked;return te({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??h._wrapperState.initialChecked})}function le(h,g){var S=g.defaultValue==null?"":g.defaultValue,N=g.checked!=null?g.checked:g.defaultChecked;S=Pe(g.value!=null?g.value:S),h._wrapperState={initialChecked:N,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function et(h,g){g=g.checked,g!=null&&E(h,"checked",g,!1)}function at(h,g){et(h,g);var S=Pe(g.value),N=g.type;if(S!=null)N==="number"?(S===0&&h.value===""||h.value!=S)&&(h.value=""+S):h.value!==""+S&&(h.value=""+S);else if(N==="submit"||N==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?ct(h,g.type,S):g.hasOwnProperty("defaultValue")&&ct(h,g.type,Pe(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function xt(h,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var N=g.type;if(!(N!=="submit"&&N!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,S||g===h.value||(h.value=g),h.defaultValue=g}S=h.name,S!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,S!==""&&(h.name=S)}function ct(h,g,S){(g!=="number"||ot(h.ownerDocument)!==h)&&(S==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+S&&(h.defaultValue=""+S))}var Ut=Array.isArray;function Ct(h,g,S,N){if(h=h.options,g){g={};for(var j=0;j<S.length;j++)g["$"+S[j]]=!0;for(S=0;S<h.length;S++)j=g.hasOwnProperty("$"+h[S].value),h[S].selected!==j&&(h[S].selected=j),j&&N&&(h[S].defaultSelected=!0)}else{for(S=""+Pe(S),g=null,j=0;j<h.length;j++){if(h[j].value===S){h[j].selected=!0,N&&(h[j].defaultSelected=!0);return}g!==null||h[j].disabled||(g=h[j])}g!==null&&(g.selected=!0)}}function Et(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function ce(h,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(t(92));if(Ut(S)){if(1<S.length)throw Error(t(93));S=S[0]}g=S}g==null&&(g=""),S=g}h._wrapperState={initialValue:Pe(S)}}function ie(h,g){var S=Pe(g.value),N=Pe(g.defaultValue);S!=null&&(S=""+S,S!==h.value&&(h.value=S),g.defaultValue==null&&h.defaultValue!==S&&(h.defaultValue=S)),N!=null&&(h.defaultValue=""+N)}function Ie(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function Je(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?Je(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Xe,Yt=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,N,j){MSApp.execUnsafeLocalFunction(function(){return h(g,S,N,j)})}:h})(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Xe.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function Dt(h,g){if(g){var S=h.firstChild;if(S&&S===h.lastChild&&S.nodeType===3){S.nodeValue=g;return}}h.textContent=g}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(h){Kt.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),nn[g]=nn[h]})});function ht(h,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||nn.hasOwnProperty(h)&&nn[h]?(""+g).trim():g+"px"}function pt(h,g){h=h.style;for(var S in g)if(g.hasOwnProperty(S)){var N=S.indexOf("--")===0,j=ht(S,g[S],N);S==="float"&&(S="cssFloat"),N?h.setProperty(S,j):h[S]=j}}var pn=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(h,g){if(g){if(pn[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(t(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(t(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(t(61))}if(g.style!=null&&typeof g.style!="object")throw Error(t(62))}}function Le(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ut=null;function ve(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Be=null,mt=null,St=null;function _t(h){if(h=Il(h)){if(typeof Be!="function")throw Error(t(280));var g=h.stateNode;g&&(g=Gm(g),Be(h.stateNode,h.type,g))}}function ze(h){mt?St?St.push(h):St=[h]:mt=h}function wt(){if(mt){var h=mt,g=St;if(St=mt=null,_t(h),g)for(h=0;h<g.length;h++)_t(g[h])}}function qt(h,g){return h(g)}function wn(){}var Cn=!1;function zn(h,g,S){if(Cn)return h(g,S);Cn=!0;try{return qt(h,g,S)}finally{Cn=!1,(mt!==null||St!==null)&&(wn(),wt())}}function sr(h,g){var S=h.stateNode;if(S===null)return null;var N=Gm(S);if(N===null)return null;S=N[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(S&&typeof S!="function")throw Error(t(231,g,typeof S));return S}var ji=!1;if(a)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){ji=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{ji=!1}function Sr(h,g,S,N,j,G,se,_e,Me){var Ye=Array.prototype.slice.call(arguments,3);try{g.apply(S,Ye)}catch(Pt){this.onError(Pt)}}var Dr=!1,Xr=null,er=!1,Sn=null,Mo={onError:function(h){Dr=!0,Xr=h}};function bc(h,g,S,N,j,G,se,_e,Me){Dr=!1,Xr=null,Sr.apply(Mo,arguments)}function J(h,g,S,N,j,G,se,_e,Me){if(bc.apply(this,arguments),Dr){if(Dr){var Ye=Xr;Dr=!1,Xr=null}else throw Error(t(198));er||(er=!0,Sn=Ye)}}function oe(h){var g=h,S=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(S=g.return),h=g.return;while(h)}return g.tag===3?S:null}function Ee(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function Ge(h){if(oe(h)!==h)throw Error(t(188))}function tt(h){var g=h.alternate;if(!g){if(g=oe(h),g===null)throw Error(t(188));return g!==h?null:h}for(var S=h,N=g;;){var j=S.return;if(j===null)break;var G=j.alternate;if(G===null){if(N=j.return,N!==null){S=N;continue}break}if(j.child===G.child){for(G=j.child;G;){if(G===S)return Ge(j),h;if(G===N)return Ge(j),g;G=G.sibling}throw Error(t(188))}if(S.return!==N.return)S=j,N=G;else{for(var se=!1,_e=j.child;_e;){if(_e===S){se=!0,S=j,N=G;break}if(_e===N){se=!0,N=j,S=G;break}_e=_e.sibling}if(!se){for(_e=G.child;_e;){if(_e===S){se=!0,S=G,N=j;break}if(_e===N){se=!0,N=G,S=j;break}_e=_e.sibling}if(!se)throw Error(t(189))}}if(S.alternate!==N)throw Error(t(190))}if(S.tag!==3)throw Error(t(188));return S.stateNode.current===S?h:g}function Qe(h){return h=tt(h),h!==null?It(h):null}function It(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=It(h);if(g!==null)return g;h=h.sibling}return null}var At=e.unstable_scheduleCallback,Nt=e.unstable_cancelCallback,Q=e.unstable_shouldYield,ye=e.unstable_requestPaint,be=e.unstable_now,ke=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,st=e.unstable_NormalPriority,gt=e.unstable_LowPriority,yt=e.unstable_IdlePriority,Tt=null,vt=null;function Rt(h){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Tt,h,void 0,(h.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Mn,yn=Math.log,cn=Math.LN2;function Mn(h){return h>>>=0,h===0?32:31-(yn(h)/cn|0)|0}var Pn=64,Xt=4194304;function Bn(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rn(h,g){var S=h.pendingLanes;if(S===0)return 0;var N=0,j=h.suspendedLanes,G=h.pingedLanes,se=S&268435455;if(se!==0){var _e=se&~j;_e!==0?N=Bn(_e):(G&=se,G!==0&&(N=Bn(G)))}else se=S&~j,se!==0?N=Bn(se):G!==0&&(N=Bn(G));if(N===0)return 0;if(g!==0&&g!==N&&(g&j)===0&&(j=N&-N,G=g&-g,j>=G||j===16&&(G&4194240)!==0))return g;if((N&4)!==0&&(N|=S&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=N;0<g;)S=31-Ht(g),j=1<<S,N|=h[S],g&=~j;return N}function kn(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(h,g){for(var S=h.suspendedLanes,N=h.pingedLanes,j=h.expirationTimes,G=h.pendingLanes;0<G;){var se=31-Ht(G),_e=1<<se,Me=j[se];Me===-1?((_e&S)===0||(_e&N)!==0)&&(j[se]=kn(_e,g)):Me<=g&&(h.expiredLanes|=_e),G&=~_e}}function Tn(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function mr(){var h=Pn;return Pn<<=1,(Pn&4194240)===0&&(Pn=64),h}function dr(h){for(var g=[],S=0;31>S;S++)g.push(h);return g}function fr(h,g,S){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-Ht(g),h[g]=S}function Kr(h,g){var S=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var N=h.eventTimes;for(h=h.expirationTimes;0<S;){var j=31-Ht(S),G=1<<j;g[j]=0,N[j]=-1,h[j]=-1,S&=~G}}function ei(h,g){var S=h.entangledLanes|=g;for(h=h.entanglements;S;){var N=31-Ht(S),j=1<<N;j&g|h[N]&g&&(h[N]|=g),S&=~j}}var Rn=0;function To(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Ki,Id,ph,za,Od,Cl=!1,Fd=[],Ko=null,Xn=null,Vs=null,Ml=new Map,_c=new Map,Ha=[],Tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function si(h,g){switch(h){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Ml.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(g.pointerId)}}function Ga(h,g,S,N,j,G){return h===null||h.nativeEvent!==G?(h={blockedOn:g,domEventName:S,eventSystemFlags:N,nativeEvent:G,targetContainers:[j]},g!==null&&(g=Il(g),g!==null&&Id(g)),h):(h.eventSystemFlags|=N,g=h.targetContainers,j!==null&&g.indexOf(j)===-1&&g.push(j),h)}function Am(h,g,S,N,j){switch(g){case"focusin":return Ko=Ga(Ko,h,g,S,N,j),!0;case"dragenter":return Xn=Ga(Xn,h,g,S,N,j),!0;case"mouseover":return Vs=Ga(Vs,h,g,S,N,j),!0;case"pointerover":var G=j.pointerId;return Ml.set(G,Ga(Ml.get(G)||null,h,g,S,N,j)),!0;case"gotpointercapture":return G=j.pointerId,_c.set(G,Ga(_c.get(G)||null,h,g,S,N,j)),!0}return!1}function Va(h){var g=Fc(h.target);if(g!==null){var S=oe(g);if(S!==null){if(g=S.tag,g===13){if(g=Ee(S),g!==null){h.blockedOn=g,Od(h.priority,function(){ph(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){h.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Ts(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var S=io(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(S===null){S=h.nativeEvent;var N=new S.constructor(S.type,S);ut=N,S.target.dispatchEvent(N),ut=null}else return g=Il(S),g!==null&&Id(g),h.blockedOn=S,!1;g.shift()}return!0}function bu(h,g,S){Ts(h)&&S.delete(g)}function Yo(){Cl=!1,Ko!==null&&Ts(Ko)&&(Ko=null),Xn!==null&&Ts(Xn)&&(Xn=null),Vs!==null&&Ts(Vs)&&(Vs=null),Ml.forEach(bu),_c.forEach(bu)}function wc(h,g){h.blockedOn===g&&(h.blockedOn=null,Cl||(Cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yo)))}function Sc(h){function g(j){return wc(j,h)}if(0<Fd.length){wc(Fd[0],h);for(var S=1;S<Fd.length;S++){var N=Fd[S];N.blockedOn===h&&(N.blockedOn=null)}}for(Ko!==null&&wc(Ko,h),Xn!==null&&wc(Xn,h),Vs!==null&&wc(Vs,h),Ml.forEach(g),_c.forEach(g),S=0;S<Ha.length;S++)N=Ha[S],N.blockedOn===h&&(N.blockedOn=null);for(;0<Ha.length&&(S=Ha[0],S.blockedOn===null);)Va(S),S.blockedOn===null&&Ha.shift()}var Ui=C.ReactCurrentBatchConfig,Ps=!0;function va(h,g,S,N){var j=Rn,G=Ui.transition;Ui.transition=null;try{Rn=1,Ac(h,g,S,N)}finally{Rn=j,Ui.transition=G}}function Dd(h,g,S,N){var j=Rn,G=Ui.transition;Ui.transition=null;try{Rn=4,Ac(h,g,S,N)}finally{Rn=j,Ui.transition=G}}function Ac(h,g,S,N){if(Ps){var j=io(h,g,S,N);if(j===null)km(h,g,N,Bd,S),si(h,N);else if(Am(j,h,g,S,N))N.stopPropagation();else if(si(h,N),g&4&&-1<Tv.indexOf(h)){for(;j!==null;){var G=Il(j);if(G!==null&&Ki(G),G=io(h,g,S,N),G===null&&km(h,g,N,Bd,S),G===j)break;j=G}j!==null&&N.stopPropagation()}else km(h,g,N,null,S)}}var Bd=null;function io(h,g,S,N){if(Bd=null,h=ve(N),h=Fc(h),h!==null)if(g=oe(h),g===null)h=null;else if(S=g.tag,S===13){if(h=Ee(g),h!==null)return h;h=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Bd=h,null}function Ec(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ke()){case Ae:return 1;case Ke:return 4;case st:case gt:return 16;case yt:return 536870912;default:return 16}default:return 16}}var so=null,kd=null,Rs=null;function _u(){if(Rs)return Rs;var h,g=kd,S=g.length,N,j="value"in so?so.value:so.textContent,G=j.length;for(h=0;h<S&&g[h]===j[h];h++);var se=S-h;for(N=1;N<=se&&g[S-N]===j[G-N];N++);return Rs=j.slice(h,1<N?1-N:void 0)}function Jo(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function Zo(){return!0}function Ld(){return!1}function Yi(h){function g(S,N,j,G,se){this._reactName=S,this._targetInst=j,this.type=N,this.nativeEvent=G,this.target=se,this.currentTarget=null;for(var _e in h)h.hasOwnProperty(_e)&&(S=h[_e],this[_e]=S?S(G):G[_e]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?Zo:Ld,this.isPropagationStopped=Ld,this}return te(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),g}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Yi(Tl),ya=te({},Tl,{view:0,detail:0}),Wa=Yi(ya),ds,oo,ao,Cc=te({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==ao&&(ao&&h.type==="mousemove"?(ds=h.screenX-ao.screenX,oo=h.screenY-ao.screenY):oo=ds=0,ao=h),ds)},movementY:function(h){return"movementY"in h?h.movementY:oo}}),mh=Yi(Cc),Qo=te({},Cc,{dataTransfer:0}),$a=Yi(Qo),jd=te({},ya,{relatedTarget:0}),Mc=Yi(jd),Ud=te({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=Yi(Ud),Cm=te({},Tl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Tc=Yi(Cm),zd=te({},Tl,{data:0}),gh=Yi(zd),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Hd[h])?!!g[h]:!1}function U(){return P}var $=te({},ya,{key:function(h){if(h.key){var g=Mm[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=Jo(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?vh[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U,charCode:function(h){return h.type==="keypress"?Jo(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Jo(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),re=Yi($),he=te({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),me=Yi(he),pe=te({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U}),Ce=Yi(pe),Ve=te({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Yi(Ve),Vt=te({},Cc,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),An=Yi(Vt),vn=[9,13,27,32],jt=a&&"CompositionEvent"in window,on=null;a&&"documentMode"in document&&(on=document.documentMode);var dn=a&&"TextEvent"in window&&!on,Ar=a&&(!jt||on&&8<on&&11>=on),ar=" ",yi=!1;function Ns(h,g){switch(h){case"keyup":return vn.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Jn=!1;function Mi(h,g){switch(h){case"compositionend":return zi(g);case"keypress":return g.which!==32?null:(yi=!0,ar);case"textInput":return h=g.data,h===ar&&yi?null:h;default:return null}}function lo(h,g){if(Jn)return h==="compositionend"||!jt&&Ns(h,g)?(h=_u(),Rs=kd=so=null,Jn=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Ar&&g.locale!=="ko"?null:g.data;default:return null}}var Pc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!Pc[h.type]:g==="textarea"}function Rc(h,g,S,N){ze(N),g=Lm(g,"onChange"),0<g.length&&(S=new wu("onChange","change",null,S,N),h.push({event:S,listeners:g}))}var qa=null,Nc=null;function Su(h){qd(h,0)}function Pl(h){var g=xi(h);if(Ue(g))return h}function x_(h,g){if(h==="change")return g}var Vd=!1;if(a){var co;if(a){var Au="oninput"in document;if(!Au){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Au=typeof Eu.oninput=="function"}co=Au}else co=!1;Vd=co&&(!document.documentMode||9<document.documentMode)}function xa(){qa&&(qa.detachEvent("onpropertychange",Tm),Nc=qa=null)}function Tm(h){if(h.propertyName==="value"&&Pl(Nc)){var g=[];Rc(g,Nc,h,ve(h)),zn(Su,g)}}function Wd(h,g,S){h==="focusin"?(xa(),qa=g,Nc=S,qa.attachEvent("onpropertychange",Tm)):h==="focusout"&&xa()}function b_(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Pl(Nc)}function Pv(h,g){if(h==="click")return Pl(g)}function oi(h,g){if(h==="input"||h==="change")return Pl(g)}function Pm(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Po=typeof Object.is=="function"?Object.is:Pm;function Cu(h,g){if(Po(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var S=Object.keys(h),N=Object.keys(g);if(S.length!==N.length)return!1;for(N=0;N<S.length;N++){var j=S[N];if(!l.call(g,j)||!Po(h[j],g[j]))return!1}return!0}function yh(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Ro(h,g){var S=yh(h);h=0;for(var N;S;){if(S.nodeType===3){if(N=h+S.textContent.length,h<=g&&N>=g)return{node:S,offset:g-h};h=N}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=yh(S)}}function Mu(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Mu(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function ai(){for(var h=window,g=ot();g instanceof h.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)h=g.contentWindow;else break;g=ot(h.document)}return g}function Ji(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function Zi(h){var g=ai(),S=h.focusedElem,N=h.selectionRange;if(g!==S&&S&&S.ownerDocument&&Mu(S.ownerDocument.documentElement,S)){if(N!==null&&Ji(S)){if(g=N.start,h=N.end,h===void 0&&(h=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(h,S.value.length);else if(h=(g=S.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var j=S.textContent.length,G=Math.min(N.start,j);N=N.end===void 0?G:Math.min(N.end,j),!h.extend&&G>N&&(j=N,N=G,G=j),j=Ro(S,G);var se=Ro(S,N);j&&se&&(h.rangeCount!==1||h.anchorNode!==j.node||h.anchorOffset!==j.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(g=g.createRange(),g.setStart(j.node,j.offset),h.removeAllRanges(),G>N?(h.addRange(g),h.extend(se.node,se.offset)):(g.setEnd(se.node,se.offset),h.addRange(g)))}}for(g=[],h=S;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)h=g[S],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Rm=a&&"documentMode"in document&&11>=document.documentMode,Xa=null,Tu=null,xh=null,Qi=!1;function Nm(h,g,S){var N=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Qi||Xa==null||Xa!==ot(N)||(N=Xa,"selectionStart"in N&&Ji(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),xh&&Cu(xh,N)||(xh=N,N=Lm(Tu,"onSelect"),0<N.length&&(g=new wu("onSelect","select",null,g,S),h.push({event:g,listeners:N}),g.target=Xa)))}function $d(h,g){var S={};return S[h.toLowerCase()]=g.toLowerCase(),S["Webkit"+h]="webkit"+g,S["Moz"+h]="moz"+g,S}var Ic={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},ba={},_a={};a&&(_a=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function Ka(h){if(ba[h])return ba[h];if(!Ic[h])return h;var g=Ic[h],S;for(S in g)if(g.hasOwnProperty(S)&&S in _a)return ba[h]=g[S];return h}var bh=Ka("animationend"),_h=Ka("animationiteration"),Rv=Ka("animationstart"),Nv=Ka("transitionend"),Iv=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(h,g){Iv.set(h,g),s(g,[h])}for(var Im=0;Im<Ov.length;Im++){var wh=Ov[Im],Sh=wh.toLowerCase(),__=wh[0].toUpperCase()+wh.slice(1);Rl(Sh,"on"+__)}Rl(bh,"onAnimationEnd"),Rl(_h,"onAnimationIteration"),Rl(Rv,"onAnimationStart"),Rl("dblclick","onDoubleClick"),Rl("focusin","onFocus"),Rl("focusout","onBlur"),Rl(Nv,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function Fm(h,g,S){var N=h.type||"unknown-event";h.currentTarget=S,J(N,g,void 0,h),h.currentTarget=null}function qd(h,g){g=(g&4)!==0;for(var S=0;S<h.length;S++){var N=h[S],j=N.event;N=N.listeners;e:{var G=void 0;if(g)for(var se=N.length-1;0<=se;se--){var _e=N[se],Me=_e.instance,Ye=_e.currentTarget;if(_e=_e.listener,Me!==G&&j.isPropagationStopped())break e;Fm(j,_e,Ye),G=Me}else for(se=0;se<N.length;se++){if(_e=N[se],Me=_e.instance,Ye=_e.currentTarget,_e=_e.listener,Me!==G&&j.isPropagationStopped())break e;Fm(j,_e,Ye),G=Me}}}if(er)throw h=Sn,er=!1,Sn=null,h}function Vr(h,g){var S=g[Nu];S===void 0&&(S=g[Nu]=new Set);var N=h+"__bubble";S.has(N)||(Bm(g,h,2,!1),S.add(N))}function Dm(h,g,S){var N=0;g&&(N|=4),Bm(S,h,N,g)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Xd(h){if(!h[Ah]){h[Ah]=!0,r.forEach(function(S){S!=="selectionchange"&&(Om.has(S)||Dm(S,!1,h),Dm(S,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Ah]||(g[Ah]=!0,Dm("selectionchange",!1,g))}}function Bm(h,g,S,N){switch(Ec(g)){case 1:var j=va;break;case 4:j=Dd;break;default:j=Ac}S=j.bind(null,g,S,h),j=void 0,!ji||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(j=!0),N?j!==void 0?h.addEventListener(g,S,{capture:!0,passive:j}):h.addEventListener(g,S,!0):j!==void 0?h.addEventListener(g,S,{passive:j}):h.addEventListener(g,S,!1)}function km(h,g,S,N,j){var G=N;if((g&1)===0&&(g&2)===0&&N!==null)e:for(;;){if(N===null)return;var se=N.tag;if(se===3||se===4){var _e=N.stateNode.containerInfo;if(_e===j||_e.nodeType===8&&_e.parentNode===j)break;if(se===4)for(se=N.return;se!==null;){var Me=se.tag;if((Me===3||Me===4)&&(Me=se.stateNode.containerInfo,Me===j||Me.nodeType===8&&Me.parentNode===j))return;se=se.return}for(;_e!==null;){if(se=Fc(_e),se===null)return;if(Me=se.tag,Me===5||Me===6){N=G=se;continue e}_e=_e.parentNode}}N=N.return}zn(function(){var Ye=G,Pt=ve(S),Bt=[];e:{var Mt=Iv.get(h);if(Mt!==void 0){var sn=wu,mn=h;switch(h){case"keypress":if(Jo(S)===0)break e;case"keydown":case"keyup":sn=re;break;case"focusin":mn="focus",sn=Mc;break;case"focusout":mn="blur",sn=Mc;break;case"beforeblur":case"afterblur":sn=Mc;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=$a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=Ce;break;case bh:case _h:case Rv:sn=Em;break;case Nv:sn=bt;break;case"scroll":sn=Wa;break;case"wheel":sn=An;break;case"copy":case"cut":case"paste":sn=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=me}var xn=(g&4)!==0,Gi=!xn&&h==="scroll",He=xn?Mt!==null?Mt+"Capture":null:Mt;xn=[];for(var Re=Ye,We;Re!==null;){We=Re;var zt=We.stateNode;if(We.tag===5&&zt!==null&&(We=zt,He!==null&&(zt=sr(Re,He),zt!=null&&xn.push(Kd(Re,zt,We)))),Gi)break;Re=Re.return}0<xn.length&&(Mt=new sn(Mt,mn,null,S,Pt),Bt.push({event:Mt,listeners:xn}))}}if((g&7)===0){e:{if(Mt=h==="mouseover"||h==="pointerover",sn=h==="mouseout"||h==="pointerout",Mt&&S!==ut&&(mn=S.relatedTarget||S.fromElement)&&(Fc(mn)||mn[No]))break e;if((sn||Mt)&&(Mt=Pt.window===Pt?Pt:(Mt=Pt.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,sn?(mn=S.relatedTarget||S.toElement,sn=Ye,mn=mn?Fc(mn):null,mn!==null&&(Gi=oe(mn),mn!==Gi||mn.tag!==5&&mn.tag!==6)&&(mn=null)):(sn=null,mn=Ye),sn!==mn)){if(xn=mh,zt="onMouseLeave",He="onMouseEnter",Re="mouse",(h==="pointerout"||h==="pointerover")&&(xn=me,zt="onPointerLeave",He="onPointerEnter",Re="pointer"),Gi=sn==null?Mt:xi(sn),We=mn==null?Mt:xi(mn),Mt=new xn(zt,Re+"leave",sn,S,Pt),Mt.target=Gi,Mt.relatedTarget=We,zt=null,Fc(Pt)===Ye&&(xn=new xn(He,Re+"enter",mn,S,Pt),xn.target=We,xn.relatedTarget=Gi,zt=xn),Gi=zt,sn&&mn)t:{for(xn=sn,He=mn,Re=0,We=xn;We;We=Pu(We))Re++;for(We=0,zt=He;zt;zt=Pu(zt))We++;for(;0<Re-We;)xn=Pu(xn),Re--;for(;0<We-Re;)He=Pu(He),We--;for(;Re--;){if(xn===He||He!==null&&xn===He.alternate)break t;xn=Pu(xn),He=Pu(He)}xn=null}else xn=null;sn!==null&&w_(Bt,Mt,sn,xn,!1),mn!==null&&Gi!==null&&w_(Bt,Gi,mn,xn,!0)}}e:{if(Mt=Ye?xi(Ye):window,sn=Mt.nodeName&&Mt.nodeName.toLowerCase(),sn==="select"||sn==="input"&&Mt.type==="file")var _n=x_;else if(Gd(Mt))if(Vd)_n=oi;else{_n=b_;var Nn=Wd}else(sn=Mt.nodeName)&&sn.toLowerCase()==="input"&&(Mt.type==="checkbox"||Mt.type==="radio")&&(_n=Pv);if(_n&&(_n=_n(h,Ye))){Rc(Bt,_n,S,Pt);break e}Nn&&Nn(h,Mt,Ye),h==="focusout"&&(Nn=Mt._wrapperState)&&Nn.controlled&&Mt.type==="number"&&ct(Mt,"number",Mt.value)}switch(Nn=Ye?xi(Ye):window,h){case"focusin":(Gd(Nn)||Nn.contentEditable==="true")&&(Xa=Nn,Tu=Ye,xh=null);break;case"focusout":xh=Tu=Xa=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Nm(Bt,S,Pt);break;case"selectionchange":if(Rm)break;case"keydown":case"keyup":Nm(Bt,S,Pt)}var In;if(jt)e:{switch(h){case"compositionstart":var Hn="onCompositionStart";break e;case"compositionend":Hn="onCompositionEnd";break e;case"compositionupdate":Hn="onCompositionUpdate";break e}Hn=void 0}else Jn?Ns(h,S)&&(Hn="onCompositionEnd"):h==="keydown"&&S.keyCode===229&&(Hn="onCompositionStart");Hn&&(Ar&&S.locale!=="ko"&&(Jn||Hn!=="onCompositionStart"?Hn==="onCompositionEnd"&&Jn&&(In=_u()):(so=Pt,kd="value"in so?so.value:so.textContent,Jn=!0)),Nn=Lm(Ye,Hn),0<Nn.length&&(Hn=new gh(Hn,h,null,S,Pt),Bt.push({event:Hn,listeners:Nn}),In?Hn.data=In:(In=zi(S),In!==null&&(Hn.data=In)))),(In=dn?Mi(h,S):lo(h,S))&&(Ye=Lm(Ye,"onBeforeInput"),0<Ye.length&&(Pt=new gh("onBeforeInput","beforeinput",null,S,Pt),Bt.push({event:Pt,listeners:Ye}),Pt.data=In))}qd(Bt,g)})}function Kd(h,g,S){return{instance:h,listener:g,currentTarget:S}}function Lm(h,g){for(var S=g+"Capture",N=[];h!==null;){var j=h,G=j.stateNode;j.tag===5&&G!==null&&(j=G,G=sr(h,S),G!=null&&N.unshift(Kd(h,G,j)),G=sr(h,g),G!=null&&N.push(Kd(h,G,j))),h=h.return}return N}function Pu(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function w_(h,g,S,N,j){for(var G=g._reactName,se=[];S!==null&&S!==N;){var _e=S,Me=_e.alternate,Ye=_e.stateNode;if(Me!==null&&Me===N)break;_e.tag===5&&Ye!==null&&(_e=Ye,j?(Me=sr(S,G),Me!=null&&se.unshift(Kd(S,Me,_e))):j||(Me=sr(S,G),Me!=null&&se.push(Kd(S,Me,_e)))),S=S.return}se.length!==0&&h.push({event:g,listeners:se})}var dM=/\r\n?/g,S_=/\u0000|\uFFFD/g;function Fv(h){return(typeof h=="string"?h:""+h).replace(dM,`
`).replace(S_,"")}function Eh(h,g,S){if(g=Fv(g),Fv(h)!==g&&S)throw Error(t(425))}function Ch(){}var Yd=null,Dv=null;function Bv(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var kv=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,fM=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(h){return jm.resolve(null).then(h).catch(A_)}:kv;function A_(h){setTimeout(function(){throw h})}function Um(h,g){var S=g,N=0;do{var j=S.nextSibling;if(h.removeChild(S),j&&j.nodeType===8)if(S=j.data,S==="/$"){if(N===0){h.removeChild(j),Sc(g);return}N--}else S!=="$"&&S!=="$?"&&S!=="$!"||N++;S=j}while(S);Sc(g)}function Nl(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function jv(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var S=h.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return h;g--}else S==="/$"&&g++}h=h.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Ru,Jd="__reactProps$"+Ru,No="__reactContainer$"+Ru,Nu="__reactEvents$"+Ru,zm="__reactListeners$"+Ru,Hm="__reactHandles$"+Ru;function Fc(h){var g=h[Hi];if(g)return g;for(var S=h.parentNode;S;){if(g=S[No]||S[Hi]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(h=jv(h);h!==null;){if(S=h[Hi])return S;h=jv(h)}return g}h=S,S=h.parentNode}return null}function Il(h){return h=h[Hi]||h[No],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function xi(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(t(33))}function Gm(h){return h[Jd]||null}var Uv=[],es=-1;function fi(h){return{current:h}}function Wr(h){0>es||(h.current=Uv[es],Uv[es]=null,es--)}function Hr(h,g){es++,Uv[es]=h.current,h.current=g}var Ol={},fs=fi(Ol),Ws=fi(!1),Fl=Ol;function Iu(h,g){var S=h.type.contextTypes;if(!S)return Ol;var N=h.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var j={},G;for(G in S)j[G]=g[G];return N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=j),j}function Is(h){return h=h.childContextTypes,h!=null}function Mh(){Wr(Ws),Wr(fs)}function zv(h,g,S){if(fs.current!==Ol)throw Error(t(168));Hr(fs,g),Hr(Ws,S)}function Th(h,g,S){var N=h.stateNode;if(g=g.childContextTypes,typeof N.getChildContext!="function")return S;N=N.getChildContext();for(var j in N)if(!(j in g))throw Error(t(108,xe(h)||"Unknown",j));return te({},S,N)}function Ou(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ol,Fl=fs.current,Hr(fs,h),Hr(Ws,Ws.current),!0}function Hv(h,g,S){var N=h.stateNode;if(!N)throw Error(t(169));S?(h=Th(h,g,Fl),N.__reactInternalMemoizedMergedChildContext=h,Wr(Ws),Wr(fs),Hr(fs,h)):Wr(Ws),Hr(Ws,S)}var wa=null,Ph=!1,Vm=!1;function Rh(h){wa===null?wa=[h]:wa.push(h)}function E_(h){Ph=!0,Rh(h)}function Ya(){if(!Vm&&wa!==null){Vm=!0;var h=0,g=Rn;try{var S=wa;for(Rn=1;h<S.length;h++){var N=S[h];do N=N(!0);while(N!==null)}wa=null,Ph=!1}catch(j){throw wa!==null&&(wa=wa.slice(h+1)),At(Ae,Ya),j}finally{Rn=g,Vm=!1}}return null}var Fu=[],uo=0,Wm=null,$m=0,$s=[],ts=0,Du=null,$t=1,ea="";function Dl(h,g){Fu[uo++]=$m,Fu[uo++]=Wm,Wm=h,$m=g}function Gv(h,g,S){$s[ts++]=$t,$s[ts++]=ea,$s[ts++]=Du,Du=h;var N=$t;h=ea;var j=32-Ht(N)-1;N&=~(1<<j),S+=1;var G=32-Ht(g)+j;if(30<G){var se=j-j%5;G=(N&(1<<se)-1).toString(32),N>>=se,j-=se,$t=1<<32-Ht(g)+j|S<<j|N,ea=G+h}else $t=1<<G|S<<j|N,ea=h}function Vv(h){h.return!==null&&(Dl(h,1),Gv(h,1,0))}function Bl(h){for(;h===Wm;)Wm=Fu[--uo],Fu[uo]=null,$m=Fu[--uo],Fu[uo]=null;for(;h===Du;)Du=$s[--ts],$s[ts]=null,ea=$s[--ts],$s[ts]=null,$t=$s[--ts],$s[ts]=null}var hs=null,qs=null,Yr=!1,ta=null;function Wv(h,g){var S=tl(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=h,g=h.deletions,g===null?(h.deletions=[S],h.flags|=16):g.push(S)}function $v(h,g){switch(h.tag){case 5:var S=h.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,hs=h,qs=Nl(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,hs=h,qs=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Du!==null?{id:$t,overflow:ea}:null,h.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=tl(18,null,null,0),S.stateNode=g,S.return=h,h.child=S,hs=h,qs=null,!0):!1;default:return!1}}function qm(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Xm(h){if(Yr){var g=qs;if(g){var S=g;if(!$v(h,g)){if(qm(h))throw Error(t(418));g=Nl(S.nextSibling);var N=hs;g&&$v(h,g)?Wv(N,S):(h.flags=h.flags&-4097|2,Yr=!1,hs=h)}}else{if(qm(h))throw Error(t(418));h.flags=h.flags&-4097|2,Yr=!1,hs=h}}}function Km(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;hs=h}function Zd(h){if(h!==hs)return!1;if(!Yr)return Km(h),Yr=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!Bv(h.type,h.memoizedProps)),g&&(g=qs)){if(qm(h))throw qv(),Error(t(418));for(;g;)Wv(h,g),g=Nl(g.nextSibling)}if(Km(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(t(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var S=h.data;if(S==="/$"){if(g===0){qs=Nl(h.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}h=h.nextSibling}qs=null}}else qs=hs?Nl(h.stateNode.nextSibling):null;return!0}function qv(){for(var h=qs;h;)h=Nl(h.nextSibling)}function Dc(){qs=hs=null,Yr=!1}function Qd(h){ta===null?ta=[h]:ta.push(h)}var hM=C.ReactCurrentBatchConfig;function Nh(h,g,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(t(309));var N=S.stateNode}if(!N)throw Error(t(147,h));var j=N,G=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===G?g.ref:(g=function(se){var _e=j.refs;se===null?delete _e[G]:_e[G]=se},g._stringRef=G,g)}if(typeof h!="string")throw Error(t(284));if(!S._owner)throw Error(t(290,h))}return h}function Ih(h,g){throw h=Object.prototype.toString.call(g),Error(t(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function Xv(h){var g=h._init;return g(h._payload)}function Kv(h){function g(He,Re){if(h){var We=He.deletions;We===null?(He.deletions=[Re],He.flags|=16):We.push(Re)}}function S(He,Re){if(!h)return null;for(;Re!==null;)g(He,Re),Re=Re.sibling;return null}function N(He,Re){for(He=new Map;Re!==null;)Re.key!==null?He.set(Re.key,Re):He.set(Re.index,Re),Re=Re.sibling;return He}function j(He,Re){return He=df(He,Re),He.index=0,He.sibling=null,He}function G(He,Re,We){return He.index=We,h?(We=He.alternate,We!==null?(We=We.index,We<Re?(He.flags|=2,Re):We):(He.flags|=2,Re)):(He.flags|=1048576,Re)}function se(He){return h&&He.alternate===null&&(He.flags|=2),He}function _e(He,Re,We,zt){return Re===null||Re.tag!==6?(Re=IM(We,He.mode,zt),Re.return=He,Re):(Re=j(Re,We),Re.return=He,Re)}function Me(He,Re,We,zt){var _n=We.type;return _n===O?Pt(He,Re,We.props.children,zt,We.key):Re!==null&&(Re.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===V&&Xv(_n)===Re.type)?(zt=j(Re,We.props),zt.ref=Nh(He,Re,We),zt.return=He,zt):(zt=X_(We.type,We.key,We.props,null,He.mode,zt),zt.ref=Nh(He,Re,We),zt.return=He,zt)}function Ye(He,Re,We,zt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==We.containerInfo||Re.stateNode.implementation!==We.implementation?(Re=OM(We,He.mode,zt),Re.return=He,Re):(Re=j(Re,We.children||[]),Re.return=He,Re)}function Pt(He,Re,We,zt,_n){return Re===null||Re.tag!==7?(Re=Kh(We,He.mode,zt,_n),Re.return=He,Re):(Re=j(Re,We),Re.return=He,Re)}function Bt(He,Re,We){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=IM(""+Re,He.mode,We),Re.return=He,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case M:return We=X_(Re.type,Re.key,Re.props,null,He.mode,We),We.ref=Nh(He,null,Re),We.return=He,We;case R:return Re=OM(Re,He.mode,We),Re.return=He,Re;case V:var zt=Re._init;return Bt(He,zt(Re._payload),We)}if(Ut(Re)||Z(Re))return Re=Kh(Re,He.mode,We,null),Re.return=He,Re;Ih(He,Re)}return null}function Mt(He,Re,We,zt){var _n=Re!==null?Re.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return _n!==null?null:_e(He,Re,""+We,zt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case M:return We.key===_n?Me(He,Re,We,zt):null;case R:return We.key===_n?Ye(He,Re,We,zt):null;case V:return _n=We._init,Mt(He,Re,_n(We._payload),zt)}if(Ut(We)||Z(We))return _n!==null?null:Pt(He,Re,We,zt,null);Ih(He,We)}return null}function sn(He,Re,We,zt,_n){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return He=He.get(We)||null,_e(Re,He,""+zt,_n);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case M:return He=He.get(zt.key===null?We:zt.key)||null,Me(Re,He,zt,_n);case R:return He=He.get(zt.key===null?We:zt.key)||null,Ye(Re,He,zt,_n);case V:var Nn=zt._init;return sn(He,Re,We,Nn(zt._payload),_n)}if(Ut(zt)||Z(zt))return He=He.get(We)||null,Pt(Re,He,zt,_n,null);Ih(Re,zt)}return null}function mn(He,Re,We,zt){for(var _n=null,Nn=null,In=Re,Hn=Re=0,Bs=null;In!==null&&Hn<We.length;Hn++){In.index>Hn?(Bs=In,In=null):Bs=In.sibling;var Or=Mt(He,In,We[Hn],zt);if(Or===null){In===null&&(In=Bs);break}h&&In&&Or.alternate===null&&g(He,In),Re=G(Or,Re,Hn),Nn===null?_n=Or:Nn.sibling=Or,Nn=Or,In=Bs}if(Hn===We.length)return S(He,In),Yr&&Dl(He,Hn),_n;if(In===null){for(;Hn<We.length;Hn++)In=Bt(He,We[Hn],zt),In!==null&&(Re=G(In,Re,Hn),Nn===null?_n=In:Nn.sibling=In,Nn=In);return Yr&&Dl(He,Hn),_n}for(In=N(He,In);Hn<We.length;Hn++)Bs=sn(In,He,Hn,We[Hn],zt),Bs!==null&&(h&&Bs.alternate!==null&&In.delete(Bs.key===null?Hn:Bs.key),Re=G(Bs,Re,Hn),Nn===null?_n=Bs:Nn.sibling=Bs,Nn=Bs);return h&&In.forEach(function(ff){return g(He,ff)}),Yr&&Dl(He,Hn),_n}function xn(He,Re,We,zt){var _n=Z(We);if(typeof _n!="function")throw Error(t(150));if(We=_n.call(We),We==null)throw Error(t(151));for(var Nn=_n=null,In=Re,Hn=Re=0,Bs=null,Or=We.next();In!==null&&!Or.done;Hn++,Or=We.next()){In.index>Hn?(Bs=In,In=null):Bs=In.sibling;var ff=Mt(He,In,Or.value,zt);if(ff===null){In===null&&(In=Bs);break}h&&In&&ff.alternate===null&&g(He,In),Re=G(ff,Re,Hn),Nn===null?_n=ff:Nn.sibling=ff,Nn=ff,In=Bs}if(Or.done)return S(He,In),Yr&&Dl(He,Hn),_n;if(In===null){for(;!Or.done;Hn++,Or=We.next())Or=Bt(He,Or.value,zt),Or!==null&&(Re=G(Or,Re,Hn),Nn===null?_n=Or:Nn.sibling=Or,Nn=Or);return Yr&&Dl(He,Hn),_n}for(In=N(He,In);!Or.done;Hn++,Or=We.next())Or=sn(In,He,Hn,Or.value,zt),Or!==null&&(h&&Or.alternate!==null&&In.delete(Or.key===null?Hn:Or.key),Re=G(Or,Re,Hn),Nn===null?_n=Or:Nn.sibling=Or,Nn=Or);return h&&In.forEach(function(Cne){return g(He,Cne)}),Yr&&Dl(He,Hn),_n}function Gi(He,Re,We,zt){if(typeof We=="object"&&We!==null&&We.type===O&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case M:e:{for(var _n=We.key,Nn=Re;Nn!==null;){if(Nn.key===_n){if(_n=We.type,_n===O){if(Nn.tag===7){S(He,Nn.sibling),Re=j(Nn,We.props.children),Re.return=He,He=Re;break e}}else if(Nn.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===V&&Xv(_n)===Nn.type){S(He,Nn.sibling),Re=j(Nn,We.props),Re.ref=Nh(He,Nn,We),Re.return=He,He=Re;break e}S(He,Nn);break}else g(He,Nn);Nn=Nn.sibling}We.type===O?(Re=Kh(We.props.children,He.mode,zt,We.key),Re.return=He,He=Re):(zt=X_(We.type,We.key,We.props,null,He.mode,zt),zt.ref=Nh(He,Re,We),zt.return=He,He=zt)}return se(He);case R:e:{for(Nn=We.key;Re!==null;){if(Re.key===Nn)if(Re.tag===4&&Re.stateNode.containerInfo===We.containerInfo&&Re.stateNode.implementation===We.implementation){S(He,Re.sibling),Re=j(Re,We.children||[]),Re.return=He,He=Re;break e}else{S(He,Re);break}else g(He,Re);Re=Re.sibling}Re=OM(We,He.mode,zt),Re.return=He,He=Re}return se(He);case V:return Nn=We._init,Gi(He,Re,Nn(We._payload),zt)}if(Ut(We))return mn(He,Re,We,zt);if(Z(We))return xn(He,Re,We,zt);Ih(He,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Re!==null&&Re.tag===6?(S(He,Re.sibling),Re=j(Re,We),Re.return=He,He=Re):(S(He,Re),Re=IM(We,He.mode,zt),Re.return=He,He=Re),se(He)):S(He,Re)}return Gi}var Bu=Kv(!0),Oh=Kv(!1),ku=fi(null),Lu=null,kl=null,ef=null;function ju(){ef=kl=Lu=null}function Fh(h){var g=ku.current;Wr(ku),h._currentValue=g}function Dh(h,g,S){for(;h!==null;){var N=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),h===S)break;h=h.return}}function Bc(h,g){Lu=h,ef=kl=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(tr=!0),h.firstContext=null)}function Io(h){var g=h._currentValue;if(ef!==h)if(h={context:h,memoizedValue:g,next:null},kl===null){if(Lu===null)throw Error(t(308));kl=h,Lu.dependencies={lanes:0,firstContext:h}}else kl=kl.next=h;return g}var Ll=null;function Yv(h){Ll===null?Ll=[h]:Ll.push(h)}function Bh(h,g,S,N){var j=g.interleaved;return j===null?(S.next=S,Yv(g)):(S.next=j.next,j.next=S),g.interleaved=S,Sa(h,N)}function Sa(h,g){h.lanes|=g;var S=h.alternate;for(S!==null&&(S.lanes|=g),S=h,h=h.return;h!==null;)h.childLanes|=g,S=h.alternate,S!==null&&(S.childLanes|=g),S=h,h=h.return;return S.tag===3?S.stateNode:null}var Br=!1;function Zn(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bi(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function kr(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function ti(h,g,S){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(Tr&2)!==0){var j=N.pending;return j===null?g.next=g:(g.next=j.next,j.next=g),N.pending=g,Sa(h,S)}return j=N.interleaved,j===null?(g.next=g,Yv(N)):(g.next=j.next,j.next=g),N.interleaved=g,Sa(h,S)}function Os(h,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var N=g.lanes;N&=h.pendingLanes,S|=N,g.lanes=S,ei(h,S)}}function Uu(h,g){var S=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,S===N)){var j=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var se={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};G===null?j=G=se:G=G.next=se,S=S.next}while(S!==null);G===null?j=G=g:G=G.next=g}else j=G=g;S={baseState:N.baseState,firstBaseUpdate:j,lastBaseUpdate:G,shared:N.shared,effects:N.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=g:h.next=g,S.lastBaseUpdate=g}function hi(h,g,S,N){var j=h.updateQueue;Br=!1;var G=j.firstBaseUpdate,se=j.lastBaseUpdate,_e=j.shared.pending;if(_e!==null){j.shared.pending=null;var Me=_e,Ye=Me.next;Me.next=null,se===null?G=Ye:se.next=Ye,se=Me;var Pt=h.alternate;Pt!==null&&(Pt=Pt.updateQueue,_e=Pt.lastBaseUpdate,_e!==se&&(_e===null?Pt.firstBaseUpdate=Ye:_e.next=Ye,Pt.lastBaseUpdate=Me))}if(G!==null){var Bt=j.baseState;se=0,Pt=Ye=Me=null,_e=G;do{var Mt=_e.lane,sn=_e.eventTime;if((N&Mt)===Mt){Pt!==null&&(Pt=Pt.next={eventTime:sn,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var mn=h,xn=_e;switch(Mt=g,sn=S,xn.tag){case 1:if(mn=xn.payload,typeof mn=="function"){Bt=mn.call(sn,Bt,Mt);break e}Bt=mn;break e;case 3:mn.flags=mn.flags&-65537|128;case 0:if(mn=xn.payload,Mt=typeof mn=="function"?mn.call(sn,Bt,Mt):mn,Mt==null)break e;Bt=te({},Bt,Mt);break e;case 2:Br=!0}}_e.callback!==null&&_e.lane!==0&&(h.flags|=64,Mt=j.effects,Mt===null?j.effects=[_e]:Mt.push(_e))}else sn={eventTime:sn,lane:Mt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Pt===null?(Ye=Pt=sn,Me=Bt):Pt=Pt.next=sn,se|=Mt;if(_e=_e.next,_e===null){if(_e=j.shared.pending,_e===null)break;Mt=_e,_e=Mt.next,Mt.next=null,j.lastBaseUpdate=Mt,j.shared.pending=null}}while(!0);if(Pt===null&&(Me=Bt),j.baseState=Me,j.firstBaseUpdate=Ye,j.lastBaseUpdate=Pt,g=j.shared.interleaved,g!==null){j=g;do se|=j.lane,j=j.next;while(j!==g)}else G===null&&(j.shared.lanes=0);Wh|=se,h.lanes=se,h.memoizedState=Bt}}function tf(h,g,S){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var N=h[g],j=N.callback;if(j!==null){if(N.callback=null,N=S,typeof j!="function")throw Error(t(191,j));j.call(N)}}}var Ja={},Oo=fi(Ja),zu=fi(Ja),jl=fi(Ja);function Ti(h){if(h===Ja)throw Error(t(174));return h}function kh(h,g){switch(Hr(jl,g),Hr(zu,h),Hr(Oo,Ja),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:ft(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=ft(g,h)}Wr(Oo),Hr(Oo,g)}function kc(){Wr(Oo),Wr(zu),Wr(jl)}function Hu(h){Ti(jl.current);var g=Ti(Oo.current),S=ft(g,h.type);g!==S&&(Hr(zu,h),Hr(Oo,S))}function nf(h){zu.current===h&&(Wr(Oo),Wr(zu))}var Jr=fi(0);function Aa(h){for(var g=h;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var rf=[];function Za(){for(var h=0;h<rf.length;h++)rf[h]._workInProgressVersionPrimary=null;rf.length=0}var Gu=C.ReactCurrentDispatcher,Vu=C.ReactCurrentBatchConfig,Ul=0,$r=null,pi=null,Er=null,Ea=!1,Fs=!1,Lc=0,fo=0;function ps(){throw Error(t(321))}function Lh(h,g){if(g===null)return!1;for(var S=0;S<g.length&&S<h.length;S++)if(!Po(h[S],g[S]))return!1;return!0}function jh(h,g,S,N,j,G){if(Ul=G,$r=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Gu.current=h===null||h.memoizedState===null?I_:O_,h=S(N,j),Fs){G=0;do{if(Fs=!1,Lc=0,25<=G)throw Error(t(301));G+=1,Er=pi=null,g.updateQueue=null,Gu.current=F_,h=S(N,j)}while(Fs)}if(Gu.current=ng,g=pi!==null&&pi.next!==null,Ul=0,Er=pi=$r=null,Ea=!1,g)throw Error(t(300));return h}function Jv(){var h=Lc!==0;return Lc=0,h}function ms(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?$r.memoizedState=Er=h:Er=Er.next=h,Er}function Fo(){if(pi===null){var h=$r.alternate;h=h!==null?h.memoizedState:null}else h=pi.next;var g=Er===null?$r.memoizedState:Er.next;if(g!==null)Er=g,pi=h;else{if(h===null)throw Error(t(310));pi=h,h={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Er===null?$r.memoizedState=Er=h:Er=Er.next=h}return Er}function sf(h,g){return typeof g=="function"?g(h):g}function Uh(h){var g=Fo(),S=g.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var N=pi,j=N.baseQueue,G=S.pending;if(G!==null){if(j!==null){var se=j.next;j.next=G.next,G.next=se}N.baseQueue=j=G,S.pending=null}if(j!==null){G=j.next,N=N.baseState;var _e=se=null,Me=null,Ye=G;do{var Pt=Ye.lane;if((Ul&Pt)===Pt)Me!==null&&(Me=Me.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),N=Ye.hasEagerState?Ye.eagerState:h(N,Ye.action);else{var Bt={lane:Pt,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Me===null?(_e=Me=Bt,se=N):Me=Me.next=Bt,$r.lanes|=Pt,Wh|=Pt}Ye=Ye.next}while(Ye!==null&&Ye!==G);Me===null?se=N:Me.next=_e,Po(N,g.memoizedState)||(tr=!0),g.memoizedState=N,g.baseState=se,g.baseQueue=Me,S.lastRenderedState=N}if(h=S.interleaved,h!==null){j=h;do G=j.lane,$r.lanes|=G,Wh|=G,j=j.next;while(j!==h)}else j===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function zl(h){var g=Fo(),S=g.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var N=S.dispatch,j=S.pending,G=g.memoizedState;if(j!==null){S.pending=null;var se=j=j.next;do G=h(G,se.action),se=se.next;while(se!==j);Po(G,g.memoizedState)||(tr=!0),g.memoizedState=G,g.baseQueue===null&&(g.baseState=G),S.lastRenderedState=G}return[G,N]}function Zv(){}function Qv(h,g){var S=$r,N=Fo(),j=g(),G=!Po(N.memoizedState,j);if(G&&(N.memoizedState=j,tr=!0),N=N.queue,ny(C_.bind(null,S,N,h),[h]),N.getSnapshot!==g||G||Er!==null&&Er.memoizedState.tag&1){if(S.flags|=2048,Ca(9,zh.bind(null,S,N,j,g),void 0,null),Ds===null)throw Error(t(349));(Ul&30)!==0||Ym(S,g,j)}return j}function Ym(h,g,S){h.flags|=16384,h={getSnapshot:g,value:S},g=$r.updateQueue,g===null?(g={lastEffect:null,stores:null},$r.updateQueue=g,g.stores=[h]):(S=g.stores,S===null?g.stores=[h]:S.push(h))}function zh(h,g,S,N){g.value=S,g.getSnapshot=N,M_(g)&&ey(h)}function C_(h,g,S){return S(function(){M_(g)&&ey(h)})}function M_(h){var g=h.getSnapshot;h=h.value;try{var S=g();return!Po(h,S)}catch{return!0}}function ey(h){var g=Sa(h,1);g!==null&&$l(g,h,1,-1)}function ty(h){var g=ms();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:h},g.queue=h,h=h.dispatch=Wu.bind(null,$r,h),[g.memoizedState,h]}function Ca(h,g,S,N){return h={tag:h,create:g,destroy:S,deps:N,next:null},g=$r.updateQueue,g===null?(g={lastEffect:null,stores:null},$r.updateQueue=g,g.lastEffect=h.next=h):(S=g.lastEffect,S===null?g.lastEffect=h.next=h:(N=S.next,S.next=h,h.next=N,g.lastEffect=h)),h}function T_(){return Fo().memoizedState}function Qa(h,g,S,N){var j=ms();$r.flags|=h,j.memoizedState=Ca(1|g,S,void 0,N===void 0?null:N)}function Hh(h,g,S,N){var j=Fo();N=N===void 0?null:N;var G=void 0;if(pi!==null){var se=pi.memoizedState;if(G=se.destroy,N!==null&&Lh(N,se.deps)){j.memoizedState=Ca(g,S,G,N);return}}$r.flags|=h,j.memoizedState=Ca(1|g,S,G,N)}function Xs(h,g){return Qa(8390656,8,h,g)}function ny(h,g){return Hh(2048,8,h,g)}function ry(h,g){return Hh(4,2,h,g)}function P_(h,g){return Hh(4,4,h,g)}function R_(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function iy(h,g,S){return S=S!=null?S.concat([h]):null,Hh(4,4,R_.bind(null,g,h),S)}function Jm(){}function N_(h,g){var S=Fo();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&Lh(g,N[1])?N[0]:(S.memoizedState=[h,g],h)}function Do(h,g){var S=Fo();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&Lh(g,N[1])?N[0]:(h=h(),S.memoizedState=[h,g],h)}function Zm(h,g,S){return(Ul&21)===0?(h.baseState&&(h.baseState=!1,tr=!0),h.memoizedState=S):(Po(S,g)||(S=mr(),$r.lanes|=S,Wh|=S,h.baseState=!0),g)}function pM(h,g){var S=Rn;Rn=S!==0&&4>S?S:4,h(!0);var N=Vu.transition;Vu.transition={};try{h(!1),g()}finally{Rn=S,Vu.transition=N}}function Hl(){return Fo().memoizedState}function Qm(h,g,S){var N=cf(h);if(S={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null},Gh(h))eg(g,S);else if(S=Bh(h,g,S,N),S!==null){var j=ko();$l(S,h,N,j),tg(S,g,N)}}function Wu(h,g,S){var N=cf(h),j={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null};if(Gh(h))eg(g,j);else{var G=h.alternate;if(h.lanes===0&&(G===null||G.lanes===0)&&(G=g.lastRenderedReducer,G!==null))try{var se=g.lastRenderedState,_e=G(se,S);if(j.hasEagerState=!0,j.eagerState=_e,Po(_e,se)){var Me=g.interleaved;Me===null?(j.next=j,Yv(g)):(j.next=Me.next,Me.next=j),g.interleaved=j;return}}catch{}finally{}S=Bh(h,g,j,N),S!==null&&(j=ko(),$l(S,h,N,j),tg(S,g,N))}}function Gh(h){var g=h.alternate;return h===$r||g!==null&&g===$r}function eg(h,g){Fs=Ea=!0;var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}function tg(h,g,S){if((S&4194240)!==0){var N=g.lanes;N&=h.pendingLanes,S|=N,g.lanes=S,ei(h,S)}}var ng={readContext:Io,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},I_={readContext:Io,useCallback:function(h,g){return ms().memoizedState=[h,g===void 0?null:g],h},useContext:Io,useEffect:Xs,useImperativeHandle:function(h,g,S){return S=S!=null?S.concat([h]):null,Qa(4194308,4,R_.bind(null,g,h),S)},useLayoutEffect:function(h,g){return Qa(4194308,4,h,g)},useInsertionEffect:function(h,g){return Qa(4,2,h,g)},useMemo:function(h,g){var S=ms();return g=g===void 0?null:g,h=h(),S.memoizedState=[h,g],h},useReducer:function(h,g,S){var N=ms();return g=S!==void 0?S(g):g,N.memoizedState=N.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},N.queue=h,h=h.dispatch=Qm.bind(null,$r,h),[N.memoizedState,h]},useRef:function(h){var g=ms();return h={current:h},g.memoizedState=h},useState:ty,useDebugValue:Jm,useDeferredValue:function(h){return ms().memoizedState=h},useTransition:function(){var h=ty(!1),g=h[0];return h=pM.bind(null,h[1]),ms().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,S){var N=$r,j=ms();if(Yr){if(S===void 0)throw Error(t(407));S=S()}else{if(S=g(),Ds===null)throw Error(t(349));(Ul&30)!==0||Ym(N,g,S)}j.memoizedState=S;var G={value:S,getSnapshot:g};return j.queue=G,Xs(C_.bind(null,N,G,h),[h]),N.flags|=2048,Ca(9,zh.bind(null,N,G,S,g),void 0,null),S},useId:function(){var h=ms(),g=Ds.identifierPrefix;if(Yr){var S=ea,N=$t;S=(N&~(1<<32-Ht(N)-1)).toString(32)+S,g=":"+g+"R"+S,S=Lc++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=fo++,g=":"+g+"r"+S.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},O_={readContext:Io,useCallback:N_,useContext:Io,useEffect:ny,useImperativeHandle:iy,useInsertionEffect:ry,useLayoutEffect:P_,useMemo:Do,useReducer:Uh,useRef:T_,useState:function(){return Uh(sf)},useDebugValue:Jm,useDeferredValue:function(h){var g=Fo();return Zm(g,pi.memoizedState,h)},useTransition:function(){var h=Uh(sf)[0],g=Fo().memoizedState;return[h,g]},useMutableSource:Zv,useSyncExternalStore:Qv,useId:Hl,unstable_isNewReconciler:!1},F_={readContext:Io,useCallback:N_,useContext:Io,useEffect:ny,useImperativeHandle:iy,useInsertionEffect:ry,useLayoutEffect:P_,useMemo:Do,useReducer:zl,useRef:T_,useState:function(){return zl(sf)},useDebugValue:Jm,useDeferredValue:function(h){var g=Fo();return pi===null?g.memoizedState=h:Zm(g,pi.memoizedState,h)},useTransition:function(){var h=zl(sf)[0],g=Fo().memoizedState;return[h,g]},useMutableSource:Zv,useSyncExternalStore:Qv,useId:Hl,unstable_isNewReconciler:!1};function na(h,g){if(h&&h.defaultProps){g=te({},g),h=h.defaultProps;for(var S in h)g[S]===void 0&&(g[S]=h[S]);return g}return g}function Vh(h,g,S,N){g=h.memoizedState,S=S(N,g),S=S==null?g:te({},g,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var rg={isMounted:function(h){return(h=h._reactInternals)?oe(h)===h:!1},enqueueSetState:function(h,g,S){h=h._reactInternals;var N=ko(),j=cf(h),G=kr(N,j);G.payload=g,S!=null&&(G.callback=S),g=ti(h,G,j),g!==null&&($l(g,h,j,N),Os(g,h,j))},enqueueReplaceState:function(h,g,S){h=h._reactInternals;var N=ko(),j=cf(h),G=kr(N,j);G.tag=1,G.payload=g,S!=null&&(G.callback=S),g=ti(h,G,j),g!==null&&($l(g,h,j,N),Os(g,h,j))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var S=ko(),N=cf(h),j=kr(S,N);j.tag=2,g!=null&&(j.callback=g),g=ti(h,j,N),g!==null&&($l(g,h,N,S),Os(g,h,N))}};function D_(h,g,S,N,j,G,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,G,se):g.prototype&&g.prototype.isPureReactComponent?!Cu(S,N)||!Cu(j,G):!0}function x(h,g,S){var N=!1,j=Ol,G=g.contextType;return typeof G=="object"&&G!==null?G=Io(G):(j=Is(g)?Fl:fs.current,N=g.contextTypes,G=(N=N!=null)?Iu(h,j):Ol),g=new g(S,G),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rg,h.stateNode=g,g._reactInternals=h,N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=j,h.__reactInternalMemoizedMaskedChildContext=G),g}function _(h,g,S,N){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,N),g.state!==h&&rg.enqueueReplaceState(g,g.state,null)}function T(h,g,S,N){var j=h.stateNode;j.props=S,j.state=h.memoizedState,j.refs={},Zn(h);var G=g.contextType;typeof G=="object"&&G!==null?j.context=Io(G):(G=Is(g)?Fl:fs.current,j.context=Iu(h,G)),j.state=h.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(Vh(h,g,G,S),j.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(g=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),g!==j.state&&rg.enqueueReplaceState(j,j.state,null),hi(h,S,j,N),j.state=h.memoizedState),typeof j.componentDidMount=="function"&&(h.flags|=4194308)}function F(h,g){try{var S="",N=g;do S+=qe(N),N=N.return;while(N);var j=S}catch(G){j=`
Error generating stack: `+G.message+`
`+G.stack}return{value:h,source:g,stack:j,digest:null}}function z(h,g,S){return{value:h,source:null,stack:S??null,digest:g??null}}function X(h,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var ge=typeof WeakMap=="function"?WeakMap:Map;function Ne(h,g,S){S=kr(-1,S),S.tag=3,S.payload={element:null};var N=g.value;return S.callback=function(){H_||(H_=!0,AM=N),X(h,g)},S}function it(h,g,S){S=kr(-1,S),S.tag=3;var N=h.type.getDerivedStateFromError;if(typeof N=="function"){var j=g.value;S.payload=function(){return N(j)},S.callback=function(){X(h,g)}}var G=h.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(S.callback=function(){X(h,g),typeof N!="function"&&(af===null?af=new Set([this]):af.add(this));var se=g.stack;this.componentDidCatch(g.value,{componentStack:se!==null?se:""})}),S}function kt(h,g,S){var N=h.pingCache;if(N===null){N=h.pingCache=new ge;var j=new Set;N.set(g,j)}else j=N.get(g),j===void 0&&(j=new Set,N.set(g,j));j.has(S)||(j.add(S),h=mne.bind(null,h,g,S),g.then(h,h))}function an(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function $n(h,g,S,N,j){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=kr(-1,1),g.tag=2,ti(S,g,1))),S.lanes|=1),h):(h.flags|=65536,h.lanes=j,h)}var En=C.ReactCurrentOwner,tr=!1;function tn(h,g,S,N){g.child=h===null?Oh(g,null,S,N):Bu(g,h.child,S,N)}function gs(h,g,S,N,j){S=S.render;var G=g.ref;return Bc(g,j),N=jh(h,g,S,N,G,j),S=Jv(),h!==null&&!tr?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~j,$u(h,g,j)):(Yr&&S&&Vv(g),g.flags|=1,tn(h,g,N,j),g.child)}function Bo(h,g,S,N,j){if(h===null){var G=S.type;return typeof G=="function"&&!NM(G)&&G.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=G,$e(h,g,G,N,j)):(h=X_(S.type,null,N,g,g.mode,j),h.ref=g.ref,h.return=g,g.child=h)}if(G=h.child,(h.lanes&j)===0){var se=G.memoizedProps;if(S=S.compare,S=S!==null?S:Cu,S(se,N)&&h.ref===g.ref)return $u(h,g,j)}return g.flags|=1,h=df(G,N),h.ref=g.ref,h.return=g,g.child=h}function $e(h,g,S,N,j){if(h!==null){var G=h.memoizedProps;if(Cu(G,N)&&h.ref===g.ref)if(tr=!1,g.pendingProps=N=G,(h.lanes&j)!==0)(h.flags&131072)!==0&&(tr=!0);else return g.lanes=h.lanes,$u(h,g,j)}return Jt(h,g,S,N,j)}function Oe(h,g,S){var N=g.pendingProps,j=N.children,G=h!==null?h.memoizedState:null;if(N.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(sg,Ma),Ma|=S;else{if((S&1073741824)===0)return h=G!==null?G.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Hr(sg,Ma),Ma|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=G!==null?G.baseLanes:S,Hr(sg,Ma),Ma|=N}else G!==null?(N=G.baseLanes|S,g.memoizedState=null):N=S,Hr(sg,Ma),Ma|=N;return tn(h,g,j,S),g.child}function nt(h,g){var S=g.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function Jt(h,g,S,N,j){var G=Is(S)?Fl:fs.current;return G=Iu(g,G),Bc(g,j),S=jh(h,g,S,N,G,j),N=Jv(),h!==null&&!tr?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~j,$u(h,g,j)):(Yr&&N&&Vv(g),g.flags|=1,tn(h,g,S,j),g.child)}function bn(h,g,S,N,j){if(Is(S)){var G=!0;Ou(g)}else G=!1;if(Bc(g,j),g.stateNode===null)k_(h,g),x(g,S,N),T(g,S,N,j),N=!0;else if(h===null){var se=g.stateNode,_e=g.memoizedProps;se.props=_e;var Me=se.context,Ye=S.contextType;typeof Ye=="object"&&Ye!==null?Ye=Io(Ye):(Ye=Is(S)?Fl:fs.current,Ye=Iu(g,Ye));var Pt=S.getDerivedStateFromProps,Bt=typeof Pt=="function"||typeof se.getSnapshotBeforeUpdate=="function";Bt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(_e!==N||Me!==Ye)&&_(g,se,N,Ye),Br=!1;var Mt=g.memoizedState;se.state=Mt,hi(g,N,se,j),Me=g.memoizedState,_e!==N||Mt!==Me||Ws.current||Br?(typeof Pt=="function"&&(Vh(g,S,Pt,N),Me=g.memoizedState),(_e=Br||D_(g,S,_e,N,Mt,Me,Ye))?(Bt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(g.flags|=4194308)):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=Me),se.props=N,se.state=Me,se.context=Ye,N=_e):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{se=g.stateNode,bi(h,g),_e=g.memoizedProps,Ye=g.type===g.elementType?_e:na(g.type,_e),se.props=Ye,Bt=g.pendingProps,Mt=se.context,Me=S.contextType,typeof Me=="object"&&Me!==null?Me=Io(Me):(Me=Is(S)?Fl:fs.current,Me=Iu(g,Me));var sn=S.getDerivedStateFromProps;(Pt=typeof sn=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(_e!==Bt||Mt!==Me)&&_(g,se,N,Me),Br=!1,Mt=g.memoizedState,se.state=Mt,hi(g,N,se,j);var mn=g.memoizedState;_e!==Bt||Mt!==mn||Ws.current||Br?(typeof sn=="function"&&(Vh(g,S,sn,N),mn=g.memoizedState),(Ye=Br||D_(g,S,Ye,N,Mt,mn,Me)||!1)?(Pt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(N,mn,Me),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(N,mn,Me)),typeof se.componentDidUpdate=="function"&&(g.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof se.componentDidUpdate!="function"||_e===h.memoizedProps&&Mt===h.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||_e===h.memoizedProps&&Mt===h.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=mn),se.props=N,se.state=mn,se.context=Me,N=Ye):(typeof se.componentDidUpdate!="function"||_e===h.memoizedProps&&Mt===h.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||_e===h.memoizedProps&&Mt===h.memoizedState||(g.flags|=1024),N=!1)}return Yn(h,g,S,N,G,j)}function Yn(h,g,S,N,j,G){nt(h,g);var se=(g.flags&128)!==0;if(!N&&!se)return j&&Hv(g,S,!1),$u(h,g,G);N=g.stateNode,En.current=g;var _e=se&&typeof S.getDerivedStateFromError!="function"?null:N.render();return g.flags|=1,h!==null&&se?(g.child=Bu(g,h.child,null,G),g.child=Bu(g,null,_e,G)):tn(h,g,_e,G),g.memoizedState=N.state,j&&Hv(g,S,!0),g.child}function qn(h){var g=h.stateNode;g.pendingContext?zv(h,g.pendingContext,g.pendingContext!==g.context):g.context&&zv(h,g.context,!1),kh(h,g.containerInfo)}function br(h,g,S,N,j){return Dc(),Qd(j),g.flags|=256,tn(h,g,S,N),g.child}var Pi={dehydrated:null,treeContext:null,retryLane:0};function xr(h){return{baseLanes:h,cachePool:null,transitions:null}}function Gl(h,g,S){var N=g.pendingProps,j=Jr.current,G=!1,se=(g.flags&128)!==0,_e;if((_e=se)||(_e=h!==null&&h.memoizedState===null?!1:(j&2)!==0),_e?(G=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(j|=1),Hr(Jr,j&1),h===null)return Xm(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(se=N.children,h=N.fallback,G?(N=g.mode,G=g.child,se={mode:"hidden",children:se},(N&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=se):G=K_(se,N,0,null),h=Kh(h,N,S,null),G.return=g,h.return=g,G.sibling=h,g.child=G,g.child.memoizedState=xr(S),g.memoizedState=Pi,h):sy(g,se));if(j=h.memoizedState,j!==null&&(_e=j.dehydrated,_e!==null))return rne(h,g,se,N,_e,j,S);if(G){G=N.fallback,se=g.mode,j=h.child,_e=j.sibling;var Me={mode:"hidden",children:N.children};return(se&1)===0&&g.child!==j?(N=g.child,N.childLanes=0,N.pendingProps=Me,g.deletions=null):(N=df(j,Me),N.subtreeFlags=j.subtreeFlags&14680064),_e!==null?G=df(_e,G):(G=Kh(G,se,S,null),G.flags|=2),G.return=g,N.return=g,N.sibling=G,g.child=N,N=G,G=g.child,se=h.child.memoizedState,se=se===null?xr(S):{baseLanes:se.baseLanes|S,cachePool:null,transitions:se.transitions},G.memoizedState=se,G.childLanes=h.childLanes&~S,g.memoizedState=Pi,N}return G=h.child,h=G.sibling,N=df(G,{mode:"visible",children:N.children}),(g.mode&1)===0&&(N.lanes=S),N.return=g,N.sibling=null,h!==null&&(S=g.deletions,S===null?(g.deletions=[h],g.flags|=16):S.push(h)),g.child=N,g.memoizedState=null,N}function sy(h,g){return g=K_({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function B_(h,g,S,N){return N!==null&&Qd(N),Bu(g,h.child,null,S),h=sy(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function rne(h,g,S,N,j,G,se){if(S)return g.flags&256?(g.flags&=-257,N=z(Error(t(422))),B_(h,g,se,N)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(G=N.fallback,j=g.mode,N=K_({mode:"visible",children:N.children},j,0,null),G=Kh(G,j,se,null),G.flags|=2,N.return=g,G.return=g,N.sibling=G,g.child=N,(g.mode&1)!==0&&Bu(g,h.child,null,se),g.child.memoizedState=xr(se),g.memoizedState=Pi,G);if((g.mode&1)===0)return B_(h,g,se,null);if(j.data==="$!"){if(N=j.nextSibling&&j.nextSibling.dataset,N)var _e=N.dgst;return N=_e,G=Error(t(419)),N=z(G,N,void 0),B_(h,g,se,N)}if(_e=(se&h.childLanes)!==0,tr||_e){if(N=Ds,N!==null){switch(se&-se){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(N.suspendedLanes|se))!==0?0:j,j!==0&&j!==G.retryLane&&(G.retryLane=j,Sa(h,j),$l(N,h,j,-1))}return RM(),N=z(Error(t(421))),B_(h,g,se,N)}return j.data==="$?"?(g.flags|=128,g.child=h.child,g=gne.bind(null,h),j._reactRetry=g,null):(h=G.treeContext,qs=Nl(j.nextSibling),hs=g,Yr=!0,ta=null,h!==null&&($s[ts++]=$t,$s[ts++]=ea,$s[ts++]=Du,$t=h.id,ea=h.overflow,Du=g),g=sy(g,N.children),g.flags|=4096,g)}function Qk(h,g,S){h.lanes|=g;var N=h.alternate;N!==null&&(N.lanes|=g),Dh(h.return,g,S)}function mM(h,g,S,N,j){var G=h.memoizedState;G===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:S,tailMode:j}:(G.isBackwards=g,G.rendering=null,G.renderingStartTime=0,G.last=N,G.tail=S,G.tailMode=j)}function eL(h,g,S){var N=g.pendingProps,j=N.revealOrder,G=N.tail;if(tn(h,g,N.children,S),N=Jr.current,(N&2)!==0)N=N&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Qk(h,S,g);else if(h.tag===19)Qk(h,S,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}N&=1}if(Hr(Jr,N),(g.mode&1)===0)g.memoizedState=null;else switch(j){case"forwards":for(S=g.child,j=null;S!==null;)h=S.alternate,h!==null&&Aa(h)===null&&(j=S),S=S.sibling;S=j,S===null?(j=g.child,g.child=null):(j=S.sibling,S.sibling=null),mM(g,!1,j,S,G);break;case"backwards":for(S=null,j=g.child,g.child=null;j!==null;){if(h=j.alternate,h!==null&&Aa(h)===null){g.child=j;break}h=j.sibling,j.sibling=S,S=j,j=h}mM(g,!0,S,null,G);break;case"together":mM(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function k_(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function $u(h,g,S){if(h!==null&&(g.dependencies=h.dependencies),Wh|=g.lanes,(S&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(t(153));if(g.child!==null){for(h=g.child,S=df(h,h.pendingProps),g.child=S,S.return=g;h.sibling!==null;)h=h.sibling,S=S.sibling=df(h,h.pendingProps),S.return=g;S.sibling=null}return g.child}function ine(h,g,S){switch(g.tag){case 3:qn(g),Dc();break;case 5:Hu(g);break;case 1:Is(g.type)&&Ou(g);break;case 4:kh(g,g.stateNode.containerInfo);break;case 10:var N=g.type._context,j=g.memoizedProps.value;Hr(ku,N._currentValue),N._currentValue=j;break;case 13:if(N=g.memoizedState,N!==null)return N.dehydrated!==null?(Hr(Jr,Jr.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?Gl(h,g,S):(Hr(Jr,Jr.current&1),h=$u(h,g,S),h!==null?h.sibling:null);Hr(Jr,Jr.current&1);break;case 19:if(N=(S&g.childLanes)!==0,(h.flags&128)!==0){if(N)return eL(h,g,S);g.flags|=128}if(j=g.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Hr(Jr,Jr.current),N)break;return null;case 22:case 23:return g.lanes=0,Oe(h,g,S)}return $u(h,g,S)}var tL,gM,nL,rL;tL=function(h,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},gM=function(){},nL=function(h,g,S,N){var j=h.memoizedProps;if(j!==N){h=g.stateNode,Ti(Oo.current);var G=null;switch(S){case"input":j=De(h,j),N=De(h,N),G=[];break;case"select":j=te({},j,{value:void 0}),N=te({},N,{value:void 0}),G=[];break;case"textarea":j=Et(h,j),N=Et(h,N),G=[];break;default:typeof j.onClick!="function"&&typeof N.onClick=="function"&&(h.onclick=Ch)}Se(S,N);var se;S=null;for(Ye in j)if(!N.hasOwnProperty(Ye)&&j.hasOwnProperty(Ye)&&j[Ye]!=null)if(Ye==="style"){var _e=j[Ye];for(se in _e)_e.hasOwnProperty(se)&&(S||(S={}),S[se]="")}else Ye!=="dangerouslySetInnerHTML"&&Ye!=="children"&&Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&Ye!=="autoFocus"&&(i.hasOwnProperty(Ye)?G||(G=[]):(G=G||[]).push(Ye,null));for(Ye in N){var Me=N[Ye];if(_e=j?.[Ye],N.hasOwnProperty(Ye)&&Me!==_e&&(Me!=null||_e!=null))if(Ye==="style")if(_e){for(se in _e)!_e.hasOwnProperty(se)||Me&&Me.hasOwnProperty(se)||(S||(S={}),S[se]="");for(se in Me)Me.hasOwnProperty(se)&&_e[se]!==Me[se]&&(S||(S={}),S[se]=Me[se])}else S||(G||(G=[]),G.push(Ye,S)),S=Me;else Ye==="dangerouslySetInnerHTML"?(Me=Me?Me.__html:void 0,_e=_e?_e.__html:void 0,Me!=null&&_e!==Me&&(G=G||[]).push(Ye,Me)):Ye==="children"?typeof Me!="string"&&typeof Me!="number"||(G=G||[]).push(Ye,""+Me):Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ye)?(Me!=null&&Ye==="onScroll"&&Vr("scroll",h),G||_e===Me||(G=[])):(G=G||[]).push(Ye,Me))}S&&(G=G||[]).push("style",S);var Ye=G;(g.updateQueue=Ye)&&(g.flags|=4)}},rL=function(h,g,S,N){S!==N&&(g.flags|=4)};function oy(h,g){if(!Yr)switch(h.tailMode){case"hidden":g=h.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function ho(h){var g=h.alternate!==null&&h.alternate.child===h.child,S=0,N=0;if(g)for(var j=h.child;j!==null;)S|=j.lanes|j.childLanes,N|=j.subtreeFlags&14680064,N|=j.flags&14680064,j.return=h,j=j.sibling;else for(j=h.child;j!==null;)S|=j.lanes|j.childLanes,N|=j.subtreeFlags,N|=j.flags,j.return=h,j=j.sibling;return h.subtreeFlags|=N,h.childLanes=S,g}function sne(h,g,S){var N=g.pendingProps;switch(Bl(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(g),null;case 1:return Is(g.type)&&Mh(),ho(g),null;case 3:return N=g.stateNode,kc(),Wr(Ws),Wr(fs),Za(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(h===null||h.child===null)&&(Zd(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ta!==null&&(MM(ta),ta=null))),gM(h,g),ho(g),null;case 5:nf(g);var j=Ti(jl.current);if(S=g.type,h!==null&&g.stateNode!=null)nL(h,g,S,N,j),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!N){if(g.stateNode===null)throw Error(t(166));return ho(g),null}if(h=Ti(Oo.current),Zd(g)){N=g.stateNode,S=g.type;var G=g.memoizedProps;switch(N[Hi]=g,N[Jd]=G,h=(g.mode&1)!==0,S){case"dialog":Vr("cancel",N),Vr("close",N);break;case"iframe":case"object":case"embed":Vr("load",N);break;case"video":case"audio":for(j=0;j<Oc.length;j++)Vr(Oc[j],N);break;case"source":Vr("error",N);break;case"img":case"image":case"link":Vr("error",N),Vr("load",N);break;case"details":Vr("toggle",N);break;case"input":le(N,G),Vr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!G.multiple},Vr("invalid",N);break;case"textarea":ce(N,G),Vr("invalid",N)}Se(S,G),j=null;for(var se in G)if(G.hasOwnProperty(se)){var _e=G[se];se==="children"?typeof _e=="string"?N.textContent!==_e&&(G.suppressHydrationWarning!==!0&&Eh(N.textContent,_e,h),j=["children",_e]):typeof _e=="number"&&N.textContent!==""+_e&&(G.suppressHydrationWarning!==!0&&Eh(N.textContent,_e,h),j=["children",""+_e]):i.hasOwnProperty(se)&&_e!=null&&se==="onScroll"&&Vr("scroll",N)}switch(S){case"input":rt(N),xt(N,G,!0);break;case"textarea":rt(N),Ie(N);break;case"select":case"option":break;default:typeof G.onClick=="function"&&(N.onclick=Ch)}N=j,g.updateQueue=N,N!==null&&(g.flags|=4)}else{se=j.nodeType===9?j:j.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Je(S)),h==="http://www.w3.org/1999/xhtml"?S==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof N.is=="string"?h=se.createElement(S,{is:N.is}):(h=se.createElement(S),S==="select"&&(se=h,N.multiple?se.multiple=!0:N.size&&(se.size=N.size))):h=se.createElementNS(h,S),h[Hi]=g,h[Jd]=N,tL(h,g,!1,!1),g.stateNode=h;e:{switch(se=Le(S,N),S){case"dialog":Vr("cancel",h),Vr("close",h),j=N;break;case"iframe":case"object":case"embed":Vr("load",h),j=N;break;case"video":case"audio":for(j=0;j<Oc.length;j++)Vr(Oc[j],h);j=N;break;case"source":Vr("error",h),j=N;break;case"img":case"image":case"link":Vr("error",h),Vr("load",h),j=N;break;case"details":Vr("toggle",h),j=N;break;case"input":le(h,N),j=De(h,N),Vr("invalid",h);break;case"option":j=N;break;case"select":h._wrapperState={wasMultiple:!!N.multiple},j=te({},N,{value:void 0}),Vr("invalid",h);break;case"textarea":ce(h,N),j=Et(h,N),Vr("invalid",h);break;default:j=N}Se(S,j),_e=j;for(G in _e)if(_e.hasOwnProperty(G)){var Me=_e[G];G==="style"?pt(h,Me):G==="dangerouslySetInnerHTML"?(Me=Me?Me.__html:void 0,Me!=null&&Yt(h,Me)):G==="children"?typeof Me=="string"?(S!=="textarea"||Me!=="")&&Dt(h,Me):typeof Me=="number"&&Dt(h,""+Me):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?Me!=null&&G==="onScroll"&&Vr("scroll",h):Me!=null&&E(h,G,Me,se))}switch(S){case"input":rt(h),xt(h,N,!1);break;case"textarea":rt(h),Ie(h);break;case"option":N.value!=null&&h.setAttribute("value",""+Pe(N.value));break;case"select":h.multiple=!!N.multiple,G=N.value,G!=null?Ct(h,!!N.multiple,G,!1):N.defaultValue!=null&&Ct(h,!!N.multiple,N.defaultValue,!0);break;default:typeof j.onClick=="function"&&(h.onclick=Ch)}switch(S){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return ho(g),null;case 6:if(h&&g.stateNode!=null)rL(h,g,h.memoizedProps,N);else{if(typeof N!="string"&&g.stateNode===null)throw Error(t(166));if(S=Ti(jl.current),Ti(Oo.current),Zd(g)){if(N=g.stateNode,S=g.memoizedProps,N[Hi]=g,(G=N.nodeValue!==S)&&(h=hs,h!==null))switch(h.tag){case 3:Eh(N.nodeValue,S,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Eh(N.nodeValue,S,(h.mode&1)!==0)}G&&(g.flags|=4)}else N=(S.nodeType===9?S:S.ownerDocument).createTextNode(N),N[Hi]=g,g.stateNode=N}return ho(g),null;case 13:if(Wr(Jr),N=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Yr&&qs!==null&&(g.mode&1)!==0&&(g.flags&128)===0)qv(),Dc(),g.flags|=98560,G=!1;else if(G=Zd(g),N!==null&&N.dehydrated!==null){if(h===null){if(!G)throw Error(t(318));if(G=g.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(t(317));G[Hi]=g}else Dc(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;ho(g),G=!1}else ta!==null&&(MM(ta),ta=null),G=!0;if(!G)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):(N=N!==null,N!==(h!==null&&h.memoizedState!==null)&&N&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(Jr.current&1)!==0?vs===0&&(vs=3):RM())),g.updateQueue!==null&&(g.flags|=4),ho(g),null);case 4:return kc(),gM(h,g),h===null&&Xd(g.stateNode.containerInfo),ho(g),null;case 10:return Fh(g.type._context),ho(g),null;case 17:return Is(g.type)&&Mh(),ho(g),null;case 19:if(Wr(Jr),G=g.memoizedState,G===null)return ho(g),null;if(N=(g.flags&128)!==0,se=G.rendering,se===null)if(N)oy(G,!1);else{if(vs!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(se=Aa(h),se!==null){for(g.flags|=128,oy(G,!1),N=se.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),g.subtreeFlags=0,N=S,S=g.child;S!==null;)G=S,h=N,G.flags&=14680066,se=G.alternate,se===null?(G.childLanes=0,G.lanes=h,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=se.childLanes,G.lanes=se.lanes,G.child=se.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=se.memoizedProps,G.memoizedState=se.memoizedState,G.updateQueue=se.updateQueue,G.type=se.type,h=se.dependencies,G.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),S=S.sibling;return Hr(Jr,Jr.current&1|2),g.child}h=h.sibling}G.tail!==null&&be()>og&&(g.flags|=128,N=!0,oy(G,!1),g.lanes=4194304)}else{if(!N)if(h=Aa(se),h!==null){if(g.flags|=128,N=!0,S=h.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),oy(G,!0),G.tail===null&&G.tailMode==="hidden"&&!se.alternate&&!Yr)return ho(g),null}else 2*be()-G.renderingStartTime>og&&S!==1073741824&&(g.flags|=128,N=!0,oy(G,!1),g.lanes=4194304);G.isBackwards?(se.sibling=g.child,g.child=se):(S=G.last,S!==null?S.sibling=se:g.child=se,G.last=se)}return G.tail!==null?(g=G.tail,G.rendering=g,G.tail=g.sibling,G.renderingStartTime=be(),g.sibling=null,S=Jr.current,Hr(Jr,N?S&1|2:S&1),g):(ho(g),null);case 22:case 23:return PM(),N=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==N&&(g.flags|=8192),N&&(g.mode&1)!==0?(Ma&1073741824)!==0&&(ho(g),g.subtreeFlags&6&&(g.flags|=8192)):ho(g),null;case 24:return null;case 25:return null}throw Error(t(156,g.tag))}function one(h,g){switch(Bl(g),g.tag){case 1:return Is(g.type)&&Mh(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return kc(),Wr(Ws),Wr(fs),Za(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return nf(g),null;case 13:if(Wr(Jr),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(t(340));Dc()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return Wr(Jr),null;case 4:return kc(),null;case 10:return Fh(g.type._context),null;case 22:case 23:return PM(),null;case 24:return null;default:return null}}var L_=!1,po=!1,ane=typeof WeakSet=="function"?WeakSet:Set,fn=null;function ig(h,g){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(N){Ri(h,g,N)}else S.current=null}function vM(h,g,S){try{S()}catch(N){Ri(h,g,N)}}var iL=!1;function lne(h,g){if(Yd=Ps,h=ai(),Ji(h)){if("selectionStart"in h)var S={start:h.selectionStart,end:h.selectionEnd};else e:{S=(S=h.ownerDocument)&&S.defaultView||window;var N=S.getSelection&&S.getSelection();if(N&&N.rangeCount!==0){S=N.anchorNode;var j=N.anchorOffset,G=N.focusNode;N=N.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var se=0,_e=-1,Me=-1,Ye=0,Pt=0,Bt=h,Mt=null;t:for(;;){for(var sn;Bt!==S||j!==0&&Bt.nodeType!==3||(_e=se+j),Bt!==G||N!==0&&Bt.nodeType!==3||(Me=se+N),Bt.nodeType===3&&(se+=Bt.nodeValue.length),(sn=Bt.firstChild)!==null;)Mt=Bt,Bt=sn;for(;;){if(Bt===h)break t;if(Mt===S&&++Ye===j&&(_e=se),Mt===G&&++Pt===N&&(Me=se),(sn=Bt.nextSibling)!==null)break;Bt=Mt,Mt=Bt.parentNode}Bt=sn}S=_e===-1||Me===-1?null:{start:_e,end:Me}}else S=null}S=S||{start:0,end:0}}else S=null;for(Dv={focusedElem:h,selectionRange:S},Ps=!1,fn=g;fn!==null;)if(g=fn,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,fn=h;else for(;fn!==null;){g=fn;try{var mn=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(mn!==null){var xn=mn.memoizedProps,Gi=mn.memoizedState,He=g.stateNode,Re=He.getSnapshotBeforeUpdate(g.elementType===g.type?xn:na(g.type,xn),Gi);He.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var We=g.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(zt){Ri(g,g.return,zt)}if(h=g.sibling,h!==null){h.return=g.return,fn=h;break}fn=g.return}return mn=iL,iL=!1,mn}function ay(h,g,S){var N=g.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var j=N=N.next;do{if((j.tag&h)===h){var G=j.destroy;j.destroy=void 0,G!==void 0&&vM(g,S,G)}j=j.next}while(j!==N)}}function j_(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&h)===h){var N=S.create;S.destroy=N()}S=S.next}while(S!==g)}}function yM(h){var g=h.ref;if(g!==null){var S=h.stateNode;switch(h.tag){case 5:h=S;break;default:h=S}typeof g=="function"?g(h):g.current=h}}function sL(h){var g=h.alternate;g!==null&&(h.alternate=null,sL(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[Hi],delete g[Jd],delete g[Nu],delete g[zm],delete g[Hm])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function oL(h){return h.tag===5||h.tag===3||h.tag===4}function aL(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||oL(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function xM(h,g,S){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(h,g):S.insertBefore(h,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(h,S)):(g=S,g.appendChild(h)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Ch));else if(N!==4&&(h=h.child,h!==null))for(xM(h,g,S),h=h.sibling;h!==null;)xM(h,g,S),h=h.sibling}function bM(h,g,S){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?S.insertBefore(h,g):S.appendChild(h);else if(N!==4&&(h=h.child,h!==null))for(bM(h,g,S),h=h.sibling;h!==null;)bM(h,g,S),h=h.sibling}var Ks=null,Vl=!1;function of(h,g,S){for(S=S.child;S!==null;)lL(h,g,S),S=S.sibling}function lL(h,g,S){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Tt,S)}catch{}switch(S.tag){case 5:po||ig(S,g);case 6:var N=Ks,j=Vl;Ks=null,of(h,g,S),Ks=N,Vl=j,Ks!==null&&(Vl?(h=Ks,S=S.stateNode,h.nodeType===8?h.parentNode.removeChild(S):h.removeChild(S)):Ks.removeChild(S.stateNode));break;case 18:Ks!==null&&(Vl?(h=Ks,S=S.stateNode,h.nodeType===8?Um(h.parentNode,S):h.nodeType===1&&Um(h,S),Sc(h)):Um(Ks,S.stateNode));break;case 4:N=Ks,j=Vl,Ks=S.stateNode.containerInfo,Vl=!0,of(h,g,S),Ks=N,Vl=j;break;case 0:case 11:case 14:case 15:if(!po&&(N=S.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){j=N=N.next;do{var G=j,se=G.destroy;G=G.tag,se!==void 0&&((G&2)!==0||(G&4)!==0)&&vM(S,g,se),j=j.next}while(j!==N)}of(h,g,S);break;case 1:if(!po&&(ig(S,g),N=S.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=S.memoizedProps,N.state=S.memoizedState,N.componentWillUnmount()}catch(_e){Ri(S,g,_e)}of(h,g,S);break;case 21:of(h,g,S);break;case 22:S.mode&1?(po=(N=po)||S.memoizedState!==null,of(h,g,S),po=N):of(h,g,S);break;default:of(h,g,S)}}function cL(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new ane),g.forEach(function(N){var j=vne.bind(null,h,N);S.has(N)||(S.add(N),N.then(j,j))})}}function Wl(h,g){var S=g.deletions;if(S!==null)for(var N=0;N<S.length;N++){var j=S[N];try{var G=h,se=g,_e=se;e:for(;_e!==null;){switch(_e.tag){case 5:Ks=_e.stateNode,Vl=!1;break e;case 3:Ks=_e.stateNode.containerInfo,Vl=!0;break e;case 4:Ks=_e.stateNode.containerInfo,Vl=!0;break e}_e=_e.return}if(Ks===null)throw Error(t(160));lL(G,se,j),Ks=null,Vl=!1;var Me=j.alternate;Me!==null&&(Me.return=null),j.return=null}catch(Ye){Ri(j,g,Ye)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)uL(g,h),g=g.sibling}function uL(h,g){var S=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Wl(g,h),jc(h),N&4){try{ay(3,h,h.return),j_(3,h)}catch(xn){Ri(h,h.return,xn)}try{ay(5,h,h.return)}catch(xn){Ri(h,h.return,xn)}}break;case 1:Wl(g,h),jc(h),N&512&&S!==null&&ig(S,S.return);break;case 5:if(Wl(g,h),jc(h),N&512&&S!==null&&ig(S,S.return),h.flags&32){var j=h.stateNode;try{Dt(j,"")}catch(xn){Ri(h,h.return,xn)}}if(N&4&&(j=h.stateNode,j!=null)){var G=h.memoizedProps,se=S!==null?S.memoizedProps:G,_e=h.type,Me=h.updateQueue;if(h.updateQueue=null,Me!==null)try{_e==="input"&&G.type==="radio"&&G.name!=null&&et(j,G),Le(_e,se);var Ye=Le(_e,G);for(se=0;se<Me.length;se+=2){var Pt=Me[se],Bt=Me[se+1];Pt==="style"?pt(j,Bt):Pt==="dangerouslySetInnerHTML"?Yt(j,Bt):Pt==="children"?Dt(j,Bt):E(j,Pt,Bt,Ye)}switch(_e){case"input":at(j,G);break;case"textarea":ie(j,G);break;case"select":var Mt=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!G.multiple;var sn=G.value;sn!=null?Ct(j,!!G.multiple,sn,!1):Mt!==!!G.multiple&&(G.defaultValue!=null?Ct(j,!!G.multiple,G.defaultValue,!0):Ct(j,!!G.multiple,G.multiple?[]:"",!1))}j[Jd]=G}catch(xn){Ri(h,h.return,xn)}}break;case 6:if(Wl(g,h),jc(h),N&4){if(h.stateNode===null)throw Error(t(162));j=h.stateNode,G=h.memoizedProps;try{j.nodeValue=G}catch(xn){Ri(h,h.return,xn)}}break;case 3:if(Wl(g,h),jc(h),N&4&&S!==null&&S.memoizedState.isDehydrated)try{Sc(g.containerInfo)}catch(xn){Ri(h,h.return,xn)}break;case 4:Wl(g,h),jc(h);break;case 13:Wl(g,h),jc(h),j=h.child,j.flags&8192&&(G=j.memoizedState!==null,j.stateNode.isHidden=G,!G||j.alternate!==null&&j.alternate.memoizedState!==null||(SM=be())),N&4&&cL(h);break;case 22:if(Pt=S!==null&&S.memoizedState!==null,h.mode&1?(po=(Ye=po)||Pt,Wl(g,h),po=Ye):Wl(g,h),jc(h),N&8192){if(Ye=h.memoizedState!==null,(h.stateNode.isHidden=Ye)&&!Pt&&(h.mode&1)!==0)for(fn=h,Pt=h.child;Pt!==null;){for(Bt=fn=Pt;fn!==null;){switch(Mt=fn,sn=Mt.child,Mt.tag){case 0:case 11:case 14:case 15:ay(4,Mt,Mt.return);break;case 1:ig(Mt,Mt.return);var mn=Mt.stateNode;if(typeof mn.componentWillUnmount=="function"){N=Mt,S=Mt.return;try{g=N,mn.props=g.memoizedProps,mn.state=g.memoizedState,mn.componentWillUnmount()}catch(xn){Ri(N,S,xn)}}break;case 5:ig(Mt,Mt.return);break;case 22:if(Mt.memoizedState!==null){hL(Bt);continue}}sn!==null?(sn.return=Mt,fn=sn):hL(Bt)}Pt=Pt.sibling}e:for(Pt=null,Bt=h;;){if(Bt.tag===5){if(Pt===null){Pt=Bt;try{j=Bt.stateNode,Ye?(G=j.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(_e=Bt.stateNode,Me=Bt.memoizedProps.style,se=Me!=null&&Me.hasOwnProperty("display")?Me.display:null,_e.style.display=ht("display",se))}catch(xn){Ri(h,h.return,xn)}}}else if(Bt.tag===6){if(Pt===null)try{Bt.stateNode.nodeValue=Ye?"":Bt.memoizedProps}catch(xn){Ri(h,h.return,xn)}}else if((Bt.tag!==22&&Bt.tag!==23||Bt.memoizedState===null||Bt===h)&&Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===h)break e;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===h)break e;Pt===Bt&&(Pt=null),Bt=Bt.return}Pt===Bt&&(Pt=null),Bt.sibling.return=Bt.return,Bt=Bt.sibling}}break;case 19:Wl(g,h),jc(h),N&4&&cL(h);break;case 21:break;default:Wl(g,h),jc(h)}}function jc(h){var g=h.flags;if(g&2){try{e:{for(var S=h.return;S!==null;){if(oL(S)){var N=S;break e}S=S.return}throw Error(t(160))}switch(N.tag){case 5:var j=N.stateNode;N.flags&32&&(Dt(j,""),N.flags&=-33);var G=aL(h);bM(h,G,j);break;case 3:case 4:var se=N.stateNode.containerInfo,_e=aL(h);xM(h,_e,se);break;default:throw Error(t(161))}}catch(Me){Ri(h,h.return,Me)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function cne(h,g,S){fn=h,dL(h)}function dL(h,g,S){for(var N=(h.mode&1)!==0;fn!==null;){var j=fn,G=j.child;if(j.tag===22&&N){var se=j.memoizedState!==null||L_;if(!se){var _e=j.alternate,Me=_e!==null&&_e.memoizedState!==null||po;_e=L_;var Ye=po;if(L_=se,(po=Me)&&!Ye)for(fn=j;fn!==null;)se=fn,Me=se.child,se.tag===22&&se.memoizedState!==null?pL(j):Me!==null?(Me.return=se,fn=Me):pL(j);for(;G!==null;)fn=G,dL(G),G=G.sibling;fn=j,L_=_e,po=Ye}fL(h)}else(j.subtreeFlags&8772)!==0&&G!==null?(G.return=j,fn=G):fL(h)}}function fL(h){for(;fn!==null;){var g=fn;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:po||j_(5,g);break;case 1:var N=g.stateNode;if(g.flags&4&&!po)if(S===null)N.componentDidMount();else{var j=g.elementType===g.type?S.memoizedProps:na(g.type,S.memoizedProps);N.componentDidUpdate(j,S.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var G=g.updateQueue;G!==null&&tf(g,G,N);break;case 3:var se=g.updateQueue;if(se!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}tf(g,se,S)}break;case 5:var _e=g.stateNode;if(S===null&&g.flags&4){S=_e;var Me=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Me.autoFocus&&S.focus();break;case"img":Me.src&&(S.src=Me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ye=g.alternate;if(Ye!==null){var Pt=Ye.memoizedState;if(Pt!==null){var Bt=Pt.dehydrated;Bt!==null&&Sc(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}po||g.flags&512&&yM(g)}catch(Mt){Ri(g,g.return,Mt)}}if(g===h){fn=null;break}if(S=g.sibling,S!==null){S.return=g.return,fn=S;break}fn=g.return}}function hL(h){for(;fn!==null;){var g=fn;if(g===h){fn=null;break}var S=g.sibling;if(S!==null){S.return=g.return,fn=S;break}fn=g.return}}function pL(h){for(;fn!==null;){var g=fn;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{j_(4,g)}catch(Me){Ri(g,S,Me)}break;case 1:var N=g.stateNode;if(typeof N.componentDidMount=="function"){var j=g.return;try{N.componentDidMount()}catch(Me){Ri(g,j,Me)}}var G=g.return;try{yM(g)}catch(Me){Ri(g,G,Me)}break;case 5:var se=g.return;try{yM(g)}catch(Me){Ri(g,se,Me)}}}catch(Me){Ri(g,g.return,Me)}if(g===h){fn=null;break}var _e=g.sibling;if(_e!==null){_e.return=g.return,fn=_e;break}fn=g.return}}var une=Math.ceil,U_=C.ReactCurrentDispatcher,_M=C.ReactCurrentOwner,el=C.ReactCurrentBatchConfig,Tr=0,Ds=null,ns=null,Ys=0,Ma=0,sg=fi(0),vs=0,ly=null,Wh=0,z_=0,wM=0,cy=null,ra=null,SM=0,og=1/0,qu=null,H_=!1,AM=null,af=null,G_=!1,lf=null,V_=0,uy=0,EM=null,W_=-1,$_=0;function ko(){return(Tr&6)!==0?be():W_!==-1?W_:W_=be()}function cf(h){return(h.mode&1)===0?1:(Tr&2)!==0&&Ys!==0?Ys&-Ys:hM.transition!==null?($_===0&&($_=mr()),$_):(h=Rn,h!==0||(h=window.event,h=h===void 0?16:Ec(h.type)),h)}function $l(h,g,S,N){if(50<uy)throw uy=0,EM=null,Error(t(185));fr(h,S,N),((Tr&2)===0||h!==Ds)&&(h===Ds&&((Tr&2)===0&&(z_|=S),vs===4&&uf(h,Ys)),ia(h,N),S===1&&Tr===0&&(g.mode&1)===0&&(og=be()+500,Ph&&Ya()))}function ia(h,g){var S=h.callbackNode;or(h,g);var N=rn(h,h===Ds?Ys:0);if(N===0)S!==null&&Nt(S),h.callbackNode=null,h.callbackPriority=0;else if(g=N&-N,h.callbackPriority!==g){if(S!=null&&Nt(S),g===1)h.tag===0?E_(gL.bind(null,h)):Rh(gL.bind(null,h)),fM(function(){(Tr&6)===0&&Ya()}),S=null;else{switch(To(N)){case 1:S=Ae;break;case 4:S=Ke;break;case 16:S=st;break;case 536870912:S=yt;break;default:S=st}S=AL(S,mL.bind(null,h))}h.callbackPriority=g,h.callbackNode=S}}function mL(h,g){if(W_=-1,$_=0,(Tr&6)!==0)throw Error(t(327));var S=h.callbackNode;if(ag()&&h.callbackNode!==S)return null;var N=rn(h,h===Ds?Ys:0);if(N===0)return null;if((N&30)!==0||(N&h.expiredLanes)!==0||g)g=q_(h,N);else{g=N;var j=Tr;Tr|=2;var G=yL();(Ds!==h||Ys!==g)&&(qu=null,og=be()+500,qh(h,g));do try{hne();break}catch(_e){vL(h,_e)}while(!0);ju(),U_.current=G,Tr=j,ns!==null?g=0:(Ds=null,Ys=0,g=vs)}if(g!==0){if(g===2&&(j=Tn(h),j!==0&&(N=j,g=CM(h,j))),g===1)throw S=ly,qh(h,0),uf(h,N),ia(h,be()),S;if(g===6)uf(h,N);else{if(j=h.current.alternate,(N&30)===0&&!dne(j)&&(g=q_(h,N),g===2&&(G=Tn(h),G!==0&&(N=G,g=CM(h,G))),g===1))throw S=ly,qh(h,0),uf(h,N),ia(h,be()),S;switch(h.finishedWork=j,h.finishedLanes=N,g){case 0:case 1:throw Error(t(345));case 2:Xh(h,ra,qu);break;case 3:if(uf(h,N),(N&130023424)===N&&(g=SM+500-be(),10<g)){if(rn(h,0)!==0)break;if(j=h.suspendedLanes,(j&N)!==N){ko(),h.pingedLanes|=h.suspendedLanes&j;break}h.timeoutHandle=kv(Xh.bind(null,h,ra,qu),g);break}Xh(h,ra,qu);break;case 4:if(uf(h,N),(N&4194240)===N)break;for(g=h.eventTimes,j=-1;0<N;){var se=31-Ht(N);G=1<<se,se=g[se],se>j&&(j=se),N&=~G}if(N=j,N=be()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*une(N/1960))-N,10<N){h.timeoutHandle=kv(Xh.bind(null,h,ra,qu),N);break}Xh(h,ra,qu);break;case 5:Xh(h,ra,qu);break;default:throw Error(t(329))}}}return ia(h,be()),h.callbackNode===S?mL.bind(null,h):null}function CM(h,g){var S=cy;return h.current.memoizedState.isDehydrated&&(qh(h,g).flags|=256),h=q_(h,g),h!==2&&(g=ra,ra=S,g!==null&&MM(g)),h}function MM(h){ra===null?ra=h:ra.push.apply(ra,h)}function dne(h){for(var g=h;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var N=0;N<S.length;N++){var j=S[N],G=j.getSnapshot;j=j.value;try{if(!Po(G(),j))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function uf(h,g){for(g&=~wM,g&=~z_,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var S=31-Ht(g),N=1<<S;h[S]=-1,g&=~N}}function gL(h){if((Tr&6)!==0)throw Error(t(327));ag();var g=rn(h,0);if((g&1)===0)return ia(h,be()),null;var S=q_(h,g);if(h.tag!==0&&S===2){var N=Tn(h);N!==0&&(g=N,S=CM(h,N))}if(S===1)throw S=ly,qh(h,0),uf(h,g),ia(h,be()),S;if(S===6)throw Error(t(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,Xh(h,ra,qu),ia(h,be()),null}function TM(h,g){var S=Tr;Tr|=1;try{return h(g)}finally{Tr=S,Tr===0&&(og=be()+500,Ph&&Ya())}}function $h(h){lf!==null&&lf.tag===0&&(Tr&6)===0&&ag();var g=Tr;Tr|=1;var S=el.transition,N=Rn;try{if(el.transition=null,Rn=1,h)return h()}finally{Rn=N,el.transition=S,Tr=g,(Tr&6)===0&&Ya()}}function PM(){Ma=sg.current,Wr(sg)}function qh(h,g){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==-1&&(h.timeoutHandle=-1,Lv(S)),ns!==null)for(S=ns.return;S!==null;){var N=S;switch(Bl(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Mh();break;case 3:kc(),Wr(Ws),Wr(fs),Za();break;case 5:nf(N);break;case 4:kc();break;case 13:Wr(Jr);break;case 19:Wr(Jr);break;case 10:Fh(N.type._context);break;case 22:case 23:PM()}S=S.return}if(Ds=h,ns=h=df(h.current,null),Ys=Ma=g,vs=0,ly=null,wM=z_=Wh=0,ra=cy=null,Ll!==null){for(g=0;g<Ll.length;g++)if(S=Ll[g],N=S.interleaved,N!==null){S.interleaved=null;var j=N.next,G=S.pending;if(G!==null){var se=G.next;G.next=j,N.next=se}S.pending=N}Ll=null}return h}function vL(h,g){do{var S=ns;try{if(ju(),Gu.current=ng,Ea){for(var N=$r.memoizedState;N!==null;){var j=N.queue;j!==null&&(j.pending=null),N=N.next}Ea=!1}if(Ul=0,Er=pi=$r=null,Fs=!1,Lc=0,_M.current=null,S===null||S.return===null){vs=1,ly=g,ns=null;break}e:{var G=h,se=S.return,_e=S,Me=g;if(g=Ys,_e.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ye=Me,Pt=_e,Bt=Pt.tag;if((Pt.mode&1)===0&&(Bt===0||Bt===11||Bt===15)){var Mt=Pt.alternate;Mt?(Pt.updateQueue=Mt.updateQueue,Pt.memoizedState=Mt.memoizedState,Pt.lanes=Mt.lanes):(Pt.updateQueue=null,Pt.memoizedState=null)}var sn=an(se);if(sn!==null){sn.flags&=-257,$n(sn,se,_e,G,g),sn.mode&1&&kt(G,Ye,g),g=sn,Me=Ye;var mn=g.updateQueue;if(mn===null){var xn=new Set;xn.add(Me),g.updateQueue=xn}else mn.add(Me);break e}else{if((g&1)===0){kt(G,Ye,g),RM();break e}Me=Error(t(426))}}else if(Yr&&_e.mode&1){var Gi=an(se);if(Gi!==null){(Gi.flags&65536)===0&&(Gi.flags|=256),$n(Gi,se,_e,G,g),Qd(F(Me,_e));break e}}G=Me=F(Me,_e),vs!==4&&(vs=2),cy===null?cy=[G]:cy.push(G),G=se;do{switch(G.tag){case 3:G.flags|=65536,g&=-g,G.lanes|=g;var He=Ne(G,Me,g);Uu(G,He);break e;case 1:_e=Me;var Re=G.type,We=G.stateNode;if((G.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(af===null||!af.has(We)))){G.flags|=65536,g&=-g,G.lanes|=g;var zt=it(G,_e,g);Uu(G,zt);break e}}G=G.return}while(G!==null)}bL(S)}catch(_n){g=_n,ns===S&&S!==null&&(ns=S=S.return);continue}break}while(!0)}function yL(){var h=U_.current;return U_.current=ng,h===null?ng:h}function RM(){(vs===0||vs===3||vs===2)&&(vs=4),Ds===null||(Wh&268435455)===0&&(z_&268435455)===0||uf(Ds,Ys)}function q_(h,g){var S=Tr;Tr|=2;var N=yL();(Ds!==h||Ys!==g)&&(qu=null,qh(h,g));do try{fne();break}catch(j){vL(h,j)}while(!0);if(ju(),Tr=S,U_.current=N,ns!==null)throw Error(t(261));return Ds=null,Ys=0,vs}function fne(){for(;ns!==null;)xL(ns)}function hne(){for(;ns!==null&&!Q();)xL(ns)}function xL(h){var g=SL(h.alternate,h,Ma);h.memoizedProps=h.pendingProps,g===null?bL(h):ns=g,_M.current=null}function bL(h){var g=h;do{var S=g.alternate;if(h=g.return,(g.flags&32768)===0){if(S=sne(S,g,Ma),S!==null){ns=S;return}}else{if(S=one(S,g),S!==null){S.flags&=32767,ns=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{vs=6,ns=null;return}}if(g=g.sibling,g!==null){ns=g;return}ns=g=h}while(g!==null);vs===0&&(vs=5)}function Xh(h,g,S){var N=Rn,j=el.transition;try{el.transition=null,Rn=1,pne(h,g,S,N)}finally{el.transition=j,Rn=N}return null}function pne(h,g,S,N){do ag();while(lf!==null);if((Tr&6)!==0)throw Error(t(327));S=h.finishedWork;var j=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(t(177));h.callbackNode=null,h.callbackPriority=0;var G=S.lanes|S.childLanes;if(Kr(h,G),h===Ds&&(ns=Ds=null,Ys=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||G_||(G_=!0,AL(st,function(){return ag(),null})),G=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||G){G=el.transition,el.transition=null;var se=Rn;Rn=1;var _e=Tr;Tr|=4,_M.current=null,lne(h,S),uL(S,h),Zi(Dv),Ps=!!Yd,Dv=Yd=null,h.current=S,cne(S),ye(),Tr=_e,Rn=se,el.transition=G}else h.current=S;if(G_&&(G_=!1,lf=h,V_=j),G=h.pendingLanes,G===0&&(af=null),Rt(S.stateNode),ia(h,be()),g!==null)for(N=h.onRecoverableError,S=0;S<g.length;S++)j=g[S],N(j.value,{componentStack:j.stack,digest:j.digest});if(H_)throw H_=!1,h=AM,AM=null,h;return(V_&1)!==0&&h.tag!==0&&ag(),G=h.pendingLanes,(G&1)!==0?h===EM?uy++:(uy=0,EM=h):uy=0,Ya(),null}function ag(){if(lf!==null){var h=To(V_),g=el.transition,S=Rn;try{if(el.transition=null,Rn=16>h?16:h,lf===null)var N=!1;else{if(h=lf,lf=null,V_=0,(Tr&6)!==0)throw Error(t(331));var j=Tr;for(Tr|=4,fn=h.current;fn!==null;){var G=fn,se=G.child;if((fn.flags&16)!==0){var _e=G.deletions;if(_e!==null){for(var Me=0;Me<_e.length;Me++){var Ye=_e[Me];for(fn=Ye;fn!==null;){var Pt=fn;switch(Pt.tag){case 0:case 11:case 15:ay(8,Pt,G)}var Bt=Pt.child;if(Bt!==null)Bt.return=Pt,fn=Bt;else for(;fn!==null;){Pt=fn;var Mt=Pt.sibling,sn=Pt.return;if(sL(Pt),Pt===Ye){fn=null;break}if(Mt!==null){Mt.return=sn,fn=Mt;break}fn=sn}}}var mn=G.alternate;if(mn!==null){var xn=mn.child;if(xn!==null){mn.child=null;do{var Gi=xn.sibling;xn.sibling=null,xn=Gi}while(xn!==null)}}fn=G}}if((G.subtreeFlags&2064)!==0&&se!==null)se.return=G,fn=se;else e:for(;fn!==null;){if(G=fn,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:ay(9,G,G.return)}var He=G.sibling;if(He!==null){He.return=G.return,fn=He;break e}fn=G.return}}var Re=h.current;for(fn=Re;fn!==null;){se=fn;var We=se.child;if((se.subtreeFlags&2064)!==0&&We!==null)We.return=se,fn=We;else e:for(se=Re;fn!==null;){if(_e=fn,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:j_(9,_e)}}catch(_n){Ri(_e,_e.return,_n)}if(_e===se){fn=null;break e}var zt=_e.sibling;if(zt!==null){zt.return=_e.return,fn=zt;break e}fn=_e.return}}if(Tr=j,Ya(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Tt,h)}catch{}N=!0}return N}finally{Rn=S,el.transition=g}}return!1}function _L(h,g,S){g=F(S,g),g=Ne(h,g,1),h=ti(h,g,1),g=ko(),h!==null&&(fr(h,1,g),ia(h,g))}function Ri(h,g,S){if(h.tag===3)_L(h,h,S);else for(;g!==null;){if(g.tag===3){_L(g,h,S);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(af===null||!af.has(N))){h=F(S,h),h=it(g,h,1),g=ti(g,h,1),h=ko(),g!==null&&(fr(g,1,h),ia(g,h));break}}g=g.return}}function mne(h,g,S){var N=h.pingCache;N!==null&&N.delete(g),g=ko(),h.pingedLanes|=h.suspendedLanes&S,Ds===h&&(Ys&S)===S&&(vs===4||vs===3&&(Ys&130023424)===Ys&&500>be()-SM?qh(h,0):wM|=S),ia(h,g)}function wL(h,g){g===0&&((h.mode&1)===0?g=1:(g=Xt,Xt<<=1,(Xt&130023424)===0&&(Xt=4194304)));var S=ko();h=Sa(h,g),h!==null&&(fr(h,g,S),ia(h,S))}function gne(h){var g=h.memoizedState,S=0;g!==null&&(S=g.retryLane),wL(h,S)}function vne(h,g){var S=0;switch(h.tag){case 13:var N=h.stateNode,j=h.memoizedState;j!==null&&(S=j.retryLane);break;case 19:N=h.stateNode;break;default:throw Error(t(314))}N!==null&&N.delete(g),wL(h,S)}var SL;SL=function(h,g,S){if(h!==null)if(h.memoizedProps!==g.pendingProps||Ws.current)tr=!0;else{if((h.lanes&S)===0&&(g.flags&128)===0)return tr=!1,ine(h,g,S);tr=(h.flags&131072)!==0}else tr=!1,Yr&&(g.flags&1048576)!==0&&Gv(g,$m,g.index);switch(g.lanes=0,g.tag){case 2:var N=g.type;k_(h,g),h=g.pendingProps;var j=Iu(g,fs.current);Bc(g,S),j=jh(null,g,N,h,j,S);var G=Jv();return g.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Is(N)?(G=!0,Ou(g)):G=!1,g.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Zn(g),j.updater=rg,g.stateNode=j,j._reactInternals=g,T(g,N,h,S),g=Yn(null,g,N,!0,G,S)):(g.tag=0,Yr&&G&&Vv(g),tn(null,g,j,S),g=g.child),g;case 16:N=g.elementType;e:{switch(k_(h,g),h=g.pendingProps,j=N._init,N=j(N._payload),g.type=N,j=g.tag=xne(N),h=na(N,h),j){case 0:g=Jt(null,g,N,h,S);break e;case 1:g=bn(null,g,N,h,S);break e;case 11:g=gs(null,g,N,h,S);break e;case 14:g=Bo(null,g,N,na(N.type,h),S);break e}throw Error(t(306,N,""))}return g;case 0:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),Jt(h,g,N,j,S);case 1:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),bn(h,g,N,j,S);case 3:e:{if(qn(g),h===null)throw Error(t(387));N=g.pendingProps,G=g.memoizedState,j=G.element,bi(h,g),hi(g,N,null,S);var se=g.memoizedState;if(N=se.element,G.isDehydrated)if(G={element:N,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},g.updateQueue.baseState=G,g.memoizedState=G,g.flags&256){j=F(Error(t(423)),g),g=br(h,g,N,S,j);break e}else if(N!==j){j=F(Error(t(424)),g),g=br(h,g,N,S,j);break e}else for(qs=Nl(g.stateNode.containerInfo.firstChild),hs=g,Yr=!0,ta=null,S=Oh(g,null,N,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Dc(),N===j){g=$u(h,g,S);break e}tn(h,g,N,S)}g=g.child}return g;case 5:return Hu(g),h===null&&Xm(g),N=g.type,j=g.pendingProps,G=h!==null?h.memoizedProps:null,se=j.children,Bv(N,j)?se=null:G!==null&&Bv(N,G)&&(g.flags|=32),nt(h,g),tn(h,g,se,S),g.child;case 6:return h===null&&Xm(g),null;case 13:return Gl(h,g,S);case 4:return kh(g,g.stateNode.containerInfo),N=g.pendingProps,h===null?g.child=Bu(g,null,N,S):tn(h,g,N,S),g.child;case 11:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),gs(h,g,N,j,S);case 7:return tn(h,g,g.pendingProps,S),g.child;case 8:return tn(h,g,g.pendingProps.children,S),g.child;case 12:return tn(h,g,g.pendingProps.children,S),g.child;case 10:e:{if(N=g.type._context,j=g.pendingProps,G=g.memoizedProps,se=j.value,Hr(ku,N._currentValue),N._currentValue=se,G!==null)if(Po(G.value,se)){if(G.children===j.children&&!Ws.current){g=$u(h,g,S);break e}}else for(G=g.child,G!==null&&(G.return=g);G!==null;){var _e=G.dependencies;if(_e!==null){se=G.child;for(var Me=_e.firstContext;Me!==null;){if(Me.context===N){if(G.tag===1){Me=kr(-1,S&-S),Me.tag=2;var Ye=G.updateQueue;if(Ye!==null){Ye=Ye.shared;var Pt=Ye.pending;Pt===null?Me.next=Me:(Me.next=Pt.next,Pt.next=Me),Ye.pending=Me}}G.lanes|=S,Me=G.alternate,Me!==null&&(Me.lanes|=S),Dh(G.return,S,g),_e.lanes|=S;break}Me=Me.next}}else if(G.tag===10)se=G.type===g.type?null:G.child;else if(G.tag===18){if(se=G.return,se===null)throw Error(t(341));se.lanes|=S,_e=se.alternate,_e!==null&&(_e.lanes|=S),Dh(se,S,g),se=G.sibling}else se=G.child;if(se!==null)se.return=G;else for(se=G;se!==null;){if(se===g){se=null;break}if(G=se.sibling,G!==null){G.return=se.return,se=G;break}se=se.return}G=se}tn(h,g,j.children,S),g=g.child}return g;case 9:return j=g.type,N=g.pendingProps.children,Bc(g,S),j=Io(j),N=N(j),g.flags|=1,tn(h,g,N,S),g.child;case 14:return N=g.type,j=na(N,g.pendingProps),j=na(N.type,j),Bo(h,g,N,j,S);case 15:return $e(h,g,g.type,g.pendingProps,S);case 17:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:na(N,j),k_(h,g),g.tag=1,Is(N)?(h=!0,Ou(g)):h=!1,Bc(g,S),x(g,N,j),T(g,N,j,S),Yn(null,g,N,!0,h,S);case 19:return eL(h,g,S);case 22:return Oe(h,g,S)}throw Error(t(156,g.tag))};function AL(h,g){return At(h,g)}function yne(h,g,S,N){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tl(h,g,S,N){return new yne(h,g,S,N)}function NM(h){return h=h.prototype,!(!h||!h.isReactComponent)}function xne(h){if(typeof h=="function")return NM(h)?1:0;if(h!=null){if(h=h.$$typeof,h===W)return 11;if(h===ne)return 14}return 2}function df(h,g){var S=h.alternate;return S===null?(S=tl(h.tag,g,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=g,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,g=h.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function X_(h,g,S,N,j,G){var se=2;if(N=h,typeof h=="function")NM(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case O:return Kh(S.children,j,G,g);case k:se=8,j|=8;break;case D:return h=tl(12,S,g,j|2),h.elementType=D,h.lanes=G,h;case q:return h=tl(13,S,g,j),h.elementType=q,h.lanes=G,h;case K:return h=tl(19,S,g,j),h.elementType=K,h.lanes=G,h;case ee:return K_(S,j,G,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:se=10;break e;case L:se=9;break e;case W:se=11;break e;case ne:se=14;break e;case V:se=16,N=null;break e}throw Error(t(130,h==null?h:typeof h,""))}return g=tl(se,S,g,j),g.elementType=h,g.type=N,g.lanes=G,g}function Kh(h,g,S,N){return h=tl(7,h,N,g),h.lanes=S,h}function K_(h,g,S,N){return h=tl(22,h,N,g),h.elementType=ee,h.lanes=S,h.stateNode={isHidden:!1},h}function IM(h,g,S){return h=tl(6,h,null,g),h.lanes=S,h}function OM(h,g,S){return g=tl(4,h.children!==null?h.children:[],h.key,g),g.lanes=S,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function bne(h,g,S,N,j){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dr(0),this.expirationTimes=dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.identifierPrefix=N,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function FM(h,g,S,N,j,G,se,_e,Me){return h=new bne(h,g,S,_e,Me),g===1?(g=1,G===!0&&(g|=8)):g=0,G=tl(3,null,null,g),h.current=G,G.stateNode=h,G.memoizedState={element:N,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zn(G),h}function _ne(h,g,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:N==null?null:""+N,children:h,containerInfo:g,implementation:S}}function EL(h){if(!h)return Ol;h=h._reactInternals;e:{if(oe(h)!==h||h.tag!==1)throw Error(t(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Is(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(t(171))}if(h.tag===1){var S=h.type;if(Is(S))return Th(h,S,g)}return g}function CL(h,g,S,N,j,G,se,_e,Me){return h=FM(S,N,!0,h,j,G,se,_e,Me),h.context=EL(null),S=h.current,N=ko(),j=cf(S),G=kr(N,j),G.callback=g??null,ti(S,G,j),h.current.lanes=j,fr(h,j,N),ia(h,N),h}function Y_(h,g,S,N){var j=g.current,G=ko(),se=cf(j);return S=EL(S),g.context===null?g.context=S:g.pendingContext=S,g=kr(G,se),g.payload={element:h},N=N===void 0?null:N,N!==null&&(g.callback=N),h=ti(j,g,se),h!==null&&($l(h,j,se,G),Os(h,j,se)),se}function J_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function ML(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<g?S:g}}function DM(h,g){ML(h,g),(h=h.alternate)&&ML(h,g)}function wne(){return null}var TL=typeof reportError=="function"?reportError:function(h){console.error(h)};function BM(h){this._internalRoot=h}Z_.prototype.render=BM.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(t(409));Y_(h,g,null,null)},Z_.prototype.unmount=BM.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;$h(function(){Y_(null,h,null,null)}),g[No]=null}};function Z_(h){this._internalRoot=h}Z_.prototype.unstable_scheduleHydration=function(h){if(h){var g=za();h={blockedOn:null,target:h,priority:g};for(var S=0;S<Ha.length&&g!==0&&g<Ha[S].priority;S++);Ha.splice(S,0,h),S===0&&Va(h)}};function kM(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Q_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function PL(){}function Sne(h,g,S,N,j){if(j){if(typeof N=="function"){var G=N;N=function(){var Ye=J_(se);G.call(Ye)}}var se=CL(g,N,h,0,null,!1,!1,"",PL);return h._reactRootContainer=se,h[No]=se.current,Xd(h.nodeType===8?h.parentNode:h),$h(),se}for(;j=h.lastChild;)h.removeChild(j);if(typeof N=="function"){var _e=N;N=function(){var Ye=J_(Me);_e.call(Ye)}}var Me=FM(h,0,!1,null,null,!1,!1,"",PL);return h._reactRootContainer=Me,h[No]=Me.current,Xd(h.nodeType===8?h.parentNode:h),$h(function(){Y_(g,Me,S,N)}),Me}function e1(h,g,S,N,j){var G=S._reactRootContainer;if(G){var se=G;if(typeof j=="function"){var _e=j;j=function(){var Me=J_(se);_e.call(Me)}}Y_(g,se,h,j)}else se=Sne(S,g,h,j,N);return J_(se)}Ki=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var S=Bn(g.pendingLanes);S!==0&&(ei(g,S|1),ia(g,be()),(Tr&6)===0&&(og=be()+500,Ya()))}break;case 13:$h(function(){var N=Sa(h,1);if(N!==null){var j=ko();$l(N,h,1,j)}}),DM(h,1)}},Id=function(h){if(h.tag===13){var g=Sa(h,134217728);if(g!==null){var S=ko();$l(g,h,134217728,S)}DM(h,134217728)}},ph=function(h){if(h.tag===13){var g=cf(h),S=Sa(h,g);if(S!==null){var N=ko();$l(S,h,g,N)}DM(h,g)}},za=function(){return Rn},Od=function(h,g){var S=Rn;try{return Rn=h,g()}finally{Rn=S}},Be=function(h,g,S){switch(g){case"input":if(at(h,S),g=S.name,S.type==="radio"&&g!=null){for(S=h;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var N=S[g];if(N!==h&&N.form===h.form){var j=Gm(N);if(!j)throw Error(t(90));Ue(N),at(N,j)}}}break;case"textarea":ie(h,S);break;case"select":g=S.value,g!=null&&Ct(h,!!S.multiple,g,!1)}},qt=TM,wn=$h;var Ane={usingClientEntryPoint:!1,Events:[Il,xi,Gm,ze,wt,TM]},dy={findFiberByHostInstance:Fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ene={bundleType:dy.bundleType,version:dy.version,rendererPackageName:dy.rendererPackageName,rendererConfig:dy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Qe(h),h===null?null:h.stateNode},findFiberByHostInstance:dy.findFiberByHostInstance||wne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t1.isDisabled&&t1.supportsFiber)try{Tt=t1.inject(Ene),vt=t1}catch{}}return sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ane,sa.createPortal=function(h,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kM(g))throw Error(t(200));return _ne(h,g,null,S)},sa.createRoot=function(h,g){if(!kM(h))throw Error(t(299));var S=!1,N="",j=TL;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(j=g.onRecoverableError)),g=FM(h,1,!1,null,null,S,!1,N,j),h[No]=g.current,Xd(h.nodeType===8?h.parentNode:h),new BM(g)},sa.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(t(188)):(h=Object.keys(h).join(","),Error(t(268,h)));return h=Qe(g),h=h===null?null:h.stateNode,h},sa.flushSync=function(h){return $h(h)},sa.hydrate=function(h,g,S){if(!Q_(g))throw Error(t(200));return e1(null,h,g,!0,S)},sa.hydrateRoot=function(h,g,S){if(!kM(h))throw Error(t(405));var N=S!=null&&S.hydratedSources||null,j=!1,G="",se=TL;if(S!=null&&(S.unstable_strictMode===!0&&(j=!0),S.identifierPrefix!==void 0&&(G=S.identifierPrefix),S.onRecoverableError!==void 0&&(se=S.onRecoverableError)),g=CL(g,null,h,1,S??null,j,!1,G,se),h[No]=g.current,Xd(h),N)for(h=0;h<N.length;h++)S=N[h],j=S._getVersion,j=j(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,j]:g.mutableSourceEagerHydrationData.push(S,j);return new Z_(g)},sa.render=function(h,g,S){if(!Q_(g))throw Error(t(200));return e1(null,h,g,!1,S)},sa.unmountComponentAtNode=function(h){if(!Q_(h))throw Error(t(40));return h._reactRootContainer?($h(function(){e1(null,null,h,!1,function(){h._reactRootContainer=null,h[No]=null})}),!0):!1},sa.unstable_batchedUpdates=TM,sa.unstable_renderSubtreeIntoContainer=function(h,g,S,N){if(!Q_(S))throw Error(t(200));if(h==null||h._reactInternals===void 0)throw Error(t(38));return e1(h,g,S,!1,N)},sa.version="18.3.1-next-f1338f8080-20240426",sa}var kL;function F7(){if(kL)return UM.exports;kL=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),UM.exports=One(),UM.exports}var LL;function Fne(){if(LL)return n1;LL=1;var n=F7();return n1.createRoot=n.createRoot,n1.hydrateRoot=n.hydrateRoot,n1}var Dne=Fne();const Bne=zr(Dne);var Ib=F7();const D7=zr(Ib);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _x(){return _x=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_x.apply(this,arguments)}var If;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(If||(If={}));const jL="popstate";function kne(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return j3("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:k7(i)}return jne(e,t,null,n)}function cs(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function B7(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lne(){return Math.random().toString(36).substr(2,8)}function UL(n,e){return{usr:n.state,key:n.key,idx:e}}function j3(n,e,t,r){return t===void 0&&(t=null),_x({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?rv(e):e,{state:t,key:e&&e.key||r||Lne()})}function k7(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function jne(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=If.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(_x({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){a=If.Pop;let y=d(),w=y==null?null:y-u;u=y,l&&l({action:a,location:b.location,delta:w})}function f(y,w){a=If.Push;let A=j3(b.location,y,w);u=d()+1;let E=UL(A,u),C=b.createHref(A);try{o.pushState(E,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(C)}s&&l&&l({action:a,location:b.location,delta:1})}function m(y,w){a=If.Replace;let A=j3(b.location,y,w);u=d();let E=UL(A,u),C=b.createHref(A);o.replaceState(E,"",C),s&&l&&l({action:a,location:b.location,delta:0})}function v(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof y=="string"?y:k7(y);return A=A.replace(/ $/,"%20"),cs(w,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,w)}let b={get action(){return a},get location(){return n(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jL,c),l=y,()=>{i.removeEventListener(jL,c),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let w=v(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(y){return o.go(y)}};return b}var zL;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(zL||(zL={}));function Une(n,e,t){return t===void 0&&(t="/"),zne(n,e,t)}function zne(n,e,t,r){let i=typeof e=="string"?rv(e):e,s=U7(i.pathname||"/",t);if(s==null)return null;let o=L7(n);Hne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ere(s);a=Jne(o[l],u)}return a}function L7(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(cs(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=kp([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(cs(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L7(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Kne(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of j7(s.path))i(s,o,l)}),e}function j7(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=j7(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Hne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Gne=/^:[\w-]+$/,Vne=3,Wne=2,$ne=1,qne=10,Xne=-2,HL=n=>n==="*";function Kne(n,e){let t=n.split("/"),r=t.length;return t.some(HL)&&(r+=Xne),e&&(r+=Wne),t.filter(i=>!HL(i)).reduce((i,s)=>i+(Gne.test(s)?Vne:s===""?$ne:qne),r)}function Yne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Jne(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",c=Zne({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:kp([s,c.pathname]),pathnameBase:ire(kp([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=kp([s,c.pathnameBase]))}return o}function Zne(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Qne(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let b=a[c]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[c];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function Qne(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),B7(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ere(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return B7(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function U7(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tre(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?rv(n):n;return{pathname:t?t.startsWith("/")?t:nre(t,e):e,search:sre(r),hash:ore(i)}}function nre(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function GM(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function z7(n,e){let t=rre(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function H7(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=rv(n):(i=_x({},n),cs(!i.pathname||!i.pathname.includes("?"),GM("?","pathname","search",i)),cs(!i.pathname||!i.pathname.includes("#"),GM("#","pathname","hash",i)),cs(!i.search||!i.search.includes("#"),GM("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let c=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=tre(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const kp=n=>n.join("/").replace(/\/\/+/g,"/"),ire=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ore=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function are(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const G7=["post","put","patch","delete"];new Set(G7);const lre=["get",...G7];new Set(lre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wx(){return wx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wx.apply(this,arguments)}const CF=B.createContext(null),cre=B.createContext(null),Ob=B.createContext(null),oE=B.createContext(null),fm=B.createContext({outlet:null,matches:[],isDataRoute:!1}),V7=B.createContext(null);function Fb(){return B.useContext(oE)!=null}function hm(){return Fb()||cs(!1),B.useContext(oE).location}function W7(n){B.useContext(Ob).static||B.useLayoutEffect(n)}function Td(){let{isDataRoute:n}=B.useContext(fm);return n?wre():ure()}function ure(){Fb()||cs(!1);let n=B.useContext(CF),{basename:e,future:t,navigator:r}=B.useContext(Ob),{matches:i}=B.useContext(fm),{pathname:s}=hm(),o=JSON.stringify(z7(i,t.v7_relativeSplatPath)),a=B.useRef(!1);return W7(()=>{a.current=!0}),B.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let c=H7(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:kp([e,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[e,r,o,s,n])}function dre(n,e){return fre(n,e)}function fre(n,e,t,r){Fb()||cs(!1);let{navigator:i}=B.useContext(Ob),{matches:s}=B.useContext(fm),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hm(),d;if(e){var c;let y=typeof e=="string"?rv(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||cs(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Une(n,{pathname:m}),b=vre(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:kp([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:kp([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r);return e&&b?B.createElement(oE.Provider,{value:{location:wx({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:If.Pop}},b):b}function hre(){let n=_re(),e=are(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:i},t):null,null)}const pre=B.createElement(hre,null);class mre extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(fm.Provider,{value:this.props.routeContext},B.createElement(V7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gre(n){let{routeContext:e,match:t,children:r}=n,i=B.useContext(CF);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(fm.Provider,{value:e},r)}function vre(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(c=>c.route.id&&a?.[c.route.id]!==void 0);d>=0||cs(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:m}=t,v=c.route.loader&&f[c.route.id]===void 0&&(!m||m[c.route.id]===void 0);if(c.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,f)=>{let m,v=!1,b=null,y=null;t&&(m=a&&c.route.id?a[c.route.id]:void 0,b=c.route.errorElement||pre,l&&(u<0&&f===0?(Sre("route-fallback"),v=!0,y=null):u===f&&(v=!0,y=c.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),A=()=>{let E;return m?E=b:v?E=y:c.route.Component?E=B.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=d,B.createElement(gre,{match:c,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:E})};return t&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?B.createElement(mre,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):A()},null)}var $7=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})($7||{}),q7=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(q7||{});function yre(n){let e=B.useContext(CF);return e||cs(!1),e}function xre(n){let e=B.useContext(cre);return e||cs(!1),e}function bre(n){let e=B.useContext(fm);return e||cs(!1),e}function X7(n){let e=bre(),t=e.matches[e.matches.length-1];return t.route.id||cs(!1),t.route.id}function _re(){var n;let e=B.useContext(V7),t=xre(),r=X7();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function wre(){let{router:n}=yre($7.UseNavigateStable),e=X7(q7.UseNavigateStable),t=B.useRef(!1);return W7(()=>{t.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,wx({fromRouteId:e},s)))},[n,e])}const GL={};function Sre(n,e,t){GL[n]||(GL[n]=!0)}function Are(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function K7(n){let{to:e,replace:t,state:r,relative:i}=n;Fb()||cs(!1);let{future:s,static:o}=B.useContext(Ob),{matches:a}=B.useContext(fm),{pathname:l}=hm(),u=Td(),d=H7(e,z7(a,s.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(d);return B.useEffect(()=>u(JSON.parse(c),{replace:t,state:r,relative:i}),[u,c,i,t,r]),null}function Nw(n){cs(!1)}function Ere(n){let{basename:e="/",children:t=null,location:r,navigationType:i=If.Pop,navigator:s,static:o=!1,future:a}=n;Fb()&&cs(!1);let l=e.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:s,static:o,future:wx({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=rv(r));let{pathname:d="/",search:c="",hash:f="",state:m=null,key:v="default"}=r,b=B.useMemo(()=>{let y=U7(d,l);return y==null?null:{location:{pathname:y,search:c,hash:f,state:m,key:v},navigationType:i}},[l,d,c,f,m,v,i]);return b==null?null:B.createElement(Ob.Provider,{value:u},B.createElement(oE.Provider,{children:t,value:b}))}function Cre(n){let{children:e,location:t}=n;return dre(U3(e),t)}new Promise(()=>{});function U3(n,e){e===void 0&&(e=[]);let t=[];return B.Children.forEach(n,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){t.push.apply(t,U3(r.props.children,s));return}r.type!==Nw&&cs(!1),!r.props.index||!r.props.children||cs(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=U3(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mre="6";try{window.__reactRouterVersion=Mre}catch{}const Tre="startTransition",VL=EF[Tre];function Pre(n){let{basename:e,children:t,future:r,window:i}=n,s=B.useRef();s.current==null&&(s.current=kne({window:i,v5Compat:!0}));let o=s.current,[a,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=B.useCallback(c=>{u&&VL?VL(()=>l(c)):l(c)},[l,u]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.useEffect(()=>Are(r),[r]),B.createElement(Ere,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var WL;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(WL||(WL={}));var $L;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($L||($L={}));function Y7(n,e){return function(){return n.apply(e,arguments)}}const{toString:Rre}=Object.prototype,{getPrototypeOf:MF}=Object,{iterator:aE,toStringTag:J7}=Symbol,lE=(n=>e=>{const t=Rre.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pc=n=>(n=n.toLowerCase(),e=>lE(e)===n),cE=n=>e=>typeof e===n,{isArray:iv}=Array,f0=cE("undefined");function Db(n){return n!==null&&!f0(n)&&n.constructor!==null&&!f0(n.constructor)&&ha(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Z7=pc("ArrayBuffer");function Nre(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Z7(n.buffer),e}const Ire=cE("string"),ha=cE("function"),Q7=cE("number"),Bb=n=>n!==null&&typeof n=="object",Ore=n=>n===!0||n===!1,Iw=n=>{if(lE(n)!=="object")return!1;const e=MF(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(J7 in n)&&!(aE in n)},Fre=n=>{if(!Bb(n)||Db(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Dre=pc("Date"),Bre=pc("File"),kre=pc("Blob"),Lre=pc("FileList"),jre=n=>Bb(n)&&ha(n.pipe),Ure=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ha(n.append)&&((e=lE(n))==="formdata"||e==="object"&&ha(n.toString)&&n.toString()==="[object FormData]"))},zre=pc("URLSearchParams"),[Hre,Gre,Vre,Wre]=["ReadableStream","Request","Response","Headers"].map(pc),$re=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kb(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),iv(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Db(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function eW(n,e){if(Db(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const wp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tW=n=>!f0(n)&&n!==wp;function z3(){const{caseless:n,skipUndefined:e}=tW(this)&&this||{},t={},r=(i,s)=>{const o=n&&eW(t,s)||s;Iw(t[o])&&Iw(i)?t[o]=z3(t[o],i):Iw(i)?t[o]=z3({},i):iv(i)?t[o]=i.slice():(!e||!f0(i))&&(t[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&kb(arguments[i],r);return t}const qre=(n,e,t,{allOwnKeys:r}={})=>(kb(e,(i,s)=>{t&&ha(i)?n[s]=Y7(i,t):n[s]=i},{allOwnKeys:r}),n),Xre=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Kre=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Yre=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&MF(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Jre=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Zre=n=>{if(!n)return null;if(iv(n))return n;let e=n.length;if(!Q7(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Qre=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&MF(Uint8Array)),eie=(n,e)=>{const r=(n&&n[aE]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},tie=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},nie=pc("HTMLFormElement"),rie=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),qL=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),iie=pc("RegExp"),nW=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};kb(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},sie=n=>{nW(n,(e,t)=>{if(ha(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ha(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},oie=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return iv(n)?r(n):r(String(n).split(e)),t},aie=()=>{},lie=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function cie(n){return!!(n&&ha(n.append)&&n[J7]==="FormData"&&n[aE])}const uie=n=>{const e=new Array(10),t=(r,i)=>{if(Bb(r)){if(e.indexOf(r)>=0)return;if(Db(r))return r;if(!("toJSON"in r)){e[i]=r;const s=iv(r)?[]:{};return kb(r,(o,a)=>{const l=t(o,i+1);!f0(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},die=pc("AsyncFunction"),fie=n=>n&&(Bb(n)||ha(n))&&ha(n.then)&&ha(n.catch),rW=((n,e)=>n?setImmediate:e?((t,r)=>(wp.addEventListener("message",({source:i,data:s})=>{i===wp&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),wp.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ha(wp.postMessage)),hie=typeof queueMicrotask<"u"?queueMicrotask.bind(wp):typeof process<"u"&&process.nextTick||rW,pie=n=>n!=null&&ha(n[aE]),Ze={isArray:iv,isArrayBuffer:Z7,isBuffer:Db,isFormData:Ure,isArrayBufferView:Nre,isString:Ire,isNumber:Q7,isBoolean:Ore,isObject:Bb,isPlainObject:Iw,isEmptyObject:Fre,isReadableStream:Hre,isRequest:Gre,isResponse:Vre,isHeaders:Wre,isUndefined:f0,isDate:Dre,isFile:Bre,isBlob:kre,isRegExp:iie,isFunction:ha,isStream:jre,isURLSearchParams:zre,isTypedArray:Qre,isFileList:Lre,forEach:kb,merge:z3,extend:qre,trim:$re,stripBOM:Xre,inherits:Kre,toFlatObject:Yre,kindOf:lE,kindOfTest:pc,endsWith:Jre,toArray:Zre,forEachEntry:eie,matchAll:tie,isHTMLForm:nie,hasOwnProperty:qL,hasOwnProp:qL,reduceDescriptors:nW,freezeMethods:sie,toObjectSet:oie,toCamelCase:rie,noop:aie,toFiniteNumber:lie,findKey:eW,global:wp,isContextDefined:tW,isSpecCompliantForm:cie,toJSONObject:uie,isAsyncFn:die,isThenable:fie,setImmediate:rW,asap:hie,isIterable:pie};function ir(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ze.inherits(ir,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ze.toJSONObject(this.config),code:this.code,status:this.status}}});const iW=ir.prototype,sW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sW[n]={value:n}});Object.defineProperties(ir,sW);Object.defineProperty(iW,"isAxiosError",{value:!0});ir.from=(n,e,t,r,i,s)=>{const o=Object.create(iW);Ze.toFlatObject(n,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return ir.call(o,a,l,t,r,i),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",s&&Object.assign(o,s),o};const mie=null;function H3(n){return Ze.isPlainObject(n)||Ze.isArray(n)}function oW(n){return Ze.endsWith(n,"[]")?n.slice(0,-2):n}function XL(n,e,t){return n?n.concat(e).map(function(i,s){return i=oW(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function gie(n){return Ze.isArray(n)&&!n.some(H3)}const vie=Ze.toFlatObject(Ze,{},null,function(e){return/^is[A-Z]/.test(e)});function uE(n,e,t){if(!Ze.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ze.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Ze.isUndefined(y[b])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Ze.isSpecCompliantForm(e);if(!Ze.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Ze.isDate(v))return v.toISOString();if(Ze.isBoolean(v))return v.toString();if(!l&&Ze.isBlob(v))throw new ir("Blob is not supported. Use a Buffer instead.");return Ze.isArrayBuffer(v)||Ze.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,b,y){let w=v;if(v&&!y&&typeof v=="object"){if(Ze.endsWith(b,"{}"))b=r?b:b.slice(0,-2),v=JSON.stringify(v);else if(Ze.isArray(v)&&gie(v)||(Ze.isFileList(v)||Ze.endsWith(b,"[]"))&&(w=Ze.toArray(v)))return b=oW(b),w.forEach(function(E,C){!(Ze.isUndefined(E)||E===null)&&e.append(o===!0?XL([b],C,s):o===null?b:b+"[]",u(E))}),!1}return H3(v)?!0:(e.append(XL(y,b,s),u(v)),!1)}const c=[],f=Object.assign(vie,{defaultVisitor:d,convertValue:u,isVisitable:H3});function m(v,b){if(!Ze.isUndefined(v)){if(c.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));c.push(v),Ze.forEach(v,function(w,A){(!(Ze.isUndefined(w)||w===null)&&i.call(e,w,Ze.isString(A)?A.trim():A,b,f))===!0&&m(w,b?b.concat(A):[A])}),c.pop()}}if(!Ze.isObject(n))throw new TypeError("data must be an object");return m(n),e}function KL(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function TF(n,e){this._pairs=[],n&&uE(n,this,e)}const aW=TF.prototype;aW.append=function(e,t){this._pairs.push([e,t])};aW.toString=function(e){const t=e?function(r){return e.call(this,r,KL)}:KL;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function yie(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lW(n,e,t){if(!e)return n;const r=t&&t.encode||yie;Ze.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=Ze.isURLSearchParams(e)?e.toString():new TF(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class YL{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ze.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xie=typeof URLSearchParams<"u"?URLSearchParams:TF,bie=typeof FormData<"u"?FormData:null,_ie=typeof Blob<"u"?Blob:null,wie={isBrowser:!0,classes:{URLSearchParams:xie,FormData:bie,Blob:_ie},protocols:["http","https","file","blob","url","data"]},PF=typeof window<"u"&&typeof document<"u",G3=typeof navigator=="object"&&navigator||void 0,Sie=PF&&(!G3||["ReactNative","NativeScript","NS"].indexOf(G3.product)<0),Aie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Eie=PF&&window.location.href||"http://localhost",Cie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PF,hasStandardBrowserEnv:Sie,hasStandardBrowserWebWorkerEnv:Aie,navigator:G3,origin:Eie},Symbol.toStringTag,{value:"Module"})),wo={...Cie,...wie};function Mie(n,e){return uE(n,new wo.classes.URLSearchParams,{visitor:function(t,r,i,s){return wo.isNode&&Ze.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Tie(n){return Ze.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Pie(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function uW(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Ze.isArray(i)?i.length:o,l?(Ze.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ze.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Ze.isArray(i[o])&&(i[o]=Pie(i[o])),!a)}if(Ze.isFormData(n)&&Ze.isFunction(n.entries)){const t={};return Ze.forEachEntry(n,(r,i)=>{e(Tie(r),i,t,0)}),t}return null}function Rie(n,e,t){if(Ze.isString(n))try{return(e||JSON.parse)(n),Ze.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Lb={transitional:cW,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ze.isObject(e);if(s&&Ze.isHTMLForm(e)&&(e=new FormData(e)),Ze.isFormData(e))return i?JSON.stringify(uW(e)):e;if(Ze.isArrayBuffer(e)||Ze.isBuffer(e)||Ze.isStream(e)||Ze.isFile(e)||Ze.isBlob(e)||Ze.isReadableStream(e))return e;if(Ze.isArrayBufferView(e))return e.buffer;if(Ze.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Mie(e,this.formSerializer).toString();if((a=Ze.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return uE(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),Rie(e)):e}],transformResponse:[function(e){const t=this.transitional||Lb.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ze.isResponse(e)||Ze.isReadableStream(e))return e;if(e&&Ze.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ir.from(a,ir.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wo.classes.FormData,Blob:wo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ze.forEach(["delete","get","head","post","put","patch"],n=>{Lb.headers[n]={}});const Nie=Ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Iie=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&Nie[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},JL=Symbol("internals");function hy(n){return n&&String(n).trim().toLowerCase()}function Ow(n){return n===!1||n==null?n:Ze.isArray(n)?n.map(Ow):String(n)}function Oie(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Fie=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function VM(n,e,t,r,i){if(Ze.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ze.isString(e)){if(Ze.isString(r))return e.indexOf(r)!==-1;if(Ze.isRegExp(r))return r.test(e)}}function Die(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Bie(n,e){const t=Ze.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let pa=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const d=hy(l);if(!d)throw new Error("header name must be a non-empty string");const c=Ze.findKey(i,d);(!c||i[c]===void 0||u===!0||u===void 0&&i[c]!==!1)&&(i[c||l]=Ow(a))}const o=(a,l)=>Ze.forEach(a,(u,d)=>s(u,d,l));if(Ze.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ze.isString(e)&&(e=e.trim())&&!Fie(e))o(Iie(e),t);else if(Ze.isObject(e)&&Ze.isIterable(e)){let a={},l,u;for(const d of e){if(!Ze.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?Ze.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=hy(e),e){const r=Ze.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Oie(i);if(Ze.isFunction(t))return t.call(this,i,r);if(Ze.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=hy(e),e){const r=Ze.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||VM(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=hy(o),o){const a=Ze.findKey(r,o);a&&(!t||VM(r,r[a],a,t))&&(delete r[a],i=!0)}}return Ze.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||VM(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Ze.forEach(this,(i,s)=>{const o=Ze.findKey(r,s);if(o){t[o]=Ow(i),delete t[s];return}const a=e?Die(s):String(s).trim();a!==s&&delete t[s],t[a]=Ow(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ze.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ze.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[JL]=this[JL]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=hy(o);r[a]||(Bie(i,o),r[a]=!0)}return Ze.isArray(e)?e.forEach(s):s(e),this}};pa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ze.reduceDescriptors(pa.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ze.freezeMethods(pa);function WM(n,e){const t=this||Lb,r=e||t,i=pa.from(r.headers);let s=r.data;return Ze.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function dW(n){return!!(n&&n.__CANCEL__)}function sv(n,e,t){ir.call(this,n??"canceled",ir.ERR_CANCELED,e,t),this.name="CanceledError"}Ze.inherits(sv,ir,{__CANCEL__:!0});function fW(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ir("Request failed with status code "+t.status,[ir.ERR_BAD_REQUEST,ir.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function kie(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Lie(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),t[i]=l,r[i]=u;let c=s,f=0;for(;c!==i;)f+=t[c++],c=c%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function jie(n,e){let t=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n(...u)};return[(...u)=>{const d=Date.now(),c=d-t;c>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-c)))},()=>i&&o(i)]}const Jw=(n,e,t=3)=>{let r=0;const i=Lie(50,250);return jie(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(c)},t)},ZL=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},QL=n=>(...e)=>Ze.asap(()=>n(...e)),Uie=wo.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,wo.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(wo.origin),wo.navigator&&/(msie|trident)/i.test(wo.navigator.userAgent)):()=>!0,zie=wo.hasStandardBrowserEnv?{write(n,e,t,r,i,s,o){if(typeof document>"u")return;const a=[`${n}=${encodeURIComponent(e)}`];Ze.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),Ze.isString(r)&&a.push(`path=${r}`),Ze.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),Ze.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Hie(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Gie(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function hW(n,e,t){let r=!Hie(e);return n&&(r||t==!1)?Gie(n,e):e}const ej=n=>n instanceof pa?{...n}:n;function Kp(n,e){e=e||{};const t={};function r(u,d,c,f){return Ze.isPlainObject(u)&&Ze.isPlainObject(d)?Ze.merge.call({caseless:f},u,d):Ze.isPlainObject(d)?Ze.merge({},d):Ze.isArray(d)?d.slice():d}function i(u,d,c,f){if(Ze.isUndefined(d)){if(!Ze.isUndefined(u))return r(void 0,u,c,f)}else return r(u,d,c,f)}function s(u,d){if(!Ze.isUndefined(d))return r(void 0,d)}function o(u,d){if(Ze.isUndefined(d)){if(!Ze.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,c){if(c in e)return r(u,d);if(c in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,c)=>i(ej(u),ej(d),c,!0)};return Ze.forEach(Object.keys({...n,...e}),function(d){const c=l[d]||i,f=c(n[d],e[d],d);Ze.isUndefined(f)&&c!==a||(t[d]=f)}),t}const pW=n=>{const e=Kp({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=pa.from(o),e.url=lW(hW(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Ze.isFormData(t)){if(wo.hasStandardBrowserEnv||wo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ze.isFunction(t.getHeaders)){const l=t.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,c])=>{u.includes(d.toLowerCase())&&o.set(d,c)})}}if(wo.hasStandardBrowserEnv&&(r&&Ze.isFunction(r)&&(r=r(e)),r||r!==!1&&Uie(e.url))){const l=i&&s&&zie.read(s);l&&o.set(i,l)}return e},Vie=typeof XMLHttpRequest<"u",Wie=Vie&&function(n){return new Promise(function(t,r){const i=pW(n);let s=i.data;const o=pa.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,c,f,m,v;function b(){m&&m(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const E=pa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:n,request:y};fW(function(O){t(O),b()},function(O){r(O),b()},M),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new ir("Request aborted",ir.ECONNABORTED,n,y)),y=null)},y.onerror=function(C){const M=C&&C.message?C.message:"Network Error",R=new ir(M,ir.ERR_NETWORK,n,y);R.event=C||null,r(R),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||cW;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new ir(C,M.clarifyTimeoutError?ir.ETIMEDOUT:ir.ECONNABORTED,n,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ze.forEach(o.toJSON(),function(C,M){y.setRequestHeader(M,C)}),Ze.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([f,v]=Jw(u,!0),y.addEventListener("progress",f)),l&&y.upload&&([c,m]=Jw(l),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=E=>{y&&(r(!E||E.type?new sv(null,n,y):E),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const A=kie(i.url);if(A&&wo.protocols.indexOf(A)===-1){r(new ir("Unsupported protocol "+A+":",ir.ERR_BAD_REQUEST,n));return}y.send(s||null)})},$ie=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ir?d:new sv(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ir(`timeout ${e} of ms exceeded`,ir.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Ze.asap(a),l}},qie=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Xie=async function*(n,e){for await(const t of Kie(n))yield*qie(t,e)},Kie=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},tj=(n,e,t,r)=>{const i=Xie(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let c=d.byteLength;if(t){let f=s+=c;t(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},nj=64*1024,{isFunction:r1}=Ze,Yie=(({Request:n,Response:e})=>({Request:n,Response:e}))(Ze.global),{ReadableStream:rj,TextEncoder:ij}=Ze.global,sj=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Jie=n=>{n=Ze.merge.call({skipUndefined:!0},Yie,n);const{fetch:e,Request:t,Response:r}=n,i=e?r1(e):typeof fetch=="function",s=r1(t),o=r1(r);if(!i)return!1;const a=i&&r1(rj),l=i&&(typeof ij=="function"?(v=>b=>v.encode(b))(new ij):async v=>new Uint8Array(await new t(v).arrayBuffer())),u=s&&a&&sj(()=>{let v=!1;const b=new t(wo.origin,{body:new rj,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!b}),d=o&&a&&sj(()=>Ze.isReadableStream(new r("").body)),c={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!c[v]&&(c[v]=(b,y)=>{let w=b&&b[v];if(w)return w.call(b);throw new ir(`Response type '${v}' is not supported`,ir.ERR_NOT_SUPPORT,y)})});const f=async v=>{if(v==null)return 0;if(Ze.isBlob(v))return v.size;if(Ze.isSpecCompliantForm(v))return(await new t(wo.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Ze.isArrayBufferView(v)||Ze.isArrayBuffer(v))return v.byteLength;if(Ze.isURLSearchParams(v)&&(v=v+""),Ze.isString(v))return(await l(v)).byteLength},m=async(v,b)=>{const y=Ze.toFiniteNumber(v.getContentLength());return y??f(b)};return async v=>{let{url:b,method:y,data:w,signal:A,cancelToken:E,timeout:C,onDownloadProgress:M,onUploadProgress:R,responseType:O,headers:k,withCredentials:D="same-origin",fetchOptions:I}=pW(v),L=e||fetch;O=O?(O+"").toLowerCase():"text";let W=$ie([A,E&&E.toAbortSignal()],C),q=null;const K=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let ne;try{if(R&&u&&y!=="get"&&y!=="head"&&(ne=await m(k,w))!==0){let Y=new t(b,{method:"POST",body:w,duplex:"half"}),ae;if(Ze.isFormData(w)&&(ae=Y.headers.get("content-type"))&&k.setContentType(ae),Y.body){const[we,Fe]=ZL(ne,Jw(QL(R)));w=tj(Y.body,nj,we,Fe)}}Ze.isString(D)||(D=D?"include":"omit");const V=s&&"credentials"in t.prototype,ee={...I,signal:W,method:y.toUpperCase(),headers:k.normalize().toJSON(),body:w,duplex:"half",credentials:V?D:void 0};q=s&&new t(b,ee);let H=await(s?L(q,I):L(b,ee));const Z=d&&(O==="stream"||O==="response");if(d&&(M||Z&&K)){const Y={};["status","statusText","headers"].forEach(qe=>{Y[qe]=H[qe]});const ae=Ze.toFiniteNumber(H.headers.get("content-length")),[we,Fe]=M&&ZL(ae,Jw(QL(M),!0))||[];H=new r(tj(H.body,nj,we,()=>{Fe&&Fe(),K&&K()}),Y)}O=O||"text";let te=await c[Ze.findKey(c,O)||"text"](H,v);return!Z&&K&&K(),await new Promise((Y,ae)=>{fW(Y,ae,{data:te,headers:pa.from(H.headers),status:H.status,statusText:H.statusText,config:v,request:q})})}catch(V){throw K&&K(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new ir("Network Error",ir.ERR_NETWORK,v,q),{cause:V.cause||V}):ir.from(V,V&&V.code,v,q)}}},Zie=new Map,mW=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:i}=e,s=[r,i,t];let o=s.length,a=o,l,u,d=Zie;for(;a--;)l=s[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:Jie(e)),d=u;return u};mW();const RF={http:mie,xhr:Wie,fetch:{get:mW}};Ze.forEach(RF,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const oj=n=>`- ${n}`,Qie=n=>Ze.isFunction(n)||n===null||n===!1;function ese(n,e){n=Ze.isArray(n)?n:[n];const{length:t}=n;let r,i;const s={};for(let o=0;o<t;o++){r=n[o];let a;if(i=r,!Qie(r)&&(i=RF[(a=String(r)).toLowerCase()],i===void 0))throw new ir(`Unknown adapter '${a}'`);if(i&&(Ze.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(oj).join(`
`):" "+oj(o[0]):"as no adapter specified";throw new ir("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const gW={getAdapter:ese,adapters:RF};function $M(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new sv(null,n)}function aj(n){return $M(n),n.headers=pa.from(n.headers),n.data=WM.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),gW.getAdapter(n.adapter||Lb.adapter,n)(n).then(function(r){return $M(n),r.data=WM.call(n,n.transformResponse,r),r.headers=pa.from(r.headers),r},function(r){return dW(r)||($M(n),r&&r.response&&(r.response.data=WM.call(n,n.transformResponse,r.response),r.response.headers=pa.from(r.response.headers))),Promise.reject(r)})}const vW="1.13.1",dE={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{dE[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const lj={};dE.transitional=function(e,t,r){function i(s,o){return"[Axios v"+vW+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ir(i(o," has been removed"+(t?" in "+t:"")),ir.ERR_DEPRECATED);return t&&!lj[o]&&(lj[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};dE.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function tse(n,e,t){if(typeof n!="object")throw new ir("options must be an object",ir.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new ir("option "+s+" must be "+l,ir.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ir("Unknown option "+s,ir.ERR_BAD_OPTION)}}const Fw={assertOptions:tse,validators:dE},Uc=Fw.validators;let Lp=class{constructor(e){this.defaults=e||{},this.interceptors={request:new YL,response:new YL}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Kp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Fw.assertOptions(r,{silentJSONParsing:Uc.transitional(Uc.boolean),forcedJSONParsing:Uc.transitional(Uc.boolean),clarifyTimeoutError:Uc.transitional(Uc.boolean)},!1),i!=null&&(Ze.isFunction(i)?t.paramsSerializer={serialize:i}:Fw.assertOptions(i,{encode:Uc.function,serialize:Uc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Fw.assertOptions(t,{baseUrl:Uc.spelling("baseURL"),withXsrfToken:Uc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Ze.merge(s.common,s[t.method]);s&&Ze.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=pa.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,c=0,f;if(!l){const v=[aj.bind(this),void 0];for(v.unshift(...a),v.push(...u),f=v.length,d=Promise.resolve(t);c<f;)d=d.then(v[c++],v[c++]);return d}f=a.length;let m=t;for(;c<f;){const v=a[c++],b=a[c++];try{m=v(m)}catch(y){b.call(this,y);break}}try{d=aj.call(this,m)}catch(v){return Promise.reject(v)}for(c=0,f=u.length;c<f;)d=d.then(u[c++],u[c++]);return d}getUri(e){e=Kp(this.defaults,e);const t=hW(e.baseURL,e.url,e.allowAbsoluteUrls);return lW(t,e.params,e.paramsSerializer)}};Ze.forEach(["delete","get","head","options"],function(e){Lp.prototype[e]=function(t,r){return this.request(Kp(r||{},{method:e,url:t,data:(r||{}).data}))}});Ze.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Kp(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Lp.prototype[e]=t(),Lp.prototype[e+"Form"]=t(!0)});let nse=class yW{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new sv(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yW(function(i){e=i}),cancel:e}}};function rse(n){return function(t){return n.apply(null,t)}}function ise(n){return Ze.isObject(n)&&n.isAxiosError===!0}const V3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(V3).forEach(([n,e])=>{V3[e]=n});function xW(n){const e=new Lp(n),t=Y7(Lp.prototype.request,e);return Ze.extend(t,Lp.prototype,e,{allOwnKeys:!0}),Ze.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return xW(Kp(n,i))},t}const Li=xW(Lb);Li.Axios=Lp;Li.CanceledError=sv;Li.CancelToken=nse;Li.isCancel=dW;Li.VERSION=vW;Li.toFormData=uE;Li.AxiosError=ir;Li.Cancel=Li.CanceledError;Li.all=function(e){return Promise.all(e)};Li.spread=rse;Li.isAxiosError=ise;Li.mergeConfig=Kp;Li.AxiosHeaders=pa;Li.formToJSON=n=>uW(Ze.isHTMLForm(n)?new FormData(n):n);Li.getAdapter=gW.getAdapter;Li.HttpStatusCode=V3;Li.default=Li;const{Axios:v8e,AxiosError:y8e,CanceledError:x8e,isCancel:b8e,CancelToken:_8e,VERSION:w8e,all:S8e,Cancel:A8e,isAxiosError:E8e,spread:C8e,toFormData:M8e,AxiosHeaders:T8e,HttpStatusCode:P8e,formToJSON:R8e,getAdapter:N8e,mergeConfig:I8e}=Li,sse=()=>{if(typeof window<"u"){const{protocol:n,hostname:e}=window.location;return`${n}//${e}:3000/v1`}return"http://localhost:3000/v1"},fE=sse(),ss={ACCESS_TOKEN:"access_token",REFRESH_TOKEN:"refresh_token",USER:"user"},mi=Li.create({baseURL:fE,timeout:3e4,headers:{"Content-Type":"application/json"}});mi.interceptors.request.use(n=>{const e=localStorage.getItem(ss.ACCESS_TOKEN);return e&&n.headers&&(n.headers.Authorization=`Bearer ${e}`),n},n=>Promise.reject(n));mi.interceptors.response.use(n=>n,async n=>{const e=n.config;if(n.response?.status===401&&!e._retry){e._retry=!0;try{const t=localStorage.getItem(ss.REFRESH_TOKEN);if(t){const r=await Li.post(`${fE}/auth/refresh-tokens`,{refreshToken:t}),{access:i,refresh:s}=r.data;return localStorage.setItem(ss.ACCESS_TOKEN,i.token),localStorage.setItem(ss.REFRESH_TOKEN,s.token),e.headers&&(e.headers.Authorization=`Bearer ${i.token}`),mi(e)}}catch(t){return localStorage.removeItem(ss.ACCESS_TOKEN),localStorage.removeItem(ss.REFRESH_TOKEN),localStorage.removeItem(ss.USER),window.location.href="/login",Promise.reject(t)}}return Promise.reject(n)});const bp={async login(n){const e=await mi.post("/auth/login",n),{user:t,tokens:r}=e.data;return localStorage.setItem(ss.ACCESS_TOKEN,r.access.token),localStorage.setItem(ss.REFRESH_TOKEN,r.refresh.token),localStorage.setItem(ss.USER,JSON.stringify(t)),e.data},async register(n){const e=await mi.post("/auth/register",n),{user:t,tokens:r}=e.data;return localStorage.setItem(ss.ACCESS_TOKEN,r.access.token),localStorage.setItem(ss.REFRESH_TOKEN,r.refresh.token),localStorage.setItem(ss.USER,JSON.stringify(t)),e.data},async logout(){const n=localStorage.getItem(ss.REFRESH_TOKEN);if(n)try{await mi.post("/auth/logout",{refreshToken:n})}catch{}localStorage.removeItem(ss.ACCESS_TOKEN),localStorage.removeItem(ss.REFRESH_TOKEN),localStorage.removeItem(ss.USER)},getCurrentUser(){const n=localStorage.getItem(ss.USER);return n?JSON.parse(n):null},getAccessToken(){return localStorage.getItem(ss.ACCESS_TOKEN)},isAuthenticated(){return!!this.getAccessToken()}},su=Object.create(null);su.open="0";su.close="1";su.ping="2";su.pong="3";su.message="4";su.upgrade="5";su.noop="6";const Dw=Object.create(null);Object.keys(su).forEach(n=>{Dw[su[n]]=n});const W3={type:"error",data:"parser error"},bW=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_W=typeof ArrayBuffer=="function",wW=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,NF=({type:n,data:e},t,r)=>bW&&e instanceof Blob?t?r(e):cj(e,r):_W&&(e instanceof ArrayBuffer||wW(e))?t?r(e):cj(new Blob([e]),r):r(su[n]+(e||"")),cj=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function uj(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let qM;function ose(n,e){if(bW&&n.data instanceof Blob)return n.data.arrayBuffer().then(uj).then(e);if(_W&&(n.data instanceof ArrayBuffer||wW(n.data)))return e(uj(n.data));NF(n,!1,t=>{qM||(qM=new TextEncoder),e(qM.encode(t))})}const dj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$y=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<dj.length;n++)$y[dj.charCodeAt(n)]=n;const ase=n=>{let e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<t;r+=4)s=$y[n.charCodeAt(r)],o=$y[n.charCodeAt(r+1)],a=$y[n.charCodeAt(r+2)],l=$y[n.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return u},lse=typeof ArrayBuffer=="function",IF=(n,e)=>{if(typeof n!="string")return{type:"message",data:SW(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:cse(n.substring(1),e)}:Dw[t]?n.length>1?{type:Dw[t],data:n.substring(1)}:{type:Dw[t]}:W3},cse=(n,e)=>{if(lse){const t=ase(n);return SW(t,e)}else return{base64:!0,data:n}},SW=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},AW="",use=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{NF(s,!1,a=>{r[o]=a,++i===t&&e(r.join(AW))})})},dse=(n,e)=>{const t=n.split(AW),r=[];for(let i=0;i<t.length;i++){const s=IF(t[i],e);if(r.push(s),s.type==="error")break}return r};function fse(){return new TransformStream({transform(n,e){ose(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let XM;function i1(n){return n.reduce((e,t)=>e+t.length,0)}function s1(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function hse(n,e){XM||(XM=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(r===0){if(i1(t)<1)break;const l=s1(t,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(i1(t)<2)break;const l=s1(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(i1(t)<8)break;const l=s1(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(W3);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(i1(t)<i)break;const l=s1(t,i);a.enqueue(IF(s?l:XM.decode(l),e)),r=0}if(i===0||i>n){a.enqueue(W3);break}}}})}const EW=4;function ls(n){if(n)return pse(n)}function pse(n){for(var e in ls.prototype)n[e]=ls.prototype[e];return n}ls.prototype.on=ls.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ls.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};ls.prototype.off=ls.prototype.removeListener=ls.prototype.removeAllListeners=ls.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};ls.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};ls.prototype.emitReserved=ls.prototype.emit;ls.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ls.prototype.hasListeners=function(n){return!!this.listeners(n).length};const hE=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),cl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mse="arraybuffer";function CW(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const gse=cl.setTimeout,vse=cl.clearTimeout;function pE(n,e){e.useNativeTimers?(n.setTimeoutFn=gse.bind(cl),n.clearTimeoutFn=vse.bind(cl)):(n.setTimeoutFn=cl.setTimeout.bind(cl),n.clearTimeoutFn=cl.clearTimeout.bind(cl))}const yse=1.33;function xse(n){return typeof n=="string"?bse(n):Math.ceil((n.byteLength||n.size)*yse)}function bse(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function MW(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _se(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function wse(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Sse extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class OF extends ls{constructor(e){super(),this.writable=!1,pE(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Sse(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=IF(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=_se(e);return t.length?"?"+t:""}}class Ase extends OF{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};dse(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,use(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=MW()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let TW=!1;try{TW=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ese=TW;function Cse(){}class Mse extends Ase{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let Kg=class Bw extends ls{constructor(e,t,r){super(),this.createRequest=e,pE(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const t=CW(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Bw.requestsCount++,Bw.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Cse,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bw.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Kg.requestsCount=0;Kg.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fj);else if(typeof addEventListener=="function"){const n="onpagehide"in cl?"pagehide":"unload";addEventListener(n,fj,!1)}}function fj(){for(let n in Kg.requests)Kg.requests.hasOwnProperty(n)&&Kg.requests[n].abort()}const Tse=(function(){const n=PW({xdomain:!1});return n&&n.responseType!==null})();class Pse extends Mse{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Tse&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Kg(PW,this.uri(),e)}}function PW(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ese))return new XMLHttpRequest}catch{}if(!e)try{return new cl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const RW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Rse extends OF{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=RW?{}:CW(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;NF(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&hE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=MW()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const KM=cl.WebSocket||cl.MozWebSocket;class Nse extends Rse{createSocket(e,t,r){return RW?new KM(e,t,r):t?new KM(e,t):new KM(e)}doWrite(e,t){this.ws.send(t)}}class Ise extends OF{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=hse(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=fse();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&hE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Ose={websocket:Nse,webtransport:Ise,polling:Pse},Fse=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Dse=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $3(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Fse.exec(n||""),s={},o=14;for(;o--;)s[Dse[o]]=i[o]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Bse(s,s.path),s.queryKey=kse(s,s.query),s}function Bse(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function kse(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}const q3=typeof addEventListener=="function"&&typeof removeEventListener=="function",kw=[];q3&&addEventListener("offline",()=>{kw.forEach(n=>n())},!1);class Uf extends ls{constructor(e,t){if(super(),this.binaryType=mse,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const r=$3(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=$3(t.host).host);pE(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=wse(this.opts.query)),q3&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},kw.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=EW,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Uf.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Uf.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=xse(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,hE(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Uf.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),q3&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=kw.indexOf(this._offlineEventListener);r!==-1&&kw.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Uf.protocol=EW;class Lse extends Uf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Uf.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",c=>{if(!r)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Uf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function s(){r||(r=!0,d(),t.close(),t=null)}const o=c=>{const f=new Error("probe error: "+c);f.transport=t.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function u(c){t&&c.name!==t.name&&s()}const d=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}let jse=class extends Lse{constructor(e,t={}){const r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Ose[i]).filter(i=>!!i)),super(e,r)}};function Use(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=$3(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}const zse=typeof ArrayBuffer=="function",Hse=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,NW=Object.prototype.toString,Gse=typeof Blob=="function"||typeof Blob<"u"&&NW.call(Blob)==="[object BlobConstructor]",Vse=typeof File=="function"||typeof File<"u"&&NW.call(File)==="[object FileConstructor]";function FF(n){return zse&&(n instanceof ArrayBuffer||Hse(n))||Gse&&n instanceof Blob||Vse&&n instanceof File}function Lw(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Lw(n[t]))return!0;return!1}if(FF(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Lw(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Lw(n[t]))return!0;return!1}function Wse(n){const e=[],t=n.data,r=n;return r.data=X3(t,e),r.attachments=e.length,{packet:r,buffers:e}}function X3(n,e){if(!n)return n;if(FF(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=X3(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=X3(n[r],e));return t}return n}function $se(n,e){return n.data=K3(n.data,e),delete n.attachments,n}function K3(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=K3(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=K3(n[t],e));return n}const qse=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xse=5;var _r;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(_r||(_r={}));class Kse{constructor(e){this.replacer=e}encode(e){return(e.type===_r.EVENT||e.type===_r.ACK)&&Lw(e)?this.encodeAsBinary({type:e.type===_r.EVENT?_r.BINARY_EVENT:_r.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===_r.BINARY_EVENT||e.type===_r.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Wse(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function hj(n){return Object.prototype.toString.call(n)==="[object Object]"}class DF extends ls{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===_r.BINARY_EVENT;r||t.type===_r.BINARY_ACK?(t.type=r?_r.EVENT:_r.ACK,this.reconstructor=new Yse(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(FF(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(_r[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===_r.BINARY_EVENT||r.type===_r.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(DF.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case _r.CONNECT:return hj(t);case _r.DISCONNECT:return t===void 0;case _r.CONNECT_ERROR:return typeof t=="string"||hj(t);case _r.EVENT:case _r.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&qse.indexOf(t[0])===-1);case _r.ACK:case _r.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Yse{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=$se(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Jse=Object.freeze(Object.defineProperty({__proto__:null,Decoder:DF,Encoder:Kse,get PacketType(){return _r},protocol:Xse},Symbol.toStringTag,{value:"Module"}));function nc(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Zse=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class IW extends ls{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[nc(e,"open",this.onopen.bind(this)),nc(e,"packet",this.onpacket.bind(this)),nc(e,"error",this.onerror.bind(this)),nc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(Zse.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:_r.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,c=t.pop();this._registerAckCallback(d,c),o.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:_r.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case _r.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _r.EVENT:case _r.BINARY_EVENT:this.onevent(e);break;case _r.ACK:case _r.BINARY_ACK:this.onack(e);break;case _r.DISCONNECT:this.ondisconnect();break;case _r.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:_r.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_r.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function ov(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ov.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};ov.prototype.reset=function(){this.attempts=0};ov.prototype.setMin=function(n){this.ms=n};ov.prototype.setMax=function(n){this.max=n};ov.prototype.setJitter=function(n){this.jitter=n};class Y3 extends ls{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,pE(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ov({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Jse;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new jse(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=nc(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=nc(t,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(nc(e,"ping",this.onping.bind(this)),nc(e,"data",this.ondata.bind(this)),nc(e,"error",this.onerror.bind(this)),nc(e,"close",this.onclose.bind(this)),nc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){hE(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new IW(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const py={};function jw(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Use(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,o=py[i]&&s in py[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Y3(r,e):(py[i]||(py[i]=new Y3(r,e)),l=py[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(jw,{Manager:Y3,Socket:IW,io:jw,connect:jw});class Qse{socket=null;connect(){if(this.socket?.connected)return this.socket;const e=localStorage.getItem(ss.ACCESS_TOKEN),t=fE.replace("/v1","");return this.socket=jw(t,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.socket.on("connect",()=>{setTimeout(()=>{this.socket?.connected&&console.log(" Socket.io connected:",this.socket.id)},100)}),this.socket.on("disconnect",()=>{console.log(" Socket.io disconnected")}),this.socket.on("connect_error",r=>{console.error("Socket.io connection error:",r)}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}getSocket(){return this.socket}isConnected(){return this.socket?.connected||!1}}const Oi=new Qse,Zw="hack2heal_conversations",Qw="hack2heal_conversations_timestamp",eoe=300*1e3;let Yh=!1;function o1(){try{const n=localStorage.getItem(Zw),e=localStorage.getItem(Qw);return!n||!e?null:Date.now()-parseInt(e,10)>eoe?(localStorage.removeItem(Zw),localStorage.removeItem(Qw),null):JSON.parse(n)}catch{return null}}function YM(n){try{localStorage.setItem(Zw,JSON.stringify(n)),localStorage.setItem(Qw,Date.now().toString())}catch{}}function pj(){try{localStorage.removeItem(Zw),localStorage.removeItem(Qw)}catch{}}const Vc={async sendMessage(n,e){const t=Oi.getSocket();let r;return t?.connected?r=await new Promise((i,s)=>{const o=setTimeout(()=>s(new Error("Request timeout")),1e4);t.emit("message:send",{toUserId:n,content:e}),t.once("message:sent",a=>{clearTimeout(o),i(a)}),t.once("message:error",a=>{clearTimeout(o),s(new Error(a.message||"Failed to send message"))})}):r=(await mi.post("/messages/send",{toUserId:n,content:e})).data,pj(),r},async getConversations(n=!0){if(Yh){console.log("[messageService.getConversations] Request already in progress, returning cache...");const t=o1();if(t)return t;await new Promise(i=>setTimeout(i,100));const r=o1();return r||[]}const e=async()=>{if(Yh){console.log("[messageService.getConversations] Sync already in progress, skipping");return}Yh=!0;try{console.log("[messageService.getConversations] Syncing conversations in background...");const r=(await mi.get("/messages/conversations")).data||[];n&&YM(r),console.log("[messageService.getConversations] Background sync completed:",r.length,"conversations")}catch(t){console.error("[messageService.getConversations] Background sync failed:",t)}finally{Yh=!1}};if(n){const t=o1();if(t&&t.length>0)return console.log("[messageService.getConversations] Using cache, found",t.length,"conversations"),Yh||e(),t;console.log("[messageService.getConversations] No cache found, fetching from API")}Yh=!0;try{console.log("[messageService.getConversations] Fetching from REST API...");const t=await mi.get("/messages/conversations");console.log("[messageService.getConversations] REST API response:",t.status,t.data?.length||0,"conversations");const r=t.data||[];return n&&YM(r),r}catch(t){console.error("[messageService.getConversations] REST API failed:",t);const r=o1();if(r&&r.length>0)return console.log("[messageService.getConversations] Using expired cache as fallback"),r;throw t}finally{Yh=!1}},async getMessages(n,e=50){console.log("[messageService.getMessages] Getting messages for userId:",n,"limit:",e);const t=Oi.getSocket();if(t?.connected)return console.log("[messageService.getMessages] Using WebSocket"),new Promise((r,i)=>{const s=setTimeout(()=>{console.error("[messageService.getMessages] WebSocket request timeout"),i(new Error("Request timeout"))},1e4);t.emit("message:get_messages",{withUserId:n,limit:e}),console.log("[messageService.getMessages] Emitted message:get_messages"),t.once("message:messages",o=>{clearTimeout(s),console.log("[messageService.getMessages] Received messages via WebSocket:",o.messages?.length||0),r(o.messages||[])}),t.once("message:error",o=>{clearTimeout(s),console.error("[messageService.getMessages] WebSocket error:",o),i(new Error(o.message||"Failed to get messages"))})});console.log("[messageService.getMessages] Using REST API");try{const r=await mi.get(`/messages/conversation/${n}`,{params:{limit:e}});return console.log("[messageService.getMessages] REST API response:",r.status,r.data?.length||0,"messages"),r.data||[]}catch(r){throw console.error("[messageService.getMessages] REST API error:",r),r}},async markAsRead(n){const e=Oi.getSocket();if(e?.connected)return new Promise((t,r)=>{const i=setTimeout(()=>r(new Error("Request timeout")),1e4);e.emit("message:mark_read",{messageId:n}),e.once("message:read",()=>{clearTimeout(i),t()}),e.once("message:error",s=>{clearTimeout(i),r(new Error(s.message||"Failed to mark message as read"))})});await mi.post(`/messages/read/${n}`)},async markConversationAsRead(n){const e=Oi.getSocket();if(e?.connected)return new Promise((t,r)=>{const i=setTimeout(()=>r(new Error("Request timeout")),1e4);e.emit("message:mark_conversation_read",{withUserId:n}),e.once("message:conversation_read",()=>{clearTimeout(i),t()}),e.once("message:error",s=>{clearTimeout(i),r(new Error(s.message||"Failed to mark conversation as read"))})});await mi.post(`/messages/conversation/${n}/read`)},onMessageReceived(n){Oi.getSocket()?.on("message:received",n)},offMessageReceived(n){Oi.getSocket()?.off("message:received",n)},onConversationsUpdated(n){Oi.getSocket()?.on("message:conversations_updated",n)},offConversationsUpdated(n){Oi.getSocket()?.off("message:conversations_updated",n)},clearCache(){pj()},updateCache(n){YM(n)}},OW=B.createContext(void 0),pu=()=>{const n=B.useContext(OW);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},toe=({children:n})=>{const[e,t]=B.useState(null),[r,i]=B.useState(!0);B.useEffect(()=>{const u=bp.getCurrentUser();u&&bp.isAuthenticated()&&(t(u),Oi.connect()),i(!1)},[]);const l={user:e,isLoading:r,login:async u=>{const d=await bp.login(u);t(d.user),Oi.connect()},register:async u=>{const d=await bp.register(u);t(d.user),Oi.connect()},logout:async()=>{Oi.disconnect(),Vc.clearCache(),await bp.logout(),t(null)},isAuthenticated:!!e};return p.jsx(OW.Provider,{value:l,children:n})},a1={async completeSession(){return(await mi.post("/stats/complete-session")).data},async getStats(){return(await mi.get("/stats/me")).data},async getLeaderboard(n=10){return(await mi.get("/stats/leaderboard",{params:{limit:n}})).data},async addXP(n){return(await mi.post("/stats/add-xp",{amount:n})).data}},FW=B.createContext(void 0),jb=()=>{const n=B.useContext(FW);if(n===void 0)throw new Error("useStats must be used within a StatsProvider");return n},noe=({children:n})=>{const{isAuthenticated:e,user:t}=pu(),[r,i]=B.useState(null),[s,o]=B.useState([]),[a,l]=B.useState(!0),u=async()=>{if(!(!e||!t))try{const m=await a1.getStats();i(m)}catch{}},d=async()=>{if(e)try{const m=await a1.getLeaderboard(10);o(m)}catch{}},c=async()=>{if(!(!e||!t))try{const m=await a1.completeSession();i(m),await d()}catch{}},f=async m=>{if(!(!e||!t))try{const v=await a1.addXP(m);i(v),await d()}catch{}};return B.useEffect(()=>{e&&t?(l(!0),Promise.all([u(),d()]).finally(()=>l(!1))):(i(null),o([]),l(!1))},[e,t?.id]),p.jsx(FW.Provider,{value:{stats:r,leaderboard:s,isLoading:a,refreshStats:u,refreshLeaderboard:d,completeSession:c,addXP:f},children:n})},roe=({children:n})=>{const{isAuthenticated:e,isLoading:t}=pu();return t?p.jsx("div",{children:"Loading..."}):e?p.jsx(p.Fragment,{children:n}):p.jsx(K7,{to:"/login",replace:!0})};function mj(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function DW(...n){return e=>{let t=!1;const r=n.map(i=>{const s=mj(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():mj(n[i],null)}}}}function Ir(...n){return B.useCallback(DW(...n),n)}function h0(n){const e=ioe(n),t=B.forwardRef((r,i)=>{const{children:s,...o}=r,a=B.Children.toArray(s),l=a.find(ooe);if(l){const u=l.props.children,d=a.map(c=>c===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:c);return p.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return p.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var BW=h0("Slot");function ioe(n){const e=B.forwardRef((t,r)=>{const{children:i,...s}=t;if(B.isValidElement(i)){const o=loe(i),a=aoe(s,i.props);return i.type!==B.Fragment&&(a.ref=r?DW(r,o):o),B.cloneElement(i,a)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var soe=Symbol("radix.slottable");function ooe(n){return B.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===soe}function aoe(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function loe(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function kW(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=kW(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function yr(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=kW(n))&&(r&&(r+=" "),r+=e);return r}const gj=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,vj=yr,BF=(n,e)=>t=>{var r;if(e?.variants==null)return vj(n,t?.class,t?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=t?.[u],c=s?.[u];if(d===null)return null;const f=gj(d)||gj(c);return i[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[c,f]=d;return f===void 0||(u[c]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:c,className:f,...m}=d;return Object.entries(m).every(v=>{let[b,y]=v;return Array.isArray(y)?y.includes({...s,...a}[b]):{...s,...a}[b]===y})?[...u,c,f]:u},[]);return vj(n,o,l,t?.class,t?.className)},kF="-",coe=n=>{const e=doe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(kF);return a[0]===""&&a.length!==1&&a.shift(),LW(a,e)||uoe(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},LW=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?LW(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(kF);return e.validators.find(({validator:o})=>o(s))?.classGroupId},yj=/^\[(.+)\]$/,uoe=n=>{if(yj.test(n)){const e=yj.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},doe=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return hoe(Object.entries(n.classGroups),t).forEach(([s,o])=>{J3(o,r,s,e)}),r},J3=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:xj(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(foe(i)){J3(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{J3(o,xj(e,s),t,r)})})},xj=(n,e)=>{let t=n;return e.split(kF).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},foe=n=>n.isThemeGetter,hoe=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,poe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},jW="!",moe=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,c;for(let y=0;y<a.length;y++){let w=a[y];if(u===0){if(w===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(d,y)),d=y+s;continue}if(w==="/"){c=y;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(jW),v=m?f.substring(1):f,b=c&&c>d?c-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:b}};return t?a=>t({className:a,parseClassName:o}):o},goe=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},voe=n=>({cache:poe(n.cacheSize),parseClassName:moe(n),...coe(n)}),yoe=/\s+/,xoe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(yoe);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:c,baseClassName:f,maybePostfixModifierPosition:m}=t(u);let v=!!m,b=r(v?f.substring(0,m):f);if(!b){if(!v){a=u+(a.length>0?" "+a:a);continue}if(b=r(f),!b){a=u+(a.length>0?" "+a:a);continue}v=!1}const y=goe(d).join(":"),w=c?y+jW:y,A=w+b;if(s.includes(A))continue;s.push(A);const E=i(b,v);for(let C=0;C<E.length;++C){const M=E[C];s.push(w+M)}a=u+(a.length>0?" "+a:a)}return a};function boe(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=UW(e))&&(r&&(r+=" "),r+=t);return r}const UW=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=UW(n[r]))&&(t&&(t+=" "),t+=e);return t};function _oe(n,...e){let t,r,i,s=o;function o(l){const u=e.reduce((d,c)=>c(d),n());return t=voe(u),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=xoe(l,t);return i(l,d),d}return function(){return s(boe.apply(null,arguments))}}const li=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},zW=/^\[(?:([a-z-]+):)?(.+)\]$/i,woe=/^\d+\/\d+$/,Soe=new Set(["px","full","screen"]),Aoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Eoe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Coe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Moe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Toe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xu=n=>Yg(n)||Soe.has(n)||woe.test(n),hf=n=>av(n,"length",Boe),Yg=n=>!!n&&!Number.isNaN(Number(n)),JM=n=>av(n,"number",Yg),my=n=>!!n&&Number.isInteger(Number(n)),Poe=n=>n.endsWith("%")&&Yg(n.slice(0,-1)),lr=n=>zW.test(n),pf=n=>Aoe.test(n),Roe=new Set(["length","size","percentage"]),Noe=n=>av(n,Roe,HW),Ioe=n=>av(n,"position",HW),Ooe=new Set(["image","url"]),Foe=n=>av(n,Ooe,Loe),Doe=n=>av(n,"",koe),gy=()=>!0,av=(n,e,t)=>{const r=zW.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Boe=n=>Eoe.test(n)&&!Coe.test(n),HW=()=>!1,koe=n=>Moe.test(n),Loe=n=>Toe.test(n),joe=()=>{const n=li("colors"),e=li("spacing"),t=li("blur"),r=li("brightness"),i=li("borderColor"),s=li("borderRadius"),o=li("borderSpacing"),a=li("borderWidth"),l=li("contrast"),u=li("grayscale"),d=li("hueRotate"),c=li("invert"),f=li("gap"),m=li("gradientColorStops"),v=li("gradientColorStopPositions"),b=li("inset"),y=li("margin"),w=li("opacity"),A=li("padding"),E=li("saturate"),C=li("scale"),M=li("sepia"),R=li("skew"),O=li("space"),k=li("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",lr,e],W=()=>[lr,e],q=()=>["",Xu,hf],K=()=>["auto",Yg,lr],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",lr],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Yg,lr];return{cacheSize:500,separator:":",theme:{colors:[gy],spacing:[Xu,hf],blur:["none","",pf,lr],brightness:Y(),borderColor:[n],borderRadius:["none","","full",pf,lr],borderSpacing:W(),borderWidth:q(),contrast:Y(),grayscale:Z(),hueRotate:Y(),invert:Z(),gap:W(),gradientColorStops:[n],gradientColorStopPositions:[Poe,hf],inset:L(),margin:L(),opacity:Y(),padding:W(),saturate:Y(),scale:Y(),sepia:Z(),skew:Y(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",lr]}],container:["container"],columns:[{columns:[pf]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),lr]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",my,lr]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lr]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",my,lr]}],"grid-cols":[{"grid-cols":[gy]}],"col-start-end":[{col:["auto",{span:["full",my,lr]},lr]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[gy]}],"row-start-end":[{row:["auto",{span:[my,lr]},lr]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lr,e]}],"min-w":[{"min-w":[lr,e,"min","max","fit"]}],"max-w":[{"max-w":[lr,e,"none","full","min","max","fit","prose",{screen:[pf]},pf]}],h:[{h:[lr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pf,hf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JM]}],"font-family":[{font:[gy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lr]}],"line-clamp":[{"line-clamp":["none",Yg,JM]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xu,lr]}],"list-image":[{"list-image":["none",lr]}],"list-style-type":[{list:["none","disc","decimal",lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xu,hf]}],"underline-offset":[{"underline-offset":["auto",Xu,lr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),Ioe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Noe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Foe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Xu,lr]}],"outline-w":[{outline:[Xu,hf]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Xu,hf]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",pf,Doe]}],"shadow-color":[{shadow:[gy]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pf,lr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[E]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lr]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",lr]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[my,lr]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lr]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lr]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lr]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xu,hf,JM]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uoe=_oe(joe);function Vn(...n){return Uoe(yr(n))}const zoe=BF("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Lt({className:n,variant:e,size:t,asChild:r=!1,...i}){const s=r?BW:"button";return p.jsx(s,{"data-slot":"button",className:Vn(zoe({variant:e,size:t,className:n})),...i})}function bs({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:Vn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Hoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wn=Hoe.reduce((n,e)=>{const t=h0(`Primitive.${e}`),r=B.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Goe(n,e){n&&Ib.flushSync(()=>n.dispatchEvent(e))}var Voe="Label",GW=B.forwardRef((n,e)=>p.jsx(Wn.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));GW.displayName=Voe;var Woe=GW;function as({className:n,...e}){return p.jsx(Woe,{"data-slot":"label",className:Vn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function $oe(n,e){const t=B.createContext(e),r=s=>{const{children:o,...a}=s,l=B.useMemo(()=>a,Object.values(a));return p.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=B.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function mc(n,e=[]){let t=[];function r(s,o){const a=B.createContext(o),l=t.length;t=[...t,o];const u=c=>{const{scope:f,children:m,...v}=c,b=f?.[n]?.[l]||a,y=B.useMemo(()=>v,Object.values(v));return p.jsx(b.Provider,{value:y,children:m})};u.displayName=s+"Provider";function d(c,f){const m=f?.[n]?.[l]||a,v=B.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=t.map(o=>B.createContext(o));return function(a){const l=a?.[n]||s;return B.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,qoe(i,...e)]}function qoe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const c=l(s)[`__scope${u}`];return{...a,...c}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Fn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}var Eo=globalThis?.document?B.useLayoutEffect:()=>{},Xoe=EF[" useInsertionEffect ".trim().toString()]||Eo;function yd({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=Koe({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const d=B.useRef(n!==void 0);B.useEffect(()=>{const c=d.current;c!==a&&console.warn(`${r} is changing from ${c?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=B.useCallback(d=>{if(a){const c=Yoe(d)?d(n):d;c!==n&&o.current?.(c)}else s(d)},[a,n,s,o]);return[l,u]}function Koe({defaultProp:n,onChange:e}){const[t,r]=B.useState(n),i=B.useRef(t),s=B.useRef(e);return Xoe(()=>{s.current=e},[e]),B.useEffect(()=>{i.current!==t&&(s.current?.(t),i.current=t)},[t,i]),[t,r,s]}function Yoe(n){return typeof n=="function"}function mE(n){const e=B.useRef({value:n,previous:n});return B.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function gE(n){const[e,t]=B.useState(void 0);return Eo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function Joe(n,e){return B.useReducer((t,r)=>e[t][r]??t,n)}var th=n=>{const{present:e,children:t}=n,r=Zoe(e),i=typeof t=="function"?t({present:r.isPresent}):B.Children.only(t),s=Ir(r.ref,Qoe(i));return typeof t=="function"||r.isPresent?B.cloneElement(i,{ref:s}):null};th.displayName="Presence";function Zoe(n){const[e,t]=B.useState(),r=B.useRef(null),i=B.useRef(n),s=B.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Joe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=l1(r.current);s.current=a==="mounted"?u:"none"},[a]),Eo(()=>{const u=r.current,d=i.current;if(d!==n){const f=s.current,m=l1(u);n?l("MOUNT"):m==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Eo(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,c=m=>{const b=l1(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&b&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=m=>{m.target===e&&(s.current=l1(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function l1(n){return n?.animationName||"none"}function Qoe(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vE="Checkbox",[eae]=mc(vE),[tae,LF]=eae(vE);function nae(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:c}=n,[f,m]=yd({prop:t,defaultProp:i??!1,onChange:l,caller:vE}),[v,b]=B.useState(null),[y,w]=B.useState(null),A=B.useRef(!1),E=v?!!o||!!v.closest("form"):!0,C={checked:f,disabled:s,setChecked:m,control:v,setControl:b,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:A,required:u,defaultChecked:zf(i)?!1:i,isFormControl:E,bubbleInput:y,setBubbleInput:w};return p.jsx(tae,{scope:e,...C,children:rae(c)?c(C):r})}var VW="CheckboxTrigger",WW=B.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:u,setControl:d,setChecked:c,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:v}=LF(VW,n),b=Ir(i,d),y=B.useRef(l);return B.useEffect(()=>{const w=s?.form;if(w){const A=()=>c(y.current);return w.addEventListener("reset",A),()=>w.removeEventListener("reset",A)}},[s,c]),p.jsx(Wn.button,{type:"button",role:"checkbox","aria-checked":zf(l)?"mixed":l,"aria-required":u,"data-state":JW(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:b,onKeyDown:Fn(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Fn(t,w=>{c(A=>zf(A)?!0:!A),v&&m&&(f.current=w.isPropagationStopped(),f.current||w.stopPropagation())})})});WW.displayName=VW;var $W=B.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:u,form:d,...c}=n;return p.jsx(nae,{__scopeCheckbox:t,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(WW,{...c,ref:e,__scopeCheckbox:t}),f&&p.jsx(YW,{__scopeCheckbox:t})]})})});$W.displayName=vE;var qW="CheckboxIndicator",XW=B.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=LF(qW,t);return p.jsx(th,{present:r||zf(s.checked)||s.checked===!0,children:p.jsx(Wn.span,{"data-state":JW(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});XW.displayName=qW;var KW="CheckboxBubbleInput",YW=B.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:u,value:d,form:c,bubbleInput:f,setBubbleInput:m}=LF(KW,n),v=Ir(t,m),b=mE(s),y=gE(r);B.useEffect(()=>{const A=f;if(!A)return;const E=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(E,"checked").set,R=!i.current;if(b!==s&&M){const O=new Event("click",{bubbles:R});A.indeterminate=zf(s),M.call(A,zf(s)?!1:s),A.dispatchEvent(O)}},[f,b,s,i]);const w=B.useRef(zf(s)?!1:s);return p.jsx(Wn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:u,value:d,form:c,...e,tabIndex:-1,ref:v,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YW.displayName=KW;function rae(n){return typeof n=="function"}function zf(n){return n==="indeterminate"}function JW(n){return zf(n)?"indeterminate":n?"checked":"unchecked"}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sae=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),bj=n=>{const e=sae(n);return e.charAt(0).toUpperCase()+e.slice(1)},ZW=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>B.createElement("svg",{ref:l,...oae,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:ZW("lucide",i),...a},[...o.map(([u,d])=>B.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=(n,e)=>{const t=B.forwardRef(({className:r,...i},s)=>B.createElement(aae,{ref:s,iconNode:e,className:ZW(`lucide-${iae(bj(n))}`,`lucide-${n}`,r),...i}));return t.displayName=bj(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pm=en("activity",lae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Z3=en("arrow-left",cae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dae=en("arrow-right",uae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Sx=en("award",fae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_j=en("bell",hae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Wc=en("brain",pae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jF=en("calendar",mae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vae=en("chart-column",gae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QW=en("check",yae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],UF=en("chevron-down",xae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_ae=en("chevron-left",bae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sae=en("chevron-right",wae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],e$=en("chevron-up",Aae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],Cae=en("chrome",Eae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tae=en("circle-alert",Mae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ax=en("circle-check-big",Pae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sd=en("circle-check",Rae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],wj=en("circle-play",Nae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oae=en("circle-x",Iae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],tx=en("clock",Fae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],p0=en("download",Dae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],t$=en("dumbbell",Bae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eS=en("file-text",kae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],yE=en("flame",Lae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Sj=en("heart",jae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zae=en("info",Uae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Aj=en("layout-dashboard",Hae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ej=en("lightbulb",Gae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Cj=en("link-2",Vae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$ae=en("loader-circle",Wae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Mj=en("lock-open",qae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ZM=en("lock",Xae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Yae=en("log-out",Kae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xE=en("mail",Jae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Qae=en("message-circle",Zae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Of=en("message-square",ele);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],nle=en("mic",tle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ile=en("moon",rle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],ole=en("move-down",sle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],lle=en("move-up",ale);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ule=en("phone",cle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],n$=en("play",dle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hle=en("plus",fle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],mle=en("refresh-ccw",ple);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tj=en("refresh-cw",gle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yle=en("rotate-ccw",vle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],ble=en("rotate-cw",xle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],r$=en("scan",_le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ub=en("search",wle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bE=en("send",Sle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pj=en("settings",Ale);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rj=en("shield",Ele);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Mle=en("smartphone",Cle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Ple=en("smile",Tle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jp=en("sparkles",Rle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ile=en("square",Nle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fle=en("star",Ole);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ex=en("target",Dle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],kle=en("thumbs-down",Ble);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],jle=en("thumbs-up",Lle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],zle=en("trending-down",Ule);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ma=en("trending-up",Hle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cx=en("triangle-alert",Gle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Up=en("trophy",Vle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$le=en("upload",Wle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],zF=en("user-check",qle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Mx=en("user-plus",Xle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Yle=en("user-x",Kle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zle=en("user",Jle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Tx=en("users",Qle);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Nj=en("video-off",ece);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Q3=en("video",tce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rce=en("volume-2",nce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HF=en("x",ice);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],oce=en("zap",sce);function ace({className:n,...e}){return p.jsx($W,{"data-slot":"checkbox",className:Vn("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(XW,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(QW,{className:"size-3.5"})})})}function Ot({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:Vn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function ln({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:Vn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function un({className:n,...e}){return p.jsx("h4",{"data-slot":"card-title",className:Vn("leading-none",n),...e})}function Ft({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:Vn("px-6 [&:last-child]:pb-6",n),...e})}function tS(n,[e,t]){return Math.min(t,Math.max(e,n))}function GF(n){const e=n+"CollectionProvider",[t,r]=mc(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:y,children:w}=b,A=ue.useRef(null),E=ue.useRef(new Map).current;return p.jsx(i,{scope:y,itemMap:E,collectionRef:A,children:w})};o.displayName=e;const a=n+"CollectionSlot",l=h0(a),u=ue.forwardRef((b,y)=>{const{scope:w,children:A}=b,E=s(a,w),C=Ir(y,E.collectionRef);return p.jsx(l,{ref:C,children:A})});u.displayName=a;const d=n+"CollectionItemSlot",c="data-radix-collection-item",f=h0(d),m=ue.forwardRef((b,y)=>{const{scope:w,children:A,...E}=b,C=ue.useRef(null),M=Ir(y,C),R=s(d,w);return ue.useEffect(()=>(R.itemMap.set(C,{ref:C,...E}),()=>void R.itemMap.delete(C))),p.jsx(f,{[c]:"",ref:M,children:A})});m.displayName=d;function v(b){const y=s(n+"CollectionConsumer",b);return ue.useCallback(()=>{const A=y.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((R,O)=>E.indexOf(R.ref.current)-E.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var lce=B.createContext(void 0);function _E(n){const e=B.useContext(lce);return n||e||"ltr"}function Wf(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n}),B.useMemo(()=>(...t)=>e.current?.(...t),[])}function cce(n,e=globalThis?.document){const t=Wf(n);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var uce="DismissableLayer",eI="dismissableLayer.update",dce="dismissableLayer.pointerDownOutside",fce="dismissableLayer.focusOutside",Ij,i$=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wE=B.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,u=B.useContext(i$),[d,c]=B.useState(null),f=d?.ownerDocument??globalThis?.document,[,m]=B.useState({}),v=Ir(e,O=>c(O)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(y),A=d?b.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=A>=w,M=mce(O=>{const k=O.target,D=[...u.branches].some(I=>I.contains(k));!C||D||(i?.(O),o?.(O),O.defaultPrevented||a?.())},f),R=gce(O=>{const k=O.target;[...u.branches].some(I=>I.contains(k))||(s?.(O),o?.(O),O.defaultPrevented||a?.())},f);return cce(O=>{A===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},f),B.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ij=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Oj(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ij)}},[d,f,t,u]),B.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Oj())},[d,u]),B.useEffect(()=>{const O=()=>m({});return document.addEventListener(eI,O),()=>document.removeEventListener(eI,O)},[]),p.jsx(Wn.div,{...l,ref:v,style:{pointerEvents:E?C?"auto":"none":void 0,...n.style},onFocusCapture:Fn(n.onFocusCapture,R.onFocusCapture),onBlurCapture:Fn(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Fn(n.onPointerDownCapture,M.onPointerDownCapture)})});wE.displayName=uce;var hce="DismissableLayerBranch",pce=B.forwardRef((n,e)=>{const t=B.useContext(i$),r=B.useRef(null),i=Ir(e,r);return B.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),p.jsx(Wn.div,{...n,ref:i})});pce.displayName=hce;function mce(n,e=globalThis?.document){const t=Wf(n),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){s$(dce,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function gce(n,e=globalThis?.document){const t=Wf(n),r=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!r.current&&s$(fce,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Oj(){const n=new CustomEvent(eI);document.dispatchEvent(n)}function s$(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Goe(i,s):i.dispatchEvent(s)}var QM=0;function o$(){B.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Fj()),document.body.insertAdjacentElement("beforeend",n[1]??Fj()),QM++,()=>{QM===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),QM--}},[])}function Fj(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var eT="focusScope.autoFocusOnMount",tT="focusScope.autoFocusOnUnmount",Dj={bubbles:!1,cancelable:!0},vce="FocusScope",VF=B.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=B.useState(null),u=Wf(i),d=Wf(s),c=B.useRef(null),f=Ir(e,b=>l(b)),m=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(r){let b=function(E){if(m.paused||!a)return;const C=E.target;a.contains(C)?c.current=C:Ef(c.current,{select:!0})},y=function(E){if(m.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||Ef(c.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const M of E)M.removedNodes.length>0&&Ef(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const A=new MutationObserver(w);return a&&A.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),A.disconnect()}}},[r,a,m.paused]),B.useEffect(()=>{if(a){kj.add(m);const b=document.activeElement;if(!a.contains(b)){const w=new CustomEvent(eT,Dj);a.addEventListener(eT,u),a.dispatchEvent(w),w.defaultPrevented||(yce(Sce(a$(a)),{select:!0}),document.activeElement===b&&Ef(a))}return()=>{a.removeEventListener(eT,u),setTimeout(()=>{const w=new CustomEvent(tT,Dj);a.addEventListener(tT,d),a.dispatchEvent(w),w.defaultPrevented||Ef(b??document.body,{select:!0}),a.removeEventListener(tT,d),kj.remove(m)},0)}}},[a,u,d,m]);const v=B.useCallback(b=>{if(!t&&!r||m.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(y&&w){const A=b.currentTarget,[E,C]=xce(A);E&&C?!b.shiftKey&&w===C?(b.preventDefault(),t&&Ef(E,{select:!0})):b.shiftKey&&w===E&&(b.preventDefault(),t&&Ef(C,{select:!0})):w===A&&b.preventDefault()}},[t,r,m.paused]);return p.jsx(Wn.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});VF.displayName=vce;function yce(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ef(r,{select:e}),document.activeElement!==t)return}function xce(n){const e=a$(n),t=Bj(e,n),r=Bj(e.reverse(),n);return[t,r]}function a$(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Bj(n,e){for(const t of n)if(!bce(t,{upTo:e}))return t}function bce(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function _ce(n){return n instanceof HTMLInputElement&&"select"in n}function Ef(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&_ce(n)&&e&&n.select()}}var kj=wce();function wce(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Lj(n,e),n.unshift(e)},remove(e){n=Lj(n,e),n[0]?.resume()}}}function Lj(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Sce(n){return n.filter(e=>e.tagName!=="A")}var Ace=EF[" useId ".trim().toString()]||(()=>{}),Ece=0;function Hf(n){const[e,t]=B.useState(Ace());return Eo(()=>{t(r=>r??String(Ece++))},[n]),n||(e?`radix-${e}`:"")}const Cce=["top","right","bottom","left"],$f=Math.min,Oa=Math.max,nS=Math.round,c1=Math.floor,Zc=n=>({x:n,y:n}),Mce={left:"right",right:"left",bottom:"top",top:"bottom"},Tce={start:"end",end:"start"};function tI(n,e,t){return Oa(n,$f(e,t))}function xd(n,e){return typeof n=="function"?n(e):n}function bd(n){return n.split("-")[0]}function lv(n){return n.split("-")[1]}function WF(n){return n==="x"?"y":"x"}function $F(n){return n==="y"?"height":"width"}const Pce=new Set(["top","bottom"]);function Xc(n){return Pce.has(bd(n))?"y":"x"}function qF(n){return WF(Xc(n))}function Rce(n,e,t){t===void 0&&(t=!1);const r=lv(n),i=qF(n),s=$F(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=rS(o)),[o,rS(o)]}function Nce(n){const e=rS(n);return[nI(n),e,nI(e)]}function nI(n){return n.replace(/start|end/g,e=>Tce[e])}const jj=["left","right"],Uj=["right","left"],Ice=["top","bottom"],Oce=["bottom","top"];function Fce(n,e,t){switch(n){case"top":case"bottom":return t?e?Uj:jj:e?jj:Uj;case"left":case"right":return e?Ice:Oce;default:return[]}}function Dce(n,e,t,r){const i=lv(n);let s=Fce(bd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(nI)))),s}function rS(n){return n.replace(/left|right|bottom|top/g,e=>Mce[e])}function Bce(n){return{top:0,right:0,bottom:0,left:0,...n}}function l$(n){return typeof n!="number"?Bce(n):{top:n,right:n,bottom:n,left:n}}function iS(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function zj(n,e,t){let{reference:r,floating:i}=n;const s=Xc(e),o=qF(e),a=$F(o),l=bd(e),u=s==="y",d=r.x+r.width/2-i.width/2,c=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:c};break;case"left":m={x:r.x-i.width,y:c};break;default:m={x:r.x,y:r.y}}switch(lv(e)){case"start":m[o]-=f*(t&&u?-1:1);break;case"end":m[o]+=f*(t&&u?-1:1);break}return m}const kce=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:c}=zj(u,r,l),f=r,m={},v=0;for(let b=0;b<a.length;b++){const{name:y,fn:w}=a[b],{x:A,y:E,data:C,reset:M}=await w({x:d,y:c,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:n,floating:e}});d=A??d,c=E??c,m={...m,[y]:{...m[y],...C}},M&&v<=50&&(v++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:d,y:c}=zj(u,f,l)),b=-1)}return{x:d,y:c,placement:f,strategy:i,middlewareData:m}};async function Px(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:c="floating",altBoundary:f=!1,padding:m=0}=xd(e,n),v=l$(m),y=a[f?c==="floating"?"reference":"floating":c],w=iS(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),A=c==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},M=iS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:E,strategy:l}):A);return{top:(w.top-M.top+v.top)/C.y,bottom:(M.bottom-w.bottom+v.bottom)/C.y,left:(w.left-M.left+v.left)/C.x,right:(M.right-w.right+v.right)/C.x}}const Lce=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=xd(n,e)||{};if(u==null)return{};const c=l$(d),f={x:t,y:r},m=qF(i),v=$F(m),b=await o.getDimensions(u),y=m==="y",w=y?"top":"left",A=y?"bottom":"right",E=y?"clientHeight":"clientWidth",C=s.reference[v]+s.reference[m]-f[m]-s.floating[v],M=f[m]-s.reference[m],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=R?R[E]:0;(!O||!await(o.isElement==null?void 0:o.isElement(R)))&&(O=a.floating[E]||s.floating[v]);const k=C/2-M/2,D=O/2-b[v]/2-1,I=$f(c[w],D),L=$f(c[A],D),W=I,q=O-b[v]-L,K=O/2-b[v]/2+k,ne=tI(W,K,q),V=!l.arrow&&lv(i)!=null&&K!==ne&&s.reference[v]/2-(K<W?I:L)-b[v]/2<0,ee=V?K<W?K-W:K-q:0;return{[m]:f[m]+ee,data:{[m]:ne,centerOffset:K-ne-ee,...V&&{alignmentOffset:ee}},reset:V}}}),jce=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...y}=xd(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=bd(i),A=Xc(a),E=bd(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=f||(E||!b?[rS(a)]:Nce(a)),R=v!=="none";!f&&R&&M.push(...Dce(a,b,v,C));const O=[a,...M],k=await Px(e,y),D=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&D.push(k[w]),c){const K=Rce(i,o,C);D.push(k[K[0]],k[K[1]])}if(I=[...I,{placement:i,overflows:D}],!D.every(K=>K<=0)){var L,W;const K=(((L=s.flip)==null?void 0:L.index)||0)+1,ne=O[K];if(ne&&(!(c==="alignment"?A!==Xc(ne):!1)||I.every(H=>Xc(H.placement)===A?H.overflows[0]>0:!0)))return{data:{index:K,overflows:I},reset:{placement:ne}};let V=(W=I.filter(ee=>ee.overflows[0]<=0).sort((ee,H)=>ee.overflows[1]-H.overflows[1])[0])==null?void 0:W.placement;if(!V)switch(m){case"bestFit":{var q;const ee=(q=I.filter(H=>{if(R){const Z=Xc(H.placement);return Z===A||Z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Z=>Z>0).reduce((Z,te)=>Z+te,0)]).sort((H,Z)=>H[1]-Z[1])[0])==null?void 0:q[0];ee&&(V=ee);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function Hj(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Gj(n){return Cce.some(e=>n[e]>=0)}const Uce=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=xd(n,e);switch(r){case"referenceHidden":{const s=await Px(e,{...i,elementContext:"reference"}),o=Hj(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Gj(o)}}}case"escaped":{const s=await Px(e,{...i,altBoundary:!0}),o=Hj(s,t.floating);return{data:{escapedOffsets:o,escaped:Gj(o)}}}default:return{}}}}},c$=new Set(["left","top"]);async function zce(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=bd(t),a=lv(t),l=Xc(t)==="y",u=c$.has(o)?-1:1,d=s&&l?-1:1,c=xd(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Hce=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await zce(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Gce=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:A}=y;return{x:w,y:A}}},...l}=xd(n,e),u={x:t,y:r},d=await Px(e,l),c=Xc(bd(i)),f=WF(c);let m=u[f],v=u[c];if(s){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",A=m+d[y],E=m-d[w];m=tI(A,m,E)}if(o){const y=c==="y"?"top":"left",w=c==="y"?"bottom":"right",A=v+d[y],E=v-d[w];v=tI(A,v,E)}const b=a.fn({...e,[f]:m,[c]:v});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[f]:s,[c]:o}}}}}},Vce=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=xd(n,e),d={x:t,y:r},c=Xc(i),f=WF(c);let m=d[f],v=d[c];const b=xd(a,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const E=f==="y"?"height":"width",C=s.reference[f]-s.floating[E]+y.mainAxis,M=s.reference[f]+s.reference[E]-y.mainAxis;m<C?m=C:m>M&&(m=M)}if(u){var w,A;const E=f==="y"?"width":"height",C=c$.has(bd(i)),M=s.reference[c]-s.floating[E]+(C&&((w=o.offset)==null?void 0:w[c])||0)+(C?0:y.crossAxis),R=s.reference[c]+s.reference[E]+(C?0:((A=o.offset)==null?void 0:A[c])||0)-(C?y.crossAxis:0);v<M?v=M:v>R&&(v=R)}return{[f]:m,[c]:v}}}},Wce=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=xd(n,e),d=await Px(e,u),c=bd(i),f=lv(i),m=Xc(i)==="y",{width:v,height:b}=s.floating;let y,w;c==="top"||c==="bottom"?(y=c,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=c,y=f==="end"?"top":"bottom");const A=b-d.top-d.bottom,E=v-d.left-d.right,C=$f(b-d[y],A),M=$f(v-d[w],E),R=!e.middlewareData.shift;let O=C,k=M;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=A),R&&!f){const I=Oa(d.left,0),L=Oa(d.right,0),W=Oa(d.top,0),q=Oa(d.bottom,0);m?k=v-2*(I!==0||L!==0?I+L:Oa(d.left,d.right)):O=b-2*(W!==0||q!==0?W+q:Oa(d.top,d.bottom))}await l({...e,availableWidth:k,availableHeight:O});const D=await o.getDimensions(a.floating);return v!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function SE(){return typeof window<"u"}function cv(n){return u$(n)?(n.nodeName||"").toLowerCase():"#document"}function La(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function mu(n){var e;return(e=(u$(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function u$(n){return SE()?n instanceof Node||n instanceof La(n).Node:!1}function fc(n){return SE()?n instanceof Element||n instanceof La(n).Element:!1}function ou(n){return SE()?n instanceof HTMLElement||n instanceof La(n).HTMLElement:!1}function Vj(n){return!SE()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof La(n).ShadowRoot}const $ce=new Set(["inline","contents"]);function zb(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=hc(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!$ce.has(i)}const qce=new Set(["table","td","th"]);function Xce(n){return qce.has(cv(n))}const Kce=[":popover-open",":modal"];function AE(n){return Kce.some(e=>{try{return n.matches(e)}catch{return!1}})}const Yce=["transform","translate","scale","rotate","perspective"],Jce=["transform","translate","scale","rotate","perspective","filter"],Zce=["paint","layout","strict","content"];function XF(n){const e=KF(),t=fc(n)?hc(n):n;return Yce.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Jce.some(r=>(t.willChange||"").includes(r))||Zce.some(r=>(t.contain||"").includes(r))}function Qce(n){let e=qf(n);for(;ou(e)&&!m0(e);){if(XF(e))return e;if(AE(e))return null;e=qf(e)}return null}function KF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eue=new Set(["html","body","#document"]);function m0(n){return eue.has(cv(n))}function hc(n){return La(n).getComputedStyle(n)}function EE(n){return fc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qf(n){if(cv(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Vj(n)&&n.host||mu(n);return Vj(e)?e.host:e}function d$(n){const e=qf(n);return m0(e)?n.ownerDocument?n.ownerDocument.body:n.body:ou(e)&&zb(e)?e:d$(e)}function Rx(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=d$(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=La(i);if(s){const a=rI(o);return e.concat(o,o.visualViewport||[],zb(i)?i:[],a&&t?Rx(a):[])}return e.concat(i,Rx(i,[],t))}function rI(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function f$(n){const e=hc(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ou(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=nS(t)!==s||nS(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function YF(n){return fc(n)?n:n.contextElement}function Jg(n){const e=YF(n);if(!ou(e))return Zc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=f$(e);let o=(s?nS(t.width):t.width)/r,a=(s?nS(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tue=Zc(0);function h$(n){const e=La(n);return!KF()||!e.visualViewport?tue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nue(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==La(n)?!1:e}function Yp(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=YF(n);let o=Zc(1);e&&(r?fc(r)&&(o=Jg(r)):o=Jg(n));const a=nue(s,t,r)?h$(s):Zc(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,c=i.height/o.y;if(s){const f=La(s),m=r&&fc(r)?La(r):r;let v=f,b=rI(v);for(;b&&r&&m!==v;){const y=Jg(b),w=b.getBoundingClientRect(),A=hc(b),E=w.left+(b.clientLeft+parseFloat(A.paddingLeft))*y.x,C=w.top+(b.clientTop+parseFloat(A.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,c*=y.y,l+=E,u+=C,v=La(b),b=rI(v)}}return iS({width:d,height:c,x:l,y:u})}function CE(n,e){const t=EE(n).scrollLeft;return e?e.left+t:Yp(mu(n)).left+t}function p$(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-CE(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function rue(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=mu(r),a=e?AE(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Zc(1);const d=Zc(0),c=ou(r);if((c||!c&&!s)&&((cv(r)!=="body"||zb(o))&&(l=EE(r)),ou(r))){const m=Yp(r);u=Jg(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!c&&!s?p$(o,l):Zc(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-l.scrollTop*u.y+d.y+f.y}}function iue(n){return Array.from(n.getClientRects())}function sue(n){const e=mu(n),t=EE(n),r=n.ownerDocument.body,i=Oa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Oa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+CE(n);const a=-t.scrollTop;return hc(r).direction==="rtl"&&(o+=Oa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Wj=25;function oue(n,e){const t=La(n),r=mu(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=KF();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=CE(r);if(u<=0){const d=r.ownerDocument,c=d.body,f=getComputedStyle(c),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(r.clientWidth-c.clientWidth-m);v<=Wj&&(s-=v)}else u<=Wj&&(s+=u);return{width:s,height:o,x:a,y:l}}const aue=new Set(["absolute","fixed"]);function lue(n,e){const t=Yp(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=ou(n)?Jg(n):Zc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function $j(n,e,t){let r;if(e==="viewport")r=oue(n,t);else if(e==="document")r=sue(mu(n));else if(fc(e))r=lue(e,t);else{const i=h$(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return iS(r)}function m$(n,e){const t=qf(n);return t===e||!fc(t)||m0(t)?!1:hc(t).position==="fixed"||m$(t,e)}function cue(n,e){const t=e.get(n);if(t)return t;let r=Rx(n,[],!1).filter(a=>fc(a)&&cv(a)!=="body"),i=null;const s=hc(n).position==="fixed";let o=s?qf(n):n;for(;fc(o)&&!m0(o);){const a=hc(o),l=XF(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&aue.has(i.position)||zb(o)&&!l&&m$(n,o))?r=r.filter(d=>d!==o):i=a,o=qf(o)}return e.set(n,r),r}function uue(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?AE(e)?[]:cue(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,d)=>{const c=$j(e,d,i);return u.top=Oa(c.top,u.top),u.right=$f(c.right,u.right),u.bottom=$f(c.bottom,u.bottom),u.left=Oa(c.left,u.left),u},$j(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function due(n){const{width:e,height:t}=f$(n);return{width:e,height:t}}function fue(n,e,t){const r=ou(e),i=mu(e),s=t==="fixed",o=Yp(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Zc(0);function u(){l.x=CE(i)}if(r||!r&&!s)if((cv(e)!=="body"||zb(i))&&(a=EE(e)),r){const m=Yp(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?p$(i,a):Zc(0),c=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:c,y:f,width:o.width,height:o.height}}function nT(n){return hc(n).position==="static"}function qj(n,e){if(!ou(n)||hc(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return mu(n)===t&&(t=t.ownerDocument.body),t}function g$(n,e){const t=La(n);if(AE(n))return t;if(!ou(n)){let i=qf(n);for(;i&&!m0(i);){if(fc(i)&&!nT(i))return i;i=qf(i)}return t}let r=qj(n,e);for(;r&&Xce(r)&&nT(r);)r=qj(r,e);return r&&m0(r)&&nT(r)&&!XF(r)?t:r||Qce(n)||t}const hue=async function(n){const e=this.getOffsetParent||g$,t=this.getDimensions,r=await t(n.floating);return{reference:fue(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pue(n){return hc(n).direction==="rtl"}const mue={convertOffsetParentRelativeRectToViewportRelativeRect:rue,getDocumentElement:mu,getClippingRect:uue,getOffsetParent:g$,getElementRects:hue,getClientRects:iue,getDimensions:due,getScale:Jg,isElement:fc,isRTL:pue};function v$(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function gue(n,e){let t=null,r;const i=mu(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:d,top:c,width:f,height:m}=u;if(a||e(),!f||!m)return;const v=c1(c),b=c1(i.clientWidth-(d+f)),y=c1(i.clientHeight-(c+m)),w=c1(d),E={rootMargin:-v+"px "+-b+"px "+-y+"px "+-w+"px",threshold:Oa(0,$f(1,l))||1};let C=!0;function M(R){const O=R[0].intersectionRatio;if(O!==l){if(!C)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!v$(u,n.getBoundingClientRect())&&o(),C=!1}try{t=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(M,E)}t.observe(n)}return o(!0),s}function vue(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=YF(n),d=i||s?[...u?Rx(u):[],...Rx(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const c=u&&a?gue(u,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[A]=w;A&&A.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),t()}),u&&!l&&m.observe(u),m.observe(e));let v,b=l?Yp(n):null;l&&y();function y(){const w=Yp(n);b&&!v$(b,w)&&t(),b=w,v=requestAnimationFrame(y)}return t(),()=>{var w;d.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),c?.(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const yue=Hce,xue=Gce,bue=jce,_ue=Wce,wue=Uce,Xj=Lce,Sue=Vce,Aue=(n,e,t)=>{const r=new Map,i={platform:mue,...t},s={...i.platform,_c:r};return kce(n,e,{...i,platform:s})};var Eue=typeof document<"u",Cue=function(){},Uw=Eue?B.useLayoutEffect:Cue;function sS(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!sS(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!sS(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function y$(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Kj(n,e){const t=y$(n);return Math.round(e*t)/t}function rT(n){const e=B.useRef(n);return Uw(()=>{e.current=n}),e}function Mue(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,c]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=B.useState(r);sS(f,r)||m(r);const[v,b]=B.useState(null),[y,w]=B.useState(null),A=B.useCallback(H=>{H!==R.current&&(R.current=H,b(H))},[]),E=B.useCallback(H=>{H!==O.current&&(O.current=H,w(H))},[]),C=s||v,M=o||y,R=B.useRef(null),O=B.useRef(null),k=B.useRef(d),D=l!=null,I=rT(l),L=rT(i),W=rT(u),q=B.useCallback(()=>{if(!R.current||!O.current)return;const H={placement:e,strategy:t,middleware:f};L.current&&(H.platform=L.current),Aue(R.current,O.current,H).then(Z=>{const te={...Z,isPositioned:W.current!==!1};K.current&&!sS(k.current,te)&&(k.current=te,Ib.flushSync(()=>{c(te)}))})},[f,e,t,L,W]);Uw(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,c(H=>({...H,isPositioned:!1})))},[u]);const K=B.useRef(!1);Uw(()=>(K.current=!0,()=>{K.current=!1}),[]),Uw(()=>{if(C&&(R.current=C),M&&(O.current=M),C&&M){if(I.current)return I.current(C,M,q);q()}},[C,M,q,I,D]);const ne=B.useMemo(()=>({reference:R,floating:O,setReference:A,setFloating:E}),[A,E]),V=B.useMemo(()=>({reference:C,floating:M}),[C,M]),ee=B.useMemo(()=>{const H={position:t,left:0,top:0};if(!V.floating)return H;const Z=Kj(V.floating,d.x),te=Kj(V.floating,d.y);return a?{...H,transform:"translate("+Z+"px, "+te+"px)",...y$(V.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:te}},[t,a,V.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:q,refs:ne,elements:V,floatingStyles:ee}),[d,q,ne,V,ee])}const Tue=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Xj({element:r.current,padding:i}).fn(t):{}:r?Xj({element:r,padding:i}).fn(t):{}}}},Pue=(n,e)=>({...yue(n),options:[n,e]}),Rue=(n,e)=>({...xue(n),options:[n,e]}),Nue=(n,e)=>({...Sue(n),options:[n,e]}),Iue=(n,e)=>({...bue(n),options:[n,e]}),Oue=(n,e)=>({..._ue(n),options:[n,e]}),Fue=(n,e)=>({...wue(n),options:[n,e]}),Due=(n,e)=>({...Tue(n),options:[n,e]});var Bue="Arrow",x$=B.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return p.jsx(Wn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});x$.displayName=Bue;var kue=x$,JF="Popper",[b$,ME]=mc(JF),[Lue,_$]=b$(JF),w$=n=>{const{__scopePopper:e,children:t}=n,[r,i]=B.useState(null);return p.jsx(Lue,{scope:e,anchor:r,onAnchorChange:i,children:t})};w$.displayName=JF;var S$="PopperAnchor",A$=B.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=_$(S$,t),o=B.useRef(null),a=Ir(e,o),l=B.useRef(null);return B.useEffect(()=>{const u=l.current;l.current=r?.current||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:p.jsx(Wn.div,{...i,ref:a})});A$.displayName=S$;var ZF="PopperContent",[jue,Uue]=b$(ZF),E$=B.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:c="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...b}=n,y=_$(ZF,t),[w,A]=B.useState(null),E=Ir(e,xe=>A(xe)),[C,M]=B.useState(null),R=gE(C),O=R?.width??0,k=R?.height??0,D=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],W=L.length>0,q={padding:I,boundary:L.filter(Hue),altBoundary:W},{refs:K,floatingStyles:ne,placement:V,isPositioned:ee,middlewareData:H}=Mue({strategy:"fixed",placement:D,whileElementsMounted:(...xe)=>vue(...xe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Pue({mainAxis:i+k,alignmentAxis:o}),l&&Rue({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?Nue():void 0,...q}),l&&Iue({...q}),Oue({...q,apply:({elements:xe,rects:Pe,availableWidth:Te,availableHeight:je})=>{const{width:rt,height:Ue}=Pe.reference,ot=xe.floating.style;ot.setProperty("--radix-popper-available-width",`${Te}px`),ot.setProperty("--radix-popper-available-height",`${je}px`),ot.setProperty("--radix-popper-anchor-width",`${rt}px`),ot.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),C&&Due({element:C,padding:a}),Gue({arrowWidth:O,arrowHeight:k}),f&&Fue({strategy:"referenceHidden",...q})]}),[Z,te]=T$(V),Y=Wf(v);Eo(()=>{ee&&Y?.()},[ee,Y]);const ae=H.arrow?.x,we=H.arrow?.y,Fe=H.arrow?.centerOffset!==0,[qe,fe]=B.useState();return Eo(()=>{w&&fe(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:ee?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(jue,{scope:t,placedSide:Z,onArrowChange:M,arrowX:ae,arrowY:we,shouldHideArrow:Fe,children:p.jsx(Wn.div,{"data-side":Z,"data-align":te,...b,ref:E,style:{...b.style,animation:ee?void 0:"none"}})})})});E$.displayName=ZF;var C$="PopperArrow",zue={top:"bottom",right:"left",bottom:"top",left:"right"},M$=B.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Uue(C$,r),o=zue[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(kue,{...i,ref:t,style:{...i.style,display:"block"}})})});M$.displayName=C$;function Hue(n){return n!==null}var Gue=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,d]=T$(t),c={start:"0%",center:"50%",end:"100%"}[d],f=(i.arrow?.x??0)+a/2,m=(i.arrow?.y??0)+l/2;let v="",b="";return u==="bottom"?(v=o?c:`${f}px`,b=`${-l}px`):u==="top"?(v=o?c:`${f}px`,b=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,b=o?c:`${m}px`):u==="left"&&(v=`${r.floating.width+l}px`,b=o?c:`${m}px`),{data:{x:v,y:b}}}});function T$(n){const[e,t="center"]=n.split("-");return[e,t]}var P$=w$,R$=A$,N$=E$,I$=M$,Vue="Portal",TE=B.forwardRef((n,e)=>{const{container:t,...r}=n,[i,s]=B.useState(!1);Eo(()=>s(!0),[]);const o=t||i&&globalThis?.document?.body;return o?D7.createPortal(p.jsx(Wn.div,{...r,ref:e}),o):null});TE.displayName=Vue;var O$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wue="VisuallyHidden",$ue=B.forwardRef((n,e)=>p.jsx(Wn.span,{...n,ref:e,style:{...O$,...n.style}}));$ue.displayName=Wue;var que=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},lg=new WeakMap,u1=new WeakMap,d1={},iT=0,F$=function(n){return n&&(n.host||F$(n.parentNode))},Xue=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=F$(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Kue=function(n,e,t,r){var i=Xue(e,Array.isArray(n)?n:[n]);d1[t]||(d1[t]=new WeakMap);var s=d1[t],o=[],a=new Set,l=new Set(i),u=function(c){!c||a.has(c)||(a.add(c),u(c.parentNode))};i.forEach(u);var d=function(c){!c||l.has(c)||Array.prototype.forEach.call(c.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",b=(lg.get(f)||0)+1,y=(s.get(f)||0)+1;lg.set(f,b),s.set(f,y),o.push(f),b===1&&v&&u1.set(f,!0),y===1&&f.setAttribute(t,"true"),v||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),a.clear(),iT++,function(){o.forEach(function(c){var f=lg.get(c)-1,m=s.get(c)-1;lg.set(c,f),s.set(c,m),f||(u1.has(c)||c.removeAttribute(r),u1.delete(c)),m||c.removeAttribute(t)}),iT--,iT||(lg=new WeakMap,lg=new WeakMap,u1=new WeakMap,d1={})}},D$=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=que(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Kue(r,i,t,"aria-hidden")):function(){return null}},$c=function(){return $c=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$c.apply(this,arguments)};function B$(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Yue(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var zw="right-scroll-bar-position",Hw="width-before-scroll-bar",Jue="with-scroll-bars-hidden",Zue="--removed-body-scroll-bar-size";function sT(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Que(n,e){var t=B.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var ede=typeof window<"u"?B.useLayoutEffect:B.useEffect,Yj=new WeakMap;function tde(n,e){var t=Que(null,function(r){return n.forEach(function(i){return sT(i,r)})});return ede(function(){var r=Yj.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||sT(a,null)}),s.forEach(function(a){i.has(a)||sT(a,o)})}Yj.set(t,n)},[n]),t}function nde(n){return n}function rde(n,e){e===void 0&&(e=nde);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return i}function ide(n){n===void 0&&(n={});var e=rde(null);return e.options=$c({async:!0,ssr:!1},n),e}var k$=function(n){var e=n.sideCar,t=B$(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,$c({},t))};k$.isSideCarExport=!0;function sde(n,e){return n.useMedium(e),k$}var L$=ide(),oT=function(){},PE=B.forwardRef(function(n,e){var t=B.useRef(null),r=B.useState({onScrollCapture:oT,onWheelCapture:oT,onTouchMoveCapture:oT}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,u=n.removeScrollBar,d=n.enabled,c=n.shards,f=n.sideCar,m=n.noRelative,v=n.noIsolation,b=n.inert,y=n.allowPinchZoom,w=n.as,A=w===void 0?"div":w,E=n.gapMode,C=B$(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,R=tde([t,e]),O=$c($c({},C),i);return B.createElement(B.Fragment,null,d&&B.createElement(M,{sideCar:L$,removeScrollBar:u,shards:c,noRelative:m,noIsolation:v,inert:b,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:E}),o?B.cloneElement(B.Children.only(a),$c($c({},O),{ref:R})):B.createElement(A,$c({},O,{className:l,ref:R}),a))});PE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};PE.classNames={fullWidth:Hw,zeroRight:zw};var ode=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ade(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=ode();return e&&n.setAttribute("nonce",e),n}function lde(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function cde(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var ude=function(){var n=0,e=null;return{add:function(t){n==0&&(e=ade())&&(lde(e,t),cde(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dde=function(){var n=ude();return function(e,t){B.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},j$=function(){var n=dde(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},fde={left:0,top:0,right:0,gap:0},aT=function(n){return parseInt(n||"",10)||0},hde=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[aT(t),aT(r),aT(i)]},pde=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return fde;var e=hde(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},mde=j$(),Zg="data-scroll-locked",gde=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Jue,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zw,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hw,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zw," .").concat(zw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hw," .").concat(Hw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zg,`] {
    `).concat(Zue,": ").concat(a,`px;
  }
`)},Jj=function(){var n=parseInt(document.body.getAttribute(Zg)||"0",10);return isFinite(n)?n:0},vde=function(){B.useEffect(function(){return document.body.setAttribute(Zg,(Jj()+1).toString()),function(){var n=Jj()-1;n<=0?document.body.removeAttribute(Zg):document.body.setAttribute(Zg,n.toString())}},[])},yde=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;vde();var s=B.useMemo(function(){return pde(i)},[i]);return B.createElement(mde,{styles:gde(s,!e,i,t?"":"!important")})},iI=!1;if(typeof window<"u")try{var f1=Object.defineProperty({},"passive",{get:function(){return iI=!0,!0}});window.addEventListener("test",f1,f1),window.removeEventListener("test",f1,f1)}catch{iI=!1}var cg=iI?{passive:!1}:!1,xde=function(n){return n.tagName==="TEXTAREA"},U$=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!xde(n)&&t[e]==="visible")},bde=function(n){return U$(n,"overflowY")},_de=function(n){return U$(n,"overflowX")},Zj=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=z$(n,r);if(i){var s=H$(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},wde=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Sde=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},z$=function(n,e){return n==="v"?bde(e):_de(e)},H$=function(n,e){return n==="v"?wde(e):Sde(e)},Ade=function(n,e){return n==="h"&&e==="rtl"?-1:1},Ede=function(n,e,t,r,i){var s=Ade(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),u=!1,d=o>0,c=0,f=0;do{if(!a)break;var m=H$(n,a),v=m[0],b=m[1],y=m[2],w=b-y-s*v;(v||w)&&z$(n,a)&&(c+=w,f+=v);var A=a.parentNode;a=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(c)<1||!d&&Math.abs(f)<1)&&(u=!0),u},h1=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Qj=function(n){return[n.deltaX,n.deltaY]},eU=function(n){return n&&"current"in n?n.current:n},Cde=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Mde=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Tde=0,ug=[];function Pde(n){var e=B.useRef([]),t=B.useRef([0,0]),r=B.useRef(),i=B.useState(Tde++)[0],s=B.useState(j$)[0],o=B.useRef(n);B.useEffect(function(){o.current=n},[n]),B.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Yue([n.lockRef.current],(n.shards||[]).map(eU),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=B.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var w=h1(b),A=t.current,E="deltaX"in b?b.deltaX:A[0]-w[0],C="deltaY"in b?b.deltaY:A[1]-w[1],M,R=b.target,O=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in b&&O==="h"&&R.type==="range")return!1;var k=Zj(O,R);if(!k)return!0;if(k?M=O:(M=O==="v"?"h":"v",k=Zj(O,R)),!k)return!1;if(!r.current&&"changedTouches"in b&&(E||C)&&(r.current=M),!M)return!0;var D=r.current||M;return Ede(D,y,b,D==="h"?E:C)},[]),l=B.useCallback(function(b){var y=b;if(!(!ug.length||ug[ug.length-1]!==s)){var w="deltaY"in y?Qj(y):h1(y),A=e.current.filter(function(M){return M.name===y.type&&(M.target===y.target||y.target===M.shadowParent)&&Cde(M.delta,w)})[0];if(A&&A.should){y.cancelable&&y.preventDefault();return}if(!A){var E=(o.current.shards||[]).map(eU).filter(Boolean).filter(function(M){return M.contains(y.target)}),C=E.length>0?a(y,E[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=B.useCallback(function(b,y,w,A){var E={name:b,delta:y,target:w,should:A,shadowParent:Rde(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),d=B.useCallback(function(b){t.current=h1(b),r.current=void 0},[]),c=B.useCallback(function(b){u(b.type,Qj(b),b.target,a(b,n.lockRef.current))},[]),f=B.useCallback(function(b){u(b.type,h1(b),b.target,a(b,n.lockRef.current))},[]);B.useEffect(function(){return ug.push(s),n.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:f}),document.addEventListener("wheel",l,cg),document.addEventListener("touchmove",l,cg),document.addEventListener("touchstart",d,cg),function(){ug=ug.filter(function(b){return b!==s}),document.removeEventListener("wheel",l,cg),document.removeEventListener("touchmove",l,cg),document.removeEventListener("touchstart",d,cg)}},[]);var m=n.removeScrollBar,v=n.inert;return B.createElement(B.Fragment,null,v?B.createElement(s,{styles:Mde(i)}):null,m?B.createElement(yde,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Rde(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Nde=sde(L$,Pde);var QF=B.forwardRef(function(n,e){return B.createElement(PE,$c({},n,{ref:e,sideCar:Nde}))});QF.classNames=PE.classNames;var Ide=[" ","Enter","ArrowUp","ArrowDown"],Ode=[" ","Enter"],Jp="Select",[RE,NE,Fde]=GF(Jp),[uv]=mc(Jp,[Fde,ME]),IE=ME(),[Dde,nh]=uv(Jp),[Bde,kde]=uv(Jp),G$=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:c,disabled:f,required:m,form:v}=n,b=IE(e),[y,w]=B.useState(null),[A,E]=B.useState(null),[C,M]=B.useState(!1),R=_E(u),[O,k]=yd({prop:r,defaultProp:i??!1,onChange:s,caller:Jp}),[D,I]=yd({prop:o,defaultProp:a,onChange:l,caller:Jp}),L=B.useRef(null),W=y?v||!!y.closest("form"):!0,[q,K]=B.useState(new Set),ne=Array.from(q).map(V=>V.props.value).join(";");return p.jsx(P$,{...b,children:p.jsxs(Dde,{required:m,scope:e,trigger:y,onTriggerChange:w,valueNode:A,onValueNodeChange:E,valueNodeHasChildren:C,onValueNodeHasChildrenChange:M,contentId:Hf(),value:D,onValueChange:I,open:O,onOpenChange:k,dir:R,triggerPointerDownPosRef:L,disabled:f,children:[p.jsx(RE.Provider,{scope:e,children:p.jsx(Bde,{scope:n.__scopeSelect,onNativeOptionAdd:B.useCallback(V=>{K(ee=>new Set(ee).add(V))},[]),onNativeOptionRemove:B.useCallback(V=>{K(ee=>{const H=new Set(ee);return H.delete(V),H})},[]),children:t})}),W?p.jsxs(dq,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:c,value:D,onChange:V=>I(V.target.value),disabled:f,form:v,children:[D===void 0?p.jsx("option",{value:""}):null,Array.from(q)]},ne):null]})})};G$.displayName=Jp;var V$="SelectTrigger",W$=B.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=IE(t),o=nh(V$,t),a=o.disabled||r,l=Ir(e,o.onTriggerChange),u=NE(t),d=B.useRef("touch"),[c,f,m]=hq(b=>{const y=u().filter(E=>!E.disabled),w=y.find(E=>E.value===o.value),A=pq(y,b,w);A!==void 0&&o.onValueChange(A.value)}),v=b=>{a||(o.onOpenChange(!0),m()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return p.jsx(R$,{asChild:!0,...s,children:p.jsx(Wn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fq(o.value)?"":void 0,...i,ref:l,onClick:Fn(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&v(b)}),onPointerDown:Fn(i.onPointerDown,b=>{d.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Fn(i.onKeyDown,b=>{const y=c.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&f(b.key),!(y&&b.key===" ")&&Ide.includes(b.key)&&(v(),b.preventDefault())})})})});W$.displayName=V$;var $$="SelectValue",q$=B.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=nh($$,t),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,c=Ir(e,l.onValueNodeChange);return Eo(()=>{u(d)},[u,d]),p.jsx(Wn.span,{...a,ref:c,style:{pointerEvents:"none"},children:fq(l.value)?p.jsx(p.Fragment,{children:o}):s})});q$.displayName=$$;var Lde="SelectIcon",X$=B.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return p.jsx(Wn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});X$.displayName=Lde;var jde="SelectPortal",K$=n=>p.jsx(TE,{asChild:!0,...n});K$.displayName=jde;var Zp="SelectContent",Y$=B.forwardRef((n,e)=>{const t=nh(Zp,n.__scopeSelect),[r,i]=B.useState();if(Eo(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Ib.createPortal(p.jsx(J$,{scope:n.__scopeSelect,children:p.jsx(RE.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),s):null}return p.jsx(Z$,{...n,ref:e})});Y$.displayName=Zp;var Zl=10,[J$,rh]=uv(Zp),Ude="SelectContentImpl",zde=h0("SelectContent.RemoveScroll"),Z$=B.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:c,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:b,avoidCollisions:y,...w}=n,A=nh(Zp,t),[E,C]=B.useState(null),[M,R]=B.useState(null),O=Ir(e,xe=>C(xe)),[k,D]=B.useState(null),[I,L]=B.useState(null),W=NE(t),[q,K]=B.useState(!1),ne=B.useRef(!1);B.useEffect(()=>{if(E)return D$(E)},[E]),o$();const V=B.useCallback(xe=>{const[Pe,...Te]=W().map(Ue=>Ue.ref.current),[je]=Te.slice(-1),rt=document.activeElement;for(const Ue of xe)if(Ue===rt||(Ue?.scrollIntoView({block:"nearest"}),Ue===Pe&&M&&(M.scrollTop=0),Ue===je&&M&&(M.scrollTop=M.scrollHeight),Ue?.focus(),document.activeElement!==rt))return},[W,M]),ee=B.useCallback(()=>V([k,E]),[V,k,E]);B.useEffect(()=>{q&&ee()},[q,ee]);const{onOpenChange:H,triggerPointerDownPosRef:Z}=A;B.useEffect(()=>{if(E){let xe={x:0,y:0};const Pe=je=>{xe={x:Math.abs(Math.round(je.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(Z.current?.y??0))}},Te=je=>{xe.x<=10&&xe.y<=10?je.preventDefault():E.contains(je.target)||H(!1),document.removeEventListener("pointermove",Pe),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Te,{capture:!0})}}},[E,H,Z]),B.useEffect(()=>{const xe=()=>H(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[H]);const[te,Y]=hq(xe=>{const Pe=W().filter(rt=>!rt.disabled),Te=Pe.find(rt=>rt.ref.current===document.activeElement),je=pq(Pe,xe,Te);je&&setTimeout(()=>je.ref.current.focus())}),ae=B.useCallback((xe,Pe,Te)=>{const je=!ne.current&&!Te;(A.value!==void 0&&A.value===Pe||je)&&(D(xe),je&&(ne.current=!0))},[A.value]),we=B.useCallback(()=>E?.focus(),[E]),Fe=B.useCallback((xe,Pe,Te)=>{const je=!ne.current&&!Te;(A.value!==void 0&&A.value===Pe||je)&&L(xe)},[A.value]),qe=r==="popper"?sI:Q$,fe=qe===sI?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:c,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:b,avoidCollisions:y}:{};return p.jsx(J$,{scope:t,content:E,viewport:M,onViewportChange:R,itemRefCallback:ae,selectedItem:k,onItemLeave:we,itemTextRefCallback:Fe,focusSelectedItem:ee,selectedItemText:I,position:r,isPositioned:q,searchRef:te,children:p.jsx(QF,{as:zde,allowPinchZoom:!0,children:p.jsx(VF,{asChild:!0,trapped:A.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Fn(i,xe=>{A.trigger?.focus({preventScroll:!0}),xe.preventDefault()}),children:p.jsx(wE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:p.jsx(qe,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:xe=>xe.preventDefault(),...w,...fe,onPlaced:()=>K(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Fn(w.onKeyDown,xe=>{const Pe=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Pe&&xe.key.length===1&&Y(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let je=W().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const rt=xe.target,Ue=je.indexOf(rt);je=je.slice(Ue+1)}setTimeout(()=>V(je)),xe.preventDefault()}})})})})})})});Z$.displayName=Ude;var Hde="SelectItemAlignedPosition",Q$=B.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=nh(Zp,t),o=rh(Zp,t),[a,l]=B.useState(null),[u,d]=B.useState(null),c=Ir(e,O=>d(O)),f=NE(t),m=B.useRef(!1),v=B.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:w,focusSelectedItem:A}=o,E=B.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&b&&y&&w){const O=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(s.dir!=="rtl"){const rt=I.left-k.left,Ue=D.left-rt,ot=O.left-Ue,De=O.width+ot,le=Math.max(De,k.width),et=window.innerWidth-Zl,at=tS(Ue,[Zl,Math.max(Zl,et-le)]);a.style.minWidth=De+"px",a.style.left=at+"px"}else{const rt=k.right-I.right,Ue=window.innerWidth-D.right-rt,ot=window.innerWidth-O.right-Ue,De=O.width+ot,le=Math.max(De,k.width),et=window.innerWidth-Zl,at=tS(Ue,[Zl,Math.max(Zl,et-le)]);a.style.minWidth=De+"px",a.style.right=at+"px"}const L=f(),W=window.innerHeight-Zl*2,q=b.scrollHeight,K=window.getComputedStyle(u),ne=parseInt(K.borderTopWidth,10),V=parseInt(K.paddingTop,10),ee=parseInt(K.borderBottomWidth,10),H=parseInt(K.paddingBottom,10),Z=ne+V+q+H+ee,te=Math.min(y.offsetHeight*5,Z),Y=window.getComputedStyle(b),ae=parseInt(Y.paddingTop,10),we=parseInt(Y.paddingBottom,10),Fe=O.top+O.height/2-Zl,qe=W-Fe,fe=y.offsetHeight/2,xe=y.offsetTop+fe,Pe=ne+V+xe,Te=Z-Pe;if(Pe<=Fe){const rt=L.length>0&&y===L[L.length-1].ref.current;a.style.bottom="0px";const Ue=u.clientHeight-b.offsetTop-b.offsetHeight,ot=Math.max(qe,fe+(rt?we:0)+Ue+ee),De=Pe+ot;a.style.height=De+"px"}else{const rt=L.length>0&&y===L[0].ref.current;a.style.top="0px";const ot=Math.max(Fe,ne+b.offsetTop+(rt?ae:0)+fe)+Te;a.style.height=ot+"px",b.scrollTop=Pe-Fe+b.offsetTop}a.style.margin=`${Zl}px 0`,a.style.minHeight=te+"px",a.style.maxHeight=W+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,u,b,y,w,s.dir,r]);Eo(()=>E(),[E]);const[C,M]=B.useState();Eo(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const R=B.useCallback(O=>{O&&v.current===!0&&(E(),A?.(),v.current=!1)},[E,A]);return p.jsx(Vde,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:R,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:p.jsx(Wn.div,{...i,ref:c,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Q$.displayName=Hde;var Gde="SelectPopperPosition",sI=B.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Zl,...s}=n,o=IE(t);return p.jsx(N$,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sI.displayName=Gde;var[Vde,eD]=uv(Zp,{}),oI="SelectViewport",eq=B.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=rh(oI,t),o=eD(oI,t),a=Ir(e,s.onViewportChange),l=B.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(RE.Slot,{scope:t,children:p.jsx(Wn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fn(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:f}=o;if(f?.current&&c){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Zl*2,b=parseFloat(c.style.minHeight),y=parseFloat(c.style.height),w=Math.max(b,y);if(w<v){const A=w+m,E=Math.min(v,A),C=A-E;c.style.height=E+"px",c.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,c.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eq.displayName=oI;var tq="SelectGroup",[Wde,$de]=uv(tq),qde=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Hf();return p.jsx(Wde,{scope:t,id:i,children:p.jsx(Wn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});qde.displayName=tq;var nq="SelectLabel",Xde=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=$de(nq,t);return p.jsx(Wn.div,{id:i.id,...r,ref:e})});Xde.displayName=nq;var oS="SelectItem",[Kde,rq]=uv(oS),iq=B.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=nh(oS,t),l=rh(oS,t),u=a.value===r,[d,c]=B.useState(s??""),[f,m]=B.useState(!1),v=Ir(e,A=>l.itemRefCallback?.(A,r,i)),b=Hf(),y=B.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Kde,{scope:t,value:r,disabled:i,textId:b,isSelected:u,onItemTextChange:B.useCallback(A=>{c(E=>E||(A?.textContent??"").trim())},[]),children:p.jsx(RE.ItemSlot,{scope:t,value:r,disabled:i,textValue:d,children:p.jsx(Wn.div,{role:"option","aria-labelledby":b,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Fn(o.onFocus,()=>m(!0)),onBlur:Fn(o.onBlur,()=>m(!1)),onClick:Fn(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Fn(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Fn(o.onPointerDown,A=>{y.current=A.pointerType}),onPointerMove:Fn(o.onPointerMove,A=>{y.current=A.pointerType,i?l.onItemLeave?.():y.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fn(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Fn(o.onKeyDown,A=>{l.searchRef?.current!==""&&A.key===" "||(Ode.includes(A.key)&&w(),A.key===" "&&A.preventDefault())})})})})});iq.displayName=oS;var qy="SelectItemText",sq=B.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=nh(qy,t),a=rh(qy,t),l=rq(qy,t),u=kde(qy,t),[d,c]=B.useState(null),f=Ir(e,w=>c(w),l.onItemTextChange,w=>a.itemTextRefCallback?.(w,l.value,l.disabled)),m=d?.textContent,v=B.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return Eo(()=>(b(v),()=>y(v)),[b,y,v]),p.jsxs(p.Fragment,{children:[p.jsx(Wn.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ib.createPortal(s.children,o.valueNode):null]})});sq.displayName=qy;var oq="SelectItemIndicator",aq=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return rq(oq,t).isSelected?p.jsx(Wn.span,{"aria-hidden":!0,...r,ref:e}):null});aq.displayName=oq;var aI="SelectScrollUpButton",lq=B.forwardRef((n,e)=>{const t=rh(aI,n.__scopeSelect),r=eD(aI,n.__scopeSelect),[i,s]=B.useState(!1),o=Ir(e,r.onScrollButtonChange);return Eo(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?p.jsx(uq,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});lq.displayName=aI;var lI="SelectScrollDownButton",cq=B.forwardRef((n,e)=>{const t=rh(lI,n.__scopeSelect),r=eD(lI,n.__scopeSelect),[i,s]=B.useState(!1),o=Ir(e,r.onScrollButtonChange);return Eo(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?p.jsx(uq,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});cq.displayName=lI;var uq=B.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=rh("SelectScrollButton",t),o=B.useRef(null),a=NE(t),l=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>l(),[l]),Eo(()=>{a().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),p.jsx(Wn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Fn(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Fn(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Fn(i.onPointerLeave,()=>{l()})})}),Yde="SelectSeparator",Jde=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(Wn.div,{"aria-hidden":!0,...r,ref:e})});Jde.displayName=Yde;var cI="SelectArrow",Zde=B.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=IE(t),s=nh(cI,t),o=rh(cI,t);return s.open&&o.position==="popper"?p.jsx(I$,{...i,...r,ref:e}):null});Zde.displayName=cI;var Qde="SelectBubbleInput",dq=B.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=B.useRef(null),s=Ir(r,i),o=mE(e);return B.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const c=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(c)}},[o,e]),p.jsx(Wn.select,{...t,style:{...O$,...t.style},ref:s,defaultValue:e})});dq.displayName=Qde;function fq(n){return n===""||n===void 0}function hq(n){const e=Wf(n),t=B.useRef(""),r=B.useRef(0),i=B.useCallback(o=>{const a=t.current+o;e(a),(function l(u){t.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),s=B.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function pq(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=efe(n,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==t));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function efe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var tfe=G$,nfe=W$,rfe=q$,ife=X$,sfe=K$,ofe=Y$,afe=eq,lfe=iq,cfe=sq,ufe=aq,dfe=lq,ffe=cq;function Qg({...n}){return p.jsx(tfe,{"data-slot":"select",...n})}function e0({...n}){return p.jsx(rfe,{"data-slot":"select-value",...n})}function t0({className:n,size:e="default",children:t,...r}){return p.jsxs(nfe,{"data-slot":"select-trigger","data-size":e,className:Vn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,p.jsx(ife,{asChild:!0,children:p.jsx(UF,{className:"size-4 opacity-50"})})]})}function n0({className:n,children:e,position:t="popper",...r}){return p.jsx(sfe,{children:p.jsxs(ofe,{"data-slot":"select-content",className:Vn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[p.jsx(hfe,{}),p.jsx(afe,{className:Vn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(pfe,{})]})})}function Ii({className:n,children:e,...t}){return p.jsxs(lfe,{"data-slot":"select-item",className:Vn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(ufe,{children:p.jsx(QW,{className:"size-4"})})}),p.jsx(cfe,{children:e})]})}function hfe({className:n,...e}){return p.jsx(dfe,{"data-slot":"select-scroll-up-button",className:Vn("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(e$,{className:"size-4"})})}function pfe({className:n,...e}){return p.jsx(ffe,{"data-slot":"select-scroll-down-button",className:Vn("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(UF,{className:"size-4"})})}var mq=["PageUp","PageDown"],gq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vq={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},dv="Slider",[uI,mfe,gfe]=GF(dv),[yq]=mc(dv,[gfe]),[vfe,OE]=yq(dv),xq=B.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:c=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:v,...b}=n,y=B.useRef(new Set),w=B.useRef(0),E=o==="horizontal"?yfe:xfe,[C=[],M]=yd({prop:d,defaultProp:u,onChange:L=>{[...y.current][w.current]?.focus(),c(L)}}),R=B.useRef(C);function O(L){const W=Afe(C,L);I(L,W)}function k(L){I(L,w.current)}function D(){const L=R.current[w.current];C[w.current]!==L&&f(C)}function I(L,W,{commit:q}={commit:!1}){const K=Tfe(s),ne=Pfe(Math.round((L-r)/s)*s+r,K),V=tS(ne,[r,i]);M((ee=[])=>{const H=wfe(ee,V,W);if(Mfe(H,l*s)){w.current=H.indexOf(V);const Z=String(H)!==String(ee);return Z&&q&&f(H),Z?H:ee}else return ee})}return p.jsx(vfe,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:w,thumbs:y.current,values:C,orientation:o,form:v,children:p.jsx(uI.Provider,{scope:n.__scopeSlider,children:p.jsx(uI.Slot,{scope:n.__scopeSlider,children:p.jsx(E,{"aria-disabled":a,"data-disabled":a?"":void 0,...b,ref:e,onPointerDown:Fn(b.onPointerDown,()=>{a||(R.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:O,onSlideMove:a?void 0:k,onSlideEnd:a?void 0:D,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(i,C.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:W})=>{if(!a){const ne=mq.includes(L.key)||L.shiftKey&&gq.includes(L.key)?10:1,V=w.current,ee=C[V],H=s*ne*W;I(ee+H,V,{commit:!0})}}})})})})});xq.displayName=dv;var[bq,_q]=yq(dv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yfe=B.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=n,[c,f]=B.useState(null),m=Ir(e,E=>f(E)),v=B.useRef(void 0),b=_E(i),y=b==="ltr",w=y&&!s||!y&&s;function A(E){const C=v.current||c.getBoundingClientRect(),M=[0,C.width],O=tD(M,w?[t,r]:[r,t]);return v.current=C,O(E-C.left)}return p.jsx(bq,{scope:n.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:p.jsx(wq,{dir:b,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const C=A(E.clientX);o?.(C)},onSlideMove:E=>{const C=A(E.clientX);a?.(C)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:E=>{const M=vq[w?"from-left":"from-right"].includes(E.key);u?.({event:E,direction:M?-1:1})}})})}),xfe=B.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=n,d=B.useRef(null),c=Ir(e,d),f=B.useRef(void 0),m=!i;function v(b){const y=f.current||d.current.getBoundingClientRect(),w=[0,y.height],E=tD(w,m?[r,t]:[t,r]);return f.current=y,E(b-y.top)}return p.jsx(bq,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:p.jsx(wq,{"data-orientation":"vertical",...u,ref:c,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const y=v(b.clientY);s?.(y)},onSlideMove:b=>{const y=v(b.clientY);o?.(y)},onSlideEnd:()=>{f.current=void 0,a?.()},onStepKeyDown:b=>{const w=vq[m?"from-bottom":"from-top"].includes(b.key);l?.({event:b,direction:w?-1:1})}})})}),wq=B.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=n,d=OE(dv,t);return p.jsx(Wn.span,{...u,ref:e,onKeyDown:Fn(n.onKeyDown,c=>{c.key==="Home"?(o(c),c.preventDefault()):c.key==="End"?(a(c),c.preventDefault()):mq.concat(gq).includes(c.key)&&(l(c),c.preventDefault())}),onPointerDown:Fn(n.onPointerDown,c=>{const f=c.target;f.setPointerCapture(c.pointerId),c.preventDefault(),d.thumbs.has(f)?f.focus():r(c)}),onPointerMove:Fn(n.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&i(c)}),onPointerUp:Fn(n.onPointerUp,c=>{const f=c.target;f.hasPointerCapture(c.pointerId)&&(f.releasePointerCapture(c.pointerId),s(c))})})}),Sq="SliderTrack",Aq=B.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=OE(Sq,t);return p.jsx(Wn.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Aq.displayName=Sq;var dI="SliderRange",Eq=B.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=OE(dI,t),s=_q(dI,t),o=B.useRef(null),a=Ir(e,o),l=i.values.length,u=i.values.map(f=>Tq(f,i.min,i.max)),d=l>1?Math.min(...u):0,c=100-Math.max(...u);return p.jsx(Wn.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:d+"%",[s.endEdge]:c+"%"}})});Eq.displayName=dI;var fI="SliderThumb",Cq=B.forwardRef((n,e)=>{const t=mfe(n.__scopeSlider),[r,i]=B.useState(null),s=Ir(e,a=>i(a)),o=B.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return p.jsx(bfe,{...n,ref:s,index:o})}),bfe=B.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=OE(fI,t),a=_q(fI,t),[l,u]=B.useState(null),d=Ir(e,A=>u(A)),c=l?o.form||!!l.closest("form"):!0,f=gE(l),m=o.values[r],v=m===void 0?0:Tq(m,o.min,o.max),b=Sfe(r,o.values.length),y=f?.[a.size],w=y?Efe(y,v,a.direction):0;return B.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${w}px)`},children:[p.jsx(uI.ItemSlot,{scope:n.__scopeSlider,children:p.jsx(Wn.span,{role:"slider","aria-label":n["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:n.style,onFocus:Fn(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),c&&p.jsx(Mq,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});Cq.displayName=fI;var _fe="RadioBubbleInput",Mq=B.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=B.useRef(null),s=Ir(i,r),o=mE(e);return B.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const c=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(c)}},[o,e]),p.jsx(Wn.input,{style:{display:"none"},...t,ref:s,defaultValue:e})});Mq.displayName=_fe;function wfe(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function Tq(n,e,t){const s=100/(t-e)*(n-e);return tS(s,[0,100])}function Sfe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function Afe(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function Efe(n,e,t){const r=n/2,s=tD([0,50],[0,r]);return(r-s(e)*t)*t}function Cfe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function Mfe(n,e){if(e>0){const t=Cfe(n);return Math.min(...t)>=e}return!0}function tD(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Tfe(n){return(String(n).split(".")[1]||"").length}function Pfe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var Rfe=xq,Nfe=Aq,Ife=Eq,Ofe=Cq;function Nx({className:n,defaultValue:e,value:t,min:r=0,max:i=100,...s}){const o=B.useMemo(()=>Array.isArray(t)?t:Array.isArray(e)?e:[r,i],[t,e,r,i]);return p.jsxs(Rfe,{"data-slot":"slider",defaultValue:e,value:t,min:r,max:i,className:Vn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),...s,children:[p.jsx(Nfe,{"data-slot":"slider-track",className:Vn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:p.jsx(Ife,{"data-slot":"slider-range",className:Vn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(a,l)=>p.jsx(Ofe,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}var FE="Dialog",[Pq]=mc(FE),[Ffe,gc]=Pq(FE),Rq=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=B.useRef(null),l=B.useRef(null),[u,d]=yd({prop:r,defaultProp:i??!1,onChange:s,caller:FE});return p.jsx(Ffe,{scope:e,triggerRef:a,contentRef:l,contentId:Hf(),titleId:Hf(),descriptionId:Hf(),open:u,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(c=>!c),[d]),modal:o,children:t})};Rq.displayName=FE;var Nq="DialogTrigger",Iq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(Nq,t),s=Ir(e,i.triggerRef);return p.jsx(Wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iD(i.open),...r,ref:s,onClick:Fn(n.onClick,i.onOpenToggle)})});Iq.displayName=Nq;var nD="DialogPortal",[Dfe,Oq]=Pq(nD,{forceMount:void 0}),Fq=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=gc(nD,e);return p.jsx(Dfe,{scope:e,forceMount:t,children:B.Children.map(r,o=>p.jsx(th,{present:t||s.open,children:p.jsx(TE,{asChild:!0,container:i,children:o})}))})};Fq.displayName=nD;var aS="DialogOverlay",Dq=B.forwardRef((n,e)=>{const t=Oq(aS,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=gc(aS,n.__scopeDialog);return s.modal?p.jsx(th,{present:r||s.open,children:p.jsx(kfe,{...i,ref:e})}):null});Dq.displayName=aS;var Bfe=h0("DialogOverlay.RemoveScroll"),kfe=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(aS,t);return p.jsx(QF,{as:Bfe,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Wn.div,{"data-state":iD(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qp="DialogContent",Bq=B.forwardRef((n,e)=>{const t=Oq(Qp,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=gc(Qp,n.__scopeDialog);return p.jsx(th,{present:r||s.open,children:s.modal?p.jsx(Lfe,{...i,ref:e}):p.jsx(jfe,{...i,ref:e})})});Bq.displayName=Qp;var Lfe=B.forwardRef((n,e)=>{const t=gc(Qp,n.__scopeDialog),r=B.useRef(null),i=Ir(e,t.contentRef,r);return B.useEffect(()=>{const s=r.current;if(s)return D$(s)},[]),p.jsx(kq,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fn(n.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Fn(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Fn(n.onFocusOutside,s=>s.preventDefault())})}),jfe=B.forwardRef((n,e)=>{const t=gc(Qp,n.__scopeDialog),r=B.useRef(!1),i=B.useRef(!1);return p.jsx(kq,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{n.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||t.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{n.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),kq=B.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=gc(Qp,t),l=B.useRef(null),u=Ir(e,l);return o$(),p.jsxs(p.Fragment,{children:[p.jsx(VF,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(wE,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":iD(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Ufe,{titleId:a.titleId}),p.jsx(Hfe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rD="DialogTitle",Lq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(rD,t);return p.jsx(Wn.h2,{id:i.titleId,...r,ref:e})});Lq.displayName=rD;var jq="DialogDescription",Uq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(jq,t);return p.jsx(Wn.p,{id:i.descriptionId,...r,ref:e})});Uq.displayName=jq;var zq="DialogClose",Hq=B.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=gc(zq,t);return p.jsx(Wn.button,{type:"button",...r,ref:e,onClick:Fn(n.onClick,()=>i.onOpenChange(!1))})});Hq.displayName=zq;function iD(n){return n?"open":"closed"}var Gq="DialogTitleWarning",[F8e,Vq]=$oe(Gq,{contentName:Qp,titleName:rD,docsSlug:"dialog"}),Ufe=({titleId:n})=>{const e=Vq(Gq),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},zfe="DialogDescriptionWarning",Hfe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vq(zfe).contentName}}.`;return B.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Wq=Rq,Gfe=Iq,$q=Fq,qq=Dq,Xq=Bq,Kq=Lq,Yq=Uq,Jq=Hq;function DE({...n}){return p.jsx(Wq,{"data-slot":"dialog",...n})}function Vfe({...n}){return p.jsx(Gfe,{"data-slot":"dialog-trigger",...n})}function Wfe({...n}){return p.jsx($q,{"data-slot":"dialog-portal",...n})}const Zq=B.forwardRef(({className:n,...e},t)=>p.jsx(qq,{ref:t,"data-slot":"dialog-overlay",className:Vn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));Zq.displayName="DialogOverlay";function BE({className:n,children:e,...t}){return p.jsxs(Wfe,{"data-slot":"dialog-portal",children:[p.jsx(Zq,{}),p.jsxs(Xq,{"data-slot":"dialog-content",className:Vn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,p.jsxs(Jq,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(HF,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kE({className:n,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:Vn("flex flex-col gap-2 text-center sm:text-left",n),...e})}function LE({className:n,...e}){return p.jsx(Kq,{"data-slot":"dialog-title",className:Vn("text-lg leading-none font-semibold",n),...e})}function jE({className:n,...e}){return p.jsx(Yq,{"data-slot":"dialog-description",className:Vn("text-muted-foreground text-sm",n),...e})}function Qq({onLogin:n}){const[e,t]=B.useState(!1),[r,i]=B.useState("patient"),[s,o]=B.useState([5]),[a,l]=B.useState(""),[u,d]=B.useState(""),[c,f]=B.useState(""),[m,v]=B.useState(!1),[b,y]=B.useState(""),[w,A]=B.useState(!1),[E,C]=B.useState(!1),{login:M,register:R}=pu(),O=Td(),k=async I=>{I&&I.preventDefault(),y(""),A(!0);try{if(m){if(!c.trim()){y("Please enter your name"),A(!1);return}await R({name:c,email:a,password:u,role:r}),r==="patient"?t(!0):D()}else{await M({email:a,password:u});const L=bp.getCurrentUser();if(!L){y("Login failed. Please try again."),A(!1);return}const W=L.role,q=r,K=W==="clinician"?"clinician":"patient";if(K!==q){y(`You are registered as a ${K}. Please select "${K==="clinician"?"Clinician":"Patient"}" to log in.`),A(!1),await bp.logout();return}K==="patient"?t(!0):D()}}catch(L){const W=L?.response?.data?.message;y(W||`${m?"Registration":"Login"} failed. Please try again.`)}finally{A(!1)}},D=()=>{t(!1),n?n(r):O("/dashboard")};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#E9E6F9] via-white to-white flex items-center justify-center p-8",children:[p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-2xl mb-4",children:p.jsx(pm,{className:"w-8 h-8 text-white"})}),p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Welcome to RehabMax AI+"}),p.jsx("p",{className:"text-gray-600",children:"Your AI coach that sees your form, senses your effort, and predicts your progress"})]}),p.jsx(Ot,{className:"border-0 shadow-2xl shadow-[#2C2E6F]/10",children:p.jsxs(Ft,{className:"p-8 space-y-6",children:[b&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:b}),p.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"name",children:"Name"}),p.jsx(bs,{id:"name",name:"name",type:"text",autoComplete:"name",placeholder:"Your name",className:"bg-white border-gray-200",value:c,onChange:I=>f(I.target.value),required:m})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"email",children:"Email"}),p.jsx(bs,{id:"email",name:"email",type:"email",autoComplete:m?"username":"email",placeholder:"you@example.com",className:"bg-white border-gray-200",value:a,onChange:I=>l(I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"password",children:"Password"}),p.jsx(bs,{id:"password",name:"password",type:"password",autoComplete:m?"new-password":"current-password",placeholder:"",className:"bg-white border-gray-200",value:u,onChange:I=>d(I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"role-select",children:"I am a..."}),p.jsxs(Qg,{value:r,onValueChange:I=>i(I),children:[p.jsx(t0,{id:"role-select",name:"role",className:"bg-white border-gray-200",children:p.jsx(e0,{})}),p.jsxs(n0,{children:[p.jsx(Ii,{value:"patient",children:"Patient"}),p.jsx(Ii,{value:"clinician",children:"Clinician"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ace,{id:"terms",checked:E,onCheckedChange:I=>C(I===!0)}),p.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:["I agree to the"," ",p.jsx("a",{href:"#",className:"text-[#2C2E6F] hover:underline",children:"privacy policy"})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(Lt,{type:"submit",className:"w-full bg-[#2C2E6F] hover:bg-[#1f2050] text-white shadow-lg shadow-[#2C2E6F]/30 disabled:opacity-50",disabled:w||!E,children:w?m?"Signing Up...":"Logging In...":m?"Sign Up":"Log In"}),p.jsxs(Lt,{type:"button",variant:"outline",className:"w-full border-gray-200 hover:bg-[#E9E6F9] hover:text-[#2C2E6F] hover:border-[#2C2E6F]",children:[p.jsx(Cae,{className:"w-4 h-4 mr-2"}),"Continue with Google"]})]})]}),p.jsx("div",{className:"text-center",children:p.jsxs("p",{className:"text-sm text-gray-600",children:[m?"Already have an account? ":"Don't have an account? ",p.jsx("button",{type:"button",onClick:()=>{v(!m),y("")},className:"text-[#2C2E6F] hover:underline",children:m?"Log In":"Sign Up"})]})})]})}),p.jsx("p",{className:"text-center text-xs text-gray-500",children:"Protected by encryption. Your data stays private."})]}),p.jsx(DE,{open:e,onOpenChange:t,children:p.jsxs(BE,{className:"sm:max-w-md",children:[p.jsxs(kE,{children:[p.jsx(LE,{children:"Quick Baseline Assessment"}),p.jsx(jE,{children:"Help us personalize your recovery journey"})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"injury-type-select",children:"What are you recovering from?"}),p.jsxs(Qg,{children:[p.jsx(t0,{id:"injury-type-select",name:"injuryType",children:p.jsx(e0,{placeholder:"Select injury type"})}),p.jsxs(n0,{children:[p.jsx(Ii,{value:"shoulder",children:"Shoulder Injury"}),p.jsx(Ii,{value:"knee",children:"Knee Rehabilitation"}),p.jsx(Ii,{value:"back",children:"Lower Back Pain"}),p.jsx(Ii,{value:"hip",children:"Hip Replacement Recovery"}),p.jsx(Ii,{value:"neck",children:"Neck Strain"}),p.jsx(Ii,{value:"other",children:"Other"})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(as,{htmlFor:"pain-level-slider",children:"Current Pain Level"}),p.jsxs("span",{className:"text-2xl font-semibold text-[#2C2E6F]",children:[s[0],"/10"]})]}),p.jsx(Nx,{id:"pain-level-slider",name:"painLevel",value:s,onValueChange:o,max:10,step:1,className:"py-4","aria-label":"Current Pain Level"}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[p.jsx("span",{children:"No pain"}),p.jsx("span",{children:"Worst pain"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"primary-goal-select",children:"Primary Goal"}),p.jsxs(Qg,{children:[p.jsx(t0,{id:"primary-goal-select",name:"primaryGoal",children:p.jsx(e0,{placeholder:"What do you want to achieve?"})}),p.jsxs(n0,{children:[p.jsx(Ii,{value:"pain",children:"Reduce Pain"}),p.jsx(Ii,{value:"mobility",children:"Improve Mobility"}),p.jsx(Ii,{value:"strength",children:"Build Strength"}),p.jsx(Ii,{value:"return",children:"Return to Activity"})]})]})]}),p.jsx(Lt,{className:"w-full bg-[#2C2E6F] hover:bg-[#1f2050]",onClick:D,children:"Start My Journey"})]})]})})]})}function $fe({currentPage:n,onPageChange:e,userRole:t}){const{user:r,logout:i}=pu(),s=Td(),o=m=>{m==="friends-messages"?(e(m),s(`/${m}`,{state:{tab:"messages"}})):(e(m),s(`/${m}`))},a=async()=>{await i(),s("/login")},l=()=>r?.name?r.name.charAt(0).toUpperCase():t==="patient"?"P":"C",u=()=>r?.name||(t==="patient"?"Patient":"Clinician"),f=t==="patient"?[{id:"dashboard",label:"Dashboard",icon:Aj},{id:"ai-plan",label:"AI Plan Reader",icon:eS},{id:"live-session",label:"Live Session",icon:Q3},{id:"quests",label:"Quests & XP",icon:Up},{id:"friends-messages",label:"Friends & Messages",icon:Of},{id:"future-self",label:"Future Self",icon:xE},{id:"clarity-hub",label:"Clarity Hub",icon:Wc},{id:"body-scan",label:"Body Scan",icon:r$},{id:"echo-body",label:"EchoBody",icon:pm},{id:"exercises",label:"Exercises",icon:t$},{id:"settings",label:"Settings",icon:Pj}]:[{id:"clinician-dashboard",label:"Dashboard",icon:Aj},{id:"patients",label:"Patients",icon:Tx},{id:"actuarial-insights",label:"Actuarial Insights",icon:vae},{id:"settings",label:"Settings",icon:Pj}];return p.jsxs("aside",{className:"fixed left-0 top-0 h-screen w-64 text-white flex flex-col",style:{background:"linear-gradient(to bottom, #6F66FF, #8C7BFF)",backgroundColor:"#6F66FF",backgroundImage:"linear-gradient(to bottom, #6F66FF, #8C7BFF)",zIndex:50},children:[p.jsxs("div",{className:"p-6",children:[p.jsx("h1",{className:"text-xl",children:"RehabMax AI+"}),p.jsx("p",{className:"text-sm opacity-80 mt-1",children:t==="patient"?"Smart Recovery":"Clinic Portal"})]}),p.jsx("nav",{className:"flex-1 px-3",children:f.map(m=>{const v=m.icon,b=n===m.id;return p.jsxs("button",{onClick:()=>o(m.id),className:Vn("w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-all",b?"bg-white/20 shadow-lg":"hover:bg-white/10"),children:[p.jsx(v,{size:20}),p.jsx("span",{className:"text-sm",children:m.label})]},m.id)})}),p.jsxs("div",{className:"p-4 border-t border-white/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:l()}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:u()}),p.jsx("p",{className:"text-xs opacity-70",children:t==="patient"?r?.email||"Patient":r?.email||"Clinician"})]})]}),p.jsxs(Lt,{variant:"outline",onClick:a,className:"w-full text-xs bg-white/10 hover:bg-white/20 rounded-lg px-3 py-2 transition-colors border-white/20 text-white",children:[p.jsx(Yae,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}var sD="Progress",oD=100,[qfe]=mc(sD),[Xfe,Kfe]=qfe(sD),eX=B.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:s=Yfe,...o}=n;(i||i===0)&&!tU(i)&&console.error(Jfe(`${i}`,"Progress"));const a=tU(i)?i:oD;r!==null&&!nU(r,a)&&console.error(Zfe(`${r}`,"Progress"));const l=nU(r,a)?r:null,u=lS(l)?s(l,a):void 0;return p.jsx(Xfe,{scope:t,value:l,max:a,children:p.jsx(Wn.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":lS(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":rX(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});eX.displayName=sD;var tX="ProgressIndicator",nX=B.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,i=Kfe(tX,t);return p.jsx(Wn.div,{"data-state":rX(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});nX.displayName=tX;function Yfe(n,e){return`${Math.round(n/e*100)}%`}function rX(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function lS(n){return typeof n=="number"}function tU(n){return lS(n)&&!isNaN(n)&&n>0}function nU(n,e){return lS(n)&&!isNaN(n)&&n<=e&&n>=0}function Jfe(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${oD}\`.`}function Zfe(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${oD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Qfe=eX,ehe=nX;function em({className:n,value:e,...t}){return p.jsx(Qfe,{"data-slot":"progress",className:Vn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:p.jsx(ehe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const the=BF("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function hr({className:n,variant:e,asChild:t=!1,...r}){const i=t?BW:"span";return p.jsx(i,{"data-slot":"badge",className:Vn(the({variant:e}),n),...r})}var lT,rU;function ga(){if(rU)return lT;rU=1;var n=Array.isArray;return lT=n,lT}var cT,iU;function iX(){if(iU)return cT;iU=1;var n=typeof Fa=="object"&&Fa&&Fa.Object===Object&&Fa;return cT=n,cT}var uT,sU;function gu(){if(sU)return uT;sU=1;var n=iX(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return uT=t,uT}var dT,oU;function Hb(){if(oU)return dT;oU=1;var n=gu(),e=n.Symbol;return dT=e,dT}var fT,aU;function nhe(){if(aU)return fT;aU=1;var n=Hb(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function s(o){var a=t.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(a?o[i]=l:delete o[i]),d}return fT=s,fT}var hT,lU;function rhe(){if(lU)return hT;lU=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return hT=t,hT}var pT,cU;function Pd(){if(cU)return pT;cU=1;var n=Hb(),e=nhe(),t=rhe(),r="[object Null]",i="[object Undefined]",s=n?n.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):t(a)}return pT=o,pT}var mT,uU;function Rd(){if(uU)return mT;uU=1;function n(e){return e!=null&&typeof e=="object"}return mT=n,mT}var gT,dU;function fv(){if(dU)return gT;dU=1;var n=Pd(),e=Rd(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return gT=r,gT}var vT,fU;function aD(){if(fU)return vT;fU=1;var n=ga(),e=fv(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(n(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!t.test(s)||o!=null&&s in Object(o)}return vT=i,vT}var yT,hU;function ih(){if(hU)return yT;hU=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return yT=n,yT}var xT,pU;function lD(){if(pU)return xT;pU=1;var n=Pd(),e=ih(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=n(a);return l==r||l==i||l==t||l==s}return xT=o,xT}var bT,mU;function ihe(){if(mU)return bT;mU=1;var n=gu(),e=n["__core-js_shared__"];return bT=e,bT}var _T,gU;function she(){if(gU)return _T;gU=1;var n=ihe(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return _T=t,_T}var wT,vU;function sX(){if(vU)return wT;vU=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return wT=t,wT}var ST,yU;function ohe(){if(yU)return ST;yU=1;var n=lD(),e=she(),t=ih(),r=sX(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,d=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c(f){if(!t(f)||e(f))return!1;var m=n(f)?d:s;return m.test(r(f))}return ST=c,ST}var AT,xU;function ahe(){if(xU)return AT;xU=1;function n(e,t){return e?.[t]}return AT=n,AT}var ET,bU;function mm(){if(bU)return ET;bU=1;var n=ohe(),e=ahe();function t(r,i){var s=e(r,i);return n(s)?s:void 0}return ET=t,ET}var CT,_U;function UE(){if(_U)return CT;_U=1;var n=mm(),e=n(Object,"create");return CT=e,CT}var MT,wU;function lhe(){if(wU)return MT;wU=1;var n=UE();function e(){this.__data__=n?n(null):{},this.size=0}return MT=e,MT}var TT,SU;function che(){if(SU)return TT;SU=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return TT=n,TT}var PT,AU;function uhe(){if(AU)return PT;AU=1;var n=UE(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(s){var o=this.__data__;if(n){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return PT=i,PT}var RT,EU;function dhe(){if(EU)return RT;EU=1;var n=UE(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var s=this.__data__;return n?s[i]!==void 0:t.call(s,i)}return RT=r,RT}var NT,CU;function fhe(){if(CU)return NT;CU=1;var n=UE(),e="__lodash_hash_undefined__";function t(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=n&&i===void 0?e:i,this}return NT=t,NT}var IT,MU;function hhe(){if(MU)return IT;MU=1;var n=lhe(),e=che(),t=uhe(),r=dhe(),i=fhe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,IT=s,IT}var OT,TU;function phe(){if(TU)return OT;TU=1;function n(){this.__data__=[],this.size=0}return OT=n,OT}var FT,PU;function cD(){if(PU)return FT;PU=1;function n(e,t){return e===t||e!==e&&t!==t}return FT=n,FT}var DT,RU;function zE(){if(RU)return DT;RU=1;var n=cD();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return DT=e,DT}var BT,NU;function mhe(){if(NU)return BT;NU=1;var n=zE(),e=Array.prototype,t=e.splice;function r(i){var s=this.__data__,o=n(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():t.call(s,o,1),--this.size,!0}return BT=r,BT}var kT,IU;function ghe(){if(IU)return kT;IU=1;var n=zE();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return kT=e,kT}var LT,OU;function vhe(){if(OU)return LT;OU=1;var n=zE();function e(t){return n(this.__data__,t)>-1}return LT=e,LT}var jT,FU;function yhe(){if(FU)return jT;FU=1;var n=zE();function e(t,r){var i=this.__data__,s=n(i,t);return s<0?(++this.size,i.push([t,r])):i[s][1]=r,this}return jT=e,jT}var UT,DU;function HE(){if(DU)return UT;DU=1;var n=phe(),e=mhe(),t=ghe(),r=vhe(),i=yhe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,UT=s,UT}var zT,BU;function uD(){if(BU)return zT;BU=1;var n=mm(),e=gu(),t=n(e,"Map");return zT=t,zT}var HT,kU;function xhe(){if(kU)return HT;kU=1;var n=hhe(),e=HE(),t=uD();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return HT=r,HT}var GT,LU;function bhe(){if(LU)return GT;LU=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return GT=n,GT}var VT,jU;function GE(){if(jU)return VT;jU=1;var n=bhe();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return VT=e,VT}var WT,UU;function _he(){if(UU)return WT;UU=1;var n=GE();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return WT=e,WT}var $T,zU;function whe(){if(zU)return $T;zU=1;var n=GE();function e(t){return n(this,t).get(t)}return $T=e,$T}var qT,HU;function She(){if(HU)return qT;HU=1;var n=GE();function e(t){return n(this,t).has(t)}return qT=e,qT}var XT,GU;function Ahe(){if(GU)return XT;GU=1;var n=GE();function e(t,r){var i=n(this,t),s=i.size;return i.set(t,r),this.size+=i.size==s?0:1,this}return XT=e,XT}var KT,VU;function dD(){if(VU)return KT;VU=1;var n=xhe(),e=_he(),t=whe(),r=She(),i=Ahe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,KT=s,KT}var YT,WU;function oX(){if(WU)return YT;WU=1;var n=dD(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(t.Cache||n),s}return t.Cache=n,YT=t,YT}var JT,$U;function Ehe(){if($U)return JT;$U=1;var n=oX(),e=500;function t(r){var i=n(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return JT=t,JT}var ZT,qU;function Che(){if(qU)return ZT;qU=1;var n=Ehe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,u){s.push(l?u.replace(t,"$1"):a||o)}),s});return ZT=r,ZT}var QT,XU;function fD(){if(XU)return QT;XU=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}return QT=n,QT}var e2,KU;function Mhe(){if(KU)return e2;KU=1;var n=Hb(),e=fD(),t=ga(),r=fv(),i=n?n.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(t(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return e2=o,e2}var t2,YU;function aX(){if(YU)return t2;YU=1;var n=Mhe();function e(t){return t==null?"":n(t)}return t2=e,t2}var n2,JU;function lX(){if(JU)return n2;JU=1;var n=ga(),e=aD(),t=Che(),r=aX();function i(s,o){return n(s)?s:e(s,o)?[s]:t(r(s))}return n2=i,n2}var r2,ZU;function VE(){if(ZU)return r2;ZU=1;var n=fv();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return r2=e,r2}var i2,QU;function hD(){if(QU)return i2;QU=1;var n=lX(),e=VE();function t(r,i){i=n(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return i2=t,i2}var s2,e4;function cX(){if(e4)return s2;e4=1;var n=hD();function e(t,r,i){var s=t==null?void 0:n(t,r);return s===void 0?i:s}return s2=e,s2}var The=cX();const vl=zr(The);var o2,t4;function Phe(){if(t4)return o2;t4=1;function n(e){return e==null}return o2=n,o2}var Rhe=Phe();const pr=zr(Rhe);var a2,n4;function Nhe(){if(n4)return a2;n4=1;var n=Pd(),e=ga(),t=Rd(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&t(s)&&n(s)==r}return a2=i,a2}var Ihe=Nhe();const tm=zr(Ihe);var Ohe=lD();const rr=zr(Ohe);var Fhe=ih();const hv=zr(Fhe);var l2={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4;function Dhe(){if(r4)return Lr;r4=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case n:switch(y=y.type,y){case t:case i:case r:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case l:case f:case c:case s:return y;default:return w}}case e:return w}}}return Lr.ContextConsumer=o,Lr.ContextProvider=s,Lr.Element=n,Lr.ForwardRef=l,Lr.Fragment=t,Lr.Lazy=f,Lr.Memo=c,Lr.Portal=e,Lr.Profiler=i,Lr.StrictMode=r,Lr.Suspense=u,Lr.SuspenseList=d,Lr.isAsyncMode=function(){return!1},Lr.isConcurrentMode=function(){return!1},Lr.isContextConsumer=function(y){return b(y)===o},Lr.isContextProvider=function(y){return b(y)===s},Lr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},Lr.isForwardRef=function(y){return b(y)===l},Lr.isFragment=function(y){return b(y)===t},Lr.isLazy=function(y){return b(y)===f},Lr.isMemo=function(y){return b(y)===c},Lr.isPortal=function(y){return b(y)===e},Lr.isProfiler=function(y){return b(y)===i},Lr.isStrictMode=function(y){return b(y)===r},Lr.isSuspense=function(y){return b(y)===u},Lr.isSuspenseList=function(y){return b(y)===d},Lr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===c||y.$$typeof===s||y.$$typeof===o||y.$$typeof===l||y.$$typeof===v||y.getModuleId!==void 0)},Lr.typeOf=b,Lr}var i4;function Bhe(){return i4||(i4=1,l2.exports=Dhe()),l2.exports}var khe=Bhe(),c2,s4;function uX(){if(s4)return c2;s4=1;var n=Pd(),e=Rd(),t="[object Number]";function r(i){return typeof i=="number"||e(i)&&n(i)==t}return c2=r,c2}var u2,o4;function Lhe(){if(o4)return u2;o4=1;var n=uX();function e(t){return n(t)&&t!=+t}return u2=e,u2}var jhe=Lhe();const pv=zr(jhe);var Uhe=uX();const zhe=zr(Uhe);var ac=function(e){return e===0?0:e>0?1:-1},Sp=function(e){return tm(e)&&e.indexOf("%")===e.length-1},Gt=function(e){return zhe(e)&&!pv(e)},Hhe=function(e){return pr(e)},_s=function(e){return Gt(e)||tm(e)},Ghe=0,mv=function(e){var t=++Ghe;return"".concat(e||"").concat(t)},nm=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Gt(e)&&!tm(e))return r;var s;if(Sp(e)){var o=e.indexOf("%");s=t*parseFloat(e.slice(0,o))/100}else s=+e;return pv(s)&&(s=r),i&&s>t&&(s=t),s},Rf=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Vhe=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},i=0;i<t;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Qs=function(e,t){return Gt(e)&&Gt(t)?function(r){return e+r*(t-e)}:function(){return t}};function cS(n,e,t){return!n||!n.length?null:n.find(function(r){return r&&(typeof e=="function"?e(r):vl(r,e))===t})}var Whe=function(e,t){return Gt(e)&&Gt(t)?e-t:tm(e)&&tm(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function r0(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function hI(n){"@babel/helpers - typeof";return hI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hI(n)}var $he=["viewBox","children"],qhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a4=["points","pathLength"],d2={svg:$he,polygon:a4,polyline:a4},pD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uS=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!hv(r))return null;var i={};return Object.keys(r).forEach(function(s){pD.includes(s)&&(i[s]=t||function(o){return r[s](r,o)})}),i},Xhe=function(e,t,r){return function(i){return e(t,r,i),null}},dS=function(e,t,r){if(!hv(e)||hI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];pD.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Xhe(o,t,r))}),i},Khe=["children"],Yhe=["children"];function l4(n,e){if(n==null)return{};var t=Jhe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Jhe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pI(n){"@babel/helpers - typeof";return pI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pI(n)}var c4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},u4=null,f2=null,mD=function n(e){if(e===u4&&Array.isArray(f2))return f2;var t=[];return B.Children.forEach(e,function(r){pr(r)||(khe.isFragment(r)?t=t.concat(n(r.props.children)):t.push(r))}),f2=t,u4=e,t};function yl(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fd(i)}):r=[fd(e)],mD(n).forEach(function(i){var s=vl(i,"type.displayName")||vl(i,"type.name");r.indexOf(s)!==-1&&t.push(i)}),t}function Ia(n,e){var t=yl(n,e);return t&&t[0]}var d4=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,i=t.height;return!(!Gt(r)||r<=0||!Gt(i)||i<=0)},Zhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qhe=function(e){return e&&e.type&&tm(e.type)&&Zhe.indexOf(e.type)>=0},dX=function(e){return e&&pI(e)==="object"&&"clipDot"in e},epe=function(e,t,r,i){var s,o=(s=d2?.[i])!==null&&s!==void 0?s:[];return t.startsWith("data-")||!rr(e)&&(i&&o.includes(t)||qhe.includes(t))||r&&pD.includes(t)},ur=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!hv(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;epe((a=i)===null||a===void 0?void 0:a[o],o,t,r)&&(s[o]=i[o])}),s},mI=function n(e,t){if(e===t)return!0;var r=B.Children.count(e);if(r!==B.Children.count(t))return!1;if(r===0)return!0;if(r===1)return f4(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<r;i++){var s=e[i],o=t[i];if(Array.isArray(s)||Array.isArray(o)){if(!n(s,o))return!1}else if(!f4(s,o))return!1}return!0},f4=function(e,t){if(pr(e)&&pr(t))return!0;if(!pr(e)&&!pr(t)){var r=e.props||{},i=r.children,s=l4(r,Khe),o=t.props||{},a=o.children,l=l4(o,Yhe);return i&&a?r0(s,l)&&mI(i,a):!i&&!a?r0(s,l):!1}return!1},h4=function(e,t){var r=[],i={};return mD(e).forEach(function(s,o){if(Qhe(s))r.push(s);else if(s){var a=fd(s.type),l=t[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var c=u(s,a,o);r.push(c),i[a]=!0}}}),r},tpe=function(e){var t=e&&e.type;return t&&c4[t]?c4[t]:null},npe=function(e,t){return mD(t).indexOf(e)},rpe=["children","width","height","viewBox","className","style","title","desc"];function gI(){return gI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gI.apply(this,arguments)}function ipe(n,e){if(n==null)return{};var t=spe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function spe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function vI(n){var e=n.children,t=n.width,r=n.height,i=n.viewBox,s=n.className,o=n.style,a=n.title,l=n.desc,u=ipe(n,rpe),d=i||{width:t,height:r,x:0,y:0},c=yr("recharts-surface",s);return ue.createElement("svg",gI({},ur(u,!0,"svg"),{className:c,width:t,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,a),ue.createElement("desc",null,l),e)}var ope=["children","className"];function yI(){return yI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yI.apply(this,arguments)}function ape(n,e){if(n==null)return{};var t=lpe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lpe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var ii=ue.forwardRef(function(n,e){var t=n.children,r=n.className,i=ape(n,ope),s=yr("recharts-layer",r);return ue.createElement("g",yI({className:s},ur(i,!0),{ref:e}),t)}),hd=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},h2,p4;function cpe(){if(p4)return h2;p4=1;function n(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+t];return o}return h2=n,h2}var p2,m4;function upe(){if(m4)return p2;m4=1;var n=cpe();function e(t,r,i){var s=t.length;return i=i===void 0?s:i,!r&&i>=s?t:n(t,r,i)}return p2=e,p2}var m2,g4;function fX(){if(g4)return m2;g4=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+n+i+s+"]");function l(u){return a.test(u)}return m2=l,m2}var g2,v4;function dpe(){if(v4)return g2;v4=1;function n(e){return e.split("")}return g2=n,g2}var v2,y4;function fpe(){if(y4)return v2;y4=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,s="\\ufe0e\\ufe0f",o="["+n+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",d="[^"+n+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=u+"?",b="["+s+"]?",y="(?:"+m+"(?:"+[d,c,f].join("|")+")"+b+v+")*",w=b+v+y,A="(?:"+[d+a+"?",a,c,f,o].join("|")+")",E=RegExp(l+"(?="+l+")|"+A+w,"g");function C(M){return M.match(E)||[]}return v2=C,v2}var y2,x4;function hpe(){if(x4)return y2;x4=1;var n=dpe(),e=fX(),t=fpe();function r(i){return e(i)?t(i):n(i)}return y2=r,y2}var x2,b4;function ppe(){if(b4)return x2;b4=1;var n=upe(),e=fX(),t=hpe(),r=aX();function i(s){return function(o){o=r(o);var a=e(o)?t(o):void 0,l=a?a[0]:o.charAt(0),u=a?n(a,1).join(""):o.slice(1);return l[s]()+u}}return x2=i,x2}var b2,_4;function mpe(){if(_4)return b2;_4=1;var n=ppe(),e=n("toUpperCase");return b2=e,b2}var gpe=mpe();const WE=zr(gpe);function ni(n){return function(){return n}}const hX=Math.cos,fS=Math.sin,vc=Math.sqrt,hS=Math.PI,$E=2*hS,xI=Math.PI,bI=2*xI,pp=1e-6,vpe=bI-pp;function pX(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function ype(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return pX;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}let xpe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pX:ype(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,o){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-t,d=o-e,c=a-t,f=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(f>pp)if(!(Math.abs(c*l-u*d)>pp)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let m=r-o,v=i-a,b=l*l+u*u,y=m*m+v*v,w=Math.sqrt(b),A=Math.sqrt(f),E=s*Math.tan((xI-Math.acos((b+f-y)/(2*w*A)))/2),C=E/A,M=E/w;Math.abs(C-1)>pp&&this._append`L${e+C*d},${t+C*c}`,this._append`A${s},${s},0,0,${+(c*m>d*v)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,r,i,s,o){if(e=+e,t=+t,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,d=t+l,c=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pp||Math.abs(this._y1-d)>pp)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%bI+bI),f>vpe?this._append`A${r},${r},0,1,${c},${e-a},${t-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=d}`:f>pp&&this._append`A${r},${r},0,${+(f>=xI)},${c},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function gD(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new xpe(e)}function vD(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function mX(n){this._context=n}mX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function qE(n){return new mX(n)}function gX(n){return n[0]}function vX(n){return n[1]}function yX(n,e){var t=ni(!0),r=null,i=qE,s=null,o=gD(a);n=typeof n=="function"?n:n===void 0?gX:ni(n),e=typeof e=="function"?e:e===void 0?vX:ni(e);function a(l){var u,d=(l=vD(l)).length,c,f=!1,m;for(r==null&&(s=i(m=o())),u=0;u<=d;++u)!(u<d&&t(c=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+n(c,u,l),+e(c,u,l));if(m)return s=null,m+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:ni(+l),a):n},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ni(+l),a):e},a.defined=function(l){return arguments.length?(t=typeof l=="function"?l:ni(!!l),a):t},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function p1(n,e,t){var r=null,i=ni(!0),s=null,o=qE,a=null,l=gD(u);n=typeof n=="function"?n:n===void 0?gX:ni(+n),e=typeof e=="function"?e:ni(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?vX:ni(+t);function u(c){var f,m,v,b=(c=vD(c)).length,y,w=!1,A,E=new Array(b),C=new Array(b);for(s==null&&(a=o(A=l())),f=0;f<=b;++f){if(!(f<b&&i(y=c[f],f,c))===w)if(w=!w)m=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=f-1;v>=m;--v)a.point(E[v],C[v]);a.lineEnd(),a.areaEnd()}w&&(E[f]=+n(y,f,c),C[f]=+e(y,f,c),a.point(r?+r(y,f,c):E[f],t?+t(y,f,c):C[f]))}if(A)return a=null,A+""||null}function d(){return yX().defined(i).curve(o).context(s)}return u.x=function(c){return arguments.length?(n=typeof c=="function"?c:ni(+c),r=null,u):n},u.x0=function(c){return arguments.length?(n=typeof c=="function"?c:ni(+c),u):n},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ni(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:ni(+c),t=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:ni(+c),u):e},u.y1=function(c){return arguments.length?(t=c==null?null:typeof c=="function"?c:ni(+c),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:ni(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,s!=null&&(a=o(s)),u):o},u.context=function(c){return arguments.length?(c==null?s=a=null:a=o(s=c),u):s},u}class xX{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function bpe(n){return new xX(n,!0)}function _pe(n){return new xX(n,!1)}const yD={draw(n,e){const t=vc(e/hS);n.moveTo(t,0),n.arc(0,0,t,0,$E)}},wpe={draw(n,e){const t=vc(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},bX=vc(1/3),Spe=bX*2,Ape={draw(n,e){const t=vc(e/Spe),r=t*bX;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},Epe={draw(n,e){const t=vc(e),r=-t/2;n.rect(r,r,t,t)}},Cpe=.8908130915292852,_X=fS(hS/10)/fS(7*hS/10),Mpe=fS($E/10)*_X,Tpe=-hX($E/10)*_X,Ppe={draw(n,e){const t=vc(e*Cpe),r=Mpe*t,i=Tpe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const o=$E*s/5,a=hX(o),l=fS(o);n.lineTo(l*t,-a*t),n.lineTo(a*r-l*i,l*r+a*i)}n.closePath()}},_2=vc(3),Rpe={draw(n,e){const t=-vc(e/(_2*3));n.moveTo(0,t*2),n.lineTo(-_2*t,-t),n.lineTo(_2*t,-t),n.closePath()}},nl=-.5,rl=vc(3)/2,_I=1/vc(12),Npe=(_I/2+1)*3,Ipe={draw(n,e){const t=vc(e/Npe),r=t/2,i=t*_I,s=r,o=t*_I+t,a=-s,l=o;n.moveTo(r,i),n.lineTo(s,o),n.lineTo(a,l),n.lineTo(nl*r-rl*i,rl*r+nl*i),n.lineTo(nl*s-rl*o,rl*s+nl*o),n.lineTo(nl*a-rl*l,rl*a+nl*l),n.lineTo(nl*r+rl*i,nl*i-rl*r),n.lineTo(nl*s+rl*o,nl*o-rl*s),n.lineTo(nl*a+rl*l,nl*l-rl*a),n.closePath()}};function Ope(n,e){let t=null,r=gD(i);n=typeof n=="function"?n:ni(n||yD),e=typeof e=="function"?e:ni(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:ni(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ni(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function pS(){}function mS(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function wX(n){this._context=n}wX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mS(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Fpe(n){return new wX(n)}function SX(n){this._context=n}SX.prototype={areaStart:pS,areaEnd:pS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:mS(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Dpe(n){return new SX(n)}function AX(n){this._context=n}AX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:mS(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Bpe(n){return new AX(n)}function EX(n){this._context=n}EX.prototype={areaStart:pS,areaEnd:pS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function kpe(n){return new EX(n)}function w4(n){return n<0?-1:1}function S4(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),o=(t-n._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(w4(s)+w4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function A4(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function w2(n,e,t){var r=n._x0,i=n._y0,s=n._x1,o=n._y1,a=(s-r)/3;n._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*t,s,o)}function gS(n){this._context=n}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w2(this,this._t0,A4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,w2(this,A4(this,t=S4(this,n,e)),t);break;default:w2(this,this._t0,t=S4(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function CX(n){this._context=new MX(n)}(CX.prototype=Object.create(gS.prototype)).point=function(n,e){gS.prototype.point.call(this,e,n)};function MX(n){this._context=n}MX.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function Lpe(n){return new gS(n)}function jpe(n){return new CX(n)}function TX(n){this._context=n}TX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=E4(n),i=E4(e),s=0,o=1;o<t;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function E4(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),o=new Array(t);for(i[0]=0,s[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,o[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[t-1]=o[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function Upe(n){return new TX(n)}function XE(n,e){this._context=n,this._t=e}XE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function zpe(n){return new XE(n,.5)}function Hpe(n){return new XE(n,0)}function Gpe(n){return new XE(n,1)}function g0(n,e){if((o=n.length)>1)for(var t=1,r,i,s=n[e[0]],o,a=s.length;t<o;++t)for(i=s,s=n[e[t]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wI(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Vpe(n,e){return n[e]}function Wpe(n){const e=[];return e.key=n,e}function $pe(){var n=ni([]),e=wI,t=g0,r=Vpe;function i(s){var o=Array.from(n.apply(this,arguments),Wpe),a,l=o.length,u=-1,d;for(const c of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(c,o[a].key,u,s)]).data=c;for(a=0,d=vD(e(o));a<l;++a)o[d[a]].index=a;return t(o,d),o}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:ni(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ni(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?wI:typeof s=="function"?s:ni(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??g0,i):t},i}function qpe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,o;i<s;++i){for(o=t=0;t<r;++t)o+=n[t][i][1]||0;if(o)for(t=0;t<r;++t)n[t][i][1]/=o}g0(n,e)}}function Xpe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var o=0,a=0;o<i;++o)a+=n[o][t][1]||0;r[t][1]+=r[t][0]=-a/2}g0(n,e)}}function Kpe(n,e){if(!(!((o=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var d=n[e[a]],c=d[r][1]||0,f=d[r-1][1]||0,m=(c-f)/2,v=0;v<a;++v){var b=n[e[v]],y=b[r][1]||0,w=b[r-1][1]||0;m+=y-w}l+=c,u+=m*c}i[r-1][1]+=i[r-1][0]=t,l&&(t-=u/l)}i[r-1][1]+=i[r-1][0]=t,g0(n,e)}}function Ix(n){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(n)}var Ype=["type","size","sizeType"];function SI(){return SI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SI.apply(this,arguments)}function C4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function M4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(t),!0).forEach(function(r){Jpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jpe(n,e,t){return e=Zpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zpe(n){var e=Qpe(n,"string");return Ix(e)=="symbol"?e:e+""}function Qpe(n,e){if(Ix(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eme(n,e){if(n==null)return{};var t=tme(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tme(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var PX={symbolCircle:yD,symbolCross:wpe,symbolDiamond:Ape,symbolSquare:Epe,symbolStar:Ppe,symbolTriangle:Rpe,symbolWye:Ipe},nme=Math.PI/180,rme=function(e){var t="symbol".concat(WE(e));return PX[t]||yD},ime=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},sme=function(e,t){PX["symbol".concat(WE(e))]=t},xD=function(e){var t=e.type,r=t===void 0?"circle":t,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=eme(e,Ype),u=M4(M4({},l),{},{type:r,size:s,sizeType:a}),d=function(){var y=rme(r),w=Ope().type(y).size(ime(s,a,r));return w()},c=u.className,f=u.cx,m=u.cy,v=ur(u,!0);return f===+f&&m===+m&&s===+s?ue.createElement("path",SI({},v,{className:yr("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};xD.registerSymbol=sme;function v0(n){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(n)}function AI(){return AI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AI.apply(this,arguments)}function T4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ome(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(t),!0).forEach(function(r){Ox(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ame(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,NX(r.key),r)}}function cme(n,e,t){return e&&lme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ume(n,e,t){return e=vS(e),dme(n,RX()?Reflect.construct(e,t||[],vS(n).constructor):e.apply(n,t))}function dme(n,e){if(e&&(v0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fme(n)}function fme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function RX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RX=function(){return!!n})()}function vS(n){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vS(n)}function hme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&EI(n,e)}function EI(n,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EI(n,e)}function Ox(n,e,t){return e=NX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NX(n){var e=pme(n,"string");return v0(e)=="symbol"?e:e+""}function pme(n,e){if(v0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(v0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var il=32,bD=(function(n){function e(){return ame(this,e),ume(this,e,arguments)}return hme(e,n),cme(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=il/2,o=il/6,a=il/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:il,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(il,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(il/8,"h").concat(il,"v").concat(il*3/4,"h").concat(-il,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(r.legendIcon)){var u=ome({},r);return delete u.legendIcon,ue.cloneElement(r.legendIcon,u)}return ue.createElement(xD,{fill:l,cx:s,cy:s,size:il,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:il,height:il},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var b=m.formatter||l,y=yr(Ox(Ox({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=rr(m.value)?null:m.value;hd(!rr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=m.inactive?u:m.color;return ue.createElement("li",AI({className:y,style:c,key:"legend-item-".concat(v)},dS(r.props,m,v)),ue.createElement(vI,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},b?b(w,m,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(B.PureComponent);Ox(bD,"displayName","Legend");Ox(bD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var S2,P4;function mme(){if(P4)return S2;P4=1;var n=HE();function e(){this.__data__=new n,this.size=0}return S2=e,S2}var A2,R4;function gme(){if(R4)return A2;R4=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return A2=n,A2}var E2,N4;function vme(){if(N4)return E2;N4=1;function n(e){return this.__data__.get(e)}return E2=n,E2}var C2,I4;function yme(){if(I4)return C2;I4=1;function n(e){return this.__data__.has(e)}return C2=n,C2}var M2,O4;function xme(){if(O4)return M2;O4=1;var n=HE(),e=uD(),t=dD(),r=200;function i(s,o){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(s,o),this.size=a.size,this}return M2=i,M2}var T2,F4;function IX(){if(F4)return T2;F4=1;var n=HE(),e=mme(),t=gme(),r=vme(),i=yme(),s=xme();function o(a){var l=this.__data__=new n(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,T2=o,T2}var P2,D4;function bme(){if(D4)return P2;D4=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return P2=e,P2}var R2,B4;function _me(){if(B4)return R2;B4=1;function n(e){return this.__data__.has(e)}return R2=n,R2}var N2,k4;function OX(){if(k4)return N2;k4=1;var n=dD(),e=bme(),t=_me();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new n;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,N2=r,N2}var I2,L4;function FX(){if(L4)return I2;L4=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return I2=n,I2}var O2,j4;function DX(){if(j4)return O2;j4=1;function n(e,t){return e.has(t)}return O2=n,O2}var F2,U4;function BX(){if(U4)return F2;U4=1;var n=OX(),e=FX(),t=DX(),r=1,i=2;function s(o,a,l,u,d,c){var f=l&r,m=o.length,v=a.length;if(m!=v&&!(f&&v>m))return!1;var b=c.get(o),y=c.get(a);if(b&&y)return b==a&&y==o;var w=-1,A=!0,E=l&i?new n:void 0;for(c.set(o,a),c.set(a,o);++w<m;){var C=o[w],M=a[w];if(u)var R=f?u(M,C,w,a,o,c):u(C,M,w,o,a,c);if(R!==void 0){if(R)continue;A=!1;break}if(E){if(!e(a,function(O,k){if(!t(E,k)&&(C===O||d(C,O,l,u,c)))return E.push(k)})){A=!1;break}}else if(!(C===M||d(C,M,l,u,c))){A=!1;break}}return c.delete(o),c.delete(a),A}return F2=s,F2}var D2,z4;function wme(){if(z4)return D2;z4=1;var n=gu(),e=n.Uint8Array;return D2=e,D2}var B2,H4;function Sme(){if(H4)return B2;H4=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,s){r[++t]=[s,i]}),r}return B2=n,B2}var k2,G4;function _D(){if(G4)return k2;G4=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return k2=n,k2}var L2,V4;function Ame(){if(V4)return L2;V4=1;var n=Hb(),e=wme(),t=cD(),r=BX(),i=Sme(),s=_D(),o=1,a=2,l="[object Boolean]",u="[object Date]",d="[object Error]",c="[object Map]",f="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",A="[object DataView]",E=n?n.prototype:void 0,C=E?E.valueOf:void 0;function M(R,O,k,D,I,L,W){switch(k){case A:if(R.byteLength!=O.byteLength||R.byteOffset!=O.byteOffset)return!1;R=R.buffer,O=O.buffer;case w:return!(R.byteLength!=O.byteLength||!L(new e(R),new e(O)));case l:case u:case f:return t(+R,+O);case d:return R.name==O.name&&R.message==O.message;case m:case b:return R==O+"";case c:var q=i;case v:var K=D&o;if(q||(q=s),R.size!=O.size&&!K)return!1;var ne=W.get(R);if(ne)return ne==O;D|=a,W.set(R,O);var V=r(q(R),q(O),D,I,L,W);return W.delete(R),V;case y:if(C)return C.call(R)==C.call(O)}return!1}return L2=M,L2}var j2,W4;function kX(){if(W4)return j2;W4=1;function n(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}return j2=n,j2}var U2,$4;function Eme(){if($4)return U2;$4=1;var n=kX(),e=ga();function t(r,i,s){var o=i(r);return e(r)?o:n(o,s(r))}return U2=t,U2}var z2,q4;function Cme(){if(q4)return z2;q4=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[s++]=a)}return o}return z2=n,z2}var H2,X4;function Mme(){if(X4)return H2;X4=1;function n(){return[]}return H2=n,H2}var G2,K4;function Tme(){if(K4)return G2;K4=1;var n=Cme(),e=Mme(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),n(i(o),function(a){return r.call(o,a)}))}:e;return G2=s,G2}var V2,Y4;function Pme(){if(Y4)return V2;Y4=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return V2=n,V2}var W2,J4;function Rme(){if(J4)return W2;J4=1;var n=Pd(),e=Rd(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return W2=r,W2}var $2,Z4;function wD(){if(Z4)return $2;Z4=1;var n=Rme(),e=Rd(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,s=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return $2=s,$2}var Xy={exports:{}},q2,Q4;function Nme(){if(Q4)return q2;Q4=1;function n(){return!1}return q2=n,q2}Xy.exports;var e6;function LX(){return e6||(e6=1,(function(n,e){var t=gu(),r=Nme(),i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;n.exports=u})(Xy,Xy.exports)),Xy.exports}var X2,t6;function SD(){if(t6)return X2;t6=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var s=typeof r;return i=i??n,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return X2=t,X2}var K2,n6;function AD(){if(n6)return K2;n6=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return K2=e,K2}var Y2,r6;function Ime(){if(r6)return Y2;r6=1;var n=Pd(),e=AD(),t=Rd(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",c="[object Object]",f="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",L={};L[A]=L[E]=L[C]=L[M]=L[R]=L[O]=L[k]=L[D]=L[I]=!0,L[r]=L[i]=L[y]=L[s]=L[w]=L[o]=L[a]=L[l]=L[u]=L[d]=L[c]=L[f]=L[m]=L[v]=L[b]=!1;function W(q){return t(q)&&e(q.length)&&!!L[n(q)]}return Y2=W,Y2}var J2,i6;function jX(){if(i6)return J2;i6=1;function n(e){return function(t){return e(t)}}return J2=n,J2}var Ky={exports:{}};Ky.exports;var s6;function Ome(){return s6||(s6=1,(function(n,e){var t=iX(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s&&t.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();n.exports=a})(Ky,Ky.exports)),Ky.exports}var Z2,o6;function UX(){if(o6)return Z2;o6=1;var n=Ime(),e=jX(),t=Ome(),r=t&&t.isTypedArray,i=r?e(r):n;return Z2=i,Z2}var Q2,a6;function Fme(){if(a6)return Q2;a6=1;var n=Pme(),e=wD(),t=ga(),r=LX(),i=SD(),s=UX(),o=Object.prototype,a=o.hasOwnProperty;function l(u,d){var c=t(u),f=!c&&e(u),m=!c&&!f&&r(u),v=!c&&!f&&!m&&s(u),b=c||f||m||v,y=b?n(u.length,String):[],w=y.length;for(var A in u)(d||a.call(u,A))&&!(b&&(A=="length"||m&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,w)))&&y.push(A);return y}return Q2=l,Q2}var eP,l6;function Dme(){if(l6)return eP;l6=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return eP=e,eP}var tP,c6;function zX(){if(c6)return tP;c6=1;function n(e,t){return function(r){return e(t(r))}}return tP=n,tP}var nP,u6;function Bme(){if(u6)return nP;u6=1;var n=zX(),e=n(Object.keys,Object);return nP=e,nP}var rP,d6;function kme(){if(d6)return rP;d6=1;var n=Dme(),e=Bme(),t=Object.prototype,r=t.hasOwnProperty;function i(s){if(!n(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return rP=i,rP}var iP,f6;function Gb(){if(f6)return iP;f6=1;var n=lD(),e=AD();function t(r){return r!=null&&e(r.length)&&!n(r)}return iP=t,iP}var sP,h6;function KE(){if(h6)return sP;h6=1;var n=Fme(),e=kme(),t=Gb();function r(i){return t(i)?n(i):e(i)}return sP=r,sP}var oP,p6;function Lme(){if(p6)return oP;p6=1;var n=Eme(),e=Tme(),t=KE();function r(i){return n(i,t,e)}return oP=r,oP}var aP,m6;function jme(){if(m6)return aP;m6=1;var n=Lme(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(s,o,a,l,u,d){var c=a&e,f=n(s),m=f.length,v=n(o),b=v.length;if(m!=b&&!c)return!1;for(var y=m;y--;){var w=f[y];if(!(c?w in o:r.call(o,w)))return!1}var A=d.get(s),E=d.get(o);if(A&&E)return A==o&&E==s;var C=!0;d.set(s,o),d.set(o,s);for(var M=c;++y<m;){w=f[y];var R=s[w],O=o[w];if(l)var k=c?l(O,R,w,o,s,d):l(R,O,w,s,o,d);if(!(k===void 0?R===O||u(R,O,a,l,d):k)){C=!1;break}M||(M=w=="constructor")}if(C&&!M){var D=s.constructor,I=o.constructor;D!=I&&"constructor"in s&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(C=!1)}return d.delete(s),d.delete(o),C}return aP=i,aP}var lP,g6;function Ume(){if(g6)return lP;g6=1;var n=mm(),e=gu(),t=n(e,"DataView");return lP=t,lP}var cP,v6;function zme(){if(v6)return cP;v6=1;var n=mm(),e=gu(),t=n(e,"Promise");return cP=t,cP}var uP,y6;function HX(){if(y6)return uP;y6=1;var n=mm(),e=gu(),t=n(e,"Set");return uP=t,uP}var dP,x6;function Hme(){if(x6)return dP;x6=1;var n=mm(),e=gu(),t=n(e,"WeakMap");return dP=t,dP}var fP,b6;function Gme(){if(b6)return fP;b6=1;var n=Ume(),e=uD(),t=zme(),r=HX(),i=Hme(),s=Pd(),o=sX(),a="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",c="[object WeakMap]",f="[object DataView]",m=o(n),v=o(e),b=o(t),y=o(r),w=o(i),A=s;return(n&&A(new n(new ArrayBuffer(1)))!=f||e&&A(new e)!=a||t&&A(t.resolve())!=u||r&&A(new r)!=d||i&&A(new i)!=c)&&(A=function(E){var C=s(E),M=C==l?E.constructor:void 0,R=M?o(M):"";if(R)switch(R){case m:return f;case v:return a;case b:return u;case y:return d;case w:return c}return C}),fP=A,fP}var hP,_6;function Vme(){if(_6)return hP;_6=1;var n=IX(),e=BX(),t=Ame(),r=jme(),i=Gme(),s=ga(),o=LX(),a=UX(),l=1,u="[object Arguments]",d="[object Array]",c="[object Object]",f=Object.prototype,m=f.hasOwnProperty;function v(b,y,w,A,E,C){var M=s(b),R=s(y),O=M?d:i(b),k=R?d:i(y);O=O==u?c:O,k=k==u?c:k;var D=O==c,I=k==c,L=O==k;if(L&&o(b)){if(!o(y))return!1;M=!0,D=!1}if(L&&!D)return C||(C=new n),M||a(b)?e(b,y,w,A,E,C):t(b,y,O,w,A,E,C);if(!(w&l)){var W=D&&m.call(b,"__wrapped__"),q=I&&m.call(y,"__wrapped__");if(W||q){var K=W?b.value():b,ne=q?y.value():y;return C||(C=new n),E(K,ne,w,A,C)}}return L?(C||(C=new n),r(b,y,w,A,E,C)):!1}return hP=v,hP}var pP,w6;function ED(){if(w6)return pP;w6=1;var n=Vme(),e=Rd();function t(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,s,o,t,a)}return pP=t,pP}var mP,S6;function Wme(){if(S6)return mP;S6=1;var n=IX(),e=ED(),t=1,r=2;function i(s,o,a,l){var u=a.length,d=u,c=!l;if(s==null)return!d;for(s=Object(s);u--;){var f=a[u];if(c&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<d;){f=a[u];var m=f[0],v=s[m],b=f[1];if(c&&f[2]){if(v===void 0&&!(m in s))return!1}else{var y=new n;if(l)var w=l(v,b,m,s,o,y);if(!(w===void 0?e(b,v,t|r,l,y):w))return!1}}return!0}return mP=i,mP}var gP,A6;function GX(){if(A6)return gP;A6=1;var n=ih();function e(t){return t===t&&!n(t)}return gP=e,gP}var vP,E6;function $me(){if(E6)return vP;E6=1;var n=GX(),e=KE();function t(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,n(a)]}return i}return vP=t,vP}var yP,C6;function VX(){if(C6)return yP;C6=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return yP=n,yP}var xP,M6;function qme(){if(M6)return xP;M6=1;var n=Wme(),e=$me(),t=VX();function r(i){var s=e(i);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(o){return o===i||n(o,i,s)}}return xP=r,xP}var bP,T6;function Xme(){if(T6)return bP;T6=1;function n(e,t){return e!=null&&t in Object(e)}return bP=n,bP}var _P,P6;function Kme(){if(P6)return _P;P6=1;var n=lX(),e=wD(),t=ga(),r=SD(),i=AD(),s=VE();function o(a,l,u){l=n(l,a);for(var d=-1,c=l.length,f=!1;++d<c;){var m=s(l[d]);if(!(f=a!=null&&u(a,m)))break;a=a[m]}return f||++d!=c?f:(c=a==null?0:a.length,!!c&&i(c)&&r(m,c)&&(t(a)||e(a)))}return _P=o,_P}var wP,R6;function Yme(){if(R6)return wP;R6=1;var n=Xme(),e=Kme();function t(r,i){return r!=null&&e(r,i,n)}return wP=t,wP}var SP,N6;function Jme(){if(N6)return SP;N6=1;var n=ED(),e=cX(),t=Yme(),r=aD(),i=GX(),s=VX(),o=VE(),a=1,l=2;function u(d,c){return r(d)&&i(c)?s(o(d),c):function(f){var m=e(f,d);return m===void 0&&m===c?t(f,d):n(c,m,a|l)}}return SP=u,SP}var AP,I6;function gv(){if(I6)return AP;I6=1;function n(e){return e}return AP=n,AP}var EP,O6;function Zme(){if(O6)return EP;O6=1;function n(e){return function(t){return t?.[e]}}return EP=n,EP}var CP,F6;function Qme(){if(F6)return CP;F6=1;var n=hD();function e(t){return function(r){return n(r,t)}}return CP=e,CP}var MP,D6;function ege(){if(D6)return MP;D6=1;var n=Zme(),e=Qme(),t=aD(),r=VE();function i(s){return t(s)?n(r(s)):e(s)}return MP=i,MP}var TP,B6;function sh(){if(B6)return TP;B6=1;var n=qme(),e=Jme(),t=gv(),r=ga(),i=ege();function s(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):i(o)}return TP=s,TP}var PP,k6;function WX(){if(k6)return PP;k6=1;function n(e,t,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(t(e[o],o,e))return o;return-1}return PP=n,PP}var RP,L6;function tge(){if(L6)return RP;L6=1;function n(e){return e!==e}return RP=n,RP}var NP,j6;function nge(){if(j6)return NP;j6=1;function n(e,t,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}return NP=n,NP}var IP,U6;function rge(){if(U6)return IP;U6=1;var n=WX(),e=tge(),t=nge();function r(i,s,o){return s===s?t(i,s,o):n(i,e,o)}return IP=r,IP}var OP,z6;function ige(){if(z6)return OP;z6=1;var n=rge();function e(t,r){var i=t==null?0:t.length;return!!i&&n(t,r,0)>-1}return OP=e,OP}var FP,H6;function sge(){if(H6)return FP;H6=1;function n(e,t,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(t,e[i]))return!0;return!1}return FP=n,FP}var DP,G6;function oge(){if(G6)return DP;G6=1;function n(){}return DP=n,DP}var BP,V6;function age(){if(V6)return BP;V6=1;var n=HX(),e=oge(),t=_D(),r=1/0,i=n&&1/t(new n([,-0]))[1]==r?function(s){return new n(s)}:e;return BP=i,BP}var kP,W6;function lge(){if(W6)return kP;W6=1;var n=OX(),e=ige(),t=sge(),r=DX(),i=age(),s=_D(),o=200;function a(l,u,d){var c=-1,f=e,m=l.length,v=!0,b=[],y=b;if(d)v=!1,f=t;else if(m>=o){var w=u?null:i(l);if(w)return s(w);v=!1,f=r,y=new n}else y=u?[]:b;e:for(;++c<m;){var A=l[c],E=u?u(A):A;if(A=d||A!==0?A:0,v&&E===E){for(var C=y.length;C--;)if(y[C]===E)continue e;u&&y.push(E),b.push(A)}else f(y,E,d)||(y!==b&&y.push(E),b.push(A))}return b}return kP=a,kP}var LP,$6;function cge(){if($6)return LP;$6=1;var n=sh(),e=lge();function t(r,i){return r&&r.length?e(r,n(i,2)):[]}return LP=t,LP}var uge=cge();const q6=zr(uge);function $X(n,e,t){return e===!0?q6(n,t):rr(e)?q6(n,e):n}function y0(n){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(n)}var dge=["ref"];function X6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ku(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(t),!0).forEach(function(r){YE(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X6(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function K6(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,XX(r.key),r)}}function hge(n,e,t){return e&&K6(n.prototype,e),t&&K6(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function pge(n,e,t){return e=yS(e),mge(n,qX()?Reflect.construct(e,t||[],yS(n).constructor):e.apply(n,t))}function mge(n,e){if(e&&(y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gge(n)}function gge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!n})()}function yS(n){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yS(n)}function vge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&CI(n,e)}function CI(n,e){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CI(n,e)}function YE(n,e,t){return e=XX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XX(n){var e=yge(n,"string");return y0(e)=="symbol"?e:e+""}function yge(n,e){if(y0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function xge(n,e){if(n==null)return{};var t=bge(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bge(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _ge(n){return n.value}function wge(n,e){if(ue.isValidElement(n))return ue.cloneElement(n,e);if(typeof n=="function")return ue.createElement(n,e);e.ref;var t=xge(e,dge);return ue.createElement(bD,t)}var Y6=1,uc=(function(n){function e(){var t;fge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=pge(this,e,[].concat(i)),YE(t,"lastBoundingBox",{width:-1,height:-1}),t}return vge(e,n),hge(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Y6||Math.abs(i.height-this.lastBoundingBox.height)>Y6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ku({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,c,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();c={left:((u||0)-m.width)/2}}else c=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ku(Ku({},c),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,c=Ku(Ku({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(m){r.wrapperNode=m}},wge(s,Ku(Ku({},this.props),{},{payload:$X(d,u,_ge)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ku(Ku({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Gt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(B.PureComponent);YE(uc,"displayName","Legend");YE(uc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jP,J6;function Sge(){if(J6)return jP;J6=1;var n=Hb(),e=wD(),t=ga(),r=n?n.isConcatSpreadable:void 0;function i(s){return t(s)||e(s)||!!(r&&s&&s[r])}return jP=i,jP}var UP,Z6;function KX(){if(Z6)return UP;Z6=1;var n=kX(),e=Sge();function t(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var d=r[l];i>0&&s(d)?i>1?t(d,i-1,s,o,a):n(a,d):o||(a[a.length]=d)}return a}return UP=t,UP}var zP,Q6;function Age(){if(Q6)return zP;Q6=1;function n(e){return function(t,r,i){for(var s=-1,o=Object(t),a=i(t),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return t}}return zP=n,zP}var HP,e5;function Ege(){if(e5)return HP;e5=1;var n=Age(),e=n();return HP=e,HP}var GP,t5;function YX(){if(t5)return GP;t5=1;var n=Ege(),e=KE();function t(r,i){return r&&n(r,i,e)}return GP=t,GP}var VP,n5;function Cge(){if(n5)return VP;n5=1;var n=Gb();function e(t,r){return function(i,s){if(i==null)return i;if(!n(i))return t(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return VP=e,VP}var WP,r5;function CD(){if(r5)return WP;r5=1;var n=YX(),e=Cge(),t=e(n);return WP=t,WP}var $P,i5;function JX(){if(i5)return $P;i5=1;var n=CD(),e=Gb();function t(r,i){var s=-1,o=e(r)?Array(r.length):[];return n(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return $P=t,$P}var qP,s5;function Mge(){if(s5)return qP;s5=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return qP=n,qP}var XP,o5;function Tge(){if(o5)return XP;o5=1;var n=fv();function e(t,r){if(t!==r){var i=t!==void 0,s=t===null,o=t===t,a=n(t),l=r!==void 0,u=r===null,d=r===r,c=n(r);if(!u&&!c&&!a&&t>r||a&&l&&d&&!u&&!c||s&&l&&d||!i&&d||!o)return 1;if(!s&&!a&&!c&&t<r||c&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!d)return-1}return 0}return XP=e,XP}var KP,a5;function Pge(){if(a5)return KP;a5=1;var n=Tge();function e(t,r,i){for(var s=-1,o=t.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var d=n(o[s],a[s]);if(d){if(s>=u)return d;var c=i[s];return d*(c=="desc"?-1:1)}}return t.index-r.index}return KP=e,KP}var YP,l5;function Rge(){if(l5)return YP;l5=1;var n=fD(),e=hD(),t=sh(),r=JX(),i=Mge(),s=jX(),o=Pge(),a=gv(),l=ga();function u(d,c,f){c.length?c=n(c,function(b){return l(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):c=[a];var m=-1;c=n(c,s(t));var v=r(d,function(b,y,w){var A=n(c,function(E){return E(b)});return{criteria:A,index:++m,value:b}});return i(v,function(b,y){return o(b,y,f)})}return YP=u,YP}var JP,c5;function Nge(){if(c5)return JP;c5=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return JP=n,JP}var ZP,u5;function Ige(){if(u5)return ZP;u5=1;var n=Nge(),e=Math.max;function t(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var d=Array(i+1);++a<i;)d[a]=o[a];return d[i]=s(u),n(r,this,d)}}return ZP=t,ZP}var QP,d5;function Oge(){if(d5)return QP;d5=1;function n(e){return function(){return e}}return QP=n,QP}var eR,f5;function ZX(){if(f5)return eR;f5=1;var n=mm(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return eR=e,eR}var tR,h5;function Fge(){if(h5)return tR;h5=1;var n=Oge(),e=ZX(),t=gv(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:t;return tR=r,tR}var nR,p5;function Dge(){if(p5)return nR;p5=1;var n=800,e=16,t=Date.now;function r(i){var s=0,o=0;return function(){var a=t(),l=e-(a-o);if(o=a,l>0){if(++s>=n)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return nR=r,nR}var rR,m5;function Bge(){if(m5)return rR;m5=1;var n=Fge(),e=Dge(),t=e(n);return rR=t,rR}var iR,g5;function kge(){if(g5)return iR;g5=1;var n=gv(),e=Ige(),t=Bge();function r(i,s){return t(e(i,s,n),i+"")}return iR=r,iR}var sR,v5;function JE(){if(v5)return sR;v5=1;var n=cD(),e=Gb(),t=SD(),r=ih();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&t(o,a.length):l=="string"&&o in a)?n(a[o],s):!1}return sR=i,sR}var oR,y5;function Lge(){if(y5)return oR;y5=1;var n=KX(),e=Rge(),t=kge(),r=JE(),i=t(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,n(o,1),[])});return oR=i,oR}var jge=Lge();const MD=zr(jge);function Fx(n){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(n)}function MI(){return MI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MI.apply(this,arguments)}function Uge(n,e){return Vge(n)||Gge(n,e)||Hge(n,e)||zge()}function zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(n,e){if(n){if(typeof n=="string")return x5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x5(n,e)}}function x5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Gge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Vge(n){if(Array.isArray(n))return n}function b5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(t),!0).forEach(function(r){Wge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wge(n,e,t){return e=$ge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $ge(n){var e=qge(n,"string");return Fx(e)=="symbol"?e:e+""}function qge(n,e){if(Fx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Xge(n){return Array.isArray(n)&&_s(n[0])&&_s(n[1])?n.join(" ~ "):n}var Kge=function(e){var t=e.separator,r=t===void 0?" : ":t,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,c=e.formatter,f=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,b=e.label,y=e.labelFormatter,w=e.accessibilityLayer,A=w===void 0?!1:w,E=function(){if(d&&d.length){var W={padding:0,margin:0},q=(f?MD(d,f):d).map(function(K,ne){if(K.type==="none")return null;var V=aR({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},a),ee=K.formatter||c||Xge,H=K.value,Z=K.name,te=H,Y=Z;if(ee&&te!=null&&Y!=null){var ae=ee(H,Z,K,ne,d);if(Array.isArray(ae)){var we=Uge(ae,2);te=we[0],Y=we[1]}else te=ae}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:V},_s(Y)?ue.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,_s(Y)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},te),ue.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:W},q)}return null},C=aR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),M=aR({margin:0},u),R=!pr(b),O=R?b:"",k=yr("recharts-default-tooltip",m),D=yr("recharts-tooltip-label",v);R&&y&&d!==void 0&&d!==null&&(O=y(b,d));var I=A?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",MI({className:k,style:C},I),ue.createElement("p",{className:D,style:M},ue.isValidElement(O)?O:"".concat(O)),E())};function Dx(n){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(n)}function m1(n,e,t){return e=Yge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yge(n){var e=Jge(n,"string");return Dx(e)=="symbol"?e:e+""}function Jge(n,e){if(Dx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vy="recharts-tooltip-wrapper",Zge={visibility:"hidden"};function Qge(n){var e=n.coordinate,t=n.translateX,r=n.translateY;return yr(vy,m1(m1(m1(m1({},"".concat(vy,"-right"),Gt(t)&&e&&Gt(e.x)&&t>=e.x),"".concat(vy,"-left"),Gt(t)&&e&&Gt(e.x)&&t<e.x),"".concat(vy,"-bottom"),Gt(r)&&e&&Gt(e.y)&&r>=e.y),"".concat(vy,"-top"),Gt(r)&&e&&Gt(e.y)&&r<e.y))}function _5(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.key,i=n.offsetTopLeft,s=n.position,o=n.reverseDirection,a=n.tooltipDimension,l=n.viewBox,u=n.viewBoxDimension;if(s&&Gt(s[r]))return s[r];var d=t[r]-a-i,c=t[r]+i;if(e[r])return o[r]?d:c;if(o[r]){var f=d,m=l[r];return f<m?Math.max(c,l[r]):Math.max(d,l[r])}var v=c+a,b=l[r]+u;return v>b?Math.max(d,l[r]):Math.max(c,l[r])}function e0e(n){var e=n.translateX,t=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function t0e(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.offsetTopLeft,i=n.position,s=n.reverseDirection,o=n.tooltipBox,a=n.useTranslate3d,l=n.viewBox,u,d,c;return o.height>0&&o.width>0&&t?(d=_5({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),c=_5({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=e0e({translateX:d,translateY:c,useTranslate3d:a})):u=Zge,{cssProperties:u,cssClasses:Qge({translateX:d,translateY:c,coordinate:t})}}function x0(n){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(n)}function w5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function S5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(t),!0).forEach(function(r){PI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function n0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function r0e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eK(r.key),r)}}function i0e(n,e,t){return e&&r0e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function s0e(n,e,t){return e=xS(e),o0e(n,QX()?Reflect.construct(e,t||[],xS(n).constructor):e.apply(n,t))}function o0e(n,e){if(e&&(x0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a0e(n)}function a0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QX=function(){return!!n})()}function xS(n){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xS(n)}function l0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TI(n,e)}function TI(n,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TI(n,e)}function PI(n,e,t){return e=eK(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eK(n){var e=c0e(n,"string");return x0(e)=="symbol"?e:e+""}function c0e(n,e){if(x0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var A5=1,u0e=(function(n){function e(){var t;n0e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=s0e(this,e,[].concat(i)),PI(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PI(t,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,d;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(d=t.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),t}return l0e(e,n),i0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>A5||Math.abs(r.height-this.state.lastBoundingBox.height)>A5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,c=i.hasPayload,f=i.isAnimationActive,m=i.offset,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,E=t0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),C=E.cssClasses,M=E.cssProperties,R=S5(S5({transition:f&&s?"transform ".concat(a,"ms ").concat(l):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&c?"visible":"hidden",position:"absolute",top:0,left:0},A);return ue.createElement("div",{tabIndex:-1,className:C,style:R,ref:function(k){r.wrapperNode=k}},u)}}])})(B.PureComponent),d0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gm={isSsr:d0e()};function b0(n){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(n)}function E5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function C5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(t),!0).forEach(function(r){TD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function f0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function h0e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nK(r.key),r)}}function p0e(n,e,t){return e&&h0e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function m0e(n,e,t){return e=bS(e),g0e(n,tK()?Reflect.construct(e,t||[],bS(n).constructor):e.apply(n,t))}function g0e(n,e){if(e&&(b0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v0e(n)}function v0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!n})()}function bS(n){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bS(n)}function y0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&RI(n,e)}function RI(n,e){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RI(n,e)}function TD(n,e,t){return e=nK(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nK(n){var e=x0e(n,"string");return b0(e)=="symbol"?e:e+""}function x0e(n,e){if(b0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function b0e(n){return n.dataKey}function _0e(n,e){return ue.isValidElement(n)?ue.cloneElement(n,e):typeof n=="function"?ue.createElement(n,e):ue.createElement(Kge,e)}var ui=(function(n){function e(){return f0e(this,e),m0e(this,e,arguments)}return y0e(e,n),p0e(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,c=i.filterNull,f=i.isAnimationActive,m=i.offset,v=i.payload,b=i.payloadUniqBy,y=i.position,w=i.reverseDirection,A=i.useTranslate3d,E=i.viewBox,C=i.wrapperStyle,M=v??[];c&&M.length&&(M=$X(v.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),b,b0e));var R=M.length>0;return ue.createElement(u0e,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:f,active:s,coordinate:d,hasPayload:R,offset:m,position:y,reverseDirection:w,useTranslate3d:A,viewBox:E,wrapperStyle:C},_0e(u,C5(C5({},this.props),{},{payload:M})))}}])})(B.PureComponent);TD(ui,"displayName","Tooltip");TD(ui,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lR,M5;function w0e(){if(M5)return lR;M5=1;var n=gu(),e=function(){return n.Date.now()};return lR=e,lR}var cR,T5;function S0e(){if(T5)return cR;T5=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return cR=e,cR}var uR,P5;function A0e(){if(P5)return uR;P5=1;var n=S0e(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return uR=t,uR}var dR,R5;function rK(){if(R5)return dR;R5=1;var n=A0e(),e=ih(),t=fv(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(t(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=n(u);var c=s.test(u);return c||o.test(u)?a(u.slice(2),c?2:8):i.test(u)?r:+u}return dR=l,dR}var fR,N5;function E0e(){if(N5)return fR;N5=1;var n=ih(),e=w0e(),t=rK(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,u){var d,c,f,m,v,b,y=0,w=!1,A=!1,E=!0;if(typeof a!="function")throw new TypeError(r);l=t(l)||0,n(u)&&(w=!!u.leading,A="maxWait"in u,f=A?i(t(u.maxWait)||0,l):f,E="trailing"in u?!!u.trailing:E);function C(q){var K=d,ne=c;return d=c=void 0,y=q,m=a.apply(ne,K),m}function M(q){return y=q,v=setTimeout(k,l),w?C(q):m}function R(q){var K=q-b,ne=q-y,V=l-K;return A?s(V,f-ne):V}function O(q){var K=q-b,ne=q-y;return b===void 0||K>=l||K<0||A&&ne>=f}function k(){var q=e();if(O(q))return D(q);v=setTimeout(k,R(q))}function D(q){return v=void 0,E&&d?C(q):(d=c=void 0,m)}function I(){v!==void 0&&clearTimeout(v),y=0,d=b=c=v=void 0}function L(){return v===void 0?m:D(e())}function W(){var q=e(),K=O(q);if(d=arguments,c=this,b=q,K){if(v===void 0)return M(b);if(A)return clearTimeout(v),v=setTimeout(k,l),C(b)}return v===void 0&&(v=setTimeout(k,l)),m}return W.cancel=I,W.flush=L,W}return fR=o,fR}var hR,I5;function C0e(){if(I5)return hR;I5=1;var n=E0e(),e=ih(),t="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(t);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),n(i,s,{leading:a,maxWait:s,trailing:l})}return hR=r,hR}var M0e=C0e();const iK=zr(M0e);function Bx(n){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(n)}function O5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function g1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(t),!0).forEach(function(r){T0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function T0e(n,e,t){return e=P0e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P0e(n){var e=R0e(n,"string");return Bx(e)=="symbol"?e:e+""}function R0e(n,e){if(Bx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function N0e(n,e){return D0e(n)||F0e(n,e)||O0e(n,e)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(n,e){if(n){if(typeof n=="string")return F5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F5(n,e)}}function F5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function F0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function D0e(n){if(Array.isArray(n))return n}var to=B.forwardRef(function(n,e){var t=n.aspect,r=n.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=n.width,o=s===void 0?"100%":s,a=n.height,l=a===void 0?"100%":a,u=n.minWidth,d=u===void 0?0:u,c=n.minHeight,f=n.maxHeight,m=n.children,v=n.debounce,b=v===void 0?0:v,y=n.id,w=n.className,A=n.onResize,E=n.style,C=E===void 0?{}:E,M=B.useRef(null),R=B.useRef();R.current=A,B.useImperativeHandle(e,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var O=B.useState({containerWidth:i.width,containerHeight:i.height}),k=N0e(O,2),D=k[0],I=k[1],L=B.useCallback(function(q,K){I(function(ne){var V=Math.round(q),ee=Math.round(K);return ne.containerWidth===V&&ne.containerHeight===ee?ne:{containerWidth:V,containerHeight:ee}})},[]);B.useEffect(function(){var q=function(Z){var te,Y=Z[0].contentRect,ae=Y.width,we=Y.height;L(ae,we),(te=R.current)===null||te===void 0||te.call(R,ae,we)};b>0&&(q=iK(q,b,{trailing:!0,leading:!1}));var K=new ResizeObserver(q),ne=M.current.getBoundingClientRect(),V=ne.width,ee=ne.height;return L(V,ee),K.observe(M.current),function(){K.disconnect()}},[L,b]);var W=B.useMemo(function(){var q=D.containerWidth,K=D.containerHeight;if(q<0||K<0)return null;hd(Sp(o)||Sp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),hd(!t||t>0,"The aspect(%s) must be greater than zero.",t);var ne=Sp(o)?q:o,V=Sp(l)?K:l;t&&t>0&&(ne?V=ne/t:V&&(ne=V*t),f&&V>f&&(V=f)),hd(ne>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,V,o,l,d,c,t);var ee=!Array.isArray(m)&&fd(m.type).endsWith("Chart");return ue.Children.map(m,function(H){return ue.isValidElement(H)?B.cloneElement(H,g1({width:ne,height:V},ee?{style:g1({height:"100%",width:"100%",maxHeight:V,maxWidth:ne},H.props.style)}:{})):H})},[t,m,l,f,c,d,D,o]);return ue.createElement("div",{id:y?"".concat(y):void 0,className:yr("recharts-responsive-container",w),style:g1(g1({},C),{},{width:o,height:l,minWidth:d,minHeight:c,maxHeight:f}),ref:M},W)}),PD=function(e){return null};PD.displayName="Cell";function kx(n){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(n)}function D5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function NI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(t),!0).forEach(function(r){B0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function B0e(n,e,t){return e=k0e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k0e(n){var e=L0e(n,"string");return kx(e)=="symbol"?e:e+""}function L0e(n,e){if(kx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dg={widthCache:{},cacheCount:0},j0e=2e3,U0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},B5="recharts_measurement_span";function z0e(n){var e=NI({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var nx=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gm.isSsr)return{width:0,height:0};var r=z0e(t),i=JSON.stringify({text:e,copyStyle:r});if(dg.widthCache[i])return dg.widthCache[i];try{var s=document.getElementById(B5);s||(s=document.createElement("span"),s.setAttribute("id",B5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=NI(NI({},U0e),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return dg.widthCache[i]=l,++dg.cacheCount>j0e&&(dg.cacheCount=0,dg.widthCache={}),l}catch{return{width:0,height:0}}},H0e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lx(n){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(n)}function _S(n,e){return $0e(n)||W0e(n,e)||V0e(n,e)||G0e()}function G0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(n,e){if(n){if(typeof n=="string")return k5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k5(n,e)}}function k5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function W0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function $0e(n){if(Array.isArray(n))return n}function q0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function L5(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,K0e(r.key),r)}}function X0e(n,e,t){return e&&L5(n.prototype,e),t&&L5(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function K0e(n){var e=Y0e(n,"string");return Lx(e)=="symbol"?e:e+""}function Y0e(n,e){if(Lx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var j5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Z0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q0e=Object.keys(sK),jg="NaN";function eve(n,e){return n*sK[e]}var v1=(function(){function n(e,t){q0e(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!J0e.test(t)&&(this.num=NaN,this.unit=""),Q0e.includes(t)&&(this.num=eve(e,t),this.unit="px")}return X0e(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,i=(r=Z0e.exec(t))!==null&&r!==void 0?r:[],s=_S(i,3),o=s[1],a=s[2];return new n(parseFloat(o),a??"")}}])})();function oK(n){if(n.includes(jg))return jg;for(var e=n;e.includes("*")||e.includes("/");){var t,r=(t=j5.exec(e))!==null&&t!==void 0?t:[],i=_S(r,4),s=i[1],o=i[2],a=i[3],l=v1.parse(s??""),u=v1.parse(a??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return jg;e=e.replace(j5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,f=(c=U5.exec(e))!==null&&c!==void 0?c:[],m=_S(f,4),v=m[1],b=m[2],y=m[3],w=v1.parse(v??""),A=v1.parse(y??""),E=b==="+"?w.add(A):w.subtract(A);if(E.isNaN())return jg;e=e.replace(U5,E.toString())}return e}var z5=/\(([^()]*)\)/;function tve(n){for(var e=n;e.includes("(");){var t=z5.exec(e),r=_S(t,2),i=r[1];e=e.replace(z5,oK(i))}return e}function nve(n){var e=n.replace(/\s+/g,"");return e=tve(e),e=oK(e),e}function rve(n){try{return nve(n)}catch{return jg}}function pR(n){var e=rve(n.slice(5,-1));return e===jg?"":e}var ive=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sve=["dx","dy","angle","className","breakAll"];function II(){return II=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},II.apply(this,arguments)}function H5(n,e){if(n==null)return{};var t=ove(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ove(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function G5(n,e){return uve(n)||cve(n,e)||lve(n,e)||ave()}function ave(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(n,e){if(n){if(typeof n=="string")return V5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V5(n,e)}}function V5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function uve(n){if(Array.isArray(n))return n}var aK=/[ \f\n\r\t\v\u2028\u2029]+/,lK=function(e){var t=e.children,r=e.breakAll,i=e.style;try{var s=[];pr(t)||(r?s=t.toString().split(""):s=t.toString().split(aK));var o=s.map(function(l){return{word:l,width:nx(l,i).width}}),a=r?0:nx("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},dve=function(e,t,r,i,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,d=Gt(o),c=a,f=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(V,ee){var H=ee.word,Z=ee.width,te=V[V.length-1];if(te&&(i==null||s||te.width+Z+r<Number(i)))te.words.push(H),te.width+=Z+r;else{var Y={words:[H],width:Z};V.push(Y)}return V},[])},m=f(t),v=function(ne){return ne.reduce(function(V,ee){return V.width>ee.width?V:ee})};if(!d)return m;for(var b="",y=function(ne){var V=c.slice(0,ne),ee=lK({breakAll:u,style:l,children:V+b}).wordsWithComputedWidth,H=f(ee),Z=H.length>o||v(H).width>Number(i);return[Z,H]},w=0,A=c.length-1,E=0,C;w<=A&&E<=c.length-1;){var M=Math.floor((w+A)/2),R=M-1,O=y(R),k=G5(O,2),D=k[0],I=k[1],L=y(M),W=G5(L,1),q=W[0];if(!D&&!q&&(w=M+1),D&&q&&(A=M-1),!D&&q){C=I;break}E++}return C||m},W5=function(e){var t=pr(e)?[]:e.toString().split(aK);return[{words:t}]},fve=function(e){var t=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((t||r)&&!gm.isSsr){var l,u,d=lK({breakAll:o,children:i,style:s});if(d){var c=d.wordsWithComputedWidth,f=d.spaceWidth;l=c,u=f}else return W5(i);return dve({breakAll:o,children:i,maxLines:a,style:s},l,u,t,r)}return W5(i)},$5="#808080",wS=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,c=d===void 0?!1:d,f=e.textAnchor,m=f===void 0?"start":f,v=e.verticalAnchor,b=v===void 0?"end":v,y=e.fill,w=y===void 0?$5:y,A=H5(e,ive),E=B.useMemo(function(){return fve({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:c,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,c,A.style,A.width]),C=A.dx,M=A.dy,R=A.angle,O=A.className,k=A.breakAll,D=H5(A,sve);if(!_s(r)||!_s(s))return null;var I=r+(Gt(C)?C:0),L=s+(Gt(M)?M:0),W;switch(b){case"start":W=pR("calc(".concat(u,")"));break;case"middle":W=pR("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:W=pR("calc(".concat(E.length-1," * -").concat(a,")"));break}var q=[];if(c){var K=E[0].width,ne=A.width;q.push("scale(".concat((Gt(ne)?ne/K:1)/K,")"))}return R&&q.push("rotate(".concat(R,", ").concat(I,", ").concat(L,")")),q.length&&(D.transform=q.join(" ")),ue.createElement("text",II({},ur(D,!0),{x:I,y:L,className:yr("recharts-text",O),textAnchor:m,fill:w.includes("url")?$5:w}),E.map(function(V,ee){var H=V.words.join(k?"":" ");return ue.createElement("tspan",{x:I,dy:ee===0?W:a,key:"".concat(H,"-").concat(ee)},H)}))};function Gf(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function hve(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function RD(n){let e,t,r;n.length!==2?(e=Gf,t=(a,l)=>Gf(n(a),l),r=(a,l)=>n(a)-l):(e=n===Gf||n===hve?n:pve,t=n,r=n);function i(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const c=u+d>>>1;t(a[c],l)<0?u=c+1:d=c}while(u<d)}return u}function s(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const c=u+d>>>1;t(a[c],l)<=0?u=c+1:d=c}while(u<d)}return u}function o(a,l,u=0,d=a.length){const c=i(a,l,u,d-1);return c>u&&r(a[c-1],l)>-r(a[c],l)?c-1:c}return{left:i,center:o,right:s}}function pve(){return 0}function cK(n){return n===null?NaN:+n}function*mve(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const gve=RD(Gf),Vb=gve.right;RD(cK).center;class q5 extends Map{constructor(e,t=xve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(X5(this,e))}has(e){return super.has(X5(this,e))}set(e,t){return super.set(vve(this,e),t)}delete(e){return super.delete(yve(this,e))}}function X5({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function vve({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function yve({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function xve(n){return n!==null&&typeof n=="object"?n.valueOf():n}function bve(n=Gf){if(n===Gf)return uK;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function uK(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const _ve=Math.sqrt(50),wve=Math.sqrt(10),Sve=Math.sqrt(2);function SS(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=_ve?10:s>=wve?5:s>=Sve?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(n*u),l=Math.round(e*u),a/u<n&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(n/u),l=Math.round(e/u),a*u<n&&++a,l*u>e&&--l),l<a&&.5<=t&&t<2?SS(n,e,t*2):[a,l,u]}function OI(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,o]=r?SS(e,n,t):SS(n,e,t);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function FI(n,e,t){return e=+e,n=+n,t=+t,SS(n,e,t)[2]}function DI(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?FI(e,n,t):FI(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function K5(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function Y5(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function dK(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?uK:bve(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,d=Math.log(l),c=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*c*(l-c)/l)*(u-l/2<0?-1:1),m=Math.max(t,Math.floor(e-u*c/l+f)),v=Math.min(r,Math.floor(e+(l-u)*c/l+f));dK(n,e,m,v,i)}const s=n[e];let o=t,a=r;for(yy(n,t,e),i(n[r],s)>0&&yy(n,t,r);o<a;){for(yy(n,o,a),++o,--a;i(n[o],s)<0;)++o;for(;i(n[a],s)>0;)--a}i(n[t],s)===0?yy(n,t,a):(++a,yy(n,a,r)),a<=e&&(t=a+1),e<=a&&(r=a-1)}return n}function yy(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function Ave(n,e,t){if(n=Float64Array.from(mve(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Y5(n);if(e>=1)return K5(n);var r,i=(r-1)*e,s=Math.floor(i),o=K5(dK(n,s).subarray(0,s+1)),a=Y5(n.subarray(s+1));return o+(a-o)*(i-s)}}function Eve(n,e,t=cK){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),o=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return o+(a-o)*(i-s)}}function Cve(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function Sl(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Nd(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BI=Symbol("implicit");function ND(){var n=new q5,e=[],t=[],r=BI;function i(s){let o=n.get(s);if(o===void 0){if(r!==BI)return r;n.set(s,o=e.push(s)-1)}return t[o%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new q5;for(const o of s)n.has(o)||n.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ND(e,t).unknown(r)},Sl.apply(i,arguments),i}function jx(){var n=ND().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,o,a=!1,l=0,u=0,d=.5;delete n.unknown;function c(){var f=e().length,m=i<r,v=m?i:r,b=m?r:i;s=(b-v)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),v+=(b-v-s*(f-l))*d,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var y=Cve(f).map(function(w){return v+s*w});return t(m?y.reverse():y)}return n.domain=function(f){return arguments.length?(e(f),c()):e()},n.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,c()):[r,i]},n.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,c()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(f){return arguments.length?(a=!!f,c()):a},n.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),c()):l},n.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),c()):l},n.paddingOuter=function(f){return arguments.length?(u=+f,c()):u},n.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),c()):d},n.copy=function(){return jx(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},Sl.apply(c(),arguments)}function fK(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return fK(e())},n}function rx(){return fK(jx.apply(null,arguments).paddingInner(1))}function ID(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function hK(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Wb(){}var Ux=.7,AS=1/Ux,i0="\\s*([+-]?\\d+)\\s*",zx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mve=/^#([0-9a-f]{3,8})$/,Tve=new RegExp(`^rgb\\(${i0},${i0},${i0}\\)$`),Pve=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),Rve=new RegExp(`^rgba\\(${i0},${i0},${i0},${zx}\\)$`),Nve=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${zx}\\)$`),Ive=new RegExp(`^hsl\\(${zx},${Qc},${Qc}\\)$`),Ove=new RegExp(`^hsla\\(${zx},${Qc},${Qc},${zx}\\)$`),J5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ID(Wb,Hx,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Z5,formatHex:Z5,formatHex8:Fve,formatHsl:Dve,formatRgb:Q5,toString:Q5});function Z5(){return this.rgb().formatHex()}function Fve(){return this.rgb().formatHex8()}function Dve(){return pK(this).formatHsl()}function Q5(){return this.rgb().formatRgb()}function Hx(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Mve.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?e8(e):t===3?new ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?y1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?y1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tve.exec(n))?new ua(e[1],e[2],e[3],1):(e=Pve.exec(n))?new ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rve.exec(n))?y1(e[1],e[2],e[3],e[4]):(e=Nve.exec(n))?y1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ive.exec(n))?r8(e[1],e[2]/100,e[3]/100,1):(e=Ove.exec(n))?r8(e[1],e[2]/100,e[3]/100,e[4]):J5.hasOwnProperty(n)?e8(J5[n]):n==="transparent"?new ua(NaN,NaN,NaN,0):null}function e8(n){return new ua(n>>16&255,n>>8&255,n&255,1)}function y1(n,e,t,r){return r<=0&&(n=e=t=NaN),new ua(n,e,t,r)}function Bve(n){return n instanceof Wb||(n=Hx(n)),n?(n=n.rgb(),new ua(n.r,n.g,n.b,n.opacity)):new ua}function kI(n,e,t,r){return arguments.length===1?Bve(n):new ua(n,e,t,r??1)}function ua(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}ID(ua,kI,hK(Wb,{brighter(n){return n=n==null?AS:Math.pow(AS,n),new ua(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ux:Math.pow(Ux,n),new ua(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ua(zp(this.r),zp(this.g),zp(this.b),ES(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t8,formatHex:t8,formatHex8:kve,formatRgb:n8,toString:n8}));function t8(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}`}function kve(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}${Ap((isNaN(this.opacity)?1:this.opacity)*255)}`}function n8(){const n=ES(this.opacity);return`${n===1?"rgb(":"rgba("}${zp(this.r)}, ${zp(this.g)}, ${zp(this.b)}${n===1?")":`, ${n})`}`}function ES(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function zp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ap(n){return n=zp(n),(n<16?"0":"")+n.toString(16)}function r8(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new oc(n,e,t,r)}function pK(n){if(n instanceof oc)return new oc(n.h,n.s,n.l,n.opacity);if(n instanceof Wb||(n=Hx(n)),!n)return new oc;if(n instanceof oc)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new oc(o,a,l,n.opacity)}function Lve(n,e,t,r){return arguments.length===1?pK(n):new oc(n,e,t,r??1)}function oc(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}ID(oc,Lve,hK(Wb,{brighter(n){return n=n==null?AS:Math.pow(AS,n),new oc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ux:Math.pow(Ux,n),new oc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ua(mR(n>=240?n-240:n+120,i,r),mR(n,i,r),mR(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new oc(i8(this.h),x1(this.s),x1(this.l),ES(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=ES(this.opacity);return`${n===1?"hsl(":"hsla("}${i8(this.h)}, ${x1(this.s)*100}%, ${x1(this.l)*100}%${n===1?")":`, ${n})`}`}}));function i8(n){return n=(n||0)%360,n<0?n+360:n}function x1(n){return Math.max(0,Math.min(1,n||0))}function mR(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const OD=n=>()=>n;function jve(n,e){return function(t){return n+t*e}}function Uve(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function zve(n){return(n=+n)==1?mK:function(e,t){return t-e?Uve(e,t,n):OD(isNaN(e)?t:e)}}function mK(n,e){var t=e-n;return t?jve(n,t):OD(isNaN(n)?e:n)}const s8=(function n(e){var t=zve(e);function r(i,s){var o=t((i=kI(i)).r,(s=kI(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),u=mK(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=n,r})(1);function Hve(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function Gve(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Vve(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),o;for(o=0;o<r;++o)i[o]=vv(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Wve(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function CS(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function $ve(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=vv(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var LI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gR=new RegExp(LI.source,"g");function qve(n){return function(){return n}}function Xve(n){return function(e){return n(e)+""}}function Kve(n,e){var t=LI.lastIndex=gR.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(r=LI.exec(n))&&(i=gR.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:CS(r,i)})),t=gR.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Xve(l[0].x):qve(e):(e=l.length,function(u){for(var d=0,c;d<e;++d)a[(c=l[d]).i]=c.x(u);return a.join("")})}function vv(n,e){var t=typeof e,r;return e==null||t==="boolean"?OD(e):(t==="number"?CS:t==="string"?(r=Hx(e))?(e=r,s8):Kve:e instanceof Hx?s8:e instanceof Date?Wve:Gve(e)?Hve:Array.isArray(e)?Vve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$ve:CS)(n,e)}function FD(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Yve(n,e){e===void 0&&(e=n,n=vv);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Jve(n){return function(){return n}}function MS(n){return+n}var o8=[0,1];function Go(n){return n}function jI(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Jve(isNaN(e)?NaN:.5)}function Zve(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Qve(n,e,t){var r=n[0],i=n[1],s=e[0],o=e[1];return i<r?(r=jI(i,r),s=t(o,s)):(r=jI(r,i),s=t(s,o)),function(a){return s(r(a))}}function eye(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=jI(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=Vb(n,a,1,r)-1;return s[l](i[l](a))}}function $b(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ZE(){var n=o8,e=o8,t=vv,r,i,s,o=Go,a,l,u;function d(){var f=Math.min(n.length,e.length);return o!==Go&&(o=Zve(n[0],n[f-1])),a=f>2?eye:Qve,l=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(l||(l=a(n.map(r),e,t)))(r(o(f)))}return c.invert=function(f){return o(i((u||(u=a(e,n.map(r),CS)))(f)))},c.domain=function(f){return arguments.length?(n=Array.from(f,MS),d()):n.slice()},c.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},c.rangeRound=function(f){return e=Array.from(f),t=FD,d()},c.clamp=function(f){return arguments.length?(o=f?!0:Go,d()):o!==Go},c.interpolate=function(f){return arguments.length?(t=f,d()):t},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,m){return r=f,i=m,d()}}function DD(){return ZE()(Go,Go)}function tye(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function TS(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function _0(n){return n=TS(Math.abs(n)),n?n[1]:NaN}function nye(n,e){return function(t,r){for(var i=t.length,s=[],o=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}function rye(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var iye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gx(n){if(!(e=iye.exec(n)))throw new Error("invalid format: "+n);var e;return new BD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gx.prototype=BD.prototype;function BD(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}BD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sye(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var gK;function oye(n,e){var t=TS(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(gK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+TS(n,Math.max(0,e+s-1))[0]}function a8(n,e){var t=TS(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l8={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:tye,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>a8(n*100,e),r:a8,s:oye,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function c8(n){return n}var u8=Array.prototype.map,d8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aye(n){var e=n.grouping===void 0||n.thousands===void 0?c8:nye(u8.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?c8:rye(u8.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(c){c=Gx(c);var f=c.fill,m=c.align,v=c.sign,b=c.symbol,y=c.zero,w=c.width,A=c.comma,E=c.precision,C=c.trim,M=c.type;M==="n"?(A=!0,M="g"):l8[M]||(E===void 0&&(E=12),C=!0,M="g"),(y||f==="0"&&m==="=")&&(y=!0,f="0",m="=");var R=b==="$"?t:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",O=b==="$"?r:/[%p]/.test(M)?o:"",k=l8[M],D=/[defgprs%]/.test(M);E=E===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(L){var W=R,q=O,K,ne,V;if(M==="c")q=k(L)+q,L="";else{L=+L;var ee=L<0||1/L<0;if(L=isNaN(L)?l:k(Math.abs(L),E),C&&(L=sye(L)),ee&&+L==0&&v!=="+"&&(ee=!1),W=(ee?v==="("?v:a:v==="-"||v==="("?"":v)+W,q=(M==="s"?d8[8+gK/3]:"")+q+(ee&&v==="("?")":""),D){for(K=-1,ne=L.length;++K<ne;)if(V=L.charCodeAt(K),48>V||V>57){q=(V===46?i+L.slice(K+1):L.slice(K))+q,L=L.slice(0,K);break}}}A&&!y&&(L=e(L,1/0));var H=W.length+L.length+q.length,Z=H<w?new Array(w-H+1).join(f):"";switch(A&&y&&(L=e(Z+L,Z.length?w-q.length:1/0),Z=""),m){case"<":L=W+L+q+Z;break;case"=":L=W+Z+L+q;break;case"^":L=Z.slice(0,H=Z.length>>1)+W+L+q+Z.slice(H);break;default:L=Z+W+L+q;break}return s(L)}return I.toString=function(){return c+""},I}function d(c,f){var m=u((c=Gx(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(_0(f)/3)))*3,b=Math.pow(10,-v),y=d8[8+v/3];return function(w){return m(b*w)+y}}return{format:u,formatPrefix:d}}var b1,kD,vK;lye({thousands:",",grouping:[3],currency:["$",""]});function lye(n){return b1=aye(n),kD=b1.format,vK=b1.formatPrefix,b1}function cye(n){return Math.max(0,-_0(Math.abs(n)))}function uye(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_0(e)/3)))*3-_0(Math.abs(n)))}function dye(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,_0(e)-_0(n))+1}function yK(n,e,t,r){var i=DI(n,e,t),s;switch(r=Gx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=uye(i,o))&&(r.precision=s),vK(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dye(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=cye(i))&&(r.precision=s-(r.type==="%")*2);break}}return kD(r)}function oh(n){var e=n.domain;return n.ticks=function(t){var r=e();return OI(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return yK(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,d=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);d-- >0;){if(u=FI(o,a,t),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return n},n}function PS(){var n=DD();return n.copy=function(){return $b(n,PS())},Sl.apply(n,arguments),oh(n)}function xK(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,MS),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return xK(n).unknown(e)},n=arguments.length?Array.from(n,MS):[0,1],oh(t)}function bK(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],o;return s<i&&(o=t,t=r,r=o,o=i,i=s,s=o),n[t]=e.floor(i),n[r]=e.ceil(s),n}function f8(n){return Math.log(n)}function h8(n){return Math.exp(n)}function fye(n){return-Math.log(-n)}function hye(n){return-Math.exp(-n)}function pye(n){return isFinite(n)?+("1e"+n):n<0?0:n}function mye(n){return n===10?pye:n===Math.E?Math.exp:e=>Math.pow(n,e)}function gye(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function p8(n){return(e,t)=>-n(-e,t)}function LD(n){const e=n(f8,h8),t=e.domain;let r=10,i,s;function o(){return i=gye(r),s=mye(r),t()[0]<0?(i=p8(i),s=p8(s),n(fye,hye)):n(f8,h8),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(t(a),o()):t()},e.ticks=a=>{const l=t();let u=l[0],d=l[l.length-1];const c=d<u;c&&([u,d]=[d,u]);let f=i(u),m=i(d),v,b;const y=a==null?10:+a;let w=[];if(!(r%1)&&m-f<y){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(v=1;v<r;++v)if(b=f<0?v/s(-f):v*s(f),!(b<u)){if(b>d)break;w.push(b)}}else for(;f<=m;++f)for(v=r-1;v>=1;--v)if(b=f>0?v/s(-f):v*s(f),!(b<u)){if(b>d)break;w.push(b)}w.length*2<y&&(w=OI(u,d,y))}else w=OI(f,m,Math.min(m-f,y)).map(s);return c?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gx(l)).precision==null&&(l.trim=!0),l=kD(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return d=>{let c=d/s(Math.round(i(d)));return c*r<r-.5&&(c*=r),c<=u?l(d):""}},e.nice=()=>t(bK(t(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function _K(){const n=LD(ZE()).domain([1,10]);return n.copy=()=>$b(n,_K()).base(n.base()),Sl.apply(n,arguments),n}function m8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function g8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function jD(n){var e=1,t=n(m8(e),g8(e));return t.constant=function(r){return arguments.length?n(m8(e=+r),g8(e)):e},oh(t)}function wK(){var n=jD(ZE());return n.copy=function(){return $b(n,wK()).constant(n.constant())},Sl.apply(n,arguments)}function v8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function vye(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function yye(n){return n<0?-n*n:n*n}function UD(n){var e=n(Go,Go),t=1;function r(){return t===1?n(Go,Go):t===.5?n(vye,yye):n(v8(t),v8(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},oh(e)}function zD(){var n=UD(ZE());return n.copy=function(){return $b(n,zD()).exponent(n.exponent())},Sl.apply(n,arguments),n}function xye(){return zD.apply(null,arguments).exponent(.5)}function y8(n){return Math.sign(n)*n*n}function bye(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function SK(){var n=DD(),e=[0,1],t=!1,r;function i(s){var o=bye(n(s));return isNaN(o)?r:t?Math.round(o):o}return i.invert=function(s){return n.invert(y8(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,MS)).map(y8)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SK(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Sl.apply(i,arguments),oh(i)}function AK(){var n=[],e=[],t=[],r;function i(){var o=0,a=Math.max(1,e.length);for(t=new Array(a-1);++o<a;)t[o-1]=Eve(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Vb(t,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(Gf),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return AK().domain(n).range(e).unknown(r)},Sl.apply(s,arguments)}function EK(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Vb(r,l,0,t)]:s}function a(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return o}return o.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,a()):[n,e]},o.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,r[0]]:u>=t?[r[t-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return EK().domain([n,e]).range(i).unknown(s)},Sl.apply(oh(o),arguments)}function CK(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[Vb(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[n[o-1],n[o]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return CK().domain(n).range(e).unknown(t)},Sl.apply(i,arguments)}const vR=new Date,yR=new Date;function Ms(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),n(s);while(u<s&&s<o);return l},i.filter=s=>Ms(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),t&&(i.count=(s,o)=>(vR.setTime(+s),yR.setTime(+o),n(vR),n(yR),Math.floor(t(vR,yR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const RS=Ms(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);RS.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Ms(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):RS);RS.range;const ld=1e3,pl=ld*60,cd=pl*60,_d=cd*24,HD=_d*7,x8=_d*30,xR=_d*365,Ep=Ms(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*ld)},(n,e)=>(e-n)/ld,n=>n.getUTCSeconds());Ep.range;const GD=Ms(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ld)},(n,e)=>{n.setTime(+n+e*pl)},(n,e)=>(e-n)/pl,n=>n.getMinutes());GD.range;const VD=Ms(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*pl)},(n,e)=>(e-n)/pl,n=>n.getUTCMinutes());VD.range;const WD=Ms(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ld-n.getMinutes()*pl)},(n,e)=>{n.setTime(+n+e*cd)},(n,e)=>(e-n)/cd,n=>n.getHours());WD.range;const $D=Ms(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*cd)},(n,e)=>(e-n)/cd,n=>n.getUTCHours());$D.range;const qb=Ms(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*pl)/_d,n=>n.getDate()-1);qb.range;const QE=Ms(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/_d,n=>n.getUTCDate()-1);QE.range;const MK=Ms(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/_d,n=>Math.floor(n/_d));MK.range;function vm(n){return Ms(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pl)/HD)}const eC=vm(0),NS=vm(1),_ye=vm(2),wye=vm(3),w0=vm(4),Sye=vm(5),Aye=vm(6);eC.range;NS.range;_ye.range;wye.range;w0.range;Sye.range;Aye.range;function ym(n){return Ms(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/HD)}const tC=ym(0),IS=ym(1),Eye=ym(2),Cye=ym(3),S0=ym(4),Mye=ym(5),Tye=ym(6);tC.range;IS.range;Eye.range;Cye.range;S0.range;Mye.range;Tye.range;const qD=Ms(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());qD.range;const XD=Ms(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());XD.range;const wd=Ms(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());wd.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ms(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});wd.range;const Sd=Ms(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Sd.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ms(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Sd.range;function TK(n,e,t,r,i,s){const o=[[Ep,1,ld],[Ep,5,5*ld],[Ep,15,15*ld],[Ep,30,30*ld],[s,1,pl],[s,5,5*pl],[s,15,15*pl],[s,30,30*pl],[i,1,cd],[i,3,3*cd],[i,6,6*cd],[i,12,12*cd],[r,1,_d],[r,2,2*_d],[t,1,HD],[e,1,x8],[e,3,3*x8],[n,1,xR]];function a(u,d,c){const f=d<u;f&&([u,d]=[d,u]);const m=c&&typeof c.range=="function"?c:l(u,d,c),v=m?m.range(u,+d+1):[];return f?v.reverse():v}function l(u,d,c){const f=Math.abs(d-u)/c,m=RD(([,,y])=>y).right(o,f);if(m===o.length)return n.every(DI(u/xR,d/xR,c));if(m===0)return RS.every(Math.max(DI(u,d,c),1));const[v,b]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return v.every(b)}return[a,l]}const[Pye,Rye]=TK(Sd,XD,tC,MK,$D,VD),[Nye,Iye]=TK(wd,qD,eC,qb,WD,GD);function bR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function _R(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function xy(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function Oye(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,u=by(i),d=_y(i),c=by(s),f=_y(s),m=by(o),v=_y(o),b=by(a),y=_y(a),w=by(l),A=_y(l),E={a:ee,A:H,b:Z,B:te,c:null,d:E8,e:E8,f:nxe,g:fxe,G:pxe,H:Qye,I:exe,j:txe,L:PK,m:rxe,M:ixe,p:Y,q:ae,Q:T8,s:P8,S:sxe,u:oxe,U:axe,V:lxe,w:cxe,W:uxe,x:null,X:null,y:dxe,Y:hxe,Z:mxe,"%":M8},C={a:we,A:Fe,b:qe,B:fe,c:null,d:C8,e:C8,f:xxe,g:Pxe,G:Nxe,H:gxe,I:vxe,j:yxe,L:NK,m:bxe,M:_xe,p:xe,q:Pe,Q:T8,s:P8,S:wxe,u:Sxe,U:Axe,V:Exe,w:Cxe,W:Mxe,x:null,X:null,y:Txe,Y:Rxe,Z:Ixe,"%":M8},M={a:I,A:L,b:W,B:q,c:K,d:S8,e:S8,f:Kye,g:w8,G:_8,H:A8,I:A8,j:Wye,L:Xye,m:Vye,M:$ye,p:D,q:Gye,Q:Jye,s:Zye,S:qye,u:Lye,U:jye,V:Uye,w:kye,W:zye,x:ne,X:V,y:w8,Y:_8,Z:Hye,"%":Yye};E.x=R(t,E),E.X=R(r,E),E.c=R(e,E),C.x=R(t,C),C.X=R(r,C),C.c=R(e,C);function R(Te,je){return function(rt){var Ue=[],ot=-1,De=0,le=Te.length,et,at,xt;for(rt instanceof Date||(rt=new Date(+rt));++ot<le;)Te.charCodeAt(ot)===37&&(Ue.push(Te.slice(De,ot)),(at=b8[et=Te.charAt(++ot)])!=null?et=Te.charAt(++ot):at=et==="e"?" ":"0",(xt=je[et])&&(et=xt(rt,at)),Ue.push(et),De=ot+1);return Ue.push(Te.slice(De,ot)),Ue.join("")}}function O(Te,je){return function(rt){var Ue=xy(1900,void 0,1),ot=k(Ue,Te,rt+="",0),De,le;if(ot!=rt.length)return null;if("Q"in Ue)return new Date(Ue.Q);if("s"in Ue)return new Date(Ue.s*1e3+("L"in Ue?Ue.L:0));if(je&&!("Z"in Ue)&&(Ue.Z=0),"p"in Ue&&(Ue.H=Ue.H%12+Ue.p*12),Ue.m===void 0&&(Ue.m="q"in Ue?Ue.q:0),"V"in Ue){if(Ue.V<1||Ue.V>53)return null;"w"in Ue||(Ue.w=1),"Z"in Ue?(De=_R(xy(Ue.y,0,1)),le=De.getUTCDay(),De=le>4||le===0?IS.ceil(De):IS(De),De=QE.offset(De,(Ue.V-1)*7),Ue.y=De.getUTCFullYear(),Ue.m=De.getUTCMonth(),Ue.d=De.getUTCDate()+(Ue.w+6)%7):(De=bR(xy(Ue.y,0,1)),le=De.getDay(),De=le>4||le===0?NS.ceil(De):NS(De),De=qb.offset(De,(Ue.V-1)*7),Ue.y=De.getFullYear(),Ue.m=De.getMonth(),Ue.d=De.getDate()+(Ue.w+6)%7)}else("W"in Ue||"U"in Ue)&&("w"in Ue||(Ue.w="u"in Ue?Ue.u%7:"W"in Ue?1:0),le="Z"in Ue?_R(xy(Ue.y,0,1)).getUTCDay():bR(xy(Ue.y,0,1)).getDay(),Ue.m=0,Ue.d="W"in Ue?(Ue.w+6)%7+Ue.W*7-(le+5)%7:Ue.w+Ue.U*7-(le+6)%7);return"Z"in Ue?(Ue.H+=Ue.Z/100|0,Ue.M+=Ue.Z%100,_R(Ue)):bR(Ue)}}function k(Te,je,rt,Ue){for(var ot=0,De=je.length,le=rt.length,et,at;ot<De;){if(Ue>=le)return-1;if(et=je.charCodeAt(ot++),et===37){if(et=je.charAt(ot++),at=M[et in b8?je.charAt(ot++):et],!at||(Ue=at(Te,rt,Ue))<0)return-1}else if(et!=rt.charCodeAt(Ue++))return-1}return Ue}function D(Te,je,rt){var Ue=u.exec(je.slice(rt));return Ue?(Te.p=d.get(Ue[0].toLowerCase()),rt+Ue[0].length):-1}function I(Te,je,rt){var Ue=m.exec(je.slice(rt));return Ue?(Te.w=v.get(Ue[0].toLowerCase()),rt+Ue[0].length):-1}function L(Te,je,rt){var Ue=c.exec(je.slice(rt));return Ue?(Te.w=f.get(Ue[0].toLowerCase()),rt+Ue[0].length):-1}function W(Te,je,rt){var Ue=w.exec(je.slice(rt));return Ue?(Te.m=A.get(Ue[0].toLowerCase()),rt+Ue[0].length):-1}function q(Te,je,rt){var Ue=b.exec(je.slice(rt));return Ue?(Te.m=y.get(Ue[0].toLowerCase()),rt+Ue[0].length):-1}function K(Te,je,rt){return k(Te,e,je,rt)}function ne(Te,je,rt){return k(Te,t,je,rt)}function V(Te,je,rt){return k(Te,r,je,rt)}function ee(Te){return o[Te.getDay()]}function H(Te){return s[Te.getDay()]}function Z(Te){return l[Te.getMonth()]}function te(Te){return a[Te.getMonth()]}function Y(Te){return i[+(Te.getHours()>=12)]}function ae(Te){return 1+~~(Te.getMonth()/3)}function we(Te){return o[Te.getUTCDay()]}function Fe(Te){return s[Te.getUTCDay()]}function qe(Te){return l[Te.getUTCMonth()]}function fe(Te){return a[Te.getUTCMonth()]}function xe(Te){return i[+(Te.getUTCHours()>=12)]}function Pe(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var je=R(Te+="",E);return je.toString=function(){return Te},je},parse:function(Te){var je=O(Te+="",!1);return je.toString=function(){return Te},je},utcFormat:function(Te){var je=R(Te+="",C);return je.toString=function(){return Te},je},utcParse:function(Te){var je=O(Te+="",!0);return je.toString=function(){return Te},je}}}var b8={"-":"",_:" ",0:"0"},Gs=/^\s*\d+/,Fye=/^%/,Dye=/[\\^$*+?|[\]().{}]/g;function Fr(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function Bye(n){return n.replace(Dye,"\\$&")}function by(n){return new RegExp("^(?:"+n.map(Bye).join("|")+")","i")}function _y(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function kye(n,e,t){var r=Gs.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function Lye(n,e,t){var r=Gs.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function jye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function Uye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function zye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function _8(n,e,t){var r=Gs.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function w8(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function Hye(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Gye(n,e,t){var r=Gs.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function Vye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function S8(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function Wye(n,e,t){var r=Gs.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function A8(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function $ye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function qye(n,e,t){var r=Gs.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function Xye(n,e,t){var r=Gs.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function Kye(n,e,t){var r=Gs.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function Yye(n,e,t){var r=Fye.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function Jye(n,e,t){var r=Gs.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function Zye(n,e,t){var r=Gs.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function E8(n,e){return Fr(n.getDate(),e,2)}function Qye(n,e){return Fr(n.getHours(),e,2)}function exe(n,e){return Fr(n.getHours()%12||12,e,2)}function txe(n,e){return Fr(1+qb.count(wd(n),n),e,3)}function PK(n,e){return Fr(n.getMilliseconds(),e,3)}function nxe(n,e){return PK(n,e)+"000"}function rxe(n,e){return Fr(n.getMonth()+1,e,2)}function ixe(n,e){return Fr(n.getMinutes(),e,2)}function sxe(n,e){return Fr(n.getSeconds(),e,2)}function oxe(n){var e=n.getDay();return e===0?7:e}function axe(n,e){return Fr(eC.count(wd(n)-1,n),e,2)}function RK(n){var e=n.getDay();return e>=4||e===0?w0(n):w0.ceil(n)}function lxe(n,e){return n=RK(n),Fr(w0.count(wd(n),n)+(wd(n).getDay()===4),e,2)}function cxe(n){return n.getDay()}function uxe(n,e){return Fr(NS.count(wd(n)-1,n),e,2)}function dxe(n,e){return Fr(n.getFullYear()%100,e,2)}function fxe(n,e){return n=RK(n),Fr(n.getFullYear()%100,e,2)}function hxe(n,e){return Fr(n.getFullYear()%1e4,e,4)}function pxe(n,e){var t=n.getDay();return n=t>=4||t===0?w0(n):w0.ceil(n),Fr(n.getFullYear()%1e4,e,4)}function mxe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fr(e/60|0,"0",2)+Fr(e%60,"0",2)}function C8(n,e){return Fr(n.getUTCDate(),e,2)}function gxe(n,e){return Fr(n.getUTCHours(),e,2)}function vxe(n,e){return Fr(n.getUTCHours()%12||12,e,2)}function yxe(n,e){return Fr(1+QE.count(Sd(n),n),e,3)}function NK(n,e){return Fr(n.getUTCMilliseconds(),e,3)}function xxe(n,e){return NK(n,e)+"000"}function bxe(n,e){return Fr(n.getUTCMonth()+1,e,2)}function _xe(n,e){return Fr(n.getUTCMinutes(),e,2)}function wxe(n,e){return Fr(n.getUTCSeconds(),e,2)}function Sxe(n){var e=n.getUTCDay();return e===0?7:e}function Axe(n,e){return Fr(tC.count(Sd(n)-1,n),e,2)}function IK(n){var e=n.getUTCDay();return e>=4||e===0?S0(n):S0.ceil(n)}function Exe(n,e){return n=IK(n),Fr(S0.count(Sd(n),n)+(Sd(n).getUTCDay()===4),e,2)}function Cxe(n){return n.getUTCDay()}function Mxe(n,e){return Fr(IS.count(Sd(n)-1,n),e,2)}function Txe(n,e){return Fr(n.getUTCFullYear()%100,e,2)}function Pxe(n,e){return n=IK(n),Fr(n.getUTCFullYear()%100,e,2)}function Rxe(n,e){return Fr(n.getUTCFullYear()%1e4,e,4)}function Nxe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?S0(n):S0.ceil(n),Fr(n.getUTCFullYear()%1e4,e,4)}function Ixe(){return"+0000"}function M8(){return"%"}function T8(n){return+n}function P8(n){return Math.floor(+n/1e3)}var fg,OK,FK;Oxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oxe(n){return fg=Oye(n),OK=fg.format,fg.parse,FK=fg.utcFormat,fg.utcParse,fg}function Fxe(n){return new Date(n)}function Dxe(n){return n instanceof Date?+n:+new Date(+n)}function KD(n,e,t,r,i,s,o,a,l,u){var d=DD(),c=d.invert,f=d.domain,m=u(".%L"),v=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),A=u("%b %d"),E=u("%B"),C=u("%Y");function M(R){return(l(R)<R?m:a(R)<R?v:o(R)<R?b:s(R)<R?y:r(R)<R?i(R)<R?w:A:t(R)<R?E:C)(R)}return d.invert=function(R){return new Date(c(R))},d.domain=function(R){return arguments.length?f(Array.from(R,Dxe)):f().map(Fxe)},d.ticks=function(R){var O=f();return n(O[0],O[O.length-1],R??10)},d.tickFormat=function(R,O){return O==null?M:u(O)},d.nice=function(R){var O=f();return(!R||typeof R.range!="function")&&(R=e(O[0],O[O.length-1],R??10)),R?f(bK(O,R)):d},d.copy=function(){return $b(d,KD(n,e,t,r,i,s,o,a,l,u))},d}function Bxe(){return Sl.apply(KD(Nye,Iye,wd,qD,eC,qb,WD,GD,Ep,OK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kxe(){return Sl.apply(KD(Pye,Rye,Sd,XD,tC,QE,$D,VD,Ep,FK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nC(){var n=0,e=1,t,r,i,s,o=Go,a=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(s(c)-t)*i,a?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([n,e]=c,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(c){return arguments.length?(a=!!c,u):a},u.interpolator=function(c){return arguments.length?(o=c,u):o};function d(c){return function(f){var m,v;return arguments.length?([m,v]=f,o=c(m,v),u):[o(0),o(1)]}}return u.range=d(vv),u.rangeRound=d(FD),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return s=c,t=c(n),r=c(e),i=t===r?0:1/(r-t),u}}function ah(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function DK(){var n=oh(nC()(Go));return n.copy=function(){return ah(n,DK())},Nd.apply(n,arguments)}function BK(){var n=LD(nC()).domain([1,10]);return n.copy=function(){return ah(n,BK()).base(n.base())},Nd.apply(n,arguments)}function kK(){var n=jD(nC());return n.copy=function(){return ah(n,kK()).constant(n.constant())},Nd.apply(n,arguments)}function YD(){var n=UD(nC());return n.copy=function(){return ah(n,YD()).exponent(n.exponent())},Nd.apply(n,arguments)}function Lxe(){return YD.apply(null,arguments).exponent(.5)}function LK(){var n=[],e=Go;function t(r){if(r!=null&&!isNaN(r=+r))return e((Vb(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(Gf),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Ave(n,s/r))},t.copy=function(){return LK(e).domain(n)},Nd.apply(t,arguments)}function rC(){var n=0,e=.5,t=1,r=1,i,s,o,a,l,u=Go,d,c=!1,f;function m(b){return isNaN(b=+b)?f:(b=.5+((b=+d(b))-s)*(r*b<r*s?a:l),u(c?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([n,e,t]=b,i=d(n=+n),s=d(e=+e),o=d(t=+t),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m):[n,e,t]},m.clamp=function(b){return arguments.length?(c=!!b,m):c},m.interpolator=function(b){return arguments.length?(u=b,m):u};function v(b){return function(y){var w,A,E;return arguments.length?([w,A,E]=y,u=Yve(b,[w,A,E]),m):[u(0),u(.5),u(1)]}}return m.range=v(vv),m.rangeRound=v(FD),m.unknown=function(b){return arguments.length?(f=b,m):f},function(b){return d=b,i=b(n),s=b(e),o=b(t),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m}}function jK(){var n=oh(rC()(Go));return n.copy=function(){return ah(n,jK())},Nd.apply(n,arguments)}function UK(){var n=LD(rC()).domain([.1,1,10]);return n.copy=function(){return ah(n,UK()).base(n.base())},Nd.apply(n,arguments)}function zK(){var n=jD(rC());return n.copy=function(){return ah(n,zK()).constant(n.constant())},Nd.apply(n,arguments)}function JD(){var n=UD(rC());return n.copy=function(){return ah(n,JD()).exponent(n.exponent())},Nd.apply(n,arguments)}function jxe(){return JD.apply(null,arguments).exponent(.5)}const R8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jx,scaleDiverging:jK,scaleDivergingLog:UK,scaleDivergingPow:JD,scaleDivergingSqrt:jxe,scaleDivergingSymlog:zK,scaleIdentity:xK,scaleImplicit:BI,scaleLinear:PS,scaleLog:_K,scaleOrdinal:ND,scalePoint:rx,scalePow:zD,scaleQuantile:AK,scaleQuantize:EK,scaleRadial:SK,scaleSequential:DK,scaleSequentialLog:BK,scaleSequentialPow:YD,scaleSequentialQuantile:LK,scaleSequentialSqrt:Lxe,scaleSequentialSymlog:kK,scaleSqrt:xye,scaleSymlog:wK,scaleThreshold:CK,scaleTime:Bxe,scaleUtc:kxe,tickFormat:yK},Symbol.toStringTag,{value:"Module"}));var wR,N8;function HK(){if(N8)return wR;N8=1;var n=fv();function e(t,r,i){for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!n(l):i(l,u)))var u=l,d=a}return d}return wR=e,wR}var SR,I8;function Uxe(){if(I8)return SR;I8=1;function n(e,t){return e>t}return SR=n,SR}var AR,O8;function zxe(){if(O8)return AR;O8=1;var n=HK(),e=Uxe(),t=gv();function r(i){return i&&i.length?n(i,t,e):void 0}return AR=r,AR}var Hxe=zxe();const Ff=zr(Hxe);var ER,F8;function Gxe(){if(F8)return ER;F8=1;function n(e,t){return e<t}return ER=n,ER}var CR,D8;function Vxe(){if(D8)return CR;D8=1;var n=HK(),e=Gxe(),t=gv();function r(i){return i&&i.length?n(i,t,e):void 0}return CR=r,CR}var Wxe=Vxe();const iC=zr(Wxe);var MR,B8;function $xe(){if(B8)return MR;B8=1;var n=fD(),e=sh(),t=JX(),r=ga();function i(s,o){var a=r(s)?n:t;return a(s,e(o,3))}return MR=i,MR}var TR,k8;function qxe(){if(k8)return TR;k8=1;var n=KX(),e=$xe();function t(r,i){return n(e(r,i),1)}return TR=t,TR}var Xxe=qxe();const Kxe=zr(Xxe);var PR,L8;function Yxe(){if(L8)return PR;L8=1;var n=ED();function e(t,r){return n(t,r)}return PR=e,PR}var Jxe=Yxe();const A0=zr(Jxe);var yv=1e9,Zxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QD,gi=!0,_l="[DecimalError] ",Hp=_l+"Invalid argument: ",ZD=_l+"Exponent out of range: ",xv=Math.floor,mp=Math.pow,Qxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,Ls=1e7,ci=7,GK=9007199254740991,OS=xv(GK/ci),hn={};hn.absoluteValue=hn.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};hn.comparedTo=hn.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};hn.decimalPlaces=hn.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*ci;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};hn.dividedBy=hn.div=function(n){return pd(this,new this.constructor(n))};hn.dividedToIntegerBy=hn.idiv=function(n){var e=this,t=e.constructor;return Zr(pd(e,new t(n),0,1),t.precision)};hn.equals=hn.eq=function(n){return!this.cmp(n)};hn.exponent=function(){return us(this)};hn.greaterThan=hn.gt=function(n){return this.cmp(n)>0};hn.greaterThanOrEqualTo=hn.gte=function(n){return this.cmp(n)>=0};hn.isInteger=hn.isint=function(){return this.e>this.d.length-2};hn.isNegative=hn.isneg=function(){return this.s<0};hn.isPositive=hn.ispos=function(){return this.s>0};hn.isZero=function(){return this.s===0};hn.lessThan=hn.lt=function(n){return this.cmp(n)<0};hn.lessThanOrEqualTo=hn.lte=function(n){return this.cmp(n)<1};hn.logarithm=hn.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(Da))throw Error(_l+"NaN");if(t.s<1)throw Error(_l+(t.s?"NaN":"-Infinity"));return t.eq(Da)?new r(0):(gi=!1,e=pd(Vx(t,s),Vx(n,s),s),gi=!0,Zr(e,i))};hn.minus=hn.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?$K(e,n):VK(e,(n.s=-n.s,n))};hn.modulo=hn.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(_l+"NaN");return t.s?(gi=!1,e=pd(t,n,0,1).times(n),gi=!0,t.minus(e)):Zr(new r(t),i)};hn.naturalExponential=hn.exp=function(){return WK(this)};hn.naturalLogarithm=hn.ln=function(){return Vx(this)};hn.negated=hn.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};hn.plus=hn.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?VK(e,n):$K(e,(n.s=-n.s,n))};hn.precision=hn.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Hp+n);if(e=us(i)+1,r=i.d.length-1,t=r*ci+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};hn.squareRoot=hn.sqrt=function(){var n,e,t,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(_l+"NaN")}for(n=us(a),gi=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Kc(a.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=xv((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=o=t+3;;)if(s=r,r=s.plus(pd(a,s,o+2)).times(.5),Kc(s.d).slice(0,o)===(e=Kc(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Zr(s,t+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return gi=!0,Zr(r,t)};hn.times=hn.mul=function(n){var e,t,r,i,s,o,a,l,u,d=this,c=d.constructor,f=d.d,m=(n=new c(n)).d;if(!d.s||!n.s)return new c(0);for(n.s*=d.s,t=d.e+n.e,l=f.length,u=m.length,l<u&&(s=f,f=m,m=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+m[r]*f[i-r-1]+e,s[i--]=a%Ls|0,e=a/Ls|0;s[i]=(s[i]+e)%Ls|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,gi?Zr(n,c.precision):n};hn.toDecimalPlaces=hn.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(au(n,0,yv),e===void 0?e=r.rounding:au(e,0,8),Zr(t,n+us(t)+1,e))};hn.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=rm(r,!0):(au(n,0,yv),e===void 0?e=i.rounding:au(e,0,8),r=Zr(new i(r),n+1,e),t=rm(r,!0,n+1)),t};hn.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?rm(i):(au(n,0,yv),e===void 0?e=s.rounding:au(e,0,8),r=Zr(new s(i),n+us(i)+1,e),t=rm(r.abs(),!1,n+us(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};hn.toInteger=hn.toint=function(){var n=this,e=n.constructor;return Zr(new e(n),us(n)+1,e.rounding)};hn.toNumber=function(){return+this};hn.toPower=hn.pow=function(n){var e,t,r,i,s,o,a=this,l=a.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(Da);if(a=new l(a),!a.s){if(n.s<1)throw Error(_l+"Infinity");return a}if(a.eq(Da))return a;if(r=l.precision,n.eq(Da))return Zr(a,r);if(e=n.e,t=n.d.length-1,o=e>=t,s=a.s,o){if((t=d<0?-d:d)<=GK){for(i=new l(Da),e=Math.ceil(r/ci+4),gi=!1;t%2&&(i=i.times(a),U8(i.d,e)),t=xv(t/2),t!==0;)a=a.times(a),U8(a.d,e);return gi=!0,n.s<0?new l(Da).div(i):Zr(i,r)}}else if(s<0)throw Error(_l+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,a.s=1,gi=!1,i=n.times(Vx(a,r+u)),gi=!0,i=WK(i),i.s=s,i};hn.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=us(i),r=rm(i,t<=s.toExpNeg||t>=s.toExpPos)):(au(n,1,yv),e===void 0?e=s.rounding:au(e,0,8),i=Zr(new s(i),n,e),t=us(i),r=rm(i,n<=t||t<=s.toExpNeg,n)),r};hn.toSignificantDigits=hn.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(au(n,1,yv),e===void 0?e=r.rounding:au(e,0,8)),Zr(new r(t),n,e)};hn.toString=hn.valueOf=hn.val=hn.toJSON=hn[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=us(n),t=n.constructor;return rm(n,e<=t.toExpNeg||e>=t.toExpPos)};function VK(n,e){var t,r,i,s,o,a,l,u,d=n.constructor,c=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),gi?Zr(e,c):e;if(l=n.d,u=e.d,o=n.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(c/ci),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/Ls|0,l[s]%=Ls;for(t&&(l.unshift(t),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,gi?Zr(e,c):e}function au(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Hp+n)}function Kc(n){var e,t,r,i=n.length-1,s="",o=n[0];if(i>0){for(s+=o,e=1;e<i;e++)r=n[e]+"",t=ci-r.length,t&&(s+=Tf(t)),s+=r;o=n[e],r=o+"",t=ci-r.length,t&&(s+=Tf(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var pd=(function(){function n(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Ls|0,o=s/Ls|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function t(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Ls+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,d,c,f,m,v,b,y,w,A,E,C,M,R,O,k,D=r.constructor,I=r.s==i.s?1:-1,L=r.d,W=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(_l+"Division by zero");for(l=r.e-i.e,O=W.length,M=L.length,m=new D(I),v=m.d=[],u=0;W[u]==(L[u]||0);)++u;if(W[u]>(L[u]||0)&&--l,s==null?A=s=D.precision:o?A=s+(us(r)-us(i))+1:A=s,A<0)return new D(0);if(A=A/ci+2|0,u=0,O==1)for(d=0,W=W[0],A++;(u<M||d)&&A--;u++)E=d*Ls+(L[u]||0),v[u]=E/W|0,d=E%W|0;else{for(d=Ls/(W[0]+1)|0,d>1&&(W=n(W,d),L=n(L,d),O=W.length,M=L.length),C=O,b=L.slice(0,O),y=b.length;y<O;)b[y++]=0;k=W.slice(),k.unshift(0),R=W[0],W[1]>=Ls/2&&++R;do d=0,a=e(W,b,O,y),a<0?(w=b[0],O!=y&&(w=w*Ls+(b[1]||0)),d=w/R|0,d>1?(d>=Ls&&(d=Ls-1),c=n(W,d),f=c.length,y=b.length,a=e(c,b,f,y),a==1&&(d--,t(c,O<f?k:W,f))):(d==0&&(a=d=1),c=W.slice()),f=c.length,f<y&&c.unshift(0),t(b,c,y),a==-1&&(y=b.length,a=e(W,b,O,y),a<1&&(d++,t(b,O<y?k:W,y))),y=b.length):a===0&&(d++,b=[0]),v[u++]=d,a&&b[0]?b[y++]=L[C]||0:(b=[L[C]],y=1);while((C++<M||b[0]!==void 0)&&A--)}return v[0]||v.shift(),m.e=l,Zr(m,o?s+us(m)+1:s)}})();function WK(n,e){var t,r,i,s,o,a,l=0,u=0,d=n.constructor,c=d.precision;if(us(n)>16)throw Error(ZD+us(n));if(!n.s)return new d(Da);for(gi=!1,a=c,o=new d(.03125);n.abs().gte(.1);)n=n.times(o),u+=5;for(r=Math.log(mp(2,u))/Math.LN10*2+5|0,a+=r,t=i=s=new d(Da),d.precision=a;;){if(i=Zr(i.times(n),a),t=t.times(++l),o=s.plus(pd(i,t,a)),Kc(o.d).slice(0,a)===Kc(s.d).slice(0,a)){for(;u--;)s=Zr(s.times(s),a);return d.precision=c,e==null?(gi=!0,Zr(s,c)):s}s=o}}function us(n){for(var e=n.e*ci,t=n.d[0];t>=10;t/=10)e++;return e}function RR(n,e,t){if(e>n.LN10.sd())throw gi=!0,t&&(n.precision=t),Error(_l+"LN10 precision limit exceeded");return Zr(new n(n.LN10),e)}function Tf(n){for(var e="";n--;)e+="0";return e}function Vx(n,e){var t,r,i,s,o,a,l,u,d,c=1,f=10,m=n,v=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(_l+(m.s?"NaN":"-Infinity"));if(m.eq(Da))return new b(0);if(e==null?(gi=!1,u=y):u=e,m.eq(10))return e==null&&(gi=!0),RR(b,u);if(u+=f,b.precision=u,t=Kc(v),r=t.charAt(0),s=us(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)m=m.times(n),t=Kc(m.d),r=t.charAt(0),c++;s=us(m),r>1?(m=new b("0."+t),s++):m=new b(r+"."+t.slice(1))}else return l=RR(b,u+2,y).times(s+""),m=Vx(new b(r+"."+t.slice(1)),u-f).plus(l),b.precision=y,e==null?(gi=!0,Zr(m,y)):m;for(a=o=m=pd(m.minus(Da),m.plus(Da),u),d=Zr(m.times(m),u),i=3;;){if(o=Zr(o.times(d),u),l=a.plus(pd(o,new b(i),u)),Kc(l.d).slice(0,u)===Kc(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(RR(b,u+2,y).times(s+""))),a=pd(a,new b(c),u),b.precision=y,e==null?(gi=!0,Zr(a,y)):a;a=l,i+=2}}function j8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=xv(t/ci),n.d=[],r=(t+1)%ci,t<0&&(r+=ci),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=ci;r<i;)n.d.push(+e.slice(r,r+=ci));e=e.slice(r),r=ci-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),gi&&(n.e>OS||n.e<-OS))throw Error(ZD+t)}else n.s=0,n.e=0,n.d=[0];return n}function Zr(n,e,t){var r,i,s,o,a,l,u,d,c=n.d;for(o=1,s=c[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=ci,i=e,u=c[d=0];else{if(d=Math.ceil((r+1)/ci),s=c.length,d>=s)return n;for(u=s=c[d],o=1;s>=10;s/=10)o++;r%=ci,i=r-ci+o}if(t!==void 0&&(s=mp(10,o-i-1),a=u/s%10|0,l=e<0||c[d+1]!==void 0||u%s,l=t<4?(a||l)&&(t==0||t==(n.s<0?3:2)):a>5||a==5&&(t==4||l||t==6&&(r>0?i>0?u/mp(10,o-i):0:c[d-1])%10&1||t==(n.s<0?8:7))),e<1||!c[0])return l?(s=us(n),c.length=1,e=e-s-1,c[0]=mp(10,(ci-e%ci)%ci),n.e=xv(-e/ci)||0):(c.length=1,c[0]=n.e=n.s=0),n;if(r==0?(c.length=d,s=1,d--):(c.length=d+1,s=mp(10,ci-r),c[d]=i>0?(u/mp(10,o-i)%mp(10,i)|0)*s:0),l)for(;;)if(d==0){(c[0]+=s)==Ls&&(c[0]=1,++n.e);break}else{if(c[d]+=s,c[d]!=Ls)break;c[d--]=0,s=1}for(r=c.length;c[--r]===0;)c.pop();if(gi&&(n.e>OS||n.e<-OS))throw Error(ZD+us(n));return n}function $K(n,e){var t,r,i,s,o,a,l,u,d,c,f=n.constructor,m=f.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new f(n),gi?Zr(e,m):e;if(l=n.d,c=e.d,r=e.e,u=n.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(t=l,o=-o,a=c.length):(t=c,r=u,a=l.length),i=Math.max(Math.ceil(m/ci),a)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=l.length,a=c.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=c[i]){d=l[i]<c[i];break}o=0}for(d&&(t=l,l=c,c=t,e.s=-e.s),a=l.length,i=c.length-a;i>0;--i)l[a++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(s=i;s&&l[--s]===0;)l[s]=Ls-1;--l[s],l[i]+=Ls}l[i]-=c[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,gi?Zr(e,m):e):new f(0)}function rm(n,e,t){var r,i=us(n),s=Kc(n.d),o=s.length;return e?(t&&(r=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+Tf(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Tf(-i-1)+s,t&&(r=t-o)>0&&(s+=Tf(r))):i>=o?(s+=Tf(i+1-o),t&&(r=t-i-1)>0&&(s=s+"."+Tf(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(s+="."),s+=Tf(r))),n.s<0?"-"+s:s}function U8(n,e){if(n.length>e)return n.length=e,!0}function qK(n){var e,t,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return j8(o,s.toString())}else if(typeof s!="string")throw Error(Hp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Qxe.test(s))j8(o,s);else throw Error(Hp+s)}if(i.prototype=hn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qK,i.config=i.set=ebe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function ebe(n){if(!n||typeof n!="object")throw Error(_l+"Object expected");var e,t,r,i=["precision",1,yv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(xv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(Hp+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(Hp+t+": "+r);return this}var QD=qK(Zxe);Da=new QD(1);const qr=QD;function tbe(n){return sbe(n)||ibe(n)||rbe(n)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(n,e){if(n){if(typeof n=="string")return UI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return UI(n,e)}}function ibe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function sbe(n){if(Array.isArray(n))return UI(n)}function UI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var obe=function(e){return e},XK={},KK=function(e){return e===XK},z8=function(e){return function t(){return arguments.length===0||arguments.length===1&&KK(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},abe=function n(e,t){return e===1?t:z8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==XK}).length;return o>=e?t.apply(void 0,i):n(e-o,z8(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(c){return KK(c)?l.shift():c});return t.apply(void 0,tbe(d).concat(l))}))})},sC=function(e){return abe(e.length,e)},zI=function(e,t){for(var r=[],i=e;i<t;++i)r[i-e]=i;return r},lbe=sC(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),cbe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return obe;var i=t.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},HI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YK=function(e){var t=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t&&s.every(function(a,l){return a===t[l]})||(t=s,r=e.apply(void 0,s)),r}};function ube(n){var e;return n===0?e=1:e=Math.floor(new qr(n).abs().log(10).toNumber())+1,e}function dbe(n,e,t){for(var r=new qr(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var fbe=sC(function(n,e,t){var r=+n,i=+e;return r+t*(i-r)}),hbe=sC(function(n,e,t){var r=e-+n;return r=r||1/0,(t-n)/r}),pbe=sC(function(n,e,t){var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(t-n)/r))});const oC={rangeStep:dbe,getDigitCount:ube,interpolateNumber:fbe,uninterpolateNumber:hbe,uninterpolateTruncation:pbe};function GI(n){return vbe(n)||gbe(n)||JK(n)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function vbe(n){if(Array.isArray(n))return VI(n)}function Wx(n,e){return bbe(n)||xbe(n,e)||JK(n,e)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(n,e){if(n){if(typeof n=="string")return VI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return VI(n,e)}}function VI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xbe(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}}function bbe(n){if(Array.isArray(n))return n}function ZK(n){var e=Wx(n,2),t=e[0],r=e[1],i=t,s=r;return t>r&&(i=r,s=t),[i,s]}function QK(n,e,t){if(n.lte(0))return new qr(0);var r=oC.getDigitCount(n.toNumber()),i=new qr(10).pow(r),s=n.div(i),o=r!==1?.05:.1,a=new qr(Math.ceil(s.div(o).toNumber())).add(t).mul(o),l=a.mul(i);return e?l:new qr(Math.ceil(l))}function _be(n,e,t){var r=1,i=new qr(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new qr(10).pow(oC.getDigitCount(n)-1),i=new qr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new qr(Math.floor(n)))}else n===0?i=new qr(Math.floor((e-1)/2)):t||(i=new qr(Math.floor(n)));var o=Math.floor((e-1)/2),a=cbe(lbe(function(l){return i.add(new qr(l-o).mul(r)).toNumber()}),zI);return a(0,e)}function eY(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new qr(0),tickMin:new qr(0),tickMax:new qr(0)};var s=QK(new qr(e).sub(n).div(t-1),r,i),o;n<=0&&e>=0?o=new qr(0):(o=new qr(n).add(e).div(2),o=o.sub(new qr(o).mod(s)));var a=Math.ceil(o.sub(n).div(s).toNumber()),l=Math.ceil(new qr(e).sub(o).div(s).toNumber()),u=a+l+1;return u>t?eY(n,e,t,r,i+1):(u<t&&(l=e>0?l+(t-u):l,a=e>0?a:a+(t-u)),{step:s,tickMin:o.sub(new qr(a).mul(s)),tickMax:o.add(new qr(l).mul(s))})}function wbe(n){var e=Wx(n,2),t=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=ZK([t,r]),l=Wx(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var c=d===1/0?[u].concat(GI(zI(0,i-1).map(function(){return 1/0}))):[].concat(GI(zI(0,i-1).map(function(){return-1/0})),[d]);return t>r?HI(c):c}if(u===d)return _be(u,i,s);var f=eY(u,d,o,s),m=f.step,v=f.tickMin,b=f.tickMax,y=oC.rangeStep(v,b.add(new qr(.1).mul(m)),m);return t>r?HI(y):y}function Sbe(n,e){var t=Wx(n,2),r=t[0],i=t[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ZK([r,i]),a=Wx(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),c=QK(new qr(u).sub(l).div(d-1),s,0),f=[].concat(GI(oC.rangeStep(new qr(l),new qr(u).sub(new qr(.99).mul(c)),c)),[u]);return r>i?HI(f):f}var Abe=YK(wbe),Ebe=YK(Sbe),Cbe="Invariant failed";function im(n,e){throw new Error(Cbe)}var Mbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function E0(n){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(n)}function FS(){return FS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FS.apply(this,arguments)}function Tbe(n,e){return Ibe(n)||Nbe(n,e)||Rbe(n,e)||Pbe()}function Pbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(n,e){if(n){if(typeof n=="string")return H8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H8(n,e)}}function H8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Nbe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Ibe(n){if(Array.isArray(n))return n}function Obe(n,e){if(n==null)return{};var t=Fbe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Fbe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Dbe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bbe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rY(r.key),r)}}function kbe(n,e,t){return e&&Bbe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Lbe(n,e,t){return e=DS(e),jbe(n,tY()?Reflect.construct(e,t||[],DS(n).constructor):e.apply(n,t))}function jbe(n,e){if(e&&(E0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ube(n)}function Ube(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tY=function(){return!!n})()}function DS(n){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DS(n)}function zbe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&WI(n,e)}function WI(n,e){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WI(n,e)}function nY(n,e,t){return e=rY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rY(n){var e=Hbe(n,"string");return E0(e)=="symbol"?e:e+""}function Hbe(n,e){if(E0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(E0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Xb=(function(n){function e(){return Dbe(this,e),Lbe(this,e,arguments)}return zbe(e,n),kbe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,c=r.yAxis,f=Obe(r,Mbe),m=ur(f,!1);this.props.direction==="x"&&d.type!=="number"&&im();var v=l.map(function(b){var y=u(b,a),w=y.x,A=y.y,E=y.value,C=y.errorVal;if(!C)return null;var M=[],R,O;if(Array.isArray(C)){var k=Tbe(C,2);R=k[0],O=k[1]}else R=O=C;if(s==="vertical"){var D=d.scale,I=A+i,L=I+o,W=I-o,q=D(E-R),K=D(E+O);M.push({x1:K,y1:L,x2:K,y2:W}),M.push({x1:q,y1:I,x2:K,y2:I}),M.push({x1:q,y1:L,x2:q,y2:W})}else if(s==="horizontal"){var ne=c.scale,V=w+i,ee=V-o,H=V+o,Z=ne(E-R),te=ne(E+O);M.push({x1:ee,y1:te,x2:H,y2:te}),M.push({x1:V,y1:Z,x2:V,y2:te}),M.push({x1:ee,y1:Z,x2:H,y2:Z})}return ue.createElement(ii,FS({className:"recharts-errorBar",key:"bar-".concat(M.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),M.map(function(Y){return ue.createElement("line",FS({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return ue.createElement(ii,{className:"recharts-errorBars"},v)}}])})(ue.Component);nY(Xb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nY(Xb,"displayName","ErrorBar");function $x(n){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(n)}function G8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(t),!0).forEach(function(r){Gbe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gbe(n,e,t){return e=Vbe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vbe(n){var e=Wbe(n,"string");return $x(e)=="symbol"?e:e+""}function Wbe(n,e){if($x(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if($x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var iY=function(e){var t=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ia(t,uc);if(!o)return null;var a=uc.defaultProps,l=a!==void 0?Jh(Jh({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,c){var f=c.item,m=c.props,v=m.sectors||m.data||[];return d.concat(v.map(function(b){return{type:o.props.iconType||f.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var c=d.item,f=c.type.defaultProps,m=f!==void 0?Jh(Jh({},f),c.props):{},v=m.dataKey,b=m.name,y=m.legendType,w=m.hide;return{inactive:w,dataKey:v,type:l.iconType||y||"square",color:eB(c),value:b||v,payload:m}}),Jh(Jh(Jh({},l),uc.getWithHeight(o,i)),{},{payload:u,item:o})};function qx(n){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(n)}function V8(n){return Kbe(n)||Xbe(n)||qbe(n)||$be()}function $be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qbe(n,e){if(n){if(typeof n=="string")return $I(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $I(n,e)}}function Xbe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kbe(n){if(Array.isArray(n))return $I(n)}function $I(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function W8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Di(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(t),!0).forEach(function(r){s0(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function s0(n,e,t){return e=Ybe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ybe(n){var e=Jbe(n,"string");return qx(e)=="symbol"?e:e+""}function Jbe(n,e){if(qx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $o(n,e,t){return pr(n)||pr(e)?t:_s(e)?vl(n,e,t):rr(e)?e(n):t}function ix(n,e,t,r){var i=Kxe(n,function(a){return $o(a,e)});if(t==="number"){var s=i.filter(function(a){return Gt(a)||parseFloat(a)});return s.length?[iC(s),Ff(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!pr(a)}):i;return o.map(function(a){return _s(a)||a instanceof Date?a:""})}var Zbe=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(t=r?.length)!==null&&t!==void 0?t:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,c=i[u].coordinate,f=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ac(c-d)!==ac(f-c)){var v=[];if(ac(f-c)===ac(l[1]-l[0])){m=f;var b=c+l[1]-l[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{m=d;var y=f+l[1]-l[0];v[0]=Math.min(c,(y+c)/2),v[1]=Math.max(c,(y+c)/2)}var w=[Math.min(c,(m+c)/2),Math.max(c,(m+c)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var A=Math.min(d,f),E=Math.max(d,f);if(e>(A+c)/2&&e<=(E+c)/2){o=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},eB=function(e){var t,r=e,i=r.type.displayName,s=(t=e.type)!==null&&t!==void 0&&t.defaultProps?Di(Di({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},Qbe=function(e){var t=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var d=s[a[l]].stackGroups,c=Object.keys(d),f=0,m=c.length;f<m;f++){var v=d[c[f]],b=v.items,y=v.cateAxisId,w=b.filter(function(O){return fd(O.type).indexOf("Bar")>=0});if(w&&w.length){var A=w[0].type.defaultProps,E=A!==void 0?Di(Di({},A),w[0].props):w[0].props,C=E.barSize,M=E[y];o[M]||(o[M]=[]);var R=pr(C)?t:C;o[M].push({item:w[0],stackList:w.slice(1),barSize:pr(R)?void 0:nm(R,r,0)})}}return o},e_e=function(e){var t=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=nm(t,i,0,!0),d,c=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=i/l,v=o.reduce(function(C,M){return C+M.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&m>0&&(f=!0,m*=.9,v=l*m);var b=(i-v)/2>>0,y={offset:b-u,size:0};d=o.reduce(function(C,M){var R={item:M.item,position:{offset:y.offset+y.size+u,size:f?m:M.barSize}},O=[].concat(V8(C),[R]);return y=O[O.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function(k){O.push({item:k,position:y})}),O},c)}else{var w=nm(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var A=(i-2*w-(l-1)*u)/l;A>1&&(A>>=0);var E=a===+a?Math.min(A,a):A;d=o.reduce(function(C,M,R){var O=[].concat(V8(C),[{item:M.item,position:{offset:w+(A+u)*R+(A-E)/2,size:E}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function(k){O.push({item:k,position:O[O.length-1].position})}),O},c)}return d},t_e=function(e,t,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=iY({children:s,legendWidth:l});if(u){var d=i||{},c=d.width,f=d.height,m=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&m!=="center"&&Gt(e[m]))return Di(Di({},e),{},s0({},m,e[m]+(c||0)));if((b==="horizontal"||b==="vertical"&&m==="center")&&v!=="middle"&&Gt(e[v]))return Di(Di({},e),{},s0({},v,e[v]+(f||0)))}return e},n_e=function(e,t,r){return pr(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},sY=function(e,t,r,i,s){var o=t.props.children,a=yl(o,Xb).filter(function(u){return n_e(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var c=$o(d,r);if(pr(c))return u;var f=Array.isArray(c)?[iC(c),Ff(c)]:[c,c],m=l.reduce(function(v,b){var y=$o(d,b,0),w=f[0]-Math.abs(Array.isArray(y)?y[0]:y),A=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},r_e=function(e,t,r,i,s){var o=t.map(function(a){return sY(e,a,r,s,i)}).filter(function(a){return!pr(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},oY=function(e,t,r,i,s){var o=t.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&sY(e,l,u,i)||ix(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var d=0,c=u.length;d<c;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},aY=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},lY=function(e,t,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===t&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(t),o||a.push(r),a},ud=function(e,t,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(t||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&a?.length>=2?ac(a[0]-a[1])*2*u:u,t&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(c){var f=s?s.indexOf(c):c;return{coordinate:i(f)+u,value:c,offset:u}});return d.filter(function(c){return!pv(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,f){return{coordinate:i(c)+u,value:c,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,f){return{coordinate:i(c)+u,value:s?s[c]:c,index:f,offset:u}})},NR=new WeakMap,_1=function(e,t){if(typeof t!="function")return e;NR.has(e)||NR.set(e,new WeakMap);var r=NR.get(e);if(r.has(t))return r.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,i),i},i_e=function(e,t,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:jx(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:PS(),realScaleType:"linear"}:s==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:rx(),realScaleType:"point"}:s==="category"?{scale:jx(),realScaleType:"band"}:{scale:PS(),realScaleType:"linear"};if(tm(i)){var l="scale".concat(WE(i));return{scale:(R8[l]||rx)(),realScaleType:R8[l]?l:"point"}}return rr(i)?{scale:i}:{scale:rx(),realScaleType:"point"}},$8=1e-4,s_e=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,i=e.range(),s=Math.min(i[0],i[1])-$8,o=Math.max(i[0],i[1])+$8,a=e(t[0]),l=e(t[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([t[0],t[r-1]])}},o_e=function(e,t){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===t)return e[r].position;return null},a_e=function(e,t){if(!t||t.length!==2||!Gt(t[0])||!Gt(t[1]))return e;var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Gt(e[0])||e[0]<r)&&(s[0]=r),(!Gt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},l_e=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<t;++a){var l=pv(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},c_e=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<t;++o){var a=pv(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},u_e={sign:l_e,expand:qpe,none:g0,silhouette:Xpe,wiggle:Kpe,positive:c_e},d_e=function(e,t,r){var i=t.map(function(a){return a.props.dataKey}),s=u_e[r],o=$pe().keys(i).value(function(a,l){return+$o(a,l,0)}).order(wI).offset(s);return o(e)},f_e=function(e,t,r,i,s,o){if(!e)return null;var a=o?t.reverse():t,l={},u=a.reduce(function(c,f){var m,v=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Di(Di({},f.type.defaultProps),f.props):f.props,b=v.stackId,y=v.hide;if(y)return c;var w=v[r],A=c[w]||{hasStack:!1,stackGroups:{}};if(_s(b)){var E=A.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(f),A.hasStack=!0,A.stackGroups[b]=E}else A.stackGroups[mv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Di(Di({},c),{},s0({},w,A))},l),d={};return Object.keys(u).reduce(function(c,f){var m=u[f];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(b,y){var w=m.stackGroups[y];return Di(Di({},b),{},s0({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:d_e(e,w.items,s)}))},v)}return Di(Di({},c),{},s0({},f,m))},d)},h_e=function(e,t){var r=t.realScaleType,i=t.type,s=t.tickCount,o=t.originalDomain,a=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Abe(u,s,a);return e.domain([iC(d),Ff(d)]),{niceTicks:d}}if(s&&i==="number"){var c=e.domain(),f=Ebe(c,s,a);return{niceTicks:f}}return null};function BS(n){var e=n.axis,t=n.ticks,r=n.bandSize,i=n.entry,s=n.index,o=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!pr(i[e.dataKey])){var a=cS(t,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return t[s]?t[s].coordinate+r/2:null}var l=$o(i,pr(o)?e.dataKey:o);return pr(l)?null:e.scale(l)}var q8=function(e){var t=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(t.type==="category")return r[a]?r[a].coordinate+i:null;var l=$o(o,t.dataKey,t.domain[a]);return pr(l)?null:t.scale(l)-s/2+i},p_e=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},m_e=function(e,t){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Di(Di({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(_s(s)){var o=t[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},g_e=function(e){return e.reduce(function(t,r){return[iC(r.concat([t[0]]).filter(Gt)),Ff(r.concat([t[1]]).filter(Gt))]},[1/0,-1/0])},cY=function(e,t,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,d){var c=g_e(d.slice(t,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},X8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qI=function(e,t,r){if(rr(e))return e(t,r);if(!Array.isArray(e))return t;var i=[];if(Gt(e[0]))i[0]=r?e[0]:Math.min(e[0],t[0]);else if(X8.test(e[0])){var s=+X8.exec(e[0])[1];i[0]=t[0]-s}else rr(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(Gt(e[1]))i[1]=r?e[1]:Math.max(e[1],t[1]);else if(K8.test(e[1])){var o=+K8.exec(e[1])[1];i[1]=t[1]+o}else rr(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},kS=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&t&&t.length>=2){for(var s=MD(t,function(c){return c.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],d=s[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Y8=function(e,t,r){return!e||!e.length||A0(e,vl(r,"type.defaultProps.domain"))?t:e},uY=function(e,t){var r=e.type.defaultProps?Di(Di({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return Di(Di({},ur(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:eB(e),value:$o(t,i),type:l,payload:t,chartType:u,hide:d})};function Xx(n){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(n)}function J8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Z8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(t),!0).forEach(function(r){v_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function v_e(n,e,t){return e=y_e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y_e(n){var e=x_e(n,"string");return Xx(e)=="symbol"?e:e+""}function x_e(n,e){if(Xx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var LS=Math.PI/180,b_e=function(e){return e*180/Math.PI},eo=function(e,t,r,i){return{x:e+Math.cos(-LS*i)*r,y:t+Math.sin(-LS*i)*r}},__e=function(e,t){var r=e.x,i=e.y,s=t.x,o=t.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},w_e=function(e,t){var r=e.x,i=e.y,s=t.cx,o=t.cy,a=__e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:b_e(u),angleInRadian:u}},S_e=function(e){var t=e.startAngle,r=e.endAngle,i=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:t-o*360,endAngle:r-o*360}},A_e=function(e,t){var r=t.startAngle,i=t.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},Q8=function(e,t){var r=e.x,i=e.y,s=w_e({x:r,y:i},t),o=s.radius,a=s.angle,l=t.innerRadius,u=t.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=S_e(t),c=d.startAngle,f=d.endAngle,m=a,v;if(c<=f){for(;m>f;)m-=360;for(;m<c;)m+=360;v=m>=c&&m<=f}else{for(;m>c;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=c}return v?Z8(Z8({},t),{},{radius:o,angle:A_e(m,t)}):null};function Kx(n){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(n)}var E_e=["offset"];function C_e(n){return R_e(n)||P_e(n)||T_e(n)||M_e()}function M_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(n,e){if(n){if(typeof n=="string")return XI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XI(n,e)}}function P_e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function R_e(n){if(Array.isArray(n))return XI(n)}function XI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function N_e(n,e){if(n==null)return{};var t=I_e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function I_e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ez(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(t),!0).forEach(function(r){O_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ez(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function O_e(n,e,t){return e=F_e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F_e(n){var e=D_e(n,"string");return Kx(e)=="symbol"?e:e+""}function D_e(n,e){if(Kx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yx.apply(this,arguments)}var B_e=function(e){var t=e.value,r=e.formatter,i=pr(e.children)?t:e.children;return rr(r)?r(i):i},k_e=function(e,t){var r=ac(t-e),i=Math.min(Math.abs(t-e),360);return r*i},L_e=function(e,t,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,d=l.cy,c=l.innerRadius,f=l.outerRadius,m=l.startAngle,v=l.endAngle,b=l.clockWise,y=(c+f)/2,w=k_e(m,v),A=w>=0?1:-1,E,C;i==="insideStart"?(E=m+A*o,C=b):i==="insideEnd"?(E=v-A*o,C=!b):i==="end"&&(E=v+A*o,C=b),C=w<=0?C:!C;var M=eo(u,d,y,E),R=eo(u,d,y,E+(C?1:-1)*359),O="M".concat(M.x,",").concat(M.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(R.x,",").concat(R.y),k=pr(e.id)?mv("recharts-radial-line-"):e.id;return ue.createElement("text",Yx({},r,{dominantBaseline:"central",className:yr("recharts-radial-bar-label",a)}),ue.createElement("defs",null,ue.createElement("path",{id:k,d:O})),ue.createElement("textPath",{xlinkHref:"#".concat(k)},t))},j_e=function(e){var t=e.viewBox,r=e.offset,i=e.position,s=t,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,c=s.endAngle,f=(d+c)/2;if(i==="outside"){var m=eo(o,a,u+r,f),v=m.x,b=m.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=eo(o,a,y,f),A=w.x,E=w.y;return{x:A,y:E,textAnchor:"middle",verticalAnchor:"middle"}},U_e=function(e){var t=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=t,a=o.x,l=o.y,u=o.width,d=o.height,c=d>=0?1:-1,f=c*i,m=c>0?"end":"start",v=c>0?"start":"end",b=u>=0?1:-1,y=b*i,w=b>0?"end":"start",A=b>0?"start":"end";if(s==="top"){var E={x:a+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:m};return xs(xs({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var C={x:a+u/2,y:l+d+f,textAnchor:"middle",verticalAnchor:v};return xs(xs({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(s==="left"){var M={x:a-y,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return xs(xs({},M),r?{width:Math.max(M.x-r.x,0),height:d}:{})}if(s==="right"){var R={x:a+u+y,y:l+d/2,textAnchor:A,verticalAnchor:"middle"};return xs(xs({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:d}:{})}var O=r?{width:u,height:d}:{};return s==="insideLeft"?xs({x:a+y,y:l+d/2,textAnchor:A,verticalAnchor:"middle"},O):s==="insideRight"?xs({x:a+u-y,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},O):s==="insideTop"?xs({x:a+u/2,y:l+f,textAnchor:"middle",verticalAnchor:v},O):s==="insideBottom"?xs({x:a+u/2,y:l+d-f,textAnchor:"middle",verticalAnchor:m},O):s==="insideTopLeft"?xs({x:a+y,y:l+f,textAnchor:A,verticalAnchor:v},O):s==="insideTopRight"?xs({x:a+u-y,y:l+f,textAnchor:w,verticalAnchor:v},O):s==="insideBottomLeft"?xs({x:a+y,y:l+d-f,textAnchor:A,verticalAnchor:m},O):s==="insideBottomRight"?xs({x:a+u-y,y:l+d-f,textAnchor:w,verticalAnchor:m},O):hv(s)&&(Gt(s.x)||Sp(s.x))&&(Gt(s.y)||Sp(s.y))?xs({x:a+nm(s.x,u),y:l+nm(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):xs({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},z_e=function(e){return"cx"in e&&Gt(e.cx)};function bo(n){var e=n.offset,t=e===void 0?5:e,r=N_e(n,E_e),i=xs({offset:t},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,u=i.content,d=i.className,c=d===void 0?"":d,f=i.textBreakAll;if(!s||pr(a)&&pr(l)&&!B.isValidElement(u)&&!rr(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var m;if(rr(u)){if(m=B.createElement(u,i),B.isValidElement(m))return m}else m=B_e(i);var v=z_e(s),b=ur(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return L_e(i,m,b);var y=v?j_e(i):U_e(i);return ue.createElement(wS,Yx({className:yr("recharts-label",c)},b,y,{breakAll:f}),m)}bo.displayName="Label";var dY=function(e){var t=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,c=e.x,f=e.y,m=e.top,v=e.left,b=e.width,y=e.height,w=e.clockWise,A=e.labelViewBox;if(A)return A;if(Gt(b)&&Gt(y)){if(Gt(c)&&Gt(f))return{x:c,y:f,width:b,height:y};if(Gt(m)&&Gt(v))return{x:m,y:v,width:b,height:y}}return Gt(c)&&Gt(f)?{x:c,y:f,width:0,height:0}:Gt(t)&&Gt(r)?{cx:t,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},H_e=function(e,t){return e?e===!0?ue.createElement(bo,{key:"label-implicit",viewBox:t}):_s(e)?ue.createElement(bo,{key:"label-implicit",viewBox:t,value:e}):B.isValidElement(e)?e.type===bo?B.cloneElement(e,{key:"label-implicit",viewBox:t}):ue.createElement(bo,{key:"label-implicit",content:e,viewBox:t}):rr(e)?ue.createElement(bo,{key:"label-implicit",content:e,viewBox:t}):hv(e)?ue.createElement(bo,Yx({viewBox:t},e,{key:"label-implicit"})):null:null},G_e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=dY(e),o=yl(i,bo).map(function(l,u){return B.cloneElement(l,{viewBox:t||s,key:"label-".concat(u)})});if(!r)return o;var a=H_e(e.label,t||s);return[a].concat(C_e(o))};bo.parseViewBox=dY;bo.renderCallByParent=G_e;var IR,tz;function V_e(){if(tz)return IR;tz=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return IR=n,IR}var W_e=V_e();const $_e=zr(W_e);function Jx(n){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(n)}var q_e=["valueAccessor"],X_e=["data","dataKey","clockWise","id","textBreakAll"];function K_e(n){return Q_e(n)||Z_e(n)||J_e(n)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(n,e){if(n){if(typeof n=="string")return KI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return KI(n,e)}}function Z_e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Q_e(n){if(Array.isArray(n))return KI(n)}function KI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jS(){return jS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jS.apply(this,arguments)}function nz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(t),!0).forEach(function(r){e1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function e1e(n,e,t){return e=t1e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t1e(n){var e=n1e(n,"string");return Jx(e)=="symbol"?e:e+""}function n1e(n,e){if(Jx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iz(n,e){if(n==null)return{};var t=r1e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function r1e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var i1e=function(e){return Array.isArray(e.value)?$_e(e.value):e.value};function md(n){var e=n.valueAccessor,t=e===void 0?i1e:e,r=iz(n,q_e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=iz(r,X_e);return!i||!i.length?null:ue.createElement(ii,{className:"recharts-label-list"},i.map(function(d,c){var f=pr(s)?t(d,c):$o(d&&d.payload,s),m=pr(a)?{}:{id:"".concat(a,"-").concat(c)};return ue.createElement(bo,jS({},ur(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:bo.parseViewBox(pr(o)?d:rz(rz({},d),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}md.displayName="LabelList";function s1e(n,e){return n?n===!0?ue.createElement(md,{key:"labelList-implicit",data:e}):ue.isValidElement(n)||rr(n)?ue.createElement(md,{key:"labelList-implicit",data:e,content:n}):hv(n)?ue.createElement(md,jS({data:e},n,{key:"labelList-implicit"})):null:null}function o1e(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var r=n.children,i=yl(r,md).map(function(o,a){return B.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!t)return i;var s=s1e(n.label,e);return[s].concat(K_e(i))}md.renderCallByParent=o1e;function Zx(n){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(n)}function YI(){return YI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YI.apply(this,arguments)}function sz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(t),!0).forEach(function(r){a1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a1e(n,e,t){return e=l1e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l1e(n){var e=c1e(n,"string");return Zx(e)=="symbol"?e:e+""}function c1e(n,e){if(Zx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var u1e=function(e,t){var r=ac(t-e),i=Math.min(Math.abs(t-e),359.999);return r*i},w1=function(e){var t=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(a?1:-1)+i,c=Math.asin(l/d)/LS,f=u?s:s+o*c,m=eo(t,r,d,f),v=eo(t,r,i,f),b=u?s-o*c:s,y=eo(t,r,d*Math.cos(c*LS),b);return{center:m,circleTangency:v,lineTangency:y,theta:c}},fY=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=u1e(o,a),u=o+l,d=eo(t,r,s,o),c=eo(t,r,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var m=eo(t,r,i,o),v=eo(t,r,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},d1e=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,c=ac(d-u),f=w1({cx:t,cy:r,radius:s,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),m=f.circleTangency,v=f.lineTangency,b=f.theta,y=w1({cx:t,cy:r,radius:s,angle:d,sign:-c,cornerRadius:o,cornerIsExternal:l}),w=y.circleTangency,A=y.lineTangency,E=y.theta,C=l?Math.abs(u-d):Math.abs(u-d)-b-E;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):fY({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var M="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var R=w1({cx:t,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=R.circleTangency,k=R.lineTangency,D=R.theta,I=w1({cx:t,cy:r,radius:i,angle:d,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),L=I.circleTangency,W=I.lineTangency,q=I.theta,K=l?Math.abs(u-d):Math.abs(u-d)-D-q;if(K<0&&o===0)return"".concat(M,"L").concat(t,",").concat(r,"Z");M+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(c>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,"Z")}else M+="L".concat(t,",").concat(r,"Z");return M},f1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hY=function(e){var t=oz(oz({},f1e),e),r=t.cx,i=t.cy,s=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,d=t.startAngle,c=t.endAngle,f=t.className;if(o<s||d===c)return null;var m=yr("recharts-sector",f),v=o-s,b=nm(a,v,0,!0),y;return b>0&&Math.abs(d-c)<360?y=d1e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:c}):y=fY({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:c}),ue.createElement("path",YI({},ur(t,!0),{className:m,d:y,role:"img"}))};function Qx(n){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(n)}function JI(){return JI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JI.apply(this,arguments)}function az(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?az(Object(t),!0).forEach(function(r){h1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):az(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function h1e(n,e,t){return e=p1e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p1e(n){var e=m1e(n,"string");return Qx(e)=="symbol"?e:e+""}function m1e(n,e){if(Qx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cz={curveBasisClosed:Dpe,curveBasisOpen:Bpe,curveBasis:Fpe,curveBumpX:bpe,curveBumpY:_pe,curveLinearClosed:kpe,curveLinear:qE,curveMonotoneX:Lpe,curveMonotoneY:jpe,curveNatural:Upe,curveStep:zpe,curveStepAfter:Gpe,curveStepBefore:Hpe},S1=function(e){return e.x===+e.x&&e.y===+e.y},wy=function(e){return e.x},Sy=function(e){return e.y},g1e=function(e,t){if(rr(e))return e;var r="curve".concat(WE(e));return(r==="curveMonotone"||r==="curveBump")&&t?cz["".concat(r).concat(t==="vertical"?"Y":"X")]:cz[r]||qE},v1e=function(e){var t=e.type,r=t===void 0?"linear":t,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=g1e(r,a),c=u?s.filter(function(b){return S1(b)}):s,f;if(Array.isArray(o)){var m=u?o.filter(function(b){return S1(b)}):o,v=c.map(function(b,y){return lz(lz({},b),{},{base:m[y]})});return a==="vertical"?f=p1().y(Sy).x1(wy).x0(function(b){return b.base.x}):f=p1().x(wy).y1(Sy).y0(function(b){return b.base.y}),f.defined(S1).curve(d),f(v)}return a==="vertical"&&Gt(o)?f=p1().y(Sy).x1(wy).x0(o):Gt(o)?f=p1().x(wy).y1(Sy).y0(o):f=yX().x(wy).y(Sy),f.defined(S1).curve(d),f(c)},o0=function(e){var t=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?v1e(e):i;return B.createElement("path",JI({},ur(e,!1),uS(e),{className:yr("recharts-curve",t),d:o,ref:s}))},OR={exports:{}},FR,uz;function y1e(){if(uz)return FR;uz=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FR=n,FR}var DR,dz;function x1e(){if(dz)return DR;dz=1;var n=y1e();function e(){}function t(){}return t.resetWarningCache=e,DR=function(){function r(o,a,l,u,d,c){if(c!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},DR}var fz;function b1e(){return fz||(fz=1,OR.exports=x1e()()),OR.exports}var _1e=b1e();const jr=zr(_1e);var w1e=Object.getOwnPropertyNames,S1e=Object.getOwnPropertySymbols,A1e=Object.prototype.hasOwnProperty;function hz(n,e){return function(r,i,s){return n(r,i,s)&&e(r,i,s)}}function A1(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);var s=i.cache,o=s.get(t),a=s.get(r);if(o&&a)return o===r&&a===t;s.set(t,r),s.set(r,t);var l=n(t,r,i);return s.delete(t),s.delete(r),l}}function E1e(n){return n?.[Symbol.toStringTag]}function pz(n){return w1e(n).concat(S1e(n))}var C1e=Object.hasOwn||(function(n,e){return A1e.call(n,e)});function xm(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var M1e="__v",T1e="__o",P1e="_owner",mz=Object.getOwnPropertyDescriptor,gz=Object.keys;function R1e(n,e,t){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function N1e(n,e){return xm(n.getTime(),e.getTime())}function I1e(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function O1e(n,e){return n===e}function vz(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,c=0;(a=u.next())&&!a.done;){if(i[c]){c++;continue}var f=o.value,m=a.value;if(t.equals(f[0],m[0],l,c,n,e,t)&&t.equals(f[1],m[1],f[0],m[0],n,e,t)){d=i[c]=!0;break}c++}if(!d)return!1;l++}return!0}var F1e=xm;function D1e(n,e,t){var r=gz(n),i=r.length;if(gz(e).length!==i)return!1;for(;i-- >0;)if(!pY(n,e,t,r[i]))return!1;return!0}function Ay(n,e,t){var r=pz(n),i=r.length;if(pz(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!pY(n,e,t,s)||(o=mz(n,s),a=mz(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function B1e(n,e){return xm(n.valueOf(),e.valueOf())}function k1e(n,e){return n.source===e.source&&n.flags===e.flags}function yz(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&t.equals(o.value,a.value,o.value,a.value,n,e,t)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function L1e(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function j1e(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function pY(n,e,t,r){return(r===P1e||r===T1e||r===M1e)&&(n.$$typeof||e.$$typeof)?!0:C1e(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}var U1e="[object Arguments]",z1e="[object Boolean]",H1e="[object Date]",G1e="[object Error]",V1e="[object Map]",W1e="[object Number]",$1e="[object Object]",q1e="[object RegExp]",X1e="[object Set]",K1e="[object String]",Y1e="[object URL]",J1e=Array.isArray,xz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bz=Object.assign,Z1e=Object.prototype.toString.call.bind(Object.prototype.toString);function Q1e(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areErrorsEqual,i=n.areFunctionsEqual,s=n.areMapsEqual,o=n.areNumbersEqual,a=n.areObjectsEqual,l=n.arePrimitiveWrappersEqual,u=n.areRegExpsEqual,d=n.areSetsEqual,c=n.areTypedArraysEqual,f=n.areUrlsEqual,m=n.unknownTagComparators;return function(b,y,w){if(b===y)return!0;if(b==null||y==null)return!1;var A=typeof b;if(A!==typeof y)return!1;if(A!=="object")return A==="number"?o(b,y,w):A==="function"?i(b,y,w):!1;var E=b.constructor;if(E!==y.constructor)return!1;if(E===Object)return a(b,y,w);if(J1e(b))return e(b,y,w);if(xz!=null&&xz(b))return c(b,y,w);if(E===Date)return t(b,y,w);if(E===RegExp)return u(b,y,w);if(E===Map)return s(b,y,w);if(E===Set)return d(b,y,w);var C=Z1e(b);if(C===H1e)return t(b,y,w);if(C===q1e)return u(b,y,w);if(C===V1e)return s(b,y,w);if(C===X1e)return d(b,y,w);if(C===$1e)return typeof b.then!="function"&&typeof y.then!="function"&&a(b,y,w);if(C===Y1e)return f(b,y,w);if(C===G1e)return r(b,y,w);if(C===U1e)return a(b,y,w);if(C===z1e||C===W1e||C===K1e)return l(b,y,w);if(m){var M=m[C];if(!M){var R=E1e(b);R&&(M=m[R])}if(M)return M(b,y,w)}return!1}}function ewe(n){var e=n.circular,t=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?Ay:R1e,areDatesEqual:N1e,areErrorsEqual:I1e,areFunctionsEqual:O1e,areMapsEqual:r?hz(vz,Ay):vz,areNumbersEqual:F1e,areObjectsEqual:r?Ay:D1e,arePrimitiveWrappersEqual:B1e,areRegExpsEqual:k1e,areSetsEqual:r?hz(yz,Ay):yz,areTypedArraysEqual:r?Ay:L1e,areUrlsEqual:j1e,unknownTagComparators:void 0};if(t&&(i=bz({},i,t(i))),e){var s=A1(i.areArraysEqual),o=A1(i.areMapsEqual),a=A1(i.areObjectsEqual),l=A1(i.areSetsEqual);i=bz({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function twe(n){return function(e,t,r,i,s,o,a){return n(e,t,a)}}function nwe(n){var e=n.circular,t=n.comparator,r=n.createState,i=n.equals,s=n.strict;if(r)return function(l,u){var d=r(),c=d.cache,f=c===void 0?e?new WeakMap:void 0:c,m=d.meta;return t(l,u,{cache:f,equals:i,meta:m,strict:s})};if(e)return function(l,u){return t(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return t(l,u,o)}}var rwe=lh();lh({strict:!0});lh({circular:!0});lh({circular:!0,strict:!0});lh({createInternalComparator:function(){return xm}});lh({strict:!0,createInternalComparator:function(){return xm}});lh({circular:!0,createInternalComparator:function(){return xm}});lh({circular:!0,createInternalComparator:function(){return xm},strict:!0});function lh(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,r=n.createInternalComparator,i=n.createState,s=n.strict,o=s===void 0?!1:s,a=ewe(n),l=Q1e(a),u=r?r(l):twe(l);return nwe({circular:t,comparator:l,createState:i,equals:u,strict:o})}function iwe(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function _z(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,r=function i(s){t<0&&(t=s),s-t>e?(n(s),t=-1):iwe(i)};requestAnimationFrame(r)}function ZI(n){"@babel/helpers - typeof";return ZI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZI(n)}function swe(n){return cwe(n)||lwe(n)||awe(n)||owe()}function owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(n,e){if(n){if(typeof n=="string")return wz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wz(n,e)}}function wz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lwe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cwe(n){if(Array.isArray(n))return n}function uwe(){var n={},e=function(){return null},t=!1,r=function i(s){if(!t){if(Array.isArray(s)){if(!s.length)return;var o=s,a=swe(o),l=a[0],u=a.slice(1);if(typeof l=="number"){_z(i.bind(null,u),l);return}i(l),_z(i.bind(null,u));return}ZI(s)==="object"&&(n=s,e(n)),typeof s=="function"&&s()}};return{stop:function(){t=!0},start:function(s){t=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function eb(n){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(n)}function Sz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Az(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(t),!0).forEach(function(r){mY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mY(n,e,t){return e=dwe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dwe(n){var e=fwe(n,"string");return eb(e)==="symbol"?e:String(e)}function fwe(n,e){if(eb(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(eb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hwe=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},pwe=function(e){return e},mwe=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},sx=function(e,t){return Object.keys(t).reduce(function(r,i){return Az(Az({},r),{},mY({},i,e(i,t[i])))},{})},Ez=function(e,t,r){return e.map(function(i){return"".concat(mwe(i)," ").concat(t,"ms ").concat(r)}).join(",")};function gwe(n,e){return xwe(n)||ywe(n,e)||gY(n,e)||vwe()}function vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ywe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xwe(n){if(Array.isArray(n))return n}function bwe(n){return Swe(n)||wwe(n)||gY(n)||_we()}function _we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(n,e){if(n){if(typeof n=="string")return QI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return QI(n,e)}}function wwe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Swe(n){if(Array.isArray(n))return QI(n)}function QI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var US=1e-4,vY=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},yY=function(e,t){return e.map(function(r,i){return r*Math.pow(t,i)}).reduce(function(r,i){return r+i})},Cz=function(e,t){return function(r){var i=vY(e,t);return yY(i,r)}},Awe=function(e,t){return function(r){var i=vY(e,t),s=[].concat(bwe(i.map(function(o,a){return o*a}).slice(1)),[0]);return yY(s,r)}},Mz=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],s=t[1],o=t[2],a=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=gwe(u,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var c=Cz(i,o),f=Cz(s,a),m=Awe(i,o),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var A=w>1?1:w,E=A,C=0;C<8;++C){var M=c(E)-A,R=m(E);if(Math.abs(M-A)<US||R<US)return f(E);E=v(E-M/R)}return f(E)};return b.isStepper=!1,b},Ewe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(d,c,f){var m=-(d-c)*r,v=f*s,b=f+(m-v)*a/1e3,y=f*a/1e3+d;return Math.abs(y-c)<US&&Math.abs(b)<US?[c,0]:[y,b]};return l.isStepper=!0,l.dt=a,l},Cwe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mz(i);case"spring":return Ewe();default:if(i.split("(")[0]==="cubic-bezier")return Mz(i)}return typeof i=="function"?i:null};function tb(n){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(n)}function Tz(n){return Pwe(n)||Twe(n)||xY(n)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Pwe(n){if(Array.isArray(n))return tO(n)}function Pz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Js(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(t),!0).forEach(function(r){eO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eO(n,e,t){return e=Rwe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rwe(n){var e=Nwe(n,"string");return tb(e)==="symbol"?e:String(e)}function Nwe(n,e){if(tb(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(tb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Iwe(n,e){return Dwe(n)||Fwe(n,e)||xY(n,e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xY(n,e){if(n){if(typeof n=="string")return tO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tO(n,e)}}function tO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Fwe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Dwe(n){if(Array.isArray(n))return n}var zS=function(e,t,r){return e+(t-e)*r},nO=function(e){var t=e.from,r=e.to;return t!==r},Bwe=function n(e,t,r){var i=sx(function(s,o){if(nO(o)){var a=e(o.from,o.to,o.velocity),l=Iwe(a,2),u=l[0],d=l[1];return Js(Js({},o),{},{from:u,velocity:d})}return o},t);return r<1?sx(function(s,o){return nO(o)?Js(Js({},o),{},{velocity:zS(o.velocity,i[s].velocity,r),from:zS(o.from,i[s].from,r)}):o},t):n(e,i,r-1)};const kwe=(function(n,e,t,r,i){var s=hwe(n,e),o=s.reduce(function(y,w){return Js(Js({},y),{},eO({},w,[n[w],e[w]]))},{}),a=s.reduce(function(y,w){return Js(Js({},y),{},eO({},w,{from:n[w],velocity:0,to:e[w]}))},{}),l=-1,u,d,c=function(){return null},f=function(){return sx(function(w,A){return A.from},a)},m=function(){return!Object.values(a).filter(nO).length},v=function(w){u||(u=w);var A=w-u,E=A/t.dt;a=Bwe(t,a,E),i(Js(Js(Js({},n),e),f())),u=w,m()||(l=requestAnimationFrame(c))},b=function(w){d||(d=w);var A=(w-d)/r,E=sx(function(M,R){return zS.apply(void 0,Tz(R).concat([t(A)]))},o);if(i(Js(Js(Js({},n),e),E)),A<1)l=requestAnimationFrame(c);else{var C=sx(function(M,R){return zS.apply(void 0,Tz(R).concat([t(1)]))},o);i(Js(Js(Js({},n),e),C))}};return c=t.isStepper?v:b,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}});function C0(n){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(n)}var Lwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jwe(n,e){if(n==null)return{};var t=Uwe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Uwe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function BR(n){return Vwe(n)||Gwe(n)||Hwe(n)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(n,e){if(n){if(typeof n=="string")return rO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rO(n,e)}}function Gwe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Vwe(n){if(Array.isArray(n))return rO(n)}function rO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Rz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ql(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(t),!0).forEach(function(r){Yy(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Yy(n,e,t){return e=bY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wwe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $we(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,bY(r.key),r)}}function qwe(n,e,t){return e&&$we(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function bY(n){var e=Xwe(n,"string");return C0(e)==="symbol"?e:String(e)}function Xwe(n,e){if(C0(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(C0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kwe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iO(n,e)}function iO(n,e){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iO(n,e)}function Ywe(n){var e=Jwe();return function(){var r=HS(n),i;if(e){var s=HS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return sO(this,i)}}function sO(n,e){if(e&&(C0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oO(n)}function oO(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HS(n){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},HS(n)}var lu=(function(n){Kwe(t,n);var e=Ywe(t);function t(r,i){var s;Wwe(this,t),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,d=o.to,c=o.steps,f=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(oO(s)),s.changeStyle=s.changeStyle.bind(oO(s)),!a||m<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),sO(s);if(c&&c.length)s.state={style:c[0].style};else if(u){if(typeof f=="function")return s.state={style:u},sO(s);s.state={style:l?Yy({},l,u):u}}else s.state={style:{}};return s}return qwe(t,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,c=s.from,f=this.state.style;if(a){if(!o){var m={style:l?Yy({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(m);return}if(!(rwe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?c:i.to;if(this.state&&f){var y={style:l?Yy({},l,b):b};(l&&f[l]!==b||!l&&f!==b)&&this.setState(y)}this.runAnimation(ql(ql({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,c=i.onAnimationEnd,f=i.onAnimationStart,m=kwe(o,a,Cwe(u),l,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([f,d,v,l,c])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,c=u.duration,f=c===void 0?0:c,m=function(b,y,w){if(w===0)return b;var A=y.duration,E=y.easing,C=E===void 0?"ease":E,M=y.style,R=y.properties,O=y.onAnimationEnd,k=w>0?o[w-1]:y,D=R||Object.keys(M);if(typeof C=="function"||C==="spring")return[].concat(BR(b),[s.runJSAnimation.bind(s,{from:k.style,to:M,duration:A,easing:C}),A]);var I=Ez(D,A,C),L=ql(ql(ql({},k.style),M),{},{transition:I});return[].concat(BR(b),[L,A,O]).filter(pwe)};return this.manager.start([l].concat(BR(o.reduce(m,[d,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uwe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,c=i.onAnimationEnd,f=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var b=a?Yy({},a,l):l,y=Ez(Object.keys(b),o,u);v.start([d,s,ql(ql({},b),{},{transition:y}),o,c])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=jwe(i,Lwe),u=B.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||u===0||o<=0)return s;var c=function(m){var v=m.props,b=v.style,y=b===void 0?{}:b,w=v.className,A=B.cloneElement(m,ql(ql({},l),{},{style:ql(ql({},y),d),className:w}));return A};return u===1?c(B.Children.only(s)):ue.createElement("div",null,B.Children.map(s,function(f){return c(f)}))}}]),t})(B.PureComponent);lu.displayName="Animate";lu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lu.propTypes={from:jr.oneOfType([jr.object,jr.string]),to:jr.oneOfType([jr.object,jr.string]),attributeName:jr.string,duration:jr.number,begin:jr.number,easing:jr.oneOfType([jr.string,jr.func]),steps:jr.arrayOf(jr.shape({duration:jr.number.isRequired,style:jr.object.isRequired,easing:jr.oneOfType([jr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jr.func]),properties:jr.arrayOf("string"),onAnimationEnd:jr.func})),children:jr.oneOfType([jr.node,jr.func]),isActive:jr.bool,canBegin:jr.bool,onAnimationEnd:jr.func,shouldReAnimate:jr.bool,onAnimationStart:jr.func,onAnimationReStart:jr.func};function GS(){return GS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GS.apply(null,arguments)}function nb(n){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(n)}function VS(){return VS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VS.apply(this,arguments)}function Zwe(n,e){return nSe(n)||tSe(n,e)||eSe(n,e)||Qwe()}function Qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(n,e){if(n){if(typeof n=="string")return Nz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nz(n,e)}}function Nz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tSe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nSe(n){if(Array.isArray(n))return n}function Iz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Oz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(t),!0).forEach(function(r){rSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rSe(n,e,t){return e=iSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iSe(n){var e=sSe(n,"string");return nb(e)=="symbol"?e:e+""}function sSe(n,e){if(nb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Fz=function(e,t,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var c=[0,0,0,0],f=0,m=4;f<m;f++)c[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(t+a*c[0]),c[0]>0&&(d+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),d+="L ".concat(e+r-l*c[1],",").concat(t),c[1]>0&&(d+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+a*c[1])),d+="L ".concat(e+r,",").concat(t+i-a*c[2]),c[2]>0&&(d+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(t+i)),d+="L ".concat(e+l*c[3],",").concat(t+i),c[3]>0&&(d+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+i-a*c[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(e,",").concat(t+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(t,`
            L `).concat(e+r-l*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(t+a*v,`
            L `).concat(e+r,",").concat(t+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(t+i,`
            L `).concat(e+l*v,",").concat(t+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+i-a*v," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},oSe=function(e,t){if(!e||!t)return!1;var r=e.x,i=e.y,s=t.x,o=t.y,a=t.width,l=t.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),d=Math.max(s,s+a),c=Math.min(o,o+l),f=Math.max(o,o+l);return r>=u&&r<=d&&i>=c&&i<=f}return!1},aSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tB=function(e){var t=Oz(Oz({},aSe),e),r=B.useRef(),i=B.useState(-1),s=Zwe(i,2),o=s[0],a=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=t.x,u=t.y,d=t.width,c=t.height,f=t.radius,m=t.className,v=t.animationEasing,b=t.animationDuration,y=t.animationBegin,w=t.isAnimationActive,A=t.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||c!==+c||d===0||c===0)return null;var E=yr("recharts-rectangle",m);return A?ue.createElement(lu,{canBegin:o>0,from:{width:d,height:c,x:l,y:u},to:{width:d,height:c,x:l,y:u},duration:b,animationEasing:v,isActive:A},function(C){var M=C.width,R=C.height,O=C.x,k=C.y;return ue.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:v},ue.createElement("path",VS({},ur(t,!0),{className:E,d:Fz(O,k,M,R,f),ref:r})))}):ue.createElement("path",VS({},ur(t,!0),{className:E,d:Fz(l,u,d,c,f)}))};function aO(){return aO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aO.apply(this,arguments)}var aC=function(e){var t=e.cx,r=e.cy,i=e.r,s=e.className,o=yr("recharts-dot",s);return t===+t&&r===+r&&i===+i?B.createElement("circle",aO({},ur(e,!1),uS(e),{className:o,cx:t,cy:r,r:i})):null};function rb(n){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(n)}var lSe=["x","y","top","left","width","height","className"];function lO(){return lO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lO.apply(this,arguments)}function Dz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cSe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(t),!0).forEach(function(r){uSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uSe(n,e,t){return e=dSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dSe(n){var e=fSe(n,"string");return rb(e)=="symbol"?e:e+""}function fSe(n,e){if(rb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hSe(n,e){if(n==null)return{};var t=pSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function pSe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var mSe=function(e,t,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(t,"h").concat(r)},gSe=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,c=d===void 0?0:d,f=e.height,m=f===void 0?0:f,v=e.className,b=hSe(e,lSe),y=cSe({x:r,y:s,top:a,left:u,width:c,height:m},b);return!Gt(r)||!Gt(s)||!Gt(c)||!Gt(m)||!Gt(a)||!Gt(u)?null:ue.createElement("path",lO({},ur(y,!0),{className:yr("recharts-cross",v),d:mSe(r,s,c,m,a,u)}))},kR,Bz;function vSe(){if(Bz)return kR;Bz=1;var n=zX(),e=n(Object.getPrototypeOf,Object);return kR=e,kR}var LR,kz;function ySe(){if(kz)return LR;kz=1;var n=Pd(),e=vSe(),t=Rd(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(d){if(!t(d)||n(d)!=r)return!1;var c=e(d);if(c===null)return!0;var f=a.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return LR=u,LR}var xSe=ySe();const bSe=zr(xSe);var jR,Lz;function _Se(){if(Lz)return jR;Lz=1;var n=Pd(),e=Rd(),t="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&n(i)==t}return jR=r,jR}var wSe=_Se();const SSe=zr(wSe);function ib(n){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(n)}function WS(){return WS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WS.apply(this,arguments)}function ASe(n,e){return TSe(n)||MSe(n,e)||CSe(n,e)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CSe(n,e){if(n){if(typeof n=="string")return jz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jz(n,e)}}function jz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function MSe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function TSe(n){if(Array.isArray(n))return n}function Uz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(t),!0).forEach(function(r){PSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Uz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function PSe(n,e,t){return e=RSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RSe(n){var e=NSe(n,"string");return ib(e)=="symbol"?e:e+""}function NSe(n,e){if(ib(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Hz=function(e,t,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-o/2,",").concat(t+s),a+="L ".concat(e+r-o/2-i,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z"),a},ISe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OSe=function(e){var t=zz(zz({},ISe),e),r=B.useRef(),i=B.useState(-1),s=ASe(i,2),o=s[0],a=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=t.x,u=t.y,d=t.upperWidth,c=t.lowerWidth,f=t.height,m=t.className,v=t.animationEasing,b=t.animationDuration,y=t.animationBegin,w=t.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||c!==+c||f!==+f||d===0&&c===0||f===0)return null;var A=yr("recharts-trapezoid",m);return w?ue.createElement(lu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:d,lowerWidth:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(E){var C=E.upperWidth,M=E.lowerWidth,R=E.height,O=E.x,k=E.y;return ue.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:v},ue.createElement("path",WS({},ur(t,!0),{className:A,d:Hz(O,k,C,M,R),ref:r})))}):ue.createElement("g",null,ue.createElement("path",WS({},ur(t,!0),{className:A,d:Hz(l,u,d,c,f)})))},FSe=["option","shapeType","propTransformer","activeClassName","isActive"];function sb(n){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(n)}function DSe(n,e){if(n==null)return{};var t=BSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function BSe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Gz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $S(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(t),!0).forEach(function(r){kSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kSe(n,e,t){return e=LSe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LSe(n){var e=jSe(n,"string");return sb(e)=="symbol"?e:e+""}function jSe(n,e){if(sb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function USe(n,e){return $S($S({},e),n)}function zSe(n,e){return n==="symbols"}function Vz(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return ue.createElement(tB,t);case"trapezoid":return ue.createElement(OSe,t);case"sector":return ue.createElement(hY,t);case"symbols":if(zSe(e))return ue.createElement(xD,t);break;default:return null}}function HSe(n){return B.isValidElement(n)?n.props:n}function GSe(n){var e=n.option,t=n.shapeType,r=n.propTransformer,i=r===void 0?USe:r,s=n.activeClassName,o=s===void 0?"recharts-active-shape":s,a=n.isActive,l=DSe(n,FSe),u;if(B.isValidElement(e))u=B.cloneElement(e,$S($S({},l),HSe(e)));else if(rr(e))u=e(l);else if(bSe(e)&&!SSe(e)){var d=i(e,l);u=ue.createElement(Vz,{shapeType:t,elementProps:d})}else{var c=l;u=ue.createElement(Vz,{shapeType:t,elementProps:c})}return a?ue.createElement(ii,{className:o},u):u}function lC(n,e){return e!=null&&"trapezoids"in n.props}function cC(n,e){return e!=null&&"sectors"in n.props}function ob(n,e){return e!=null&&"points"in n.props}function VSe(n,e){var t,r,i=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,s=n.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===e.y;return i&&s}function WSe(n,e){var t=n.endAngle===e.endAngle,r=n.startAngle===e.startAngle;return t&&r}function $Se(n,e){var t=n.x===e.x,r=n.y===e.y,i=n.z===e.z;return t&&r&&i}function qSe(n,e){var t;return lC(n,e)?t=VSe:cC(n,e)?t=WSe:ob(n,e)&&(t=$Se),t}function XSe(n,e){var t;return lC(n,e)?t="trapezoids":cC(n,e)?t="sectors":ob(n,e)&&(t="points"),t}function KSe(n,e){if(lC(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(cC(n,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ob(n,e)?e.payload:{}}function YSe(n){var e=n.activeTooltipItem,t=n.graphicalItem,r=n.itemData,i=XSe(t,e),s=KSe(t,e),o=r.filter(function(l,u){var d=A0(s,l),c=t.props[i].filter(function(v){var b=qSe(t,e);return b(v,e)}),f=t.props[i].indexOf(c[c.length-1]),m=u===f;return d&&m}),a=r.indexOf(o[o.length-1]);return a}var UR,Wz;function JSe(){if(Wz)return UR;Wz=1;var n=Math.ceil,e=Math.max;function t(r,i,s,o){for(var a=-1,l=e(n((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return UR=t,UR}var zR,$z;function _Y(){if($z)return zR;$z=1;var n=rK(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var s=i<0?-1:1;return s*t}return i===i?i:0}return zR=r,zR}var HR,qz;function ZSe(){if(qz)return HR;qz=1;var n=JSe(),e=JE(),t=_Y();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=t(s),o===void 0?(o=s,s=0):o=t(o),a=a===void 0?s<o?1:-1:t(a),n(s,o,a,i)}}return HR=r,HR}var GR,Xz;function QSe(){if(Xz)return GR;Xz=1;var n=ZSe(),e=n();return GR=e,GR}var eAe=QSe();const qS=zr(eAe);function ab(n){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(n)}function Kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Yz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(t),!0).forEach(function(r){wY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wY(n,e,t){return e=tAe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tAe(n){var e=nAe(n,"string");return ab(e)=="symbol"?e:e+""}function nAe(n,e){if(ab(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var rAe=["Webkit","Moz","O","ms"],iAe=function(e,t){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=rAe.reduce(function(s,o){return Yz(Yz({},s),{},wY({},o+r,t))},{});return i[e]=t,i};function M0(n){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(n)}function XS(){return XS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XS.apply(this,arguments)}function Jz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(t),!0).forEach(function(r){Na(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,AY(r.key),r)}}function oAe(n,e,t){return e&&Zz(n.prototype,e),t&&Zz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function aAe(n,e,t){return e=KS(e),lAe(n,SY()?Reflect.construct(e,t||[],KS(n).constructor):e.apply(n,t))}function lAe(n,e){if(e&&(M0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cAe(n)}function cAe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!n})()}function KS(n){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KS(n)}function uAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cO(n,e)}function cO(n,e){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cO(n,e)}function Na(n,e,t){return e=AY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AY(n){var e=dAe(n,"string");return M0(e)=="symbol"?e:e+""}function dAe(n,e){if(M0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var fAe=function(e){var t=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,u=rx().domain(qS(0,l)).range([s,s+o-a]),d=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},Qz=function(e){return e.changedTouches&&!!e.changedTouches.length},T0=(function(n){function e(t){var r;return sAe(this,e),r=aAe(this,e,[t]),Na(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Na(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Na(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Na(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Na(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Na(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Na(r,"handleSlideDragStart",function(i){var s=Qz(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return uAe(e,n),oAe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,d=u.length-1,c=Math.min(i,s),f=Math.max(i,s),m=e.getIndexInRange(o,c),v=e.getIndexInRange(o,f);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=$o(s[r],a,r);return rr(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,u=l.x,d=l.width,c=l.travellerWidth,f=l.startIndex,m=l.endIndex,v=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,u+d-c-a,u+d-c-o):b<0&&(b=Math.max(b,u-o,u-a));var y=this.getIndex({startX:o+b,endX:a+b});(y.startIndex!==f||y.endIndex!==m)&&v&&v(y),this.setState({startX:o+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Qz(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[o],d=this.props,c=d.x,f=d.width,m=d.travellerWidth,v=d.onChange,b=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},A=r.pageX-s;A>0?A=Math.min(A,c+f-m-u):A<0&&(A=Math.max(A,c-u)),w[o]=u+A;var E=this.getIndex(w),C=E.startIndex,M=E.endIndex,R=function(){var k=y.length-1;return o==="startX"&&(a>l?C%b===0:M%b===0)||a<l&&M===k||o==="endX"&&(a>l?M%b===0:C%b===0)||a>l&&M===k};this.setState(Na(Na({},o,u+A),"brushMoveStartX",r.pageX),function(){v&&R()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],c=a.indexOf(d);if(c!==-1){var f=c+r;if(!(f===-1||f>=a.length)){var m=a[f];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Na({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return ue.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,d=r.padding,c=B.Children.only(u);return c?ue.cloneElement(c,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,u=l.y,d=l.travellerWidth,c=l.height,f=l.traveller,m=l.ariaLabel,v=l.data,b=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),A=VR(VR({},ur(this.props,!1)),{},{x:w,y:u,width:d,height:c}),E=m||"Min value: ".concat((s=v[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return ue.createElement(ii,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),a.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,A))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:c,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,c=d.startX,f=d.endX,m=5,v={pointerEvents:"none",fill:u};return ue.createElement(ii,{className:"recharts-brush-texts"},ue.createElement(wS,XS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,f)-m,y:o+a/2},v),this.getTextOfTick(i)),ue.createElement(wS,XS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,f)+l+m,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,d=r.height,c=r.alwaysShowText,f=this.state,m=f.startX,v=f.endX,b=f.isTextActive,y=f.isSlideMoving,w=f.isTravellerMoving,A=f.isTravellerFocused;if(!i||!i.length||!Gt(a)||!Gt(l)||!Gt(u)||!Gt(d)||u<=0||d<=0)return null;var E=yr("recharts-brush",s),C=ue.Children.count(o)===1,M=iAe("userSelect","none");return ue.createElement(ii,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(b||y||w||A||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ue.isValidElement(r)?s=ue.cloneElement(r,i):rr(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,c=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return VR({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?fAe({data:s,width:o,x:a,travellerWidth:l,startIndex:d,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])})(B.PureComponent);Na(T0,"displayName","Brush");Na(T0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WR,eH;function hAe(){if(eH)return WR;eH=1;var n=CD();function e(t,r){var i;return n(t,function(s,o,a){return i=r(s,o,a),!i}),!!i}return WR=e,WR}var $R,tH;function pAe(){if(tH)return $R;tH=1;var n=FX(),e=sh(),t=hAe(),r=ga(),i=JE();function s(o,a,l){var u=r(o)?n:t;return l&&i(o,a,l)&&(a=void 0),u(o,e(a,3))}return $R=s,$R}var mAe=pAe();const gAe=zr(mAe);var eu=function(e,t){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===t},qR,nH;function vAe(){if(nH)return qR;nH=1;var n=ZX();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return qR=e,qR}var XR,rH;function yAe(){if(rH)return XR;rH=1;var n=vAe(),e=YX(),t=sh();function r(i,s){var o={};return s=t(s,3),e(i,function(a,l,u){n(o,l,s(a,l,u))}),o}return XR=r,XR}var xAe=yAe();const bAe=zr(xAe);var KR,iH;function _Ae(){if(iH)return KR;iH=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}return KR=n,KR}var YR,sH;function wAe(){if(sH)return YR;sH=1;var n=CD();function e(t,r){var i=!0;return n(t,function(s,o,a){return i=!!r(s,o,a),i}),i}return YR=e,YR}var JR,oH;function SAe(){if(oH)return JR;oH=1;var n=_Ae(),e=wAe(),t=sh(),r=ga(),i=JE();function s(o,a,l){var u=r(o)?n:e;return l&&i(o,a,l)&&(a=void 0),u(o,t(a,3))}return JR=s,JR}var AAe=SAe();const EY=zr(AAe);var EAe=["x","y"];function lb(n){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(n)}function uO(){return uO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uO.apply(this,arguments)}function aH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ey(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aH(Object(t),!0).forEach(function(r){CAe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CAe(n,e,t){return e=MAe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MAe(n){var e=TAe(n,"string");return lb(e)=="symbol"?e:e+""}function TAe(n,e){if(lb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function PAe(n,e){if(n==null)return{};var t=RAe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function RAe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function NAe(n,e){var t=n.x,r=n.y,i=PAe(n,EAe),s="".concat(t),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),c="".concat(e.width||i.width),f=parseInt(c,10);return Ey(Ey(Ey(Ey(Ey({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function lH(n){return ue.createElement(GSe,uO({shapeType:"rectangle",propTransformer:NAe,activeClassName:"recharts-active-bar"},n))}var IAe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Gt(r)||Hhe(r);return s?e(r,i):(s||im(),t)}},OAe=["value","background"],CY;function P0(n){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(n)}function FAe(n,e){if(n==null)return{};var t=DAe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function DAe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function YS(){return YS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YS.apply(this,arguments)}function cH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function is(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cH(Object(t),!0).forEach(function(r){Df(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,TY(r.key),r)}}function kAe(n,e,t){return e&&uH(n.prototype,e),t&&uH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function LAe(n,e,t){return e=JS(e),jAe(n,MY()?Reflect.construct(e,t||[],JS(n).constructor):e.apply(n,t))}function jAe(n,e){if(e&&(P0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(n)}function UAe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function MY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MY=function(){return!!n})()}function JS(n){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JS(n)}function zAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dO(n,e)}function dO(n,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dO(n,e)}function Df(n,e,t){return e=TY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TY(n){var e=HAe(n,"string");return P0(e)=="symbol"?e:e+""}function HAe(n,e){if(P0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var vu=(function(n){function e(){var t;BAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=LAe(this,e,[].concat(i)),Df(t,"state",{isAnimationFinished:!1}),Df(t,"id",mv("recharts-bar-")),Df(t,"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),o&&o()}),Df(t,"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),o&&o()}),t}return zAe(e,n),kAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,d=ur(this.props,!1);return r&&r.map(function(c,f){var m=f===l,v=m?u:o,b=is(is(is({},d),c),{},{isActive:m,option:v,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(ii,YS({className:"recharts-bar-rectangle"},dS(i.props,c,f),{key:"rectangle-".concat(c?.x,"-").concat(c?.y,"-").concat(c?.value,"-").concat(f)}),ue.createElement(lH,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,c=i.animationId,f=this.state.prevData;return ue.createElement(lu,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,b=s.map(function(y,w){var A=f&&f[w];if(A){var E=Qs(A.x,y.x),C=Qs(A.y,y.y),M=Qs(A.width,y.width),R=Qs(A.height,y.height);return is(is({},y),{},{x:E(v),y:C(v),width:M(v),height:R(v)})}if(o==="horizontal"){var O=Qs(0,y.height),k=O(v);return is(is({},y),{},{y:y.y+y.height-k,height:k})}var D=Qs(0,y.width),I=D(v);return is(is({},y),{},{width:I})});return ue.createElement(ii,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!A0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=ur(this.props.background,!1);return s.map(function(u,d){u.value;var c=u.background,f=FAe(u,OAe);if(!c)return null;var m=is(is(is(is(is({},f),{},{fill:"#eee"},c),l),dS(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(lH,YS({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,c=yl(d,Xb);if(!c)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,w){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:$o(y,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ue.createElement(ii,v,c.map(function(b){return ue.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,d=r.top,c=r.width,f=r.height,m=r.isAnimationActive,v=r.background,b=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=yr("recharts-bar",o),A=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,C=A||E,M=pr(b)?this.id:b;return ue.createElement(ii,{className:w},A||E?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(M)},ue.createElement("rect",{x:A?u:u-c/2,y:E?d:d-f/2,width:A?c:c*2,height:E?f:f*2}))):null,ue.createElement(ii,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(M,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,M),(!m||y)&&md.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(B.PureComponent);CY=vu;Df(vu,"displayName","Bar");Df(vu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Df(vu,"getComposedData",function(n){var e=n.props,t=n.item,r=n.barPosition,i=n.bandSize,s=n.xAxis,o=n.yAxis,a=n.xAxisTicks,l=n.yAxisTicks,u=n.stackedData,d=n.dataStartIndex,c=n.displayedData,f=n.offset,m=o_e(r,t);if(!m)return null;var v=e.layout,b=t.type.defaultProps,y=b!==void 0?is(is({},b),t.props):t.props,w=y.dataKey,A=y.children,E=y.minPointSize,C=v==="horizontal"?o:s,M=u?C.scale.domain():null,R=p_e({numericAxis:C}),O=yl(A,PD),k=c.map(function(D,I){var L,W,q,K,ne,V;u?L=a_e(u[d+I],M):(L=$o(D,w),Array.isArray(L)||(L=[R,L]));var ee=IAe(E,CY.defaultProps.minPointSize)(L[1],I);if(v==="horizontal"){var H,Z=[o.scale(L[0]),o.scale(L[1])],te=Z[0],Y=Z[1];W=q8({axis:s,ticks:a,bandSize:i,offset:m.offset,entry:D,index:I}),q=(H=Y??te)!==null&&H!==void 0?H:void 0,K=m.size;var ae=te-Y;if(ne=Number.isNaN(ae)?0:ae,V={x:W,y:o.y,width:K,height:o.height},Math.abs(ee)>0&&Math.abs(ne)<Math.abs(ee)){var we=ac(ne||ee)*(Math.abs(ee)-Math.abs(ne));q-=we,ne+=we}}else{var Fe=[s.scale(L[0]),s.scale(L[1])],qe=Fe[0],fe=Fe[1];if(W=qe,q=q8({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:D,index:I}),K=fe-qe,ne=m.size,V={x:s.x,y:q,width:s.width,height:ne},Math.abs(ee)>0&&Math.abs(K)<Math.abs(ee)){var xe=ac(K||ee)*(Math.abs(ee)-Math.abs(K));K+=xe}}return is(is(is({},D),{},{x:W,y:q,width:K,height:ne,value:u?L:L[1],payload:D,background:V},O&&O[I]&&O[I].props),{},{tooltipPayload:[uY(t,D)],tooltipPosition:{x:W+K/2,y:q+ne/2}})});return is({data:k,layout:v},f)});function cb(n){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(n)}function GAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,PY(r.key),r)}}function VAe(n,e,t){return e&&dH(n.prototype,e),t&&dH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function fH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fH(Object(t),!0).forEach(function(r){uC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uC(n,e,t){return e=PY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PY(n){var e=WAe(n,"string");return cb(e)=="symbol"?e:e+""}function WAe(n,e){if(cb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var nB=function(e,t,r,i,s){var o=e.width,a=e.height,l=e.layout,u=e.children,d=Object.keys(t),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Ia(u,vu);return d.reduce(function(m,v){var b=t[v],y=b.orientation,w=b.domain,A=b.padding,E=A===void 0?{}:A,C=b.mirror,M=b.reversed,R="".concat(y).concat(C?"Mirror":""),O,k,D,I,L;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var W=w[1]-w[0],q=1/0,K=b.categoricalDomain.sort(Whe);if(K.forEach(function(Fe,qe){qe>0&&(q=Math.min((Fe||0)-(K[qe-1]||0),q))}),Number.isFinite(q)){var ne=q/W,V=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(O=ne*V/2),b.padding==="no-gap"){var ee=nm(e.barCategoryGap,ne*V),H=ne*V/2;O=H-ee-(H-ee)/V*ee}}}i==="xAxis"?k=[r.left+(E.left||0)+(O||0),r.left+r.width-(E.right||0)-(O||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(O||0),r.top+r.height-(E.bottom||0)-(O||0)]:k=b.range,M&&(k=[k[1],k[0]]);var Z=i_e(b,s,f),te=Z.scale,Y=Z.realScaleType;te.domain(w).range(k),s_e(te);var ae=h_e(te,rc(rc({},b),{},{realScaleType:Y}));i==="xAxis"?(L=y==="top"&&!C||y==="bottom"&&C,D=r.left,I=c[R]-L*b.height):i==="yAxis"&&(L=y==="left"&&!C||y==="right"&&C,D=c[R]-L*b.width,I=r.top);var we=rc(rc(rc({},b),ae),{},{realScaleType:Y,x:D,y:I,scale:te,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return we.bandSize=kS(we,ae),!b.hide&&i==="xAxis"?c[R]+=(L?-1:1)*we.height:b.hide||(c[R]+=(L?-1:1)*we.width),rc(rc({},m),{},uC({},v,we))},{})},RY=function(e,t){var r=e.x,i=e.y,s=t.x,o=t.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},$Ae=function(e){var t=e.x1,r=e.y1,i=e.x2,s=e.y2;return RY({x:t,y:r},{x:i,y:s})},NY=(function(){function n(e){GAe(this,n),this.scale=e}return VAe(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?t>=i&&t<=s:t>=s&&t<=i}}],[{key:"create",value:function(t){return new n(t)}}])})();uC(NY,"EPS",1e-4);var rB=function(e){var t=Object.keys(e).reduce(function(r,i){return rc(rc({},r),{},uC({},i,NY.create(e[i])))},{});return rc(rc({},t),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return bAe(i,function(l,u){return t[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return EY(i,function(s,o){return t[o].isInRange(s)})}})};function qAe(n){return(n%180+180)%180}var XAe=function(e){var t=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=qAe(i),o=s*Math.PI/180,a=Math.atan(r/t),l=o>a&&o<Math.PI-a?r/Math.sin(o):t/Math.cos(o);return Math.abs(l)},ZR,hH;function KAe(){if(hH)return ZR;hH=1;var n=sh(),e=Gb(),t=KE();function r(i){return function(s,o,a){var l=Object(s);if(!e(s)){var u=n(o,3);s=t(s),o=function(c){return u(l[c],c,l)}}var d=i(s,o,a);return d>-1?l[u?s[d]:d]:void 0}}return ZR=r,ZR}var QR,pH;function YAe(){if(pH)return QR;pH=1;var n=_Y();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return QR=e,QR}var eN,mH;function JAe(){if(mH)return eN;mH=1;var n=WX(),e=sh(),t=YAe(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:t(a);return u<0&&(u=r(l+u,0)),n(s,e(o,3),u)}return eN=i,eN}var tN,gH;function ZAe(){if(gH)return tN;gH=1;var n=KAe(),e=JAe(),t=n(e);return tN=t,tN}var QAe=ZAe();const eEe=zr(QAe);var tEe=oX();const nEe=zr(tEe);var rEe=nEe(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),iB=B.createContext(void 0),sB=B.createContext(void 0),IY=B.createContext(void 0),OY=B.createContext({}),FY=B.createContext(void 0),DY=B.createContext(0),BY=B.createContext(0),vH=function(e){var t=e.state,r=t.xAxisMap,i=t.yAxisMap,s=t.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,d=rEe(s);return ue.createElement(iB.Provider,{value:r},ue.createElement(sB.Provider,{value:i},ue.createElement(OY.Provider,{value:s},ue.createElement(IY.Provider,{value:d},ue.createElement(FY.Provider,{value:o},ue.createElement(DY.Provider,{value:u},ue.createElement(BY.Provider,{value:l},a)))))))},iEe=function(){return B.useContext(FY)},kY=function(e){var t=B.useContext(iB);t==null&&im();var r=t[e];return r==null&&im(),r},sEe=function(){var e=B.useContext(iB);return Rf(e)},oEe=function(){var e=B.useContext(sB),t=eEe(e,function(r){return EY(r.domain,Number.isFinite)});return t||Rf(e)},LY=function(e){var t=B.useContext(sB);t==null&&im();var r=t[e];return r==null&&im(),r},aEe=function(){var e=B.useContext(IY);return e},lEe=function(){return B.useContext(OY)},oB=function(){return B.useContext(BY)},aB=function(){return B.useContext(DY)};function R0(n){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(n)}function cEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,UY(r.key),r)}}function dEe(n,e,t){return e&&uEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function fEe(n,e,t){return e=ZS(e),hEe(n,jY()?Reflect.construct(e,t||[],ZS(n).constructor):e.apply(n,t))}function hEe(n,e){if(e&&(R0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pEe(n)}function pEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jY=function(){return!!n})()}function ZS(n){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZS(n)}function mEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fO(n,e)}function fO(n,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fO(n,e)}function yH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yH(Object(t),!0).forEach(function(r){lB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lB(n,e,t){return e=UY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UY(n){var e=gEe(n,"string");return R0(e)=="symbol"?e:e+""}function gEe(n,e){if(R0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function vEe(n,e){return _Ee(n)||bEe(n,e)||xEe(n,e)||yEe()}function yEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xEe(n,e){if(n){if(typeof n=="string")return bH(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bH(n,e)}}function bH(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bEe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _Ee(n){if(Array.isArray(n))return n}function hO(){return hO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hO.apply(this,arguments)}var wEe=function(e,t){var r;return ue.isValidElement(e)?r=ue.cloneElement(e,t):rr(e)?r=e(t):r=ue.createElement("line",hO({},t,{className:"recharts-reference-line-line"})),r},SEe=function(e,t,r,i,s,o,a,l,u){var d=s.x,c=s.y,f=s.width,m=s.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(eu(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:d+f,y:b},{x:d,y:b}];return l==="left"?y.reverse():y}if(t){var w=u.x,A=e.x.apply(w,{position:o});if(eu(u,"discard")&&!e.x.isInRange(A))return null;var E=[{x:A,y:c+m},{x:A,y:c}];return a==="top"?E.reverse():E}if(i){var C=u.segment,M=C.map(function(R){return e.apply(R,{position:o})});return eu(u,"discard")&&gAe(M,function(R){return!e.isInRange(R)})?null:M}return null};function AEe(n){var e=n.x,t=n.y,r=n.segment,i=n.xAxisId,s=n.yAxisId,o=n.shape,a=n.className,l=n.alwaysShow,u=iEe(),d=kY(i),c=LY(s),f=aEe();if(!u||!f)return null;hd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=rB({x:d.scale,y:c.scale}),v=_s(e),b=_s(t),y=r&&r.length===2,w=SEe(m,v,b,y,f,n.position,d.orientation,c.orientation,n);if(!w)return null;var A=vEe(w,2),E=A[0],C=E.x,M=E.y,R=A[1],O=R.x,k=R.y,D=eu(n,"hidden")?"url(#".concat(u,")"):void 0,I=xH(xH({clipPath:D},ur(n,!0)),{},{x1:C,y1:M,x2:O,y2:k});return ue.createElement(ii,{className:yr("recharts-reference-line",a)},wEe(o,I),bo.renderCallByParent(n,$Ae({x1:C,y1:M,x2:O,y2:k})))}var cB=(function(n){function e(){return cEe(this,e),fEe(this,e,arguments)}return mEe(e,n),dEe(e,[{key:"render",value:function(){return ue.createElement(AEe,this.props)}}])})(ue.Component);lB(cB,"displayName","ReferenceLine");lB(cB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pO(){return pO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pO.apply(this,arguments)}function N0(n){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(n)}function _H(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_H(Object(t),!0).forEach(function(r){dC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_H(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function CEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,HY(r.key),r)}}function MEe(n,e,t){return e&&CEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function TEe(n,e,t){return e=QS(e),PEe(n,zY()?Reflect.construct(e,t||[],QS(n).constructor):e.apply(n,t))}function PEe(n,e){if(e&&(N0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return REe(n)}function REe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zY=function(){return!!n})()}function QS(n){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QS(n)}function NEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mO(n,e)}function mO(n,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mO(n,e)}function dC(n,e,t){return e=HY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HY(n){var e=IEe(n,"string");return N0(e)=="symbol"?e:e+""}function IEe(n,e){if(N0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var OEe=function(e){var t=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=rB({x:i.scale,y:s.scale}),a=o.apply({x:t,y:r},{bandAware:!0});return eu(e,"discard")&&!o.isInRange(a)?null:a},fC=(function(n){function e(){return EEe(this,e),TEe(this,e,arguments)}return NEe(e,n),MEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,u=_s(i),d=_s(s);if(hd(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var c=OEe(this.props);if(!c)return null;var f=c.x,m=c.y,v=this.props,b=v.shape,y=v.className,w=eu(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=wH(wH({clipPath:w},ur(this.props,!0)),{},{cx:f,cy:m});return ue.createElement(ii,{className:yr("recharts-reference-dot",y)},e.renderDot(b,A),bo.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])})(ue.Component);dC(fC,"displayName","ReferenceDot");dC(fC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dC(fC,"renderDot",function(n,e){var t;return ue.isValidElement(n)?t=ue.cloneElement(n,e):rr(n)?t=n(e):t=ue.createElement(aC,pO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function gO(){return gO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gO.apply(this,arguments)}function I0(n){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(n)}function SH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(t),!0).forEach(function(r){hC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function DEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,VY(r.key),r)}}function BEe(n,e,t){return e&&DEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function kEe(n,e,t){return e=eA(e),LEe(n,GY()?Reflect.construct(e,t||[],eA(n).constructor):e.apply(n,t))}function LEe(n,e){if(e&&(I0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jEe(n)}function jEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function GY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GY=function(){return!!n})()}function eA(n){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eA(n)}function UEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vO(n,e)}function vO(n,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vO(n,e)}function hC(n,e,t){return e=VY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VY(n){var e=zEe(n,"string");return I0(e)=="symbol"?e:e+""}function zEe(n,e){if(I0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var HEe=function(e,t,r,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,d=s.xAxis,c=s.yAxis;if(!d||!c)return null;var f=rB({x:d.scale,y:c.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:t?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return eu(s,"discard")&&(!f.isInRange(m)||!f.isInRange(v))?null:RY(m,v)},pC=(function(n){function e(){return FEe(this,e),kEe(this,e,arguments)}return UEe(e,n),BEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;hd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=_s(i),f=_s(s),m=_s(o),v=_s(a),b=this.props.shape;if(!c&&!f&&!m&&!v&&!b)return null;var y=HEe(c,f,m,v,this.props);if(!y&&!b)return null;var w=eu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(ii,{className:yr("recharts-reference-area",l)},e.renderRect(b,AH(AH({clipPath:w},ur(this.props,!0)),y)),bo.renderCallByParent(this.props,y))}}])})(ue.Component);hC(pC,"displayName","ReferenceArea");hC(pC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hC(pC,"renderRect",function(n,e){var t;return ue.isValidElement(n)?t=ue.cloneElement(n,e):rr(n)?t=n(e):t=ue.createElement(tB,gO({},e,{className:"recharts-reference-area-rect"})),t});function WY(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var r=[],i=0;i<n.length;i+=e)r.push(n[i]);return r}function GEe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return XAe(r,t)}function VEe(n,e,t){var r=t==="width",i=n.x,s=n.y,o=n.width,a=n.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function tA(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function WEe(n,e){return WY(n,e+1)}function $Ee(n,e,t,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,d=o,c=function(){var v=r?.[l];if(v===void 0)return{v:WY(r,u)};var b=l,y,w=function(){return y===void 0&&(y=t(v,b)),y},A=v.coordinate,E=l===0||tA(n,A,w,d,a);E||(l=0,d=o,u+=1),E&&(d=A+n*(w()/2+i),l+=u)},f;u<=s.length;)if(f=c(),f)return f.v;return[]}function ub(n){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(n)}function EH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EH(Object(t),!0).forEach(function(r){qEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qEe(n,e,t){return e=XEe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XEe(n){var e=KEe(n,"string");return ub(e)=="symbol"?e:e+""}function KEe(n,e){if(ub(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YEe(n,e,t,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(f){var m=s[f],v,b=function(){return v===void 0&&(v=t(m,f)),v};if(f===o-1){var y=n*(m.coordinate+n*b()/2-l);s[f]=m=yo(yo({},m),{},{tickCoord:y>0?m.coordinate-y*n:m.coordinate})}else s[f]=m=yo(yo({},m),{},{tickCoord:m.coordinate});var w=tA(n,m.tickCoord,b,a,l);w&&(l=m.tickCoord-n*(b()/2+i),s[f]=yo(yo({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function JEe(n,e,t,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var d=r[a-1],c=t(d,a-1),f=n*(d.coordinate+n*c/2-u);o[a-1]=d=yo(yo({},d),{},{tickCoord:f>0?d.coordinate-f*n:d.coordinate});var m=tA(n,d.tickCoord,function(){return c},l,u);m&&(u=d.tickCoord-n*(c/2+i),o[a-1]=yo(yo({},d),{},{isShow:!0}))}for(var v=s?a-1:a,b=function(A){var E=o[A],C,M=function(){return C===void 0&&(C=t(E,A)),C};if(A===0){var R=n*(E.coordinate-n*M()/2-l);o[A]=E=yo(yo({},E),{},{tickCoord:R<0?E.coordinate-R*n:E.coordinate})}else o[A]=E=yo(yo({},E),{},{tickCoord:E.coordinate});var O=tA(n,E.tickCoord,M,l,u);O&&(l=E.tickCoord+n*(M()/2+i),o[A]=yo(yo({},E),{},{isShow:!0}))},y=0;y<v;y++)b(y);return o}function uB(n,e,t){var r=n.tick,i=n.ticks,s=n.viewBox,o=n.minTickGap,a=n.orientation,l=n.interval,u=n.tickFormatter,d=n.unit,c=n.angle;if(!i||!i.length||!r)return[];if(Gt(l)||gm.isSsr)return WEe(i,typeof l=="number"&&Gt(l)?l:0);var f=[],m=a==="top"||a==="bottom"?"width":"height",v=d&&m==="width"?nx(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},b=function(E,C){var M=rr(u)?u(E.value,C):E.value;return m==="width"?GEe(nx(M,{fontSize:e,letterSpacing:t}),v,c):nx(M,{fontSize:e,letterSpacing:t})[m]},y=i.length>=2?ac(i[1].coordinate-i[0].coordinate):1,w=VEe(s,y,m);return l==="equidistantPreserveStart"?$Ee(y,w,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=JEe(y,w,b,i,o,l==="preserveStartEnd"):f=YEe(y,w,b,i,o),f.filter(function(A){return A.isShow}))}var ZEe=["viewBox"],QEe=["viewBox"],eCe=["ticks"];function O0(n){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(n)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ug.apply(this,arguments)}function CH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ys(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CH(Object(t),!0).forEach(function(r){dB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nN(n,e){if(n==null)return{};var t=tCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function nCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function MH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qY(r.key),r)}}function rCe(n,e,t){return e&&MH(n.prototype,e),t&&MH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function iCe(n,e,t){return e=nA(e),sCe(n,$Y()?Reflect.construct(e,t||[],nA(n).constructor):e.apply(n,t))}function sCe(n,e){if(e&&(O0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oCe(n)}function oCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $Y(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!n})()}function nA(n){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nA(n)}function aCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&yO(n,e)}function yO(n,e){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yO(n,e)}function dB(n,e,t){return e=qY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qY(n){var e=lCe(n,"string");return O0(e)=="symbol"?e:e+""}function lCe(n,e){if(O0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var bv=(function(n){function e(t){var r;return nCe(this,e),r=iCe(this,e,[t]),r.state={fontSize:"",letterSpacing:""},r}return aCe(e,n),rCe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=nN(r,ZEe),a=this.props,l=a.viewBox,u=nN(a,QEe);return!r0(s,l)||!r0(o,u)||!r0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.orientation,d=i.tickSize,c=i.mirror,f=i.tickMargin,m,v,b,y,w,A,E=c?-1:1,C=r.tickSize||d,M=Gt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,y=o+ +!c*l,b=y-E*C,A=b-E*f,w=M;break;case"left":b=y=r.coordinate,v=s+ +!c*a,m=v-E*C,w=m-E*f,A=M;break;case"right":b=y=r.coordinate,v=s+ +c*a,m=v+E*C,w=m+E*f,A=M;break;default:m=v=r.coordinate,y=o+ +c*l,b=y+E*C,A=b+E*f,w=M;break}return{line:{x1:m,y1:b,x2:v,y2:y},tick:{x:w,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,c=ys(ys(ys({},ur(this.props,!1)),ur(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);c=ys(ys({},c),{},{x1:i,y1:s+f*a,x2:i+o,y2:s+f*a})}else{var m=+(l==="left"&&!u||l==="right"&&u);c=ys(ys({},c),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+a})}return ue.createElement("line",Ug({},c,{className:yr("recharts-cartesian-axis-line",vl(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,d=a.tick,c=a.tickFormatter,f=a.unit,m=uB(ys(ys({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=ur(this.props,!1),w=ur(d,!1),A=ys(ys({},y),{},{fill:"none"},ur(l,!1)),E=m.map(function(C,M){var R=o.getTickLineCoord(C),O=R.line,k=R.tick,D=ys(ys(ys(ys({textAnchor:v,verticalAnchor:b},y),{},{stroke:"none",fill:u},w),k),{},{index:M,payload:C,visibleTicksCount:m.length,tickFormatter:c});return ue.createElement(ii,Ug({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},dS(o.props,C,M)),l&&ue.createElement("line",Ug({},A,O,{className:yr("recharts-cartesian-axis-tick-line",vl(l,"className"))})),d&&e.renderTickItem(d,D,"".concat(rr(c)?c(C.value,M):C.value).concat(f||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var c=this.props,f=c.ticks,m=nN(c,eCe),v=f;return rr(l)&&(v=f&&f.length>0?l(this.props):l(m)),o<=0||a<=0||!v||!v.length?null:ue.createElement(ii,{className:yr("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),bo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=yr(i.className,"recharts-cartesian-axis-tick-value");return ue.isValidElement(r)?o=ue.cloneElement(r,ys(ys({},i),{},{className:a})):rr(r)?o=r(ys(ys({},i),{},{className:a})):o=ue.createElement(wS,Ug({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(B.Component);dB(bv,"displayName","CartesianAxis");dB(bv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cCe=["x1","y1","x2","y2","key"],uCe=["offset"];function sm(n){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(n)}function TH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _o(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(t),!0).forEach(function(r){dCe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dCe(n,e,t){return e=fCe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fCe(n){var e=hCe(n,"string");return sm(e)=="symbol"?e:e+""}function hCe(n,e){if(sm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cp.apply(this,arguments)}function PH(n,e){if(n==null)return{};var t=pCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function pCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var mCe=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return ue.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function XY(n,e){var t;if(ue.isValidElement(n))t=ue.cloneElement(n,e);else if(rr(n))t=n(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=PH(e,cCe),u=ur(l,!1);u.offset;var d=PH(u,uCe);t=ue.createElement("line",Cp({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return t}function gCe(n){var e=n.x,t=n.width,r=n.horizontal,i=r===void 0?!0:r,s=n.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=_o(_o({},n),{},{x1:e,y1:a,x2:e+t,y2:a,key:"line-".concat(l),index:l});return XY(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vCe(n){var e=n.y,t=n.height,r=n.vertical,i=r===void 0?!0:r,s=n.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=_o(_o({},n),{},{x1:a,y1:e,x2:a,y2:e+t,key:"line-".concat(l),index:l});return XY(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yCe(n){var e=n.horizontalFill,t=n.fillOpacity,r=n.x,i=n.y,s=n.width,o=n.height,a=n.horizontalPoints,l=n.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var c=d.map(function(f,m){var v=!d[m+1],b=v?i+o-f:d[m+1]-f;if(b<=0)return null;var y=m%e.length;return ue.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:b,width:s,stroke:"none",fill:e[y],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function xCe(n){var e=n.vertical,t=e===void 0?!0:e,r=n.verticalFill,i=n.fillOpacity,s=n.x,o=n.y,a=n.width,l=n.height,u=n.verticalPoints;if(!t||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==d[0]&&d.unshift(0);var c=d.map(function(f,m){var v=!d[m+1],b=v?s+a-f:d[m+1]-f;if(b<=0)return null;var y=m%r.length;return ue.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var bCe=function(e,t){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return lY(uB(_o(_o(_o({},bv.defaultProps),r),{},{ticks:ud(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,t)},_Ce=function(e,t){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return lY(uB(_o(_o(_o({},bv.defaultProps),r),{},{ticks:ud(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,t)},hg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ao(n){var e,t,r,i,s,o,a=oB(),l=aB(),u=lEe(),d=_o(_o({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:hg.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:hg.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:hg.horizontal,horizontalFill:(i=n.horizontalFill)!==null&&i!==void 0?i:hg.horizontalFill,vertical:(s=n.vertical)!==null&&s!==void 0?s:hg.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:hg.verticalFill,x:Gt(n.x)?n.x:u.left,y:Gt(n.y)?n.y:u.top,width:Gt(n.width)?n.width:u.width,height:Gt(n.height)?n.height:u.height}),c=d.x,f=d.y,m=d.width,v=d.height,b=d.syncWithTicks,y=d.horizontalValues,w=d.verticalValues,A=sEe(),E=oEe();if(!Gt(m)||m<=0||!Gt(v)||v<=0||!Gt(c)||c!==+c||!Gt(f)||f!==+f)return null;var C=d.verticalCoordinatesGenerator||bCe,M=d.horizontalCoordinatesGenerator||_Ce,R=d.horizontalPoints,O=d.verticalPoints;if((!R||!R.length)&&rr(M)){var k=y&&y.length,D=M({yAxis:E?_o(_o({},E),{},{ticks:k?y:E.ticks}):void 0,width:a,height:l,offset:u},k?!0:b);hd(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sm(D),"]")),Array.isArray(D)&&(R=D)}if((!O||!O.length)&&rr(C)){var I=w&&w.length,L=C({xAxis:A?_o(_o({},A),{},{ticks:I?w:A.ticks}):void 0,width:a,height:l,offset:u},I?!0:b);hd(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sm(L),"]")),Array.isArray(L)&&(O=L)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(mCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(gCe,Cp({},d,{offset:u,horizontalPoints:R,xAxis:A,yAxis:E})),ue.createElement(vCe,Cp({},d,{offset:u,verticalPoints:O,xAxis:A,yAxis:E})),ue.createElement(yCe,Cp({},d,{horizontalPoints:R})),ue.createElement(xCe,Cp({},d,{verticalPoints:O})))}Ao.displayName="CartesianGrid";var wCe=["type","layout","connectNulls","ref"],SCe=["key"];function F0(n){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(n)}function RH(n,e){if(n==null)return{};var t=ACe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ACe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ox(){return ox=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ox.apply(this,arguments)}function NH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ra(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NH(Object(t),!0).forEach(function(r){ic(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pg(n){return TCe(n)||MCe(n)||CCe(n)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CCe(n,e){if(n){if(typeof n=="string")return xO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xO(n,e)}}function MCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function TCe(n){if(Array.isArray(n))return xO(n)}function xO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function PCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,YY(r.key),r)}}function RCe(n,e,t){return e&&IH(n.prototype,e),t&&IH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function NCe(n,e,t){return e=rA(e),ICe(n,KY()?Reflect.construct(e,t||[],rA(n).constructor):e.apply(n,t))}function ICe(n,e){if(e&&(F0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(n)}function OCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!n})()}function rA(n){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rA(n)}function FCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bO(n,e)}function bO(n,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bO(n,e)}function ic(n,e,t){return e=YY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YY(n){var e=DCe(n,"string");return F0(e)=="symbol"?e:e+""}function DCe(n,e){if(F0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var As=(function(n){function e(){var t;PCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=NCe(this,e,[].concat(i)),ic(t,"state",{isAnimationFinished:!0,totalLength:0}),ic(t,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),ic(t,"getStrokeDasharray",function(o,a,l){var u=l.reduce(function(w,A){return w+A});if(!u)return t.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/u),c=o%u,f=a-o,m=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>c){m=[].concat(pg(l.slice(0,v)),[c-b]);break}var y=m.length%2===0?[0,f]:[f];return[].concat(pg(e.repeat(l,d)),pg(m),y).map(function(w){return"".concat(w,"px")}).join(", ")}),ic(t,"id",mv("recharts-line-")),ic(t,"pathRef",function(o){t.mainCurve=o}),ic(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),ic(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return FCe(e,n),RCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,c=yl(d,Xb);if(!c)return null;var f=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:$o(b.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ue.createElement(ii,m,c.map(function(v){return ue.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,d=a.dataKey,c=ur(this.props,!1),f=ur(l,!0),m=u.map(function(b,y){var w=Ra(Ra(Ra({key:"dot-".concat(y),r:3},c),f),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ue.createElement(ii,ox({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,u=a.layout,d=a.connectNulls;a.ref;var c=RH(a,wCe),f=Ra(Ra(Ra({},ur(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:d});return ue.createElement(o0,ox({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,c=o.animationDuration,f=o.animationEasing,m=o.animationId,v=o.animateNewValues,b=o.width,y=o.height,w=this.state,A=w.prevPoints,E=w.totalLength;return ue.createElement(lu,{begin:d,duration:c,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var M=C.t;if(A){var R=A.length/a.length,O=a.map(function(W,q){var K=Math.floor(q*R);if(A[K]){var ne=A[K],V=Qs(ne.x,W.x),ee=Qs(ne.y,W.y);return Ra(Ra({},W),{},{x:V(M),y:ee(M)})}if(v){var H=Qs(b*2,W.x),Z=Qs(y/2,W.y);return Ra(Ra({},W),{},{x:H(M),y:Z(M)})}return Ra(Ra({},W),{},{x:W.x,y:W.y})});return s.renderCurveStatically(O,r,i)}var k=Qs(0,E),D=k(M),I;if(l){var L="".concat(l).split(/[,\s]+/gim).map(function(W){return parseFloat(W)});I=s.getStrokeDasharray(D,E,L)}else I=s.generateSimpleStrokeDasharray(E,D);return s.renderCurveStatically(a,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return a&&o&&o.length&&(!u&&d>0||!A0(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,u=i.xAxis,d=i.yAxis,c=i.top,f=i.left,m=i.width,v=i.height,b=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=a.length===1,E=yr("recharts-line",l),C=u&&u.allowDataOverflow,M=d&&d.allowDataOverflow,R=C||M,O=pr(y)?this.id:y,k=(r=ur(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=k.r,I=D===void 0?3:D,L=k.strokeWidth,W=L===void 0?2:L,q=dX(o)?o:{},K=q.clipDot,ne=K===void 0?!0:K,V=I*2+W;return ue.createElement(ii,{className:E},C||M?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(O)},ue.createElement("rect",{x:C?f:f-m/2,y:M?c:c-v/2,width:C?m:m*2,height:M?v:v*2})),!ne&&ue.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ue.createElement("rect",{x:f-V/2,y:c-V/2,width:m+V,height:v+V}))):null,!A&&this.renderCurve(R,O),this.renderErrorBar(R,O),(A||o)&&this.renderDots(R,ne,O),(!b||w)&&md.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(pg(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(pg(o),pg(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(ue.isValidElement(r))s=ue.cloneElement(r,i);else if(rr(r))s=r(i);else{var o=i.key,a=RH(i,SCe),l=yr("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ue.createElement(aC,ox({key:o},a,{className:l}))}return s}}])})(B.PureComponent);ic(As,"displayName","Line");ic(As,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ic(As,"getComposedData",function(n){var e=n.props,t=n.xAxis,r=n.yAxis,i=n.xAxisTicks,s=n.yAxisTicks,o=n.dataKey,a=n.bandSize,l=n.displayedData,u=n.offset,d=e.layout,c=l.map(function(f,m){var v=$o(f,o);return d==="horizontal"?{x:BS({axis:t,ticks:i,bandSize:a,entry:f,index:m}),y:pr(v)?null:r.scale(v),value:v,payload:f}:{x:pr(v)?null:t.scale(v),y:BS({axis:r,ticks:s,bandSize:a,entry:f,index:m}),value:v,payload:f}});return Ra({points:c,layout:d},u)});var BCe=["layout","type","stroke","connectNulls","isRange","ref"],kCe=["key"],JY;function D0(n){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(n)}function ZY(n,e){if(n==null)return{};var t=LCe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function LCe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mp(){return Mp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mp.apply(this,arguments)}function OH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(t),!0).forEach(function(r){Yc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function FH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eJ(r.key),r)}}function UCe(n,e,t){return e&&FH(n.prototype,e),t&&FH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function zCe(n,e,t){return e=iA(e),HCe(n,QY()?Reflect.construct(e,t||[],iA(n).constructor):e.apply(n,t))}function HCe(n,e){if(e&&(D0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(n)}function GCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QY(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QY=function(){return!!n})()}function iA(n){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iA(n)}function VCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_O(n,e)}function _O(n,e){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_O(n,e)}function Yc(n,e,t){return e=eJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eJ(n){var e=WCe(n,"string");return D0(e)=="symbol"?e:e+""}function WCe(n,e){if(D0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var yu=(function(n){function e(){var t;jCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=zCe(this,e,[].concat(i)),Yc(t,"state",{isAnimationFinished:!0}),Yc(t,"id",mv("recharts-area-")),Yc(t,"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),rr(o)&&o()}),Yc(t,"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),rr(o)&&o()}),t}return VCe(e,n),UCe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,u=l.dot,d=l.points,c=l.dataKey,f=ur(this.props,!1),m=ur(u,!0),v=d.map(function(y,w){var A=Cf(Cf(Cf({key:"dot-".concat(w),r:3},f),m),{},{index:w,cx:y.x,cy:y.y,dataKey:c,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,A)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ue.createElement(ii,Mp({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=r*Math.abs(l-u),c=Ff(o.map(function(f){return f.y||0}));return Gt(s)&&typeof s=="number"?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(Ff(s.map(function(f){return f.y||0})),c)),Gt(c)?ue.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=r*Math.abs(l-u),c=Ff(o.map(function(f){return f.x||0}));return Gt(s)&&typeof s=="number"?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(Ff(s.map(function(f){return f.x||0})),c)),Gt(c)?ue.createElement("rect",{x:0,y:l<u?l:l-d,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,u=a.type,d=a.stroke,c=a.connectNulls,f=a.isRange;a.ref;var m=ZY(a,BCe);return ue.createElement(ii,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ue.createElement(o0,Mp({},ur(m,!0),{points:r,connectNulls:c,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ue.createElement(o0,Mp({},ur(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:r})),d!=="none"&&f&&ue.createElement(o0,Mp({},ur(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,c=o.animationDuration,f=o.animationEasing,m=o.animationId,v=this.state,b=v.prevPoints,y=v.prevBaseLine;return ue.createElement(lu,{begin:d,duration:c,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var A=w.t;if(b){var E=b.length/a.length,C=a.map(function(k,D){var I=Math.floor(D*E);if(b[I]){var L=b[I],W=Qs(L.x,k.x),q=Qs(L.y,k.y);return Cf(Cf({},k),{},{x:W(A),y:q(A)})}return k}),M;if(Gt(l)&&typeof l=="number"){var R=Qs(y,l);M=R(A)}else if(pr(l)||pv(l)){var O=Qs(y,0);M=O(A)}else M=l.map(function(k,D){var I=Math.floor(D*E);if(y[I]){var L=y[I],W=Qs(L.x,k.x),q=Qs(L.y,k.y);return Cf(Cf({},k),{},{x:W(A),y:q(A)})}return k});return s.renderAreaStatically(C,M,r,i)}return ue.createElement(ii,null,ue.createElement("defs",null,ue.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(A))),ue.createElement(ii,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,u=this.state,d=u.prevPoints,c=u.prevBaseLine,f=u.totalLength;return l&&o&&o.length&&(!d&&f>0||!A0(d,o)||!A0(c,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,u=i.top,d=i.left,c=i.xAxis,f=i.yAxis,m=i.width,v=i.height,b=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=a.length===1,E=yr("recharts-area",l),C=c&&c.allowDataOverflow,M=f&&f.allowDataOverflow,R=C||M,O=pr(y)?this.id:y,k=(r=ur(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=k.r,I=D===void 0?3:D,L=k.strokeWidth,W=L===void 0?2:L,q=dX(o)?o:{},K=q.clipDot,ne=K===void 0?!0:K,V=I*2+W;return ue.createElement(ii,{className:E},C||M?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(O)},ue.createElement("rect",{x:C?d:d-m/2,y:M?u:u-v/2,width:C?m:m*2,height:M?v:v*2})),!ne&&ue.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ue.createElement("rect",{x:d-V/2,y:u-V/2,width:m+V,height:v+V}))):null,A?null:this.renderArea(R,O),(o||A)&&this.renderDots(R,ne,O),(!b||w)&&md.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(B.PureComponent);JY=yu;Yc(yu,"displayName","Area");Yc(yu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!gm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Yc(yu,"getBaseValue",function(n,e,t,r){var i=n.layout,s=n.baseValue,o=e.props.baseValue,a=o??s;if(Gt(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:t,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return a==="dataMin"?c:a==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Yc(yu,"getComposedData",function(n){var e=n.props,t=n.item,r=n.xAxis,i=n.yAxis,s=n.xAxisTicks,o=n.yAxisTicks,a=n.bandSize,l=n.dataKey,u=n.stackedData,d=n.dataStartIndex,c=n.displayedData,f=n.offset,m=e.layout,v=u&&u.length,b=JY.getBaseValue(e,t,r,i),y=m==="horizontal",w=!1,A=c.map(function(C,M){var R;v?R=u[d+M]:(R=$o(C,l),Array.isArray(R)?w=!0:R=[b,R]);var O=R[1]==null||v&&$o(C,l)==null;return y?{x:BS({axis:r,ticks:s,bandSize:a,entry:C,index:M}),y:O?null:i.scale(R[1]),value:R,payload:C}:{x:O?null:r.scale(R[1]),y:BS({axis:i,ticks:o,bandSize:a,entry:C,index:M}),value:R,payload:C}}),E;return v||w?E=A.map(function(C){var M=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:M!=null&&C.y!=null?i.scale(M):null}:{x:M!=null?r.scale(M):null,y:C.y}}):E=y?i.scale(b):r.scale(b),Cf({points:A,baseLine:E,layout:m,isRange:w},f)});Yc(yu,"renderDotItem",function(n,e){var t;if(ue.isValidElement(n))t=ue.cloneElement(n,e);else if(rr(n))t=n(e);else{var r=yr("recharts-area-dot",typeof n!="boolean"?n.className:""),i=e.key,s=ZY(e,kCe);t=ue.createElement(aC,Mp({},s,{key:i,className:r}))}return t});function B0(n){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(n)}function $Ce(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qCe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rJ(r.key),r)}}function XCe(n,e,t){return e&&qCe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function KCe(n,e,t){return e=sA(e),YCe(n,tJ()?Reflect.construct(e,t||[],sA(n).constructor):e.apply(n,t))}function YCe(n,e){if(e&&(B0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(n)}function JCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!n})()}function sA(n){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sA(n)}function ZCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&wO(n,e)}function wO(n,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(n,e)}function nJ(n,e,t){return e=rJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rJ(n){var e=QCe(n,"string");return B0(e)=="symbol"?e:e+""}function QCe(n,e){if(B0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function SO(){return SO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SO.apply(this,arguments)}function eMe(n){var e=n.xAxisId,t=oB(),r=aB(),i=kY(e);return i==null?null:B.createElement(bv,SO({},i,{className:yr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:r},ticksGenerator:function(o){return ud(o,!0)}}))}var qi=(function(n){function e(){return $Ce(this,e),KCe(this,e,arguments)}return ZCe(e,n),XCe(e,[{key:"render",value:function(){return B.createElement(eMe,this.props)}}])})(B.Component);nJ(qi,"displayName","XAxis");nJ(qi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function k0(n){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(n)}function tMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,oJ(r.key),r)}}function rMe(n,e,t){return e&&nMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function iMe(n,e,t){return e=oA(e),sMe(n,iJ()?Reflect.construct(e,t||[],oA(n).constructor):e.apply(n,t))}function sMe(n,e){if(e&&(k0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oMe(n)}function oMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iJ=function(){return!!n})()}function oA(n){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oA(n)}function aMe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AO(n,e)}function AO(n,e){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AO(n,e)}function sJ(n,e,t){return e=oJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oJ(n){var e=lMe(n,"string");return k0(e)=="symbol"?e:e+""}function lMe(n,e){if(k0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function EO(){return EO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EO.apply(this,arguments)}var cMe=function(e){var t=e.yAxisId,r=oB(),i=aB(),s=LY(t);return s==null?null:B.createElement(bv,EO({},s,{className:yr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ud(a,!0)}}))},Xi=(function(n){function e(){return tMe(this,e),iMe(this,e,arguments)}return aMe(e,n),rMe(e,[{key:"render",value:function(){return B.createElement(cMe,this.props)}}])})(B.Component);sJ(Xi,"displayName","YAxis");sJ(Xi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DH(n){return hMe(n)||fMe(n)||dMe(n)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dMe(n,e){if(n){if(typeof n=="string")return CO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CO(n,e)}}function fMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function hMe(n){if(Array.isArray(n))return CO(n)}function CO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var MO=function(e,t,r,i,s){var o=yl(e,cB),a=yl(e,fC),l=[].concat(DH(o),DH(a)),u=yl(e,pC),d="".concat(i,"Id"),c=i[0],f=t;if(l.length&&(f=l.reduce(function(b,y){if(y.props[d]===r&&eu(y.props,"extendDomain")&&Gt(y.props[c])){var w=y.props[c];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},f)),u.length){var m="".concat(c,"1"),v="".concat(c,"2");f=u.reduce(function(b,y){if(y.props[d]===r&&eu(y.props,"extendDomain")&&Gt(y.props[m])&&Gt(y.props[v])){var w=y.props[m],A=y.props[v];return[Math.min(b[0],w,A),Math.max(b[1],w,A)]}return b},f)}return s&&s.length&&(f=s.reduce(function(b,y){return Gt(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},f)),f},rN={exports:{}},BH;function pMe(){return BH||(BH=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,c,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,c||l,f),v=t?t+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,c;if(this._eventsCount===0)return u;for(c in d=this._events)e.call(d,c)&&u.push(t?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=t?t+u:u,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,m=c.length,v=new Array(m);f<m;f++)v[f]=c[f].fn;return v},a.prototype.listenerCount=function(u){var d=t?t+u:u,c=this._events[d];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,d,c,f,m,v){var b=t?t+u:u;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,A,E;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,c),!0;case 4:return y.fn.call(y.context,d,c,f),!0;case 5:return y.fn.call(y.context,d,c,f,m),!0;case 6:return y.fn.call(y.context,d,c,f,m,v),!0}for(E=1,A=new Array(w-1);E<w;E++)A[E-1]=arguments[E];y.fn.apply(y.context,A)}else{var C=y.length,M;for(E=0;E<C;E++)switch(y[E].once&&this.removeListener(u,y[E].fn,void 0,!0),w){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,d);break;case 3:y[E].fn.call(y[E].context,d,c);break;case 4:y[E].fn.call(y[E].context,d,c,f);break;default:if(!A)for(M=1,A=new Array(w-1);M<w;M++)A[M-1]=arguments[M];y[E].fn.apply(y[E].context,A)}}return!0},a.prototype.on=function(u,d,c){return s(this,u,d,c,!1)},a.prototype.once=function(u,d,c){return s(this,u,d,c,!0)},a.prototype.removeListener=function(u,d,c,f){var m=t?t+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!f||v.once)&&(!c||v.context===c)&&o(this,m);else{for(var b=0,y=[],w=v.length;b<w;b++)(v[b].fn!==d||f&&!v[b].once||c&&v[b].context!==c)&&y.push(v[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(rN)),rN.exports}var mMe=pMe();const gMe=zr(mMe);var iN=new gMe,sN="recharts.syncMouseEvents";function db(n){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(n)}function vMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aJ(r.key),r)}}function xMe(n,e,t){return e&&yMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oN(n,e,t){return e=aJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aJ(n){var e=bMe(n,"string");return db(e)=="symbol"?e:e+""}function bMe(n,e){if(db(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var _Me=(function(){function n(){vMe(this,n),oN(this,"activeIndex",0),oN(this,"coordinateList",[]),oN(this,"layout","horizontal")}return xMe(n,[{key:"setDetails",value:function(t){var r,i=t.coordinateList,s=i===void 0?null:i,o=t.container,a=o===void 0?null:o,l=t.layout,u=l===void 0?null:l,d=t.offset,c=d===void 0?null:d,f=t.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((t=window)===null||t===void 0?void 0:t.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=s+l+u,f=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:c,pageY:f})}}}])})();function wMe(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var r=n?.[0],i=n?.[1];if(r&&i&&Gt(r)&&Gt(i))return!0}return!1}function SMe(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function lJ(n){var e=n.cx,t=n.cy,r=n.radius,i=n.startAngle,s=n.endAngle,o=eo(e,t,r,i),a=eo(e,t,r,s);return{points:[o,a],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function AMe(n,e,t){var r,i,s,o;if(n==="horizontal")r=e.x,s=r,i=t.top,o=t.top+t.height;else if(n==="vertical")i=e.y,o=i,r=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,c=e.angle,f=eo(a,l,u,c),m=eo(a,l,d,c);r=f.x,i=f.y,s=m.x,o=m.y}else return lJ(e);return[{x:r,y:i},{x:s,y:o}]}function fb(n){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(n)}function kH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function E1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(t),!0).forEach(function(r){EMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EMe(n,e,t){return e=CMe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CMe(n){var e=MMe(n,"string");return fb(e)=="symbol"?e:e+""}function MMe(n,e){if(fb(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TMe(n){var e,t,r=n.element,i=n.tooltipEventType,s=n.isActive,o=n.activeCoordinate,a=n.activePayload,l=n.offset,u=n.activeTooltipIndex,d=n.tooltipAxisBandSize,c=n.layout,f=n.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(t=r.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!r||!m||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,b=o0;if(f==="ScatterChart")v=o,b=gSe;else if(f==="BarChart")v=SMe(c,o,l,d),b=tB;else if(c==="radial"){var y=lJ(o),w=y.cx,A=y.cy,E=y.radius,C=y.startAngle,M=y.endAngle;v={cx:w,cy:A,startAngle:C,endAngle:M,innerRadius:E,outerRadius:E},b=hY}else v={points:AMe(c,o,l)},b=o0;var R=E1(E1(E1(E1({stroke:"#ccc",pointerEvents:"none"},l),v),ur(m,!1)),{},{payload:a,payloadIndex:u,className:yr("recharts-tooltip-cursor",m.className)});return B.isValidElement(m)?B.cloneElement(m,R):B.createElement(b,R)}var PMe=["item"],RMe=["children","className","width","height","style","compact","title","desc"];function L0(n){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(n)}function zg(){return zg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zg.apply(this,arguments)}function LH(n,e){return OMe(n)||IMe(n,e)||uJ(n,e)||NMe()}function NMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function OMe(n){if(Array.isArray(n))return n}function jH(n,e){if(n==null)return{};var t=FMe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function FMe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function DMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function BMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dJ(r.key),r)}}function kMe(n,e,t){return e&&BMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function LMe(n,e,t){return e=aA(e),jMe(n,cJ()?Reflect.construct(e,t||[],aA(n).constructor):e.apply(n,t))}function jMe(n,e){if(e&&(L0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UMe(n)}function UMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!n})()}function aA(n){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aA(n)}function zMe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&TO(n,e)}function TO(n,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TO(n,e)}function j0(n){return VMe(n)||GMe(n)||uJ(n)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(n,e){if(n){if(typeof n=="string")return PO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PO(n,e)}}function GMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function VMe(n){if(Array.isArray(n))return PO(n)}function PO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function UH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UH(Object(t),!0).forEach(function(r){Ln(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ln(n,e,t){return e=dJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dJ(n){var e=WMe(n,"string");return L0(e)=="symbol"?e:e+""}function WMe(n,e){if(L0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $Me={xAxis:["bottom","top"],yAxis:["left","right"]},qMe={width:"100%",height:"100%"},fJ={x:0,y:0};function C1(n){return n}var XMe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},KMe=function(e,t,r,i){var s=t.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return lt(lt(lt({},i),eo(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return lt(lt(lt({},i),eo(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return fJ},mC=function(e,t){var r=t.graphicalItems,i=t.dataStartIndex,s=t.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(j0(a),j0(u)):a},[]);return o.length>0?o:e&&e.length&&Gt(i)&&Gt(s)?e.slice(i,s+1):[]};function hJ(n){return n==="number"?[0,"auto"]:void 0}var RO=function(e,t,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=mC(t,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var d,c=(d=u.props.data)!==null&&d!==void 0?d:t;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=c===void 0?a:c;f=cS(m,o.dataKey,i)}else f=c&&c[r]||a[r];return f?[].concat(j0(l),[uY(u,f)]):l},[])},zH=function(e,t,r,i){var s=i||{x:e.chartX,y:e.chartY},o=XMe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Zbe(o,a,u,l);if(d>=0&&u){var c=u[d]&&u[d].value,f=RO(e,t,d,c),m=KMe(r,a,d,s);return{activeTooltipIndex:d,activeLabel:c,activePayload:f,activeCoordinate:m}}return null},YMe=function(e,t){var r=t.axes,i=t.graphicalItems,s=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,u=t.dataEndIndex,d=e.layout,c=e.children,f=e.stackOffset,m=aY(d,s);return r.reduce(function(v,b){var y,w=b.type.defaultProps!==void 0?lt(lt({},b.type.defaultProps),b.props):b.props,A=w.type,E=w.dataKey,C=w.allowDataOverflow,M=w.allowDuplicatedCategory,R=w.scale,O=w.ticks,k=w.includeHidden,D=w[o];if(v[D])return v;var I=mC(e.data,{graphicalItems:i.filter(function(ae){var we,Fe=o in ae.props?ae.props[o]:(we=ae.type.defaultProps)===null||we===void 0?void 0:we[o];return Fe===D}),dataStartIndex:l,dataEndIndex:u}),L=I.length,W,q,K;wMe(w.domain,C,A)&&(W=qI(w.domain,null,C),m&&(A==="number"||R!=="auto")&&(K=ix(I,E,"category")));var ne=hJ(A);if(!W||W.length===0){var V,ee=(V=w.domain)!==null&&V!==void 0?V:ne;if(E){if(W=ix(I,E,A),A==="category"&&m){var H=Vhe(W);M&&H?(q=W,W=qS(0,L)):M||(W=Y8(ee,W,b).reduce(function(ae,we){return ae.indexOf(we)>=0?ae:[].concat(j0(ae),[we])},[]))}else if(A==="category")M?W=W.filter(function(ae){return ae!==""&&!pr(ae)}):W=Y8(ee,W,b).reduce(function(ae,we){return ae.indexOf(we)>=0||we===""||pr(we)?ae:[].concat(j0(ae),[we])},[]);else if(A==="number"){var Z=r_e(I,i.filter(function(ae){var we,Fe,qe=o in ae.props?ae.props[o]:(we=ae.type.defaultProps)===null||we===void 0?void 0:we[o],fe="hide"in ae.props?ae.props.hide:(Fe=ae.type.defaultProps)===null||Fe===void 0?void 0:Fe.hide;return qe===D&&(k||!fe)}),E,s,d);Z&&(W=Z)}m&&(A==="number"||R!=="auto")&&(K=ix(I,E,"category"))}else m?W=qS(0,L):a&&a[D]&&a[D].hasStack&&A==="number"?W=f==="expand"?[0,1]:cY(a[D].stackGroups,l,u):W=oY(I,i.filter(function(ae){var we=o in ae.props?ae.props[o]:ae.type.defaultProps[o],Fe="hide"in ae.props?ae.props.hide:ae.type.defaultProps.hide;return we===D&&(k||!Fe)}),A,d,!0);if(A==="number")W=MO(c,W,D,s,O),ee&&(W=qI(ee,W,C));else if(A==="category"&&ee){var te=ee,Y=W.every(function(ae){return te.indexOf(ae)>=0});Y&&(W=te)}}return lt(lt({},v),{},Ln({},D,lt(lt({},w),{},{axisType:s,domain:W,categoricalDomain:K,duplicateDomain:q,originalDomain:(y=w.domain)!==null&&y!==void 0?y:ne,isCategorical:m,layout:d})))},{})},JMe=function(e,t){var r=t.graphicalItems,i=t.Axis,s=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,u=t.dataEndIndex,d=e.layout,c=e.children,f=mC(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=f.length,v=aY(d,s),b=-1;return r.reduce(function(y,w){var A=w.type.defaultProps!==void 0?lt(lt({},w.type.defaultProps),w.props):w.props,E=A[o],C=hJ("number");if(!y[E]){b++;var M;return v?M=qS(0,m):a&&a[E]&&a[E].hasStack?(M=cY(a[E].stackGroups,l,u),M=MO(c,M,E,s)):(M=qI(C,oY(f,r.filter(function(R){var O,k,D=o in R.props?R.props[o]:(O=R.type.defaultProps)===null||O===void 0?void 0:O[o],I="hide"in R.props?R.props.hide:(k=R.type.defaultProps)===null||k===void 0?void 0:k.hide;return D===E&&!I}),"number",d),i.defaultProps.allowDataOverflow),M=MO(c,M,E,s)),lt(lt({},y),{},Ln({},E,lt(lt({axisType:s},i.defaultProps),{},{hide:!0,orientation:vl($Me,"".concat(s,".").concat(b%2),null),domain:M,originalDomain:C,isCategorical:v,layout:d})))}return y},{})},ZMe=function(e,t){var r=t.axisType,i=r===void 0?"xAxis":r,s=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,l=t.dataStartIndex,u=t.dataEndIndex,d=e.children,c="".concat(i,"Id"),f=yl(d,s),m={};return f&&f.length?m=YMe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=JMe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},QMe=function(e){var t=Rf(e),r=ud(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MD(r,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:kS(t,r)}},HH=function(e){var t=e.children,r=e.defaultShowTooltip,i=Ia(t,T0),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},eTe=function(e){return!e||!e.length?!1:e.some(function(t){var r=fd(t&&t.type);return r&&r.indexOf("Bar")>=0})},GH=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tTe=function(e,t){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,d=r.height,c=r.children,f=r.margin||{},m=Ia(c,T0),v=Ia(c,uc),b=Object.keys(l).reduce(function(M,R){var O=l[R],k=O.orientation;return!O.mirror&&!O.hide?lt(lt({},M),{},Ln({},k,M[k]+O.width)):M},{left:f.left||0,right:f.right||0}),y=Object.keys(o).reduce(function(M,R){var O=o[R],k=O.orientation;return!O.mirror&&!O.hide?lt(lt({},M),{},Ln({},k,vl(M,"".concat(k))+O.height)):M},{top:f.top||0,bottom:f.bottom||0}),w=lt(lt({},y),b),A=w.bottom;m&&(w.bottom+=m.props.height||T0.defaultProps.height),v&&t&&(w=t_e(w,i,r,t));var E=u-w.left-w.right,C=d-w.top-w.bottom;return lt(lt({brushBottom:A},w),{},{width:Math.max(E,0),height:Math.max(C,0)})},nTe=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},fB=function(e){var t=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,c=e.defaultProps,f=function(w,A){var E=A.graphicalItems,C=A.stackGroups,M=A.offset,R=A.updateId,O=A.dataStartIndex,k=A.dataEndIndex,D=w.barSize,I=w.layout,L=w.barGap,W=w.barCategoryGap,q=w.maxBarSize,K=GH(I),ne=K.numericAxisName,V=K.cateAxisName,ee=eTe(E),H=[];return E.forEach(function(Z,te){var Y=mC(w.data,{graphicalItems:[Z],dataStartIndex:O,dataEndIndex:k}),ae=Z.type.defaultProps!==void 0?lt(lt({},Z.type.defaultProps),Z.props):Z.props,we=ae.dataKey,Fe=ae.maxBarSize,qe=ae["".concat(ne,"Id")],fe=ae["".concat(V,"Id")],xe={},Pe=l.reduce(function(Ct,Et){var ce=A["".concat(Et.axisType,"Map")],ie=ae["".concat(Et.axisType,"Id")];ce&&ce[ie]||Et.axisType==="zAxis"||im();var Ie=ce[ie];return lt(lt({},Ct),{},Ln(Ln({},Et.axisType,Ie),"".concat(Et.axisType,"Ticks"),ud(Ie)))},xe),Te=Pe[V],je=Pe["".concat(V,"Ticks")],rt=C&&C[qe]&&C[qe].hasStack&&m_e(Z,C[qe].stackGroups),Ue=fd(Z.type).indexOf("Bar")>=0,ot=kS(Te,je),De=[],le=ee&&Qbe({barSize:D,stackGroups:C,totalSize:nTe(Pe,V)});if(Ue){var et,at,xt=pr(Fe)?q:Fe,ct=(et=(at=kS(Te,je,!0))!==null&&at!==void 0?at:xt)!==null&&et!==void 0?et:0;De=e_e({barGap:L,barCategoryGap:W,bandSize:ct!==ot?ct:ot,sizeList:le[fe],maxBarSize:xt}),ct!==ot&&(De=De.map(function(Ct){return lt(lt({},Ct),{},{position:lt(lt({},Ct.position),{},{offset:Ct.position.offset-ct/2})})}))}var Ut=Z&&Z.type&&Z.type.getComposedData;Ut&&H.push({props:lt(lt({},Ut(lt(lt({},Pe),{},{displayedData:Y,props:w,dataKey:we,item:Z,bandSize:ot,barPosition:De,offset:M,stackedData:rt,layout:I,dataStartIndex:O,dataEndIndex:k}))),{},Ln(Ln(Ln({key:Z.key||"item-".concat(te)},ne,Pe[ne]),V,Pe[V]),"animationId",R)),childIndex:npe(Z,w.children),item:Z})}),H},m=function(w,A){var E=w.props,C=w.dataStartIndex,M=w.dataEndIndex,R=w.updateId;if(!d4({props:E}))return null;var O=E.children,k=E.layout,D=E.stackOffset,I=E.data,L=E.reverseStackOrder,W=GH(k),q=W.numericAxisName,K=W.cateAxisName,ne=yl(O,r),V=f_e(I,ne,"".concat(q,"Id"),"".concat(K,"Id"),D,L),ee=l.reduce(function(ae,we){var Fe="".concat(we.axisType,"Map");return lt(lt({},ae),{},Ln({},Fe,ZMe(E,lt(lt({},we),{},{graphicalItems:ne,stackGroups:we.axisType===q&&V,dataStartIndex:C,dataEndIndex:M}))))},{}),H=tTe(lt(lt({},ee),{},{props:E,graphicalItems:ne}),A?.legendBBox);Object.keys(ee).forEach(function(ae){ee[ae]=d(E,ee[ae],H,ae.replace("Map",""),t)});var Z=ee["".concat(K,"Map")],te=QMe(Z),Y=f(E,lt(lt({},ee),{},{dataStartIndex:C,dataEndIndex:M,updateId:R,graphicalItems:ne,stackGroups:V,offset:H}));return lt(lt({formattedGraphicalItems:Y,graphicalItems:ne,offset:H,stackGroups:V},te),ee)},v=(function(y){function w(A){var E,C,M;return DMe(this,w),M=LMe(this,w,[A]),Ln(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ln(M,"accessibilityManager",new _Me),Ln(M,"handleLegendBBoxUpdate",function(R){if(R){var O=M.state,k=O.dataStartIndex,D=O.dataEndIndex,I=O.updateId;M.setState(lt({legendBBox:R},m({props:M.props,dataStartIndex:k,dataEndIndex:D,updateId:I},lt(lt({},M.state),{},{legendBBox:R}))))}}),Ln(M,"handleReceiveSyncEvent",function(R,O,k){if(M.props.syncId===R){if(k===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(O)}}),Ln(M,"handleBrushChange",function(R){var O=R.startIndex,k=R.endIndex;if(O!==M.state.dataStartIndex||k!==M.state.dataEndIndex){var D=M.state.updateId;M.setState(function(){return lt({dataStartIndex:O,dataEndIndex:k},m({props:M.props,dataStartIndex:O,dataEndIndex:k,updateId:D},M.state))}),M.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),Ln(M,"handleMouseEnter",function(R){var O=M.getMouseInfo(R);if(O){var k=lt(lt({},O),{},{isTooltipActive:!0});M.setState(k),M.triggerSyncEvent(k);var D=M.props.onMouseEnter;rr(D)&&D(k,R)}}),Ln(M,"triggeredAfterMouseMove",function(R){var O=M.getMouseInfo(R),k=O?lt(lt({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState(k),M.triggerSyncEvent(k);var D=M.props.onMouseMove;rr(D)&&D(k,R)}),Ln(M,"handleItemMouseEnter",function(R){M.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),Ln(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),Ln(M,"handleMouseMove",function(R){R.persist(),M.throttleTriggeredAfterMouseMove(R)}),Ln(M,"handleMouseLeave",function(R){M.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};M.setState(O),M.triggerSyncEvent(O);var k=M.props.onMouseLeave;rr(k)&&k(O,R)}),Ln(M,"handleOuterEvent",function(R){var O=tpe(R),k=vl(M.props,"".concat(O));if(O&&rr(k)){var D,I;/.*touch.*/i.test(O)?I=M.getMouseInfo(R.changedTouches[0]):I=M.getMouseInfo(R),k((D=I)!==null&&D!==void 0?D:{},R)}}),Ln(M,"handleClick",function(R){var O=M.getMouseInfo(R);if(O){var k=lt(lt({},O),{},{isTooltipActive:!0});M.setState(k),M.triggerSyncEvent(k);var D=M.props.onClick;rr(D)&&D(k,R)}}),Ln(M,"handleMouseDown",function(R){var O=M.props.onMouseDown;if(rr(O)){var k=M.getMouseInfo(R);O(k,R)}}),Ln(M,"handleMouseUp",function(R){var O=M.props.onMouseUp;if(rr(O)){var k=M.getMouseInfo(R);O(k,R)}}),Ln(M,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),Ln(M,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&M.handleMouseDown(R.changedTouches[0])}),Ln(M,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&M.handleMouseUp(R.changedTouches[0])}),Ln(M,"handleDoubleClick",function(R){var O=M.props.onDoubleClick;if(rr(O)){var k=M.getMouseInfo(R);O(k,R)}}),Ln(M,"handleContextMenu",function(R){var O=M.props.onContextMenu;if(rr(O)){var k=M.getMouseInfo(R);O(k,R)}}),Ln(M,"triggerSyncEvent",function(R){M.props.syncId!==void 0&&iN.emit(sN,M.props.syncId,R,M.eventEmitterSymbol)}),Ln(M,"applySyncEvent",function(R){var O=M.props,k=O.layout,D=O.syncMethod,I=M.state.updateId,L=R.dataStartIndex,W=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)M.setState(lt({dataStartIndex:L,dataEndIndex:W},m({props:M.props,dataStartIndex:L,dataEndIndex:W,updateId:I},M.state)));else if(R.activeTooltipIndex!==void 0){var q=R.chartX,K=R.chartY,ne=R.activeTooltipIndex,V=M.state,ee=V.offset,H=V.tooltipTicks;if(!ee)return;if(typeof D=="function")ne=D(H,R);else if(D==="value"){ne=-1;for(var Z=0;Z<H.length;Z++)if(H[Z].value===R.activeLabel){ne=Z;break}}var te=lt(lt({},ee),{},{x:ee.left,y:ee.top}),Y=Math.min(q,te.x+te.width),ae=Math.min(K,te.y+te.height),we=H[ne]&&H[ne].value,Fe=RO(M.state,M.props.data,ne),qe=H[ne]?{x:k==="horizontal"?H[ne].coordinate:Y,y:k==="horizontal"?ae:H[ne].coordinate}:fJ;M.setState(lt(lt({},R),{},{activeLabel:we,activeCoordinate:qe,activePayload:Fe,activeTooltipIndex:ne}))}else M.setState(R)}),Ln(M,"renderCursor",function(R){var O,k=M.state,D=k.isTooltipActive,I=k.activeCoordinate,L=k.activePayload,W=k.offset,q=k.activeTooltipIndex,K=k.tooltipAxisBandSize,ne=M.getTooltipEventType(),V=(O=R.props.active)!==null&&O!==void 0?O:D,ee=M.props.layout,H=R.key||"_recharts-cursor";return ue.createElement(TMe,{key:H,activeCoordinate:I,activePayload:L,activeTooltipIndex:q,chartName:t,element:R,isActive:V,layout:ee,offset:W,tooltipAxisBandSize:K,tooltipEventType:ne})}),Ln(M,"renderPolarAxis",function(R,O,k){var D=vl(R,"type.axisType"),I=vl(M.state,"".concat(D,"Map")),L=R.type.defaultProps,W=L!==void 0?lt(lt({},L),R.props):R.props,q=I&&I[W["".concat(D,"Id")]];return B.cloneElement(R,lt(lt({},q),{},{className:yr(D,q.className),key:R.key||"".concat(O,"-").concat(k),ticks:ud(q,!0)}))}),Ln(M,"renderPolarGrid",function(R){var O=R.props,k=O.radialLines,D=O.polarAngles,I=O.polarRadius,L=M.state,W=L.radiusAxisMap,q=L.angleAxisMap,K=Rf(W),ne=Rf(q),V=ne.cx,ee=ne.cy,H=ne.innerRadius,Z=ne.outerRadius;return B.cloneElement(R,{polarAngles:Array.isArray(D)?D:ud(ne,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(I)?I:ud(K,!0).map(function(te){return te.coordinate}),cx:V,cy:ee,innerRadius:H,outerRadius:Z,key:R.key||"polar-grid",radialLines:k})}),Ln(M,"renderLegend",function(){var R=M.state.formattedGraphicalItems,O=M.props,k=O.children,D=O.width,I=O.height,L=M.props.margin||{},W=D-(L.left||0)-(L.right||0),q=iY({children:k,formattedGraphicalItems:R,legendWidth:W,legendContent:u});if(!q)return null;var K=q.item,ne=jH(q,PMe);return B.cloneElement(K,lt(lt({},ne),{},{chartWidth:D,chartHeight:I,margin:L,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),Ln(M,"renderTooltip",function(){var R,O=M.props,k=O.children,D=O.accessibilityLayer,I=Ia(k,ui);if(!I)return null;var L=M.state,W=L.isTooltipActive,q=L.activeCoordinate,K=L.activePayload,ne=L.activeLabel,V=L.offset,ee=(R=I.props.active)!==null&&R!==void 0?R:W;return B.cloneElement(I,{viewBox:lt(lt({},V),{},{x:V.left,y:V.top}),active:ee,label:ne,payload:ee?K:[],coordinate:q,accessibilityLayer:D})}),Ln(M,"renderBrush",function(R){var O=M.props,k=O.margin,D=O.data,I=M.state,L=I.offset,W=I.dataStartIndex,q=I.dataEndIndex,K=I.updateId;return B.cloneElement(R,{key:R.key||"_recharts-brush",onChange:_1(M.handleBrushChange,R.props.onChange),data:D,x:Gt(R.props.x)?R.props.x:L.left,y:Gt(R.props.y)?R.props.y:L.top+L.height+L.brushBottom-(k.bottom||0),width:Gt(R.props.width)?R.props.width:L.width,startIndex:W,endIndex:q,updateId:"brush-".concat(K)})}),Ln(M,"renderReferenceElement",function(R,O,k){if(!R)return null;var D=M,I=D.clipPathId,L=M.state,W=L.xAxisMap,q=L.yAxisMap,K=L.offset,ne=R.type.defaultProps||{},V=R.props,ee=V.xAxisId,H=ee===void 0?ne.xAxisId:ee,Z=V.yAxisId,te=Z===void 0?ne.yAxisId:Z;return B.cloneElement(R,{key:R.key||"".concat(O,"-").concat(k),xAxis:W[H],yAxis:q[te],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:I})}),Ln(M,"renderActivePoints",function(R){var O=R.item,k=R.activePoint,D=R.basePoint,I=R.childIndex,L=R.isRange,W=[],q=O.props.key,K=O.item.type.defaultProps!==void 0?lt(lt({},O.item.type.defaultProps),O.item.props):O.item.props,ne=K.activeDot,V=K.dataKey,ee=lt(lt({index:I,dataKey:V,cx:k.x,cy:k.y,r:4,fill:eB(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ur(ne,!1)),uS(ne));return W.push(w.renderActiveDot(ne,ee,"".concat(q,"-activePoint-").concat(I))),D?W.push(w.renderActiveDot(ne,lt(lt({},ee),{},{cx:D.x,cy:D.y}),"".concat(q,"-basePoint-").concat(I))):L&&W.push(null),W}),Ln(M,"renderGraphicChild",function(R,O,k){var D=M.filterFormatItem(R,O,k);if(!D)return null;var I=M.getTooltipEventType(),L=M.state,W=L.isTooltipActive,q=L.tooltipAxis,K=L.activeTooltipIndex,ne=L.activeLabel,V=M.props.children,ee=Ia(V,ui),H=D.props,Z=H.points,te=H.isRange,Y=H.baseLine,ae=D.item.type.defaultProps!==void 0?lt(lt({},D.item.type.defaultProps),D.item.props):D.item.props,we=ae.activeDot,Fe=ae.hide,qe=ae.activeBar,fe=ae.activeShape,xe=!!(!Fe&&W&&ee&&(we||qe||fe)),Pe={};I!=="axis"&&ee&&ee.props.trigger==="click"?Pe={onClick:_1(M.handleItemMouseEnter,R.props.onClick)}:I!=="axis"&&(Pe={onMouseLeave:_1(M.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:_1(M.handleItemMouseEnter,R.props.onMouseEnter)});var Te=B.cloneElement(R,lt(lt({},D.props),Pe));function je(Et){return typeof q.dataKey=="function"?q.dataKey(Et.payload):null}if(xe)if(K>=0){var rt,Ue;if(q.dataKey&&!q.allowDuplicatedCategory){var ot=typeof q.dataKey=="function"?je:"payload.".concat(q.dataKey.toString());rt=cS(Z,ot,ne),Ue=te&&Y&&cS(Y,ot,ne)}else rt=Z?.[K],Ue=te&&Y&&Y[K];if(fe||qe){var De=R.props.activeIndex!==void 0?R.props.activeIndex:K;return[B.cloneElement(R,lt(lt(lt({},D.props),Pe),{},{activeIndex:De})),null,null]}if(!pr(rt))return[Te].concat(j0(M.renderActivePoints({item:D,activePoint:rt,basePoint:Ue,childIndex:K,isRange:te})))}else{var le,et=(le=M.getItemByXY(M.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:Te},at=et.graphicalItem,xt=at.item,ct=xt===void 0?R:xt,Ut=at.childIndex,Ct=lt(lt(lt({},D.props),Pe),{},{activeIndex:Ut});return[B.cloneElement(ct,Ct),null,null]}return te?[Te,null,null]:[Te,null]}),Ln(M,"renderCustomized",function(R,O,k){return B.cloneElement(R,lt(lt({key:"recharts-customized-".concat(k)},M.props),M.state))}),Ln(M,"renderMap",{CartesianGrid:{handler:C1,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:C1},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:C1},YAxis:{handler:C1},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((E=A.id)!==null&&E!==void 0?E:mv("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=iK(M.triggeredAfterMouseMove,(C=A.throttleDelay)!==null&&C!==void 0?C:1e3/60),M.state={},M}return zMe(w,y),kMe(w,[{key:"componentDidMount",value:function(){var E,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,C=E.children,M=E.data,R=E.height,O=E.layout,k=Ia(C,ui);if(k){var D=k.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,L=RO(this.state,M,D,I),W=this.state.tooltipTicks[D].coordinate,q=(this.state.offset.top+R)/2,K=O==="horizontal",ne=K?{x:W,y:q}:{y:W,x:q},V=this.state.formattedGraphicalItems.find(function(H){var Z=H.item;return Z.type.name==="Scatter"});V&&(ne=lt(lt({},ne),V.props.points[D].tooltipPosition),L=V.props.points[D].tooltipPayload);var ee={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:I,activePayload:L,activeCoordinate:ne};this.setState(ee),this.renderCursor(k),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var M,R;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(E){mI([Ia(E.children,ui)],[Ia(this.props.children,ui)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Ia(this.props.children,ui);if(E&&typeof E.props.shared=="boolean"){var C=E.props.shared?"axis":"item";return a.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var C=this.container,M=C.getBoundingClientRect(),R=H0e(M),O={chartX:Math.round(E.pageX-R.left),chartY:Math.round(E.pageY-R.top)},k=M.width/C.offsetWidth||1,D=this.inRange(O.chartX,O.chartY,k);if(!D)return null;var I=this.state,L=I.xAxisMap,W=I.yAxisMap,q=this.getTooltipEventType(),K=zH(this.state,this.props.data,this.props.layout,D);if(q!=="axis"&&L&&W){var ne=Rf(L).scale,V=Rf(W).scale,ee=ne&&ne.invert?ne.invert(O.chartX):null,H=V&&V.invert?V.invert(O.chartY):null;return lt(lt({},O),{},{xValue:ee,yValue:H},K)}return K?lt(lt({},O),K):null}},{key:"inRange",value:function(E,C){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,O=E/M,k=C/M;if(R==="horizontal"||R==="vertical"){var D=this.state.offset,I=O>=D.left&&O<=D.left+D.width&&k>=D.top&&k<=D.top+D.height;return I?{x:O,y:k}:null}var L=this.state,W=L.angleAxisMap,q=L.radiusAxisMap;if(W&&q){var K=Rf(W);return Q8({x:O,y:k},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,C=this.getTooltipEventType(),M=Ia(E,ui),R={};M&&C==="axis"&&(M.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=uS(this.props,this.handleOuterEvent);return lt(lt({},O),R)}},{key:"addListener",value:function(){iN.on(sN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iN.removeListener(sN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,C,M){for(var R=this.state.formattedGraphicalItems,O=0,k=R.length;O<k;O++){var D=R[O];if(D.item===E||D.props.key===E.key||C===fd(D.item.type)&&M===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,C=this.state.offset,M=C.left,R=C.top,O=C.height,k=C.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:E},ue.createElement("rect",{x:M,y:R,height:O,width:k})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(C,M){var R=LH(M,2),O=R[0],k=R[1];return lt(lt({},C),{},Ln({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(C,M){var R=LH(M,2),O=R[0],k=R[1];return lt(lt({},C),{},Ln({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(E){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(E){var C=this.state,M=C.formattedGraphicalItems,R=C.activeItem;if(M&&M.length)for(var O=0,k=M.length;O<k;O++){var D=M[O],I=D.props,L=D.item,W=L.type.defaultProps!==void 0?lt(lt({},L.type.defaultProps),L.props):L.props,q=fd(L.type);if(q==="Bar"){var K=(I.data||[]).find(function(H){return oSe(E,H)});if(K)return{graphicalItem:D,payload:K}}else if(q==="RadialBar"){var ne=(I.data||[]).find(function(H){return Q8(E,H)});if(ne)return{graphicalItem:D,payload:ne}}else if(lC(D,R)||cC(D,R)||ob(D,R)){var V=YSe({graphicalItem:D,activeTooltipItem:R,itemData:W.data}),ee=W.activeIndex===void 0?V:W.activeIndex;return{graphicalItem:lt(lt({},D),{},{childIndex:ee}),payload:ob(D,R)?W.data[V]:D.props.data[V]}}}return null}},{key:"render",value:function(){var E=this;if(!d4(this))return null;var C=this.props,M=C.children,R=C.className,O=C.width,k=C.height,D=C.style,I=C.compact,L=C.title,W=C.desc,q=jH(C,RMe),K=ur(q,!1);if(I)return ue.createElement(vH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(vI,zg({},K,{width:O,height:k,title:L,desc:W}),this.renderClipPath(),h4(M,this.renderMap)));if(this.props.accessibilityLayer){var ne,V;K.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,K.role=(V=this.props.role)!==null&&V!==void 0?V:"application",K.onKeyDown=function(H){E.accessibilityManager.keyboardEvent(H)},K.onFocus=function(){E.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return ue.createElement(vH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",zg({className:yr("recharts-wrapper",R),style:lt({position:"relative",cursor:"default",width:O,height:k},D)},ee,{ref:function(Z){E.container=Z}}),ue.createElement(vI,zg({},K,{width:O,height:k,title:L,desc:W,style:qMe}),this.renderClipPath(),h4(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(B.Component);Ln(v,"displayName",t),Ln(v,"defaultProps",lt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),Ln(v,"getDerivedStateFromProps",function(y,w){var A=y.dataKey,E=y.data,C=y.children,M=y.width,R=y.height,O=y.layout,k=y.stackOffset,D=y.margin,I=w.dataStartIndex,L=w.dataEndIndex;if(w.updateId===void 0){var W=HH(y);return lt(lt(lt({},W),{},{updateId:0},m(lt(lt({props:y},W),{},{updateId:0}),w)),{},{prevDataKey:A,prevData:E,prevWidth:M,prevHeight:R,prevLayout:O,prevStackOffset:k,prevMargin:D,prevChildren:C})}if(A!==w.prevDataKey||E!==w.prevData||M!==w.prevWidth||R!==w.prevHeight||O!==w.prevLayout||k!==w.prevStackOffset||!r0(D,w.prevMargin)){var q=HH(y),K={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},ne=lt(lt({},zH(w,E,O)),{},{updateId:w.updateId+1}),V=lt(lt(lt({},q),K),ne);return lt(lt(lt({},V),m(lt({props:y},V),w)),{},{prevDataKey:A,prevData:E,prevWidth:M,prevHeight:R,prevLayout:O,prevStackOffset:k,prevMargin:D,prevChildren:C})}if(!mI(C,w.prevChildren)){var ee,H,Z,te,Y=Ia(C,T0),ae=Y&&(ee=(H=Y.props)===null||H===void 0?void 0:H.startIndex)!==null&&ee!==void 0?ee:I,we=Y&&(Z=(te=Y.props)===null||te===void 0?void 0:te.endIndex)!==null&&Z!==void 0?Z:L,Fe=ae!==I||we!==L,qe=!pr(E),fe=qe&&!Fe?w.updateId:w.updateId+1;return lt(lt({updateId:fe},m(lt(lt({props:y},w),{},{updateId:fe,dataStartIndex:ae,dataEndIndex:we}),w)),{},{prevChildren:C,dataStartIndex:ae,dataEndIndex:we})}return null}),Ln(v,"renderActiveDot",function(y,w,A){var E;return B.isValidElement(y)?E=B.cloneElement(y,w):rr(y)?E=y(w):E=ue.createElement(aC,w),ue.createElement(ii,{className:"recharts-active-dot",key:A},E)});var b=B.forwardRef(function(w,A){return ue.createElement(v,zg({},w,{ref:A}))});return b.displayName=v.displayName,b},cu=fB({chartName:"LineChart",GraphicalChild:As,axisComponents:[{axisType:"xAxis",AxisComp:qi},{axisType:"yAxis",AxisComp:Xi}],formatAxisMap:nB}),gC=fB({chartName:"BarChart",GraphicalChild:vu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qi},{axisType:"yAxis",AxisComp:Xi}],formatAxisMap:nB}),hB=fB({chartName:"AreaChart",GraphicalChild:yu,axisComponents:[{axisType:"xAxis",AxisComp:qi},{axisType:"yAxis",AxisComp:Xi}],formatAxisMap:nB});const rTe=[{date:"Oct 25",adherence:85,performance:78},{date:"Oct 26",adherence:88,performance:82},{date:"Oct 27",adherence:92,performance:85},{date:"Oct 28",adherence:87,performance:88},{date:"Oct 29",adherence:95,performance:91},{date:"Oct 30",adherence:91,performance:89},{date:"Oct 31",adherence:94,performance:93},{date:"Nov 1",adherence:96,performance:95}],iTe=[{date:"Oct 19",pain:7},{date:"Oct 21",pain:6.5},{date:"Oct 23",pain:6},{date:"Oct 25",pain:5.5},{date:"Oct 27",pain:5},{date:"Oct 29",pain:4},{date:"Oct 31",pain:3.5},{date:"Nov 1",pain:3}],sTe=[{week:"Week 1",xp:120},{week:"Week 2",xp:180},{week:"Week 3",xp:240},{week:"Week 4",xp:320}],oTe=[{name:"Shoulder Rotation",sets:3,reps:10,completed:!1},{name:"Neck Mobility",sets:2,reps:8,completed:!0},{name:"Upper Back Stretch",sets:2,reps:12,completed:!1}];function aTe(){return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Hi Rose , ready to recover today?"}),p.jsx("p",{className:"text-gray-600",children:"Let's continue your shoulder rehabilitation journey"})]}),p.jsxs(hr,{className:"bg-gradient-to-r from-[#4DD2C1] to-[#2C2E6F] text-white px-4 py-2",children:[p.jsx(Sx,{className:"w-4 h-4 mr-2"}),"Level 4: Resilience Builder"]})]}),p.jsx(Ot,{className:"border-0 bg-gradient-to-r from-[#2C2E6F] to-[#4a4f9e] shadow-xl shadow-[#2C2E6F]/20",children:p.jsx(Ft,{className:"p-6",children:p.jsx("p",{className:"text-white text-center text-lg",children:'"Small steps today, stronger tomorrow "'})})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(Ot,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Ft,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#E9E6F9] rounded-xl flex items-center justify-center",children:p.jsx(pm,{className:"w-6 h-6 text-[#2C2E6F]"})}),p.jsx(ma,{className:"w-4 h-4 text-green-500"})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Exercise Adherence"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"96%"}),p.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+8% this week"})]})}),p.jsx(Ot,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Ft,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#4DD2C1] to-[#3bc1b0] rounded-xl flex items-center justify-center",children:p.jsx(Ex,{className:"w-6 h-6 text-white"})}),p.jsx(ma,{className:"w-4 h-4 text-green-500"})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Performance Score"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"95%"}),p.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Excellent form!"})]})}),p.jsx(Ot,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Ft,{className:"p-6",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF8A73] to-[#ff7a5c] rounded-xl flex items-center justify-center",children:p.jsx(jF,{className:"w-6 h-6 text-white"})})}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completion Rate"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"94%"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"28 of 30 sessions"})]})}),p.jsx(Ot,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:p.jsxs(Ft,{className:"p-6",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-500 rounded-xl flex items-center justify-center",children:p.jsx(yE,{className:"w-6 h-6 text-white"})})}),p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Streak Days"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"12 "}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Keep it going!"})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Exercise Adherence & Performance"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:250,children:p.jsxs(cu,{data:rTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(ui,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#2C2E6F",strokeWidth:3,name:"Adherence (%)",dot:{fill:"#2C2E6F",r:4}}),p.jsx(As,{type:"monotone",dataKey:"performance",stroke:"#4DD2C1",strokeWidth:3,name:"Performance (%)",dot:{fill:"#4DD2C1",r:4}})]})})})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Pain Trend (14 Days)"})}),p.jsxs(Ft,{children:[p.jsx(to,{width:"100%",height:250,children:p.jsxs(hB,{data:iTe,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#FF8A73",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#FF8A73",stopOpacity:0})]})}),p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"},domain:[0,10]}),p.jsx(ui,{}),p.jsx(yu,{type:"monotone",dataKey:"pain",stroke:"#FF8A73",strokeWidth:3,fill:"url(#painGradient)",name:"Pain Level"})]})}),p.jsxs("div",{className:"mt-4 flex items-center justify-between px-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Starting Pain"}),p.jsx("p",{className:"text-[#FF8A73]",children:"7/10"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Current Pain"}),p.jsx("p",{className:"text-green-600",children:"3/10"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Improvement"}),p.jsx("p",{className:"text-green-600",children:"-57%"})]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"XP Level Progress"})}),p.jsxs(Ft,{children:[p.jsx(to,{width:"100%",height:250,children:p.jsxs(gC,{data:sTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"week",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(ui,{}),p.jsx(vu,{dataKey:"xp",fill:"#2C2E6F",radius:[8,8,0,0]})]})}),p.jsxs("div",{className:"mt-4 space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Level 4 Progress"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"320 / 500 XP"})]}),p.jsx(em,{value:64,className:"h-2"}),p.jsx("p",{className:"text-xs text-gray-500",children:"180 XP until Level 5: Champion"})]})]})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Today's Exercise Plan"})}),p.jsxs(Ft,{className:"space-y-3",children:[oTe.map((n,e)=>p.jsx("div",{className:"p-4 rounded-xl border border-gray-200 hover:border-[#2C2E6F] transition-colors",children:p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[n.completed?p.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):p.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"}),p.jsxs("div",{children:[p.jsx("h4",{className:n.completed?"text-gray-400 line-through":"text-[#2C2E6F]",children:n.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:[n.sets," sets  ",n.reps," reps"]})]})]}),!n.completed&&p.jsxs(Lt,{size:"sm",className:"bg-[#4DD2C1] hover:bg-[#3bc1b0] text-white",children:[p.jsx(n$,{className:"w-4 h-4 mr-1"}),"Start"]})]})},e)),p.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Daily Progress"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"1 of 3 complete"})]}),p.jsx(em,{value:33,className:"h-2"})]})]})]})]}),p.jsx(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Ft,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-600 mb-1",children:"AI Predicted Recovery Date"}),p.jsx("h2",{className:"text-[#2C2E6F]",children:"December 15, 2025"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Based on your current progress, you're ahead of schedule! "})]}),p.jsx("div",{className:"text-right",children:p.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-2xl text-[#2C2E6F]",children:"44"}),p.jsx("p",{className:"text-xs text-gray-600",children:"days"})]})})})]})})})]})}const M1="exercise_progress",Bf={getExercises(){const n=[{id:"ex-001",name:"Shoulder Rotation",sets:"3",reps:"10",difficulty:"Intermediate",tags:["Shoulder","Mobility"],description:"Improve shoulder range of motion and rotator cuff strength",instructions:["Stand with feet shoulder-width apart, arms at your sides","Raise your arms to shoulder height, keeping elbows bent at 90","Slowly rotate your shoulders forward, then backward","Maintain controlled movement throughout the exercise"],progress:67,completedSessions:2,totalSessions:3},{id:"ex-002",name:"Pec Stretch",sets:"3",reps:"30s",difficulty:"Beginner",tags:["Shoulder","Chest","Posture"],description:"Open chest and improve rounded shoulder posture",instructions:["Stand in a doorway with your arm raised to 90 degrees","Place your forearm against the door frame","Gently lean forward until you feel a stretch in your chest","Hold for 30 seconds and breathe deeply"],progress:100,completedSessions:3,totalSessions:3},{id:"ex-003",name:"Neck Retraction",sets:"3",reps:"10",difficulty:"Beginner",tags:["Neck","Posture"],description:"Improve cervical alignment and reduce neck strain",instructions:["Sit or stand with good posture, looking straight ahead","Gently draw your chin straight back, creating a double chin","Hold for 5 seconds, keeping your eyes level","Return to starting position and repeat"],progress:33,completedSessions:1,totalSessions:3},{id:"ex-004",name:"Scapular Squeeze",sets:"3",reps:"15",difficulty:"Intermediate",tags:["Shoulder","Back","Strength"],description:"Strengthen upper back muscles for better posture",instructions:["Sit or stand with arms at your sides","Squeeze your shoulder blades together","Hold for 3 seconds while keeping shoulders down","Release slowly and repeat"],progress:0,completedSessions:0,totalSessions:5},{id:"ex-005",name:"Wall Push-Up",sets:"2",reps:"12",difficulty:"Beginner",tags:["Shoulder","Chest","Strength"],description:"Build shoulder and chest strength with controlled movement",instructions:["Stand facing a wall, arms length away","Place hands on wall at shoulder height","Lower your body towards the wall, keeping core engaged","Push back to starting position"],progress:50,completedSessions:1,totalSessions:2},{id:"ex-006",name:"Upper Back Stretch",sets:"2",reps:"30s",difficulty:"Beginner",tags:["Back","Posture","Mobility"],description:"Relieve tension in upper back and shoulders",instructions:["Stand with feet shoulder-width apart","Interlace fingers behind your head","Gently pull elbows back to stretch upper back","Hold for 30 seconds and breathe deeply"],progress:67,completedSessions:2,totalSessions:3}];try{const e=localStorage.getItem(M1);if(e){const t=JSON.parse(e);return n.map(r=>{const i=t[r.id];if(i){const s=i.completedSessions,o=Math.min(100,Math.round(s/r.totalSessions*100));return{...r,completedSessions:s,progress:o}}return{...r,completedSessions:0,progress:0}})}}catch{}return n.map(e=>({...e,completedSessions:0,progress:0}))},completeSession(n){try{const t=[{id:"ex-001",name:"Shoulder Rotation",sets:"3",reps:"10",difficulty:"Intermediate",tags:["Shoulder","Mobility"],description:"Improve shoulder range of motion and rotator cuff strength",instructions:["Stand with feet shoulder-width apart, arms at your sides","Raise your arms to shoulder height, keeping elbows bent at 90","Slowly rotate your shoulders forward, then backward","Maintain controlled movement throughout the exercise"],progress:67,completedSessions:2,totalSessions:3},{id:"ex-002",name:"Pec Stretch",sets:"3",reps:"30s",difficulty:"Beginner",tags:["Shoulder","Chest","Posture"],description:"Open chest and improve rounded shoulder posture",instructions:["Stand in a doorway with your arm raised to 90 degrees","Place your forearm against the door frame","Gently lean forward until you feel a stretch in your chest","Hold for 30 seconds and breathe deeply"],progress:100,completedSessions:3,totalSessions:3},{id:"ex-003",name:"Neck Retraction",sets:"3",reps:"10",difficulty:"Beginner",tags:["Neck","Posture"],description:"Improve cervical alignment and reduce neck strain",instructions:["Sit or stand with good posture, looking straight ahead","Gently draw your chin straight back, creating a double chin","Hold for 5 seconds, keeping your eyes level","Return to starting position and repeat"],progress:33,completedSessions:1,totalSessions:3},{id:"ex-004",name:"Scapular Squeeze",sets:"3",reps:"15",difficulty:"Intermediate",tags:["Shoulder","Back","Strength"],description:"Strengthen upper back muscles for better posture",instructions:["Sit or stand with arms at your sides","Squeeze your shoulder blades together","Hold for 3 seconds while keeping shoulders down","Release slowly and repeat"],progress:0,completedSessions:0,totalSessions:5},{id:"ex-005",name:"Wall Push-Up",sets:"2",reps:"12",difficulty:"Beginner",tags:["Shoulder","Chest","Strength"],description:"Build shoulder and chest strength with controlled movement",instructions:["Stand facing a wall, arms length away","Place hands on wall at shoulder height","Lower your body towards the wall, keeping core engaged","Push back to starting position"],progress:50,completedSessions:1,totalSessions:2},{id:"ex-006",name:"Upper Back Stretch",sets:"2",reps:"30s",difficulty:"Beginner",tags:["Back","Posture","Mobility"],description:"Relieve tension in upper back and shoulders",instructions:["Stand with feet shoulder-width apart","Interlace fingers behind your head","Gently pull elbows back to stretch upper back","Hold for 30 seconds and breathe deeply"],progress:67,completedSessions:2,totalSessions:3}].find(c=>c.id===n);if(!t)return null;const r=localStorage.getItem(M1),i=r?JSON.parse(r):{},s=i[n]?.completedSessions,o=s!==void 0?s:0,a=Math.min(o+1,t.totalSessions);if(a===o&&o>=t.totalSessions)return{id:t.id,name:t.name,sets:t.sets,reps:t.reps,difficulty:t.difficulty,tags:t.tags,description:t.description,instructions:t.instructions,completedSessions:o,totalSessions:t.totalSessions,progress:100};const l=Math.min(100,Math.round(a/t.totalSessions*100));i[n]={completedSessions:a},localStorage.setItem(M1,JSON.stringify(i));const u=localStorage.getItem(M1);if(u){const f=JSON.parse(u)[n]?.completedSessions}return{id:t.id,name:t.name,sets:t.sets,reps:t.reps,difficulty:t.difficulty,tags:t.tags,description:t.description,instructions:t.instructions,completedSessions:a,totalSessions:t.totalSessions,progress:l}}catch{return null}},getExerciseById(n){return this.getExercises().find(t=>t.id===n)||null}},VH=[{day:"Mon",mood:3},{day:"Tue",mood:2},{day:"Wed",mood:3},{day:"Thu",mood:2},{day:"Fri",mood:3},{day:"Sat",mood:3},{day:"Sun",mood:0}];function lTe(){const[n,e]=B.useState(null),[t,r]=B.useState(!1),i=a=>{e(a);const u=VH.slice(-3).map(d=>d.mood).filter(d=>d===1).length>=2;a===1&&u&&setTimeout(()=>r(!0),500)},s=[{value:3,emoji:"",label:"Good",color:"bg-[#3ECF8E]",hoverColor:"hover:bg-[#3ECF8E]/20"},{value:2,emoji:"",label:"Okay",color:"bg-[#6F66FF]",hoverColor:"hover:bg-[#6F66FF]/20"},{value:1,emoji:"",label:"Tired",color:"bg-[#F87171]",hoverColor:"hover:bg-[#F87171]/20"}],o=VH.filter(a=>a.mood>0);return p.jsxs(p.Fragment,{children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(ln,{className:"pb-3",children:[p.jsx(un,{className:"text-lg flex items-center gap-2",children:" Mood & Energy Check-In"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"How are you feeling today?"})]}),p.jsxs(Ft,{children:[p.jsx("div",{className:"flex gap-3 mb-4",children:s.map(a=>p.jsxs("button",{onClick:()=>i(a.value),className:`flex-1 rounded-xl p-4 border-2 transition-all ${n===a.value?`${a.color} border-transparent text-white`:`border-[#1B1E3D]/10 ${a.hoverColor}`}`,children:[p.jsx("div",{className:"text-3xl mb-1",children:a.emoji}),p.jsx("div",{className:"text-sm",children:a.label})]},a.value))}),p.jsxs("div",{className:"pt-3 border-t border-[#1B1E3D]/10",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{className:"text-xs text-[#1B1E3D]/60",children:"Mood Trend (7 days)"}),p.jsxs(DE,{children:[p.jsx(Vfe,{asChild:!0,children:p.jsxs("button",{className:"text-xs text-[#6F66FF] hover:underline flex items-center gap-1",children:["View Insights",p.jsx(ma,{size:12})]})}),p.jsxs(BE,{className:"max-w-2xl",children:[p.jsxs(kE,{children:[p.jsx(LE,{children:"Mood & Energy Insights"}),p.jsx(jE,{children:"Track your mood trends over time to understand patterns in your recovery journey."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(to,{width:"100%",height:200,children:p.jsxs(cu,{data:o,children:[p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{domain:[0,3],ticks:[1,2,3],stroke:"#1B1E3D",opacity:.6}),p.jsx(ui,{}),p.jsx(As,{type:"monotone",dataKey:"mood",stroke:"#6F66FF",strokeWidth:3,dot:{fill:"#6F66FF",r:5}})]})}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-[#3ECF8E]/10 rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl mb-1",children:o.filter(a=>a.mood===3).length}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Good Days"})]}),p.jsxs("div",{className:"bg-[#6F66FF]/10 rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl mb-1",children:o.filter(a=>a.mood===2).length}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Okay Days"})]}),p.jsxs("div",{className:"bg-[#F87171]/10 rounded-xl p-4",children:[p.jsx("p",{className:"text-2xl mb-1",children:o.filter(a=>a.mood===1).length}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Tired Days"})]})]}),p.jsx("div",{className:"bg-[#F9F9FB] rounded-xl p-4 border border-[#1B1E3D]/10",children:p.jsxs("p",{className:"text-sm text-[#1B1E3D]/70",children:[p.jsx("span",{className:"text-[#6F66FF]",children:"AI Insight:"})," Your mood has been consistently positive this week! This correlates with your high adherence rate. Keep up the great work! "]})})]})]})]})]}),p.jsx(to,{width:"100%",height:60,children:p.jsx(cu,{data:o,children:p.jsx(As,{type:"monotone",dataKey:"mood",stroke:"#6F66FF",strokeWidth:2,dot:!1})})})]})]})]}),t&&p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsx(Ot,{className:"rounded-2xl shadow-2xl max-w-md mx-4 border-2 border-[#6F66FF]",children:p.jsx(Ft,{className:"pt-6 pb-6",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] mx-auto mb-4 flex items-center justify-center text-3xl",children:""}),p.jsx("h3",{className:"text-xl mb-3",children:"We're here for you"}),p.jsx("p",{className:"text-[#1B1E3D]/70 mb-6",children:"We noticed you've been feeling tired lately. Recovery isn't always linear, and that's okay. Remember why you started this journey. You're doing better than you think! "}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-[#F9F9FB] rounded-xl hover:bg-[#6F66FF]/10 transition-colors",children:"Thanks"}),p.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] text-white rounded-xl hover:opacity-90 transition-opacity",children:"Read My Letter"})]})]})})})})]})}function cTe(){const[n,e]=B.useState(!1),[t,r]=B.useState([{id:"1",time:"10:00 AM",exercise:"Neck Retractions",details:"310 reps",status:"done"},{id:"2",time:"02:00 PM",exercise:"Shoulder Rotation",details:"310 reps",status:"pending"},{id:"3",time:"06:00 PM",exercise:"Pec Stretch",details:"330s",status:"pending"}]),i=(a,l)=>{r(t.map(u=>u.id===a?{...u,status:l}:u))},s=a=>{switch(a){case"done":return p.jsx(Ax,{className:"text-[#3ECF8E]",size:16});case"skipped":return p.jsx(Oae,{className:"text-[#F87171]",size:16});case"rescheduled":return p.jsx(Tj,{className:"text-[#6F66FF]",size:16});default:return p.jsx(tx,{className:"text-[#1B1E3D]/40",size:16})}},o=a=>{switch(a){case"done":return p.jsx(hr,{className:"bg-[#3ECF8E] text-white text-xs",children:"Done"});case"skipped":return p.jsx(hr,{className:"bg-[#F87171] text-white text-xs",children:"Skipped"});case"rescheduled":return p.jsx(hr,{className:"bg-[#6F66FF] text-white text-xs",children:"Rescheduled"});default:return p.jsx(hr,{variant:"outline",className:"text-xs",children:"Pending"})}};return n?p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(un,{className:"text-lg flex items-center gap-2",children:" Today's Schedule"}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:[p.jsxs("span",{className:"inline-flex items-center gap-1",children:[p.jsx(Cj,{size:12,className:"text-[#3ECF8E]"}),p.jsx("span",{className:"text-[#3ECF8E]",children:"Connected"})]}),"  3 exercises planned"]})]}),p.jsx(Lt,{variant:"outline",size:"sm",className:"rounded-lg",children:"Manage"})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"space-y-3",children:t.map(a=>p.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${a.status==="done"?"bg-[#3ECF8E]/5 border-[#3ECF8E]/20":a.status==="skipped"?"bg-[#F87171]/5 border-[#F87171]/20":a.status==="rescheduled"?"bg-[#6F66FF]/5 border-[#6F66FF]/20":"bg-white border-[#1B1E3D]/10"}`,children:[p.jsx("div",{className:"flex-shrink-0",children:s(a.status)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("p",{className:"text-sm",children:a.exercise}),o(a.status)]}),p.jsxs("p",{className:"text-xs text-[#1B1E3D]/60",children:[a.time,"  ",a.details]})]}),a.status==="pending"&&p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>i(a.id,"done"),className:"p-1.5 rounded-lg hover:bg-[#3ECF8E]/10 transition-colors",title:"Mark as done",children:p.jsx(Ax,{className:"text-[#3ECF8E]",size:18})}),p.jsx("button",{onClick:()=>i(a.id,"rescheduled"),className:"p-1.5 rounded-lg hover:bg-[#6F66FF]/10 transition-colors",title:"Reschedule",children:p.jsx(Tj,{className:"text-[#6F66FF]",size:18})})]})]},a.id))}),t.some(a=>a.status==="skipped")&&p.jsxs("div",{className:"mt-4 p-3 bg-[#F87171]/10 rounded-xl border border-[#F87171]/20",children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/70",children:"You skipped an exercise. Would you like to reschedule it for tomorrow?"}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsx(Lt,{size:"sm",variant:"outline",className:"rounded-lg text-xs",children:"Reschedule Tomorrow"}),p.jsx(Lt,{size:"sm",variant:"ghost",className:"text-xs",children:"Skip Permanently"})]})]})]})]}):p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(ln,{className:"pb-3",children:[p.jsx(un,{className:"text-lg flex items-center gap-2",children:" Smart Daily Planner"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Plan your recovery around your day."})]}),p.jsx(Ft,{children:p.jsxs("div",{className:"text-center py-6",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-[#6F66FF]/10 mx-auto mb-4 flex items-center justify-center",children:p.jsx(jF,{className:"text-[#6F66FF]",size:32})}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-4",children:"Connect your calendar to schedule exercises around your daily routine"}),p.jsxs(Lt,{onClick:()=>e(!0),className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:[p.jsx(Cj,{className:"mr-2",size:18}),"Sync with Calendar"]})]})})]})}const uTe=[{date:"Oct 18",adherence:88,performance:85},{date:"Oct 20",adherence:90,performance:88},{date:"Oct 22",adherence:92,performance:90},{date:"Oct 24",adherence:94,performance:92},{date:"Oct 26",adherence:95,performance:93},{date:"Oct 28",adherence:96,performance:94},{date:"Oct 30",adherence:96,performance:95}],dTe=[{day:"Day 1",pain:7},{day:"Day 3",pain:6.5},{day:"Day 5",pain:6},{day:"Day 7",pain:5},{day:"Day 9",pain:4.5},{day:"Day 11",pain:3.5},{day:"Day 13",pain:3},{day:"Day 14",pain:2.5}];function WH(){const{user:n}=pu(),{stats:e,isLoading:t}=jb(),r=n?.name||"there",i=B.useMemo(()=>{const o=Bf.getExercises(),a=o.reduce((b,y)=>b+y.completedSessions,0),l=o.reduce((b,y)=>b+y.totalSessions,0),u=l>0?Math.round(a/l*100):0,d=o.filter(b=>b.progress===100).length,c=o.length>0?Math.round(d/o.length*100):0,f=o.length>0?o.reduce((b,y)=>b+y.progress,0)/o.length:0,m=Math.round(f),v=c>0?Math.max(1,Math.round(c*.1)):0;return{completedSessions:a,totalSessions:l,completionRate:u,adherenceRate:c,adherenceChange:v,completedExercises:d,totalExercises:o.length,performanceScore:m}},[]),s=e?.currentStreak||0;return t?p.jsx("div",{className:"flex items-center justify-center p-8 min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6F66FF] mx-auto mb-4"}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Loading your dashboard..."})]})}):p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl mb-2",children:["Hi ",r," , ready to recover today?"]}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Let's continue your shoulder rehabilitation journey."}),p.jsx("div",{className:"mt-4 text-white rounded-2xl p-4",style:{background:"linear-gradient(to right, #6F66FF, #8C7BFF)",backgroundColor:"#6F66FF",backgroundImage:"linear-gradient(to right, #6F66FF, #8C7BFF)"},children:p.jsx("p",{className:"text-center",children:"Small steps today, stronger tomorrow "})})]}),p.jsxs("div",{className:"flex flex-nowrap gap-6 mb-8",children:[p.jsxs(Ot,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Exercise Adherence"}),p.jsx(ma,{className:"text-[#6F66FF]",size:20})]})}),p.jsxs(Ft,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#6F66FF"},children:[i.adherenceRate,"%"]}),p.jsx("p",{className:"text-sm",style:{color:i.adherenceChange>0?"#3ECF8E":"rgba(27, 30, 61, 0.6)"},children:i.adherenceChange>0?`+${i.adherenceChange}% this week`:"Keep going!"})]})]}),p.jsxs(Ot,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Performance Score"}),p.jsx(Sx,{className:"text-[#3ECF8E]",size:20})]})}),p.jsxs(Ft,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:[i.performanceScore,"%"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Excellent form!"})]})]}),p.jsxs(Ot,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Completion Rate"}),p.jsx(Ax,{className:"text-[#6F66FF]",size:20})]})}),p.jsxs(Ft,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#6F66FF"},children:[i.completionRate,"%"]}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]/60",children:[i.completedSessions," of ",i.totalSessions," sessions"]})]})]}),p.jsxs(Ot,{className:"flex-1 rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 transition-all duration-200",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Streak Days"}),p.jsx(yE,{className:"text-[#F87171]",size:20})]})}),p.jsxs(Ft,{children:[p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#F87171"},children:[s," "]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:s===0?"Start your streak!":s===1?"Great start!":"Keep it going!"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[p.jsx(lTe,{}),p.jsx(cTe,{})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"Exercise Adherence & Performance"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:uTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"date",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6}),p.jsx(ui,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#6F66FF",strokeWidth:2,name:"Adherence %",dot:{fill:"#6F66FF",r:4}}),p.jsx(As,{type:"monotone",dataKey:"performance",stroke:"#3ECF8E",strokeWidth:2,name:"Performance %",dot:{fill:"#3ECF8E",r:4}})]})})})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"Pain Trend (14 Days)"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(hB,{data:dTe,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#F87171",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#F87171",stopOpacity:0})]})}),p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,10]}),p.jsx(ui,{}),p.jsx(yu,{type:"monotone",dataKey:"pain",stroke:"#F87171",strokeWidth:2,fill:"url(#painGradient)",name:"Pain Level"})]})})})]})]})]})}const fTe=BF("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function hTe({className:n,variant:e,...t}){return p.jsx("div",{"data-slot":"alert",role:"alert",className:Vn(fTe({variant:e}),n),...t})}function pTe({className:n,...e}){return p.jsx("div",{"data-slot":"alert-description",className:Vn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function mTe(){const[n,e]=B.useState(!1),[t,r]=B.useState(!1),[i,s]=B.useState([3]),[o,a]=B.useState([5]),l=()=>{e(!0)},u=()=>{r(!0)};return p.jsxs("div",{className:"space-y-6 max-w-6xl",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"AI Plan Reader"}),p.jsx("p",{className:"text-gray-600",children:"Upload your doctor's referral or rehabilitation plan for AI analysis"})]}),p.jsx(Ot,{className:"border-0 shadow-lg",children:p.jsxs(Ft,{className:"p-8",children:[p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-[#2C2E6F] transition-colors",children:[p.jsx($le,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-[#2C2E6F] mb-2",children:"Upload doctor's referral or rehab description"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Drop your PDF, image, or text file here, or click to browse"}),p.jsxs(Lt,{onClick:l,className:"bg-[#2C2E6F] hover:bg-[#1f2050]",children:[p.jsx(eS,{className:"w-4 h-4 mr-2"}),"Select File"]})]}),n&&p.jsxs(hTe,{className:"mt-4 border-[#4DD2C1] bg-[#4DD2C1]/10",children:[p.jsx(sd,{className:"h-4 w-4 text-[#4DD2C1]"}),p.jsx(pTe,{className:"text-[#2C2E6F]",children:"File uploaded successfully: shoulder_rehab_plan.pdf"})]})]})}),n&&p.jsxs(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(jp,{className:"w-5 h-5 text-[#2C2E6F]"}),p.jsx(un,{className:"text-[#2C2E6F]",children:"AI Analysis Summary"})]})}),p.jsxs(Ft,{className:"space-y-4",children:[p.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-xl flex items-center justify-center flex-shrink-0",children:p.jsx(jp,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#2C2E6F] mb-2",children:"Detected: Shoulder Rehabilitation  Phase 1 Mobility"}),p.jsx("p",{className:"text-gray-600",children:"6 weeks progressive plan focusing on range of motion and pain reduction"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[p.jsxs("div",{className:"p-4 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Condition"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"Rotator Cuff Strain"})]}),p.jsxs("div",{className:"p-4 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phase"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"Phase 1: Mobility"})]}),p.jsxs("div",{className:"p-4 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Duration"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"6 weeks"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6 bg-white rounded-xl shadow-sm",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{htmlFor:"weekly-frequency-slider",children:"Weekly Frequency (sessions/week)"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Nx,{id:"weekly-frequency-slider",name:"weeklyFrequency",value:i,onValueChange:s,max:7,min:1,step:1,className:"flex-1","aria-label":"Weekly Frequency"}),p.jsxs(hr,{className:"bg-[#2C2E6F]",children:[i[0],"x/week"]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{htmlFor:"intensity-level-slider",children:"Intensity Level"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Nx,{id:"intensity-level-slider",name:"intensityLevel",value:o,onValueChange:a,max:10,min:1,step:1,className:"flex-1","aria-label":"Intensity Level"}),p.jsxs(hr,{className:"bg-[#4DD2C1]",children:[o[0],"/10"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"sets-per-exercise",children:"Sets per Exercise"}),p.jsx(bs,{id:"sets-per-exercise",name:"setsPerExercise",type:"number",autoComplete:"off",defaultValue:"3",className:"bg-white"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"rest-days",children:"Rest Days"}),p.jsx(bs,{id:"rest-days",name:"restDays",type:"text",autoComplete:"off",defaultValue:"Sunday, Wednesday",className:"bg-white"})]})]}),p.jsxs(Lt,{onClick:u,className:"w-full bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white shadow-lg hover:shadow-xl transition-all",children:[p.jsx(jp,{className:"w-4 h-4 mr-2"}),"Generate Personalized Plan"]})]})]}),t&&p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Generated Recovery Plan"})}),p.jsxs(Ft,{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-3",children:"Recovery Goals"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Reduce pain to 2/10 or below"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Restore 90% range of motion"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Strengthen rotator cuff muscles"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(sd,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("span",{className:"text-gray-700",children:"Return to daily activities"})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-3",children:"6-Week Timeline"}),p.jsx("div",{className:"space-y-3",children:[{week:"Weeks 1-2",focus:"Pain reduction & gentle mobility",color:"from-[#FF8A73] to-[#ff7a5c]"},{week:"Weeks 3-4",focus:"Progressive range of motion",color:"from-[#4DD2C1] to-[#3bc1b0]"},{week:"Weeks 5-6",focus:"Strength building & stabilization",color:"from-[#2C2E6F] to-[#4a4f9e]"}].map((d,c)=>p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-32 h-12 bg-gradient-to-r ${d.color} rounded-lg flex items-center justify-center text-white flex-shrink-0`,children:d.week}),p.jsx("p",{className:"text-gray-700",children:d.focus})]},c))})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-3",children:"Key Exercises Auto-Filled"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Pendulum Swings",sets:3,reps:10},{name:"Shoulder Rotation (External)",sets:3,reps:12},{name:"Wall Slides",sets:2,reps:8},{name:"Scapular Squeezes",sets:3,reps:15}].map((d,c)=>p.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-[#2C2E6F] transition-colors",children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-1",children:d.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:[d.sets," sets  ",d.reps," reps"]})]},c))})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Lt,{className:"flex-1 bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save to My Plan"}),p.jsx(Lt,{variant:"outline",className:"flex-1",children:"Edit Plan"})]})]})]})]})}const $H={postureScore:0,alignment:"-",rangeOfMotion:0,formQuality:"-"},qH=(n,e=0)=>{const t=Number(n);return Number.isFinite(t)?t:e};function gTe(){const n=Td(),{completeSession:e}=jb(),[t,r]=B.useState({...$H}),[i,s]=B.useState("shoulder_rotation"),[o,a]=B.useState(null),[l,u]=B.useState(!1),[d,c]=B.useState(!1),[f,m]=B.useState([]),[v,b]=B.useState(""),[y,w]=B.useState("0"),[A,E]=B.useState(0),[C,M]=B.useState(!1),[R,O]=B.useState(!1),k=B.useRef(null),D=B.useRef(null),[I,L]=B.useState(null);B.useEffect(()=>{const fe=sessionStorage.getItem("selectedExercise"),xe=sessionStorage.getItem("selectedExerciseId");if(fe)try{const Pe=JSON.parse(fe),Te=Bf.getExerciseById(Pe.id);Te?(a(Te),Te.name.toLowerCase().includes("shoulder")?s("shoulder_rotation"):Te.name.toLowerCase().includes("squat")&&s("squat")):(a(Pe),Pe.name.toLowerCase().includes("shoulder")?s("shoulder_rotation"):Pe.name.toLowerCase().includes("squat")&&s("squat")),sessionStorage.removeItem("selectedExercise"),sessionStorage.removeItem("selectedExerciseId")}catch{}else if(xe){const Pe=Bf.getExerciseById(xe);Pe&&(a(Pe),Pe.name.toLowerCase().includes("shoulder")?s("shoulder_rotation"):Pe.name.toLowerCase().includes("squat")&&s("squat")),sessionStorage.removeItem("selectedExerciseId")}},[]);const W=B.useCallback(fe=>{r({postureScore:qH(fe.posture_score),alignment:fe.alignment??"-",rangeOfMotion:qH(fe.range_of_motion),formQuality:fe.form_quality??"-"})},[]);B.useEffect(()=>{K()},[]),B.useEffect(()=>()=>{k.current?.close(),V()},[]),B.useEffect(()=>{const fe=D.current;if(fe)if(I){fe.srcObject=I,fe.muted=!0,fe.playsInline=!0;const xe=fe.play();xe&&xe.catch(()=>{})}else fe.srcObject=null},[I]);const q=B.useRef(null);B.useEffect(()=>{const fe=o?.id||null;fe&&fe!==q.current?(E(0),M(!1),O(!1),q.current=fe):fe||(q.current=null)},[o?.id]);const K=async()=>{try{const xe=(await navigator.mediaDevices.enumerateDevices()).filter(Pe=>Pe.kind==="videoinput").map((Pe,Te)=>({deviceId:Pe.deviceId,label:Pe.label||`Camera ${Te+1}`,index:Te}));m(xe),xe.length&&(b(xe[0].deviceId),w(String(xe[0].index)))}catch{}},ne=async()=>{if(v)try{const fe=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:v}},audio:!1});L(fe),c(!0)}catch{}},V=()=>{I&&I.getTracks().forEach(fe=>fe.stop()),L(null),D.current&&(D.current.srcObject=null),c(!1)},ee=()=>{if(!y&&!v||!i)return;k.current&&(k.current.close(),k.current=null);const fe=new URL(`${fE}/sessions/start`);fe.searchParams.set("exercise",i),fe.searchParams.set("camera",y||"0");const xe=new EventSource(fe.toString());xe.addEventListener("status",Te=>{const je=JSON.parse(Te.data);if(je.level==="error"){u(!1);return}je.code!==void 0&&u(!1)}),xe.addEventListener("metrics",Te=>{const je=JSON.parse(Te.data);W(je)});const Pe=Te=>{const je=JSON.parse(Te.data);if(je.type==="metrics"||Object.prototype.hasOwnProperty.call(je,"posture_score")){W(je);return}};xe.addEventListener("message",Te=>Pe(Te)),xe.onmessage=Pe,xe.onerror=()=>{u(!1),xe.close(),k.current=null},k.current=xe,r({...$H}),u(!0)},H=()=>{k.current&&(k.current.close(),k.current=null),u(!1)},Z={id:"ex-default",name:"Shoulder Rotation",sets:"3",reps:"10",difficulty:"Intermediate",description:"Improve shoulder range of motion and rotator cuff strength",tags:["Shoulder","Mobility"],instructions:["Stand with feet shoulder-width apart, arms at your sides","Raise your arms to shoulder height, keeping elbows bent at 90","Slowly rotate your shoulders forward, then backward","Maintain controlled movement throughout the exercise"],progress:0,completedSessions:0,totalSessions:3},te=B.useMemo(()=>{const fe=o||Z;return{...fe,instructions:fe.instructions&&Array.isArray(fe.instructions)&&fe.instructions.length>0?fe.instructions:Z.instructions,tags:fe.tags&&Array.isArray(fe.tags)&&fe.tags.length>0?fe.tags:Z.tags}},[o]),Y=B.useMemo(()=>parseInt(te.sets)||3,[te.sets]),ae=B.useCallback(()=>{const fe=A+1;if(fe>=Y){if(E(fe),M(!0),O(!0),H(),e().catch(()=>{}),o?.id)try{const xe=Bf.completeSession(o.id);xe&&(a(xe),setTimeout(()=>{const Pe=new Event("exerciseProgressUpdated",{bubbles:!0});window.dispatchEvent(Pe);const Te=new CustomEvent("exerciseProgressUpdated",{detail:{exerciseId:xe.id,updatedExercise:xe},bubbles:!0});window.dispatchEvent(Te),setTimeout(()=>{const je=new CustomEvent("exerciseProgressUpdated",{detail:{exerciseId:xe.id,updatedExercise:xe,retry:!0},bubbles:!0});window.dispatchEvent(je)},300)},250))}catch{}}else E(fe)},[A,Y,o,e]),we=()=>{o&&(M(!0),O(!0)),H()},Fe=B.useMemo(()=>f.map(fe=>({value:fe.deviceId,label:`${fe.label} (cv2 index ${fe.index})`,indexValue:String(fe.index)})),[f]),qe=B.useMemo(()=>A/Y*100,[A,Y]);return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[o?p.jsxs(Lt,{variant:"ghost",onClick:()=>n("/exercises"),className:"mb-4 hover:bg-[#6F66FF]/10",children:[p.jsx(Z3,{className:"mr-2",size:18}),"Back to Library"]}):p.jsxs(Lt,{variant:"ghost",onClick:()=>n("/exercises"),className:"mb-4 hover:bg-[#6F66FF]/10",children:[p.jsx(Z3,{className:"mr-2",size:18}),"Browse Exercise Library"]}),p.jsx("h1",{className:"text-3xl mb-2 text-[#2C2E6F]",children:"Live Exercise Monitor"}),p.jsxs("p",{className:"text-[#1B1E3D]/60",children:["Let's practice your ",p.jsx("span",{className:"text-[#6F66FF]",children:te.name})," together!"]}),!o&&p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" Currently showing default exercise. Go to ",p.jsx("strong",{children:"Exercise Library"})," to select a specific exercise."]})]}),R&&p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsx(Ot,{className:"rounded-2xl shadow-2xl max-w-md mx-4 border-2 border-[#3ECF8E]",children:p.jsxs(Ft,{className:"pt-8 pb-8 text-center",children:[p.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#3ECF8E] to-[#6F66FF] mx-auto mb-6 flex items-center justify-center animate-bounce",children:p.jsx(Up,{className:"text-white",size:40})}),p.jsx("h2",{className:"text-2xl mb-3",children:"Great job! "}),p.jsxs("p",{className:"text-[#1B1E3D]/70 mb-2",children:["You completed all ",Y," sets!"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-6",children:"Your form was excellent. Keep up the amazing work!"}),p.jsxs("div",{className:"bg-[#6F66FF]/10 rounded-xl p-4 mb-6",children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-2",children:"XP Earned"}),p.jsx("p",{className:"text-3xl text-[#6F66FF]",children:"+20 XP"}),p.jsx("p",{className:"text-xs text-[#1B1E3D]/60 mt-1",children:"Perfect Form 3 Quest Progress: 3/3 "})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Lt,{onClick:()=>{O(!1),E(0),M(!1)},variant:"outline",className:"flex-1 rounded-xl",children:"Practice Again"}),p.jsx(Lt,{onClick:()=>n("/exercises"),className:"flex-1 bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:"Back to Library"})]})]})})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsxs(un,{className:"flex items-center gap-2 text-[#2C2E6F]",children:[p.jsx(Q3,{className:"text-[#6F66FF]"}),"Camera Feed"]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"relative bg-[#1B1E3D] rounded-xl overflow-hidden aspect-video flex items-center justify-center",children:d?p.jsxs(p.Fragment,{children:[I&&p.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute top-4 left-4 right-4 bg-white backdrop-blur rounded-xl p-4 shadow-lg z-10",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Ax,{className:"text-[#3ECF8E] flex-shrink-0 mt-0.5",size:20}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]",children:[A===0&&"Ready to start? Let's go!",A>0&&A<Y&&"Great set! Rest 10s before next set.",A===Y&&"All sets complete! Amazing work!"]})]})}),p.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-white backdrop-blur rounded-xl p-3 z-10",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[p.jsxs("span",{className:"text-[#1B1E3D]",children:["Set ",A>0?A:"0"," of ",Y]}),p.jsxs("span",{className:"text-[#6F66FF]",children:[Math.round(qe),"%"]})]}),p.jsx(em,{value:qe,className:"h-2"})]}),p.jsx("div",{className:"absolute top-4 right-4 z-10",children:p.jsxs("div",{className:"bg-red-500 rounded-full px-3 py-1 flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),p.jsx("span",{className:"text-white text-sm",children:"Recording"})]})})]}):p.jsxs("div",{className:"text-center",children:[p.jsx(Nj,{className:"text-white/30 mx-auto mb-4",size:64}),p.jsx("p",{className:"text-white/60 mb-4",children:"Camera is off"}),p.jsx(Lt,{onClick:ne,className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90",children:"Start Camera"})]})}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-4",children:[p.jsxs(Qg,{value:v,onValueChange:fe=>{b(fe);const xe=Fe.find(Pe=>Pe.value===fe);xe&&w(xe.indexValue)},children:[p.jsx(t0,{className:"w-full bg-white",children:p.jsx(e0,{placeholder:"Select camera"})}),p.jsx(n0,{children:Fe.map(fe=>p.jsx(Ii,{value:fe.value,children:fe.label},fe.value))})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Lt,{onClick:d?V:ne,variant:"outline",className:"flex-1",children:[d?p.jsx(Nj,{className:"w-4 h-4 mr-2"}):p.jsx(Q3,{className:"w-4 h-4 mr-2"}),d?"Stop Preview":"Start Preview"]}),p.jsx(Lt,{variant:"secondary",onClick:K,children:p.jsx(mle,{className:"w-4 h-4"})})]})]}),d&&!C&&p.jsxs("div",{className:"flex gap-3 mt-4",children:[p.jsx(Lt,{onClick:ae,className:"flex-1 bg-gradient-to-r from-[#3ECF8E] to-[#3ECF8E]/80 hover:opacity-90",disabled:A>=Y,children:A>=Y?"All Sets Complete ":`Set ${A>0?A+1:1} Complete`}),l?p.jsx(Lt,{onClick:we,variant:"outline",className:"rounded-xl",children:"End Session"}):p.jsxs(Lt,{onClick:ee,className:"flex-1 bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF]",children:[p.jsx(n$,{className:"w-4 h-4 mr-2"})," Start Analysis"]})]}),l&&p.jsx("div",{className:"mt-4",children:p.jsxs(Lt,{onClick:H,variant:"destructive",className:"w-full",children:[p.jsx(Ile,{className:"w-4 h-4 mr-2"})," Stop Analysis"]})})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Posture Analysis"})}),p.jsxs(Ft,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Posture Score"}),p.jsx("span",{className:"text-xl text-[#6F66FF]",children:l?`${Math.round(t.postureScore)}%`:"--"})]}),p.jsx(em,{value:l?t.postureScore:0,className:"h-2"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:`${l&&t.alignment==="Correct"?"bg-[#3ECF8E]/10 border-[#3ECF8E]/30":"bg-[#F9F9FB] border-[#E5E7EB]"} border rounded-xl p-3`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Ax,{className:`${l&&t.alignment==="Correct"?"text-[#3ECF8E]":"text-[#1B1E3D]/40"}`,size:16}),p.jsx("span",{className:"text-sm",children:"Alignment"})]}),p.jsx("p",{className:`text-xs ${l&&t.alignment==="Correct"?"text-[#3ECF8E] font-medium":"text-[#1B1E3D]/60"}`,children:l?t.alignment:"Start camera"})]}),p.jsxs("div",{className:`${l?"bg-red-50 border-red-200":"bg-[#F9F9FB] border-[#E5E7EB]"} border rounded-xl p-3`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Tae,{className:`${l?"text-red-500":"text-[#1B1E3D]/40"}`,size:16}),p.jsx("span",{className:"text-sm",children:"Range of Motion"})]}),p.jsx("p",{className:`text-xs ${l?"text-red-600 font-medium":"text-[#1B1E3D]/60"}`,children:l?`${Math.round(t.rangeOfMotion)}`:"--"})]})]}),p.jsx("div",{className:`${l?"bg-[#3ECF8E]/10 border-[#3ECF8E]/30":"bg-[#F9F9FB] border-[#E5E7EB]"} border rounded-xl p-3`,children:p.jsxs("p",{className:"text-sm text-[#1B1E3D]",children:[p.jsx("span",{className:l?"text-[#3ECF8E] font-medium":"text-[#1B1E3D]/60",children:"Form Quality:"})," ",p.jsx("span",{className:l?"text-[#3ECF8E]":"text-[#1B1E3D]/60",children:l?t.formQuality:"Waiting..."})]})})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Exercise Instructions"})}),p.jsxs(Ft,{children:[p.jsx("h3",{className:"text-xl mb-2 text-[#6F66FF]",children:te.name}),p.jsxs("p",{className:"text-sm text-[#1B1E3D]/60 mb-4",children:[te.sets," sets  ",te.reps," reps"]}),p.jsx("div",{className:"space-y-3",children:te.instructions.map((fe,xe)=>p.jsxs("div",{className:"flex gap-3 items-start",children:[p.jsx("div",{className:"w-6 h-6 rounded-full text-white flex items-center justify-center flex-shrink-0 text-sm font-semibold",style:{backgroundColor:"#6F66FF",color:"#FFFFFF"},children:xe+1}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70 flex-1 leading-relaxed",children:fe})]},xe))}),te.tags&&te.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-[#1B1E3D]/10",children:te.tags.map((fe,xe)=>p.jsx("span",{className:"text-xs px-3 py-1 bg-[#6F66FF]/10 text-[#6F66FF] rounded-full",children:fe},xe))})]})]})]})]}),p.jsx("div",{className:"mt-8 text-center text-sm text-[#1B1E3D]/60",children:p.jsxs("p",{children:["All movements analyzed on-device for privacy. Powered by ",p.jsx("span",{className:"text-[#6F66FF]",children:"RehabMax AI+ Vision Coach"}),"."]})})]})}function vTe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const yTe=n=>{switch(n){case"success":return _Te;case"info":return STe;case"warning":return wTe;case"error":return ATe;default:return null}},xTe=Array(12).fill(0),bTe=({visible:n,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ue.createElement("div",{className:"sonner-spinner"},xTe.map((t,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_Te=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wTe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),STe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ATe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ETe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CTe=()=>{const[n,e]=ue.useState(document.hidden);return ue.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let NO=1;class MTe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:NO++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async u=>{if(o=["resolve",u],ue.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(PTe(u)&&!u.ok){s=!1;const c=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description,v=typeof c=="object"&&!ue.isValidElement(c)?c:{message:c};this.create({id:r,type:"error",description:f,...v})}else if(u instanceof Error){s=!1;const c=typeof t.error=="function"?await t.error(u):t.error,f=typeof t.description=="function"?await t.description(u):t.description,v=typeof c=="object"&&!ue.isValidElement(c)?c:{message:c};this.create({id:r,type:"error",description:f,...v})}else if(t.success!==void 0){s=!1;const c=typeof t.success=="function"?await t.success(u):t.success,f=typeof t.description=="function"?await t.description(u):t.description,v=typeof c=="object"&&!ue.isValidElement(c)?c:{message:c};this.create({id:r,type:"success",description:f,...v})}}).catch(async u=>{if(o=["reject",u],t.error!==void 0){s=!1;const d=typeof t.error=="function"?await t.error(u):t.error,c=typeof t.description=="function"?await t.description(u):t.description,m=typeof d=="object"&&!ue.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:c,...m})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=t?.id||NO++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const la=new MTe,TTe=(n,e)=>{const t=e?.id||NO++;return la.addToast({title:n,...e,id:t}),t},PTe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",RTe=TTe,NTe=()=>la.toasts,ITe=()=>la.getActiveToasts(),Bi=Object.assign(RTe,{success:la.success,info:la.info,warning:la.warning,error:la.error,custom:la.custom,message:la.message,promise:la.promise,dismiss:la.dismiss,loading:la.loading},{getHistory:NTe,getToasts:ITe});vTe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function T1(n){return n.label!==void 0}const OTe=3,FTe="24px",DTe="16px",XH=4e3,BTe=356,kTe=14,LTe=45,jTe=200;function zc(...n){return n.filter(Boolean).join(" ")}function UTe(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const zTe=n=>{var e,t,r,i,s,o,a,l,u;const{invert:d,toast:c,unstyled:f,interacting:m,setHeights:v,visibleToasts:b,heights:y,index:w,toasts:A,expanded:E,removeToast:C,defaultRichColors:M,closeButton:R,style:O,cancelButtonStyle:k,actionButtonStyle:D,className:I="",descriptionClassName:L="",duration:W,position:q,gap:K,expandByDefault:ne,classNames:V,icons:ee,closeButtonAriaLabel:H="Close toast"}=n,[Z,te]=ue.useState(null),[Y,ae]=ue.useState(null),[we,Fe]=ue.useState(!1),[qe,fe]=ue.useState(!1),[xe,Pe]=ue.useState(!1),[Te,je]=ue.useState(!1),[rt,Ue]=ue.useState(!1),[ot,De]=ue.useState(0),[le,et]=ue.useState(0),at=ue.useRef(c.duration||W||XH),xt=ue.useRef(null),ct=ue.useRef(null),Ut=w===0,Ct=w+1<=b,Et=c.type,ce=c.dismissible!==!1,ie=c.className||"",Ie=c.descriptionClassName||"",Je=ue.useMemo(()=>y.findIndex(ze=>ze.toastId===c.id)||0,[y,c.id]),ft=ue.useMemo(()=>{var ze;return(ze=c.closeButton)!=null?ze:R},[c.closeButton,R]),Xe=ue.useMemo(()=>c.duration||W||XH,[c.duration,W]),Yt=ue.useRef(0),Dt=ue.useRef(0),nn=ue.useRef(0),Kt=ue.useRef(null),[ht,pt]=q.split("-"),pn=ue.useMemo(()=>y.reduce((ze,wt,qt)=>qt>=Je?ze:ze+wt.height,0),[y,Je]),Se=CTe(),Le=c.invert||d,ut=Et==="loading";Dt.current=ue.useMemo(()=>Je*K+pn,[Je,pn]),ue.useEffect(()=>{at.current=Xe},[Xe]),ue.useEffect(()=>{Fe(!0)},[]),ue.useEffect(()=>{const ze=ct.current;if(ze){const wt=ze.getBoundingClientRect().height;return et(wt),v(qt=>[{toastId:c.id,height:wt,position:c.position},...qt]),()=>v(qt=>qt.filter(wn=>wn.toastId!==c.id))}},[v,c.id]),ue.useLayoutEffect(()=>{if(!we)return;const ze=ct.current,wt=ze.style.height;ze.style.height="auto";const qt=ze.getBoundingClientRect().height;ze.style.height=wt,et(qt),v(wn=>wn.find(zn=>zn.toastId===c.id)?wn.map(zn=>zn.toastId===c.id?{...zn,height:qt}:zn):[{toastId:c.id,height:qt,position:c.position},...wn])},[we,c.title,c.description,v,c.id,c.jsx,c.action,c.cancel]);const ve=ue.useCallback(()=>{fe(!0),De(Dt.current),v(ze=>ze.filter(wt=>wt.toastId!==c.id)),setTimeout(()=>{C(c)},jTe)},[c,C,v,Dt]);ue.useEffect(()=>{if(c.promise&&Et==="loading"||c.duration===1/0||c.type==="loading")return;let ze;return E||m||Se?(()=>{if(nn.current<Yt.current){const wn=new Date().getTime()-Yt.current;at.current=at.current-wn}nn.current=new Date().getTime()})():(()=>{at.current!==1/0&&(Yt.current=new Date().getTime(),ze=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),ve()},at.current))})(),()=>clearTimeout(ze)},[E,m,c,Et,Se,ve]),ue.useEffect(()=>{c.delete&&(ve(),c.onDismiss==null||c.onDismiss.call(c,c))},[ve,c.delete]);function Be(){var ze;if(ee?.loading){var wt;return ue.createElement("div",{className:zc(V?.loader,c==null||(wt=c.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":Et==="loading"},ee.loading)}return ue.createElement(bTe,{className:zc(V?.loader,c==null||(ze=c.classNames)==null?void 0:ze.loader),visible:Et==="loading"})}const mt=c.icon||ee?.[Et]||yTe(Et);var St,_t;return ue.createElement("li",{tabIndex:0,ref:ct,className:zc(I,ie,V?.toast,c==null||(e=c.classNames)==null?void 0:e.toast,V?.default,V?.[Et],c==null||(t=c.classNames)==null?void 0:t[Et]),"data-sonner-toast":"","data-rich-colors":(St=c.richColors)!=null?St:M,"data-styled":!(c.jsx||c.unstyled||f),"data-mounted":we,"data-promise":!!c.promise,"data-swiped":rt,"data-removed":qe,"data-visible":Ct,"data-y-position":ht,"data-x-position":pt,"data-index":w,"data-front":Ut,"data-swiping":xe,"data-dismissible":ce,"data-type":Et,"data-invert":Le,"data-swipe-out":Te,"data-swipe-direction":Y,"data-expanded":!!(E||ne&&we),"data-testid":c.testId,style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${qe?ot:Dt.current}px`,"--initial-height":ne?"auto":`${le}px`,...O,...c.style},onDragEnd:()=>{Pe(!1),te(null),Kt.current=null},onPointerDown:ze=>{ze.button!==2&&(ut||!ce||(xt.current=new Date,De(Dt.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(Pe(!0),Kt.current={x:ze.clientX,y:ze.clientY})))},onPointerUp:()=>{var ze,wt,qt;if(Te||!ce)return;Kt.current=null;const wn=Number(((ze=ct.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cn=Number(((wt=ct.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zn=new Date().getTime()-((qt=xt.current)==null?void 0:qt.getTime()),sr=Z==="x"?wn:Cn,ji=Math.abs(sr)/zn;if(Math.abs(sr)>=LTe||ji>.11){De(Dt.current),c.onDismiss==null||c.onDismiss.call(c,c),ae(Z==="x"?wn>0?"right":"left":Cn>0?"down":"up"),ve(),je(!0);return}else{var Qr,Sr;(Qr=ct.current)==null||Qr.style.setProperty("--swipe-amount-x","0px"),(Sr=ct.current)==null||Sr.style.setProperty("--swipe-amount-y","0px")}Ue(!1),Pe(!1),te(null)},onPointerMove:ze=>{var wt,qt,wn;if(!Kt.current||!ce||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;const zn=ze.clientY-Kt.current.y,sr=ze.clientX-Kt.current.x;var ji;const Qr=(ji=n.swipeDirections)!=null?ji:UTe(q);!Z&&(Math.abs(sr)>1||Math.abs(zn)>1)&&te(Math.abs(sr)>Math.abs(zn)?"x":"y");let Sr={x:0,y:0};const Dr=Xr=>1/(1.5+Math.abs(Xr)/20);if(Z==="y"){if(Qr.includes("top")||Qr.includes("bottom"))if(Qr.includes("top")&&zn<0||Qr.includes("bottom")&&zn>0)Sr.y=zn;else{const Xr=zn*Dr(zn);Sr.y=Math.abs(Xr)<Math.abs(zn)?Xr:zn}}else if(Z==="x"&&(Qr.includes("left")||Qr.includes("right")))if(Qr.includes("left")&&sr<0||Qr.includes("right")&&sr>0)Sr.x=sr;else{const Xr=sr*Dr(sr);Sr.x=Math.abs(Xr)<Math.abs(sr)?Xr:sr}(Math.abs(Sr.x)>0||Math.abs(Sr.y)>0)&&Ue(!0),(qt=ct.current)==null||qt.style.setProperty("--swipe-amount-x",`${Sr.x}px`),(wn=ct.current)==null||wn.style.setProperty("--swipe-amount-y",`${Sr.y}px`)}},ft&&!c.jsx&&Et!=="loading"?ue.createElement("button",{"aria-label":H,"data-disabled":ut,"data-close-button":!0,onClick:ut||!ce?()=>{}:()=>{ve(),c.onDismiss==null||c.onDismiss.call(c,c)},className:zc(V?.closeButton,c==null||(r=c.classNames)==null?void 0:r.closeButton)},(_t=ee?.close)!=null?_t:ETe):null,(Et||c.icon||c.promise)&&c.icon!==null&&(ee?.[Et]!==null||c.icon)?ue.createElement("div",{"data-icon":"",className:zc(V?.icon,c==null||(i=c.classNames)==null?void 0:i.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||Be():null,c.type!=="loading"?mt:null):null,ue.createElement("div",{"data-content":"",className:zc(V?.content,c==null||(s=c.classNames)==null?void 0:s.content)},ue.createElement("div",{"data-title":"",className:zc(V?.title,c==null||(o=c.classNames)==null?void 0:o.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?ue.createElement("div",{"data-description":"",className:zc(L,Ie,V?.description,c==null||(a=c.classNames)==null?void 0:a.description)},typeof c.description=="function"?c.description():c.description):null),ue.isValidElement(c.cancel)?c.cancel:c.cancel&&T1(c.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||k,onClick:ze=>{T1(c.cancel)&&ce&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,ze),ve())},className:zc(V?.cancelButton,c==null||(l=c.classNames)==null?void 0:l.cancelButton)},c.cancel.label):null,ue.isValidElement(c.action)?c.action:c.action&&T1(c.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||D,onClick:ze=>{T1(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,ze),!ze.defaultPrevented&&ve())},className:zc(V?.actionButton,c==null||(u=c.classNames)==null?void 0:u.actionButton)},c.action.label):null)};function KH(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function HTe(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?DTe:FTe;function l(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),t}const GTe=ue.forwardRef(function(e,t){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:d,mobileOffset:c,theme:f="light",richColors:m,duration:v,style:b,visibleToasts:y=OTe,toastOptions:w,dir:A=KH(),gap:E=kTe,icons:C,containerAriaLabel:M="Notifications"}=e,[R,O]=ue.useState([]),k=ue.useMemo(()=>r?R.filter(we=>we.toasterId===r):R.filter(we=>!we.toasterId),[R,r]),D=ue.useMemo(()=>Array.from(new Set([s].concat(k.filter(we=>we.position).map(we=>we.position)))),[k,s]),[I,L]=ue.useState([]),[W,q]=ue.useState(!1),[K,ne]=ue.useState(!1),[V,ee]=ue.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ue.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=ue.useRef(null),Y=ue.useRef(!1),ae=ue.useCallback(we=>{O(Fe=>{var qe;return(qe=Fe.find(fe=>fe.id===we.id))!=null&&qe.delete||la.dismiss(we.id),Fe.filter(({id:fe})=>fe!==we.id)})},[]);return ue.useEffect(()=>la.subscribe(we=>{if(we.dismiss){requestAnimationFrame(()=>{O(Fe=>Fe.map(qe=>qe.id===we.id?{...qe,delete:!0}:qe))});return}setTimeout(()=>{D7.flushSync(()=>{O(Fe=>{const qe=Fe.findIndex(fe=>fe.id===we.id);return qe!==-1?[...Fe.slice(0,qe),{...Fe[qe],...we},...Fe.slice(qe+1)]:[we,...Fe]})})})}),[R]),ue.useEffect(()=>{if(f!=="system"){ee(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const we=window.matchMedia("(prefers-color-scheme: dark)");try{we.addEventListener("change",({matches:Fe})=>{ee(Fe?"dark":"light")})}catch{we.addListener(({matches:qe})=>{try{ee(qe?"dark":"light")}catch(fe){console.error(fe)}})}},[f]),ue.useEffect(()=>{R.length<=1&&q(!1)},[R]),ue.useEffect(()=>{const we=Fe=>{var qe;if(o.every(Pe=>Fe[Pe]||Fe.code===Pe)){var xe;q(!0),(xe=H.current)==null||xe.focus()}Fe.code==="Escape"&&(document.activeElement===H.current||(qe=H.current)!=null&&qe.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",we),()=>document.removeEventListener("keydown",we)},[o]),ue.useEffect(()=>{if(H.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,Y.current=!1)}},[H.current]),ue.createElement("section",{ref:t,"aria-label":`${M} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((we,Fe)=>{var qe;const[fe,xe]=we.split("-");return k.length?ue.createElement("ol",{key:we,dir:A==="auto"?KH():A,tabIndex:-1,ref:H,className:u,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":fe,"data-x-position":xe,style:{"--front-toast-height":`${((qe=I[0])==null?void 0:qe.height)||0}px`,"--width":`${BTe}px`,"--gap":`${E}px`,...b,...HTe(d,c)},onBlur:Pe=>{Y.current&&!Pe.currentTarget.contains(Pe.relatedTarget)&&(Y.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:Pe=>{Pe.target instanceof HTMLElement&&Pe.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,te.current=Pe.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{K||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Pe=>{Pe.target instanceof HTMLElement&&Pe.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},k.filter(Pe=>!Pe.position&&Fe===0||Pe.position===we).map((Pe,Te)=>{var je,rt;return ue.createElement(zTe,{key:Pe.id,icons:C,index:Te,toast:Pe,defaultRichColors:m,duration:(je=w?.duration)!=null?je:v,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:i,visibleToasts:y,closeButton:(rt=w?.closeButton)!=null?rt:l,interacting:K,position:we,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:ae,toasts:k.filter(Ue=>Ue.position==Pe.position),heights:I.filter(Ue=>Ue.position==Pe.position),setHeights:L,expandByDefault:a,gap:E,expanded:W,swipeDirections:e.swipeDirections})})):null}))}),xo={async sendFriendRequest(n){const e=Oi.getSocket();return e?.connected?new Promise((r,i)=>{const s=setTimeout(()=>i(new Error("Request timeout")),1e4);e.emit("friend:send_request",{toUserId:n}),e.once("friend:request_sent",o=>{clearTimeout(s),r(o)}),e.once("friend:error",o=>{clearTimeout(s),i(new Error(o.message||"Failed to send friend request"))})}):(await mi.post("/friends/request",{toUserId:n})).data},async acceptFriendRequest(n){const e=Oi.getSocket();return e?.connected?new Promise((r,i)=>{const s=setTimeout(()=>i(new Error("Request timeout")),1e4);e.emit("friend:accept_request",{requestId:n}),e.once("friend:request_accepted",o=>{clearTimeout(s),r({id:o.requestId||n,status:"accepted"})}),e.once("friend:error",o=>{clearTimeout(s),i(new Error(o.message||"Failed to accept friend request"))})}):(await mi.post(`/friends/accept/${n}`)).data},async rejectFriendRequest(n){const e=Oi.getSocket();if(e?.connected)return new Promise((t,r)=>{const i=setTimeout(()=>r(new Error("Request timeout")),1e4);e.emit("friend:reject_request",{requestId:n}),e.once("friend:request_rejected",()=>{clearTimeout(i),t()}),e.once("friend:error",s=>{clearTimeout(i),r(new Error(s.message||"Failed to reject friend request"))})});await mi.post(`/friends/reject/${n}`)},async getFriends(){const n=Oi.getSocket();return n?.connected?new Promise((t,r)=>{const i=setTimeout(()=>r(new Error("Request timeout")),1e4);n.emit("friend:get_friends"),n.once("friend:friends",s=>{clearTimeout(i),t(s)}),n.once("friend:error",s=>{clearTimeout(i),r(new Error(s.message||"Failed to get friends"))})}):(await mi.get("/friends")).data},async getFriendRequests(){return(await mi.get("/friends/requests")).data},async getAllFriendRequests(){const n=Oi.getSocket();return n?.connected?new Promise((t,r)=>{const i=setTimeout(()=>r(new Error("Request timeout")),1e4);n.emit("friend:get_requests"),n.once("friend:requests",s=>{clearTimeout(i),t(s)}),n.once("friend:error",s=>{clearTimeout(i),r(new Error(s.message||"Failed to get friend requests"))})}):(await mi.get("/friends/requests/all")).data},async areFriends(n,e){return(await mi.get(`/friends/check/${e}`)).data},async getFriendRequestStatus(n){const e=Oi.getSocket();return e?.connected?new Promise((r,i)=>{const s=setTimeout(()=>i(new Error("Request timeout")),1e4);e.emit("friend:check_status",{toUserId:n}),e.once("friend:status",o=>{clearTimeout(s),r(o)}),e.once("friend:error",o=>{clearTimeout(s),i(new Error(o.message||"Failed to check status"))})}):(await mi.get(`/friends/status/${n}`)).data},onFriendRequestsUpdated(n){Oi.getSocket()?.on("friend:requests_updated",n)},offFriendRequestsUpdated(n){Oi.getSocket()?.off("friend:requests_updated",n)},onFriendRequestReceived(n){Oi.getSocket()?.on("friend:request_received",n)},offFriendRequestReceived(n){Oi.getSocket()?.off("friend:request_received",n)}},VTe=[{id:"complete_3_sessions_week",title:"Complete 3 sessions this week",total:3,xp:50,icon:Ex},{id:"perfect_form_x3",title:"Perfect Form x3",total:3,xp:10,icon:Fle},{id:"maintain_7_day_streak",title:"Maintain 7-day streak",total:7,xp:100,icon:yE},{id:"complete_full_exercise_plan",title:"Complete full exercise plan",total:10,xp:75,icon:oce}],WTe=[{name:"Perfect Form",earned:!0,color:"from-yellow-400 to-yellow-600",icon:""},{name:"Consistency",earned:!0,color:"from-blue-400 to-blue-600",icon:""},{name:"Pain Slayer",earned:!0,color:"from-red-400 to-red-600",icon:""},{name:"Week Warrior",earned:!1,color:"from-gray-300 to-gray-400",icon:""},{name:"Month Master",earned:!1,color:"from-gray-300 to-gray-400",icon:""},{name:"Recovery Hero",earned:!1,color:"from-gray-300 to-gray-400",icon:""}];function $Te(){const{stats:n,leaderboard:e,isLoading:t}=jb(),{user:r}=pu(),i=Td(),[s,o]=B.useState(new Set),[a,l]=B.useState(new Set);B.useEffect(()=>{(async()=>{try{const M=await xo.getFriends(),R=new Set(M.map(O=>O.friendId));l(R)}catch(M){console.error("Failed to load friends:",M)}})()},[]);const u=n?.totalXp||0,d=Math.floor(u/150)+1,c=u%150,f=150,m=c/f*100,v=f-c,b=r?.name?.charAt(0).toUpperCase()||"U",y=n?.questProgress||{},w=n?.currentStreak||0,A=VTe.map(C=>{let M=0;C.id==="maintain_7_day_streak"?M=Math.min(w,C.total):M=y[C.id]?.progress||0;const R=M>=C.total;return{...C,progress:M,status:R?"completed":"active"}}),E=e.map(C=>({...C,isUser:C.userId===Number(r?.id),avatar:C.name?.charAt(0).toUpperCase()||"?"}));return t?p.jsx("div",{className:"flex items-center justify-center p-8",children:p.jsx("p",{className:"text-gray-600",children:"Loading stats..."})}):p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Your Recovery Journey"}),p.jsx("p",{className:"text-gray-600",children:"Complete quests and earn rewards on your path to recovery"})]})}),p.jsx(Ot,{className:"border-0 shadow-xl bg-gradient-to-br from-[#2C2E6F] via-[#4a4f9e] to-[#4DD2C1]",children:p.jsx(Ft,{className:"p-8",children:p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-4xl text-[#2C2E6F]",children:b})}),p.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#FF8A73] rounded-full flex items-center justify-center text-white shadow-lg",children:p.jsx(Up,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("h2",{className:"text-white mb-1",children:["Level ",d,": Resilience Builder"]}),p.jsx("p",{className:"text-white/80 mb-4",children:r?.name||"User"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[p.jsxs("span",{children:[c," / ",f," XP"]}),p.jsxs("span",{children:[v," XP to Level ",d+1]})]}),p.jsx("div",{className:"h-3 bg-white/20 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-white rounded-full shadow-lg",style:{width:`${m}%`}})})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-white/80 mb-1",children:"Total XP"}),p.jsx("div",{className:"text-4xl text-white",children:u})]})]})})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Ex,{className:"w-5 h-5"}),"Active Quests"]})}),p.jsx(Ft,{className:"space-y-4",children:A.map(C=>{const M=C.icon,R=C.progress/C.total*100;return p.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${C.status==="completed"?"border-green-200 bg-green-50":"border-gray-200 hover:border-[#2C2E6F] bg-white"}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${C.status==="completed"?"bg-green-500":"bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1]"}`,children:C.status==="completed"?p.jsx(sd,{className:"w-5 h-5 text-white"}):p.jsx(M,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:C.status==="completed"?"text-green-700":"text-[#2C2E6F]",children:C.title}),p.jsxs(hr,{className:C.status==="completed"?"bg-green-500":"bg-[#FF8A73]",children:["+",C.xp," XP"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("span",{className:"text-gray-600",children:[C.progress," / ",C.total]}),p.jsxs("span",{className:C.status==="completed"?"text-green-600":"text-[#2C2E6F]",children:[Math.round(R),"%"]})]}),p.jsx(em,{value:R,className:"h-2"})]})]})]})},C.id)})})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Sx,{className:"w-5 h-5"}),"Badge Collection"]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"grid grid-cols-3 gap-4",children:WTe.map((C,M)=>p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:`w-20 h-20 mx-auto rounded-xl bg-gradient-to-br ${C.color} flex items-center justify-center text-4xl mb-2 shadow-lg ${!C.earned&&"grayscale opacity-50"}`,children:C.icon}),p.jsx("p",{className:`text-xs ${C.earned?"text-[#2C2E6F]":"text-gray-400"}`,children:C.name}),C.earned&&p.jsx(sd,{className:"w-4 h-4 text-green-500 mx-auto mt-1"})]},M))}),p.jsxs("div",{className:"mt-6 p-4 bg-[#E9E6F9] rounded-xl text-center",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Badges Earned"}),p.jsx("p",{className:"text-2xl text-[#2C2E6F]",children:"3 / 6"})]})]})]})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Up,{className:"w-5 h-5"}),"Community Leaderboard"]}),p.jsx(hr,{variant:"outline",className:"text-gray-600",children:"This Week"})]})}),p.jsx(Ft,{children:p.jsx("div",{className:"space-y-3",children:E.map(C=>p.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all ${C.isUser?"bg-gradient-to-r from-[#E9E6F9] to-[#E9E6F9]/50 border-2 border-[#2C2E6F]":"bg-gray-50 hover:bg-gray-100"}`,children:[p.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${C.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":C.rank===2?"bg-gradient-to-br from-gray-300 to-gray-400":C.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1]"}`,children:p.jsxs("span",{className:"text-white",children:["#",C.rank]})}),p.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow",children:p.jsx("span",{className:"text-[#2C2E6F]",children:C.avatar})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:C.isUser?"text-[#2C2E6F]":"text-gray-900",children:C.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",C.level]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-[#2C2E6F]",children:[C.xp," XP"]}),p.jsxs("div",{className:"flex items-center gap-1 text-sm text-orange-600",children:[p.jsx(yE,{className:"w-3 h-3"}),C.streak," days"]})]}),!C.isUser&&p.jsxs("div",{className:"flex flex-col gap-2 ml-2",children:[!a.has(C.userId)&&p.jsxs(Lt,{size:"sm",variant:"outline",onClick:async()=>{try{await xo.sendFriendRequest(C.userId),o(M=>new Set(M).add(C.userId)),Bi.success(`Friend request sent to ${C.name}!`)}catch(M){const R=M;R?.code!=="ERR_NETWORK"&&R?.code!=="ERR_CONNECTION_REFUSED"?Bi.error("Failed to send friend request"):(o(O=>new Set(O).add(C.userId)),Bi.success(`Friend request sent to ${C.name}!`))}},disabled:s.has(C.userId),className:"text-xs h-7 px-3 bg-white border-[#6F66FF] text-[#6F66FF] hover:bg-[#6F66FF]/10",children:[p.jsx(Mx,{className:"w-3 h-3 mr-1"}),s.has(C.userId)?"Sent":"Connect"]}),p.jsxs(Lt,{size:"sm",variant:"outline",onClick:()=>{i("/messages",{state:{userId:C.userId,userName:C.name}})},className:"text-xs h-7 px-3 bg-white border-[#6F66FF] text-[#6F66FF] hover:bg-[#6F66FF]/10",children:[p.jsx(Of,{className:"w-3 h-3 mr-1"}),"Message"]})]})]})]},C.rank))})})]}),p.jsx(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Ft,{className:"p-8",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Up,{className:"w-16 h-16 text-[#2C2E6F] mx-auto mb-4"}),p.jsx("h3",{className:"text-[#2C2E6F] mb-2",children:"Keep Going! "}),p.jsx("p",{className:"text-gray-600 mb-4",children:`You're doing amazing! Complete 2 more sessions to unlock the "Week Warrior" badge.`}),p.jsx(Lt,{className:"bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white",children:"View All Rewards"})]})})})]})}function YH({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:Vn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function qTe(){const[n,e]=B.useState(""),[t,r]=B.useState(!0),[i,s]=B.useState(!1),[o,a]=B.useState(!1),l=2,u=6,d=l/u*100,c="December 15, 2025",f=`Dear Future Me,

I know recovery feels tough right now. My shoulder still hurts, and some days I wonder if I'll ever get back to playing tennis.

But I'm choosing to believe in this process. I'm choosing to show up, even when it's hard. I'm choosing to trust that these small movements today will become strength tomorrow.

When you read this, I hope you remember how far you've come. I hope you're proud of yourself for not giving up.

You've got this. We've got this.

- Rose, Week 2`,m=()=>{n.trim()&&(a(!0),r(!0))},v=()=>{r(!1),s(!0)},b=["Dear Future Me...","I know recovery feels hard right now, but...","When you read this, I hope you remember...","The person I want to become is..."];return p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-2xl mb-4",children:p.jsx(xE,{className:"w-10 h-10 text-white"})}),p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Letter to Your Future Self"}),p.jsx("p",{className:"text-gray-600",children:"Write a message to yourself. Unlock it when you reach your recovery milestone."})]}),p.jsx(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Ft,{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:t?p.jsx(ZM,{className:"w-8 h-8 text-[#2C2E6F]"}):p.jsx(Mj,{className:"w-8 h-8 text-[#4DD2C1]"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{className:"text-gray-600",children:"Progress to Unlock"}),p.jsxs(hr,{className:"bg-[#2C2E6F]",children:["Week ",l," of ",u]})]}),p.jsx(em,{value:d,className:"h-3 mb-2"}),p.jsx("p",{className:"text-sm text-gray-600",children:t?`Unlocks on ${c}`:"Letter Unlocked! "})]})]})})}),o?p.jsx(Ot,{className:"border-0 shadow-xl",children:p.jsxs(Ft,{className:"p-12 text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full mb-6 animate-pulse",children:p.jsx(ZM,{className:"w-12 h-12 text-white"})}),p.jsx("h2",{className:"text-[#2C2E6F] mb-2",children:"Letter Sealed "}),p.jsxs("p",{className:"text-gray-600 mb-6",children:["Your letter is safely stored and will unlock on ",c]}),p.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[p.jsxs("div",{className:"p-6 bg-gradient-to-br from-[#E9E6F9] to-white rounded-xl",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your commitment is locked in"}),p.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#2C2E6F]",children:[p.jsx(Sj,{className:"w-5 h-5 text-[#FF8A73]"}),p.jsx("p",{children:"A promise to your future self"})]})]}),p.jsx(Lt,{onClick:v,variant:"outline",className:"w-full",children:"Preview Unlock (Demo)"})]})]})}):p.jsxs(Ot,{className:"border-0 shadow-xl",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(jp,{className:"w-5 h-5"}),"Write Your Letter"]})}),p.jsxs(Ft,{className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#E9E6F9]/20 to-transparent rounded-xl pointer-events-none"}),p.jsx(YH,{value:n,onChange:y=>e(y.target.value),placeholder:"What would you tell yourself when recovery feels hard?",className:"min-h-[300px] bg-white/80 backdrop-blur-sm border-2 border-gray-200 focus:border-[#2C2E6F] resize-none"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[p.jsx(jp,{className:"w-4 h-4"}),"Need inspiration? Try starting with:"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((y,w)=>p.jsx(Lt,{variant:"outline",size:"sm",onClick:()=>e(y+`

`),className:"text-sm hover:bg-[#E9E6F9] hover:text-[#2C2E6F] hover:border-[#2C2E6F]",children:y},w))})]}),p.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#E9E6F9] rounded-xl",children:[p.jsx(nle,{className:"w-5 h-5 text-[#2C2E6F]"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"Prefer to speak?"}),p.jsx("p",{className:"text-xs text-gray-600",children:"Record a voice message instead"})]}),p.jsx(Lt,{variant:"outline",size:"sm",children:"Record"})]}),p.jsx("div",{className:"flex gap-3",children:p.jsxs(Lt,{onClick:m,disabled:!n.trim(),className:"flex-1 bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white shadow-lg hover:shadow-xl transition-all",children:[p.jsx(ZM,{className:"w-4 h-4 mr-2"}),"Seal Letter (Lock until Week ",u,")"]})})]})]}),p.jsx(DE,{open:i,onOpenChange:s,children:p.jsxs(BE,{className:"sm:max-w-2xl",children:[p.jsxs(kE,{children:[p.jsxs(LE,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Mj,{className:"w-6 h-6 text-[#4DD2C1]"}),"Your Letter is Unlocked! "]}),p.jsx(jE,{children:"You kept your promise. You showed up. You recovered."})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsx("div",{className:"text-center text-6xl animate-bounce",children:"  "}),p.jsx("div",{className:"p-6 bg-gradient-to-br from-[#E9E6F9] to-white rounded-xl",children:p.jsx("div",{className:"prose prose-sm max-w-none",children:p.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n||f})})}),p.jsxs("div",{className:"p-6 bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] rounded-xl text-white text-center",children:[p.jsx("p",{className:"mb-2",children:"You earned +20 XP!"}),p.jsx("p",{className:"text-sm opacity-90",children:"For honoring your commitment "})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{className:"text-gray-700",children:"How do you feel reading this now?"}),p.jsx(YH,{placeholder:"Reflect on your journey...",className:"min-h-[100px]"})]}),p.jsx(Lt,{onClick:()=>s(!1),className:"w-full bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save Reflection"})]})]})}),p.jsx(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#FF8A73]/10 to-white",children:p.jsx(Ft,{className:"p-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx(Sj,{className:"w-6 h-6 text-[#FF8A73] flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-1",children:"Why write a letter?"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Research shows that connecting with your future self increases motivation and adherence to recovery plans. This letter becomes a powerful reminder of why you started and how far you've come."})]})]})})})]})}var XTe="Separator",JH="horizontal",KTe=["horizontal","vertical"],pJ=B.forwardRef((n,e)=>{const{decorative:t,orientation:r=JH,...i}=n,s=YTe(r)?r:JH,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(Wn.div,{"data-orientation":s,...a,...i,ref:e})});pJ.displayName=XTe;function YTe(n){return KTe.includes(n)}var JTe=pJ;function ec({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return p.jsx(JTe,{"data-slot":"separator-root",decorative:t,orientation:e,className:Vn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}const ZTe=[{id:1,term:"Range of Motion (ROM)",category:"Metrics",bodyArea:"All",phase:"All Phases",simpleDef:"How far your joint can move in different directions.",analogy:"Think of it like how wide a door opens.",aiConfidence:.98,whyMatters:"Improving ROM helps reduce pain and prevent reinjury. It shows your joint is healing properly.",howToImprove:["Perform gentle stretching exercises daily","Use heat before exercises to loosen muscles","Track progress with your clinician each week"],relatedExercises:["Shoulder Rotation","Neck Mobility"],icon:""},{id:2,term:"Eccentric Training",category:"Common Terms",bodyArea:"All",phase:"Strengthening",simpleDef:"Exercises where your muscle lengthens while working.",analogy:"Like slowly lowering a grocery bag  you control the descent.",aiConfidence:.95,whyMatters:"Builds strength and control, reduces injury risk during movements.",howToImprove:["Focus on the lowering phase of exercises","Count to 3-5 seconds while lowering","Use lighter weights to master the technique"],relatedExercises:["Wall Push-up"],icon:""},{id:3,term:"Stabilization",category:"Common Terms",bodyArea:"Core",phase:"All Phases",simpleDef:"Keeping your body steady and balanced during movement.",analogy:"Like a table with four strong legs  it doesn't wobble.",aiConfidence:.97,whyMatters:"Prevents compensatory movements that can cause pain elsewhere.",howToImprove:["Practice core engagement exercises","Use mirror feedback during exercises","Start with static holds before moving"],relatedExercises:["Core Stability","Spinal Twist"],icon:""},{id:4,term:"Pain Scale (0-10)",category:"Metrics",bodyArea:"All",phase:"All Phases",simpleDef:"A number rating to describe how much something hurts.",analogy:"0 is no pain, 5 is noticeable, 10 is the worst pain you can imagine.",aiConfidence:1,whyMatters:"Helps track your recovery progress and adjust exercises safely.",howToImprove:["Be honest about pain levels","Track pain before and after exercises","Tell your physio if pain increases"],relatedExercises:[],icon:""},{id:5,term:"Proprioception",category:"Common Terms",bodyArea:"All",phase:"Return to Activity",simpleDef:"Your body's ability to sense where it is in space.",analogy:"Like knowing where your hand is even with your eyes closed.",aiConfidence:.93,whyMatters:"Essential for balance, coordination, and preventing re-injury.",howToImprove:["Practice balance exercises","Try single-leg stands","Close your eyes during stable exercises"],relatedExercises:["Ankle Circles"],icon:""},{id:6,term:"Isometric Exercise",category:"Common Terms",bodyArea:"All",phase:"Mobility",simpleDef:"Exercises where you hold still while your muscles work.",analogy:"Like pushing against a wall  no movement, but your muscles are working.",aiConfidence:.96,whyMatters:"Builds strength without stressing healing joints.",howToImprove:["Hold positions for 10-30 seconds","Focus on breathing while holding","Gradually increase hold time"],relatedExercises:["Scapular Squeezes"],icon:""}],P1=[{id:1,title:"Understanding ROM",duration:"0:15"},{id:2,title:"Eccentric vs Concentric",duration:"0:20"},{id:3,title:"Core Stabilization Demo",duration:"0:18"}],QTe=[{term:"ROM",searches:45},{term:"Eccentric",searches:32},{term:"Stabilization",searches:28},{term:"Pain Scale",searches:25},{term:"Proprioception",searches:18}],e2e=[{week:"Week 1",rating:3.2},{week:"Week 2",rating:3.8},{week:"Week 3",rating:4.1},{week:"Week 4",rating:4.5}];function ZH({userRole:n="patient"}){const[e,t]=B.useState(""),[r,i]=B.useState("All"),[s,o]=B.useState(null),[a,l]=B.useState(!1),[u,d]=B.useState([]),[c,f]=B.useState(""),[m,v]=B.useState(0),b=ZTe.filter(A=>{const E=A.term.toLowerCase().includes(e.toLowerCase())||A.simpleDef.toLowerCase().includes(e.toLowerCase()),C=r==="All"||A.category===r;return E&&C}),y=()=>{if(!c.trim())return;const A=[...u,{role:"user",text:c}];setTimeout(()=>{const E=w(c);d([...A,{role:"ai",text:E}])},500),d(A),f("")},w=A=>A.toLowerCase().includes("eccentric")?"Eccentric training is when your muscle lengthens while it works  like slowly lowering a weight. It builds control and strength. Would you like me to show you an animation?":A.toLowerCase().includes("rom")?"ROM stands for Range of Motion - it's how far your joint can move. Think of it like a door hinge opening and closing. Better ROM means less stiffness and more freedom of movement!":"Great question! That's related to how your body heals and builds strength. Let me break that down for you in simple terms...";return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center justify-center gap-2",children:[p.jsx(Wc,{className:"w-8 h-8"}),"RehabClarity Hub  Understand Your Recovery"]}),p.jsx("p",{className:"text-gray-600",children:"AI-powered plain-language explanations for physio terms"})]}),p.jsx(Ot,{className:"border-0 shadow-lg",children:p.jsxs(Ft,{className:"p-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("label",{htmlFor:"search-clarity-hub",className:"sr-only",children:"Search any term"}),p.jsx(Ub,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx(bs,{id:"search-clarity-hub",name:"searchClarityHub",type:"search",autoComplete:"off",placeholder:"Search any term (e.g., ROM, eccentric, stabilization)...",value:e,onChange:A=>t(A.target.value),className:"pl-12 h-14 text-lg"})]}),p.jsx("div",{className:"mt-4",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:["All","Common Terms","Metrics","Body Areas","Recovery Phases"].map(A=>p.jsx(Lt,{variant:r===A?"default":"outline",size:"sm",onClick:()=>i(A),className:r===A?"bg-[#2C2E6F]":"",children:A},A))})})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Quick Filters"})}),p.jsx(Ft,{className:"space-y-2",children:["Shoulder","Knee","Back","Neck","Pain Scale"].map(A=>p.jsx(Lt,{variant:"outline",size:"sm",className:"w-full justify-start hover:bg-[#E9E6F9] hover:text-[#2C2E6F] hover:border-[#2C2E6F]",children:A},A))})]}),p.jsxs(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F] text-sm",children:"Featured Videos"})}),p.jsxs(Ft,{className:"space-y-3",children:[p.jsx("div",{className:"relative aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:p.jsx(wj,{className:"w-12 h-12 text-[#2C2E6F]"})}),p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:P1[m].title}),p.jsx("p",{className:"text-xs text-gray-500",children:P1[m].duration})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Lt,{size:"sm",variant:"outline",onClick:()=>v(A=>A>0?A-1:P1.length-1),className:"flex-1",children:p.jsx(_ae,{className:"w-4 h-4"})}),p.jsx(Lt,{size:"sm",variant:"outline",onClick:()=>v(A=>A<P1.length-1?A+1:0),className:"flex-1",children:p.jsx(Sae,{className:"w-4 h-4"})})]})]})]})]}),p.jsxs("div",{className:"lg:col-span-3",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(A=>p.jsx(Ot,{className:"border-0 shadow-lg hover:shadow-xl transition-all cursor-pointer",onClick:()=>o(A),children:p.jsxs(Ft,{className:"p-5 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:A.icon}),p.jsx("h4",{className:"text-[#2C2E6F]",children:A.term})]}),p.jsx(hr,{variant:"outline",className:"text-xs",children:A.category})]}),p.jsx("p",{className:"text-sm text-gray-700",children:A.simpleDef}),p.jsx("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Ej,{className:"w-4 h-4 text-[#2C2E6F] flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-xs text-gray-700 italic",children:A.analogy})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Lt,{size:"sm",variant:"outline",className:"flex-1 gap-1",onClick:E=>E.stopPropagation(),children:[p.jsx(rce,{className:"w-3 h-3"}),"Listen"]}),p.jsx(Lt,{size:"sm",className:"flex-1 bg-[#4DD2C1] hover:bg-[#3bc1b0] gap-1",children:"Examples"})]}),p.jsx("div",{className:"pt-2 border-t border-gray-100",children:p.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[p.jsx(Wc,{className:"w-3 h-3"}),A.whyMatters.split(".")[0]]})})]})},A.id))}),b.length===0&&p.jsx(Ot,{className:"border-0 shadow-lg",children:p.jsx(Ft,{className:"p-12 text-center",children:p.jsx("p",{className:"text-gray-500",children:"No terms found. Try a different search or category."})})})]})]}),n==="clinician"&&p.jsxs(p.Fragment,{children:[p.jsx(ec,{className:"my-8"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-[#2C2E6F] mb-4",children:"Patient Education Analytics"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Most Searched Terms This Week"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:250,children:p.jsxs(gC,{data:QTe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"term",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(ui,{}),p.jsx(vu,{dataKey:"searches",fill:"#2C2E6F",radius:[8,8,0,0]})]})})})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-[#2C2E6F]",children:"Avg Understanding Rating"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ple,{className:"w-5 h-5 text-green-600"}),p.jsx("span",{className:"text-2xl text-[#2C2E6F]",children:"4.5/5"})]})]})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:250,children:p.jsxs(cu,{data:e2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"week",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{domain:[0,5],stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(ui,{}),p.jsx(As,{type:"monotone",dataKey:"rating",stroke:"#4DD2C1",strokeWidth:3,dot:{fill:"#4DD2C1",r:4}})]})})})]})]}),p.jsx(Ot,{className:"border-0 shadow-lg mt-6",children:p.jsx(Ft,{className:"p-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[p.jsx(ma,{className:"w-5 h-5 text-green-600"}),p.jsx("p",{className:"text-3xl text-[#2C2E6F]",children:"248"})]}),p.jsx("p",{className:"text-sm text-gray-600",children:"Total Searches This Week"})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[p.jsx(Wc,{className:"w-5 h-5 text-[#4DD2C1]"}),p.jsx("p",{className:"text-3xl text-[#2C2E6F]",children:"89%"})]}),p.jsx("p",{className:"text-sm text-gray-600",children:'Marked "Understood"'})]}),p.jsx("div",{className:"text-center",children:p.jsxs(Lt,{className:"bg-[#2C2E6F] hover:bg-[#1f2050] gap-2",children:[p.jsx(p0,{className:"w-4 h-4"}),"Download Patient Questions CSV"]})})]})})})]})]}),p.jsx(DE,{open:!!s,onOpenChange:()=>o(null),children:p.jsx(BE,{className:"sm:max-w-2xl",children:s&&p.jsxs(p.Fragment,{children:[p.jsxs(kE,{children:[p.jsxs(LE,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx("span",{className:"text-3xl",children:s.icon}),s.term]}),p.jsx(jE,{children:"Let's make this simple together"})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Ej,{className:"w-4 h-4"}),"Simple Meaning"]}),p.jsx("p",{className:"text-gray-700 mb-2",children:s.simpleDef}),p.jsx("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:p.jsx("p",{className:"text-sm text-gray-700 italic",children:s.analogy})})]}),p.jsx(ec,{}),p.jsxs("div",{children:[p.jsxs("h4",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Wc,{className:"w-4 h-4"}),"Why It Matters to You"]}),p.jsx("p",{className:"text-gray-700 mb-3",children:s.whyMatters}),s.relatedExercises.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Related exercises:"}),s.relatedExercises.map((A,E)=>p.jsx(hr,{className:"bg-[#4DD2C1] text-white",children:A},E))]})]}),p.jsx(ec,{}),p.jsxs("div",{children:[p.jsxs("h4",{className:"text-[#2C2E6F] mb-3 flex items-center gap-2",children:[p.jsx(ma,{className:"w-4 h-4"}),"How to Improve It"]}),p.jsx("div",{className:"space-y-2",children:s.howToImprove.map((A,E)=>p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-6 h-6 bg-[#2C2E6F] text-white rounded-full flex items-center justify-center flex-shrink-0 text-sm",children:E+1}),p.jsx("p",{className:"text-sm text-gray-700",children:A})]},E))})]}),p.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(wj,{className:"w-16 h-16 text-[#2C2E6F] mx-auto mb-2"}),p.jsx("p",{className:"text-sm text-gray-600",children:"15-second explanation video"})]})}),p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-[#E9E6F9] to-white rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-700",children:"Did this help you understand?"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Lt,{size:"sm",variant:"outline",className:"gap-2 hover:bg-green-50 hover:text-green-700 hover:border-green-300",onClick:()=>{o(null)},children:[p.jsx(jle,{className:"w-4 h-4"}),"Got it!"]}),p.jsxs(Lt,{size:"sm",variant:"outline",className:"gap-2 hover:bg-orange-50 hover:text-orange-700 hover:border-orange-300",children:[p.jsx(kle,{className:"w-4 h-4"}),"Still confused"]})]})]}),p.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:p.jsxs("p",{className:"text-green-700",children:[" Now you understand ",s.term,"! Keep up the progress."]})})]})]})})}),!a&&p.jsx(Lt,{onClick:()=>l(!0),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] hover:shadow-2xl shadow-lg z-50",size:"icon",children:p.jsx(Qae,{className:"w-6 h-6"})}),a&&p.jsxs(Ot,{className:"fixed bottom-6 right-6 w-96 h-[500px] shadow-2xl z-50 border-0 flex flex-col",children:[p.jsxs(ln,{className:"bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white rounded-t-lg",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Wc,{className:"w-5 h-5"}),p.jsx(un,{className:"text-white",children:"AI Assistant"})]}),p.jsx(Lt,{size:"icon",variant:"ghost",onClick:()=>l(!1),className:"text-white hover:bg-white/20",children:p.jsx(HF,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-sm text-white/90",children:"Ask me anything you don't understand"})]}),p.jsxs(Ft,{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[u.length===0&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Try asking:"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Lt,{size:"sm",variant:"outline",className:"w-full text-left justify-start",onClick:()=>f("What is eccentric training?"),children:'"What is eccentric training?"'}),p.jsx(Lt,{size:"sm",variant:"outline",className:"w-full text-left justify-start",onClick:()=>f("Explain ROM to me"),children:'"Explain ROM to me"'})]})]}),u.map((A,E)=>p.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${A.role==="user"?"bg-[#2C2E6F] text-white":"bg-[#E9E6F9] text-gray-700"}`,children:p.jsx("p",{className:"text-sm",children:A.text})})},E))]}),p.jsx("div",{className:"p-4 border-t",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(bs,{value:c,onChange:A=>f(A.target.value),onKeyPress:A=>A.key==="Enter"&&y(),placeholder:"Type your question...",className:"flex-1"}),p.jsx(Lt,{onClick:y,className:"bg-[#4DD2C1] hover:bg-[#3bc1b0]",size:"icon",children:p.jsx(bE,{className:"w-4 h-4"})})]})})]})]})}const t2e=n=>{switch(n){case"Beginner":return"bg-[#3ECF8E]/10 text-[#3ECF8E]";case"Intermediate":return"bg-[#6F66FF]/10 text-[#6F66FF]";case"Advanced":return"bg-[#F87171]/10 text-[#F87171]";default:return"bg-[#1B1E3D]/10 text-[#1B1E3D]"}};function QH(){const[n,e]=B.useState(""),[t,r]=B.useState([]),i=Td(),s=hm();B.useEffect(()=>{(()=>{const c=Bf.getExercises();r(c)})()},[s.pathname]),B.useEffect(()=>{const d=()=>{if(!document.hidden){const c=Bf.getExercises();r(c)}};return document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d)}},[]),B.useEffect(()=>{const d=()=>{setTimeout(()=>{const f=Bf.getExercises();r(f)},150)};window.addEventListener("storage",d),window.addEventListener("exerciseProgressUpdated",d);const c=()=>{const f=Bf.getExercises();r(f)};return window.addEventListener("focus",c),()=>{window.removeEventListener("storage",d),window.removeEventListener("exerciseProgressUpdated",d),window.removeEventListener("focus",c)}},[]);const o=d=>{sessionStorage.setItem("selectedExercise",JSON.stringify(d)),sessionStorage.setItem("selectedExerciseId",d.id),i("/live-session")},a=t.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.tags.some(c=>c.toLowerCase().includes(n.toLowerCase()))),l=t.filter(d=>d.progress===100).length,u=t.length;return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl mb-2 text-[#2C2E6F]",children:"My Exercise Library"}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Your personalized exercises prescribed by your physiotherapist."}),p.jsxs("div",{className:"mt-4 text-white rounded-2xl p-6 shadow-lg",style:{background:"linear-gradient(to right, #6F66FF, #8C7BFF)",backgroundColor:"#6F66FF",backgroundImage:"linear-gradient(to right, #6F66FF, #8C7BFF)"},children:[p.jsx("p",{className:"text-center",children:"Let's continue your recovery journey "}),p.jsx("p",{className:"text-center text-sm opacity-80 mt-1",children:"These exercises are automatically generated from your treatment plan."})]})]}),p.jsxs("div",{className:"mb-6 flex gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("label",{htmlFor:"search-exercises",className:"sr-only",children:"Search your prescribed exercises"}),p.jsx(Ub,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#1B1E3D]/40",size:20}),p.jsx(bs,{id:"search-exercises",name:"searchExercises",type:"search",autoComplete:"off",placeholder:"Search your prescribed exercises...",value:n,onChange:d=>e(d.target.value),className:"rounded-xl pl-12"})]}),p.jsx(Lt,{variant:"outline",className:"rounded-xl",children:"Sort by Body Area"}),p.jsx(Lt,{variant:"outline",className:"rounded-xl",children:"Sort by Difficulty"})]}),p.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:a.map(d=>p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-1 transition-all duration-200",children:[p.jsxs(ln,{children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center",children:p.jsx(t$,{className:"text-white",size:24})}),p.jsx(hr,{className:t2e(d.difficulty),children:d.difficulty})]}),p.jsx(un,{className:"text-lg",children:d.name})]}),p.jsx(Ft,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1B1E3D]/60",children:[p.jsx(tx,{size:16}),p.jsxs("span",{children:[d.sets," sets  ",d.reps," reps"]})]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70 leading-relaxed",children:d.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((c,f)=>p.jsx(hr,{variant:"outline",className:"text-xs border-[#1B1E3D]/20",children:c},f))}),p.jsxs("div",{className:"pt-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm text-[#1B1E3D]/60 mb-2",children:[p.jsx("span",{children:"Progress this week"}),p.jsxs("span",{children:[d.totalSessions-d.completedSessions," of ",d.totalSessions," sessions remaining"]})]}),p.jsx(em,{value:100-d.progress,className:"h-2"})]}),p.jsxs(Lt,{onClick:()=>o(d),className:"w-full bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl group",children:[d.progress===100?"Practice Again":"Let's Go",p.jsx(dae,{size:16,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]},d.id))}),p.jsx(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] bg-gradient-to-br from-[#3ECF8E]/10 to-[#3ECF8E]/5 border-2 border-[#3ECF8E]/20",children:p.jsx(Ft,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-[#3ECF8E] flex items-center justify-center text-white text-xl",children:l===u?"":""}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg",children:l===u?p.jsx(p.Fragment,{children:"Amazing work! You've completed all exercises today! "}):p.jsxs(p.Fragment,{children:["You've completed ",l," of ",u," exercises today!"]})}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Keep up the great work on your recovery journey"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-3xl text-[#3ECF8E]",children:[Math.round(l/u*100),"%"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Complete"})]})]})})}),p.jsx("div",{className:"mt-6 text-center text-sm text-[#1B1E3D]/60",children:p.jsx("p",{children:"Exercises are automatically generated from your latest rehab plan  prescribed by your clinician and powered by AI Plan Reader."})})]})}var vC="Switch",[n2e]=mc(vC),[r2e,i2e]=n2e(vC),mJ=B.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...c}=n,[f,m]=B.useState(null),v=Ir(e,E=>m(E)),b=B.useRef(!1),y=f?d||!!f.closest("form"):!0,[w,A]=yd({prop:i,defaultProp:s??!1,onChange:u,caller:vC});return p.jsxs(r2e,{scope:t,checked:w,disabled:a,children:[p.jsx(Wn.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":xJ(w),"data-disabled":a?"":void 0,disabled:a,value:l,...c,ref:v,onClick:Fn(n.onClick,E=>{A(C=>!C),y&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),y&&p.jsx(yJ,{control:f,bubbles:!b.current,name:r,value:l,checked:w,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});mJ.displayName=vC;var gJ="SwitchThumb",vJ=B.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=i2e(gJ,t);return p.jsx(Wn.span,{"data-state":xJ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});vJ.displayName=gJ;var s2e="SwitchBubbleInput",yJ=B.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},s)=>{const o=B.useRef(null),a=Ir(o,s),l=mE(t),u=gE(e);return B.useEffect(()=>{const d=o.current;if(!d)return;const c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"checked").set;if(l!==t&&m){const v=new Event("click",{bubbles:r});m.call(d,t),d.dispatchEvent(v)}},[l,t,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:a,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yJ.displayName=s2e;function xJ(n){return n?"checked":"unchecked"}var o2e=mJ,a2e=vJ;function Cy({className:n,...e}){return p.jsx(o2e,{"data-slot":"switch",className:Vn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(a2e,{"data-slot":"switch-thumb",className:Vn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var aN="rovingFocusGroup.onEntryFocus",l2e={bubbles:!1,cancelable:!0},Kb="RovingFocusGroup",[IO,bJ,c2e]=GF(Kb),[u2e,_J]=mc(Kb,[c2e]),[d2e,f2e]=u2e(Kb),wJ=B.forwardRef((n,e)=>p.jsx(IO.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(IO.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(h2e,{...n,ref:e})})}));wJ.displayName=Kb;var h2e=B.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...c}=n,f=B.useRef(null),m=Ir(e,f),v=_E(s),[b,y]=yd({prop:o,defaultProp:a??null,onChange:l,caller:Kb}),[w,A]=B.useState(!1),E=Wf(u),C=bJ(t),M=B.useRef(!1),[R,O]=B.useState(0);return B.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(aN,E),()=>k.removeEventListener(aN,E)},[E]),p.jsx(d2e,{scope:t,orientation:r,dir:v,loop:i,currentTabStopId:b,onItemFocus:B.useCallback(k=>y(k),[y]),onItemShiftTab:B.useCallback(()=>A(!0),[]),onFocusableItemAdd:B.useCallback(()=>O(k=>k+1),[]),onFocusableItemRemove:B.useCallback(()=>O(k=>k-1),[]),children:p.jsx(Wn.div,{tabIndex:w||R===0?-1:0,"data-orientation":r,...c,ref:m,style:{outline:"none",...n.style},onMouseDown:Fn(n.onMouseDown,()=>{M.current=!0}),onFocus:Fn(n.onFocus,k=>{const D=!M.current;if(k.target===k.currentTarget&&D&&!w){const I=new CustomEvent(aN,l2e);if(k.currentTarget.dispatchEvent(I),!I.defaultPrevented){const L=C().filter(V=>V.focusable),W=L.find(V=>V.active),q=L.find(V=>V.id===b),ne=[W,q,...L].filter(Boolean).map(V=>V.ref.current);EJ(ne,d)}}M.current=!1}),onBlur:Fn(n.onBlur,()=>A(!1))})})}),SJ="RovingFocusGroupItem",AJ=B.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=Hf(),u=s||l,d=f2e(SJ,t),c=d.currentTabStopId===u,f=bJ(t),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:b}=d;return B.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),p.jsx(IO.ItemSlot,{scope:t,id:u,focusable:r,active:i,children:p.jsx(Wn.span,{tabIndex:c?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Fn(n.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Fn(n.onFocus,()=>d.onItemFocus(u)),onKeyDown:Fn(n.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=g2e(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=f().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const C=E.indexOf(y.currentTarget);E=d.loop?v2e(E,C+1):E.slice(C+1)}setTimeout(()=>EJ(E))}}),children:typeof o=="function"?o({isCurrentTabStop:c,hasTabStop:b!=null}):o})})});AJ.displayName=SJ;var p2e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m2e(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function g2e(n,e,t){const r=m2e(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return p2e[r]}function EJ(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function v2e(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var y2e=wJ,x2e=AJ,yC="Tabs",[b2e]=mc(yC,[_J]),CJ=_J(),[_2e,pB]=b2e(yC),MJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=n,d=_E(a),[c,f]=yd({prop:r,onChange:i,defaultProp:s??"",caller:yC});return p.jsx(_2e,{scope:t,baseId:Hf(),value:c,onValueChange:f,orientation:o,dir:d,activationMode:l,children:p.jsx(Wn.div,{dir:d,"data-orientation":o,...u,ref:e})})});MJ.displayName=yC;var TJ="TabsList",PJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=pB(TJ,t),o=CJ(t);return p.jsx(y2e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(Wn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});PJ.displayName=TJ;var RJ="TabsTrigger",NJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=pB(RJ,t),a=CJ(t),l=FJ(o.baseId,r),u=DJ(o.baseId,r),d=r===o.value;return p.jsx(x2e,{asChild:!0,...a,focusable:!i,active:d,children:p.jsx(Wn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Fn(n.onMouseDown,c=>{!i&&c.button===0&&c.ctrlKey===!1?o.onValueChange(r):c.preventDefault()}),onKeyDown:Fn(n.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&o.onValueChange(r)}),onFocus:Fn(n.onFocus,()=>{const c=o.activationMode!=="manual";!d&&!i&&c&&o.onValueChange(r)})})})});NJ.displayName=RJ;var IJ="TabsContent",OJ=B.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=pB(IJ,t),l=FJ(a.baseId,r),u=DJ(a.baseId,r),d=r===a.value,c=B.useRef(d);return B.useEffect(()=>{const f=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(th,{present:i||d,children:({present:f})=>p.jsx(Wn.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:c.current?"0s":void 0},children:f&&s})})});OJ.displayName=IJ;function FJ(n,e){return`${n}-trigger-${e}`}function DJ(n,e){return`${n}-content-${e}`}var w2e=MJ,S2e=PJ,A2e=NJ,E2e=OJ;function xC({className:n,...e}){return p.jsx(w2e,{"data-slot":"tabs",className:Vn("flex flex-col gap-2",n),...e})}function bC({className:n,...e}){return p.jsx(S2e,{"data-slot":"tabs-list",className:Vn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Ba({className:n,...e}){return p.jsx(A2e,{"data-slot":"tabs-trigger",className:Vn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function lc({className:n,...e}){return p.jsx(E2e,{"data-slot":"tabs-content",className:Vn("flex-1 outline-none",n),...e})}function e9(){const{user:n}=pu(),[e,t]=B.useState(!1),[r,i]=B.useState(!0),[s,o]=B.useState(!0),[a,l]=B.useState(!0),{firstName:u,lastName:d,userInitial:c}=B.useMemo(()=>{if(!n?.name)return{firstName:"",lastName:"",userInitial:"U"};const m=n.name.trim().split(/\s+/),v=m[0]||"",b=m.slice(1).join(" ")||"",y=v.charAt(0).toUpperCase()||"U";return{firstName:v,lastName:b,userInitial:y}},[n?.name]),f=[{name:"Apple Health",connected:!0,icon:""},{name:"Fitbit",connected:!1,icon:""},{name:"Google Fit",connected:!0,icon:""}];return p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Settings"}),p.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})]}),p.jsxs(xC,{defaultValue:"account",className:"space-y-6",children:[p.jsxs(bC,{className:"bg-white border border-gray-200",children:[p.jsxs(Ba,{value:"account",className:"gap-2",children:[p.jsx(Zle,{className:"w-4 h-4"}),"Account"]}),p.jsxs(Ba,{value:"notifications",className:"gap-2",children:[p.jsx(_j,{className:"w-4 h-4"}),"Notifications"]}),p.jsxs(Ba,{value:"devices",className:"gap-2",children:[p.jsx(Mle,{className:"w-4 h-4"}),"Connected Devices"]}),p.jsxs(Ba,{value:"privacy",className:"gap-2",children:[p.jsx(Rj,{className:"w-4 h-4"}),"Data & Privacy"]})]}),p.jsx(lc,{value:"account",children:p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Account Information"})}),p.jsxs(Ft,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-2xl",children:c}),p.jsx("div",{children:p.jsx(Lt,{variant:"outline",size:"sm",children:"Change Photo"})})]}),p.jsx(ec,{}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"firstName",children:"First Name"}),p.jsx(bs,{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",defaultValue:u})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"lastName",children:"Last Name"}),p.jsx(bs,{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",defaultValue:d})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"email",children:"Email"}),p.jsx(bs,{id:"email",name:"email",type:"email",autoComplete:"email",defaultValue:n?.email||""})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"phone",children:"Phone"}),p.jsx(bs,{id:"phone",name:"phone",type:"tel",autoComplete:"tel",placeholder:"Enter your phone number"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"currentPassword",children:"Current Password"}),p.jsx(bs,{id:"currentPassword",name:"currentPassword",type:"password",autoComplete:"current-password",placeholder:""})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"newPassword",children:"New Password"}),p.jsx(bs,{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",placeholder:""})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(as,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx(bs,{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",placeholder:""})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Lt,{className:"bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save Changes"}),p.jsx(Lt,{variant:"outline",children:"Cancel"})]})]})]})}),p.jsx(lc,{value:"notifications",children:p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Notification Preferences"})}),p.jsxs(Ft,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(xE,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email-notifications",className:"text-[#2C2E6F] cursor-pointer",children:"Email Notifications"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]})]}),p.jsx(Cy,{id:"email-notifications",name:"emailNotifications",checked:r,onCheckedChange:i,"aria-label":"Email Notifications"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(_j,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"push-notifications",className:"text-[#2C2E6F] cursor-pointer",children:"Push Notifications"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about session reminders"})]})]}),p.jsx(Cy,{id:"push-notifications",name:"pushNotifications",checked:s,onCheckedChange:o,"aria-label":"Push Notifications"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(Of,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"weekly-report",className:"text-[#2C2E6F] cursor-pointer",children:"Weekly Progress Report"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Summary of your recovery progress"})]})]}),p.jsx(Cy,{id:"weekly-report",name:"weeklyReport",checked:a,onCheckedChange:l,"aria-label":"Weekly Progress Report"})]}),p.jsx(ec,{}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(as,{htmlFor:"notification-frequency",children:"Notification Frequency"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx(Lt,{variant:"outline",className:"bg-[#2C2E6F] text-white",children:"Daily"}),p.jsx(Lt,{variant:"outline",children:"Weekly"}),p.jsx(Lt,{variant:"outline",children:"Monthly"})]})]}),p.jsx(Lt,{className:"bg-[#2C2E6F] hover:bg-[#1f2050]",children:"Save Preferences"})]})]})}),p.jsx(lc,{value:"devices",children:p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Connected Devices"})}),p.jsxs(Ft,{className:"space-y-4",children:[f.map((m,v)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-[#2C2E6F] transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#E9E6F9] rounded-lg flex items-center justify-center text-2xl",children:m.icon}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F]",children:m.name}),p.jsx("p",{className:"text-sm text-gray-600",children:m.connected?"Syncing data automatically":"Not connected"})]})]}),p.jsx(Cy,{id:`device-${v}`,name:`device-${v}`,checked:m.connected,onCheckedChange:()=>{},"aria-label":`${m.name} connection`})]}),v<f.length-1&&p.jsx(ec,{className:"my-4"})]},v)),p.jsx("div",{className:"p-4 bg-[#E9E6F9] rounded-xl",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("strong",{className:"text-[#2C2E6F]",children:"How it works:"})," Connected devices help track your daily activity, heart rate, and sleep patterns to provide better recovery insights."]})})]})]})}),p.jsx(lc,{value:"privacy",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Appearance"})}),p.jsx(Ft,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-[#E9E6F9] rounded-lg flex items-center justify-center",children:p.jsx(ile,{className:"w-5 h-5 text-[#2C2E6F]"})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"dark-mode",className:"text-[#2C2E6F] cursor-pointer",children:"Dark Mode"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Use dark theme for the interface"})]})]}),p.jsx(Cy,{id:"dark-mode",name:"darkMode",checked:e,onCheckedChange:t,"aria-label":"Dark Mode"})]})})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Data Management"})}),p.jsxs(Ft,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[#2C2E6F]",children:"Download Your Data"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Export all your recovery data as CSV"})]}),p.jsxs(Lt,{variant:"outline",className:"gap-2",children:[p.jsx(p0,{className:"w-4 h-4"}),"Export"]})]}),p.jsx(ec,{}),p.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[p.jsx("h4",{className:"text-red-900 mb-2",children:"Delete Account"}),p.jsx("p",{className:"text-sm text-red-700 mb-3",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),p.jsx(Lt,{variant:"destructive",size:"sm",children:"Delete My Account"})]})]})]}),p.jsxs(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Privacy & Security"})}),p.jsxs(Ft,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Rj,{className:"w-5 h-5 text-[#2C2E6F] flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-2",children:"Your Data is Protected"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"All data is encrypted end-to-end and stored securely. We never share your personal health information with third parties without your explicit consent."}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"AI Transparency:"})," Computer vision pose estimation runs on-device. No video data is uploaded to the cloud."]})]})]}),p.jsx(ec,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Lt,{variant:"outline",className:"w-full justify-start",children:"View Privacy Policy"}),p.jsx(Lt,{variant:"outline",className:"w-full justify-start",children:"View Terms of Service"}),p.jsx(Lt,{variant:"outline",className:"w-full justify-start",children:"Manage Consent Preferences"})]})]})]})]})})]})]})}const C2e=[{from:"Mild",to:"Mild",probability:.45,count:89},{from:"Mild",to:"Moderate",probability:.35,count:69},{from:"Mild",to:"Recovery",probability:.2,count:39},{from:"Moderate",to:"Mild",probability:.3,count:52},{from:"Moderate",to:"Moderate",probability:.5,count:87},{from:"Moderate",to:"Severe",probability:.2,count:35},{from:"Severe",to:"Moderate",probability:.4,count:28},{from:"Severe",to:"Severe",probability:.5,count:35},{from:"Severe",to:"Recovery",probability:.1,count:7},{from:"Recovery",to:"Mild",probability:.15,count:12},{from:"Recovery",to:"Recovery",probability:.85,count:68}],lN=["Mild","Moderate","Severe","Recovery"],M2e=n=>n<25?"#A7F3D0":n<40?"#C7D2FE":n<60?"#FECACA":"#FCA5A5",T2e=n=>n>=40?"text-white":"text-slate-800";function P2e(){const[n,e]=B.useState("heatmap"),t=(r,i)=>C2e.find(s=>s.from===r&&s.to===i);return p.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2 mb-1",children:" Milestone Mapping  Pain Transition Matrix"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Visualize patient movement between pain states"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(xC,{value:n,onValueChange:r=>e(r),children:p.jsxs(bC,{className:"bg-white rounded-xl p-1",children:[p.jsx(Ba,{value:"heatmap",className:"rounded-lg text-xs",children:"Heatmap"}),p.jsx(Ba,{value:"sankey",className:"rounded-lg text-xs",children:"Flow"})]})}),p.jsxs(Lt,{variant:"outline",size:"sm",className:"rounded-lg",children:[p.jsx(p0,{className:"mr-2",size:16}),"Export"]})]})]}),n==="heatmap"?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"w-full overflow-x-auto",children:p.jsxs("table",{className:"border-separate",style:{borderSpacing:"14px",width:"100%"},children:[p.jsxs("colgroup",{children:[p.jsx("col",{style:{width:"85px"}}),p.jsx("col",{style:{width:"80px"}}),p.jsx("col",{style:{width:"80px"}}),p.jsx("col",{style:{width:"80px"}}),p.jsx("col",{style:{width:"80px"}})]}),p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-sm font-bold text-slate-600 text-left p-2"}),lN.map(r=>p.jsx("th",{className:"text-sm font-bold text-slate-600 text-center py-3 px-4",style:{fontWeight:"700"},children:r},r))]})}),p.jsx("tbody",{children:lN.map(r=>p.jsxs("tr",{children:[p.jsx("td",{className:"text-sm font-bold text-slate-600 text-right pr-5 py-3 align-middle",style:{fontWeight:"700"},children:r}),lN.map(i=>{const s=t(r,i),o=s?Math.round(s.probability*100):0,a=!s,l=a?"#F3F4F6":M2e(o),u=a?"text-slate-400":T2e(o);return p.jsx("td",{className:"p-0",style:{padding:"0",width:"80px"},children:p.jsxs("div",{className:"h-[48px] w-[80px] flex flex-col items-center justify-center rounded-md font-semibold transition-transform duration-300 hover:scale-[1.02] shadow-sm",style:{backgroundColor:l},children:[p.jsx("div",{className:`text-xs font-semibold mb-0 ${u}`,children:a?"":`${o}%`}),!a&&p.jsxs("p",{className:`text-[9px] mt-0 leading-tight ${o>=40?"text-white/80":"text-slate-600"}`,children:["n=",s.count]})]})},`${r}-${i}`)})]},r))})]})}),p.jsxs("div",{className:"flex items-center justify-center gap-6 pt-4 border-t border-slate-200",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#A7F3D0"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Low (<25%)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#C7D2FE"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Medium (25-40%)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#FECACA"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"High (40-60%)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#FCA5A5"}}),p.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Very High (>60%)"})]})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-slate-50 rounded-xl p-8 border border-slate-200",children:p.jsxs("svg",{className:"w-full h-[400px]",viewBox:"0 0 800 400",children:[p.jsxs("g",{children:[p.jsx("rect",{x:"50",y:"50",width:"120",height:"60",rx:"8",fill:"#6F66FF",opacity:"0.8"}),p.jsx("text",{x:"110",y:"85",textAnchor:"middle",fill:"white",fontSize:"14",children:"Mild Pain"}),p.jsx("rect",{x:"50",y:"150",width:"120",height:"60",rx:"8",fill:"#F87171",opacity:"0.6"}),p.jsx("text",{x:"110",y:"185",textAnchor:"middle",fill:"white",fontSize:"14",children:"Moderate"}),p.jsx("rect",{x:"50",y:"250",width:"120",height:"60",rx:"8",fill:"#F87171",opacity:"0.9"}),p.jsx("text",{x:"110",y:"285",textAnchor:"middle",fill:"white",fontSize:"14",children:"Severe"})]}),p.jsxs("g",{children:[p.jsx("rect",{x:"630",y:"50",width:"120",height:"60",rx:"8",fill:"#6F66FF",opacity:"0.8"}),p.jsx("text",{x:"690",y:"85",textAnchor:"middle",fill:"white",fontSize:"14",children:"Mild Pain"}),p.jsx("rect",{x:"630",y:"150",width:"120",height:"60",rx:"8",fill:"#F87171",opacity:"0.6"}),p.jsx("text",{x:"690",y:"185",textAnchor:"middle",fill:"white",fontSize:"14",children:"Moderate"}),p.jsx("rect",{x:"630",y:"250",width:"120",height:"60",rx:"8",fill:"#3ECF8E",opacity:"0.8"}),p.jsx("text",{x:"690",y:"285",textAnchor:"middle",fill:"white",fontSize:"14",children:"Recovery"})]}),p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"flow1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#6F66FF",stopOpacity:"0.3"}),p.jsx("stop",{offset:"100%",stopColor:"#3ECF8E",stopOpacity:"0.3"})]}),p.jsxs("linearGradient",{id:"flow2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#6F66FF",stopOpacity:"0.2"}),p.jsx("stop",{offset:"100%",stopColor:"#F87171",stopOpacity:"0.2"})]})]}),p.jsx("path",{d:"M 170 80 Q 400 80 630 280",fill:"none",stroke:"url(#flow1)",strokeWidth:"20",opacity:"0.6"}),p.jsx("path",{d:"M 170 180 Q 400 180 630 180",fill:"none",stroke:"url(#flow2)",strokeWidth:"30",opacity:"0.6"}),p.jsx("path",{d:"M 170 280 Q 400 280 630 180",fill:"none",stroke:"#F87171",strokeWidth:"15",opacity:"0.3"}),p.jsx("text",{x:"280",y:"270",textAnchor:"middle",fill:"#3ECF8E",fontSize:"12",children:"20%  Recovery"}),p.jsx("text",{x:"400",y:"170",textAnchor:"middle",fill:"#F87171",fontSize:"12",opacity:"0.7",children:"50% stable"})]})}),p.jsx("div",{className:"text-center text-sm text-slate-600",children:"Flow diagram showing patient transitions between pain states over the last 30 days"})]}),p.jsxs("div",{className:"mt-6 p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:[p.jsxs("p",{className:"text-indigo-700 text-sm font-medium mb-2",children:[" Key Insight: Patients transitioning from ",p.jsx("b",{children:"Mild  Recovery"})," rose ",p.jsx("b",{children:"10%"})," this month."]}),p.jsx("p",{className:"text-slate-600 text-xs",children:"This improvement correlates with increased adherence rates. Consider applying similar approaches to moderate pain patients."})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 flex flex-col items-center text-sm",children:[p.jsx(ma,{className:"w-5 h-5 text-green-500 mb-2"}),p.jsx("p",{className:"text-2xl font-semibold text-green-500 mb-1",children:"20%"}),p.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Recovery Rate"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"From mild"})]}),p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 flex flex-col items-center text-sm",children:[p.jsx(pm,{className:"w-5 h-5 text-blue-500 mb-2"}),p.jsx("p",{className:"text-2xl font-semibold text-blue-500 mb-1",children:"50%"}),p.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Stability Rate"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Moderate stable"})]}),p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 flex flex-col items-center text-sm",children:[p.jsx(Cx,{className:"w-5 h-5 text-red-500 mb-2"}),p.jsx("p",{className:"text-2xl font-semibold text-red-500 mb-1",children:"20%"}),p.jsx("p",{className:"text-xs font-medium text-slate-700",children:"At-Risk Rate"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Moderate  Severe"})]})]})]})}var cN,_C="HoverCard",[BJ]=mc(_C,[ME]),wC=ME(),[R2e,SC]=BJ(_C),kJ=n=>{const{__scopeHoverCard:e,children:t,open:r,defaultOpen:i,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=n,l=wC(e),u=B.useRef(0),d=B.useRef(0),c=B.useRef(!1),f=B.useRef(!1),[m,v]=yd({prop:r,defaultProp:i??!1,onChange:s,caller:_C}),b=B.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>v(!0),o)},[o,v]),y=B.useCallback(()=>{clearTimeout(u.current),!c.current&&!f.current&&(d.current=window.setTimeout(()=>v(!1),a))},[a,v]),w=B.useCallback(()=>v(!1),[v]);return B.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),p.jsx(R2e,{scope:e,open:m,onOpenChange:v,onOpen:b,onClose:y,onDismiss:w,hasSelectionRef:c,isPointerDownOnContentRef:f,children:p.jsx(P$,{...l,children:t})})};kJ.displayName=_C;var LJ="HoverCardTrigger",jJ=B.forwardRef((n,e)=>{const{__scopeHoverCard:t,...r}=n,i=SC(LJ,t),s=wC(t);return p.jsx(R$,{asChild:!0,...s,children:p.jsx(Wn.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Fn(n.onPointerEnter,cA(i.onOpen)),onPointerLeave:Fn(n.onPointerLeave,cA(i.onClose)),onFocus:Fn(n.onFocus,i.onOpen),onBlur:Fn(n.onBlur,i.onClose),onTouchStart:Fn(n.onTouchStart,o=>o.preventDefault())})})});jJ.displayName=LJ;var mB="HoverCardPortal",[N2e,I2e]=BJ(mB,{forceMount:void 0}),UJ=n=>{const{__scopeHoverCard:e,forceMount:t,children:r,container:i}=n,s=SC(mB,e);return p.jsx(N2e,{scope:e,forceMount:t,children:p.jsx(th,{present:t||s.open,children:p.jsx(TE,{asChild:!0,container:i,children:r})})})};UJ.displayName=mB;var lA="HoverCardContent",zJ=B.forwardRef((n,e)=>{const t=I2e(lA,n.__scopeHoverCard),{forceMount:r=t.forceMount,...i}=n,s=SC(lA,n.__scopeHoverCard);return p.jsx(th,{present:r||s.open,children:p.jsx(O2e,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Fn(n.onPointerEnter,cA(s.onOpen)),onPointerLeave:Fn(n.onPointerLeave,cA(s.onClose)),ref:e})})});zJ.displayName=lA;var O2e=B.forwardRef((n,e)=>{const{__scopeHoverCard:t,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=n,l=SC(lA,t),u=wC(t),d=B.useRef(null),c=Ir(e,d),[f,m]=B.useState(!1);return B.useEffect(()=>{if(f){const v=document.body;return cN=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=cN,v.style.webkitUserSelect=cN}}},[f]),B.useEffect(()=>{if(d.current){const v=()=>{m(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),B.useEffect(()=>{d.current&&B2e(d.current).forEach(b=>b.setAttribute("tabindex","-1"))}),p.jsx(wE,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Fn(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:p.jsx(N$,{...u,...a,onPointerDown:Fn(a.onPointerDown,v=>{v.currentTarget.contains(v.target)&&m(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:c,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),F2e="HoverCardArrow",D2e=B.forwardRef((n,e)=>{const{__scopeHoverCard:t,...r}=n,i=wC(t);return p.jsx(I$,{...i,...r,ref:e})});D2e.displayName=F2e;function cA(n){return e=>e.pointerType==="touch"?void 0:n()}function B2e(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)e.push(t.currentNode);return e}var k2e=kJ,L2e=jJ,j2e=UJ,U2e=zJ;function z2e({...n}){return p.jsx(k2e,{"data-slot":"hover-card",...n})}function H2e({...n}){return p.jsx(L2e,{"data-slot":"hover-card-trigger",...n})}function G2e({className:n,align:e="center",sideOffset:t=4,...r}){return p.jsx(j2e,{"data-slot":"hover-card-portal",children:p.jsx(U2e,{"data-slot":"hover-card-content",align:e,sideOffset:t,className:Vn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}const V2e=[{day:"Day 1",adherence:78},{day:"Day 5",adherence:82},{day:"Day 10",adherence:85},{day:"Day 15",adherence:88},{day:"Day 20",adherence:91},{day:"Day 25",adherence:93},{day:"Day 30",adherence:94}];function W2e(){return p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] bg-gradient-to-br from-[#F59E0B]/5 to-[#3ECF8E]/5 border-2 border-[#F59E0B]/20",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#F59E0B] to-[#F97316] flex items-center justify-center",children:p.jsx(Sx,{className:"text-white",size:24})}),p.jsxs("div",{children:[p.jsx(un,{className:"text-xl",children:"Clinic Performance Incentives"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Shared-Savings Dashboard"})]})]}),p.jsxs(z2e,{children:[p.jsx(H2e,{children:p.jsx(zae,{className:"text-[#1B1E3D]/40 cursor-help",size:20})}),p.jsx(G2e,{className:"w-80",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"text-sm",children:"How Performance Bonuses Work"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70",children:"High completion rates increase your clinic's reimbursement potential. Bonuses are calculated based on aggregated patient outcomes."})]})})]})]})}),p.jsxs(Ft,{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Portfolio Completion"}),p.jsxs(hr,{className:"bg-gradient-to-r from-[#F59E0B] to-[#F97316] text-white border-0",children:["Tier ","A"]})]}),p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:[94,"%"]}),p.jsxs("p",{className:"text-sm",style:{color:"#3ECF8E"},children:["10% performance bonus",!1,!1]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(ma,{className:"text-[#3ECF8E]",size:20}),p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Current Tier"})]}),p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:["Tier ","A"]}),p.jsxs("p",{className:"text-sm",style:{color:"#3ECF8E"},children:[" 90% completion",!1,!1]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(Sx,{className:"text-[#6F66FF]",size:20}),p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Bonus Rate"})]}),p.jsxs("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E",opacity:1},children:["+",10,"%"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Performance bonus"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsx("h4",{className:"mb-4",children:"Performance Tier System"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gradient-to-r from-[#3ECF8E]/10 to-[#3ECF8E]/5 border border-[#3ECF8E]/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hr,{className:"bg-[#3ECF8E] text-white border-0",children:"Tier A"}),p.jsx("span",{className:"text-sm",style:{color:"#3ECF8E"},children:" 90% portfolio completion"})]}),p.jsx("span",{style:{color:"#3ECF8E"},children:"+10% bonus"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[#F59E0B]/10 border border-[#F59E0B]/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hr,{className:"bg-[#F59E0B] text-white border-0",children:"Tier B"}),p.jsx("span",{className:"text-sm",style:{color:"#F59E0B"},children:"75-89% portfolio completion"})]}),p.jsx("span",{style:{color:"#F59E0B"},children:"Standard rate"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[#F87171]/10 border border-[#F87171]/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(hr,{className:"bg-[#F87171] text-white border-0",children:"Tier C"}),p.jsxs("span",{className:"text-sm",style:{color:"#F87171"},children:["<"," 75% portfolio completion"]})]}),p.jsx("span",{style:{color:"#F87171"},children:"Below target"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h4",{children:"Patient Engagement Trend"}),p.jsx("span",{className:"text-sm text-[#1B1E3D]/60",children:"Last 30 days"})]}),p.jsx(to,{width:"100%",height:200,children:p.jsxs(cu,{data:V2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,100]}),p.jsx(ui,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#6F66FF",strokeWidth:3,name:"Avg Adherence %",dot:{fill:"#6F66FF",r:5}})]})})]}),p.jsx("div",{className:"bg-[#6F66FF]/5 rounded-xl p-4 border border-[#6F66FF]/20",children:p.jsx("p",{className:"text-sm text-[#1B1E3D]/70",children:" Metrics based on aggregated RRI scores  no patient identifiers used."})})]})]})}const $2e=[{date:"Oct 18",adherence:88,performance:85},{date:"Oct 20",adherence:90,performance:88},{date:"Oct 22",adherence:92,performance:90},{date:"Oct 24",adherence:94,performance:92},{date:"Oct 26",adherence:95,performance:93},{date:"Oct 28",adherence:96,performance:94},{date:"Oct 30",adherence:96,performance:95}],q2e=[{day:"Day 1",pain:6.5},{day:"Day 3",pain:6},{day:"Day 5",pain:5.5},{day:"Day 7",pain:5},{day:"Day 9",pain:4.8},{day:"Day 11",pain:4.2},{day:"Day 13",pain:3.8}],X2e=[{injury:"Shoulder",rate:92},{injury:"Neck",rate:88},{injury:"Knee",rate:94},{injury:"Back",rate:85},{injury:"Hip",rate:90}],K2e=[{name:"Rose Nguyen",adherence:94,performance:92,risk:"Low",nextAppt:"Nov 3",notes:"Excellent progress",riskColor:"text-[#3ECF8E]"},{name:"James Chen",adherence:88,performance:85,risk:"Low",nextAppt:"Nov 4",notes:"On track",riskColor:"text-[#3ECF8E]"},{name:"Mia Patel",adherence:70,performance:75,risk:"High",nextAppt:"Nov 5",notes:"Motivation slipping",riskColor:"text-[#F87171]"},{name:"Sarah Kim",adherence:82,performance:80,risk:"Medium",nextAppt:"Nov 6",notes:"Needs encouragement",riskColor:"text-[#F87171]/60"},{name:"David Lopez",adherence:96,performance:94,risk:"Low",nextAppt:"Nov 7",notes:"Ahead of schedule",riskColor:"text-[#3ECF8E]"}],t9=(n,e)=>e&&e.toLowerCase()==="high"?"#F87171":e&&e.toLowerCase()==="medium"?"#F59E0B":n>0?"#3ECF8E":"#F59E0B",Y2e=n=>n.toLowerCase()==="low"?"#3ECF8E":n.toLowerCase()==="high"?"#F87171":"#F59E0B";function n9({onNavigate:n}){const{user:e}=pu(),t=i=>{n?n(i):window.location.href=`/${i}`},r=e?.name||"Clinician";return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl mb-2",children:["Hi ",r," , here's your clinic's performance today."]}),p.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[p.jsx(Lt,{variant:"outline",className:"rounded-xl",children:"This Week"}),p.jsx(Lt,{variant:"outline",className:"rounded-xl",children:"This Month"}),p.jsx(Lt,{variant:"outline",className:"rounded-xl",children:"Custom Range"}),p.jsx("div",{className:"flex-1"}),p.jsxs(Lt,{className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:[p.jsx(hle,{className:"mr-2",size:18}),"Add Patient"]})]})]}),p.jsxs("div",{className:"flex flex-nowrap gap-4 mb-8 overflow-x-auto",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Total Patients"}),p.jsx(Tx,{className:"text-[#6F66FF] flex-shrink-0",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#6F66FF"},children:"152"}),p.jsx("p",{className:"text-sm font-medium",style:{color:"#6F66FF"},children:"+12% from last month"})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Active Plans"}),p.jsx(pm,{className:"text-[#3ECF8E] flex-shrink-0",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:"118"}),p.jsx("p",{className:"text-sm font-medium",style:{color:"#F59E0B"},children:"3 inactive"})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Avg Completion Rate"}),p.jsx(ma,{className:"text-[#6F66FF] flex-shrink-0",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#3ECF8E"},children:"91%"}),p.jsx("p",{className:"text-sm font-medium",style:{color:"#3ECF8E"},children:"+4% improvement"})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] flex-1 min-w-[200px] flex-shrink-0",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60 whitespace-nowrap",children:"Avg Drop-Off Risk"}),p.jsx(Cx,{className:"text-[#F59E0B] flex-shrink-0",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl mb-1",style:{color:"#F59E0B"},children:"0.38"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Low risk"})]})]})]}),p.jsxs(xC,{defaultValue:"overview",className:"space-y-6",children:[p.jsxs(bC,{className:"bg-white rounded-xl p-1 shadow-sm",children:[p.jsx(Ba,{value:"overview",className:"rounded-lg",children:"Overview"}),p.jsx(Ba,{value:"patients",className:"rounded-lg",children:"Patients"}),p.jsx(Ba,{value:"bonuses",className:"rounded-lg",children:"Performance Bonus"}),p.jsx(Ba,{value:"insights",className:"rounded-lg",children:"Predictive Insights"})]}),p.jsxs(lc,{value:"overview",className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"Adherence vs Performance"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:$2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"date",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6}),p.jsx(ui,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"adherence",stroke:"#6F66FF",strokeWidth:2,name:"Adherence %",dot:{fill:"#6F66FF",r:4}}),p.jsx(As,{type:"monotone",dataKey:"performance",stroke:"#3ECF8E",strokeWidth:2,name:"Performance %",dot:{fill:"#3ECF8E",r:4}})]})})})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"Pain Trend Across Portfolio"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(hB,{data:q2e,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#F87171",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#F87171",stopOpacity:0})]})}),p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"day",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,10]}),p.jsx(ui,{}),p.jsx(yu,{type:"monotone",dataKey:"pain",stroke:"#F87171",strokeWidth:2,fill:"url(#painGradient)",name:"Avg Pain Level"})]})})})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"Completion Rate per Injury Type"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(gC,{data:X2e,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"injury",stroke:"#1B1E3D",opacity:.6}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,100]}),p.jsx(ui,{}),p.jsx(vu,{dataKey:"rate",fill:"#6F66FF",radius:[8,8,0,0],name:"Completion Rate %"})]})})})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{children:"Patient Overview"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Lt,{variant:"outline",size:"sm",className:"rounded-lg",children:[p.jsx(p0,{className:"mr-2",size:16}),"Export CSV"]}),p.jsxs(Lt,{variant:"outline",size:"sm",className:"rounded-lg",children:[p.jsx(p0,{className:"mr-2",size:16}),"Export PDF"]})]})]})}),p.jsx(Ft,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-[#1B1E3D]/10",children:[p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Patient"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Adherence"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Performance"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Risk"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Next Appt"}),p.jsx("th",{className:"text-left py-3 px-4 text-[#1B1E3D]/60 text-sm",children:"Notes"})]})}),p.jsx("tbody",{children:K2e.map((i,s)=>p.jsxs("tr",{className:"border-b border-[#1B1E3D]/5 hover:bg-[#F9F9FB]",children:[p.jsx("td",{className:"py-4 px-4",children:i.name}),p.jsxs("td",{className:"py-4 px-4 font-semibold",style:{color:t9(i.adherence,i.risk)},children:[i.adherence,"%"]}),p.jsxs("td",{className:"py-4 px-4 font-semibold",style:{color:t9(i.performance,i.risk)},children:[i.performance,"%"]}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("span",{style:{color:Y2e(i.risk)},children:[" ",i.risk]})}),p.jsx("td",{className:"py-4 px-4",children:i.nextAppt}),p.jsx("td",{className:"py-4 px-4 text-sm text-[#1B1E3D]/60",children:i.notes})]},s))})]})})})]})]}),p.jsx(lc,{value:"patients",children:p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"All Patients"})}),p.jsx(Ft,{children:p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Search and filter functionality would go here..."})})]})}),p.jsx(lc,{value:"bonuses",children:p.jsx(W2e,{})}),p.jsxs(lc,{value:"insights",className:"space-y-6",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsx(un,{children:"Predictive Insights"})}),p.jsxs(Ft,{children:[p.jsx("p",{className:"text-[#1B1E3D]/70 mb-6",children:"View AI-driven actuarial risk modeling to proactively manage patient recovery outcomes."}),p.jsx(Lt,{onClick:()=>t("actuarial-insights"),className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:"Open Actuarial Insights"})]})]}),p.jsx(P2e,{})]})]})]})}function J2e({...n}){return p.jsx(Wq,{"data-slot":"sheet",...n})}function Z2e({...n}){return p.jsx($q,{"data-slot":"sheet-portal",...n})}function Q2e({className:n,...e}){return p.jsx(qq,{"data-slot":"sheet-overlay",className:Vn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function ePe({className:n,children:e,side:t="right",...r}){return p.jsxs(Z2e,{children:[p.jsx(Q2e,{}),p.jsxs(Xq,{"data-slot":"sheet-content",className:Vn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[e,p.jsxs(Jq,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[p.jsx(HF,{className:"size-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function tPe({className:n,...e}){return p.jsx("div",{"data-slot":"sheet-header",className:Vn("flex flex-col gap-1.5 p-4",n),...e})}function nPe({className:n,...e}){return p.jsx(Kq,{"data-slot":"sheet-title",className:Vn("text-foreground font-semibold",n),...e})}function rPe({className:n,...e}){return p.jsx(Yq,{"data-slot":"sheet-description",className:Vn("text-muted-foreground text-sm",n),...e})}const iPe=[{id:"1",name:"Rose Martinez",age:34,condition:"Shoulder Rehabilitation",recoveryStage:"Phase 1: Mobility",progress:78,nextSession:"2025-11-02",painTrend:[7,6.5,6,5.5,5,4,3.5,3],adherence:96,letterStatus:"Written",riskLevel:"low"},{id:"2",name:"Michael Chen",age:45,condition:"Knee Rehabilitation",recoveryStage:"Phase 2: Strengthening",progress:92,nextSession:"2025-11-03",painTrend:[6,5.5,5,4.5,4,3.5,3,2.5],adherence:88,letterStatus:"Read",riskLevel:"low"},{id:"3",name:"Sarah Johnson",age:28,condition:"Lower Back Pain",recoveryStage:"Phase 1: Mobility",progress:45,nextSession:"2025-11-04",painTrend:[8,7.5,7,7,6.5,6,6,5.5],adherence:62,letterStatus:"Not Written",riskLevel:"medium"},{id:"4",name:"David Kim",age:52,condition:"Hip Replacement Recovery",recoveryStage:"Phase 3: Return to Activity",progress:85,nextSession:"2025-11-01",painTrend:[7,6,5,4.5,4,3.5,3,2],adherence:94,letterStatus:"Written",riskLevel:"low"}];function sPe(){const[n,e]=B.useState(""),[t,r]=B.useState("all"),[i,s]=B.useState("all"),[o,a]=B.useState(null),l=iPe.filter(d=>{const c=d.name.toLowerCase().includes(n.toLowerCase())||d.condition.toLowerCase().includes(n.toLowerCase()),f=t==="all"||d.condition.includes(t),m=i==="all"||d.recoveryStage.includes(i);return c&&f&&m}),u=d=>{switch(d){case"low":return"bg-green-100 text-green-700 border-green-200";case"medium":return"bg-orange-100 text-orange-700 border-orange-200";case"high":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-[#2C2E6F] mb-2",children:"Patient Management"}),p.jsx("p",{className:"text-gray-600",children:"Track and manage patient recovery progress"})]}),p.jsx(Ot,{className:"border-0 shadow-lg",children:p.jsx(Ft,{className:"p-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"relative md:col-span-2",children:[p.jsx("label",{htmlFor:"search-patients",className:"sr-only",children:"Search by name or condition"}),p.jsx(Ub,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx(bs,{id:"search-patients",name:"searchPatients",type:"search",autoComplete:"off",placeholder:"Search by name or condition...",value:n,onChange:d=>e(d.target.value),className:"pl-10"})]}),p.jsxs(Qg,{value:t,onValueChange:r,children:[p.jsx(t0,{children:p.jsx(e0,{placeholder:"By Condition"})}),p.jsxs(n0,{children:[p.jsx(Ii,{value:"all",children:"All Conditions"}),p.jsx(Ii,{value:"Shoulder",children:"Shoulder"}),p.jsx(Ii,{value:"Knee",children:"Knee"}),p.jsx(Ii,{value:"Back",children:"Back"}),p.jsx(Ii,{value:"Hip",children:"Hip"})]})]}),p.jsxs(Qg,{value:i,onValueChange:s,children:[p.jsx(t0,{children:p.jsx(e0,{placeholder:"Recovery Stage"})}),p.jsxs(n0,{children:[p.jsx(Ii,{value:"all",children:"All Stages"}),p.jsx(Ii,{value:"Phase 1",children:"Phase 1: Mobility"}),p.jsx(Ii,{value:"Phase 2",children:"Phase 2: Strengthening"}),p.jsx(Ii,{value:"Phase 3",children:"Phase 3: Return to Activity"})]})]})]})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(d=>p.jsx(Ot,{className:"border-0 shadow-lg hover:shadow-xl transition-all cursor-pointer",onClick:()=>a(d),children:p.jsxs(Ft,{className:"p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-xl",children:d.name.split(" ").map(c=>c[0]).join("")}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#2C2E6F] mb-1",children:d.name}),p.jsxs("p",{className:"text-sm text-gray-600",children:[d.condition,"  Age ",d.age]})]})]}),p.jsxs(hr,{variant:"outline",className:u(d.riskLevel),children:[d.riskLevel," risk"]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Recovery Stage"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:d.recoveryStage})]}),p.jsxs("div",{className:"p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Next Session"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:new Date(d.nextSession).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Progress"}),p.jsxs("span",{className:"text-[#2C2E6F]",children:[d.progress,"%"]})]}),p.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1]",style:{width:`${d.progress}%`}})})]}),p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[p.jsx(ma,{className:"w-4 h-4"}),p.jsxs("span",{children:["Adherence: ",d.adherence,"%"]})]}),p.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[p.jsx(eS,{className:"w-4 h-4"}),p.jsx("span",{children:d.letterStatus})]})]})]})},d.id))}),p.jsx(J2e,{open:!!o,onOpenChange:()=>a(null),children:p.jsx(ePe,{className:"w-full sm:max-w-2xl overflow-y-auto",children:o&&p.jsxs(p.Fragment,{children:[p.jsxs(tPe,{children:[p.jsx(nPe,{className:"text-[#2C2E6F]",children:o.name}),p.jsxs(rPe,{children:[o.condition,"  ",o.recoveryStage]})]}),p.jsxs("div",{className:"space-y-6 mt-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(xE,{className:"w-4 h-4 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"patient@email.com"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#E9E6F9] rounded-lg",children:[p.jsx(ule,{className:"w-4 h-4 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"+1 (555) 000-0000"})]})]})]}),p.jsxs(Ot,{className:"border-0 shadow-sm",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-sm",children:"Pain Trend"})}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:150,children:p.jsxs(cu,{data:o.painTrend.map((d,c)=>({day:c+1,pain:d})),children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"day",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"},domain:[0,10]}),p.jsx(ui,{}),p.jsx(As,{type:"monotone",dataKey:"pain",stroke:"#FF8A73",strokeWidth:2,dot:{fill:"#FF8A73",r:3}})]})})})]}),p.jsxs(Ot,{className:"border-0 shadow-sm",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-sm",children:"Exercise Adherence"})}),p.jsx(Ft,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Current Week"}),p.jsxs("span",{className:"text-sm text-[#4DD2C1]",children:[o.adherence,"%"]})]}),p.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-[#4DD2C1]",style:{width:`${o.adherence}%`}})})]})})]}),p.jsxs(Ot,{className:"border-0 shadow-sm",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-sm",children:"Form Accuracy (Per Exercise)"})}),p.jsx(Ft,{children:p.jsx("div",{className:"space-y-2",children:[{exercise:"Shoulder Rotation",accuracy:94},{exercise:"Neck Mobility",accuracy:88},{exercise:"Upper Back Stretch",accuracy:92}].map((d,c)=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-sm text-gray-700 w-40",children:d.exercise}),p.jsx("div",{className:"flex-1 h-6 bg-gray-100 rounded overflow-hidden",children:p.jsxs("div",{className:`h-full flex items-center justify-end pr-2 text-xs text-white ${d.accuracy>=90?"bg-green-500":d.accuracy>=75?"bg-[#4DD2C1]":"bg-orange-500"}`,style:{width:`${d.accuracy}%`},children:[d.accuracy,"%"]})})]},c))})})]}),p.jsx(Ot,{className:"border-0 shadow-sm bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Ft,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(eS,{className:"w-5 h-5 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#2C2E6F]",children:"Future-Self Letter"}),p.jsx("p",{className:"text-xs text-gray-600",children:o.letterStatus})]})]}),o.letterStatus==="Written"&&p.jsx(hr,{className:"bg-[#4DD2C1]",children:"Active"})]})})}),p.jsxs(Ot,{className:"border-0 shadow-sm",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-sm",children:"Clinician Notes"})}),p.jsx(Ft,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[p.jsx("p",{className:"text-gray-600 mb-1",children:"Nov 1, 2025"}),p.jsx("p",{className:"text-gray-700",children:"Patient achieved 92% form accuracy in today's session. Excellent progress on shoulder mobility."})]}),p.jsx(Lt,{variant:"outline",className:"w-full",size:"sm",children:"Add Note"})]})})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsxs(Lt,{className:"flex-1 bg-[#2C2E6F] hover:bg-[#1f2050]",children:[p.jsx(jF,{className:"w-4 h-4 mr-2"}),"Schedule Session"]}),p.jsx(Lt,{variant:"outline",className:"flex-1",children:"View Full Profile"})]})]})]})})})]})}function HJ({className:n,...e}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Vn("w-full caption-bottom text-sm",n),...e})})}function GJ({className:n,...e}){return p.jsx("thead",{"data-slot":"table-header",className:Vn("[&_tr]:border-b",n),...e})}function VJ({className:n,...e}){return p.jsx("tbody",{"data-slot":"table-body",className:Vn("[&_tr:last-child]:border-0",n),...e})}function uA({className:n,...e}){return p.jsx("tr",{"data-slot":"table-row",className:Vn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function ul({className:n,...e}){return p.jsx("th",{"data-slot":"table-head",className:Vn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function dl({className:n,...e}){return p.jsx("td",{"data-slot":"table-cell",className:Vn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const oPe=[{day:"Today",actual:3,predicted:null},{day:"Day 2",actual:null,predicted:2.8},{day:"Day 3",actual:null,predicted:2.6},{day:"Day 4",actual:null,predicted:2.9},{day:"Day 5",actual:null,predicted:2.4},{day:"Day 6",actual:null,predicted:2.2},{day:"Day 7",actual:null,predicted:2}],r9=[{adherence:"80-100%",dropoffRisk:.05,count:42},{adherence:"60-80%",dropoffRisk:.25,count:28},{adherence:"40-60%",dropoffRisk:.55,count:15},{adherence:"20-40%",dropoffRisk:.78,count:8},{adherence:"0-20%",dropoffRisk:.92,count:5}],i9=[{name:"Sarah Johnson",riskScore:.72,lastActivity:"3 days ago",painSpike:"Likely in 2 days",action:"Send check-in message"},{name:"Robert Williams",riskScore:.65,lastActivity:"2 days ago",painSpike:"Unlikely",action:"Schedule follow-up"},{name:"Jennifer Lee",riskScore:.58,lastActivity:"4 days ago",painSpike:"Possible in 3 days",action:"Review exercise plan"},{name:"Mark Thompson",riskScore:.51,lastActivity:"1 day ago",painSpike:"Unlikely",action:"Monitor progress"}],aPe=[{phase:"Phase 1: Mobility",patients:35,avgProgress:62,color:"#FF8A73"},{phase:"Phase 2: Strengthening",patients:28,avgProgress:78,color:"#4DD2C1"},{phase:"Phase 3: Return",patients:18,avgProgress:91,color:"#2C2E6F"}];function lPe(){const n=e=>e>=.7?p.jsx(hr,{className:"bg-red-500",children:"High"}):e>=.5?p.jsx(hr,{className:"bg-orange-500",children:"Medium"}):p.jsx(hr,{className:"bg-yellow-500",children:"Low"});return p.jsxs("div",{className:"space-y-6 max-w-7xl",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Wc,{className:"w-8 h-8"}),"AI Insights & Predictions"]}),p.jsx("p",{className:"text-gray-600",children:"Predictive analytics powered by machine learning"})]}),p.jsx(hr,{className:"bg-gradient-to-r from-[#2C2E6F] to-[#4DD2C1] text-white px-4 py-2",children:"Real-time Analysis"})]}),p.jsx(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsxs(Ft,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx(Wc,{className:"w-10 h-10 text-[#2C2E6F]"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#2C2E6F]",children:"This Week's Insights"}),p.jsx("p",{className:"text-sm text-gray-600",children:"AI-generated summary across all patients"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg",children:[p.jsx(zle,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Avg Pain"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"12%"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg",children:[p.jsx(ma,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"ROM Improvement"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"8"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg",children:[p.jsx(pm,{className:"w-5 h-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Adherence"}),p.jsx("p",{className:"text-[#2C2E6F]",children:"10%"})]})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Drop-off Risk vs Adherence"})}),p.jsxs(Ft,{children:[p.jsx(to,{width:"100%",height:300,children:p.jsxs(gC,{data:r9,layout:"vertical",children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{type:"number",domain:[0,1],stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{type:"category",dataKey:"adherence",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(ui,{}),p.jsx(vu,{dataKey:"dropoffRisk",name:"Drop-off Risk",children:r9.map((e,t)=>p.jsx(PD,{fill:e.dropoffRisk>=.7?"#ef4444":e.dropoffRisk>=.4?"#f97316":"#22c55e"},`cell-${t}`))})]})}),p.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),p.jsx("span",{className:"text-gray-600",children:"Low Risk"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),p.jsx("span",{className:"text-gray-600",children:"Medium Risk"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),p.jsx("span",{className:"text-gray-600",children:"High Risk"})]})]})]})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Pain Forecast (Next 7 Days)"})}),p.jsxs(Ft,{children:[p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:oPe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qi,{dataKey:"day",stroke:"#6b7280",style:{fontSize:"12px"}}),p.jsx(Xi,{stroke:"#6b7280",style:{fontSize:"12px"},domain:[0,10]}),p.jsx(ui,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"actual",stroke:"#FF8A73",strokeWidth:3,name:"Actual",dot:{fill:"#FF8A73",r:4},connectNulls:!1}),p.jsx(As,{type:"monotone",dataKey:"predicted",stroke:"#2C2E6F",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted",dot:{fill:"#2C2E6F",r:4},connectNulls:!1})]})}),p.jsx("div",{className:"mt-4 p-3 bg-[#E9E6F9] rounded-lg",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("strong",{className:"text-[#2C2E6F]",children:"AI Prediction:"})," Pain levels expected to decrease by 33% over the next week based on current adherence patterns."]})})]})]})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsx(un,{className:"text-[#2C2E6F]",children:"Recovery Phases Progress"})}),p.jsx(Ft,{children:p.jsx("div",{className:"space-y-6",children:aPe.map((e,t)=>p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:e.color},children:t+1}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F]",children:e.phase}),p.jsxs("p",{className:"text-sm text-gray-600",children:[e.patients," patients"]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-[#2C2E6F]",children:[e.avgProgress,"%"]}),p.jsx("p",{className:"text-xs text-gray-600",children:"Avg Progress"})]})]}),p.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full rounded-full",style:{width:`${e.avgProgress}%`,backgroundColor:e.color}})})]},t))})})]}),p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Cx,{className:"w-5 h-5 text-orange-600"}),"At-Risk Patients"]}),p.jsxs(hr,{variant:"outline",className:"text-orange-600 border-orange-200",children:[i9.length," patients need attention"]})]})}),p.jsx(Ft,{children:p.jsxs(HJ,{children:[p.jsx(GJ,{children:p.jsxs(uA,{children:[p.jsx(ul,{children:"Name"}),p.jsx(ul,{children:"Risk Score"}),p.jsx(ul,{children:"Last Activity"}),p.jsx(ul,{children:"Predicted Pain Spike"}),p.jsx(ul,{children:"Suggested Action"}),p.jsx(ul,{})]})}),p.jsx(VJ,{children:i9.map((e,t)=>p.jsxs(uA,{children:[p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-sm",children:e.name.split(" ").map(r=>r[0]).join("")}),p.jsx("span",{className:"text-[#2C2E6F]",children:e.name})]})}),p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[n(e.riskScore),p.jsx("span",{className:"text-sm text-gray-600",children:e.riskScore.toFixed(2)})]})}),p.jsx(dl,{className:"text-gray-600",children:e.lastActivity}),p.jsx(dl,{children:p.jsx(hr,{variant:"outline",className:e.painSpike.includes("Likely")?"border-red-200 text-red-600":e.painSpike.includes("Possible")?"border-orange-200 text-orange-600":"border-green-200 text-green-600",children:e.painSpike})}),p.jsx(dl,{className:"text-gray-700",children:e.action}),p.jsx(dl,{children:p.jsxs(Lt,{size:"sm",variant:"outline",className:"gap-2",children:[p.jsx(bE,{className:"w-3 h-3"}),"Send Nudge"]})})]},t))})]})})]}),p.jsx(Ot,{className:"border-0 shadow-lg bg-gradient-to-br from-[#E9E6F9] to-white",children:p.jsx(Ft,{className:"p-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx(Wc,{className:"w-6 h-6 text-[#2C2E6F] flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[#2C2E6F] mb-2",children:"How AI Predictions Work"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Our predictive models analyze exercise adherence, pain trends, form quality, and engagement patterns using XGBoost and LSTM neural networks. Risk scores are calculated based on deviation from expected recovery trajectories."}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"Transparency:"})," All predictions include confidence intervals and are reviewed by clinicians before patient intervention."]})]})]})})})]})}const cPe=[{week:0,current:100,predicted:100},{week:1,current:98,predicted:97},{week:2,current:95,predicted:94},{week:3,current:92,predicted:90},{week:4,current:88,predicted:85},{week:5,current:84,predicted:80},{week:6,current:80,predicted:75},{week:7,current:76,predicted:70},{week:8,current:72,predicted:65}],s9=[{name:"Sarah Johnson",riskScore:.72,lastActivity:"3 days ago",painSpike:"Likely in 2 days",action:"Send check-in message"},{name:"Robert Williams",riskScore:.65,lastActivity:"2 days ago",painSpike:"Unlikely",action:"Schedule follow-up"},{name:"Jennifer Lee",riskScore:.58,lastActivity:"4 days ago",painSpike:"Possible in 3 days",action:"Review exercise plan"},{name:"Mark Thompson",riskScore:.51,lastActivity:"1 day ago",painSpike:"Unlikely",action:"Monitor progress"}],uPe=n=>n>=.7?p.jsx(hr,{className:"bg-red-500",children:"High"}):n>=.5?p.jsx(hr,{className:"bg-orange-500",children:"Medium"}):p.jsx(hr,{className:"bg-yellow-500",children:"Low"});function dPe({onBack:n}){const[e,t]=B.useState([0]),r=Math.round(e[0]*1.2);return p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs(Lt,{variant:"ghost",onClick:n,className:"mb-4 hover:bg-[#6F66FF]/10",children:[p.jsx(Z3,{className:"mr-2",size:18}),"Back to Dashboard"]}),p.jsx("h1",{className:"text-3xl mb-2",children:"Actuarial Intelligence  Recovery Risk Index (RRI)"}),p.jsx("p",{className:"text-[#1B1E3D]/60",children:"Predictive analytics for proactive rehab management."}),p.jsxs("div",{className:"flex gap-3 mt-4",children:[p.jsx(Lt,{className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 rounded-xl",children:"Run New Forecast"}),p.jsxs(Lt,{variant:"outline",className:"rounded-xl",children:[p.jsx(p0,{className:"mr-2",size:18}),"Generate Risk Report (CSV)"]})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Avg Drop-Off Probability"}),p.jsx(Cx,{className:"text-[#F87171]",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl text-[#F87171] mb-1",children:"38%"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Portfolio average"})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Avg Recovery Duration"}),p.jsx(pm,{className:"text-[#6F66FF]",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl text-[#6F66FF] mb-1",children:"7.4 weeks"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Predicted timeline"})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(un,{className:"text-sm text-[#1B1E3D]/60",children:"Portfolio Risk Score"}),p.jsx(ma,{className:"text-[#F87171]/60",size:20})]})}),p.jsxs(Ft,{children:[p.jsx("div",{className:"text-3xl text-[#F87171]/60 mb-1",children:"0.41"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60",children:"Moderate risk"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(ln,{children:[p.jsx(un,{children:"Kaplan-Meier Recovery Curve"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Probability of continued engagement over time"})]}),p.jsx(Ft,{children:p.jsx(to,{width:"100%",height:300,children:p.jsxs(cu,{data:cPe,children:[p.jsx(Ao,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),p.jsx(qi,{dataKey:"week",stroke:"#1B1E3D",opacity:.6,label:{value:"Weeks",position:"insideBottom",offset:-5}}),p.jsx(Xi,{stroke:"#1B1E3D",opacity:.6,domain:[0,100],label:{value:"Survival Probability (%)",angle:-90,position:"insideLeft"}}),p.jsx(ui,{}),p.jsx(uc,{}),p.jsx(As,{type:"monotone",dataKey:"current",stroke:"#6F66FF",strokeWidth:3,name:"Current Trajectory",dot:{fill:"#6F66FF",r:4}}),p.jsx(As,{type:"monotone",dataKey:"predicted",stroke:"#3ECF8E",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted Path",dot:{fill:"#3ECF8E",r:4}})]})})})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsxs(ln,{children:[p.jsx(un,{children:"Risk Distribution by Injury Type"}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Color-coded risk assessment across conditions"})]}),p.jsx(Ft,{children:p.jsx("div",{className:"space-y-3",children:["Shoulder","Neck","Knee","Back","Hip"].map((i,s)=>{const o=[.35,.52,.28,.48,.38][s],a=o<.35?"#3ECF8E":o<.5?"#F87171aa":"#F87171";return p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{children:i}),p.jsxs("span",{className:"text-[#1B1E3D]/60",children:["RRI: ",o.toFixed(2)]})]}),p.jsx("div",{className:"h-8 rounded-lg overflow-hidden",style:{backgroundColor:a,opacity:.8},children:p.jsx("div",{className:"h-full flex items-center px-3 text-white text-sm",children:o<.35?"Low Risk":o<.5?"Medium Risk":"High Risk"})})]},i)})})})]})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] mb-8",children:[p.jsxs(ln,{children:[p.jsxs(un,{className:"flex items-center gap-2",children:[p.jsx(ma,{className:"text-[#6F66FF]"}),"Scenario Simulator"]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mt-1",children:"Interactive modeling to predict impact of intervention strategies"})]}),p.jsx(Ft,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("label",{className:"text-sm",children:"Adherence Improvement"}),p.jsxs(hr,{variant:"outline",children:[e[0]>0?"+":"",e[0],"%"]})]}),p.jsx(Nx,{value:e,onValueChange:t,min:-20,max:20,step:1,className:"w-full"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-[#6F66FF]/10 to-[#8C7BFF]/10 rounded-xl p-6 border-2 border-[#6F66FF]/30",children:[p.jsx("h4",{className:"mb-3",children:"Predicted Impact"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-1",children:"Drop-off Risk Change"}),p.jsxs("p",{className:`text-2xl ${r>0?"text-[#3ECF8E]":r<0?"text-[#F87171]":"text-[#1B1E3D]"}`,children:[r>0?"":r<0?"":""," ",Math.abs(r),"%"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-[#1B1E3D]/60 mb-1",children:"Expected Recovery Time"}),p.jsxs("p",{className:`text-2xl ${e[0]>0?"text-[#3ECF8E]":e[0]<0?"text-[#F87171]":"text-[#1B1E3D]"}`,children:[7.4-e[0]*.15," weeks"]})]})]}),p.jsx("p",{className:"text-sm text-[#1B1E3D]/70 mt-4 italic",children:e[0]>0?`If adherence ${e[0]}%, drop-off risk ${r}%`:e[0]<0?`If adherence ${Math.abs(e[0])}%, drop-off risk ${Math.abs(r)}%`:"Adjust slider to simulate different scenarios"})]})]})})]}),p.jsxs(Ot,{className:"rounded-2xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]",children:[p.jsx(ln,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(un,{className:"flex items-center gap-2",children:[p.jsx(Cx,{className:"w-5 h-5 text-orange-600"}),"Patient Risk Analysis"]}),p.jsxs(hr,{variant:"outline",className:"text-orange-600 border-orange-200",children:[s9.length," patients need attention"]})]})}),p.jsx(Ft,{children:p.jsxs(HJ,{children:[p.jsx(GJ,{children:p.jsxs(uA,{children:[p.jsx(ul,{children:"Name"}),p.jsx(ul,{children:"Risk Score"}),p.jsx(ul,{children:"Last Activity"}),p.jsx(ul,{children:"Predicted Pain Spike"}),p.jsx(ul,{children:"Suggested Action"}),p.jsx(ul,{})]})}),p.jsx(VJ,{children:s9.map((i,s)=>p.jsxs(uA,{children:[p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#2C2E6F] to-[#4DD2C1] rounded-full flex items-center justify-center text-white text-sm",children:i.name.split(" ").map(o=>o[0]).join("")}),p.jsx("span",{className:"text-[#2C2E6F]",children:i.name})]})}),p.jsx(dl,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[uPe(i.riskScore),p.jsx("span",{className:"text-sm text-gray-600",children:i.riskScore.toFixed(2)})]})}),p.jsx(dl,{className:"text-gray-600",children:i.lastActivity}),p.jsx(dl,{children:p.jsx(hr,{variant:"outline",className:i.painSpike.includes("Likely")?"border-red-200 text-red-600":i.painSpike.includes("Possible")?"border-orange-200 text-orange-600":"border-green-200 text-green-600",children:i.painSpike})}),p.jsx(dl,{className:"text-gray-700",children:i.action}),p.jsx(dl,{children:p.jsxs(Lt,{size:"sm",variant:"outline",className:"gap-2",children:[p.jsx(bE,{className:"w-3 h-3"}),"Send Nudge"]})})]},s))})]})})]}),p.jsx("div",{className:"mt-8 text-center text-sm text-[#1B1E3D]/60",children:p.jsxs("p",{children:["Powered by"," ",p.jsx("span",{className:"text-[#6F66FF]",children:"RehabMax AI+ Predictive Core (v1.2)"})," "," combining clinical, behavioural, and sensor data for actuarial recovery forecasting."]})})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yb="181",gp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},WJ=0,OO=1,$J=2,fPe=3,qJ=0,AC=1,ax=2,tc=3,uu=0,Wo=1,fl=2,dc=0,Gp=1,FO=2,DO=3,BO=4,XJ=5,Nf=100,KJ=101,YJ=102,JJ=103,ZJ=104,QJ=200,eZ=201,tZ=202,nZ=203,dA=204,fA=205,rZ=206,iZ=207,sZ=208,oZ=209,aZ=210,lZ=211,cZ=212,uZ=213,dZ=214,hA=0,pA=1,mA=2,om=3,gA=4,vA=5,yA=6,xA=7,Jb=0,fZ=1,hZ=2,tu=0,pZ=1,mZ=2,gZ=3,EC=4,vZ=5,yZ=6,xZ=7,kO="attached",bZ="detached",Xf=300,du=301,Kf=302,U0=303,hb=304,_v=306,Yf=1e3,Ai=1001,z0=1002,js=1003,CC=1004,hPe=1004,Tp=1005,pPe=1005,Rr=1006,a0=1007,mPe=1007,ml=1008,LO=1008,qo=1009,MC=1010,TC=1011,H0=1012,Zb=1013,fu=1014,Ei=1015,ws=1016,PC=1017,RC=1018,G0=1020,gB=35902,vB=35899,yB=1021,xB=1022,$i=1023,V0=1026,W0=1027,Qb=1028,e_=1029,NC=1030,IC=1031,gPe=1032,OC=1033,lx=33776,cx=33777,ux=33778,dx=33779,bA=35840,_A=35841,wA=35842,SA=35843,AA=36196,EA=37492,CA=37496,MA=37808,TA=37809,PA=37810,RA=37811,NA=37812,IA=37813,OA=37814,FA=37815,DA=37816,BA=37817,kA=37818,LA=37819,jA=37820,UA=37821,zA=36492,HA=36494,GA=36495,VA=36283,WA=36284,$A=36285,qA=36286,_Z=2200,bB=2201,wZ=2202,$0=2300,q0=2301,Gw=2302,Pp=2400,Rp=2401,pb=2402,FC=2500,_B=2501,SZ=0,wB=1,XA=2,AZ=3200,EZ=3201,vPe=3202,yPe=3203,ch=0,CZ=1,od="",zo="srgb",hu="srgb-linear",mb="linear",Gr="srgb",xPe=0,yp=7680,bPe=7681,_Pe=7682,wPe=7683,SPe=34055,APe=34056,EPe=5386,CPe=512,MPe=513,TPe=514,PPe=515,RPe=516,NPe=517,IPe=518,jO=519,MZ=512,TZ=513,PZ=514,SB=515,RZ=516,NZ=517,IZ=518,OZ=519,gb=35044,OPe=35048,FPe=35040,DPe=35045,BPe=35049,kPe=35041,LPe=35046,jPe=35050,UPe=35042,zPe="100",UO="300 es",ka=2e3,X0=2001,HPe={COMPUTE:"compute",RENDER:"render"},GPe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},VPe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function FZ(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const WPe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hg(n,e){return new WPe[n](e)}function vb(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function DZ(){const n=vb("canvas");return n.style.display="block",n}const o9={};let Jf=null;function $Pe(n){Jf=n}function qPe(){return Jf}function yb(...n){const e="THREE."+n.shift();Jf?Jf("log",e,...n):console.log(e,...n)}function Qt(...n){const e="THREE."+n.shift();Jf?Jf("warn",e,...n):console.warn(e,...n)}function Gn(...n){const e="THREE."+n.shift();Jf?Jf("error",e,...n):console.error(e,...n)}function K0(...n){const e=n.join(" ");e in o9||(o9[e]=!0,Qt(...n))}function XPe(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}let xu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const mo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let a9=1234567;const Vp=Math.PI/180,Y0=180/Math.PI;function ja(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(mo[n&255]+mo[n>>8&255]+mo[n>>16&255]+mo[n>>24&255]+"-"+mo[e&255]+mo[e>>8&255]+"-"+mo[e>>16&15|64]+mo[e>>24&255]+"-"+mo[t&63|128]+mo[t>>8&255]+"-"+mo[t>>16&255]+mo[t>>24&255]+mo[r&255]+mo[r>>8&255]+mo[r>>16&255]+mo[r>>24&255]).toLowerCase()}function jn(n,e,t){return Math.max(e,Math.min(t,n))}function AB(n,e){return(n%e+e)%e}function KPe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function YPe(n,e,t){return n!==e?(t-n)/(e-n):0}function fx(n,e,t){return(1-t)*n+t*e}function JPe(n,e,t,r){return fx(n,e,1-Math.exp(-t*r))}function ZPe(n,e=1){return e-Math.abs(AB(n,e*2)-e)}function QPe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function eRe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function tRe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function nRe(n,e){return n+Math.random()*(e-n)}function rRe(n){return n*(.5-Math.random())}function iRe(n){n!==void 0&&(a9=n);let e=a9+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sRe(n){return n*Vp}function oRe(n){return n*Y0}function aRe(n){return(n&n-1)===0&&n!==0}function lRe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function cRe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function uRe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),d=o((e+r)/2),c=s((e-r)/2),f=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*c,l*f,a*u);break;case"YZY":n.set(l*f,a*d,l*c,a*u);break;case"ZXZ":n.set(l*c,l*f,a*d,a*u);break;case"XZX":n.set(a*d,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*d,a*u);break;default:Qt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ho(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function nr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const BZ={DEG2RAD:Vp,RAD2DEG:Y0,generateUUID:ja,clamp:jn,euclideanModulo:AB,mapLinear:KPe,inverseLerp:YPe,lerp:fx,damp:JPe,pingpong:ZPe,smoothstep:QPe,smootherstep:eRe,randInt:tRe,randFloat:nRe,randFloatSpread:rRe,seededRandom:iRe,degToRad:sRe,radToDeg:oRe,isPowerOfTwo:aRe,ceilPowerOfTwo:lRe,floorPowerOfTwo:cRe,setQuaternionFromProperEuler:uRe,normalize:nr,denormalize:Ho};class dt{constructor(e=0,t=0){dt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=jn(this.x,e.x,t.x),this.y=jn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=jn(this.x,e,t),this.y=jn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Us{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],d=r[i+2],c=r[i+3],f=s[o+0],m=s[o+1],v=s[o+2],b=s[o+3];if(a<=0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=c;return}if(a>=1){e[t+0]=f,e[t+1]=m,e[t+2]=v,e[t+3]=b;return}if(c!==b||l!==f||u!==m||d!==v){let y=l*f+u*m+d*v+c*b;y<0&&(f=-f,m=-m,v=-v,b=-b,y=-y);let w=1-a;if(y<.9995){const A=Math.acos(y),E=Math.sin(A);w=Math.sin(w*A)/E,a=Math.sin(a*A)/E,l=l*w+f*a,u=u*w+m*a,d=d*w+v*a,c=c*w+b*a}else{l=l*w+f*a,u=u*w+m*a,d=d*w+v*a,c=c*w+b*a;const A=1/Math.sqrt(l*l+u*u+d*d+c*c);l*=A,u*=A,d*=A,c*=A}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=c}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],d=r[i+3],c=s[o],f=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*c+l*m-u*f,e[t+1]=l*v+d*f+u*c-a*m,e[t+2]=u*v+d*m+a*f-l*c,e[t+3]=d*v-a*c-l*f-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),d=a(i/2),c=a(s/2),f=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=f*d*c+u*m*v,this._y=u*m*c-f*d*v,this._z=u*d*v+f*m*c,this._w=u*d*c-f*m*v;break;case"YXZ":this._x=f*d*c+u*m*v,this._y=u*m*c-f*d*v,this._z=u*d*v-f*m*c,this._w=u*d*c+f*m*v;break;case"ZXY":this._x=f*d*c-u*m*v,this._y=u*m*c+f*d*v,this._z=u*d*v+f*m*c,this._w=u*d*c-f*m*v;break;case"ZYX":this._x=f*d*c-u*m*v,this._y=u*m*c+f*d*v,this._z=u*d*v-f*m*c,this._w=u*d*c+f*m*v;break;case"YZX":this._x=f*d*c+u*m*v,this._y=u*m*c+f*d*v,this._z=u*d*v-f*m*c,this._w=u*d*c-f*m*v;break;case"XZY":this._x=f*d*c-u*m*v,this._y=u*m*c-f*d*v,this._z=u*d*v+f*m*c,this._w=u*d*c+f*m*v;break;default:Qt("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],c=t[10],f=r+a+c;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>c){const m=2*Math.sqrt(1+r-a-c);this._w=(d-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>c){const m=2*Math.sqrt(1+a-r-c);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+c-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=r*d+o*a+i*u-s*l,this._y=i*d+o*l+s*a-r*u,this._z=s*d+o*u+r*l-i*a,this._w=o*d-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,o=e._w,a=this.dot(e);a<0&&(r=-r,i=-i,s=-s,o=-o,a=-a);let l=1-t;if(a<.9995){const u=Math.acos(a),d=Math.sin(u);l=Math.sin(l*u)/d,t=Math.sin(t*u)/d,this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+s*t,this._w=this._w*l+o*t,this._onChangeCallback()}else this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+s*t,this._w=this._w*l+o*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,t=0,r=0){de.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(l9.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(l9.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),d=2*(a*t-s*i),c=2*(s*r-o*t);return this.x=t+l*u+o*c-a*d,this.y=r+l*d+a*u-s*c,this.z=i+l*c+s*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=jn(this.x,e.x,t.x),this.y=jn(this.y,e.y,t.y),this.z=jn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=jn(this.x,e,t),this.y=jn(this.y,e,t),this.z=jn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return uN.copy(this).projectOnVector(e),this.sub(uN)}reflect(e){return this.sub(uN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const uN=new de,l9=new Us;class Qn{constructor(e,t,r,i,s,o,a,l,u){Qn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u)}set(e,t,r,i,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],d=r[4],c=r[7],f=r[2],m=r[5],v=r[8],b=i[0],y=i[3],w=i[6],A=i[1],E=i[4],C=i[7],M=i[2],R=i[5],O=i[8];return s[0]=o*b+a*A+l*M,s[3]=o*y+a*E+l*R,s[6]=o*w+a*C+l*O,s[1]=u*b+d*A+c*M,s[4]=u*y+d*E+c*R,s[7]=u*w+d*C+c*O,s[2]=f*b+m*A+v*M,s[5]=f*y+m*E+v*R,s[8]=f*w+m*C+v*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-r*s*d+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],c=d*o-a*u,f=a*l-d*s,m=u*s-o*l,v=t*c+r*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=c*b,e[1]=(i*u-d*r)*b,e[2]=(a*r-i*o)*b,e[3]=f*b,e[4]=(d*t-i*l)*b,e[5]=(i*s-a*t)*b,e[6]=m*b,e[7]=(r*l-u*t)*b,e[8]=(o*t-r*s)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(dN.makeScale(e,t)),this}rotate(e){return this.premultiply(dN.makeRotation(-e)),this}translate(e,t){return this.premultiply(dN.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const dN=new Qn,c9=new Qn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),u9=new Qn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function dRe(){const n={enabled:!0,workingColorSpace:hu,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Gr&&(i.r=gd(i.r),i.g=gd(i.g),i.b=gd(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Gr&&(i.r=l0(i.r),i.g=l0(i.g),i.b=l0(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===od?mb:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return K0("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return K0("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[hu]:{primaries:e,whitePoint:r,transfer:mb,toXYZ:c9,fromXYZ:u9,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:zo},outputColorSpaceConfig:{drawingBufferColorSpace:zo}},[zo]:{primaries:e,whitePoint:r,transfer:Gr,toXYZ:c9,fromXYZ:u9,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:zo}}}),n}const Mr=dRe();function gd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function l0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let mg;class kZ{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{mg===void 0&&(mg=vb("canvas")),mg.width=e.width,mg.height=e.height;const i=mg.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=mg}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=vb("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=gd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(gd(t[r]/255)*255):t[r]=gd(t[r]);return{data:t,width:e.width,height:e.height}}else return Qt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let fRe=0;class kf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:fRe++}),this.uuid=ja(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(fN(i[o].image)):s.push(fN(i[o]))}else s=fN(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function fN(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?kZ.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Qt("Texture: Unable to serialize Texture."),{})}let hRe=0;const hN=new de;class Ur extends xu{constructor(e=Ur.DEFAULT_IMAGE,t=Ur.DEFAULT_MAPPING,r=Ai,i=Ai,s=Rr,o=ml,a=$i,l=qo,u=Ur.DEFAULT_ANISOTROPY,d=od){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:hRe++}),this.uuid=ja(),this.name="",this.source=new kf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new dt(0,0),this.repeat=new dt(1,1),this.center=new dt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(hN).x}get height(){return this.source.getSize(hN).y}get depth(){return this.source.getSize(hN).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){Qt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Qt(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yf:e.x=e.x-Math.floor(e.x);break;case Ai:e.x=e.x<0?0:1;break;case z0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yf:e.y=e.y-Math.floor(e.y);break;case Ai:e.y=e.y<0?0:1;break;case z0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ur.DEFAULT_IMAGE=null;Ur.DEFAULT_MAPPING=Xf;Ur.DEFAULT_ANISOTROPY=1;class Pr{constructor(e=0,t=0,r=0,i=1){Pr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],d=l[4],c=l[8],f=l[1],m=l[5],v=l[9],b=l[2],y=l[6],w=l[10];if(Math.abs(d-f)<.01&&Math.abs(c-b)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+f)<.1&&Math.abs(c+b)<.1&&Math.abs(v+y)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(u+1)/2,C=(m+1)/2,M=(w+1)/2,R=(d+f)/4,O=(c+b)/4,k=(v+y)/4;return E>C&&E>M?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=R/r,s=O/r):C>M?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=R/i,s=k/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=O/s,i=k/s),this.set(r,i,s,t),this}let A=Math.sqrt((y-v)*(y-v)+(c-b)*(c-b)+(f-d)*(f-d));return Math.abs(A)<.001&&(A=1),this.x=(y-v)/A,this.y=(c-b)/A,this.z=(f-d)/A,this.w=Math.acos((u+m+w-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=jn(this.x,e.x,t.x),this.y=jn(this.y,e.y,t.y),this.z=jn(this.z,e.z,t.z),this.w=jn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=jn(this.x,e,t),this.y=jn(this.y,e,t),this.z=jn(this.z,e,t),this.w=jn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class EB extends xu{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new Pr(0,0,e,t),this.scissorTest=!1,this.viewport=new Pr(0,0,e,t);const i={width:e,height:t,depth:r.depth},s=new Ur(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Rr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new kf(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wl extends EB{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class DC extends Ur{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=js,this.minFilter=js,this.wrapR=Ai,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class pRe extends wl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new DC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class BC extends Ur{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=js,this.minFilter=js,this.wrapR=Ai,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mRe extends wl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new BC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class zs{constructor(e=new de(1/0,1/0,1/0),t=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Xl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Xl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Xl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Xl):Xl.fromBufferAttribute(s,o),Xl.applyMatrix4(e.matrixWorld),this.expandByPoint(Xl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),R1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),R1.copy(r.boundingBox)),R1.applyMatrix4(e.matrixWorld),this.union(R1)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Xl),Xl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(My),N1.subVectors(this.max,My),gg.subVectors(e.a,My),vg.subVectors(e.b,My),yg.subVectors(e.c,My),mf.subVectors(vg,gg),gf.subVectors(yg,vg),Zh.subVectors(gg,yg);let t=[0,-mf.z,mf.y,0,-gf.z,gf.y,0,-Zh.z,Zh.y,mf.z,0,-mf.x,gf.z,0,-gf.x,Zh.z,0,-Zh.x,-mf.y,mf.x,0,-gf.y,gf.x,0,-Zh.y,Zh.x,0];return!pN(t,gg,vg,yg,N1)||(t=[1,0,0,0,1,0,0,0,1],!pN(t,gg,vg,yg,N1))?!1:(I1.crossVectors(mf,gf),t=[I1.x,I1.y,I1.z],pN(t,gg,vg,yg,N1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Xl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Yu=[new de,new de,new de,new de,new de,new de,new de,new de],Xl=new de,R1=new zs,gg=new de,vg=new de,yg=new de,mf=new de,gf=new de,Zh=new de,My=new de,N1=new de,I1=new de,Qh=new de;function pN(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Qh.fromArray(n,s);const a=i.x*Math.abs(Qh.x)+i.y*Math.abs(Qh.y)+i.z*Math.abs(Qh.z),l=e.dot(Qh),u=t.dot(Qh),d=r.dot(Qh);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const gRe=new zs,Ty=new de,mN=new de;class Hs{constructor(e=new de,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):gRe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ty.subVectors(e,this.center);const t=Ty.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Ty,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(mN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ty.copy(e.center).add(mN)),this.expandByPoint(Ty.copy(e.center).sub(mN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ju=new de,gN=new de,O1=new de,vf=new de,vN=new de,F1=new de,yN=new de;class bm{constructor(e=new de,t=new de(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ju)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ju.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ju.copy(this.origin).addScaledVector(this.direction,t),Ju.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){gN.copy(e).add(t).multiplyScalar(.5),O1.copy(t).sub(e).normalize(),vf.copy(this.origin).sub(gN);const s=e.distanceTo(t)*.5,o=-this.direction.dot(O1),a=vf.dot(this.direction),l=-vf.dot(O1),u=vf.lengthSq(),d=Math.abs(1-o*o);let c,f,m,v;if(d>0)if(c=o*l-a,f=o*a-l,v=s*d,c>=0)if(f>=-v)if(f<=v){const b=1/d;c*=b,f*=b,m=c*(c+o*f+2*a)+f*(o*c+f+2*l)+u}else f=s,c=Math.max(0,-(o*f+a)),m=-c*c+f*(f+2*l)+u;else f=-s,c=Math.max(0,-(o*f+a)),m=-c*c+f*(f+2*l)+u;else f<=-v?(c=Math.max(0,-(-o*s+a)),f=c>0?-s:Math.min(Math.max(-s,-l),s),m=-c*c+f*(f+2*l)+u):f<=v?(c=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+u):(c=Math.max(0,-(o*s+a)),f=c>0?s:Math.min(Math.max(-s,-l),s),m=-c*c+f*(f+2*l)+u);else f=o>0?-s:s,c=Math.max(0,-(o*f+a)),m=-c*c+f*(f+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,c),i&&i.copy(gN).addScaledVector(O1,f),m}intersectSphere(e,t){Ju.subVectors(e.center,this.origin);const r=Ju.dot(this.direction),i=Ju.dot(Ju)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),c>=0?(a=(e.min.z-f.z)*c,l=(e.max.z-f.z)*c):(a=(e.max.z-f.z)*c,l=(e.min.z-f.z)*c),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ju)!==null}intersectTriangle(e,t,r,i,s){vN.subVectors(t,e),F1.subVectors(r,e),yN.crossVectors(vN,F1);let o=this.direction.dot(yN),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;vf.subVectors(this.origin,e);const l=a*this.direction.dot(F1.crossVectors(vf,F1));if(l<0)return null;const u=a*this.direction.dot(vN.cross(vf));if(u<0||l+u>o)return null;const d=-a*vf.dot(yN);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Dn{constructor(e,t,r,i,s,o,a,l,u,d,c,f,m,v,b,y){Dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u,d,c,f,m,v,b,y)}set(e,t,r,i,s,o,a,l,u,d,c,f,m,v,b,y){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=d,w[10]=c,w[14]=f,w[3]=m,w[7]=v,w[11]=b,w[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Dn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/xg.setFromMatrixColumn(e,0).length(),s=1/xg.setFromMatrixColumn(e,1).length(),o=1/xg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),d=Math.cos(s),c=Math.sin(s);if(e.order==="XYZ"){const f=o*d,m=o*c,v=a*d,b=a*c;t[0]=l*d,t[4]=-l*c,t[8]=u,t[1]=m+v*u,t[5]=f-b*u,t[9]=-a*l,t[2]=b-f*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const f=l*d,m=l*c,v=u*d,b=u*c;t[0]=f+b*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*c,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=b+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*d,m=l*c,v=u*d,b=u*c;t[0]=f-b*a,t[4]=-o*c,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=b-f*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*d,m=o*c,v=a*d,b=a*c;t[0]=l*d,t[4]=v*u-m,t[8]=f*u+b,t[1]=l*c,t[5]=b*u+f,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*u,v=a*l,b=a*u;t[0]=l*d,t[4]=b-f*c,t[8]=v*c+m,t[1]=c,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*c+v,t[10]=f-b*c}else if(e.order==="XZY"){const f=o*l,m=o*u,v=a*l,b=a*u;t[0]=l*d,t[4]=-c,t[8]=u*d,t[1]=f*c+b,t[5]=o*d,t[9]=m*c-v,t[2]=v*c-m,t[6]=a*d,t[10]=b*c+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vRe,e,yRe)}lookAt(e,t,r){const i=this.elements;return Ta.subVectors(e,t),Ta.lengthSq()===0&&(Ta.z=1),Ta.normalize(),yf.crossVectors(r,Ta),yf.lengthSq()===0&&(Math.abs(r.z)===1?Ta.x+=1e-4:Ta.z+=1e-4,Ta.normalize(),yf.crossVectors(r,Ta)),yf.normalize(),D1.crossVectors(Ta,yf),i[0]=yf.x,i[4]=D1.x,i[8]=Ta.x,i[1]=yf.y,i[5]=D1.y,i[9]=Ta.y,i[2]=yf.z,i[6]=D1.z,i[10]=Ta.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],d=r[1],c=r[5],f=r[9],m=r[13],v=r[2],b=r[6],y=r[10],w=r[14],A=r[3],E=r[7],C=r[11],M=r[15],R=i[0],O=i[4],k=i[8],D=i[12],I=i[1],L=i[5],W=i[9],q=i[13],K=i[2],ne=i[6],V=i[10],ee=i[14],H=i[3],Z=i[7],te=i[11],Y=i[15];return s[0]=o*R+a*I+l*K+u*H,s[4]=o*O+a*L+l*ne+u*Z,s[8]=o*k+a*W+l*V+u*te,s[12]=o*D+a*q+l*ee+u*Y,s[1]=d*R+c*I+f*K+m*H,s[5]=d*O+c*L+f*ne+m*Z,s[9]=d*k+c*W+f*V+m*te,s[13]=d*D+c*q+f*ee+m*Y,s[2]=v*R+b*I+y*K+w*H,s[6]=v*O+b*L+y*ne+w*Z,s[10]=v*k+b*W+y*V+w*te,s[14]=v*D+b*q+y*ee+w*Y,s[3]=A*R+E*I+C*K+M*H,s[7]=A*O+E*L+C*ne+M*Z,s[11]=A*k+E*W+C*V+M*te,s[15]=A*D+E*q+C*ee+M*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],c=e[6],f=e[10],m=e[14],v=e[3],b=e[7],y=e[11],w=e[15];return v*(+s*l*c-i*u*c-s*a*f+r*u*f+i*a*m-r*l*m)+b*(+t*l*m-t*u*f+s*o*f-i*o*m+i*u*d-s*l*d)+y*(+t*u*c-t*a*m-s*o*c+r*o*m+s*a*d-r*u*d)+w*(-i*a*d-t*l*c+t*a*f+i*o*c-r*o*f+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],c=e[9],f=e[10],m=e[11],v=e[12],b=e[13],y=e[14],w=e[15],A=c*y*u-b*f*u+b*l*m-a*y*m-c*l*w+a*f*w,E=v*f*u-d*y*u-v*l*m+o*y*m+d*l*w-o*f*w,C=d*b*u-v*c*u+v*a*m-o*b*m-d*a*w+o*c*w,M=v*c*l-d*b*l-v*a*f+o*b*f+d*a*y-o*c*y,R=t*A+r*E+i*C+s*M;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/R;return e[0]=A*O,e[1]=(b*f*s-c*y*s-b*i*m+r*y*m+c*i*w-r*f*w)*O,e[2]=(a*y*s-b*l*s+b*i*u-r*y*u-a*i*w+r*l*w)*O,e[3]=(c*l*s-a*f*s-c*i*u+r*f*u+a*i*m-r*l*m)*O,e[4]=E*O,e[5]=(d*y*s-v*f*s+v*i*m-t*y*m-d*i*w+t*f*w)*O,e[6]=(v*l*s-o*y*s-v*i*u+t*y*u+o*i*w-t*l*w)*O,e[7]=(o*f*s-d*l*s+d*i*u-t*f*u-o*i*m+t*l*m)*O,e[8]=C*O,e[9]=(v*c*s-d*b*s-v*r*m+t*b*m+d*r*w-t*c*w)*O,e[10]=(o*b*s-v*a*s+v*r*u-t*b*u-o*r*w+t*a*w)*O,e[11]=(d*a*s-o*c*s-d*r*u+t*c*u+o*r*m-t*a*m)*O,e[12]=M*O,e[13]=(d*b*i-v*c*i+v*r*f-t*b*f-d*r*y+t*c*y)*O,e[14]=(v*a*i-o*b*i-v*r*l+t*b*l+o*r*y-t*a*y)*O,e[15]=(o*c*i-d*a*i+d*r*l-t*c*l-o*r*f+t*a*f)*O,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,d*a+r,d*l-i*o,0,u*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,c=a+a,f=s*u,m=s*d,v=s*c,b=o*d,y=o*c,w=a*c,A=l*u,E=l*d,C=l*c,M=r.x,R=r.y,O=r.z;return i[0]=(1-(b+w))*M,i[1]=(m+C)*M,i[2]=(v-E)*M,i[3]=0,i[4]=(m-C)*R,i[5]=(1-(f+w))*R,i[6]=(y+A)*R,i[7]=0,i[8]=(v+E)*O,i[9]=(y-A)*O,i[10]=(1-(f+b))*O,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=xg.set(i[0],i[1],i[2]).length();const o=xg.set(i[4],i[5],i[6]).length(),a=xg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Kl.copy(this);const u=1/s,d=1/o,c=1/a;return Kl.elements[0]*=u,Kl.elements[1]*=u,Kl.elements[2]*=u,Kl.elements[4]*=d,Kl.elements[5]*=d,Kl.elements[6]*=d,Kl.elements[8]*=c,Kl.elements[9]*=c,Kl.elements[10]*=c,t.setFromRotationMatrix(Kl),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=ka,l=!1){const u=this.elements,d=2*s/(t-e),c=2*s/(r-i),f=(t+e)/(t-e),m=(r+i)/(r-i);let v,b;if(l)v=s/(o-s),b=o*s/(o-s);else if(a===ka)v=-(o+s)/(o-s),b=-2*o*s/(o-s);else if(a===X0)v=-o/(o-s),b=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=c,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=ka,l=!1){const u=this.elements,d=2/(t-e),c=2/(r-i),f=-(t+e)/(t-e),m=-(r+i)/(r-i);let v,b;if(l)v=1/(o-s),b=o/(o-s);else if(a===ka)v=-2/(o-s),b=-(o+s)/(o-s);else if(a===X0)v=-1/(o-s),b=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=0,u[12]=f,u[1]=0,u[5]=c,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=v,u[14]=b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const xg=new de,Kl=new Dn,vRe=new de(0,0,0),yRe=new de(1,1,1),yf=new de,D1=new de,Ta=new de,d9=new Dn,f9=new Us;class Ua{constructor(e=0,t=0,r=0,i=Ua.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],d=i[9],c=i[2],f=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,s),this._z=0);break;case"ZXY":this._x=Math.asin(jn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-jn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-c,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:Qt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return d9.makeRotationFromQuaternion(e),this.setFromRotationMatrix(d9,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return f9.setFromEuler(this),this.setFromQuaternion(f9,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ua.DEFAULT_ORDER="XYZ";class Wp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xRe=0;const h9=new de,bg=new Us,Zu=new Dn,B1=new de,Py=new de,bRe=new de,_Re=new Us,p9=new de(1,0,0),m9=new de(0,1,0),g9=new de(0,0,1),v9={type:"added"},wRe={type:"removed"},_g={type:"childadded",child:null},xN={type:"childremoved",child:null};class wr extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xRe++}),this.uuid=ja(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wr.DEFAULT_UP.clone();const e=new de,t=new Ua,r=new Us,i=new de(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Dn},normalMatrix:{value:new Qn}}),this.matrix=new Dn,this.matrixWorld=new Dn,this.matrixAutoUpdate=wr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Wp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return bg.setFromAxisAngle(e,t),this.quaternion.multiply(bg),this}rotateOnWorldAxis(e,t){return bg.setFromAxisAngle(e,t),this.quaternion.premultiply(bg),this}rotateX(e){return this.rotateOnAxis(p9,e)}rotateY(e){return this.rotateOnAxis(m9,e)}rotateZ(e){return this.rotateOnAxis(g9,e)}translateOnAxis(e,t){return h9.copy(e).applyQuaternion(this.quaternion),this.position.add(h9.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(p9,e)}translateY(e){return this.translateOnAxis(m9,e)}translateZ(e){return this.translateOnAxis(g9,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?B1.copy(e):B1.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Py.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zu.lookAt(Py,B1,this.up):Zu.lookAt(B1,Py,this.up),this.quaternion.setFromRotationMatrix(Zu),i&&(Zu.extractRotation(i.matrixWorld),bg.setFromRotationMatrix(Zu),this.quaternion.premultiply(bg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Gn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(v9),_g.child=e,this.dispatchEvent(_g),_g.child=null):Gn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wRe),xN.child=e,this.dispatchEvent(xN),xN.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Zu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(v9),_g.child=e,this.dispatchEvent(_g),_g.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Py,e,bRe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Py,_Re,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const c=l[u];s(e.shapes,c)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),c=o(e.shapes),f=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),c.length>0&&(r.shapes=c),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}wr.DEFAULT_UP=new de(0,1,0);wr.DEFAULT_MATRIX_AUTO_UPDATE=!0;wr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yl=new de,Qu=new de,bN=new de,ed=new de,wg=new de,Sg=new de,y9=new de,_N=new de,wN=new de,SN=new de,AN=new Pr,EN=new Pr,CN=new Pr;class ca{constructor(e=new de,t=new de,r=new de){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Yl.subVectors(e,t),i.cross(Yl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Yl.subVectors(i,t),Qu.subVectors(r,t),bN.subVectors(e,t);const o=Yl.dot(Yl),a=Yl.dot(Qu),l=Yl.dot(bN),u=Qu.dot(Qu),d=Qu.dot(bN),c=o*u-a*a;if(c===0)return s.set(0,0,0),null;const f=1/c,m=(u*l-a*d)*f,v=(o*d-a*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ed)===null?!1:ed.x>=0&&ed.y>=0&&ed.x+ed.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ed)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ed.x),l.addScaledVector(o,ed.y),l.addScaledVector(a,ed.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return AN.setScalar(0),EN.setScalar(0),CN.setScalar(0),AN.fromBufferAttribute(e,t),EN.fromBufferAttribute(e,r),CN.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(AN,s.x),o.addScaledVector(EN,s.y),o.addScaledVector(CN,s.z),o}static isFrontFacing(e,t,r,i){return Yl.subVectors(r,t),Qu.subVectors(e,t),Yl.cross(Qu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yl.subVectors(this.c,this.b),Qu.subVectors(this.a,this.b),Yl.cross(Qu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ca.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ca.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return ca.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return ca.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ca.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;wg.subVectors(i,r),Sg.subVectors(s,r),_N.subVectors(e,r);const l=wg.dot(_N),u=Sg.dot(_N);if(l<=0&&u<=0)return t.copy(r);wN.subVectors(e,i);const d=wg.dot(wN),c=Sg.dot(wN);if(d>=0&&c<=d)return t.copy(i);const f=l*c-d*u;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(wg,o);SN.subVectors(e,s);const m=wg.dot(SN),v=Sg.dot(SN);if(v>=0&&m<=v)return t.copy(s);const b=m*u-l*v;if(b<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(Sg,a);const y=d*v-m*c;if(y<=0&&c-d>=0&&m-v>=0)return y9.subVectors(s,i),a=(c-d)/(c-d+(m-v)),t.copy(i).addScaledVector(y9,a);const w=1/(y+b+f);return o=b*w,a=f*w,t.copy(r).addScaledVector(wg,o).addScaledVector(Sg,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const LZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xf={h:0,s:0,l:0},k1={h:0,s:0,l:0};function MN(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Wt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=zo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mr.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=Mr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Mr.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=Mr.workingColorSpace){if(e=AB(e,1),t=jn(t,0,1),r=jn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=MN(o,s,e+1/3),this.g=MN(o,s,e),this.b=MN(o,s,e-1/3)}return Mr.colorSpaceToWorking(this,i),this}setStyle(e,t=zo){function r(s){s!==void 0&&parseFloat(s)<1&&Qt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:Qt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);Qt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=zo){const r=LZ[e.toLowerCase()];return r!==void 0?this.setHex(r,t):Qt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gd(e.r),this.g=gd(e.g),this.b=gd(e.b),this}copyLinearToSRGB(e){return this.r=l0(e.r),this.g=l0(e.g),this.b=l0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zo){return Mr.workingToColorSpace(go.copy(this),e),Math.round(jn(go.r*255,0,255))*65536+Math.round(jn(go.g*255,0,255))*256+Math.round(jn(go.b*255,0,255))}getHexString(e=zo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mr.workingColorSpace){Mr.workingToColorSpace(go.copy(this),t);const r=go.r,i=go.g,s=go.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const c=o-a;switch(u=d<=.5?c/(o+a):c/(2-o-a),o){case r:l=(i-s)/c+(i<s?6:0);break;case i:l=(s-r)/c+2;break;case s:l=(r-i)/c+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=Mr.workingColorSpace){return Mr.workingToColorSpace(go.copy(this),t),e.r=go.r,e.g=go.g,e.b=go.b,e}getStyle(e=zo){Mr.workingToColorSpace(go.copy(this),e);const t=go.r,r=go.g,i=go.b;return e!==zo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(xf),this.setHSL(xf.h+e,xf.s+t,xf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(xf),e.getHSL(k1);const r=fx(xf.h,k1.h,t),i=fx(xf.s,k1.s,t),s=fx(xf.l,k1.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const go=new Wt;Wt.NAMES=LZ;let SRe=0;class Ss extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:SRe++}),this.uuid=ja(),this.name="",this.type="Material",this.blending=Gp,this.side=uu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=dA,this.blendDst=fA,this.blendEquation=Nf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Wt(0,0,0),this.blendAlpha=0,this.depthFunc=om,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=jO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yp,this.stencilZFail=yp,this.stencilZPass=yp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){Qt(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Qt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Gp&&(r.blending=this.blending),this.side!==uu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==dA&&(r.blendSrc=this.blendSrc),this.blendDst!==fA&&(r.blendDst=this.blendDst),this.blendEquation!==Nf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==om&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==jO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==yp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==yp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==yp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class da extends Ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=Jb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ad=ARe();function ARe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function aa(n){Math.abs(n)>65504&&Qt("DataUtils.toHalfFloat(): Value out of range."),n=jn(n,-65504,65504),ad.floatView[0]=n;const e=ad.uint32View[0],t=e>>23&511;return ad.baseTable[t]+((e&8388607)>>ad.shiftTable[t])}function Jy(n){const e=n>>10;return ad.uint32View[0]=ad.mantissaTable[ad.offsetTable[e]+(n&1023)]+ad.exponentTable[e],ad.floatView[0]}class Np{static toHalfFloat(e){return aa(e)}static fromHalfFloat(e){return Jy(e)}}const rs=new de,L1=new dt;let ERe=0;class Nr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:ERe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=gb,this.updateRanges=[],this.gpuType=Ei,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)L1.fromBufferAttribute(this,t),L1.applyMatrix3(e),this.setXY(t,L1.x,L1.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix3(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix4(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.applyNormalMatrix(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)rs.fromBufferAttribute(this,t),rs.transformDirection(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Ho(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=nr(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array),i=nr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array),i=nr(i,this.array),s=nr(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==gb&&(e.usage=this.usage),e}}class CRe extends Nr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class MRe extends Nr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class TRe extends Nr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class PRe extends Nr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class CB extends Nr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class RRe extends Nr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class MB extends Nr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class NRe extends Nr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Jy(this.array[e*this.itemSize]);return this.normalized&&(t=Ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize]=aa(t),this}getY(e){let t=Jy(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize+1]=aa(t),this}getZ(e){let t=Jy(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize+2]=aa(t),this}getW(e){let t=Jy(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=nr(t,this.array)),this.array[e*this.itemSize+3]=aa(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array)),this.array[e+0]=aa(t),this.array[e+1]=aa(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array),i=nr(i,this.array)),this.array[e+0]=aa(t),this.array[e+1]=aa(r),this.array[e+2]=aa(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array),i=nr(i,this.array),s=nr(s,this.array)),this.array[e+0]=aa(t),this.array[e+1]=aa(r),this.array[e+2]=aa(i),this.array[e+3]=aa(s),this}}class gn extends Nr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let IRe=0;const sl=new Dn,TN=new wr,Ag=new de,Pa=new zs,Ry=new zs,ks=new de;class Kn extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:IRe++}),this.uuid=ja(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(FZ(e)?MB:CB)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Qn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return sl.makeRotationFromQuaternion(e),this.applyMatrix4(sl),this}rotateX(e){return sl.makeRotationX(e),this.applyMatrix4(sl),this}rotateY(e){return sl.makeRotationY(e),this.applyMatrix4(sl),this}rotateZ(e){return sl.makeRotationZ(e),this.applyMatrix4(sl),this}translate(e,t,r){return sl.makeTranslation(e,t,r),this.applyMatrix4(sl),this}scale(e,t,r){return sl.makeScale(e,t,r),this.applyMatrix4(sl),this}lookAt(e){return TN.lookAt(e),TN.updateMatrix(),this.applyMatrix4(TN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ag).negate(),this.translate(Ag.x,Ag.y,Ag.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new gn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&Qt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Gn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Pa.setFromBufferAttribute(s),this.morphTargetsRelative?(ks.addVectors(this.boundingBox.min,Pa.min),this.boundingBox.expandByPoint(ks),ks.addVectors(this.boundingBox.max,Pa.max),this.boundingBox.expandByPoint(ks)):(this.boundingBox.expandByPoint(Pa.min),this.boundingBox.expandByPoint(Pa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Gn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Gn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new de,1/0);return}if(e){const r=this.boundingSphere.center;if(Pa.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Ry.setFromBufferAttribute(a),this.morphTargetsRelative?(ks.addVectors(Pa.min,Ry.min),Pa.expandByPoint(ks),ks.addVectors(Pa.max,Ry.max),Pa.expandByPoint(ks)):(Pa.expandByPoint(Ry.min),Pa.expandByPoint(Ry.max))}Pa.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ks.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ks));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)ks.fromBufferAttribute(a,u),l&&(Ag.fromBufferAttribute(e,u),ks.add(Ag)),i=Math.max(i,r.distanceToSquared(ks))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Gn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Gn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<r.count;k++)a[k]=new de,l[k]=new de;const u=new de,d=new de,c=new de,f=new dt,m=new dt,v=new dt,b=new de,y=new de;function w(k,D,I){u.fromBufferAttribute(r,k),d.fromBufferAttribute(r,D),c.fromBufferAttribute(r,I),f.fromBufferAttribute(s,k),m.fromBufferAttribute(s,D),v.fromBufferAttribute(s,I),d.sub(u),c.sub(u),m.sub(f),v.sub(f);const L=1/(m.x*v.y-v.x*m.y);isFinite(L)&&(b.copy(d).multiplyScalar(v.y).addScaledVector(c,-m.y).multiplyScalar(L),y.copy(c).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(L),a[k].add(b),a[D].add(b),a[I].add(b),l[k].add(y),l[D].add(y),l[I].add(y))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let k=0,D=A.length;k<D;++k){const I=A[k],L=I.start,W=I.count;for(let q=L,K=L+W;q<K;q+=3)w(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const E=new de,C=new de,M=new de,R=new de;function O(k){M.fromBufferAttribute(i,k),R.copy(M);const D=a[k];E.copy(D),E.sub(M.multiplyScalar(M.dot(D))).normalize(),C.crossVectors(R,D);const L=C.dot(l[k])<0?-1:1;o.setXYZW(k,E.x,E.y,E.z,L)}for(let k=0,D=A.length;k<D;++k){const I=A[k],L=I.start,W=I.count;for(let q=L,K=L+W;q<K;q+=3)O(e.getX(q+0)),O(e.getX(q+1)),O(e.getX(q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Nr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new de,s=new de,o=new de,a=new de,l=new de,u=new de,d=new de,c=new de;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),b=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,b),o.fromBufferAttribute(t,y),d.subVectors(o,s),c.subVectors(i,s),d.cross(c),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,y),a.add(d),l.add(d),u.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,m=t.count;f<m;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),d.subVectors(o,s),c.subVectors(i,s),d.cross(c),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ks.fromBufferAttribute(e,t),ks.normalize(),e.setXYZ(t,ks.x,ks.y,ks.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,c=a.normalized,f=new u.constructor(l.length*d);let m=0,v=0;for(let b=0,y=l.length;b<y;b++){a.isInterleavedBufferAttribute?m=l[b]*a.data.stride+a.offset:m=l[b]*d;for(let w=0;w<d;w++)f[v++]=u[m++]}return new Nr(f,d,c)}if(this.index===null)return Qt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Kn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,c=u.length;d<c;d++){const f=u[d],m=e(f,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let c=0,f=u.length;c<f;c++){const m=u[c];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],c=s[u];for(let f=0,m=c.length;f<m;f++)d.push(c[f].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const c=o[u];this.addGroup(c.start,c.count,c.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const x9=new Dn,ep=new bm,j1=new Hs,b9=new de,U1=new de,z1=new de,H1=new de,PN=new de,G1=new de,_9=new de,V1=new de;class Ci extends wr{constructor(e=new Kn,t=new da){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){G1.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=a[l],c=s[l];d!==0&&(PN.fromBufferAttribute(c,e),o?G1.addScaledVector(PN,d):G1.addScaledVector(PN.sub(t),d))}t.add(G1)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),j1.copy(r.boundingSphere),j1.applyMatrix4(s),ep.copy(e.ray).recast(e.near),!(j1.containsPoint(ep.origin)===!1&&(ep.intersectSphere(j1,b9)===null||ep.origin.distanceToSquared(b9)>(e.far-e.near)**2))&&(x9.copy(s).invert(),ep.copy(e.ray).applyMatrix4(x9),!(r.boundingBox!==null&&ep.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ep)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,c=s.attributes.normal,f=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,b=f.length;v<b;v++){const y=f[v],w=o[y.materialIndex],A=Math.max(y.start,m.start),E=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let C=A,M=E;C<M;C+=3){const R=a.getX(C),O=a.getX(C+1),k=a.getX(C+2);i=W1(this,w,e,r,u,d,c,R,O,k),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(a.count,m.start+m.count);for(let y=v,w=b;y<w;y+=3){const A=a.getX(y),E=a.getX(y+1),C=a.getX(y+2);i=W1(this,o,e,r,u,d,c,A,E,C),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,b=f.length;v<b;v++){const y=f[v],w=o[y.materialIndex],A=Math.max(y.start,m.start),E=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let C=A,M=E;C<M;C+=3){const R=C,O=C+1,k=C+2;i=W1(this,w,e,r,u,d,c,R,O,k),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(l.count,m.start+m.count);for(let y=v,w=b;y<w;y+=3){const A=y,E=y+1,C=y+2;i=W1(this,o,e,r,u,d,c,A,E,C),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}}}function ORe(n,e,t,r,i,s,o,a){let l;if(e.side===Wo?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===uu,a),l===null)return null;V1.copy(a),V1.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(V1);return u<t.near||u>t.far?null:{distance:u,point:V1.clone(),object:n}}function W1(n,e,t,r,i,s,o,a,l,u){n.getVertexPosition(a,U1),n.getVertexPosition(l,z1),n.getVertexPosition(u,H1);const d=ORe(n,e,t,r,U1,z1,H1,_9);if(d){const c=new de;ca.getBarycoord(_9,U1,z1,H1,c),i&&(d.uv=ca.getInterpolatedAttribute(i,a,l,u,c,new dt)),s&&(d.uv1=ca.getInterpolatedAttribute(s,a,l,u,c,new dt)),o&&(d.normal=ca.getInterpolatedAttribute(o,a,l,u,c,new de),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new de,materialIndex:0};ca.getNormal(U1,z1,H1,f.normal),d.face=f,d.barycoord=c}return d}class _m extends Kn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],c=[];let f=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new gn(u,3)),this.setAttribute("normal",new gn(d,3)),this.setAttribute("uv",new gn(c,2));function v(b,y,w,A,E,C,M,R,O,k,D){const I=C/O,L=M/k,W=C/2,q=M/2,K=R/2,ne=O+1,V=k+1;let ee=0,H=0;const Z=new de;for(let te=0;te<V;te++){const Y=te*L-q;for(let ae=0;ae<ne;ae++){const we=ae*I-W;Z[b]=we*A,Z[y]=Y*E,Z[w]=K,u.push(Z.x,Z.y,Z.z),Z[b]=0,Z[y]=0,Z[w]=R>0?1:-1,d.push(Z.x,Z.y,Z.z),c.push(ae/O),c.push(1-te/k),ee+=1}}for(let te=0;te<k;te++)for(let Y=0;Y<O;Y++){const ae=f+Y+ne*te,we=f+Y+ne*(te+1),Fe=f+(Y+1)+ne*(te+1),qe=f+(Y+1)+ne*te;l.push(ae,we,qe),l.push(we,Fe,qe),H+=6}a.addGroup(m,H,D),m+=H,f+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _m(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function J0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Qt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function jo(n){const e={};for(let t=0;t<n.length;t++){const r=J0(n[t]);for(const i in r)e[i]=r[i]}return e}function FRe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function jZ(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mr.workingColorSpace}const UZ={clone:J0,merge:jo};var DRe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,BRe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xo extends Ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=DRe,this.fragmentShader=BRe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=J0(e.uniforms),this.uniformsGroups=FRe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class t_ extends wr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Dn,this.projectionMatrix=new Dn,this.projectionMatrixInverse=new Dn,this.coordinateSystem=ka,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bf=new de,w9=new dt,S9=new dt;class ki extends t_{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Y0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Y0*2*Math.atan(Math.tan(Vp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){bf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(bf.x,bf.y).multiplyScalar(-e/bf.z),bf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(bf.x,bf.y).multiplyScalar(-e/bf.z)}getViewSize(e,t){return this.getViewBounds(e,w9,S9),t.subVectors(S9,w9)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Vp*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Eg=-90,Cg=1;class zZ extends wr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ki(Eg,Cg,e,t);i.layers=this.layers,this.add(i);const s=new ki(Eg,Cg,e,t);s.layers=this.layers,this.add(s);const o=new ki(Eg,Cg,e,t);o.layers=this.layers,this.add(o);const a=new ki(Eg,Cg,e,t);a.layers=this.layers,this.add(a);const l=new ki(Eg,Cg,e,t);l.layers=this.layers,this.add(l);const u=new ki(Eg,Cg,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===ka)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===X0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,d]=this.children,c=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(t,d),e.setRenderTarget(c,f,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class n_ extends Ur{constructor(e=[],t=du,r,i,s,o,a,l,u,d){super(e,t,r,i,s,o,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class TB extends wl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new n_(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new _m(5,5,5),s=new Xo({name:"CubemapFromEquirect",uniforms:J0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Wo,blending:dc});s.uniforms.tEquirect.value=t;const o=new Ci(i,s),a=t.minFilter;return t.minFilter===ml&&(t.minFilter=Rr),new zZ(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class dd extends wr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const kRe={type:"move"};class Vw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const b of e.hand.values()){const y=t.getJointPose(b,r),w=this._getHandJoint(u,b);y!==null&&(w.matrix.fromArray(y.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=y.radius),w.visible=y!==null}const d=u.joints["index-finger-tip"],c=u.joints["thumb-tip"],f=d.position.distanceTo(c.position),m=.02,v=.005;u.inputState.pinching&&f>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(kRe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new dd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class kC{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Wt(e),this.density=t}clone(){return new kC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class LC{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Wt(e),this.near=t,this.far=r}clone(){return new LC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class r_ extends wr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ua,this.environmentIntensity=1,this.environmentRotation=new Ua,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class i_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=gb,this.updateRanges=[],this.version=0,this.uuid=ja()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ja()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ja()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Lo=new de;class Zf{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Lo.fromBufferAttribute(this,t),Lo.applyMatrix4(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Lo.fromBufferAttribute(this,t),Lo.applyNormalMatrix(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Lo.fromBufferAttribute(this,t),Lo.transformDirection(e),this.setXYZ(t,Lo.x,Lo.y,Lo.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Ho(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=nr(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=nr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=nr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=nr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=nr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ho(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ho(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ho(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ho(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array),i=nr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=nr(t,this.array),r=nr(r,this.array),i=nr(i,this.array),s=nr(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){yb("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Nr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){yb("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class PB extends Ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Wt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Mg;const Ny=new de,Tg=new de,Pg=new de,Rg=new dt,Iy=new dt,HZ=new Dn,$1=new de,Oy=new de,q1=new de,A9=new dt,RN=new dt,E9=new dt;class GZ extends wr{constructor(e=new PB){if(super(),this.isSprite=!0,this.type="Sprite",Mg===void 0){Mg=new Kn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new i_(t,5);Mg.setIndex([0,1,2,0,2,3]),Mg.setAttribute("position",new Zf(r,3,0,!1)),Mg.setAttribute("uv",new Zf(r,2,3,!1))}this.geometry=Mg,this.material=e,this.center=new dt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Gn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tg.setFromMatrixScale(this.matrixWorld),HZ.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Pg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tg.multiplyScalar(-Pg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;X1($1.set(-.5,-.5,0),Pg,o,Tg,i,s),X1(Oy.set(.5,-.5,0),Pg,o,Tg,i,s),X1(q1.set(.5,.5,0),Pg,o,Tg,i,s),A9.set(0,0),RN.set(1,0),E9.set(1,1);let a=e.ray.intersectTriangle($1,Oy,q1,!1,Ny);if(a===null&&(X1(Oy.set(-.5,.5,0),Pg,o,Tg,i,s),RN.set(0,1),a=e.ray.intersectTriangle($1,q1,Oy,!1,Ny),a===null))return;const l=e.ray.origin.distanceTo(Ny);l<e.near||l>e.far||t.push({distance:l,point:Ny.clone(),uv:ca.getInterpolation(Ny,$1,Oy,q1,A9,RN,E9,new dt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function X1(n,e,t,r,i,s){Rg.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Iy.x=s*Rg.x-i*Rg.y,Iy.y=i*Rg.x+s*Rg.y):Iy.copy(Rg),n.copy(e),n.x+=Iy.x,n.y+=Iy.y,n.applyMatrix4(HZ)}const K1=new de,C9=new de;class VZ extends wr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){K1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(K1);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){K1.setFromMatrixPosition(e.matrixWorld),C9.setFromMatrixPosition(this.matrixWorld);const r=K1.distanceTo(C9)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const M9=new de,T9=new Pr,P9=new Pr,LRe=new de,R9=new Dn,Y1=new de,NN=new Hs,N9=new Dn,IN=new bm;class RB extends Ci{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=kO,this.bindMatrix=new Dn,this.bindMatrixInverse=new Dn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Y1),this.boundingBox.expandByPoint(Y1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Hs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Y1),this.boundingSphere.expandByPoint(Y1)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),NN.copy(this.boundingSphere),NN.applyMatrix4(i),e.ray.intersectsSphere(NN)!==!1&&(N9.copy(i).invert(),IN.copy(e.ray).applyMatrix4(N9),!(this.boundingBox!==null&&IN.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,IN)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===kO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===bZ?this.bindMatrixInverse.copy(this.bindMatrix).invert():Qt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;T9.fromBufferAttribute(i.attributes.skinIndex,e),P9.fromBufferAttribute(i.attributes.skinWeight,e),M9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=P9.getComponent(s);if(o!==0){const a=T9.getComponent(s);R9.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(LRe.copy(M9).applyMatrix4(R9),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class jC extends wr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xl extends Ur{constructor(e=null,t=1,r=1,i,s,o,a,l,u=js,d=js,c,f){super(null,o,a,l,u,d,i,s,c,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const I9=new Dn,jRe=new Dn;class s_{constructor(e=[],t=[]){this.uuid=ja(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Qt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Dn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Dn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:jRe;I9.multiplyMatrices(a,t[s]),I9.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new s_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new xl(t,e,e,$i,Ei);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(Qt("Skeleton: No bone found with UUID:",s),o=new jC),this.bones.push(o),this.boneInverses.push(new Dn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class am extends Nr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ng=new Dn,O9=new Dn,J1=[],F9=new zs,URe=new Dn,Fy=new Ci,Dy=new Hs;class NB extends Ci{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new am(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,URe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new zs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ng),F9.copy(e.boundingBox).applyMatrix4(Ng),this.boundingBox.union(F9)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Hs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ng),Dy.copy(e.boundingSphere).applyMatrix4(Ng),this.boundingSphere.union(Dy)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Fy.geometry=this.geometry,Fy.material=this.material,Fy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dy.copy(this.boundingSphere),Dy.applyMatrix4(r),e.ray.intersectsSphere(Dy)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Ng),O9.multiplyMatrices(r,Ng),Fy.matrixWorld=O9,Fy.raycast(e,J1);for(let o=0,a=J1.length;o<a;o++){const l=J1[o];l.instanceId=s,l.object=this,t.push(l)}J1.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new am(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new xl(new Float32Array(i*this.count),i,this.count,Qb,Ei));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const ON=new de,zRe=new de,HRe=new Qn;class id{constructor(e=new de(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=ON.subVectors(r,t).cross(zRe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(ON),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||HRe.getNormalMatrix(e),i=this.coplanarPoint(ON).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tp=new Hs,GRe=new dt(.5,.5),Z1=new de;class wv{constructor(e=new id,t=new id,r=new id,i=new id,s=new id,o=new id){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=ka,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],u=s[3],d=s[4],c=s[5],f=s[6],m=s[7],v=s[8],b=s[9],y=s[10],w=s[11],A=s[12],E=s[13],C=s[14],M=s[15];if(i[0].setComponents(u-o,m-d,w-v,M-A).normalize(),i[1].setComponents(u+o,m+d,w+v,M+A).normalize(),i[2].setComponents(u+a,m+c,w+b,M+E).normalize(),i[3].setComponents(u-a,m-c,w-b,M-E).normalize(),r)i[4].setComponents(l,f,y,C).normalize(),i[5].setComponents(u-l,m-f,w-y,M-C).normalize();else if(i[4].setComponents(u-l,m-f,w-y,M-C).normalize(),t===ka)i[5].setComponents(u+l,m+f,w+y,M+C).normalize();else if(t===X0)i[5].setComponents(l,f,y,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),tp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tp)}intersectsSprite(e){tp.center.set(0,0,0);const t=GRe.distanceTo(e.center);return tp.radius=.7071067811865476+t,tp.applyMatrix4(e.matrixWorld),this.intersectsSphere(tp)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Z1.x=i.normal.x>0?e.max.x:e.min.x,Z1.y=i.normal.y>0?e.max.y:e.min.y,Z1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Z1)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Hc=new Dn,Gc=new wv;class UC{constructor(){this.coordinateSystem=ka}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Hc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Gc.setFromProjectionMatrix(Hc,i.coordinateSystem,i.reversedDepth),Gc.containsPoint(e))return!0}return!1}clone(){return new UC}}function FN(n,e){return n-e}function VRe(n,e){return n.z-e.z}function WRe(n,e){return e.z-n.z}class $Re{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const oa=new Dn,qRe=new Wt(1,1,1),D9=new wv,XRe=new UC,Q1=new zs,np=new Hs,By=new de,B9=new de,KRe=new de,DN=new $Re,vo=new Ci,ew=[];function YRe(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function rp(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class WZ extends Ci{constructor(e,t,r=t*2,i){super(new Kn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new xl(t,e,e,$i,Ei);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new xl(t,e,e,e_,fu);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new xl(t,e,e,$i,Ei);r.colorSpace=Mr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:u}=o,d=new a.constructor(r*l),c=new Nr(d,l,u);t.setAttribute(s,c)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Nr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,oa),this.getBoundingBoxAt(s,Q1).applyMatrix4(oa),e.union(Q1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,oa),this.getBoundingSphereAt(s,np).applyMatrix4(oa),e.union(np)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(FN),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;oa.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(qRe.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(FN),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const d in r.attributes){const c=t.getAttribute(d),f=r.getAttribute(d);YRe(c,f,l);const m=c.itemSize;for(let v=c.count,b=u;v<b;v++){const y=l+v;for(let w=0;w<m;w++)f.setComponent(y,w,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,u*m)}if(i){const d=a.indexStart,c=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let f=0;f<o.count;f++)s.setX(d+f,l+o.getX(f));for(let f=o.count,m=c;f<m;f++)s.setX(d+f,l);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:c,reservedIndexCount:f}=u,m=s.index,v=m.array,b=e-c;for(let y=d;y<d+f;y++)v[y]=v[y]+b;m.array.copyWithin(t,d,d+f),m.addUpdateRange(t,f),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:c}=u,f=s.attributes;for(const m in f){const v=f[m],{array:b,itemSize:y}=v;b.copyWithin(e*y,d*y,(d+c)*y),v.addUpdateRange(e*y,c*y)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new zs,o=r.index,a=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let d=l;o&&(d=o.getX(d)),s.expandByPoint(By.fromBufferAttribute(a,d))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Hs;this.getBoundingBoxAt(e,Q1),Q1.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let u=i.start,d=i.start+i.count;u<d;u++){let c=u;o&&(c=o.getX(c)),By.fromBufferAttribute(a,c),l=Math.max(l,s.center.distanceToSquared(By))}s.radius=Math.sqrt(l),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(FN);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);rp(this._multiDrawCounts,i),rp(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),rp(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),rp(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),rp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Kn,this._initializeGeometry(s));const o=this.geometry;s.index&&rp(s.index.array,o.index.array);for(const a in s.attributes)rp(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;vo.material=this.material,vo.geometry.index=o.index,vo.geometry.attributes=o.attributes,vo.geometry.boundingBox===null&&(vo.geometry.boundingBox=new zs),vo.geometry.boundingSphere===null&&(vo.geometry.boundingSphere=new Hs);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const u=r[a].geometryIndex,d=i[u];vo.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,vo.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,vo.geometry.boundingBox),this.getBoundingSphereAt(u,vo.geometry.boundingSphere),vo.raycast(e,ew);for(let c=0,f=ew.length;c<f;c++){const m=ew[c];m.object=this,m.batchId=a,t.push(m)}ew.length=0}vo.material=null,vo.geometry.index=null,vo.geometry.attributes={},vo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,c=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,b=r.isArrayCamera?XRe:D9;f&&!r.isArrayCamera&&(oa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),D9.setFromProjectionMatrix(oa,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){oa.copy(this.matrixWorld).invert(),By.setFromMatrixPosition(r.matrixWorld).applyMatrix4(oa),B9.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(oa);for(let E=0,C=l.length;E<C;E++)if(l[E].visible&&l[E].active){const M=l[E].geometryIndex;this.getMatrixAt(E,oa),this.getBoundingSphereAt(M,np).applyMatrix4(oa);let R=!1;if(f&&(R=!b.intersectsSphere(np,r)),!R){const O=c[M],k=KRe.subVectors(np.center,By).dot(B9);DN.push(O.start,O.count,k,E)}}const w=DN.list,A=this.customSort;A===null?w.sort(s.transparent?WRe:VRe):A.call(this,w,r);for(let E=0,C=w.length;E<C;E++){const M=w[E];u[y]=M.start*a,d[y]=M.count,v[y]=M.index,y++}DN.reset()}else for(let w=0,A=l.length;w<A;w++)if(l[w].visible&&l[w].active){const E=l[w].geometryIndex;let C=!1;if(f&&(this.getMatrixAt(w,oa),this.getBoundingSphereAt(E,np).applyMatrix4(oa),C=!b.intersectsSphere(np,r)),!C){const M=c[E];u[y]=M.start*a,d[y]=M.count,v[y]=w,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Co extends Ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Wt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const KA=new de,YA=new de,k9=new Dn,ky=new bm,tw=new Hs,BN=new de,L9=new de;class Ad extends wr{constructor(e=new Kn,t=new Co){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)KA.fromBufferAttribute(t,i-1),YA.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=KA.distanceTo(YA);e.setAttribute("lineDistance",new gn(r,1))}else Qt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),tw.copy(r.boundingSphere),tw.applyMatrix4(i),tw.radius+=s,e.ray.intersectsSphere(tw)===!1)return;k9.copy(i).invert(),ky.copy(e.ray).applyMatrix4(k9);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,d=r.index,f=r.attributes.position;if(d!==null){const m=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let b=m,y=v-1;b<y;b+=u){const w=d.getX(b),A=d.getX(b+1),E=nw(this,e,ky,l,w,A,b);E&&t.push(E)}if(this.isLineLoop){const b=d.getX(v-1),y=d.getX(m),w=nw(this,e,ky,l,b,y,v-1);w&&t.push(w)}}else{const m=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let b=m,y=v-1;b<y;b+=u){const w=nw(this,e,ky,l,b,b+1,b);w&&t.push(w)}if(this.isLineLoop){const b=nw(this,e,ky,l,v-1,m,v-1);b&&t.push(b)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function nw(n,e,t,r,i,s,o){const a=n.geometry.attributes.position;if(KA.fromBufferAttribute(a,i),YA.fromBufferAttribute(a,s),t.distanceSqToSegment(KA,YA,BN,L9)>r)return;BN.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(BN);if(!(u<e.near||u>e.far))return{distance:u,point:L9.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const j9=new de,U9=new de;class yc extends Ad{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)j9.fromBufferAttribute(t,i),U9.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+j9.distanceTo(U9);e.setAttribute("lineDistance",new gn(r,1))}else Qt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class IB extends Ad{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class zC extends Ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const z9=new Dn,zO=new bm,rw=new Hs,iw=new de;class OB extends wr{constructor(e=new Kn,t=new zC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),rw.copy(r.boundingSphere),rw.applyMatrix4(i),rw.radius+=s,e.ray.intersectsSphere(rw)===!1)return;z9.copy(i).invert(),zO.copy(e.ray).applyMatrix4(z9);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,c=r.attributes.position;if(u!==null){const f=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=f,b=m;v<b;v++){const y=u.getX(v);iw.fromBufferAttribute(c,y),H9(iw,y,l,i,e,t,this)}}else{const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=f,b=m;v<b;v++)iw.fromBufferAttribute(c,v),H9(iw,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function H9(n,e,t,r,i,s,o){const a=zO.distanceSqToPoint(n);if(a<t){const l=new de;zO.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class $Z extends Ur{constructor(e,t,r,i,s=Rr,o=Rr,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function c(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class JRe extends $Z{constructor(e,t,r,i,s,o,a,l){super({},e,t,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class ZRe extends Ur{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=js,this.minFilter=js,this.generateMipmaps=!1,this.needsUpdate=!0}}class HC extends Ur{constructor(e,t,r,i,s,o,a,l,u,d,c,f){super(null,o,a,l,u,d,i,s,c,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class QRe extends HC{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ai,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class eNe extends HC{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,du),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class tNe extends Ur{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class FB extends Ur{constructor(e,t,r=fu,i,s,o,a=js,l=js,u,d=V0,c=1){if(d!==V0&&d!==W0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:t,depth:c};super(f,i,s,o,a,l,d,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new kf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class DB extends Ur{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class GC extends Kn{constructor(e=1,t=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:s},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],u=[],d=t/2,c=Math.PI/2*e,f=t,m=2*c+f,v=r*2+s,b=i+1,y=new de,w=new de;for(let A=0;A<=v;A++){let E=0,C=0,M=0,R=0;if(A<=r){const D=A/r,I=D*Math.PI/2;C=-d-e*Math.cos(I),M=e*Math.sin(I),R=-e*Math.cos(I),E=D*c}else if(A<=r+s){const D=(A-r)/s;C=-d+D*t,M=e,R=0,E=c+D*f}else{const D=(A-r-s)/r,I=D*Math.PI/2;C=d+e*Math.sin(I),M=e*Math.cos(I),R=e*Math.sin(I),E=c+f+D*c}const O=Math.max(0,Math.min(1,E/m));let k=0;A===0?k=.5/i:A===v&&(k=-.5/i);for(let D=0;D<=i;D++){const I=D/i,L=I*Math.PI*2,W=Math.sin(L),q=Math.cos(L);w.x=-M*q,w.y=C,w.z=M*W,a.push(w.x,w.y,w.z),y.set(-M*q,R,M*W),y.normalize(),l.push(y.x,y.y,y.z),u.push(I+k,O)}if(A>0){const D=(A-1)*b;for(let I=0;I<i;I++){const L=D+I,W=D+I+1,q=A*b+I,K=A*b+I+1;o.push(L,W,q),o.push(W,K,q)}}}this.setIndex(o),this.setAttribute("position",new gn(a,3)),this.setAttribute("normal",new gn(l,3)),this.setAttribute("uv",new gn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GC(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class VC extends Kn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new de,d=new dt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let c=0,f=3;c<=t;c++,f+=3){const m=r+c/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,l.push(d.x,d.y)}for(let c=1;c<=t;c++)s.push(c,c+1,0);this.setIndex(s),this.setAttribute("position",new gn(o,3)),this.setAttribute("normal",new gn(a,3)),this.setAttribute("uv",new gn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class o_ extends Kn{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],c=[],f=[],m=[];let v=0;const b=[],y=r/2;let w=0;A(),o===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(d),this.setAttribute("position",new gn(c,3)),this.setAttribute("normal",new gn(f,3)),this.setAttribute("uv",new gn(m,2));function A(){const C=new de,M=new de;let R=0;const O=(t-e)/r;for(let k=0;k<=s;k++){const D=[],I=k/s,L=I*(t-e)+e;for(let W=0;W<=i;W++){const q=W/i,K=q*l+a,ne=Math.sin(K),V=Math.cos(K);M.x=L*ne,M.y=-I*r+y,M.z=L*V,c.push(M.x,M.y,M.z),C.set(ne,O,V).normalize(),f.push(C.x,C.y,C.z),m.push(q,1-I),D.push(v++)}b.push(D)}for(let k=0;k<i;k++)for(let D=0;D<s;D++){const I=b[D][k],L=b[D+1][k],W=b[D+1][k+1],q=b[D][k+1];(e>0||D!==0)&&(d.push(I,L,q),R+=3),(t>0||D!==s-1)&&(d.push(L,W,q),R+=3)}u.addGroup(w,R,0),w+=R}function E(C){const M=v,R=new dt,O=new de;let k=0;const D=C===!0?e:t,I=C===!0?1:-1;for(let W=1;W<=i;W++)c.push(0,y*I,0),f.push(0,I,0),m.push(.5,.5),v++;const L=v;for(let W=0;W<=i;W++){const K=W/i*l+a,ne=Math.cos(K),V=Math.sin(K);O.x=D*V,O.y=y*I,O.z=D*ne,c.push(O.x,O.y,O.z),f.push(0,I,0),R.x=ne*.5+.5,R.y=V*.5*I+.5,m.push(R.x,R.y),v++}for(let W=0;W<i;W++){const q=M+W,K=L+W;C===!0?d.push(K,K+1,q):d.push(K+1,K,q),k+=3}u.addGroup(w,k,C===!0?1:2),w+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new o_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class a_ extends o_{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new a_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class uh extends Kn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),d(),this.setAttribute("position",new gn(s,3)),this.setAttribute("normal",new gn(s.slice(),3)),this.setAttribute("uv",new gn(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const E=new de,C=new de,M=new de;for(let R=0;R<t.length;R+=3)m(t[R+0],E),m(t[R+1],C),m(t[R+2],M),l(E,C,M,A)}function l(A,E,C,M){const R=M+1,O=[];for(let k=0;k<=R;k++){O[k]=[];const D=A.clone().lerp(C,k/R),I=E.clone().lerp(C,k/R),L=R-k;for(let W=0;W<=L;W++)W===0&&k===R?O[k][W]=D:O[k][W]=D.clone().lerp(I,W/L)}for(let k=0;k<R;k++)for(let D=0;D<2*(R-k)-1;D++){const I=Math.floor(D/2);D%2===0?(f(O[k][I+1]),f(O[k+1][I]),f(O[k][I])):(f(O[k][I+1]),f(O[k+1][I+1]),f(O[k+1][I]))}}function u(A){const E=new de;for(let C=0;C<s.length;C+=3)E.x=s[C+0],E.y=s[C+1],E.z=s[C+2],E.normalize().multiplyScalar(A),s[C+0]=E.x,s[C+1]=E.y,s[C+2]=E.z}function d(){const A=new de;for(let E=0;E<s.length;E+=3){A.x=s[E+0],A.y=s[E+1],A.z=s[E+2];const C=y(A)/2/Math.PI+.5,M=w(A)/Math.PI+.5;o.push(C,1-M)}v(),c()}function c(){for(let A=0;A<o.length;A+=6){const E=o[A+0],C=o[A+2],M=o[A+4],R=Math.max(E,C,M),O=Math.min(E,C,M);R>.9&&O<.1&&(E<.2&&(o[A+0]+=1),C<.2&&(o[A+2]+=1),M<.2&&(o[A+4]+=1))}}function f(A){s.push(A.x,A.y,A.z)}function m(A,E){const C=A*3;E.x=e[C+0],E.y=e[C+1],E.z=e[C+2]}function v(){const A=new de,E=new de,C=new de,M=new de,R=new dt,O=new dt,k=new dt;for(let D=0,I=0;D<s.length;D+=9,I+=6){A.set(s[D+0],s[D+1],s[D+2]),E.set(s[D+3],s[D+4],s[D+5]),C.set(s[D+6],s[D+7],s[D+8]),R.set(o[I+0],o[I+1]),O.set(o[I+2],o[I+3]),k.set(o[I+4],o[I+5]),M.copy(A).add(E).add(C).divideScalar(3);const L=y(M);b(R,I+0,A,L),b(O,I+2,E,L),b(k,I+4,C,L)}}function b(A,E,C,M){M<0&&A.x===1&&(o[E]=A.x-1),C.x===0&&C.z===0&&(o[E]=M/2/Math.PI+.5)}function y(A){return Math.atan2(A.z,-A.x)}function w(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.vertices,e.indices,e.radius,e.details)}}class WC extends uh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new WC(e.radius,e.detail)}}const sw=new de,ow=new de,kN=new de,aw=new ca;class qZ extends Kn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Vp*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],c=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:b,b:y,c:w}=aw;if(b.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),aw.getNormal(kN),c[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,c[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,c[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(c[0]===c[1]||c[1]===c[2]||c[2]===c[0]))for(let A=0;A<3;A++){const E=(A+1)%3,C=c[A],M=c[E],R=aw[d[A]],O=aw[d[E]],k=`${C}_${M}`,D=`${M}_${C}`;D in f&&f[D]?(kN.dot(f[D].normal)<=s&&(m.push(R.x,R.y,R.z),m.push(O.x,O.y,O.z)),f[D]=null):k in f||(f[k]={index0:u[A],index1:u[E],normal:kN.clone()})}}for(const v in f)if(f[v]){const{index0:b,index1:y}=f[v];sw.fromBufferAttribute(a,b),ow.fromBufferAttribute(a,y),m.push(sw.x,sw.y,sw.z),m.push(ow.x,ow.y,ow.z)}this.setAttribute("position",new gn(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Qt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],f=r[i+1]-d,m=(o-d)/f;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new dt:new de);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new de,i=[],s=[],o=[],a=new de,l=new Dn;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new de)}s[0]=new de,o[0]=new de;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),c=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),c<=u&&(u=c,r.set(0,1,0)),f<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(jn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(jn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $C extends xc{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new dt){const r=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=l-this.aX,m=u-this.aY;l=f*d-m*c+this.aX,u=f*c+m*d+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class XZ extends $C{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function BB(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,c){let f=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+c)+(l-a)/c;f*=d,m*=d,i(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const lw=new de,LN=new BB,jN=new BB,UN=new BB;class KZ extends xc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new de){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=i[(a-1)%s]:(lw.subVectors(i[0],i[1]).add(i[0]),u=lw);const c=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(lw.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=lw),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(c),m),b=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(d),m);b<1e-4&&(b=1),v<1e-4&&(v=b),y<1e-4&&(y=b),LN.initNonuniformCatmullRom(u.x,c.x,f.x,d.x,v,b,y),jN.initNonuniformCatmullRom(u.y,c.y,f.y,d.y,v,b,y),UN.initNonuniformCatmullRom(u.z,c.z,f.z,d.z,v,b,y)}else this.curveType==="catmullrom"&&(LN.initCatmullRom(u.x,c.x,f.x,d.x,this.tension),jN.initCatmullRom(u.y,c.y,f.y,d.y,this.tension),UN.initCatmullRom(u.z,c.z,f.z,d.z,this.tension));return r.set(LN.calc(l),jN.calc(l),UN.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new de().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function G9(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function nNe(n,e){const t=1-n;return t*t*e}function rNe(n,e){return 2*(1-n)*n*e}function iNe(n,e){return n*n*e}function hx(n,e,t,r){return nNe(n,e)+rNe(n,t)+iNe(n,r)}function sNe(n,e){const t=1-n;return t*t*t*e}function oNe(n,e){const t=1-n;return 3*t*t*n*e}function aNe(n,e){return 3*(1-n)*n*n*e}function lNe(n,e){return n*n*n*e}function px(n,e,t,r,i){return sNe(n,e)+oNe(n,t)+aNe(n,r)+lNe(n,i)}class kB extends xc{constructor(e=new dt,t=new dt,r=new dt,i=new dt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new dt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(px(e,i.x,s.x,o.x,a.x),px(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class YZ extends xc{constructor(e=new de,t=new de,r=new de,i=new de){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new de){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(px(e,i.x,s.x,o.x,a.x),px(e,i.y,s.y,o.y,a.y),px(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LB extends xc{constructor(e=new dt,t=new dt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new dt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new dt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JZ extends xc{constructor(e=new de,t=new de){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new de){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new de){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jB extends xc{constructor(e=new dt,t=new dt,r=new dt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new dt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(hx(e,i.x,s.x,o.x),hx(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UB extends xc{constructor(e=new de,t=new de,r=new de){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new de){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(hx(e,i.x,s.x,o.x),hx(e,i.y,s.y,o.y),hx(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zB extends xc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new dt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],c=i[o>i.length-3?i.length-1:o+2];return r.set(G9(a,l.x,u.x,d.x,c.x),G9(a,l.y,u.y,d.y,c.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new dt().fromArray(i))}return this}}var JA=Object.freeze({__proto__:null,ArcCurve:XZ,CatmullRomCurve3:KZ,CubicBezierCurve:kB,CubicBezierCurve3:YZ,EllipseCurve:$C,LineCurve:LB,LineCurve3:JZ,QuadraticBezierCurve:jB,QuadraticBezierCurve3:UB,SplineCurve:zB});class ZZ extends xc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new JA[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new JA[i.type]().fromJSON(i))}return this}}class ZA extends ZZ{constructor(e){super(),this.type="Path",this.currentPoint=new dt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new LB(this.currentPoint.clone(),new dt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new jB(this.currentPoint.clone(),new dt(e,t),new dt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new kB(this.currentPoint.clone(),new dt(e,t),new dt(r,i),new dt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new zB(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new $C(e,t,r,i,s,o,a,l);if(this.curves.length>0){const c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class $p extends ZA{constructor(e){super(e),this.uuid=ja(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ZA().fromJSON(i))}return this}}function cNe(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=QZ(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(r&&(s=pNe(n,e,s,t)),n.length>80*t){a=n[0],l=n[1];let d=a,c=l;for(let f=t;f<i;f+=t){const m=n[f],v=n[f+1];m<a&&(a=m),v<l&&(l=v),m>d&&(d=m),v>c&&(c=v)}u=Math.max(d-a,c-l),u=u!==0?32767/u:0}return xb(s,o,t,a,l,u,0),o}function QZ(n,e,t,r,i){let s;if(i===ENe(n,e,t,r)>0)for(let o=e;o<t;o+=r)s=V9(o/r|0,n[o],n[o+1],s);else for(let o=t-r;o>=e;o-=r)s=V9(o/r|0,n[o],n[o+1],s);return s&&Z0(s,s.next)&&(_b(s),s=s.next),s}function lm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Z0(t,t.next)||_i(t.prev,t,t.next)===0)){if(_b(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function xb(n,e,t,r,i,s,o){if(!n)return;!o&&s&&xNe(n,r,i,s);let a=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?dNe(n,r,i,s):uNe(n)){e.push(l.i,n.i,u.i),_b(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=fNe(lm(n),e),xb(n,e,t,r,i,s,2)):o===2&&hNe(n,e,t,r,i,s):xb(lm(n),e,t,r,i,s,1);break}}}function uNe(n){const e=n.prev,t=n,r=n.next;if(_i(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,d=Math.min(i,s,o),c=Math.min(a,l,u),f=Math.max(i,s,o),m=Math.max(a,l,u);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=f&&v.y>=c&&v.y<=m&&Zy(i,a,s,l,o,u,v.x,v.y)&&_i(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function dNe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(_i(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,d=i.y,c=s.y,f=o.y,m=Math.min(a,l,u),v=Math.min(d,c,f),b=Math.max(a,l,u),y=Math.max(d,c,f),w=HO(m,v,e,t,r),A=HO(b,y,e,t,r);let E=n.prevZ,C=n.nextZ;for(;E&&E.z>=w&&C&&C.z<=A;){if(E.x>=m&&E.x<=b&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Zy(a,d,l,c,u,f,E.x,E.y)&&_i(E.prev,E,E.next)>=0||(E=E.prevZ,C.x>=m&&C.x<=b&&C.y>=v&&C.y<=y&&C!==i&&C!==o&&Zy(a,d,l,c,u,f,C.x,C.y)&&_i(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;E&&E.z>=w;){if(E.x>=m&&E.x<=b&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Zy(a,d,l,c,u,f,E.x,E.y)&&_i(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;C&&C.z<=A;){if(C.x>=m&&C.x<=b&&C.y>=v&&C.y<=y&&C!==i&&C!==o&&Zy(a,d,l,c,u,f,C.x,C.y)&&_i(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function fNe(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Z0(r,i)&&tQ(r,t,t.next,i)&&bb(r,i)&&bb(i,r)&&(e.push(r.i,t.i,i.i),_b(t),_b(t.next),t=n=i),t=t.next}while(t!==n);return lm(t)}function hNe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&wNe(o,a)){let l=nQ(o,a);o=lm(o,o.next),l=lm(l,l.next),xb(o,e,t,r,i,s,0),xb(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function pNe(n,e,t,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=QZ(n,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(_Ne(u))}i.sort(mNe);for(let s=0;s<i.length;s++)t=gNe(i[s],t);return t}function mNe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function gNe(n,e){const t=vNe(n,e);if(!t)return e;const r=nQ(t,n);return lm(r,r.next),lm(t,t.next)}function vNe(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;if(Z0(n,t))return t;do{if(Z0(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const c=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(c<=r&&c>s&&(s=c,o=t.x<t.next.x?t:t.next,c===r))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let d=1/0;t=o;do{if(r>=t.x&&t.x>=l&&r!==t.x&&eQ(i<u?r:s,i,l,u,i<u?s:r,i,t.x,t.y)){const c=Math.abs(i-t.y)/(r-t.x);bb(t,n)&&(c<d||c===d&&(t.x>o.x||t.x===o.x&&yNe(o,t)))&&(o=t,d=c)}t=t.next}while(t!==a);return o}function yNe(n,e){return _i(n.prev,n,e.prev)<0&&_i(e.next,n,n.next)<0}function xNe(n,e,t,r){let i=n;do i.z===0&&(i.z=HO(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,bNe(i)}function bNe(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<t&&(a++,o=o.nextZ,!!o);u++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=o}s.nextZ=null,t*=2}while(e>1);return n}function HO(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function _Ne(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function eQ(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Zy(n,e,t,r,i,s,o,a){return!(n===o&&e===a)&&eQ(n,e,t,r,i,s,o,a)}function wNe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!SNe(n,e)&&(bb(n,e)&&bb(e,n)&&ANe(n,e)&&(_i(n.prev,n,e.prev)||_i(n,e.prev,e))||Z0(n,e)&&_i(n.prev,n,n.next)>0&&_i(e.prev,e,e.next)>0)}function _i(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Z0(n,e){return n.x===e.x&&n.y===e.y}function tQ(n,e,t,r){const i=uw(_i(n,e,t)),s=uw(_i(n,e,r)),o=uw(_i(t,r,n)),a=uw(_i(t,r,e));return!!(i!==s&&o!==a||i===0&&cw(n,t,e)||s===0&&cw(n,r,e)||o===0&&cw(t,n,r)||a===0&&cw(t,e,r))}function cw(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function uw(n){return n>0?1:n<0?-1:0}function SNe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&tQ(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function bb(n,e){return _i(n.prev,n,n.next)<0?_i(n,e,n.next)>=0&&_i(n,n.prev,e)>=0:_i(n,e,n.prev)<0||_i(n,n.next,e)<0}function ANe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function nQ(n,e){const t=GO(n.i,n.x,n.y),r=GO(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function V9(n,e,t,r){const i=GO(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _b(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function GO(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function ENe(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class CNe{static triangulate(e,t,r=2){return cNe(e,t,r)}}class cc{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return cc.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];W9(e),$9(r,e);let o=e.length;t.forEach(W9);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,$9(r,t[l]);const a=CNe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function W9(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $9(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class qC extends Kn{constructor(e=new $p([new dt(.5,.5),new dt(-.5,.5),new dt(-.5,-.5),new dt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new gn(i,3)),this.setAttribute("uv",new gn(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,c=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,b=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:MNe;let E,C=!1,M,R,O,k;w&&(E=w.getSpacedPoints(d),C=!0,f=!1,M=w.computeFrenetFrames(d,!1),R=new de,O=new de,k=new de),f||(y=0,m=0,v=0,b=0);const D=a.extractPoints(u);let I=D.shape;const L=D.holes;if(!cc.isClockWise(I)){I=I.reverse();for(let De=0,le=L.length;De<le;De++){const et=L[De];cc.isClockWise(et)&&(L[De]=et.reverse())}}function q(De){const et=10000000000000001e-36;let at=De[0];for(let xt=1;xt<=De.length;xt++){const ct=xt%De.length,Ut=De[ct],Ct=Ut.x-at.x,Et=Ut.y-at.y,ce=Ct*Ct+Et*Et,ie=Math.max(Math.abs(Ut.x),Math.abs(Ut.y),Math.abs(at.x),Math.abs(at.y)),Ie=et*ie*ie;if(ce<=Ie){De.splice(ct,1),xt--;continue}at=Ut}}q(I),L.forEach(q);const K=L.length,ne=I;for(let De=0;De<K;De++){const le=L[De];I=I.concat(le)}function V(De,le,et){return le||Gn("ExtrudeGeometry: vec does not exist"),De.clone().addScaledVector(le,et)}const ee=I.length;function H(De,le,et){let at,xt,ct;const Ut=De.x-le.x,Ct=De.y-le.y,Et=et.x-De.x,ce=et.y-De.y,ie=Ut*Ut+Ct*Ct,Ie=Ut*ce-Ct*Et;if(Math.abs(Ie)>Number.EPSILON){const Je=Math.sqrt(ie),ft=Math.sqrt(Et*Et+ce*ce),Xe=le.x-Ct/Je,Yt=le.y+Ut/Je,Dt=et.x-ce/ft,nn=et.y+Et/ft,Kt=((Dt-Xe)*ce-(nn-Yt)*Et)/(Ut*ce-Ct*Et);at=Xe+Ut*Kt-De.x,xt=Yt+Ct*Kt-De.y;const ht=at*at+xt*xt;if(ht<=2)return new dt(at,xt);ct=Math.sqrt(ht/2)}else{let Je=!1;Ut>Number.EPSILON?Et>Number.EPSILON&&(Je=!0):Ut<-Number.EPSILON?Et<-Number.EPSILON&&(Je=!0):Math.sign(Ct)===Math.sign(ce)&&(Je=!0),Je?(at=-Ct,xt=Ut,ct=Math.sqrt(ie)):(at=Ut,xt=Ct,ct=Math.sqrt(ie/2))}return new dt(at/ct,xt/ct)}const Z=[];for(let De=0,le=ne.length,et=le-1,at=De+1;De<le;De++,et++,at++)et===le&&(et=0),at===le&&(at=0),Z[De]=H(ne[De],ne[et],ne[at]);const te=[];let Y,ae=Z.concat();for(let De=0,le=K;De<le;De++){const et=L[De];Y=[];for(let at=0,xt=et.length,ct=xt-1,Ut=at+1;at<xt;at++,ct++,Ut++)ct===xt&&(ct=0),Ut===xt&&(Ut=0),Y[at]=H(et[at],et[ct],et[Ut]);te.push(Y),ae=ae.concat(Y)}let we;if(y===0)we=cc.triangulateShape(ne,L);else{const De=[],le=[];for(let et=0;et<y;et++){const at=et/y,xt=m*Math.cos(at*Math.PI/2),ct=v*Math.sin(at*Math.PI/2)+b;for(let Ut=0,Ct=ne.length;Ut<Ct;Ut++){const Et=V(ne[Ut],Z[Ut],ct);Te(Et.x,Et.y,-xt),at===0&&De.push(Et)}for(let Ut=0,Ct=K;Ut<Ct;Ut++){const Et=L[Ut];Y=te[Ut];const ce=[];for(let ie=0,Ie=Et.length;ie<Ie;ie++){const Je=V(Et[ie],Y[ie],ct);Te(Je.x,Je.y,-xt),at===0&&ce.push(Je)}at===0&&le.push(ce)}}we=cc.triangulateShape(De,le)}const Fe=we.length,qe=v+b;for(let De=0;De<ee;De++){const le=f?V(I[De],ae[De],qe):I[De];C?(O.copy(M.normals[0]).multiplyScalar(le.x),R.copy(M.binormals[0]).multiplyScalar(le.y),k.copy(E[0]).add(O).add(R),Te(k.x,k.y,k.z)):Te(le.x,le.y,0)}for(let De=1;De<=d;De++)for(let le=0;le<ee;le++){const et=f?V(I[le],ae[le],qe):I[le];C?(O.copy(M.normals[De]).multiplyScalar(et.x),R.copy(M.binormals[De]).multiplyScalar(et.y),k.copy(E[De]).add(O).add(R),Te(k.x,k.y,k.z)):Te(et.x,et.y,c/d*De)}for(let De=y-1;De>=0;De--){const le=De/y,et=m*Math.cos(le*Math.PI/2),at=v*Math.sin(le*Math.PI/2)+b;for(let xt=0,ct=ne.length;xt<ct;xt++){const Ut=V(ne[xt],Z[xt],at);Te(Ut.x,Ut.y,c+et)}for(let xt=0,ct=L.length;xt<ct;xt++){const Ut=L[xt];Y=te[xt];for(let Ct=0,Et=Ut.length;Ct<Et;Ct++){const ce=V(Ut[Ct],Y[Ct],at);C?Te(ce.x,ce.y+E[d-1].y,E[d-1].x+et):Te(ce.x,ce.y,c+et)}}}fe(),xe();function fe(){const De=i.length/3;if(f){let le=0,et=ee*le;for(let at=0;at<Fe;at++){const xt=we[at];je(xt[2]+et,xt[1]+et,xt[0]+et)}le=d+y*2,et=ee*le;for(let at=0;at<Fe;at++){const xt=we[at];je(xt[0]+et,xt[1]+et,xt[2]+et)}}else{for(let le=0;le<Fe;le++){const et=we[le];je(et[2],et[1],et[0])}for(let le=0;le<Fe;le++){const et=we[le];je(et[0]+ee*d,et[1]+ee*d,et[2]+ee*d)}}r.addGroup(De,i.length/3-De,0)}function xe(){const De=i.length/3;let le=0;Pe(ne,le),le+=ne.length;for(let et=0,at=L.length;et<at;et++){const xt=L[et];Pe(xt,le),le+=xt.length}r.addGroup(De,i.length/3-De,1)}function Pe(De,le){let et=De.length;for(;--et>=0;){const at=et;let xt=et-1;xt<0&&(xt=De.length-1);for(let ct=0,Ut=d+y*2;ct<Ut;ct++){const Ct=ee*ct,Et=ee*(ct+1),ce=le+at+Ct,ie=le+xt+Ct,Ie=le+xt+Et,Je=le+at+Et;rt(ce,ie,Ie,Je)}}}function Te(De,le,et){l.push(De),l.push(le),l.push(et)}function je(De,le,et){Ue(De),Ue(le),Ue(et);const at=i.length/3,xt=A.generateTopUV(r,i,at-3,at-2,at-1);ot(xt[0]),ot(xt[1]),ot(xt[2])}function rt(De,le,et,at){Ue(De),Ue(le),Ue(at),Ue(le),Ue(et),Ue(at);const xt=i.length/3,ct=A.generateSideWallUV(r,i,xt-6,xt-3,xt-2,xt-1);ot(ct[0]),ot(ct[1]),ot(ct[3]),ot(ct[1]),ot(ct[2]),ot(ct[3])}function Ue(De){i.push(l[De*3+0]),i.push(l[De*3+1]),i.push(l[De*3+2])}function ot(De){s.push(De.x),s.push(De.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return TNe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new JA[i.type]().fromJSON(i)),new qC(r,e.options)}}const MNe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new dt(s,o),new dt(a,l),new dt(u,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],d=e[r*3+1],c=e[r*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],b=e[s*3],y=e[s*3+1],w=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new dt(o,1-l),new dt(u,1-c),new dt(f,1-v),new dt(b,1-w)]:[new dt(a,1-l),new dt(d,1-c),new dt(m,1-v),new dt(y,1-w)]}};function TNe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class l_ extends uh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new l_(e.radius,e.detail)}}class XC extends Kn{constructor(e=[new dt(0,-.5),new dt(.5,0),new dt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=jn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,c=new de,f=new dt,m=new de,v=new de,b=new de;let y=0,w=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:y=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,m.x=w*1,m.y=-y,m.z=w*0,b.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:y=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,m.x=w*1,m.y=-y,m.z=w*0,v.copy(m),m.x+=b.x,m.y+=b.y,m.z+=b.z,m.normalize(),l.push(m.x,m.y,m.z),b.copy(v)}for(let A=0;A<=t;A++){const E=r+A*d*i,C=Math.sin(E),M=Math.cos(E);for(let R=0;R<=e.length-1;R++){c.x=e[R].x*C,c.y=e[R].y,c.z=e[R].x*M,o.push(c.x,c.y,c.z),f.x=A/t,f.y=R/(e.length-1),a.push(f.x,f.y);const O=l[3*R+0]*C,k=l[3*R+1],D=l[3*R+0]*M;u.push(O,k,D)}}for(let A=0;A<t;A++)for(let E=0;E<e.length-1;E++){const C=E+A*e.length,M=C,R=C+e.length,O=C+e.length+1,k=C+1;s.push(M,R,k),s.push(O,k,R)}this.setIndex(s),this.setAttribute("position",new gn(o,3)),this.setAttribute("uv",new gn(a,2)),this.setAttribute("normal",new gn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XC(e.points,e.segments,e.phiStart,e.phiLength)}}class c_ extends uh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new c_(e.radius,e.detail)}}class dh extends Kn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,d=l+1,c=e/a,f=t/l,m=[],v=[],b=[],y=[];for(let w=0;w<d;w++){const A=w*f-o;for(let E=0;E<u;E++){const C=E*c-s;v.push(C,-A,0),b.push(0,0,1),y.push(E/a),y.push(1-w/l)}}for(let w=0;w<l;w++)for(let A=0;A<a;A++){const E=A+u*w,C=A+u*(w+1),M=A+1+u*(w+1),R=A+1+u*w;m.push(E,C,R),m.push(C,M,R)}this.setIndex(m),this.setAttribute("position",new gn(v,3)),this.setAttribute("normal",new gn(b,3)),this.setAttribute("uv",new gn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dh(e.width,e.height,e.widthSegments,e.heightSegments)}}class KC extends Kn{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],d=[];let c=e;const f=(t-e)/i,m=new de,v=new dt;for(let b=0;b<=i;b++){for(let y=0;y<=r;y++){const w=s+y/r*o;m.x=c*Math.cos(w),m.y=c*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}c+=f}for(let b=0;b<i;b++){const y=b*(r+1);for(let w=0;w<r;w++){const A=w+y,E=A,C=A+r+1,M=A+r+2,R=A+1;a.push(E,C,R),a.push(C,M,R)}}this.setIndex(a),this.setAttribute("position",new gn(l,3)),this.setAttribute("normal",new gn(u,3)),this.setAttribute("uv",new gn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class YC extends Kn{constructor(e=new $p([new dt(0,.5),new dt(-.5,-.5),new dt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new gn(i,3)),this.setAttribute("normal",new gn(s,3)),this.setAttribute("uv",new gn(o,2));function u(d){const c=i.length/3,f=d.extractPoints(t);let m=f.shape;const v=f.holes;cc.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,w=v.length;y<w;y++){const A=v[y];cc.isClockWise(A)===!0&&(v[y]=A.reverse())}const b=cc.triangulateShape(m,v);for(let y=0,w=v.length;y<w;y++){const A=v[y];m=m.concat(A)}for(let y=0,w=m.length;y<w;y++){const A=m[y];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let y=0,w=b.length;y<w;y++){const A=b[y],E=A[0]+c,C=A[1]+c,M=A[2]+c;r.push(E,C,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return PNe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new YC(r,e.curveSegments)}}function PNe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class u_ extends Kn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const d=[],c=new de,f=new de,m=[],v=[],b=[],y=[];for(let w=0;w<=r;w++){const A=[],E=w/r;let C=0;w===0&&o===0?C=.5/t:w===r&&l===Math.PI&&(C=-.5/t);for(let M=0;M<=t;M++){const R=M/t;c.x=-e*Math.cos(i+R*s)*Math.sin(o+E*a),c.y=e*Math.cos(o+E*a),c.z=e*Math.sin(i+R*s)*Math.sin(o+E*a),v.push(c.x,c.y,c.z),f.copy(c).normalize(),b.push(f.x,f.y,f.z),y.push(R+C,1-E),A.push(u++)}d.push(A)}for(let w=0;w<r;w++)for(let A=0;A<t;A++){const E=d[w][A+1],C=d[w][A],M=d[w+1][A],R=d[w+1][A+1];(w!==0||o>0)&&m.push(E,C,R),(w!==r-1||l<Math.PI)&&m.push(C,M,R)}this.setIndex(m),this.setAttribute("position",new gn(v,3)),this.setAttribute("normal",new gn(b,3)),this.setAttribute("uv",new gn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class JC extends uh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new JC(e.radius,e.detail)}}class ZC extends Kn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],d=new de,c=new de,f=new de;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const b=v/i*s,y=m/r*Math.PI*2;c.x=(e+t*Math.cos(y))*Math.cos(b),c.y=(e+t*Math.cos(y))*Math.sin(b),c.z=t*Math.sin(y),a.push(c.x,c.y,c.z),d.x=e*Math.cos(b),d.y=e*Math.sin(b),f.subVectors(c,d).normalize(),l.push(f.x,f.y,f.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const b=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,w=(i+1)*(m-1)+v,A=(i+1)*m+v;o.push(b,y,A),o.push(y,w,A)}this.setIndex(o),this.setAttribute("position",new gn(a,3)),this.setAttribute("normal",new gn(l,3)),this.setAttribute("uv",new gn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class QC extends Kn{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],d=[],c=new de,f=new de,m=new de,v=new de,b=new de,y=new de,w=new de;for(let E=0;E<=r;++E){const C=E/r*s*Math.PI*2;A(C,s,o,e,m),A(C+.01,s,o,e,v),y.subVectors(v,m),w.addVectors(v,m),b.crossVectors(y,w),w.crossVectors(b,y),b.normalize(),w.normalize();for(let M=0;M<=i;++M){const R=M/i*Math.PI*2,O=-t*Math.cos(R),k=t*Math.sin(R);c.x=m.x+(O*w.x+k*b.x),c.y=m.y+(O*w.y+k*b.y),c.z=m.z+(O*w.z+k*b.z),l.push(c.x,c.y,c.z),f.subVectors(c,m).normalize(),u.push(f.x,f.y,f.z),d.push(E/r),d.push(M/i)}}for(let E=1;E<=r;E++)for(let C=1;C<=i;C++){const M=(i+1)*(E-1)+(C-1),R=(i+1)*E+(C-1),O=(i+1)*E+C,k=(i+1)*(E-1)+C;a.push(M,R,k),a.push(R,O,k)}this.setIndex(a),this.setAttribute("position",new gn(l,3)),this.setAttribute("normal",new gn(u,3)),this.setAttribute("uv",new gn(d,2));function A(E,C,M,R,O){const k=Math.cos(E),D=Math.sin(E),I=M/C*E,L=Math.cos(I);O.x=R*(2+L)*.5*k,O.y=R*(2+L)*D*.5,O.z=R*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class eM extends Kn{constructor(e=new UB(new de(-1,-1,0),new de(-1,1,0),new de(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new de,l=new de,u=new dt;let d=new de;const c=[],f=[],m=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new gn(c,3)),this.setAttribute("normal",new gn(f,3)),this.setAttribute("uv",new gn(m,2));function b(){for(let E=0;E<t;E++)y(E);y(s===!1?t:0),A(),w()}function y(E){d=e.getPointAt(E/t,d);const C=o.normals[E],M=o.binormals[E];for(let R=0;R<=i;R++){const O=R/i*Math.PI*2,k=Math.sin(O),D=-Math.cos(O);l.x=D*C.x+k*M.x,l.y=D*C.y+k*M.y,l.z=D*C.z+k*M.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,c.push(a.x,a.y,a.z)}}function w(){for(let E=1;E<=t;E++)for(let C=1;C<=i;C++){const M=(i+1)*(E-1)+(C-1),R=(i+1)*E+(C-1),O=(i+1)*E+C,k=(i+1)*(E-1)+C;v.push(M,R,k),v.push(R,O,k)}}function A(){for(let E=0;E<=t;E++)for(let C=0;C<=i;C++)u.x=E/t,u.y=C/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new eM(new JA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rQ extends Kn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new de,s=new de;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const c=l[u],f=c.start,m=c.count;for(let v=f,b=f+m;v<b;v+=3)for(let y=0;y<3;y++){const w=a.getX(v+y),A=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,A),q9(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,c=3*a+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,c),q9(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new gn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function q9(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var X9=Object.freeze({__proto__:null,BoxGeometry:_m,CapsuleGeometry:GC,CircleGeometry:VC,ConeGeometry:a_,CylinderGeometry:o_,DodecahedronGeometry:WC,EdgesGeometry:qZ,ExtrudeGeometry:qC,IcosahedronGeometry:l_,LatheGeometry:XC,OctahedronGeometry:c_,PlaneGeometry:dh,PolyhedronGeometry:uh,RingGeometry:KC,ShapeGeometry:YC,SphereGeometry:u_,TetrahedronGeometry:JC,TorusGeometry:ZC,TorusKnotGeometry:QC,TubeGeometry:eM,WireframeGeometry:rQ});class iQ extends Ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Wt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sQ extends Xo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class d_ extends Ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Al extends d_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Wt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class oQ extends Ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Wt(16777215),this.specular=new Wt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=Jb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aQ extends Ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Wt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class lQ extends Ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class cQ extends Ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=Jb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HB extends Ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=AZ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class GB extends Ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class uQ extends Ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Wt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dQ extends Co{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ip(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function fQ(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function hQ(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function VO(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function VB(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function RNe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),c=[],f=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<t||v>=r)){c.push(u.times[m]);for(let b=0;b<d;++b)f.push(u.values[m*d+b])}}c.length!==0&&(u.times=Ip(c,u.times.constructor),u.values=Ip(f,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function NNe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let d=0;const c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=c/3);let f=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=a.times.length-1;let b;if(s<=a.times[0]){const w=d,A=c-d;b=a.values.slice(w,A)}else if(s>=a.times[v]){const w=v*c+d,A=w+c-d;b=a.values.slice(w,A)}else{const w=a.createInterpolant(),A=d,E=c-d;w.evaluate(s),b=w.resultBuffer.slice(A,E)}l==="quaternion"&&new Us().fromArray(b).normalize().conjugate().toArray(b);const y=u.times.length;for(let w=0;w<y;++w){const A=w*m+f;if(l==="quaternion")Us.multiplyQuaternionsFlat(u.values,A,b,0,u.values,A);else{const E=m-f*2;for(let C=0;C<E;++C)u.values[A+C]-=b[C]}}}return n.blendMode=_B,n}class INe{static convertArray(e,t){return Ip(e,t)}static isTypedArray(e){return fQ(e)}static getKeyframeOrder(e){return hQ(e)}static sortedArray(e,t,r){return VO(e,t,r)}static flattenJSON(e,t,r,i){VB(e,t,r,i)}static subclip(e,t,r,i,s=30){return RNe(e,t,r,i,s)}static makeClipAdditive(e,t=0,r=e,i=30){return NNe(e,t,r,i)}}class Sv{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pQ extends Sv{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pp,endingEnd:Pp}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Rp:s=e,a=2*t-r;break;case pb:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Rp:o=e,l=2*r-t;break;case pb:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),b=v*v,y=b*v,w=-f*y+2*f*b-f*v,A=(1+f)*y+(-1.5-2*f)*b+(-.5+f)*v+1,E=(-1-m)*y+(1.5+m)*b+.5*v,C=m*y-m*b;for(let M=0;M!==a;++M)s[M]=w*o[d+M]+A*o[u+M]+E*o[l+M]+C*o[c+M];return s}}class WB extends Sv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(r-t)/(i-t),c=1-d;for(let f=0;f!==a;++f)s[f]=o[u+f]*c+o[l+f]*d;return s}}class mQ extends Sv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class El{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ip(t,this.TimeBufferType),this.values=Ip(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ip(e.times,Array),values:Ip(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pQ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case $0:t=this.InterpolantFactoryMethodDiscrete;break;case q0:t=this.InterpolantFactoryMethodLinear;break;case Gw:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Qt("KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $0;case this.InterpolantFactoryMethodLinear:return q0;case this.InterpolantFactoryMethodSmooth:return Gw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Gn("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(Gn("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){Gn("KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){Gn("KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&fQ(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){Gn("KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Gw,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(i)l=!0;else{const c=a*r,f=c-r,m=c+r;for(let v=0;v!==r;++v){const b=t[c+v];if(b!==t[f+v]||b!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const c=a*r,f=o*r;for(let m=0;m!==r;++m)t[f+m]=t[c+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}El.prototype.ValueTypeName="";El.prototype.TimeBufferType=Float32Array;El.prototype.ValueBufferType=Float32Array;El.prototype.DefaultInterpolation=q0;class wm extends El{constructor(e,t,r){super(e,t,r)}}wm.prototype.ValueTypeName="bool";wm.prototype.ValueBufferType=Array;wm.prototype.DefaultInterpolation=$0;wm.prototype.InterpolantFactoryMethodLinear=void 0;wm.prototype.InterpolantFactoryMethodSmooth=void 0;class $B extends El{constructor(e,t,r,i){super(e,t,r,i)}}$B.prototype.ValueTypeName="color";class cm extends El{constructor(e,t,r,i){super(e,t,r,i)}}cm.prototype.ValueTypeName="number";class gQ extends Sv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Us.slerpFlat(s,0,o,u-a,o,u,l);return s}}class um extends El{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new gQ(this.times,this.values,this.getValueSize(),e)}}um.prototype.ValueTypeName="quaternion";um.prototype.InterpolantFactoryMethodSmooth=void 0;class Sm extends El{constructor(e,t,r){super(e,t,r)}}Sm.prototype.ValueTypeName="string";Sm.prototype.ValueBufferType=Array;Sm.prototype.DefaultInterpolation=$0;Sm.prototype.InterpolantFactoryMethodLinear=void 0;Sm.prototype.InterpolantFactoryMethodSmooth=void 0;class dm extends El{constructor(e,t,r,i){super(e,t,r,i)}}dm.prototype.ValueTypeName="vector";class Q0{constructor(e="",t=-1,r=[],i=FC){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ja(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(FNe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)t.push(El.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=hQ(l);l=VO(l,1,d),u=VO(u,1,d),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new cm(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const c=d[1];let f=i[c];f||(i[c]=f=[]),f.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(Qt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Gn("AnimationClip: No animation in JSONLoader data."),null;const r=function(c,f,m,v,b){if(m.length!==0){const y=[],w=[];VB(m,y,w,v),y.length!==0&&b.push(new c(f,y,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let c=0;c<u.length;c++){const f=u[c].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let b=0;b<f[v].morphTargets.length;b++)m[f[v].morphTargets[b]]=-1;for(const b in m){const y=[],w=[];for(let A=0;A!==f[v].morphTargets.length;++A){const E=f[v];y.push(E.time),w.push(E.morphTarget===b?1:0)}i.push(new cm(".morphTargetInfluence["+b+"]",y,w))}l=m.length*o}else{const m=".bones["+t[c].name+"]";r(dm,m+".position",f,"pos",i),r(um,m+".quaternion",f,"rot",i),r(dm,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function ONe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cm;case"vector":case"vector2":case"vector3":case"vector4":return dm;case"color":return $B;case"quaternion":return um;case"bool":case"boolean":return wm;case"string":return Sm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function FNe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ONe(n.type);if(n.times===void 0){const t=[],r=[];VB(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Jc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class tM{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,c){return u.push(d,c),this},this.removeHandler=function(d){const c=u.indexOf(d);return c!==-1&&u.splice(c,2),this},this.getHandler=function(d){for(let c=0,f=u.length;c<f;c+=2){const m=u[c],v=u[c+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const vQ=new tM;class ro{constructor(e){this.manager=e!==void 0?e:vQ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ro.DEFAULT_MATERIAL_NAME="__DEFAULT";const td={};class DNe extends Error{constructor(e,t){super(e),this.response=t}}class no extends ro{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Jc.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(td[e]!==void 0){td[e].push({onLoad:t,onProgress:r,onError:i});return}td[e]=[],td[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&Qt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=td[e],c=u.body.getReader(),f=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=f?parseInt(f):0,v=m!==0;let b=0;const y=new ReadableStream({start(w){A();function A(){c.read().then(({done:E,value:C})=>{if(E)w.close();else{b+=C.byteLength;const M=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:m});for(let R=0,O=d.length;R<O;R++){const k=d[R];k.onProgress&&k.onProgress(M)}w.enqueue(C),A()}},E=>{w.error(E)})}}});return new Response(y)}else throw new DNe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a==="")return u.text();{const c=/charset="?([^;"\s]*)"?/i.exec(a),f=c&&c[1]?c[1].toLowerCase():void 0,m=new TextDecoder(f);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Jc.add(`file:${e}`,u);const d=td[e];delete td[e];for(let c=0,f=d.length;c<f;c++){const m=d[c];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=td[e];if(d===void 0)throw this.manager.itemError(e),u;delete td[e];for(let c=0,f=d.length;c<f;c++){const m=d[c];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class BNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new no(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):Gn(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Q0.parse(e[r]);t.push(i)}return t}}class kNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new HC,l=new no(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(c){l.load(e[c],function(f){const m=s.parse(f,!0);o[c]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Rr),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let c=0,f=e.length;c<f;++c)d(c);else l.load(e,function(c){const f=s.parse(c,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let b=0;b<f.mipmapCount;b++)o[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+b]),o[v].format=f.format,o[v].width=f.width,o[v].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Rr),a.format=f.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}const Ig=new WeakMap;class wb extends ro{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Jc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let c=Ig.get(o);c===void 0&&(c=[],Ig.set(o,c)),c.push({onLoad:t,onError:i})}return o}const a=vb("img");function l(){d(),t&&t(this);const c=Ig.get(this)||[];for(let f=0;f<c.length;f++){const m=c[f];m.onLoad&&m.onLoad(this)}Ig.delete(this),s.manager.itemEnd(e)}function u(c){d(),i&&i(c),Jc.remove(`image:${e}`);const f=Ig.get(this)||[];for(let m=0;m<f.length;m++){const v=f[m];v.onError&&v.onError(c)}Ig.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),Jc.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class yQ extends ro{constructor(e){super(e)}load(e,t,r,i){const s=new n_;s.colorSpace=zo;const o=new wb(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class qB extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xl,a=new no(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(d){if(i!==void 0)i(d);else{d(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ai,o.wrapT=u.wrapT!==void 0?u.wrapT:Ai,o.magFilter=u.magFilter!==void 0?u.magFilter:Rr,o.minFilter=u.minFilter!==void 0?u.minFilter:Rr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ml),u.mipmapCount===1&&(o.minFilter=Rr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},r,i),o}}class xQ extends ro{constructor(e){super(e)}load(e,t,r,i){const s=new Ur,o=new wb(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class fh extends wr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Wt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class bQ extends fh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Wt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const zN=new Dn,K9=new de,Y9=new de;class XB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dt(512,512),this.mapType=qo,this.map=null,this.mapPass=null,this.matrix=new Dn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wv,this._frameExtents=new dt(1,1),this._viewportCount=1,this._viewports=[new Pr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;K9.setFromMatrixPosition(e.matrixWorld),t.position.copy(K9),Y9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Y9),t.updateMatrixWorld(),zN.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zN,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(zN)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class LNe extends XB{constructor(){super(new ki(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=Y0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class KB extends fh{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wr.DEFAULT_UP),this.updateMatrix(),this.target=new wr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new LNe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const J9=new Dn,Ly=new de,HN=new de;class jNe extends XB{constructor(){super(new ki(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dt(4,2),this._viewportCount=6,this._viewports=[new Pr(2,1,1,1),new Pr(0,1,1,1),new Pr(3,1,1,1),new Pr(1,1,1,1),new Pr(3,0,1,1),new Pr(1,0,1,1)],this._cubeDirections=[new de(1,0,0),new de(-1,0,0),new de(0,0,1),new de(0,0,-1),new de(0,1,0),new de(0,-1,0)],this._cubeUps=[new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,0,1),new de(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ly.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ly),HN.copy(r.position),HN.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(HN),r.updateMatrixWorld(),i.makeTranslation(-Ly.x,-Ly.y,-Ly.z),J9.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(J9,r.coordinateSystem,r.reversedDepth)}}class YB extends fh{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new jNe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nu extends t_{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class UNe extends XB{constructor(){super(new nu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class JB extends fh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wr.DEFAULT_UP),this.updateMatrix(),this.target=new wr,this.shadow=new UNe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _Q extends fh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class wQ extends fh{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class SQ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new de)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class AQ extends fh{constructor(e=new SQ,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class nM extends ro{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new no(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):Gn(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&Qt("MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Wt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Wt().setHex(o.value);break;case"v2":i.uniforms[s].value=new dt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new de().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Pr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Qn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Dn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new dt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new dt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return nM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:iQ,SpriteMaterial:PB,RawShaderMaterial:sQ,ShaderMaterial:Xo,PointsMaterial:zC,MeshPhysicalMaterial:Al,MeshStandardMaterial:d_,MeshPhongMaterial:oQ,MeshToonMaterial:aQ,MeshNormalMaterial:lQ,MeshLambertMaterial:cQ,MeshDepthMaterial:HB,MeshDistanceMaterial:GB,MeshBasicMaterial:da,MeshMatcapMaterial:uQ,LineDashedMaterial:dQ,LineBasicMaterial:Co,Material:Ss};return new t[e]}}class Vf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class EQ extends Kn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class CQ extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new no(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):Gn(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const y=m.interleavedBuffers[v],w=s(m,y.buffer),A=Hg(y.type,w),E=new i_(A,y.stride);return E.uuid=y.uuid,t[v]=E,E}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],w=new Uint32Array(y).buffer;return r[v]=w,w}const o=e.isInstancedBufferGeometry?new EQ:new Kn,a=e.data.index;if(a!==void 0){const m=Hg(a.type,a.array);o.setIndex(new Nr(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let b;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);b=new Zf(y,v.itemSize,v.offset,v.normalized)}else{const y=Hg(v.type,v.array),w=v.isInstancedBufferAttribute?am:Nr;b=new w(y,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),o.setAttribute(m,b)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],b=[];for(let y=0,w=v.length;y<w;y++){const A=v[y];let E;if(A.isInterleavedBufferAttribute){const C=i(e.data,A.data);E=new Zf(C,A.itemSize,A.offset,A.normalized)}else{const C=Hg(A.type,A.array);E=new Nr(C,A.itemSize,A.normalized)}A.name!==void 0&&(E.name=A.name),b.push(E)}o.morphAttributes[m]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let m=0,v=c.length;m!==v;++m){const b=c[m];o.addGroup(b.start,b.count,b.materialIndex)}const f=e.data.boundingSphere;return f!==void 0&&(o.boundingSphere=new Hs().fromJSON(f)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class zNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Vf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new no(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(c){i!==void 0&&i(c),c("ObjectLoader: Can't parse "+e+".",c.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),Gn("ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Vf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new no(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let c=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){c=!0;break}c===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $p().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new s_().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new CQ;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in X9?a=X9[l.type].fromJSON(l,t):Qt(`ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new nM;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Q0.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return l.data?{data:Hg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new tM(t);s=new wb(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const c=e[u],f=c.url;if(Array.isArray(f)){const m=[];for(let v=0,b=f.length;v<b;v++){const y=f[v],w=a(y);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new xl(w.data,w.width,w.height)))}i[c.uuid]=new kf(m)}else{const m=a(c.url);i[c.uuid]=new kf(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Hg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new wb(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let c=0,f=u.length;c<f;c++){const m=u[c],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new xl(v.data,v.width,v.height)))}r[l.uuid]=new kf(d)}else{const d=await s(l.url);r[l.uuid]=new kf(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(Qt("ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&Qt('ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&Qt("ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new n_,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new xl:d=new Ur,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,HNe)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],Z9),d.wrapT=r(a.wrap[1],Z9)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,Q9)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,Q9)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(f){return t[f]===void 0&&Qt("ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,b=f.length;v<b;v++){const y=f[v];r[y]===void 0&&Qt("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[f]===void 0&&Qt("ObjectLoader: Undefined material",f),r[f]}}function u(f){return i[f]===void 0&&Qt("ObjectLoader: Undefined texture",f),i[f]}let d,c;switch(e.type){case"Scene":o=new r_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Wt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new LC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new kC(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new ki(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new nu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new _Q(e.color,e.intensity);break;case"DirectionalLight":o=new JB(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new YB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new wQ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new KB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new bQ(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new AQ().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),c=l(e.material),o=new RB(d,c),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),c=l(e.material),o=new Ci(d,c);break;case"InstancedMesh":d=a(e.geometry),c=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new NB(d,c,f),o.instanceMatrix=new am(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new am(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),c=l(e.material),o=new WZ(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,c),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(b=>{let y=null,w=null;return b.boundingBox!==void 0&&(y=new zs().fromJSON(b.boundingBox)),b.boundingSphere!==void 0&&(w=new Hs().fromJSON(b.boundingSphere)),{...b,boundingBox:y,boundingSphere:w}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Hs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new zs().fromJSON(e.boundingBox));break;case"LOD":o=new VZ;break;case"Line":o=new Ad(a(e.geometry),l(e.material));break;case"LineLoop":o=new IB(a(e.geometry),l(e.material));break;case"LineSegments":o=new yc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new OB(a(e.geometry),l(e.material));break;case"Sprite":o=new GZ(l(e.material));break;case"Group":o=new dd;break;case"Bone":o=new jC;break;default:o=new wr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],t,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],b=o.getObjectByProperty("uuid",v.object);b!==void 0&&o.addLevel(b,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?Qt("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new wr}})}}const HNe={UVMapping:Xf,CubeReflectionMapping:du,CubeRefractionMapping:Kf,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:hb,CubeUVReflectionMapping:_v},Z9={RepeatWrapping:Yf,ClampToEdgeWrapping:Ai,MirroredRepeatWrapping:z0},Q9={NearestFilter:js,NearestMipmapNearestFilter:CC,NearestMipmapLinearFilter:Tp,LinearFilter:Rr,LinearMipmapNearestFilter:a0,LinearMipmapLinearFilter:ml},GN=new WeakMap;class MQ extends ro{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Qt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Qt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Jc.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{if(GN.has(o)===!0)i&&i(GN.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Jc.add(`image-bitmap:${e}`,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),GN.set(l,u),Jc.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Jc.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let dw,ZB=class{static getContext(){return dw===void 0&&(dw=new(window.AudioContext||window.webkitAudioContext)),dw}static setContext(e){dw=e}};class GNe extends ro{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new no(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);ZB.getContext().decodeAudioData(u,function(c){t(c)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):Gn(l),s.manager.itemError(e)}}}const eG=new Dn,tG=new Dn,ip=new Dn;class VNe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ki,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ki,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ip.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Vp*t.fov*.5)/t.zoom;let a,l;tG.elements[12]=-i,eG.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ip.elements[0]=2*t.near/(l-a),ip.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ip),a=-o*t.aspect-s,l=o*t.aspect-s,ip.elements[0]=2*t.near/(l-a),ip.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ip)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(tG),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(eG)}}class TQ extends ki{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class QB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const sp=new de,VN=new Us,WNe=new de,op=new de,ap=new de;class $Ne extends wr{constructor(){super(),this.type="AudioListener",this.context=ZB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sp,VN,WNe),op.set(0,0,-1).applyQuaternion(VN),ap.set(0,1,0).applyQuaternion(VN),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sp.x,r),t.positionY.linearRampToValueAtTime(sp.y,r),t.positionZ.linearRampToValueAtTime(sp.z,r),t.forwardX.linearRampToValueAtTime(op.x,r),t.forwardY.linearRampToValueAtTime(op.y,r),t.forwardZ.linearRampToValueAtTime(op.z,r),t.upX.linearRampToValueAtTime(ap.x,r),t.upY.linearRampToValueAtTime(ap.y,r),t.upZ.linearRampToValueAtTime(ap.z,r)}else t.setPosition(sp.x,sp.y,sp.z),t.setOrientation(op.x,op.y,op.z,ap.x,ap.y,ap.z)}}let PQ=class extends wr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Qt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Qt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Qt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Qt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}};const lp=new de,nG=new Us,qNe=new de,cp=new de;class XNe extends PQ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(lp,nG,qNe),cp.set(0,0,1).applyQuaternion(nG);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(lp.x,r),t.positionY.linearRampToValueAtTime(lp.y,r),t.positionZ.linearRampToValueAtTime(lp.z,r),t.orientationX.linearRampToValueAtTime(cp.x,r),t.orientationY.linearRampToValueAtTime(cp.y,r),t.orientationZ.linearRampToValueAtTime(cp.z,r)}else t.setPosition(lp.x,lp.y,lp.z),t.setOrientation(cp.x,cp.y,cp.z)}}class KNe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class RQ{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Us.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Us.multiplyQuaternionsFlat(e,o,e,t,e,r),Us.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const ek="\\[\\]\\.:\\/",YNe=new RegExp("["+ek+"]","g"),tk="[^"+ek+"]",JNe="[^"+ek.replace("\\.","")+"]",ZNe=/((?:WC+[\/:])*)/.source.replace("WC",tk),QNe=/(WCOD+)?/.source.replace("WCOD",JNe),e3e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tk),t3e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tk),n3e=new RegExp("^"+ZNe+QNe+e3e+t3e+"$"),r3e=["material","materials","bones","map"];class i3e{constructor(e,t,r){const i=r||Cr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Cr{constructor(e,t,r){this.path=t,this.parsedPath=r||Cr.parseTrackName(t),this.node=Cr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Cr.Composite(e,t,r):new Cr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(YNe,"")}static parseTrackName(e){const t=n3e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);r3e.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Cr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Qt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){Gn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Gn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Gn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Gn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Gn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){Gn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){Gn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;Gn("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Gn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Gn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Cr.Composite=i3e;Cr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Cr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Cr.prototype.GetterByBindingType=[Cr.prototype._getValue_direct,Cr.prototype._getValue_array,Cr.prototype._getValue_arrayElement,Cr.prototype._getValue_toArray];Cr.prototype.SetterByBindingTypeAndVersioning=[[Cr.prototype._setValue_direct,Cr.prototype._setValue_direct_setNeedsUpdate,Cr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_array,Cr.prototype._setValue_array_setNeedsUpdate,Cr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_arrayElement,Cr.prototype._setValue_arrayElement_setNeedsUpdate,Cr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cr.prototype._setValue_fromArray,Cr.prototype._setValue_fromArray_setNeedsUpdate,Cr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class s3e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ja(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,c=arguments.length;d!==c;++d){const f=arguments[d],m=f.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(f);for(let b=0,y=o;b!==y;++b)s[b].push(new Cr(f,r[b],i[b]))}else if(v<u){a=e[v];const b=--u,y=e[b];t[y.uuid]=v,e[v]=y,t[m]=b,e[b]=f;for(let w=0,A=o;w!==A;++w){const E=s[w],C=E[b];let M=E[v];E[v]=C,M===void 0&&(M=new Cr(f,r[w],i[w])),E[b]=M}}else e[v]!==a&&Gn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const c=s++,f=e[c];t[f.uuid]=d,e[d]=f,t[u]=c,e[c]=l;for(let m=0,v=i;m!==v;++m){const b=r[m],y=b[c],w=b[d];b[d]=y,b[c]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,c=t[d];if(c!==void 0)if(delete t[d],c<s){const f=--s,m=e[f],v=--o,b=e[v];t[m.uuid]=c,e[c]=m,t[b.uuid]=f,e[f]=b,e.pop();for(let y=0,w=i;y!==w;++y){const A=r[y],E=A[f],C=A[v];A[c]=E,A[f]=C,A.pop()}}else{const f=--o,m=e[f];f>0&&(t[m.uuid]=c),e[c]=m,e.pop();for(let v=0,b=i;v!==b;++v){const y=r[v];y[c]=y[f],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,c=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(c);for(let f=d,m=l.length;f!==m;++f){const v=l[f];c[f]=new Cr(v,e,t)}return c}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class NQ{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Pp,endingEnd:Pp};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case _B:for(let d=0,c=l.length;d!==c;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case FC:default:for(let d=0,c=l.length;d!==c;++d)l[d].evaluate(o),u[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===wZ;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===_Z){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Rp,i.endingEnd=Rp):(e?i.endingStart=this.zeroSlopeAtStart?Rp:Pp:i.endingStart=pb,t?i.endingEnd=this.zeroSlopeAtEnd?Rp:Pp:i.endingEnd=pb)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const o3e=new Float32Array(1);class IQ extends xu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let c=0;c!==s;++c){const f=i[c],m=f.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[c]=v;else{if(v=o[c],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const b=t&&t._propertyBindings[c].binding.parsedPath;v=new RQ(Cr.create(r,m,b),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[c]=v}a[c].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const c=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete c[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new WB(new Float32Array(2),new Float32Array(2),1,o3e),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Q0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=FC),l!==void 0){const c=l.actionByRoot[s];if(c!==void 0&&c.blendMode===r)return c;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new NQ(this,o,t,r);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Q0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=d,t[d]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class a3e extends EB{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new BC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class nk{constructor(e){this.value=e}clone(){return new nk(this.value.clone===void 0?this.value:this.value.clone())}}let l3e=0;class c3e extends xu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:l3e++}),this.name="",this.usage=gb,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class u3e extends i_{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class d3e{constructor(e,t,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const rG=new Dn;class rk{constructor(e,t,r=0,i=1/0){this.ray=new bm(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Wp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Gn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return rG.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(rG),this}intersectObject(e,t=!0,r=[]){return WO(e,this,r,t),r.sort(iG),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)WO(e[i],this,r,t);return r.sort(iG),r}}function iG(n,e){return n.distance-e.distance}function WO(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)WO(s[o],e,t,!0)}}class f3e{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=h3e.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function h3e(){this._document.hidden===!1&&this.reset()}class $O{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=jn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(jn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class p3e{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class ik{constructor(e,t,r,i){ik.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=r,s[3]=i,this}}const sG=new dt;class m3e{constructor(e=new dt(1/0,1/0),t=new dt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=sG.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sG).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const oG=new de,fw=new de,Og=new de,Fg=new de,WN=new de,g3e=new de,v3e=new de;class y3e{constructor(e=new de,t=new de){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){oG.subVectors(e,this.start),fw.subVectors(this.end,this.start);const r=fw.dot(fw);let s=fw.dot(oG)/r;return t&&(s=jn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=g3e,r=v3e){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,u=this.end,d=e.end;Og.subVectors(u,a),Fg.subVectors(d,l),WN.subVectors(a,l);const c=Og.dot(Og),f=Fg.dot(Fg),m=Fg.dot(WN);if(c<=i&&f<=i)return t.copy(a),r.copy(l),t.sub(r),t.dot(t);if(c<=i)s=0,o=m/f,o=jn(o,0,1);else{const v=Og.dot(WN);if(f<=i)o=0,s=jn(-v/c,0,1);else{const b=Og.dot(Fg),y=c*f-b*b;y!==0?s=jn((b*m-v*f)/y,0,1):s=0,o=(b*s+m)/f,o<0?(o=0,s=jn(-v/c,0,1)):o>1&&(o=1,s=jn((b-v)/c,0,1))}}return t.copy(a).add(Og.multiplyScalar(s)),r.copy(l).add(Fg.multiplyScalar(o)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const aG=new de;class x3e extends wr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Kn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new gn(i,3));const s=new Co({fog:!1,toneMapped:!1});this.cone=new yc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),aG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(aG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _f=new de,hw=new Dn,$N=new Dn;class b3e extends yc{constructor(e){const t=OQ(e),r=new Kn,i=[],s=[];for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new gn(i,3)),r.setAttribute("color",new gn(s,3));const o=new Co({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Wt(255),l=new Wt(65280);this.setColors(a,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");$N.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(hw.multiplyMatrices($N,a.matrixWorld),_f.setFromMatrixPosition(hw),i.setXYZ(o,_f.x,_f.y,_f.z),hw.multiplyMatrices($N,a.parent.matrixWorld),_f.setFromMatrixPosition(hw),i.setXYZ(o+1,_f.x,_f.y,_f.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function OQ(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...OQ(n.children[t]));return e}class _3e extends Ci{constructor(e,t,r){const i=new u_(t,4,2),s=new da({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const w3e=new de,lG=new Wt,cG=new Wt;class S3e extends wr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new c_(t);i.rotateY(Math.PI*.5),this.material=new da({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Nr(o,3)),this.add(new Ci(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");lG.copy(this.light.color),cG.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?lG:cG;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(w3e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class A3e extends yc{constructor(e=10,t=10,r=4473924,i=8947848){r=new Wt(r),i=new Wt(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let f=0,m=0,v=-a;f<=t;f++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const b=f===s?r:i;b.toArray(u,m),m+=3,b.toArray(u,m),m+=3,b.toArray(u,m),m+=3,b.toArray(u,m),m+=3}const d=new Kn;d.setAttribute("position",new gn(l,3)),d.setAttribute("color",new gn(u,3));const c=new Co({vertexColors:!0,toneMapped:!1});super(d,c),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class E3e extends yc{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Wt(s),o=new Wt(o);const a=[],l=[];if(t>1)for(let c=0;c<t;c++){const f=c/t*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,v);const b=c&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let c=0;c<r;c++){const f=c&1?s:o,m=e-e/r*c;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),y=Math.sin(b)*m,w=Math.cos(b)*m;a.push(y,0,w),l.push(f.r,f.g,f.b),b=(v+1)/i*(Math.PI*2),y=Math.sin(b)*m,w=Math.cos(b)*m,a.push(y,0,w),l.push(f.r,f.g,f.b)}}const u=new Kn;u.setAttribute("position",new gn(a,3)),u.setAttribute("color",new gn(l,3));const d=new Co({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const uG=new de,pw=new de,dG=new de;class C3e extends wr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Kn;i.setAttribute("position",new gn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Co({fog:!1,toneMapped:!1});this.lightPlane=new Ad(i,s),this.add(this.lightPlane),i=new Kn,i.setAttribute("position",new gn([0,0,0,0,0,1],3)),this.targetLine=new Ad(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),uG.setFromMatrixPosition(this.light.matrixWorld),pw.setFromMatrixPosition(this.light.target.matrixWorld),dG.subVectors(pw,uG),this.lightPlane.lookAt(pw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(pw),this.targetLine.scale.z=dG.length()}}const mw=new de,Ni=new t_;class M3e extends yc{constructor(e){const t=new Kn,r=new Co({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,b){l(v),l(b)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new gn(i,3)),t.setAttribute("color",new gn(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Wt(16755200),d=new Wt(16711680),c=new Wt(43775),f=new Wt(16777215),m=new Wt(3355443);this.setColors(u,d,c,f,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let s,o;if(Ni.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===ka)s=-1,o=1;else if(this.camera.coordinateSystem===X0)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Vi("c",t,e,Ni,0,0,s),Vi("t",t,e,Ni,0,0,o),Vi("n1",t,e,Ni,-r,-i,s),Vi("n2",t,e,Ni,r,-i,s),Vi("n3",t,e,Ni,-r,i,s),Vi("n4",t,e,Ni,r,i,s),Vi("f1",t,e,Ni,-r,-i,o),Vi("f2",t,e,Ni,r,-i,o),Vi("f3",t,e,Ni,-r,i,o),Vi("f4",t,e,Ni,r,i,o),Vi("u1",t,e,Ni,r*.7,i*1.1,s),Vi("u2",t,e,Ni,-r*.7,i*1.1,s),Vi("u3",t,e,Ni,0,i*2,s),Vi("cf1",t,e,Ni,-r,0,o),Vi("cf2",t,e,Ni,r,0,o),Vi("cf3",t,e,Ni,0,-i,o),Vi("cf4",t,e,Ni,0,i,o),Vi("cn1",t,e,Ni,-r,0,s),Vi("cn2",t,e,Ni,r,0,s),Vi("cn3",t,e,Ni,0,-i,s),Vi("cn4",t,e,Ni,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vi(n,e,t,r,i,s,o){mw.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],mw.x,mw.y,mw.z)}}const gw=new zs;class T3e extends yc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new Kn;s.setIndex(new Nr(r,1)),s.setAttribute("position",new Nr(i,3)),super(s,new Co({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&gw.setFromObject(this.object),gw.isEmpty())return;const e=gw.min,t=gw.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class P3e extends yc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Kn;s.setIndex(new Nr(r,1)),s.setAttribute("position",new gn(i,3)),super(s,new Co({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class R3e extends Ad{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Kn;o.setAttribute("position",new gn(s,3)),o.computeBoundingSphere(),super(o,new Co({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Kn;l.setAttribute("position",new gn(a,3)),l.computeBoundingSphere(),this.add(new Ci(l,new da({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const fG=new de;let vw,qN;class N3e extends wr{constructor(e=new de(0,0,1),t=new de(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",vw===void 0&&(vw=new Kn,vw.setAttribute("position",new gn([0,0,0,0,1,0],3)),qN=new a_(.5,1,5,1),qN.translate(0,-.5,0)),this.position.copy(t),this.line=new Ad(vw,new Co({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ci(qN,new da({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{fG.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(fG,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class I3e extends yc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Kn;i.setAttribute("position",new gn(t,3)),i.setAttribute("color",new gn(r,3));const s=new Co({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Wt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class O3e{constructor(){this.type="ShapePath",this.color=new Wt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ZA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const A=[];for(let E=0,C=w.length;E<C;E++){const M=w[E],R=new $p;R.curves=M.curves,A.push(R)}return A}function r(w,A){const E=A.length;let C=!1;for(let M=E-1,R=0;R<E;M=R++){let O=A[M],k=A[R],D=k.x-O.x,I=k.y-O.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(O=A[R],D=-D,k=A[M],I=-I),w.y<O.y||w.y>k.y)continue;if(w.y===O.y){if(w.x===O.x)return!0}else{const L=I*(w.x-O.x)-D*(w.y-O.y);if(L===0)return!0;if(L<0)continue;C=!C}}else{if(w.y!==O.y)continue;if(k.x<=w.x&&w.x<=O.x||O.x<=w.x&&w.x<=k.x)return!0}}return C}const i=cc.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new $p,l.curves=a.curves,u.push(l),u;let d=!i(s[0].getPoints());d=e?!d:d;const c=[],f=[];let m=[],v=0,b;f[v]=void 0,m[v]=[];for(let w=0,A=s.length;w<A;w++)a=s[w],b=a.getPoints(),o=i(b),o=e?!o:o,o?(!d&&f[v]&&v++,f[v]={s:new $p,p:b},f[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:b[0]});if(!f[0])return t(s);if(f.length>1){let w=!1,A=0;for(let E=0,C=f.length;E<C;E++)c[E]=[];for(let E=0,C=f.length;E<C;E++){const M=m[E];for(let R=0;R<M.length;R++){const O=M[R];let k=!0;for(let D=0;D<f.length;D++)r(O.p,f[D].p)&&(E!==D&&A++,k?(k=!1,c[D].push(O)):w=!0);k&&c[E].push(O)}}A>0&&w===!1&&(m=c)}let y;for(let w=0,A=f.length;w<A;w++){l=f[w].s,u.push(l),y=m[w];for(let E=0,C=y.length;E<C;E++)l.holes.push(y[E].h)}return u}}class F3e extends xu{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Qt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function D3e(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function B3e(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function k3e(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function qO(n,e,t,r){const i=L3e(r);switch(t){case yB:return n*e;case Qb:return n*e/i.components*i.byteLength;case e_:return n*e/i.components*i.byteLength;case NC:return n*e*2/i.components*i.byteLength;case IC:return n*e*2/i.components*i.byteLength;case xB:return n*e*3/i.components*i.byteLength;case $i:return n*e*4/i.components*i.byteLength;case OC:return n*e*4/i.components*i.byteLength;case lx:case cx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ux:case dx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _A:case SA:return Math.max(n,16)*Math.max(e,8)/4;case bA:case wA:return Math.max(n,8)*Math.max(e,8)/2;case AA:case EA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case CA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case MA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case TA:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case PA:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case RA:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case NA:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case IA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case OA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case FA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case DA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case BA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case kA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case LA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case jA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case UA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case zA:case HA:case GA:return Math.ceil(n/4)*Math.ceil(e/4)*16;case VA:case WA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case $A:case qA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function L3e(n){switch(n){case qo:case MC:return{byteLength:1,components:1};case H0:case TC:case ws:return{byteLength:2,components:1};case PC:case RC:return{byteLength:2,components:4};case fu:case Zb:case Ei:return{byteLength:4,components:1};case gB:case vB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class j3e{static contain(e,t){return D3e(e,t)}static cover(e,t){return B3e(e,t)}static fill(e){return k3e(e)}static getByteLength(e,t,r,i){return qO(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yb}}));typeof window<"u"&&(window.__THREE__?Qt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function FQ(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function U3e(n){const e=new WeakMap;function t(a,l){const u=a.array,d=a.usage,c=u.byteLength,f=n.createBuffer();n.bindBuffer(l,f),n.bufferData(l,u,d),a.onUploadCallback();let m;if(u instanceof Float32Array)m=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=n.HALF_FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=n.SHORT;else if(u instanceof Uint32Array)m=n.UNSIGNED_INT;else if(u instanceof Int32Array)m=n.INT;else if(u instanceof Int8Array)m=n.BYTE;else if(u instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:c}}function r(a,l,u){const d=l.array,c=l.updateRanges;if(n.bindBuffer(u,a),c.length===0)n.bufferSubData(u,0,d);else{c.sort((m,v)=>m.start-v.start);let f=0;for(let m=1;m<c.length;m++){const v=c[f],b=c[m];b.start<=v.start+v.count+1?v.count=Math.max(v.count,b.start+b.count-v.start):(++f,c[f]=b)}c.length=f+1;for(let m=0,v=c.length;m<v;m++){const b=c[m];n.bufferSubData(u,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,t(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}var z3e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,H3e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,G3e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,V3e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,W3e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,$3e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,q3e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,X3e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,K3e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Y3e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,J3e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Z3e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Q3e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,eIe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tIe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nIe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,sIe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,oIe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,cIe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,uIe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,dIe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,fIe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hIe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pIe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mIe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gIe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vIe="gl_FragColor = linearToOutputTexel( gl_FragColor );",yIe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,xIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bIe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,_Ie=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wIe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,AIe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,EIe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,CIe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,MIe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TIe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,PIe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RIe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,NIe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,IIe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,OIe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,FIe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DIe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,BIe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kIe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,LIe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,jIe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,UIe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,zIe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,HIe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,GIe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,VIe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WIe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$Ie=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qIe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,XIe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KIe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,YIe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JIe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ZIe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,QIe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,eOe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tOe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nOe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,rOe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,iOe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,sOe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lOe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,cOe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,uOe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,dOe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,fOe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,hOe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pOe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mOe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,gOe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vOe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yOe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xOe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bOe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_Oe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wOe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,SOe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AOe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,EOe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,COe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,MOe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,TOe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,POe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ROe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NOe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,IOe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,OOe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,FOe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,DOe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,BOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,LOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,jOe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const UOe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zOe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GOe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,WOe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$Oe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qOe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,XOe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,KOe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,YOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,JOe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZOe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QOe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eFe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tFe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nFe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rFe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iFe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sFe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oFe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,aFe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lFe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cFe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uFe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dFe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fFe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hFe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pFe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gFe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vFe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yFe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cr={alphahash_fragment:z3e,alphahash_pars_fragment:H3e,alphamap_fragment:G3e,alphamap_pars_fragment:V3e,alphatest_fragment:W3e,alphatest_pars_fragment:$3e,aomap_fragment:q3e,aomap_pars_fragment:X3e,batching_pars_vertex:K3e,batching_vertex:Y3e,begin_vertex:J3e,beginnormal_vertex:Z3e,bsdfs:Q3e,iridescence_fragment:eIe,bumpmap_pars_fragment:tIe,clipping_planes_fragment:nIe,clipping_planes_pars_fragment:rIe,clipping_planes_pars_vertex:iIe,clipping_planes_vertex:sIe,color_fragment:oIe,color_pars_fragment:aIe,color_pars_vertex:lIe,color_vertex:cIe,common:uIe,cube_uv_reflection_fragment:dIe,defaultnormal_vertex:fIe,displacementmap_pars_vertex:hIe,displacementmap_vertex:pIe,emissivemap_fragment:mIe,emissivemap_pars_fragment:gIe,colorspace_fragment:vIe,colorspace_pars_fragment:yIe,envmap_fragment:xIe,envmap_common_pars_fragment:bIe,envmap_pars_fragment:_Ie,envmap_pars_vertex:wIe,envmap_physical_pars_fragment:OIe,envmap_vertex:SIe,fog_vertex:AIe,fog_pars_vertex:EIe,fog_fragment:CIe,fog_pars_fragment:MIe,gradientmap_pars_fragment:TIe,lightmap_pars_fragment:PIe,lights_lambert_fragment:RIe,lights_lambert_pars_fragment:NIe,lights_pars_begin:IIe,lights_toon_fragment:FIe,lights_toon_pars_fragment:DIe,lights_phong_fragment:BIe,lights_phong_pars_fragment:kIe,lights_physical_fragment:LIe,lights_physical_pars_fragment:jIe,lights_fragment_begin:UIe,lights_fragment_maps:zIe,lights_fragment_end:HIe,logdepthbuf_fragment:GIe,logdepthbuf_pars_fragment:VIe,logdepthbuf_pars_vertex:WIe,logdepthbuf_vertex:$Ie,map_fragment:qIe,map_pars_fragment:XIe,map_particle_fragment:KIe,map_particle_pars_fragment:YIe,metalnessmap_fragment:JIe,metalnessmap_pars_fragment:ZIe,morphinstance_vertex:QIe,morphcolor_vertex:eOe,morphnormal_vertex:tOe,morphtarget_pars_vertex:nOe,morphtarget_vertex:rOe,normal_fragment_begin:iOe,normal_fragment_maps:sOe,normal_pars_fragment:oOe,normal_pars_vertex:aOe,normal_vertex:lOe,normalmap_pars_fragment:cOe,clearcoat_normal_fragment_begin:uOe,clearcoat_normal_fragment_maps:dOe,clearcoat_pars_fragment:fOe,iridescence_pars_fragment:hOe,opaque_fragment:pOe,packing:mOe,premultiplied_alpha_fragment:gOe,project_vertex:vOe,dithering_fragment:yOe,dithering_pars_fragment:xOe,roughnessmap_fragment:bOe,roughnessmap_pars_fragment:_Oe,shadowmap_pars_fragment:wOe,shadowmap_pars_vertex:SOe,shadowmap_vertex:AOe,shadowmask_pars_fragment:EOe,skinbase_vertex:COe,skinning_pars_vertex:MOe,skinning_vertex:TOe,skinnormal_vertex:POe,specularmap_fragment:ROe,specularmap_pars_fragment:NOe,tonemapping_fragment:IOe,tonemapping_pars_fragment:OOe,transmission_fragment:FOe,transmission_pars_fragment:DOe,uv_pars_fragment:BOe,uv_pars_vertex:kOe,uv_vertex:LOe,worldpos_vertex:jOe,background_vert:UOe,background_frag:zOe,backgroundCube_vert:HOe,backgroundCube_frag:GOe,cube_vert:VOe,cube_frag:WOe,depth_vert:$Oe,depth_frag:qOe,distanceRGBA_vert:XOe,distanceRGBA_frag:KOe,equirect_vert:YOe,equirect_frag:JOe,linedashed_vert:ZOe,linedashed_frag:QOe,meshbasic_vert:eFe,meshbasic_frag:tFe,meshlambert_vert:nFe,meshlambert_frag:rFe,meshmatcap_vert:iFe,meshmatcap_frag:sFe,meshnormal_vert:oFe,meshnormal_frag:aFe,meshphong_vert:lFe,meshphong_frag:cFe,meshphysical_vert:uFe,meshphysical_frag:dFe,meshtoon_vert:fFe,meshtoon_frag:hFe,points_vert:pFe,points_frag:mFe,shadow_vert:gFe,shadow_frag:vFe,sprite_vert:yFe,sprite_frag:xFe},Zt={common:{diffuse:{value:new Wt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qn},alphaMap:{value:null},alphaMapTransform:{value:new Qn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qn}},envmap:{envMap:{value:null},envMapRotation:{value:new Qn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qn},normalScale:{value:new dt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qn},alphaTest:{value:0},uvTransform:{value:new Qn}},sprite:{diffuse:{value:new Wt(16777215)},opacity:{value:1},center:{value:new dt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qn},alphaMap:{value:null},alphaMapTransform:{value:new Qn},alphaTest:{value:0}}},sc={basic:{uniforms:jo([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.fog]),vertexShader:cr.meshbasic_vert,fragmentShader:cr.meshbasic_frag},lambert:{uniforms:jo([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,Zt.lights,{emissive:{value:new Wt(0)}}]),vertexShader:cr.meshlambert_vert,fragmentShader:cr.meshlambert_frag},phong:{uniforms:jo([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,Zt.lights,{emissive:{value:new Wt(0)},specular:{value:new Wt(1118481)},shininess:{value:30}}]),vertexShader:cr.meshphong_vert,fragmentShader:cr.meshphong_frag},standard:{uniforms:jo([Zt.common,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.roughnessmap,Zt.metalnessmap,Zt.fog,Zt.lights,{emissive:{value:new Wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cr.meshphysical_vert,fragmentShader:cr.meshphysical_frag},toon:{uniforms:jo([Zt.common,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.gradientmap,Zt.fog,Zt.lights,{emissive:{value:new Wt(0)}}]),vertexShader:cr.meshtoon_vert,fragmentShader:cr.meshtoon_frag},matcap:{uniforms:jo([Zt.common,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,{matcap:{value:null}}]),vertexShader:cr.meshmatcap_vert,fragmentShader:cr.meshmatcap_frag},points:{uniforms:jo([Zt.points,Zt.fog]),vertexShader:cr.points_vert,fragmentShader:cr.points_frag},dashed:{uniforms:jo([Zt.common,Zt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cr.linedashed_vert,fragmentShader:cr.linedashed_frag},depth:{uniforms:jo([Zt.common,Zt.displacementmap]),vertexShader:cr.depth_vert,fragmentShader:cr.depth_frag},normal:{uniforms:jo([Zt.common,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,{opacity:{value:1}}]),vertexShader:cr.meshnormal_vert,fragmentShader:cr.meshnormal_frag},sprite:{uniforms:jo([Zt.sprite,Zt.fog]),vertexShader:cr.sprite_vert,fragmentShader:cr.sprite_frag},background:{uniforms:{uvTransform:{value:new Qn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cr.background_vert,fragmentShader:cr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Qn}},vertexShader:cr.backgroundCube_vert,fragmentShader:cr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cr.cube_vert,fragmentShader:cr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cr.equirect_vert,fragmentShader:cr.equirect_frag},distanceRGBA:{uniforms:jo([Zt.common,Zt.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cr.distanceRGBA_vert,fragmentShader:cr.distanceRGBA_frag},shadow:{uniforms:jo([Zt.lights,Zt.fog,{color:{value:new Wt(0)},opacity:{value:1}}]),vertexShader:cr.shadow_vert,fragmentShader:cr.shadow_frag}};sc.physical={uniforms:jo([sc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qn},clearcoatNormalScale:{value:new dt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qn},sheen:{value:0},sheenColor:{value:new Wt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qn},transmissionSamplerSize:{value:new dt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qn},attenuationDistance:{value:0},attenuationColor:{value:new Wt(0)},specularColor:{value:new Wt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qn},anisotropyVector:{value:new dt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qn}}]),vertexShader:cr.meshphysical_vert,fragmentShader:cr.meshphysical_frag};const yw={r:0,b:0,g:0},up=new Ua,bFe=new Dn;function _Fe(n,e,t,r,i,s,o){const a=new Wt(0);let l=s===!0?0:1,u,d,c=null,f=0,m=null;function v(E){let C=E.isScene===!0?E.background:null;return C&&C.isTexture&&(C=(E.backgroundBlurriness>0?t:e).get(C)),C}function b(E){let C=!1;const M=v(E);M===null?w(a,l):M&&M.isColor&&(w(M,1),C=!0);const R=n.xr.getEnvironmentBlendMode();R==="additive"?r.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||C)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(E,C){const M=v(C);M&&(M.isCubeTexture||M.mapping===_v)?(d===void 0&&(d=new Ci(new _m(1,1,1),new Xo({name:"BackgroundCubeMaterial",uniforms:J0(sc.backgroundCube.uniforms),vertexShader:sc.backgroundCube.vertexShader,fragmentShader:sc.backgroundCube.fragmentShader,side:Wo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(R,O,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),up.copy(C.backgroundRotation),up.x*=-1,up.y*=-1,up.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(up.y*=-1,up.z*=-1),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(bFe.makeRotationFromEuler(up)),d.material.toneMapped=Mr.getTransfer(M.colorSpace)!==Gr,(c!==M||f!==M.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,c=M,f=M.version,m=n.toneMapping),d.layers.enableAll(),E.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new Ci(new dh(2,2),new Xo({name:"BackgroundMaterial",uniforms:J0(sc.background.uniforms),vertexShader:sc.background.vertexShader,fragmentShader:sc.background.fragmentShader,side:uu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=M,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=Mr.getTransfer(M.colorSpace)!==Gr,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(c!==M||f!==M.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,c=M,f=M.version,m=n.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null))}function w(E,C){E.getRGB(yw,jZ(n)),r.buffers.color.setClear(yw.r,yw.g,yw.b,C,o)}function A(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(E,C=1){a.set(E),l=C,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,w(a,l)},render:b,addToRenderList:y,dispose:A}}function wFe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function a(I,L,W,q,K){let ne=!1;const V=c(q,W,L);s!==V&&(s=V,u(s.object)),ne=m(I,q,W,K),ne&&v(I,q,W,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(ne||o)&&(o=!1,C(I,L,W,q),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return n.createVertexArray()}function u(I){return n.bindVertexArray(I)}function d(I){return n.deleteVertexArray(I)}function c(I,L,W){const q=W.wireframe===!0;let K=r[I.id];K===void 0&&(K={},r[I.id]=K);let ne=K[L.id];ne===void 0&&(ne={},K[L.id]=ne);let V=ne[q];return V===void 0&&(V=f(l()),ne[q]=V),V}function f(I){const L=[],W=[],q=[];for(let K=0;K<t;K++)L[K]=0,W[K]=0,q[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:W,attributeDivisors:q,object:I,attributes:{},index:null}}function m(I,L,W,q){const K=s.attributes,ne=L.attributes;let V=0;const ee=W.getAttributes();for(const H in ee)if(ee[H].location>=0){const te=K[H];let Y=ne[H];if(Y===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(Y=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(Y=I.instanceColor)),te===void 0||te.attribute!==Y||Y&&te.data!==Y.data)return!0;V++}return s.attributesNum!==V||s.index!==q}function v(I,L,W,q){const K={},ne=L.attributes;let V=0;const ee=W.getAttributes();for(const H in ee)if(ee[H].location>=0){let te=ne[H];te===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(te=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(te=I.instanceColor));const Y={};Y.attribute=te,te&&te.data&&(Y.data=te.data),K[H]=Y,V++}s.attributes=K,s.attributesNum=V,s.index=q}function b(){const I=s.newAttributes;for(let L=0,W=I.length;L<W;L++)I[L]=0}function y(I){w(I,0)}function w(I,L){const W=s.newAttributes,q=s.enabledAttributes,K=s.attributeDivisors;W[I]=1,q[I]===0&&(n.enableVertexAttribArray(I),q[I]=1),K[I]!==L&&(n.vertexAttribDivisor(I,L),K[I]=L)}function A(){const I=s.newAttributes,L=s.enabledAttributes;for(let W=0,q=L.length;W<q;W++)L[W]!==I[W]&&(n.disableVertexAttribArray(W),L[W]=0)}function E(I,L,W,q,K,ne,V){V===!0?n.vertexAttribIPointer(I,L,W,K,ne):n.vertexAttribPointer(I,L,W,q,K,ne)}function C(I,L,W,q){b();const K=q.attributes,ne=W.getAttributes(),V=L.defaultAttributeValues;for(const ee in ne){const H=ne[ee];if(H.location>=0){let Z=K[ee];if(Z===void 0&&(ee==="instanceMatrix"&&I.instanceMatrix&&(Z=I.instanceMatrix),ee==="instanceColor"&&I.instanceColor&&(Z=I.instanceColor)),Z!==void 0){const te=Z.normalized,Y=Z.itemSize,ae=e.get(Z);if(ae===void 0)continue;const we=ae.buffer,Fe=ae.type,qe=ae.bytesPerElement,fe=Fe===n.INT||Fe===n.UNSIGNED_INT||Z.gpuType===Zb;if(Z.isInterleavedBufferAttribute){const xe=Z.data,Pe=xe.stride,Te=Z.offset;if(xe.isInstancedInterleavedBuffer){for(let je=0;je<H.locationSize;je++)w(H.location+je,xe.meshPerAttribute);I.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let je=0;je<H.locationSize;je++)y(H.location+je);n.bindBuffer(n.ARRAY_BUFFER,we);for(let je=0;je<H.locationSize;je++)E(H.location+je,Y/H.locationSize,Fe,te,Pe*qe,(Te+Y/H.locationSize*je)*qe,fe)}else{if(Z.isInstancedBufferAttribute){for(let xe=0;xe<H.locationSize;xe++)w(H.location+xe,Z.meshPerAttribute);I.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let xe=0;xe<H.locationSize;xe++)y(H.location+xe);n.bindBuffer(n.ARRAY_BUFFER,we);for(let xe=0;xe<H.locationSize;xe++)E(H.location+xe,Y/H.locationSize,Fe,te,Y*qe,Y/H.locationSize*xe*qe,fe)}}else if(V!==void 0){const te=V[ee];if(te!==void 0)switch(te.length){case 2:n.vertexAttrib2fv(H.location,te);break;case 3:n.vertexAttrib3fv(H.location,te);break;case 4:n.vertexAttrib4fv(H.location,te);break;default:n.vertexAttrib1fv(H.location,te)}}}}A()}function M(){k();for(const I in r){const L=r[I];for(const W in L){const q=L[W];for(const K in q)d(q[K].object),delete q[K];delete L[W]}delete r[I]}}function R(I){if(r[I.id]===void 0)return;const L=r[I.id];for(const W in L){const q=L[W];for(const K in q)d(q[K].object),delete q[K];delete L[W]}delete r[I.id]}function O(I){for(const L in r){const W=r[L];if(W[I.id]===void 0)continue;const q=W[I.id];for(const K in q)d(q[K].object),delete q[K];delete W[I.id]}}function k(){D(),o=!0,s!==i&&(s=i,u(s.object))}function D(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:k,resetDefaultState:D,dispose:M,releaseStatesOfGeometry:R,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:y,disableUnusedAttributes:A}}function SFe(n,e,t){let r;function i(u){r=u}function s(u,d){n.drawArrays(r,u,d),t.update(d,r,1)}function o(u,d,c){c!==0&&(n.drawArraysInstanced(r,u,d,c),t.update(d,r,c))}function a(u,d,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,c);let m=0;for(let v=0;v<c;v++)m+=d[v];t.update(m,r,1)}function l(u,d,c,f){if(c===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<u.length;v++)o(u[v],d[v],f[v]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,d,0,f,0,c);let v=0;for(let b=0;b<c;b++)v+=d[b]*f[b];t.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function AFe(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(O){return!(O!==$i&&r.convert(O)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(O){const k=O===ws&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(O!==qo&&r.convert(O)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&O!==Ei&&!k)}function l(O){if(O==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=l(u);d!==u&&(Qt("WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const c=t.logarithmicDepthBuffer===!0,f=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),w=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),E=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=v>0,R=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:c,reversedDepthBuffer:f,maxTextures:m,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:y,maxAttributes:w,maxVertexUniforms:A,maxVaryings:E,maxFragmentUniforms:C,vertexTextures:M,maxSamples:R}}function EFe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new id,a=new Qn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(c,f){const m=c.length!==0||f||r!==0||i;return i=f,r=c.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(c,f){t=d(c,f,0)},this.setState=function(c,f,m){const v=c.clippingPlanes,b=c.clipIntersection,y=c.clipShadows,w=n.get(c);if(!i||v===null||v.length===0||s&&!y)s?d(null):u();else{const A=s?0:r,E=A*4;let C=w.clippingState||null;l.value=C,C=d(v,f,E,m);for(let M=0;M!==E;++M)C[M]=t[M];w.clippingState=C,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=A}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(c,f,m,v){const b=c!==null?c.length:0;let y=null;if(b!==0){if(y=l.value,v!==!0||y===null){const w=m+b*4,A=f.matrixWorldInverse;a.getNormalMatrix(A),(y===null||y.length<w)&&(y=new Float32Array(w));for(let E=0,C=m;E!==b;++E,C+=4)o.copy(c[E]).applyMatrix4(A,a),o.normal.toArray(y,C),y[C+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function CFe(n){let e=new WeakMap;function t(o,a){return a===U0?o.mapping=du:a===hb&&(o.mapping=Kf),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===U0||a===hb)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new TB(l.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Lf=4,hG=[.125,.215,.35,.446,.526,.582],_p=20,MFe=512,jy=new nu,pG=new Wt;let XN=null,KN=0,YN=0,JN=!1;const TFe=new de;class XO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,i=100,s={}){const{size:o=256,position:a=TFe}=s;XN=this._renderer.getRenderTarget(),KN=this._renderer.getActiveCubeFace(),YN=this._renderer.getActiveMipmapLevel(),JN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=vG(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=gG(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(XN,KN,YN),this._renderer.xr.enabled=JN,e.scissorTest=!1,Dg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===du||e.mapping===Kf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),XN=this._renderer.getRenderTarget(),KN=this._renderer.getActiveCubeFace(),YN=this._renderer.getActiveMipmapLevel(),JN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Rr,minFilter:Rr,generateMipmaps:!1,type:ws,format:$i,colorSpace:hu,depthBuffer:!1},i=mG(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=mG(e,t,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=PFe(s)),this._blurMaterial=NFe(s,e,t)}return i}_compileMaterial(e){const t=new Ci(new Kn,e);this._renderer.compile(t,jy)}_sceneToCubeUV(e,t,r,i,s){const l=new ki(90,1,t,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,m=c.toneMapping;c.getClearColor(pG),c.toneMapping=tu,c.autoClear=!1,c.state.buffers.depth.getReversed()&&(c.setRenderTarget(i),c.clearDepth(),c.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ci(new _m,new da({name:"PMREM.Background",side:Wo,depthWrite:!1,depthTest:!1})));const b=this._backgroundBox,y=b.material;let w=!1;const A=e.background;A?A.isColor&&(y.color.copy(A),e.background=null,w=!0):(y.color.copy(pG),w=!0);for(let E=0;E<6;E++){const C=E%3;C===0?(l.up.set(0,u[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[E],s.y,s.z)):C===1?(l.up.set(0,0,u[E]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[E],s.z)):(l.up.set(0,u[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[E]));const M=this._cubeSize;Dg(i,C*M,E>2?M:0,M,M),c.setRenderTarget(i),w&&c.render(b,l),c.render(e,l)}c.toneMapping=m,c.autoClear=f,e.background=A}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===du||e.mapping===Kf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=vG()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=gG());const s=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=s;const a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Dg(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,jy)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);t.autoClear=r}_applyGGXFilter(e,t,r){const i=this._renderer,s=this._pingPongRenderTarget;if(this._ggxMaterial===null){const A=3*Math.max(this._cubeSize,16),E=4*this._cubeSize;this._ggxMaterial=RFe(this._lodMax,A,E)}const o=this._ggxMaterial,a=this._lodMeshes[r];a.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),d=t/(this._lodMeshes.length-1),c=Math.sqrt(u*u-d*d),f=.05+u*.95,m=c*f,{_lodMax:v}=this,b=this._sizeLods[r],y=3*b*(r>v-Lf?r-v+Lf:0),w=4*(this._cubeSize-b);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=v-t,Dg(s,y,w,3*b,2*b),i.setRenderTarget(s),i.render(a,jy),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=v-r,Dg(e,y,w,3*b,2*b),i.setRenderTarget(e),i.render(a,jy)}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Gn("blur direction must be either latitudinal or longitudinal!");const d=3,c=this._lodMeshes[i];c.material=u;const f=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*_p-1),b=s/v,y=isFinite(s)?1+Math.floor(d*b):_p;y>_p&&Qt(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${_p}`);const w=[];let A=0;for(let O=0;O<_p;++O){const k=O/b,D=Math.exp(-k*k/2);w.push(D),O===0?A+=D:O<y&&(A+=2*D)}for(let O=0;O<w.length;O++)w[O]=w[O]/A;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=w,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:E}=this;f.dTheta.value=v,f.mipInt.value=E-r;const C=this._sizeLods[i],M=3*C*(i>E-Lf?i-E+Lf:0),R=4*(this._cubeSize-C);Dg(t,M,R,3*C,2*C),l.setRenderTarget(t),l.render(c,jy)}}function PFe(n){const e=[],t=[],r=[];let i=n;const s=n-Lf+1+hG.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);e.push(a);let l=1/a;o>n-Lf?l=hG[o-n+Lf-1]:o===0&&(l=0),t.push(l);const u=1/(a-2),d=-u,c=1+u,f=[d,d,c,d,c,c,d,d,c,c,d,c],m=6,v=6,b=3,y=2,w=1,A=new Float32Array(b*v*m),E=new Float32Array(y*v*m),C=new Float32Array(w*v*m);for(let R=0;R<m;R++){const O=R%3*2/3-1,k=R>2?0:-1,D=[O,k,0,O+2/3,k,0,O+2/3,k+1,0,O,k,0,O+2/3,k+1,0,O,k+1,0];A.set(D,b*v*R),E.set(f,y*v*R);const I=[R,R,R,R,R,R];C.set(I,w*v*R)}const M=new Kn;M.setAttribute("position",new Nr(A,b)),M.setAttribute("uv",new Nr(E,y)),M.setAttribute("faceIndex",new Nr(C,w)),r.push(new Ci(M,null)),i>Lf&&i--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function mG(n,e,t){const r=new wl(n,e,t);return r.texture.mapping=_v,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dg(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function RFe(n,e,t){return new Xo({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:MFe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:rM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function NFe(n,e,t){const r=new Float32Array(_p),i=new de(0,1,0);return new Xo({name:"SphericalGaussianBlur",defines:{n:_p,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:rM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function gG(){return new Xo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:rM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function vG(){return new Xo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:rM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:dc,depthTest:!1,depthWrite:!1})}function rM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function IFe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===U0||l===hb,d=l===du||l===Kf;if(u||d){let c=e.get(a);const f=c!==void 0?c.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return t===null&&(t=new XO(n)),c=u?t.fromEquirectangular(a,c):t.fromCubemap(a,c),c.texture.pmremVersion=a.pmremVersion,e.set(a,c),c.texture;if(c!==void 0)return c.texture;{const m=a.image;return u&&m&&m.height>0||d&&m&&i(m)?(t===null&&(t=new XO(n)),c=u?t.fromEquirectangular(a):t.fromCubemap(a),c.texture.pmremVersion=a.pmremVersion,e.set(a,c),a.addEventListener("dispose",s),c.texture):null}}}return a}function i(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function OFe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const i=n.getExtension(r);return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&K0("WebGLRenderer: "+r+" extension not supported."),i}}}function FFe(n,e,t,r){const i={},s=new WeakMap;function o(c){const f=c.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);f.removeEventListener("dispose",o),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(c,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(c){const f=c.attributes;for(const m in f)e.update(f[m],n.ARRAY_BUFFER)}function u(c){const f=[],m=c.index,v=c.attributes.position;let b=0;if(m!==null){const A=m.array;b=m.version;for(let E=0,C=A.length;E<C;E+=3){const M=A[E+0],R=A[E+1],O=A[E+2];f.push(M,R,R,O,O,M)}}else if(v!==void 0){const A=v.array;b=v.version;for(let E=0,C=A.length/3-1;E<C;E+=3){const M=E+0,R=E+1,O=E+2;f.push(M,R,R,O,O,M)}}else return;const y=new(FZ(f)?MB:CB)(f,1);y.version=b;const w=s.get(c);w&&e.remove(w),s.set(c,y)}function d(c){const f=s.get(c);if(f){const m=c.index;m!==null&&f.version<m.version&&u(c)}else u(c);return s.get(c)}return{get:a,update:l,getWireframeAttribute:d}}function DFe(n,e,t){let r;function i(f){r=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,m){n.drawElements(r,m,s,f*o),t.update(m,r,1)}function u(f,m,v){v!==0&&(n.drawElementsInstanced(r,m,s,f*o,v),t.update(m,r,v))}function d(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,f,0,v);let y=0;for(let w=0;w<v;w++)y+=m[w];t.update(y,r,1)}function c(f,m,v,b){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let w=0;w<f.length;w++)u(f[w]/o,m[w],b[w]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,f,0,b,0,v);let w=0;for(let A=0;A<v;A++)w+=m[A]*b[A];t.update(w,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=c}function BFe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:Gn("WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function kFe(n,e,t){const r=new WeakMap,i=new Pr;function s(o,a,l){const u=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,c=d!==void 0?d.length:0;let f=r.get(a);if(f===void 0||f.count!==c){let I=function(){k.dispose(),r.delete(a),a.removeEventListener("dispose",I)};var m=I;f!==void 0&&f.texture.dispose();const v=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,w=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],E=a.morphAttributes.color||[];let C=0;v===!0&&(C=1),b===!0&&(C=2),y===!0&&(C=3);let M=a.attributes.position.count*C,R=1;M>e.maxTextureSize&&(R=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const O=new Float32Array(M*R*4*c),k=new DC(O,M,R,c);k.type=Ei,k.needsUpdate=!0;const D=C*4;for(let L=0;L<c;L++){const W=w[L],q=A[L],K=E[L],ne=M*R*4*L;for(let V=0;V<W.count;V++){const ee=V*D;v===!0&&(i.fromBufferAttribute(W,V),O[ne+ee+0]=i.x,O[ne+ee+1]=i.y,O[ne+ee+2]=i.z,O[ne+ee+3]=0),b===!0&&(i.fromBufferAttribute(q,V),O[ne+ee+4]=i.x,O[ne+ee+5]=i.y,O[ne+ee+6]=i.z,O[ne+ee+7]=0),y===!0&&(i.fromBufferAttribute(K,V),O[ne+ee+8]=i.x,O[ne+ee+9]=i.y,O[ne+ee+10]=i.z,O[ne+ee+11]=K.itemSize===4?i.w:1)}}f={count:c,texture:k,size:new dt(M,R)},r.set(a,f),a.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let y=0;y<u.length;y++)v+=u[y];const b=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",b),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}return{update:s}}function LFe(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,d=l.geometry,c=e.get(l,d);if(i.get(c)!==u&&(e.update(c),i.set(c,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return c}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const DQ=new Ur,yG=new FB(1,1),BQ=new DC,kQ=new BC,LQ=new n_,xG=[],bG=[],_G=new Float32Array(16),wG=new Float32Array(9),SG=new Float32Array(4);function Av(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=xG[i];if(s===void 0&&(s=new Float32Array(i),xG[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Es(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Cs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function iM(n,e){let t=bG[e];t===void 0&&(t=new Int32Array(e),bG[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function jFe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function UFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Es(t,e))return;n.uniform2fv(this.addr,e),Cs(t,e)}}function zFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Es(t,e))return;n.uniform3fv(this.addr,e),Cs(t,e)}}function HFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Es(t,e))return;n.uniform4fv(this.addr,e),Cs(t,e)}}function GFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Es(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Cs(t,e)}else{if(Es(t,r))return;SG.set(r),n.uniformMatrix2fv(this.addr,!1,SG),Cs(t,r)}}function VFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Es(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Cs(t,e)}else{if(Es(t,r))return;wG.set(r),n.uniformMatrix3fv(this.addr,!1,wG),Cs(t,r)}}function WFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Es(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Cs(t,e)}else{if(Es(t,r))return;_G.set(r),n.uniformMatrix4fv(this.addr,!1,_G),Cs(t,r)}}function $Fe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function qFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Es(t,e))return;n.uniform2iv(this.addr,e),Cs(t,e)}}function XFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Es(t,e))return;n.uniform3iv(this.addr,e),Cs(t,e)}}function KFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Es(t,e))return;n.uniform4iv(this.addr,e),Cs(t,e)}}function YFe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function JFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Es(t,e))return;n.uniform2uiv(this.addr,e),Cs(t,e)}}function ZFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Es(t,e))return;n.uniform3uiv(this.addr,e),Cs(t,e)}}function QFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Es(t,e))return;n.uniform4uiv(this.addr,e),Cs(t,e)}}function eDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(yG.compareFunction=SB,s=yG):s=DQ,t.setTexture2D(e||s,i)}function tDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||kQ,i)}function nDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||LQ,i)}function rDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||BQ,i)}function iDe(n){switch(n){case 5126:return jFe;case 35664:return UFe;case 35665:return zFe;case 35666:return HFe;case 35674:return GFe;case 35675:return VFe;case 35676:return WFe;case 5124:case 35670:return $Fe;case 35667:case 35671:return qFe;case 35668:case 35672:return XFe;case 35669:case 35673:return KFe;case 5125:return YFe;case 36294:return JFe;case 36295:return ZFe;case 36296:return QFe;case 35678:case 36198:case 36298:case 36306:case 35682:return eDe;case 35679:case 36299:case 36307:return tDe;case 35680:case 36300:case 36308:case 36293:return nDe;case 36289:case 36303:case 36311:case 36292:return rDe}}function sDe(n,e){n.uniform1fv(this.addr,e)}function oDe(n,e){const t=Av(e,this.size,2);n.uniform2fv(this.addr,t)}function aDe(n,e){const t=Av(e,this.size,3);n.uniform3fv(this.addr,t)}function lDe(n,e){const t=Av(e,this.size,4);n.uniform4fv(this.addr,t)}function cDe(n,e){const t=Av(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function uDe(n,e){const t=Av(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function dDe(n,e){const t=Av(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function fDe(n,e){n.uniform1iv(this.addr,e)}function hDe(n,e){n.uniform2iv(this.addr,e)}function pDe(n,e){n.uniform3iv(this.addr,e)}function mDe(n,e){n.uniform4iv(this.addr,e)}function gDe(n,e){n.uniform1uiv(this.addr,e)}function vDe(n,e){n.uniform2uiv(this.addr,e)}function yDe(n,e){n.uniform3uiv(this.addr,e)}function xDe(n,e){n.uniform4uiv(this.addr,e)}function bDe(n,e,t){const r=this.cache,i=e.length,s=iM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||DQ,s[o])}function _De(n,e,t){const r=this.cache,i=e.length,s=iM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||kQ,s[o])}function wDe(n,e,t){const r=this.cache,i=e.length,s=iM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||LQ,s[o])}function SDe(n,e,t){const r=this.cache,i=e.length,s=iM(t,i);Es(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||BQ,s[o])}function ADe(n){switch(n){case 5126:return sDe;case 35664:return oDe;case 35665:return aDe;case 35666:return lDe;case 35674:return cDe;case 35675:return uDe;case 35676:return dDe;case 5124:case 35670:return fDe;case 35667:case 35671:return hDe;case 35668:case 35672:return pDe;case 35669:case 35673:return mDe;case 5125:return gDe;case 36294:return vDe;case 36295:return yDe;case 36296:return xDe;case 35678:case 36198:case 36298:case 36306:case 35682:return bDe;case 35679:case 36299:case 36307:return _De;case 35680:case 36300:case 36308:case 36293:return wDe;case 36289:case 36303:case 36311:case 36292:return SDe}}class EDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=iDe(t.type)}}class CDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ADe(t.type)}}class MDe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const ZN=/(\w+)(\])?(\[|\.)?/g;function AG(n,e){n.seq.push(e),n.map[e.id]=e}function TDe(n,e,t){const r=n.name,i=r.length;for(ZN.lastIndex=0;;){const s=ZN.exec(r),o=ZN.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){AG(t,u===void 0?new EDe(a,n,e):new CDe(a,n,e));break}else{let c=t.map[a];c===void 0&&(c=new MDe(a),AG(t,c)),t=c}}}class Ww{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);TDe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function EG(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const PDe=37297;let RDe=0;function NDe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}const CG=new Qn;function IDe(n){Mr._getMatrix(CG,Mr.workingColorSpace,n);const e=`mat3( ${CG.elements.map(t=>t.toFixed(4))} )`;switch(Mr.getTransfer(n)){case mb:return[e,"LinearTransferOETF"];case Gr:return[e,"sRGBTransferOETF"];default:return Qt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function MG(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),s=(n.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+s+`

`+NDe(n.getShaderSource(e),a)}else return s}function ODe(n,e){const t=IDe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function FDe(n,e){let t;switch(e){case pZ:t="Linear";break;case mZ:t="Reinhard";break;case gZ:t="Cineon";break;case EC:t="ACESFilmic";break;case yZ:t="AgX";break;case xZ:t="Neutral";break;case vZ:t="Custom";break;default:Qt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const xw=new de;function DDe(){Mr.getLuminanceCoefficients(xw);const n=xw.x.toFixed(4),e=xw.y.toFixed(4),t=xw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function BDe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qy).join(`
`)}function kDe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function LDe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Qy(n){return n!==""}function TG(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function PG(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const jDe=/^[ \t]*#include +<([\w\d./]+)>/gm;function KO(n){return n.replace(jDe,zDe)}const UDe=new Map;function zDe(n,e){let t=cr[e];if(t===void 0){const r=UDe.get(e);if(r!==void 0)t=cr[r],Qt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return KO(t)}const HDe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RG(n){return n.replace(HDe,GDe)}function GDe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function NG(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function VDe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===AC?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ax?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===tc&&(e="SHADOWMAP_TYPE_VSM"),e}function WDe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case du:case Kf:e="ENVMAP_TYPE_CUBE";break;case _v:e="ENVMAP_TYPE_CUBE_UV";break}return e}function $De(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Kf:e="ENVMAP_MODE_REFRACTION";break}return e}function qDe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Jb:e="ENVMAP_BLENDING_MULTIPLY";break;case fZ:e="ENVMAP_BLENDING_MIX";break;case hZ:e="ENVMAP_BLENDING_ADD";break}return e}function XDe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function KDe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=VDe(t),u=WDe(t),d=$De(t),c=qDe(t),f=XDe(t),m=BDe(t),v=kDe(s),b=i.createProgram();let y,w,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Qy).join(`
`),y.length>0&&(y+=`
`),w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Qy).join(`
`),w.length>0&&(w+=`
`)):(y=[NG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qy).join(`
`),w=[NG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+c:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==tu?"#define TONE_MAPPING":"",t.toneMapping!==tu?cr.tonemapping_pars_fragment:"",t.toneMapping!==tu?FDe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cr.colorspace_pars_fragment,ODe("linearToOutputTexel",t.outputColorSpace),DDe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Qy).join(`
`)),o=KO(o),o=TG(o,t),o=PG(o,t),a=KO(a),a=TG(a,t),a=PG(a,t),o=RG(o),a=RG(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,w=["#define varying in",t.glslVersion===UO?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===UO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const E=A+y+o,C=A+w+a,M=EG(i,i.VERTEX_SHADER,E),R=EG(i,i.FRAGMENT_SHADER,C);i.attachShader(b,M),i.attachShader(b,R),t.index0AttributeName!==void 0?i.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function O(L){if(n.debug.checkShaderErrors){const W=i.getProgramInfoLog(b)||"",q=i.getShaderInfoLog(M)||"",K=i.getShaderInfoLog(R)||"",ne=W.trim(),V=q.trim(),ee=K.trim();let H=!0,Z=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(H=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,b,M,R);else{const te=MG(i,M,"vertex"),Y=MG(i,R,"fragment");Gn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+L.name+`
Material Type: `+L.type+`

Program Info Log: `+ne+`
`+te+`
`+Y)}else ne!==""?Qt("WebGLProgram: Program Info Log:",ne):(V===""||ee==="")&&(Z=!1);Z&&(L.diagnostics={runnable:H,programLog:ne,vertexShader:{log:V,prefix:y},fragmentShader:{log:ee,prefix:w}})}i.deleteShader(M),i.deleteShader(R),k=new Ww(i,b),D=LDe(i,b)}let k;this.getUniforms=function(){return k===void 0&&O(this),k};let D;this.getAttributes=function(){return D===void 0&&O(this),D};let I=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(b,PDe)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=RDe++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=M,this.fragmentShader=R,this}let YDe=0;class JDe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ZDe(e),t.set(e,r)),r}}class ZDe{constructor(e){this.id=YDe++,this.code=e,this.usedTimes=0}}function QDe(n,e,t,r,i,s,o){const a=new Wp,l=new JDe,u=new Set,d=[],c=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(D){return u.add(D),D===0?"uv":`uv${D}`}function y(D,I,L,W,q){const K=W.fog,ne=q.geometry,V=D.isMeshStandardMaterial?W.environment:null,ee=(D.isMeshStandardMaterial?t:e).get(D.envMap||V),H=ee&&ee.mapping===_v?ee.image.height:null,Z=v[D.type];D.precision!==null&&(m=i.getMaxPrecision(D.precision),m!==D.precision&&Qt("WebGLProgram.getParameters:",D.precision,"not supported, using",m,"instead."));const te=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,Y=te!==void 0?te.length:0;let ae=0;ne.morphAttributes.position!==void 0&&(ae=1),ne.morphAttributes.normal!==void 0&&(ae=2),ne.morphAttributes.color!==void 0&&(ae=3);let we,Fe,qe,fe;if(Z){const Cn=sc[Z];we=Cn.vertexShader,Fe=Cn.fragmentShader}else we=D.vertexShader,Fe=D.fragmentShader,l.update(D),qe=l.getVertexShaderID(D),fe=l.getFragmentShaderID(D);const xe=n.getRenderTarget(),Pe=n.state.buffers.depth.getReversed(),Te=q.isInstancedMesh===!0,je=q.isBatchedMesh===!0,rt=!!D.map,Ue=!!D.matcap,ot=!!ee,De=!!D.aoMap,le=!!D.lightMap,et=!!D.bumpMap,at=!!D.normalMap,xt=!!D.displacementMap,ct=!!D.emissiveMap,Ut=!!D.metalnessMap,Ct=!!D.roughnessMap,Et=D.anisotropy>0,ce=D.clearcoat>0,ie=D.dispersion>0,Ie=D.iridescence>0,Je=D.sheen>0,ft=D.transmission>0,Xe=Et&&!!D.anisotropyMap,Yt=ce&&!!D.clearcoatMap,Dt=ce&&!!D.clearcoatNormalMap,nn=ce&&!!D.clearcoatRoughnessMap,Kt=Ie&&!!D.iridescenceMap,ht=Ie&&!!D.iridescenceThicknessMap,pt=Je&&!!D.sheenColorMap,pn=Je&&!!D.sheenRoughnessMap,Se=!!D.specularMap,Le=!!D.specularColorMap,ut=!!D.specularIntensityMap,ve=ft&&!!D.transmissionMap,Be=ft&&!!D.thicknessMap,mt=!!D.gradientMap,St=!!D.alphaMap,_t=D.alphaTest>0,ze=!!D.alphaHash,wt=!!D.extensions;let qt=tu;D.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(qt=n.toneMapping);const wn={shaderID:Z,shaderType:D.type,shaderName:D.name,vertexShader:we,fragmentShader:Fe,defines:D.defines,customVertexShaderID:qe,customFragmentShaderID:fe,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:m,batching:je,batchingColor:je&&q._colorsTexture!==null,instancing:Te,instancingColor:Te&&q.instanceColor!==null,instancingMorph:Te&&q.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:xe===null?n.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:hu,alphaToCoverage:!!D.alphaToCoverage,map:rt,matcap:Ue,envMap:ot,envMapMode:ot&&ee.mapping,envMapCubeUVHeight:H,aoMap:De,lightMap:le,bumpMap:et,normalMap:at,displacementMap:f&&xt,emissiveMap:ct,normalMapObjectSpace:at&&D.normalMapType===CZ,normalMapTangentSpace:at&&D.normalMapType===ch,metalnessMap:Ut,roughnessMap:Ct,anisotropy:Et,anisotropyMap:Xe,clearcoat:ce,clearcoatMap:Yt,clearcoatNormalMap:Dt,clearcoatRoughnessMap:nn,dispersion:ie,iridescence:Ie,iridescenceMap:Kt,iridescenceThicknessMap:ht,sheen:Je,sheenColorMap:pt,sheenRoughnessMap:pn,specularMap:Se,specularColorMap:Le,specularIntensityMap:ut,transmission:ft,transmissionMap:ve,thicknessMap:Be,gradientMap:mt,opaque:D.transparent===!1&&D.blending===Gp&&D.alphaToCoverage===!1,alphaMap:St,alphaTest:_t,alphaHash:ze,combine:D.combine,mapUv:rt&&b(D.map.channel),aoMapUv:De&&b(D.aoMap.channel),lightMapUv:le&&b(D.lightMap.channel),bumpMapUv:et&&b(D.bumpMap.channel),normalMapUv:at&&b(D.normalMap.channel),displacementMapUv:xt&&b(D.displacementMap.channel),emissiveMapUv:ct&&b(D.emissiveMap.channel),metalnessMapUv:Ut&&b(D.metalnessMap.channel),roughnessMapUv:Ct&&b(D.roughnessMap.channel),anisotropyMapUv:Xe&&b(D.anisotropyMap.channel),clearcoatMapUv:Yt&&b(D.clearcoatMap.channel),clearcoatNormalMapUv:Dt&&b(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:nn&&b(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Kt&&b(D.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&b(D.iridescenceThicknessMap.channel),sheenColorMapUv:pt&&b(D.sheenColorMap.channel),sheenRoughnessMapUv:pn&&b(D.sheenRoughnessMap.channel),specularMapUv:Se&&b(D.specularMap.channel),specularColorMapUv:Le&&b(D.specularColorMap.channel),specularIntensityMapUv:ut&&b(D.specularIntensityMap.channel),transmissionMapUv:ve&&b(D.transmissionMap.channel),thicknessMapUv:Be&&b(D.thicknessMap.channel),alphaMapUv:St&&b(D.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(at||Et),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!ne.attributes.uv&&(rt||St),fog:!!K,useFog:D.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:D.flatShading===!0&&D.wireframe===!1,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:c,reversedDepthBuffer:Pe,skinning:q.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:ae,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:D.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:qt,decodeVideoTexture:rt&&D.map.isVideoTexture===!0&&Mr.getTransfer(D.map.colorSpace)===Gr,decodeVideoTextureEmissive:ct&&D.emissiveMap.isVideoTexture===!0&&Mr.getTransfer(D.emissiveMap.colorSpace)===Gr,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===fl,flipSided:D.side===Wo,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:wt&&D.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(wt&&D.extensions.multiDraw===!0||je)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return wn.vertexUv1s=u.has(1),wn.vertexUv2s=u.has(2),wn.vertexUv3s=u.has(3),u.clear(),wn}function w(D){const I=[];if(D.shaderID?I.push(D.shaderID):(I.push(D.customVertexShaderID),I.push(D.customFragmentShaderID)),D.defines!==void 0)for(const L in D.defines)I.push(L),I.push(D.defines[L]);return D.isRawShaderMaterial===!1&&(A(I,D),E(I,D),I.push(n.outputColorSpace)),I.push(D.customProgramCacheKey),I.join()}function A(D,I){D.push(I.precision),D.push(I.outputColorSpace),D.push(I.envMapMode),D.push(I.envMapCubeUVHeight),D.push(I.mapUv),D.push(I.alphaMapUv),D.push(I.lightMapUv),D.push(I.aoMapUv),D.push(I.bumpMapUv),D.push(I.normalMapUv),D.push(I.displacementMapUv),D.push(I.emissiveMapUv),D.push(I.metalnessMapUv),D.push(I.roughnessMapUv),D.push(I.anisotropyMapUv),D.push(I.clearcoatMapUv),D.push(I.clearcoatNormalMapUv),D.push(I.clearcoatRoughnessMapUv),D.push(I.iridescenceMapUv),D.push(I.iridescenceThicknessMapUv),D.push(I.sheenColorMapUv),D.push(I.sheenRoughnessMapUv),D.push(I.specularMapUv),D.push(I.specularColorMapUv),D.push(I.specularIntensityMapUv),D.push(I.transmissionMapUv),D.push(I.thicknessMapUv),D.push(I.combine),D.push(I.fogExp2),D.push(I.sizeAttenuation),D.push(I.morphTargetsCount),D.push(I.morphAttributeCount),D.push(I.numDirLights),D.push(I.numPointLights),D.push(I.numSpotLights),D.push(I.numSpotLightMaps),D.push(I.numHemiLights),D.push(I.numRectAreaLights),D.push(I.numDirLightShadows),D.push(I.numPointLightShadows),D.push(I.numSpotLightShadows),D.push(I.numSpotLightShadowsWithMaps),D.push(I.numLightProbes),D.push(I.shadowMapType),D.push(I.toneMapping),D.push(I.numClippingPlanes),D.push(I.numClipIntersection),D.push(I.depthPacking)}function E(D,I){a.disableAll(),I.supportsVertexTextures&&a.enable(0),I.instancing&&a.enable(1),I.instancingColor&&a.enable(2),I.instancingMorph&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),I.dispersion&&a.enable(20),I.batchingColor&&a.enable(21),I.gradientMap&&a.enable(22),D.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.reversedDepthBuffer&&a.enable(4),I.skinning&&a.enable(5),I.morphTargets&&a.enable(6),I.morphNormals&&a.enable(7),I.morphColors&&a.enable(8),I.premultipliedAlpha&&a.enable(9),I.shadowMapEnabled&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),I.decodeVideoTextureEmissive&&a.enable(20),I.alphaToCoverage&&a.enable(21),D.push(a.mask)}function C(D){const I=v[D.type];let L;if(I){const W=sc[I];L=UZ.clone(W.uniforms)}else L=D.uniforms;return L}function M(D,I){let L;for(let W=0,q=d.length;W<q;W++){const K=d[W];if(K.cacheKey===I){L=K,++L.usedTimes;break}}return L===void 0&&(L=new KDe(n,I,D,s),d.push(L)),L}function R(D){if(--D.usedTimes===0){const I=d.indexOf(D);d[I]=d[d.length-1],d.pop(),D.destroy()}}function O(D){l.remove(D)}function k(){l.dispose()}return{getParameters:y,getProgramCacheKey:w,getUniforms:C,acquireProgram:M,releaseProgram:R,releaseShaderCache:O,programs:d,dispose:k}}function eBe(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function r(o){n.delete(o)}function i(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function tBe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function IG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function OG(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(c,f,m,v,b,y){let w=n[e];return w===void 0?(w={id:c.id,object:c,geometry:f,material:m,groupOrder:v,renderOrder:c.renderOrder,z:b,group:y},n[e]=w):(w.id=c.id,w.object=c,w.geometry=f,w.material=m,w.groupOrder=v,w.renderOrder=c.renderOrder,w.z=b,w.group=y),e++,w}function a(c,f,m,v,b,y){const w=o(c,f,m,v,b,y);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):t.push(w)}function l(c,f,m,v,b,y){const w=o(c,f,m,v,b,y);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):t.unshift(w)}function u(c,f){t.length>1&&t.sort(c||tBe),r.length>1&&r.sort(f||IG),i.length>1&&i.sort(f||IG)}function d(){for(let c=e,f=n.length;c<f;c++){const m=n[c];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:u}}function nBe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new OG,n.set(r,[o])):i>=s.length?(o=new OG,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function rBe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new de,color:new Wt};break;case"SpotLight":t={position:new de,direction:new de,color:new Wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new de,color:new Wt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new de,skyColor:new Wt,groundColor:new Wt};break;case"RectAreaLight":t={color:new Wt,position:new de,halfWidth:new de,halfHeight:new de};break}return n[e.id]=t,t}}}function iBe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let sBe=0;function oBe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function aBe(n){const e=new rBe,t=iBe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new de);const i=new de,s=new Dn,o=new Dn;function a(u){let d=0,c=0,f=0;for(let D=0;D<9;D++)r.probe[D].set(0,0,0);let m=0,v=0,b=0,y=0,w=0,A=0,E=0,C=0,M=0,R=0,O=0;u.sort(oBe);for(let D=0,I=u.length;D<I;D++){const L=u[D],W=L.color,q=L.intensity,K=L.distance,ne=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)d+=W.r*q,c+=W.g*q,f+=W.b*q;else if(L.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(L.sh.coefficients[V],q);O++}else if(L.isDirectionalLight){const V=e.get(L);if(V.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const ee=L.shadow,H=t.get(L);H.shadowIntensity=ee.intensity,H.shadowBias=ee.bias,H.shadowNormalBias=ee.normalBias,H.shadowRadius=ee.radius,H.shadowMapSize=ee.mapSize,r.directionalShadow[m]=H,r.directionalShadowMap[m]=ne,r.directionalShadowMatrix[m]=L.shadow.matrix,A++}r.directional[m]=V,m++}else if(L.isSpotLight){const V=e.get(L);V.position.setFromMatrixPosition(L.matrixWorld),V.color.copy(W).multiplyScalar(q),V.distance=K,V.coneCos=Math.cos(L.angle),V.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),V.decay=L.decay,r.spot[b]=V;const ee=L.shadow;if(L.map&&(r.spotLightMap[M]=L.map,M++,ee.updateMatrices(L),L.castShadow&&R++),r.spotLightMatrix[b]=ee.matrix,L.castShadow){const H=t.get(L);H.shadowIntensity=ee.intensity,H.shadowBias=ee.bias,H.shadowNormalBias=ee.normalBias,H.shadowRadius=ee.radius,H.shadowMapSize=ee.mapSize,r.spotShadow[b]=H,r.spotShadowMap[b]=ne,C++}b++}else if(L.isRectAreaLight){const V=e.get(L);V.color.copy(W).multiplyScalar(q),V.halfWidth.set(L.width*.5,0,0),V.halfHeight.set(0,L.height*.5,0),r.rectArea[y]=V,y++}else if(L.isPointLight){const V=e.get(L);if(V.color.copy(L.color).multiplyScalar(L.intensity),V.distance=L.distance,V.decay=L.decay,L.castShadow){const ee=L.shadow,H=t.get(L);H.shadowIntensity=ee.intensity,H.shadowBias=ee.bias,H.shadowNormalBias=ee.normalBias,H.shadowRadius=ee.radius,H.shadowMapSize=ee.mapSize,H.shadowCameraNear=ee.camera.near,H.shadowCameraFar=ee.camera.far,r.pointShadow[v]=H,r.pointShadowMap[v]=ne,r.pointShadowMatrix[v]=L.shadow.matrix,E++}r.point[v]=V,v++}else if(L.isHemisphereLight){const V=e.get(L);V.skyColor.copy(L.color).multiplyScalar(q),V.groundColor.copy(L.groundColor).multiplyScalar(q),r.hemi[w]=V,w++}}y>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Zt.LTC_FLOAT_1,r.rectAreaLTC2=Zt.LTC_FLOAT_2):(r.rectAreaLTC1=Zt.LTC_HALF_1,r.rectAreaLTC2=Zt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=c,r.ambient[2]=f;const k=r.hash;(k.directionalLength!==m||k.pointLength!==v||k.spotLength!==b||k.rectAreaLength!==y||k.hemiLength!==w||k.numDirectionalShadows!==A||k.numPointShadows!==E||k.numSpotShadows!==C||k.numSpotMaps!==M||k.numLightProbes!==O)&&(r.directional.length=m,r.spot.length=b,r.rectArea.length=y,r.point.length=v,r.hemi.length=w,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=C+M-R,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=R,r.numLightProbes=O,k.directionalLength=m,k.pointLength=v,k.spotLength=b,k.rectAreaLength=y,k.hemiLength=w,k.numDirectionalShadows=A,k.numPointShadows=E,k.numSpotShadows=C,k.numSpotMaps=M,k.numLightProbes=O,r.version=sBe++)}function l(u,d){let c=0,f=0,m=0,v=0,b=0;const y=d.matrixWorldInverse;for(let w=0,A=u.length;w<A;w++){const E=u[w];if(E.isDirectionalLight){const C=r.directional[c];C.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(y),c++}else if(E.isSpotLight){const C=r.spot[m];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(y),C.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(y),m++}else if(E.isRectAreaLight){const C=r.rectArea[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(y),o.identity(),s.copy(E.matrixWorld),s.premultiply(y),o.extractRotation(s),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),v++}else if(E.isPointLight){const C=r.point[f];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(y),f++}else if(E.isHemisphereLight){const C=r.hemi[b];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(y),b++}}}return{setup:a,setupView:l,state:r}}function FG(n){const e=new aBe(n),t=[],r=[];function i(d){u.camera=d,t.length=0,r.length=0}function s(d){t.push(d)}function o(d){r.push(d)}function a(){e.setup(t)}function l(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function lBe(n){let e=new WeakMap;function t(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new FG(n),e.set(i,[a])):s>=o.length?(a=new FG(n),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:t,dispose:r}}const cBe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uBe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dBe(n,e,t){let r=new wv;const i=new dt,s=new dt,o=new Pr,a=new HB({depthPacking:EZ}),l=new GB,u={},d=t.maxTextureSize,c={[uu]:Wo,[Wo]:uu,[fl]:fl},f=new Xo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dt},radius:{value:4}},vertexShader:cBe,fragmentShader:uBe}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new Kn;v.setAttribute("position",new Nr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Ci(v,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=AC;let w=this.type;this.render=function(R,O,k){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||R.length===0)return;const D=n.getRenderTarget(),I=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),W=n.state;W.setBlending(dc),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const q=w!==tc&&this.type===tc,K=w===tc&&this.type!==tc;for(let ne=0,V=R.length;ne<V;ne++){const ee=R[ne],H=ee.shadow;if(H===void 0){Qt("WebGLShadowMap:",ee,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const Z=H.getFrameExtents();if(i.multiply(Z),s.copy(H.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/Z.x),i.x=s.x*Z.x,H.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/Z.y),i.y=s.y*Z.y,H.mapSize.y=s.y)),H.map===null||q===!0||K===!0){const Y=this.type!==tc?{minFilter:js,magFilter:js}:{};H.map!==null&&H.map.dispose(),H.map=new wl(i.x,i.y,Y),H.map.texture.name=ee.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const te=H.getViewportCount();for(let Y=0;Y<te;Y++){const ae=H.getViewport(Y);o.set(s.x*ae.x,s.y*ae.y,s.x*ae.z,s.y*ae.w),W.viewport(o),H.updateMatrices(ee,Y),r=H.getFrustum(),C(O,k,H.camera,ee,this.type)}H.isPointLightShadow!==!0&&this.type===tc&&A(H,k),H.needsUpdate=!1}w=this.type,y.needsUpdate=!1,n.setRenderTarget(D,I,L)};function A(R,O){const k=e.update(b);f.defines.VSM_SAMPLES!==R.blurSamples&&(f.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new wl(i.x,i.y)),f.uniforms.shadow_pass.value=R.map.texture,f.uniforms.resolution.value=R.mapSize,f.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(O,null,k,f,b,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(O,null,k,m,b,null)}function E(R,O,k,D){let I=null;const L=k.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(L!==void 0)I=L;else if(I=k.isPointLight===!0?l:a,n.localClippingEnabled&&O.clipShadows===!0&&Array.isArray(O.clippingPlanes)&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0||O.alphaToCoverage===!0){const W=I.uuid,q=O.uuid;let K=u[W];K===void 0&&(K={},u[W]=K);let ne=K[q];ne===void 0&&(ne=I.clone(),K[q]=ne,O.addEventListener("dispose",M)),I=ne}if(I.visible=O.visible,I.wireframe=O.wireframe,D===tc?I.side=O.shadowSide!==null?O.shadowSide:O.side:I.side=O.shadowSide!==null?O.shadowSide:c[O.side],I.alphaMap=O.alphaMap,I.alphaTest=O.alphaToCoverage===!0?.5:O.alphaTest,I.map=O.map,I.clipShadows=O.clipShadows,I.clippingPlanes=O.clippingPlanes,I.clipIntersection=O.clipIntersection,I.displacementMap=O.displacementMap,I.displacementScale=O.displacementScale,I.displacementBias=O.displacementBias,I.wireframeLinewidth=O.wireframeLinewidth,I.linewidth=O.linewidth,k.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const W=n.properties.get(I);W.light=k}return I}function C(R,O,k,D,I){if(R.visible===!1)return;if(R.layers.test(O.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&I===tc)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,R.matrixWorld);const q=e.update(R),K=R.material;if(Array.isArray(K)){const ne=q.groups;for(let V=0,ee=ne.length;V<ee;V++){const H=ne[V],Z=K[H.materialIndex];if(Z&&Z.visible){const te=E(R,Z,D,I);R.onBeforeShadow(n,R,O,k,q,te,H),n.renderBufferDirect(k,null,q,te,R,H),R.onAfterShadow(n,R,O,k,q,te,H)}}}else if(K.visible){const ne=E(R,K,D,I);R.onBeforeShadow(n,R,O,k,q,ne,null),n.renderBufferDirect(k,null,q,ne,R,null),R.onAfterShadow(n,R,O,k,q,ne,null)}}const W=R.children;for(let q=0,K=W.length;q<K;q++)C(W[q],O,k,D,I)}function M(R){R.target.removeEventListener("dispose",M);for(const k in u){const D=u[k],I=R.target.uuid;I in D&&(D[I].dispose(),delete D[I])}}}const fBe={[hA]:pA,[mA]:yA,[gA]:xA,[om]:vA,[pA]:hA,[yA]:mA,[xA]:gA,[vA]:om};function hBe(n,e){function t(){let ve=!1;const Be=new Pr;let mt=null;const St=new Pr(0,0,0,0);return{setMask:function(_t){mt!==_t&&!ve&&(n.colorMask(_t,_t,_t,_t),mt=_t)},setLocked:function(_t){ve=_t},setClear:function(_t,ze,wt,qt,wn){wn===!0&&(_t*=qt,ze*=qt,wt*=qt),Be.set(_t,ze,wt,qt),St.equals(Be)===!1&&(n.clearColor(_t,ze,wt,qt),St.copy(Be))},reset:function(){ve=!1,mt=null,St.set(-1,0,0,0)}}}function r(){let ve=!1,Be=!1,mt=null,St=null,_t=null;return{setReversed:function(ze){if(Be!==ze){const wt=e.get("EXT_clip_control");ze?wt.clipControlEXT(wt.LOWER_LEFT_EXT,wt.ZERO_TO_ONE_EXT):wt.clipControlEXT(wt.LOWER_LEFT_EXT,wt.NEGATIVE_ONE_TO_ONE_EXT),Be=ze;const qt=_t;_t=null,this.setClear(qt)}},getReversed:function(){return Be},setTest:function(ze){ze?xe(n.DEPTH_TEST):Pe(n.DEPTH_TEST)},setMask:function(ze){mt!==ze&&!ve&&(n.depthMask(ze),mt=ze)},setFunc:function(ze){if(Be&&(ze=fBe[ze]),St!==ze){switch(ze){case hA:n.depthFunc(n.NEVER);break;case pA:n.depthFunc(n.ALWAYS);break;case mA:n.depthFunc(n.LESS);break;case om:n.depthFunc(n.LEQUAL);break;case gA:n.depthFunc(n.EQUAL);break;case vA:n.depthFunc(n.GEQUAL);break;case yA:n.depthFunc(n.GREATER);break;case xA:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}St=ze}},setLocked:function(ze){ve=ze},setClear:function(ze){_t!==ze&&(Be&&(ze=1-ze),n.clearDepth(ze),_t=ze)},reset:function(){ve=!1,mt=null,St=null,_t=null,Be=!1}}}function i(){let ve=!1,Be=null,mt=null,St=null,_t=null,ze=null,wt=null,qt=null,wn=null;return{setTest:function(Cn){ve||(Cn?xe(n.STENCIL_TEST):Pe(n.STENCIL_TEST))},setMask:function(Cn){Be!==Cn&&!ve&&(n.stencilMask(Cn),Be=Cn)},setFunc:function(Cn,zn,sr){(mt!==Cn||St!==zn||_t!==sr)&&(n.stencilFunc(Cn,zn,sr),mt=Cn,St=zn,_t=sr)},setOp:function(Cn,zn,sr){(ze!==Cn||wt!==zn||qt!==sr)&&(n.stencilOp(Cn,zn,sr),ze=Cn,wt=zn,qt=sr)},setLocked:function(Cn){ve=Cn},setClear:function(Cn){wn!==Cn&&(n.clearStencil(Cn),wn=Cn)},reset:function(){ve=!1,Be=null,mt=null,St=null,_t=null,ze=null,wt=null,qt=null,wn=null}}}const s=new t,o=new r,a=new i,l=new WeakMap,u=new WeakMap;let d={},c={},f=new WeakMap,m=[],v=null,b=!1,y=null,w=null,A=null,E=null,C=null,M=null,R=null,O=new Wt(0,0,0),k=0,D=!1,I=null,L=null,W=null,q=null,K=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,ee=0;const H=n.getParameter(n.VERSION);H.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(H)[1]),V=ee>=1):H.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),V=ee>=2);let Z=null,te={};const Y=n.getParameter(n.SCISSOR_BOX),ae=n.getParameter(n.VIEWPORT),we=new Pr().fromArray(Y),Fe=new Pr().fromArray(ae);function qe(ve,Be,mt,St){const _t=new Uint8Array(4),ze=n.createTexture();n.bindTexture(ve,ze),n.texParameteri(ve,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ve,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let wt=0;wt<mt;wt++)ve===n.TEXTURE_3D||ve===n.TEXTURE_2D_ARRAY?n.texImage3D(Be,0,n.RGBA,1,1,St,0,n.RGBA,n.UNSIGNED_BYTE,_t):n.texImage2D(Be+wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,_t);return ze}const fe={};fe[n.TEXTURE_2D]=qe(n.TEXTURE_2D,n.TEXTURE_2D,1),fe[n.TEXTURE_CUBE_MAP]=qe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),fe[n.TEXTURE_2D_ARRAY]=qe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),fe[n.TEXTURE_3D]=qe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),xe(n.DEPTH_TEST),o.setFunc(om),et(!1),at(OO),xe(n.CULL_FACE),De(dc);function xe(ve){d[ve]!==!0&&(n.enable(ve),d[ve]=!0)}function Pe(ve){d[ve]!==!1&&(n.disable(ve),d[ve]=!1)}function Te(ve,Be){return c[ve]!==Be?(n.bindFramebuffer(ve,Be),c[ve]=Be,ve===n.DRAW_FRAMEBUFFER&&(c[n.FRAMEBUFFER]=Be),ve===n.FRAMEBUFFER&&(c[n.DRAW_FRAMEBUFFER]=Be),!0):!1}function je(ve,Be){let mt=m,St=!1;if(ve){mt=f.get(Be),mt===void 0&&(mt=[],f.set(Be,mt));const _t=ve.textures;if(mt.length!==_t.length||mt[0]!==n.COLOR_ATTACHMENT0){for(let ze=0,wt=_t.length;ze<wt;ze++)mt[ze]=n.COLOR_ATTACHMENT0+ze;mt.length=_t.length,St=!0}}else mt[0]!==n.BACK&&(mt[0]=n.BACK,St=!0);St&&n.drawBuffers(mt)}function rt(ve){return v!==ve?(n.useProgram(ve),v=ve,!0):!1}const Ue={[Nf]:n.FUNC_ADD,[KJ]:n.FUNC_SUBTRACT,[YJ]:n.FUNC_REVERSE_SUBTRACT};Ue[JJ]=n.MIN,Ue[ZJ]=n.MAX;const ot={[QJ]:n.ZERO,[eZ]:n.ONE,[tZ]:n.SRC_COLOR,[dA]:n.SRC_ALPHA,[aZ]:n.SRC_ALPHA_SATURATE,[sZ]:n.DST_COLOR,[rZ]:n.DST_ALPHA,[nZ]:n.ONE_MINUS_SRC_COLOR,[fA]:n.ONE_MINUS_SRC_ALPHA,[oZ]:n.ONE_MINUS_DST_COLOR,[iZ]:n.ONE_MINUS_DST_ALPHA,[lZ]:n.CONSTANT_COLOR,[cZ]:n.ONE_MINUS_CONSTANT_COLOR,[uZ]:n.CONSTANT_ALPHA,[dZ]:n.ONE_MINUS_CONSTANT_ALPHA};function De(ve,Be,mt,St,_t,ze,wt,qt,wn,Cn){if(ve===dc){b===!0&&(Pe(n.BLEND),b=!1);return}if(b===!1&&(xe(n.BLEND),b=!0),ve!==XJ){if(ve!==y||Cn!==D){if((w!==Nf||C!==Nf)&&(n.blendEquation(n.FUNC_ADD),w=Nf,C=Nf),Cn)switch(ve){case Gp:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case FO:n.blendFunc(n.ONE,n.ONE);break;case DO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case BO:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Gn("WebGLState: Invalid blending: ",ve);break}else switch(ve){case Gp:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case FO:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case DO:Gn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case BO:Gn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Gn("WebGLState: Invalid blending: ",ve);break}A=null,E=null,M=null,R=null,O.set(0,0,0),k=0,y=ve,D=Cn}return}_t=_t||Be,ze=ze||mt,wt=wt||St,(Be!==w||_t!==C)&&(n.blendEquationSeparate(Ue[Be],Ue[_t]),w=Be,C=_t),(mt!==A||St!==E||ze!==M||wt!==R)&&(n.blendFuncSeparate(ot[mt],ot[St],ot[ze],ot[wt]),A=mt,E=St,M=ze,R=wt),(qt.equals(O)===!1||wn!==k)&&(n.blendColor(qt.r,qt.g,qt.b,wn),O.copy(qt),k=wn),y=ve,D=!1}function le(ve,Be){ve.side===fl?Pe(n.CULL_FACE):xe(n.CULL_FACE);let mt=ve.side===Wo;Be&&(mt=!mt),et(mt),ve.blending===Gp&&ve.transparent===!1?De(dc):De(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),o.setFunc(ve.depthFunc),o.setTest(ve.depthTest),o.setMask(ve.depthWrite),s.setMask(ve.colorWrite);const St=ve.stencilWrite;a.setTest(St),St&&(a.setMask(ve.stencilWriteMask),a.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),a.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),ct(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?xe(n.SAMPLE_ALPHA_TO_COVERAGE):Pe(n.SAMPLE_ALPHA_TO_COVERAGE)}function et(ve){I!==ve&&(ve?n.frontFace(n.CW):n.frontFace(n.CCW),I=ve)}function at(ve){ve!==WJ?(xe(n.CULL_FACE),ve!==L&&(ve===OO?n.cullFace(n.BACK):ve===$J?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Pe(n.CULL_FACE),L=ve}function xt(ve){ve!==W&&(V&&n.lineWidth(ve),W=ve)}function ct(ve,Be,mt){ve?(xe(n.POLYGON_OFFSET_FILL),(q!==Be||K!==mt)&&(n.polygonOffset(Be,mt),q=Be,K=mt)):Pe(n.POLYGON_OFFSET_FILL)}function Ut(ve){ve?xe(n.SCISSOR_TEST):Pe(n.SCISSOR_TEST)}function Ct(ve){ve===void 0&&(ve=n.TEXTURE0+ne-1),Z!==ve&&(n.activeTexture(ve),Z=ve)}function Et(ve,Be,mt){mt===void 0&&(Z===null?mt=n.TEXTURE0+ne-1:mt=Z);let St=te[mt];St===void 0&&(St={type:void 0,texture:void 0},te[mt]=St),(St.type!==ve||St.texture!==Be)&&(Z!==mt&&(n.activeTexture(mt),Z=mt),n.bindTexture(ve,Be||fe[ve]),St.type=ve,St.texture=Be)}function ce(){const ve=te[Z];ve!==void 0&&ve.type!==void 0&&(n.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function ie(){try{n.compressedTexImage2D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function Ie(){try{n.compressedTexImage3D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function Je(){try{n.texSubImage2D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function ft(){try{n.texSubImage3D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function Xe(){try{n.compressedTexSubImage2D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function Yt(){try{n.compressedTexSubImage3D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function Dt(){try{n.texStorage2D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function nn(){try{n.texStorage3D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function Kt(){try{n.texImage2D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function ht(){try{n.texImage3D(...arguments)}catch(ve){ve("WebGLState:",ve)}}function pt(ve){we.equals(ve)===!1&&(n.scissor(ve.x,ve.y,ve.z,ve.w),we.copy(ve))}function pn(ve){Fe.equals(ve)===!1&&(n.viewport(ve.x,ve.y,ve.z,ve.w),Fe.copy(ve))}function Se(ve,Be){let mt=u.get(Be);mt===void 0&&(mt=new WeakMap,u.set(Be,mt));let St=mt.get(ve);St===void 0&&(St=n.getUniformBlockIndex(Be,ve.name),mt.set(ve,St))}function Le(ve,Be){const St=u.get(Be).get(ve);l.get(Be)!==St&&(n.uniformBlockBinding(Be,St,ve.__bindingPointIndex),l.set(Be,St))}function ut(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},Z=null,te={},c={},f=new WeakMap,m=[],v=null,b=!1,y=null,w=null,A=null,E=null,C=null,M=null,R=null,O=new Wt(0,0,0),k=0,D=!1,I=null,L=null,W=null,q=null,K=null,we.set(0,0,n.canvas.width,n.canvas.height),Fe.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:xe,disable:Pe,bindFramebuffer:Te,drawBuffers:je,useProgram:rt,setBlending:De,setMaterial:le,setFlipSided:et,setCullFace:at,setLineWidth:xt,setPolygonOffset:ct,setScissorTest:Ut,activeTexture:Ct,bindTexture:Et,unbindTexture:ce,compressedTexImage2D:ie,compressedTexImage3D:Ie,texImage2D:Kt,texImage3D:ht,updateUBOMapping:Se,uniformBlockBinding:Le,texStorage2D:Dt,texStorage3D:nn,texSubImage2D:Je,texSubImage3D:ft,compressedTexSubImage2D:Xe,compressedTexSubImage3D:Yt,scissor:pt,viewport:pn,reset:ut}}function pBe(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new dt,d=new WeakMap;let c;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ce,ie){return m?new OffscreenCanvas(ce,ie):vb("canvas")}function b(ce,ie,Ie){let Je=1;const ft=Et(ce);if((ft.width>Ie||ft.height>Ie)&&(Je=Ie/Math.max(ft.width,ft.height)),Je<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const Xe=Math.floor(Je*ft.width),Yt=Math.floor(Je*ft.height);c===void 0&&(c=v(Xe,Yt));const Dt=ie?v(Xe,Yt):c;return Dt.width=Xe,Dt.height=Yt,Dt.getContext("2d").drawImage(ce,0,0,Xe,Yt),Qt("WebGLRenderer: Texture has been resized from ("+ft.width+"x"+ft.height+") to ("+Xe+"x"+Yt+")."),Dt}else return"data"in ce&&Qt("WebGLRenderer: Image in DataTexture is too big ("+ft.width+"x"+ft.height+")."),ce;return ce}function y(ce){return ce.generateMipmaps}function w(ce){n.generateMipmap(ce)}function A(ce){return ce.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?n.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(ce,ie,Ie,Je,ft=!1){if(ce!==null){if(n[ce]!==void 0)return n[ce];Qt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let Xe=ie;if(ie===n.RED&&(Ie===n.FLOAT&&(Xe=n.R32F),Ie===n.HALF_FLOAT&&(Xe=n.R16F),Ie===n.UNSIGNED_BYTE&&(Xe=n.R8)),ie===n.RED_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Xe=n.R8UI),Ie===n.UNSIGNED_SHORT&&(Xe=n.R16UI),Ie===n.UNSIGNED_INT&&(Xe=n.R32UI),Ie===n.BYTE&&(Xe=n.R8I),Ie===n.SHORT&&(Xe=n.R16I),Ie===n.INT&&(Xe=n.R32I)),ie===n.RG&&(Ie===n.FLOAT&&(Xe=n.RG32F),Ie===n.HALF_FLOAT&&(Xe=n.RG16F),Ie===n.UNSIGNED_BYTE&&(Xe=n.RG8)),ie===n.RG_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Xe=n.RG8UI),Ie===n.UNSIGNED_SHORT&&(Xe=n.RG16UI),Ie===n.UNSIGNED_INT&&(Xe=n.RG32UI),Ie===n.BYTE&&(Xe=n.RG8I),Ie===n.SHORT&&(Xe=n.RG16I),Ie===n.INT&&(Xe=n.RG32I)),ie===n.RGB_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Xe=n.RGB8UI),Ie===n.UNSIGNED_SHORT&&(Xe=n.RGB16UI),Ie===n.UNSIGNED_INT&&(Xe=n.RGB32UI),Ie===n.BYTE&&(Xe=n.RGB8I),Ie===n.SHORT&&(Xe=n.RGB16I),Ie===n.INT&&(Xe=n.RGB32I)),ie===n.RGBA_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Xe=n.RGBA8UI),Ie===n.UNSIGNED_SHORT&&(Xe=n.RGBA16UI),Ie===n.UNSIGNED_INT&&(Xe=n.RGBA32UI),Ie===n.BYTE&&(Xe=n.RGBA8I),Ie===n.SHORT&&(Xe=n.RGBA16I),Ie===n.INT&&(Xe=n.RGBA32I)),ie===n.RGB&&(Ie===n.UNSIGNED_INT_5_9_9_9_REV&&(Xe=n.RGB9_E5),Ie===n.UNSIGNED_INT_10F_11F_11F_REV&&(Xe=n.R11F_G11F_B10F)),ie===n.RGBA){const Yt=ft?mb:Mr.getTransfer(Je);Ie===n.FLOAT&&(Xe=n.RGBA32F),Ie===n.HALF_FLOAT&&(Xe=n.RGBA16F),Ie===n.UNSIGNED_BYTE&&(Xe=Yt===Gr?n.SRGB8_ALPHA8:n.RGBA8),Ie===n.UNSIGNED_SHORT_4_4_4_4&&(Xe=n.RGBA4),Ie===n.UNSIGNED_SHORT_5_5_5_1&&(Xe=n.RGB5_A1)}return(Xe===n.R16F||Xe===n.R32F||Xe===n.RG16F||Xe===n.RG32F||Xe===n.RGBA16F||Xe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Xe}function C(ce,ie){let Ie;return ce?ie===null||ie===fu||ie===G0?Ie=n.DEPTH24_STENCIL8:ie===Ei?Ie=n.DEPTH32F_STENCIL8:ie===H0&&(Ie=n.DEPTH24_STENCIL8,Qt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ie===null||ie===fu||ie===G0?Ie=n.DEPTH_COMPONENT24:ie===Ei?Ie=n.DEPTH_COMPONENT32F:ie===H0&&(Ie=n.DEPTH_COMPONENT16),Ie}function M(ce,ie){return y(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==js&&ce.minFilter!==Rr?Math.log2(Math.max(ie.width,ie.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?ie.mipmaps.length:1}function R(ce){const ie=ce.target;ie.removeEventListener("dispose",R),k(ie),ie.isVideoTexture&&d.delete(ie)}function O(ce){const ie=ce.target;ie.removeEventListener("dispose",O),I(ie)}function k(ce){const ie=r.get(ce);if(ie.__webglInit===void 0)return;const Ie=ce.source,Je=f.get(Ie);if(Je){const ft=Je[ie.__cacheKey];ft.usedTimes--,ft.usedTimes===0&&D(ce),Object.keys(Je).length===0&&f.delete(Ie)}r.remove(ce)}function D(ce){const ie=r.get(ce);n.deleteTexture(ie.__webglTexture);const Ie=ce.source,Je=f.get(Ie);delete Je[ie.__cacheKey],o.memory.textures--}function I(ce){const ie=r.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),r.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let Je=0;Je<6;Je++){if(Array.isArray(ie.__webglFramebuffer[Je]))for(let ft=0;ft<ie.__webglFramebuffer[Je].length;ft++)n.deleteFramebuffer(ie.__webglFramebuffer[Je][ft]);else n.deleteFramebuffer(ie.__webglFramebuffer[Je]);ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[Je])}else{if(Array.isArray(ie.__webglFramebuffer))for(let Je=0;Je<ie.__webglFramebuffer.length;Je++)n.deleteFramebuffer(ie.__webglFramebuffer[Je]);else n.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let Je=0;Je<ie.__webglColorRenderbuffer.length;Je++)ie.__webglColorRenderbuffer[Je]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[Je]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}const Ie=ce.textures;for(let Je=0,ft=Ie.length;Je<ft;Je++){const Xe=r.get(Ie[Je]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),r.remove(Ie[Je])}r.remove(ce)}let L=0;function W(){L=0}function q(){const ce=L;return ce>=i.maxTextures&&Qt("WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+i.maxTextures),L+=1,ce}function K(ce){const ie=[];return ie.push(ce.wrapS),ie.push(ce.wrapT),ie.push(ce.wrapR||0),ie.push(ce.magFilter),ie.push(ce.minFilter),ie.push(ce.anisotropy),ie.push(ce.internalFormat),ie.push(ce.format),ie.push(ce.type),ie.push(ce.generateMipmaps),ie.push(ce.premultiplyAlpha),ie.push(ce.flipY),ie.push(ce.unpackAlignment),ie.push(ce.colorSpace),ie.join()}function ne(ce,ie){const Ie=r.get(ce);if(ce.isVideoTexture&&Ut(ce),ce.isRenderTargetTexture===!1&&ce.isExternalTexture!==!0&&ce.version>0&&Ie.__version!==ce.version){const Je=ce.image;if(Je===null)Qt("WebGLRenderer: Texture marked for update but no image data found.");else if(Je.complete===!1)Qt("WebGLRenderer: Texture marked for update but image is incomplete");else{fe(Ie,ce,ie);return}}else ce.isExternalTexture&&(Ie.__webglTexture=ce.sourceTexture?ce.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Ie.__webglTexture,n.TEXTURE0+ie)}function V(ce,ie){const Ie=r.get(ce);if(ce.isRenderTargetTexture===!1&&ce.version>0&&Ie.__version!==ce.version){fe(Ie,ce,ie);return}else ce.isExternalTexture&&(Ie.__webglTexture=ce.sourceTexture?ce.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Ie.__webglTexture,n.TEXTURE0+ie)}function ee(ce,ie){const Ie=r.get(ce);if(ce.isRenderTargetTexture===!1&&ce.version>0&&Ie.__version!==ce.version){fe(Ie,ce,ie);return}t.bindTexture(n.TEXTURE_3D,Ie.__webglTexture,n.TEXTURE0+ie)}function H(ce,ie){const Ie=r.get(ce);if(ce.version>0&&Ie.__version!==ce.version){xe(Ie,ce,ie);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ie.__webglTexture,n.TEXTURE0+ie)}const Z={[Yf]:n.REPEAT,[Ai]:n.CLAMP_TO_EDGE,[z0]:n.MIRRORED_REPEAT},te={[js]:n.NEAREST,[CC]:n.NEAREST_MIPMAP_NEAREST,[Tp]:n.NEAREST_MIPMAP_LINEAR,[Rr]:n.LINEAR,[a0]:n.LINEAR_MIPMAP_NEAREST,[ml]:n.LINEAR_MIPMAP_LINEAR},Y={[MZ]:n.NEVER,[OZ]:n.ALWAYS,[TZ]:n.LESS,[SB]:n.LEQUAL,[PZ]:n.EQUAL,[IZ]:n.GEQUAL,[RZ]:n.GREATER,[NZ]:n.NOTEQUAL};function ae(ce,ie){if(ie.type===Ei&&e.has("OES_texture_float_linear")===!1&&(ie.magFilter===Rr||ie.magFilter===a0||ie.magFilter===Tp||ie.magFilter===ml||ie.minFilter===Rr||ie.minFilter===a0||ie.minFilter===Tp||ie.minFilter===ml)&&Qt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ce,n.TEXTURE_WRAP_S,Z[ie.wrapS]),n.texParameteri(ce,n.TEXTURE_WRAP_T,Z[ie.wrapT]),(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ce,n.TEXTURE_WRAP_R,Z[ie.wrapR]),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,te[ie.magFilter]),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,te[ie.minFilter]),ie.compareFunction&&(n.texParameteri(ce,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ce,n.TEXTURE_COMPARE_FUNC,Y[ie.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ie.magFilter===js||ie.minFilter!==Tp&&ie.minFilter!==ml||ie.type===Ei&&e.has("OES_texture_float_linear")===!1)return;if(ie.anisotropy>1||r.get(ie).__currentAnisotropy){const Ie=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ce,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,i.getMaxAnisotropy())),r.get(ie).__currentAnisotropy=ie.anisotropy}}}function we(ce,ie){let Ie=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,ie.addEventListener("dispose",R));const Je=ie.source;let ft=f.get(Je);ft===void 0&&(ft={},f.set(Je,ft));const Xe=K(ie);if(Xe!==ce.__cacheKey){ft[Xe]===void 0&&(ft[Xe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ie=!0),ft[Xe].usedTimes++;const Yt=ft[ce.__cacheKey];Yt!==void 0&&(ft[ce.__cacheKey].usedTimes--,Yt.usedTimes===0&&D(ie)),ce.__cacheKey=Xe,ce.__webglTexture=ft[Xe].texture}return Ie}function Fe(ce,ie,Ie){return Math.floor(Math.floor(ce/Ie)/ie)}function qe(ce,ie,Ie,Je){const Xe=ce.updateRanges;if(Xe.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ie.width,ie.height,Ie,Je,ie.data);else{Xe.sort((ht,pt)=>ht.start-pt.start);let Yt=0;for(let ht=1;ht<Xe.length;ht++){const pt=Xe[Yt],pn=Xe[ht],Se=pt.start+pt.count,Le=Fe(pn.start,ie.width,4),ut=Fe(pt.start,ie.width,4);pn.start<=Se+1&&Le===ut&&Fe(pn.start+pn.count-1,ie.width,4)===Le?pt.count=Math.max(pt.count,pn.start+pn.count-pt.start):(++Yt,Xe[Yt]=pn)}Xe.length=Yt+1;const Dt=n.getParameter(n.UNPACK_ROW_LENGTH),nn=n.getParameter(n.UNPACK_SKIP_PIXELS),Kt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ie.width);for(let ht=0,pt=Xe.length;ht<pt;ht++){const pn=Xe[ht],Se=Math.floor(pn.start/4),Le=Math.ceil(pn.count/4),ut=Se%ie.width,ve=Math.floor(Se/ie.width),Be=Le,mt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ut),n.pixelStorei(n.UNPACK_SKIP_ROWS,ve),t.texSubImage2D(n.TEXTURE_2D,0,ut,ve,Be,mt,Ie,Je,ie.data)}ce.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Dt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,nn),n.pixelStorei(n.UNPACK_SKIP_ROWS,Kt)}}function fe(ce,ie,Ie){let Je=n.TEXTURE_2D;(ie.isDataArrayTexture||ie.isCompressedArrayTexture)&&(Je=n.TEXTURE_2D_ARRAY),ie.isData3DTexture&&(Je=n.TEXTURE_3D);const ft=we(ce,ie),Xe=ie.source;t.bindTexture(Je,ce.__webglTexture,n.TEXTURE0+Ie);const Yt=r.get(Xe);if(Xe.version!==Yt.__version||ft===!0){t.activeTexture(n.TEXTURE0+Ie);const Dt=Mr.getPrimaries(Mr.workingColorSpace),nn=ie.colorSpace===od?null:Mr.getPrimaries(ie.colorSpace),Kt=ie.colorSpace===od||Dt===nn?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ie.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ie.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Kt);let ht=b(ie.image,!1,i.maxTextureSize);ht=Ct(ie,ht);const pt=s.convert(ie.format,ie.colorSpace),pn=s.convert(ie.type);let Se=E(ie.internalFormat,pt,pn,ie.colorSpace,ie.isVideoTexture);ae(Je,ie);let Le;const ut=ie.mipmaps,ve=ie.isVideoTexture!==!0,Be=Yt.__version===void 0||ft===!0,mt=Xe.dataReady,St=M(ie,ht);if(ie.isDepthTexture)Se=C(ie.format===W0,ie.type),Be&&(ve?t.texStorage2D(n.TEXTURE_2D,1,Se,ht.width,ht.height):t.texImage2D(n.TEXTURE_2D,0,Se,ht.width,ht.height,0,pt,pn,null));else if(ie.isDataTexture)if(ut.length>0){ve&&Be&&t.texStorage2D(n.TEXTURE_2D,St,Se,ut[0].width,ut[0].height);for(let _t=0,ze=ut.length;_t<ze;_t++)Le=ut[_t],ve?mt&&t.texSubImage2D(n.TEXTURE_2D,_t,0,0,Le.width,Le.height,pt,pn,Le.data):t.texImage2D(n.TEXTURE_2D,_t,Se,Le.width,Le.height,0,pt,pn,Le.data);ie.generateMipmaps=!1}else ve?(Be&&t.texStorage2D(n.TEXTURE_2D,St,Se,ht.width,ht.height),mt&&qe(ie,ht,pt,pn)):t.texImage2D(n.TEXTURE_2D,0,Se,ht.width,ht.height,0,pt,pn,ht.data);else if(ie.isCompressedTexture)if(ie.isCompressedArrayTexture){ve&&Be&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,Se,ut[0].width,ut[0].height,ht.depth);for(let _t=0,ze=ut.length;_t<ze;_t++)if(Le=ut[_t],ie.format!==$i)if(pt!==null)if(ve){if(mt)if(ie.layerUpdates.size>0){const wt=qO(Le.width,Le.height,ie.format,ie.type);for(const qt of ie.layerUpdates){const wn=Le.data.subarray(qt*wt/Le.data.BYTES_PER_ELEMENT,(qt+1)*wt/Le.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_t,0,0,qt,Le.width,Le.height,1,pt,wn)}ie.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_t,0,0,0,Le.width,Le.height,ht.depth,pt,Le.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,_t,Se,Le.width,Le.height,ht.depth,0,Le.data,0,0);else Qt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ve?mt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,_t,0,0,0,Le.width,Le.height,ht.depth,pt,pn,Le.data):t.texImage3D(n.TEXTURE_2D_ARRAY,_t,Se,Le.width,Le.height,ht.depth,0,pt,pn,Le.data)}else{ve&&Be&&t.texStorage2D(n.TEXTURE_2D,St,Se,ut[0].width,ut[0].height);for(let _t=0,ze=ut.length;_t<ze;_t++)Le=ut[_t],ie.format!==$i?pt!==null?ve?mt&&t.compressedTexSubImage2D(n.TEXTURE_2D,_t,0,0,Le.width,Le.height,pt,Le.data):t.compressedTexImage2D(n.TEXTURE_2D,_t,Se,Le.width,Le.height,0,Le.data):Qt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ve?mt&&t.texSubImage2D(n.TEXTURE_2D,_t,0,0,Le.width,Le.height,pt,pn,Le.data):t.texImage2D(n.TEXTURE_2D,_t,Se,Le.width,Le.height,0,pt,pn,Le.data)}else if(ie.isDataArrayTexture)if(ve){if(Be&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,Se,ht.width,ht.height,ht.depth),mt)if(ie.layerUpdates.size>0){const _t=qO(ht.width,ht.height,ie.format,ie.type);for(const ze of ie.layerUpdates){const wt=ht.data.subarray(ze*_t/ht.data.BYTES_PER_ELEMENT,(ze+1)*_t/ht.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ze,ht.width,ht.height,1,pt,pn,wt)}ie.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ht.width,ht.height,ht.depth,pt,pn,ht.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Se,ht.width,ht.height,ht.depth,0,pt,pn,ht.data);else if(ie.isData3DTexture)ve?(Be&&t.texStorage3D(n.TEXTURE_3D,St,Se,ht.width,ht.height,ht.depth),mt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ht.width,ht.height,ht.depth,pt,pn,ht.data)):t.texImage3D(n.TEXTURE_3D,0,Se,ht.width,ht.height,ht.depth,0,pt,pn,ht.data);else if(ie.isFramebufferTexture){if(Be)if(ve)t.texStorage2D(n.TEXTURE_2D,St,Se,ht.width,ht.height);else{let _t=ht.width,ze=ht.height;for(let wt=0;wt<St;wt++)t.texImage2D(n.TEXTURE_2D,wt,Se,_t,ze,0,pt,pn,null),_t>>=1,ze>>=1}}else if(ut.length>0){if(ve&&Be){const _t=Et(ut[0]);t.texStorage2D(n.TEXTURE_2D,St,Se,_t.width,_t.height)}for(let _t=0,ze=ut.length;_t<ze;_t++)Le=ut[_t],ve?mt&&t.texSubImage2D(n.TEXTURE_2D,_t,0,0,pt,pn,Le):t.texImage2D(n.TEXTURE_2D,_t,Se,pt,pn,Le);ie.generateMipmaps=!1}else if(ve){if(Be){const _t=Et(ht);t.texStorage2D(n.TEXTURE_2D,St,Se,_t.width,_t.height)}mt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,pt,pn,ht)}else t.texImage2D(n.TEXTURE_2D,0,Se,pt,pn,ht);y(ie)&&w(Je),Yt.__version=Xe.version,ie.onUpdate&&ie.onUpdate(ie)}ce.__version=ie.version}function xe(ce,ie,Ie){if(ie.image.length!==6)return;const Je=we(ce,ie),ft=ie.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+Ie);const Xe=r.get(ft);if(ft.version!==Xe.__version||Je===!0){t.activeTexture(n.TEXTURE0+Ie);const Yt=Mr.getPrimaries(Mr.workingColorSpace),Dt=ie.colorSpace===od?null:Mr.getPrimaries(ie.colorSpace),nn=ie.colorSpace===od||Yt===Dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ie.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ie.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,nn);const Kt=ie.isCompressedTexture||ie.image[0].isCompressedTexture,ht=ie.image[0]&&ie.image[0].isDataTexture,pt=[];for(let ze=0;ze<6;ze++)!Kt&&!ht?pt[ze]=b(ie.image[ze],!0,i.maxCubemapSize):pt[ze]=ht?ie.image[ze].image:ie.image[ze],pt[ze]=Ct(ie,pt[ze]);const pn=pt[0],Se=s.convert(ie.format,ie.colorSpace),Le=s.convert(ie.type),ut=E(ie.internalFormat,Se,Le,ie.colorSpace),ve=ie.isVideoTexture!==!0,Be=Xe.__version===void 0||Je===!0,mt=ft.dataReady;let St=M(ie,pn);ae(n.TEXTURE_CUBE_MAP,ie);let _t;if(Kt){ve&&Be&&t.texStorage2D(n.TEXTURE_CUBE_MAP,St,ut,pn.width,pn.height);for(let ze=0;ze<6;ze++){_t=pt[ze].mipmaps;for(let wt=0;wt<_t.length;wt++){const qt=_t[wt];ie.format!==$i?Se!==null?ve?mt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt,0,0,qt.width,qt.height,Se,qt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt,ut,qt.width,qt.height,0,qt.data):Qt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ve?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt,0,0,qt.width,qt.height,Se,Le,qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt,ut,qt.width,qt.height,0,Se,Le,qt.data)}}}else{if(_t=ie.mipmaps,ve&&Be){_t.length>0&&St++;const ze=Et(pt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,St,ut,ze.width,ze.height)}for(let ze=0;ze<6;ze++)if(ht){ve?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,pt[ze].width,pt[ze].height,Se,Le,pt[ze].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,ut,pt[ze].width,pt[ze].height,0,Se,Le,pt[ze].data);for(let wt=0;wt<_t.length;wt++){const wn=_t[wt].image[ze].image;ve?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt+1,0,0,wn.width,wn.height,Se,Le,wn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt+1,ut,wn.width,wn.height,0,Se,Le,wn.data)}}else{ve?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,Se,Le,pt[ze]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,ut,Se,Le,pt[ze]);for(let wt=0;wt<_t.length;wt++){const qt=_t[wt];ve?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt+1,0,0,Se,Le,qt.image[ze]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ze,wt+1,ut,Se,Le,qt.image[ze])}}}y(ie)&&w(n.TEXTURE_CUBE_MAP),Xe.__version=ft.version,ie.onUpdate&&ie.onUpdate(ie)}ce.__version=ie.version}function Pe(ce,ie,Ie,Je,ft,Xe){const Yt=s.convert(Ie.format,Ie.colorSpace),Dt=s.convert(Ie.type),nn=E(Ie.internalFormat,Yt,Dt,Ie.colorSpace),Kt=r.get(ie),ht=r.get(Ie);if(ht.__renderTarget=ie,!Kt.__hasExternalTextures){const pt=Math.max(1,ie.width>>Xe),pn=Math.max(1,ie.height>>Xe);ft===n.TEXTURE_3D||ft===n.TEXTURE_2D_ARRAY?t.texImage3D(ft,Xe,nn,pt,pn,ie.depth,0,Yt,Dt,null):t.texImage2D(ft,Xe,nn,pt,pn,0,Yt,Dt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ce),ct(ie)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Je,ft,ht.__webglTexture,0,xt(ie)):(ft===n.TEXTURE_2D||ft>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ft<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Je,ft,ht.__webglTexture,Xe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Te(ce,ie,Ie){if(n.bindRenderbuffer(n.RENDERBUFFER,ce),ie.depthBuffer){const Je=ie.depthTexture,ft=Je&&Je.isDepthTexture?Je.type:null,Xe=C(ie.stencilBuffer,ft),Yt=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Dt=xt(ie);ct(ie)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Dt,Xe,ie.width,ie.height):Ie?n.renderbufferStorageMultisample(n.RENDERBUFFER,Dt,Xe,ie.width,ie.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Yt,n.RENDERBUFFER,ce)}else{const Je=ie.textures;for(let ft=0;ft<Je.length;ft++){const Xe=Je[ft],Yt=s.convert(Xe.format,Xe.colorSpace),Dt=s.convert(Xe.type),nn=E(Xe.internalFormat,Yt,Dt,Xe.colorSpace),Kt=xt(ie);Ie&&ct(ie)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Kt,nn,ie.width,ie.height):ct(ie)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Kt,nn,ie.width,ie.height):n.renderbufferStorage(n.RENDERBUFFER,nn,ie.width,ie.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function je(ce,ie){if(ie&&ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ce),!(ie.depthTexture&&ie.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Je=r.get(ie.depthTexture);Je.__renderTarget=ie,(!Je.__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),ne(ie.depthTexture,0);const ft=Je.__webglTexture,Xe=xt(ie);if(ie.depthTexture.format===V0)ct(ie)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ft,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ft,0);else if(ie.depthTexture.format===W0)ct(ie)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ft,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ft,0);else throw new Error("Unknown depthTexture format")}function rt(ce){const ie=r.get(ce),Ie=ce.isWebGLCubeRenderTarget===!0;if(ie.__boundDepthTexture!==ce.depthTexture){const Je=ce.depthTexture;if(ie.__depthDisposeCallback&&ie.__depthDisposeCallback(),Je){const ft=()=>{delete ie.__boundDepthTexture,delete ie.__depthDisposeCallback,Je.removeEventListener("dispose",ft)};Je.addEventListener("dispose",ft),ie.__depthDisposeCallback=ft}ie.__boundDepthTexture=Je}if(ce.depthTexture&&!ie.__autoAllocateDepthBuffer){if(Ie)throw new Error("target.depthTexture not supported in Cube render targets");const Je=ce.texture.mipmaps;Je&&Je.length>0?je(ie.__webglFramebuffer[0],ce):je(ie.__webglFramebuffer,ce)}else if(Ie){ie.__webglDepthbuffer=[];for(let Je=0;Je<6;Je++)if(t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer[Je]),ie.__webglDepthbuffer[Je]===void 0)ie.__webglDepthbuffer[Je]=n.createRenderbuffer(),Te(ie.__webglDepthbuffer[Je],ce,!1);else{const ft=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Xe=ie.__webglDepthbuffer[Je];n.bindRenderbuffer(n.RENDERBUFFER,Xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ft,n.RENDERBUFFER,Xe)}}else{const Je=ce.texture.mipmaps;if(Je&&Je.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer),ie.__webglDepthbuffer===void 0)ie.__webglDepthbuffer=n.createRenderbuffer(),Te(ie.__webglDepthbuffer,ce,!1);else{const ft=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Xe=ie.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ft,n.RENDERBUFFER,Xe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ue(ce,ie,Ie){const Je=r.get(ce);ie!==void 0&&Pe(Je.__webglFramebuffer,ce,ce.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ie!==void 0&&rt(ce)}function ot(ce){const ie=ce.texture,Ie=r.get(ce),Je=r.get(ie);ce.addEventListener("dispose",O);const ft=ce.textures,Xe=ce.isWebGLCubeRenderTarget===!0,Yt=ft.length>1;if(Yt||(Je.__webglTexture===void 0&&(Je.__webglTexture=n.createTexture()),Je.__version=ie.version,o.memory.textures++),Xe){Ie.__webglFramebuffer=[];for(let Dt=0;Dt<6;Dt++)if(ie.mipmaps&&ie.mipmaps.length>0){Ie.__webglFramebuffer[Dt]=[];for(let nn=0;nn<ie.mipmaps.length;nn++)Ie.__webglFramebuffer[Dt][nn]=n.createFramebuffer()}else Ie.__webglFramebuffer[Dt]=n.createFramebuffer()}else{if(ie.mipmaps&&ie.mipmaps.length>0){Ie.__webglFramebuffer=[];for(let Dt=0;Dt<ie.mipmaps.length;Dt++)Ie.__webglFramebuffer[Dt]=n.createFramebuffer()}else Ie.__webglFramebuffer=n.createFramebuffer();if(Yt)for(let Dt=0,nn=ft.length;Dt<nn;Dt++){const Kt=r.get(ft[Dt]);Kt.__webglTexture===void 0&&(Kt.__webglTexture=n.createTexture(),o.memory.textures++)}if(ce.samples>0&&ct(ce)===!1){Ie.__webglMultisampledFramebuffer=n.createFramebuffer(),Ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer);for(let Dt=0;Dt<ft.length;Dt++){const nn=ft[Dt];Ie.__webglColorRenderbuffer[Dt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Dt]);const Kt=s.convert(nn.format,nn.colorSpace),ht=s.convert(nn.type),pt=E(nn.internalFormat,Kt,ht,nn.colorSpace,ce.isXRRenderTarget===!0),pn=xt(ce);n.renderbufferStorageMultisample(n.RENDERBUFFER,pn,pt,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Dt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ce.depthBuffer&&(Ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Te(Ie.__webglDepthRenderbuffer,ce,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Je.__webglTexture),ae(n.TEXTURE_CUBE_MAP,ie);for(let Dt=0;Dt<6;Dt++)if(ie.mipmaps&&ie.mipmaps.length>0)for(let nn=0;nn<ie.mipmaps.length;nn++)Pe(Ie.__webglFramebuffer[Dt][nn],ce,ie,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,nn);else Pe(Ie.__webglFramebuffer[Dt],ce,ie,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0);y(ie)&&w(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Yt){for(let Dt=0,nn=ft.length;Dt<nn;Dt++){const Kt=ft[Dt],ht=r.get(Kt);let pt=n.TEXTURE_2D;(ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(pt=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(pt,ht.__webglTexture),ae(pt,Kt),Pe(Ie.__webglFramebuffer,ce,Kt,n.COLOR_ATTACHMENT0+Dt,pt,0),y(Kt)&&w(pt)}t.unbindTexture()}else{let Dt=n.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(Dt=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Dt,Je.__webglTexture),ae(Dt,ie),ie.mipmaps&&ie.mipmaps.length>0)for(let nn=0;nn<ie.mipmaps.length;nn++)Pe(Ie.__webglFramebuffer[nn],ce,ie,n.COLOR_ATTACHMENT0,Dt,nn);else Pe(Ie.__webglFramebuffer,ce,ie,n.COLOR_ATTACHMENT0,Dt,0);y(ie)&&w(Dt),t.unbindTexture()}ce.depthBuffer&&rt(ce)}function De(ce){const ie=ce.textures;for(let Ie=0,Je=ie.length;Ie<Je;Ie++){const ft=ie[Ie];if(y(ft)){const Xe=A(ce),Yt=r.get(ft).__webglTexture;t.bindTexture(Xe,Yt),w(Xe),t.unbindTexture()}}}const le=[],et=[];function at(ce){if(ce.samples>0){if(ct(ce)===!1){const ie=ce.textures,Ie=ce.width,Je=ce.height;let ft=n.COLOR_BUFFER_BIT;const Xe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Yt=r.get(ce),Dt=ie.length>1;if(Dt)for(let Kt=0;Kt<ie.length;Kt++)t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Kt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Kt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Yt.__webglMultisampledFramebuffer);const nn=ce.texture.mipmaps;nn&&nn.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglFramebuffer);for(let Kt=0;Kt<ie.length;Kt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(ft|=n.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(ft|=n.STENCIL_BUFFER_BIT)),Dt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Yt.__webglColorRenderbuffer[Kt]);const ht=r.get(ie[Kt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ht,0)}n.blitFramebuffer(0,0,Ie,Je,0,0,Ie,Je,ft,n.NEAREST),l===!0&&(le.length=0,et.length=0,le.push(n.COLOR_ATTACHMENT0+Kt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(le.push(Xe),et.push(Xe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,et)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,le))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Dt)for(let Kt=0;Kt<ie.length;Kt++){t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Kt,n.RENDERBUFFER,Yt.__webglColorRenderbuffer[Kt]);const ht=r.get(ie[Kt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Kt,n.TEXTURE_2D,ht,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Yt.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&l){const ie=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ie])}}}function xt(ce){return Math.min(i.maxSamples,ce.samples)}function ct(ce){const ie=r.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ie.__useRenderToTexture!==!1}function Ut(ce){const ie=o.render.frame;d.get(ce)!==ie&&(d.set(ce,ie),ce.update())}function Ct(ce,ie){const Ie=ce.colorSpace,Je=ce.format,ft=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Ie!==hu&&Ie!==od&&(Mr.getTransfer(Ie)===Gr?(Je!==$i||ft!==qo)&&Qt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Gn("WebGLTextures: Unsupported texture color space:",Ie)),ie}function Et(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(u.width=ce.naturalWidth||ce.width,u.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(u.width=ce.displayWidth,u.height=ce.displayHeight):(u.width=ce.width,u.height=ce.height),u}this.allocateTextureUnit=q,this.resetTextureUnits=W,this.setTexture2D=ne,this.setTexture2DArray=V,this.setTexture3D=ee,this.setTextureCube=H,this.rebindTextures=Ue,this.setupRenderTarget=ot,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=at,this.setupDepthRenderbuffer=rt,this.setupFrameBufferTexture=Pe,this.useMultisampledRTT=ct}function jQ(n,e){function t(r,i=od){let s;const o=Mr.getTransfer(i);if(r===qo)return n.UNSIGNED_BYTE;if(r===PC)return n.UNSIGNED_SHORT_4_4_4_4;if(r===RC)return n.UNSIGNED_SHORT_5_5_5_1;if(r===gB)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===vB)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===MC)return n.BYTE;if(r===TC)return n.SHORT;if(r===H0)return n.UNSIGNED_SHORT;if(r===Zb)return n.INT;if(r===fu)return n.UNSIGNED_INT;if(r===Ei)return n.FLOAT;if(r===ws)return n.HALF_FLOAT;if(r===yB)return n.ALPHA;if(r===xB)return n.RGB;if(r===$i)return n.RGBA;if(r===V0)return n.DEPTH_COMPONENT;if(r===W0)return n.DEPTH_STENCIL;if(r===Qb)return n.RED;if(r===e_)return n.RED_INTEGER;if(r===NC)return n.RG;if(r===IC)return n.RG_INTEGER;if(r===OC)return n.RGBA_INTEGER;if(r===lx||r===cx||r===ux||r===dx)if(o===Gr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===lx)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===cx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ux)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===dx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===lx)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===cx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ux)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===dx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===bA||r===_A||r===wA||r===SA)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===bA)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===_A)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===wA)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===SA)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===AA||r===EA||r===CA)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===AA||r===EA)return o===Gr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===CA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===MA||r===TA||r===PA||r===RA||r===NA||r===IA||r===OA||r===FA||r===DA||r===BA||r===kA||r===LA||r===jA||r===UA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===MA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===TA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===PA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===RA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===NA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===IA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===OA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===FA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===DA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===BA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===kA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===LA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===jA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===UA)return o===Gr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===zA||r===HA||r===GA)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===zA)return o===Gr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===HA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===GA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===VA||r===WA||r===$A||r===qA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===VA)return s.COMPRESSED_RED_RGTC1_EXT;if(r===WA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===$A)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===qA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===G0?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const mBe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,gBe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class vBe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new DB(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Xo({vertexShader:mBe,fragmentShader:gBe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ci(new dh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class yBe extends xu{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,d=null,c=null,f=null,m=null,v=null;const b=typeof XRWebGLBinding<"u",y=new vBe,w={},A=t.getContextAttributes();let E=null,C=null;const M=[],R=[],O=new dt;let k=null;const D=new ki;D.viewport=new Pr;const I=new ki;I.viewport=new Pr;const L=[D,I],W=new TQ;let q=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let xe=M[fe];return xe===void 0&&(xe=new Vw,M[fe]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(fe){let xe=M[fe];return xe===void 0&&(xe=new Vw,M[fe]=xe),xe.getGripSpace()},this.getHand=function(fe){let xe=M[fe];return xe===void 0&&(xe=new Vw,M[fe]=xe),xe.getHandSpace()};function ne(fe){const xe=R.indexOf(fe.inputSource);if(xe===-1)return;const Pe=M[xe];Pe!==void 0&&(Pe.update(fe.inputSource,fe.frame,u||o),Pe.dispatchEvent({type:fe.type,data:fe.inputSource}))}function V(){i.removeEventListener("select",ne),i.removeEventListener("selectstart",ne),i.removeEventListener("selectend",ne),i.removeEventListener("squeeze",ne),i.removeEventListener("squeezestart",ne),i.removeEventListener("squeezeend",ne),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",ee);for(let fe=0;fe<M.length;fe++){const xe=R[fe];xe!==null&&(R[fe]=null,M[fe].disconnect(xe))}q=null,K=null,y.reset();for(const fe in w)delete w[fe];e.setRenderTarget(E),m=null,f=null,c=null,i=null,C=null,qe.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(fe){s=fe,r.isPresenting===!0&&Qt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){a=fe,r.isPresenting===!0&&Qt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(fe){u=fe},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return c===null&&b&&(c=new XRWebGLBinding(i,t)),c},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(fe){if(i=fe,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",ne),i.addEventListener("selectstart",ne),i.addEventListener("selectend",ne),i.addEventListener("squeeze",ne),i.addEventListener("squeezestart",ne),i.addEventListener("squeezeend",ne),i.addEventListener("end",V),i.addEventListener("inputsourceschange",ee),A.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(O),b&&"createProjectionLayer"in XRWebGLBinding.prototype){let Pe=null,Te=null,je=null;A.depth&&(je=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Pe=A.stencil?W0:V0,Te=A.stencil?G0:fu);const rt={colorFormat:t.RGBA8,depthFormat:je,scaleFactor:s};c=this.getBinding(),f=c.createProjectionLayer(rt),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),C=new wl(f.textureWidth,f.textureHeight,{format:$i,type:qo,depthTexture:new FB(f.textureWidth,f.textureHeight,Te,void 0,void 0,void 0,void 0,void 0,void 0,Pe),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const Pe={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,Pe),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),C=new wl(m.framebufferWidth,m.framebufferHeight,{format:$i,type:qo,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),qe.setContext(i),qe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function ee(fe){for(let xe=0;xe<fe.removed.length;xe++){const Pe=fe.removed[xe],Te=R.indexOf(Pe);Te>=0&&(R[Te]=null,M[Te].disconnect(Pe))}for(let xe=0;xe<fe.added.length;xe++){const Pe=fe.added[xe];let Te=R.indexOf(Pe);if(Te===-1){for(let rt=0;rt<M.length;rt++)if(rt>=R.length){R.push(Pe),Te=rt;break}else if(R[rt]===null){R[rt]=Pe,Te=rt;break}if(Te===-1)break}const je=M[Te];je&&je.connect(Pe)}}const H=new de,Z=new de;function te(fe,xe,Pe){H.setFromMatrixPosition(xe.matrixWorld),Z.setFromMatrixPosition(Pe.matrixWorld);const Te=H.distanceTo(Z),je=xe.projectionMatrix.elements,rt=Pe.projectionMatrix.elements,Ue=je[14]/(je[10]-1),ot=je[14]/(je[10]+1),De=(je[9]+1)/je[5],le=(je[9]-1)/je[5],et=(je[8]-1)/je[0],at=(rt[8]+1)/rt[0],xt=Ue*et,ct=Ue*at,Ut=Te/(-et+at),Ct=Ut*-et;if(xe.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(Ct),fe.translateZ(Ut),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert(),je[10]===-1)fe.projectionMatrix.copy(xe.projectionMatrix),fe.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const Et=Ue+Ut,ce=ot+Ut,ie=xt-Ct,Ie=ct+(Te-Ct),Je=De*ot/ce*Et,ft=le*ot/ce*Et;fe.projectionMatrix.makePerspective(ie,Ie,Je,ft,Et,ce),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert()}}function Y(fe,xe){xe===null?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(xe.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(i===null)return;let xe=fe.near,Pe=fe.far;y.texture!==null&&(y.depthNear>0&&(xe=y.depthNear),y.depthFar>0&&(Pe=y.depthFar)),W.near=I.near=D.near=xe,W.far=I.far=D.far=Pe,(q!==W.near||K!==W.far)&&(i.updateRenderState({depthNear:W.near,depthFar:W.far}),q=W.near,K=W.far),W.layers.mask=fe.layers.mask|6,D.layers.mask=W.layers.mask&3,I.layers.mask=W.layers.mask&5;const Te=fe.parent,je=W.cameras;Y(W,Te);for(let rt=0;rt<je.length;rt++)Y(je[rt],Te);je.length===2?te(W,D,I):W.projectionMatrix.copy(D.projectionMatrix),ae(fe,W,Te)};function ae(fe,xe,Pe){Pe===null?fe.matrix.copy(xe.matrixWorld):(fe.matrix.copy(Pe.matrixWorld),fe.matrix.invert(),fe.matrix.multiply(xe.matrixWorld)),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.updateMatrixWorld(!0),fe.projectionMatrix.copy(xe.projectionMatrix),fe.projectionMatrixInverse.copy(xe.projectionMatrixInverse),fe.isPerspectiveCamera&&(fe.fov=Y0*2*Math.atan(1/fe.projectionMatrix.elements[5]),fe.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(fe){l=fe,f!==null&&(f.fixedFoveation=fe),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=fe)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(W)},this.getCameraTexture=function(fe){return w[fe]};let we=null;function Fe(fe,xe){if(d=xe.getViewerPose(u||o),v=xe,d!==null){const Pe=d.views;m!==null&&(e.setRenderTargetFramebuffer(C,m.framebuffer),e.setRenderTarget(C));let Te=!1;Pe.length!==W.cameras.length&&(W.cameras.length=0,Te=!0);for(let ot=0;ot<Pe.length;ot++){const De=Pe[ot];let le=null;if(m!==null)le=m.getViewport(De);else{const at=c.getViewSubImage(f,De);le=at.viewport,ot===0&&(e.setRenderTargetTextures(C,at.colorTexture,at.depthStencilTexture),e.setRenderTarget(C))}let et=L[ot];et===void 0&&(et=new ki,et.layers.enable(ot),et.viewport=new Pr,L[ot]=et),et.matrix.fromArray(De.transform.matrix),et.matrix.decompose(et.position,et.quaternion,et.scale),et.projectionMatrix.fromArray(De.projectionMatrix),et.projectionMatrixInverse.copy(et.projectionMatrix).invert(),et.viewport.set(le.x,le.y,le.width,le.height),ot===0&&(W.matrix.copy(et.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),Te===!0&&W.cameras.push(et)}const je=i.enabledFeatures;if(je&&je.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&b){c=r.getBinding();const ot=c.getDepthInformation(Pe[0]);ot&&ot.isValid&&ot.texture&&y.init(ot,i.renderState)}if(je&&je.includes("camera-access")&&b){e.state.unbindTexture(),c=r.getBinding();for(let ot=0;ot<Pe.length;ot++){const De=Pe[ot].camera;if(De){let le=w[De];le||(le=new DB,w[De]=le);const et=c.getCameraImage(De);le.sourceTexture=et}}}}for(let Pe=0;Pe<M.length;Pe++){const Te=R[Pe],je=M[Pe];Te!==null&&je!==void 0&&je.update(Te,xe,u||o)}we&&we(fe,xe),xe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:xe}),v=null}const qe=new FQ;qe.setAnimationLoop(Fe),this.setAnimationLoop=function(fe){we=fe},this.dispose=function(){}}}const dp=new Ua,xBe=new Dn;function bBe(n,e){function t(y,w){y.matrixAutoUpdate===!0&&y.updateMatrix(),w.value.copy(y.matrix)}function r(y,w){w.color.getRGB(y.fogColor.value,jZ(n)),w.isFog?(y.fogNear.value=w.near,y.fogFar.value=w.far):w.isFogExp2&&(y.fogDensity.value=w.density)}function i(y,w,A,E,C){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(y,w):w.isMeshToonMaterial?(s(y,w),c(y,w)):w.isMeshPhongMaterial?(s(y,w),d(y,w)):w.isMeshStandardMaterial?(s(y,w),f(y,w),w.isMeshPhysicalMaterial&&m(y,w,C)):w.isMeshMatcapMaterial?(s(y,w),v(y,w)):w.isMeshDepthMaterial?s(y,w):w.isMeshDistanceMaterial?(s(y,w),b(y,w)):w.isMeshNormalMaterial?s(y,w):w.isLineBasicMaterial?(o(y,w),w.isLineDashedMaterial&&a(y,w)):w.isPointsMaterial?l(y,w,A,E):w.isSpriteMaterial?u(y,w):w.isShadowMaterial?(y.color.value.copy(w.color),y.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(y,w){y.opacity.value=w.opacity,w.color&&y.diffuse.value.copy(w.color),w.emissive&&y.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(y.map.value=w.map,t(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,t(w.alphaMap,y.alphaMapTransform)),w.bumpMap&&(y.bumpMap.value=w.bumpMap,t(w.bumpMap,y.bumpMapTransform),y.bumpScale.value=w.bumpScale,w.side===Wo&&(y.bumpScale.value*=-1)),w.normalMap&&(y.normalMap.value=w.normalMap,t(w.normalMap,y.normalMapTransform),y.normalScale.value.copy(w.normalScale),w.side===Wo&&y.normalScale.value.negate()),w.displacementMap&&(y.displacementMap.value=w.displacementMap,t(w.displacementMap,y.displacementMapTransform),y.displacementScale.value=w.displacementScale,y.displacementBias.value=w.displacementBias),w.emissiveMap&&(y.emissiveMap.value=w.emissiveMap,t(w.emissiveMap,y.emissiveMapTransform)),w.specularMap&&(y.specularMap.value=w.specularMap,t(w.specularMap,y.specularMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest);const A=e.get(w),E=A.envMap,C=A.envMapRotation;E&&(y.envMap.value=E,dp.copy(C),dp.x*=-1,dp.y*=-1,dp.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(dp.y*=-1,dp.z*=-1),y.envMapRotation.value.setFromMatrix4(xBe.makeRotationFromEuler(dp)),y.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=w.reflectivity,y.ior.value=w.ior,y.refractionRatio.value=w.refractionRatio),w.lightMap&&(y.lightMap.value=w.lightMap,y.lightMapIntensity.value=w.lightMapIntensity,t(w.lightMap,y.lightMapTransform)),w.aoMap&&(y.aoMap.value=w.aoMap,y.aoMapIntensity.value=w.aoMapIntensity,t(w.aoMap,y.aoMapTransform))}function o(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,w.map&&(y.map.value=w.map,t(w.map,y.mapTransform))}function a(y,w){y.dashSize.value=w.dashSize,y.totalSize.value=w.dashSize+w.gapSize,y.scale.value=w.scale}function l(y,w,A,E){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.size.value=w.size*A,y.scale.value=E*.5,w.map&&(y.map.value=w.map,t(w.map,y.uvTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,t(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function u(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.rotation.value=w.rotation,w.map&&(y.map.value=w.map,t(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,t(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function d(y,w){y.specular.value.copy(w.specular),y.shininess.value=Math.max(w.shininess,1e-4)}function c(y,w){w.gradientMap&&(y.gradientMap.value=w.gradientMap)}function f(y,w){y.metalness.value=w.metalness,w.metalnessMap&&(y.metalnessMap.value=w.metalnessMap,t(w.metalnessMap,y.metalnessMapTransform)),y.roughness.value=w.roughness,w.roughnessMap&&(y.roughnessMap.value=w.roughnessMap,t(w.roughnessMap,y.roughnessMapTransform)),w.envMap&&(y.envMapIntensity.value=w.envMapIntensity)}function m(y,w,A){y.ior.value=w.ior,w.sheen>0&&(y.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),y.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(y.sheenColorMap.value=w.sheenColorMap,t(w.sheenColorMap,y.sheenColorMapTransform)),w.sheenRoughnessMap&&(y.sheenRoughnessMap.value=w.sheenRoughnessMap,t(w.sheenRoughnessMap,y.sheenRoughnessMapTransform))),w.clearcoat>0&&(y.clearcoat.value=w.clearcoat,y.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(y.clearcoatMap.value=w.clearcoatMap,t(w.clearcoatMap,y.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,t(w.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(y.clearcoatNormalMap.value=w.clearcoatNormalMap,t(w.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Wo&&y.clearcoatNormalScale.value.negate())),w.dispersion>0&&(y.dispersion.value=w.dispersion),w.iridescence>0&&(y.iridescence.value=w.iridescence,y.iridescenceIOR.value=w.iridescenceIOR,y.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(y.iridescenceMap.value=w.iridescenceMap,t(w.iridescenceMap,y.iridescenceMapTransform)),w.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=w.iridescenceThicknessMap,t(w.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),w.transmission>0&&(y.transmission.value=w.transmission,y.transmissionSamplerMap.value=A.texture,y.transmissionSamplerSize.value.set(A.width,A.height),w.transmissionMap&&(y.transmissionMap.value=w.transmissionMap,t(w.transmissionMap,y.transmissionMapTransform)),y.thickness.value=w.thickness,w.thicknessMap&&(y.thicknessMap.value=w.thicknessMap,t(w.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=w.attenuationDistance,y.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(y.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(y.anisotropyMap.value=w.anisotropyMap,t(w.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=w.specularIntensity,y.specularColor.value.copy(w.specularColor),w.specularColorMap&&(y.specularColorMap.value=w.specularColorMap,t(w.specularColorMap,y.specularColorMapTransform)),w.specularIntensityMap&&(y.specularIntensityMap.value=w.specularIntensityMap,t(w.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,w){w.matcap&&(y.matcap.value=w.matcap)}function b(y,w){const A=e.get(w).light;y.referencePosition.value.setFromMatrixPosition(A.matrixWorld),y.nearDistance.value=A.shadow.camera.near,y.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function _Be(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,E){const C=E.program;r.uniformBlockBinding(A,C)}function u(A,E){let C=i[A.id];C===void 0&&(v(A),C=d(A),i[A.id]=C,A.addEventListener("dispose",y));const M=E.program;r.updateUBOMapping(A,M);const R=e.render.frame;s[A.id]!==R&&(f(A),s[A.id]=R)}function d(A){const E=c();A.__bindingPointIndex=E;const C=n.createBuffer(),M=A.__size,R=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,M,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,C),C}function c(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return Gn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(A){const E=i[A.id],C=A.uniforms,M=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let R=0,O=C.length;R<O;R++){const k=Array.isArray(C[R])?C[R]:[C[R]];for(let D=0,I=k.length;D<I;D++){const L=k[D];if(m(L,R,D,M)===!0){const W=L.__offset,q=Array.isArray(L.value)?L.value:[L.value];let K=0;for(let ne=0;ne<q.length;ne++){const V=q[ne],ee=b(V);typeof V=="number"||typeof V=="boolean"?(L.__data[0]=V,n.bufferSubData(n.UNIFORM_BUFFER,W+K,L.__data)):V.isMatrix3?(L.__data[0]=V.elements[0],L.__data[1]=V.elements[1],L.__data[2]=V.elements[2],L.__data[3]=0,L.__data[4]=V.elements[3],L.__data[5]=V.elements[4],L.__data[6]=V.elements[5],L.__data[7]=0,L.__data[8]=V.elements[6],L.__data[9]=V.elements[7],L.__data[10]=V.elements[8],L.__data[11]=0):(V.toArray(L.__data,K),K+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,W,L.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,E,C,M){const R=A.value,O=E+"_"+C;if(M[O]===void 0)return typeof R=="number"||typeof R=="boolean"?M[O]=R:M[O]=R.clone(),!0;{const k=M[O];if(typeof R=="number"||typeof R=="boolean"){if(k!==R)return M[O]=R,!0}else if(k.equals(R)===!1)return k.copy(R),!0}return!1}function v(A){const E=A.uniforms;let C=0;const M=16;for(let O=0,k=E.length;O<k;O++){const D=Array.isArray(E[O])?E[O]:[E[O]];for(let I=0,L=D.length;I<L;I++){const W=D[I],q=Array.isArray(W.value)?W.value:[W.value];for(let K=0,ne=q.length;K<ne;K++){const V=q[K],ee=b(V),H=C%M,Z=H%ee.boundary,te=H+Z;C+=Z,te!==0&&M-te<ee.storage&&(C+=M-te),W.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=C,C+=ee.storage}}}const R=C%M;return R>0&&(C+=M-R),A.__size=C,A.__cache={},this}function b(A){const E={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(E.boundary=4,E.storage=4):A.isVector2?(E.boundary=8,E.storage=8):A.isVector3||A.isColor?(E.boundary=16,E.storage=12):A.isVector4?(E.boundary=16,E.storage=16):A.isMatrix3?(E.boundary=48,E.storage=48):A.isMatrix4?(E.boundary=64,E.storage=64):A.isTexture?Qt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Qt("WebGLRenderer: Unsupported uniform value type.",A),E}function y(A){const E=A.target;E.removeEventListener("dispose",y);const C=o.indexOf(E.__bindingPointIndex);o.splice(C,1),n.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function w(){for(const A in i)n.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:l,update:u,dispose:w}}const wBe=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let nd=null;function SBe(){return nd===null&&(nd=new xl(wBe,32,32,NC,ws),nd.minFilter=Rr,nd.magFilter=Rr,nd.wrapS=Ai,nd.wrapT=Ai,nd.generateMipmaps=!1,nd.needsUpdate=!0),nd}class sk{constructor(e={}){const{canvas:t=DZ(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:c=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;const v=new Set([OC,IC,e_]),b=new Set([qo,fu,H0,G0,PC,RC]),y=new Uint32Array(4),w=new Int32Array(4);let A=null,E=null;const C=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=tu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let O=!1;this._outputColorSpace=zo;let k=0,D=0,I=null,L=-1,W=null;const q=new Pr,K=new Pr;let ne=null;const V=new Wt(0);let ee=0,H=t.width,Z=t.height,te=1,Y=null,ae=null;const we=new Pr(0,0,H,Z),Fe=new Pr(0,0,H,Z);let qe=!1;const fe=new wv;let xe=!1,Pe=!1;const Te=new Dn,je=new de,rt=new Pr,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ot=!1;function De(){return I===null?te:1}let le=r;function et(Q,ye){return t.getContext(Q,ye)}try{const Q={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Yb}`),t.addEventListener("webglcontextlost",_t,!1),t.addEventListener("webglcontextrestored",ze,!1),t.addEventListener("webglcontextcreationerror",wt,!1),le===null){const ye="webgl2";if(le=et(ye,Q),le===null)throw et(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Q){throw Q("WebGLRenderer: "+Q.message),Q}let at,xt,ct,Ut,Ct,Et,ce,ie,Ie,Je,ft,Xe,Yt,Dt,nn,Kt,ht,pt,pn,Se,Le,ut,ve,Be;function mt(){at=new OFe(le),at.init(),ut=new jQ(le,at),xt=new AFe(le,at,e,ut),ct=new hBe(le,at),xt.reversedDepthBuffer&&f&&ct.buffers.depth.setReversed(!0),Ut=new BFe(le),Ct=new eBe,Et=new pBe(le,at,ct,Ct,xt,ut,Ut),ce=new CFe(R),ie=new IFe(R),Ie=new U3e(le),ve=new wFe(le,Ie),Je=new FFe(le,Ie,Ut,ve),ft=new LFe(le,Je,Ie,Ut),pn=new kFe(le,xt,Et),Kt=new EFe(Ct),Xe=new QDe(R,ce,ie,at,xt,ve,Kt),Yt=new bBe(R,Ct),Dt=new nBe,nn=new lBe(at),pt=new _Fe(R,ce,ie,ct,ft,m,l),ht=new dBe(R,ft,xt),Be=new _Be(le,Ut,xt,ct),Se=new SFe(le,at,Ut),Le=new DFe(le,at,Ut),Ut.programs=Xe.programs,R.capabilities=xt,R.extensions=at,R.properties=Ct,R.renderLists=Dt,R.shadowMap=ht,R.state=ct,R.info=Ut}mt();const St=new yBe(R,le);this.xr=St,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const Q=at.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=at.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(Q){Q!==void 0&&(te=Q,this.setSize(H,Z,!1))},this.getSize=function(Q){return Q.set(H,Z)},this.setSize=function(Q,ye,be=!0){if(St.isPresenting){Qt("WebGLRenderer: Can't change size while VR device is presenting.");return}H=Q,Z=ye,t.width=Math.floor(Q*te),t.height=Math.floor(ye*te),be===!0&&(t.style.width=Q+"px",t.style.height=ye+"px"),this.setViewport(0,0,Q,ye)},this.getDrawingBufferSize=function(Q){return Q.set(H*te,Z*te).floor()},this.setDrawingBufferSize=function(Q,ye,be){H=Q,Z=ye,te=be,t.width=Math.floor(Q*be),t.height=Math.floor(ye*be),this.setViewport(0,0,Q,ye)},this.getCurrentViewport=function(Q){return Q.copy(q)},this.getViewport=function(Q){return Q.copy(we)},this.setViewport=function(Q,ye,be,ke){Q.isVector4?we.set(Q.x,Q.y,Q.z,Q.w):we.set(Q,ye,be,ke),ct.viewport(q.copy(we).multiplyScalar(te).round())},this.getScissor=function(Q){return Q.copy(Fe)},this.setScissor=function(Q,ye,be,ke){Q.isVector4?Fe.set(Q.x,Q.y,Q.z,Q.w):Fe.set(Q,ye,be,ke),ct.scissor(K.copy(Fe).multiplyScalar(te).round())},this.getScissorTest=function(){return qe},this.setScissorTest=function(Q){ct.setScissorTest(qe=Q)},this.setOpaqueSort=function(Q){Y=Q},this.setTransparentSort=function(Q){ae=Q},this.getClearColor=function(Q){return Q.copy(pt.getClearColor())},this.setClearColor=function(){pt.setClearColor(...arguments)},this.getClearAlpha=function(){return pt.getClearAlpha()},this.setClearAlpha=function(){pt.setClearAlpha(...arguments)},this.clear=function(Q=!0,ye=!0,be=!0){let ke=0;if(Q){let Ae=!1;if(I!==null){const Ke=I.texture.format;Ae=v.has(Ke)}if(Ae){const Ke=I.texture.type,st=b.has(Ke),gt=pt.getClearColor(),yt=pt.getClearAlpha(),Tt=gt.r,vt=gt.g,Rt=gt.b;st?(y[0]=Tt,y[1]=vt,y[2]=Rt,y[3]=yt,le.clearBufferuiv(le.COLOR,0,y)):(w[0]=Tt,w[1]=vt,w[2]=Rt,w[3]=yt,le.clearBufferiv(le.COLOR,0,w))}else ke|=le.COLOR_BUFFER_BIT}ye&&(ke|=le.DEPTH_BUFFER_BIT),be&&(ke|=le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),le.clear(ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_t,!1),t.removeEventListener("webglcontextrestored",ze,!1),t.removeEventListener("webglcontextcreationerror",wt,!1),pt.dispose(),Dt.dispose(),nn.dispose(),Ct.dispose(),ce.dispose(),ie.dispose(),ft.dispose(),ve.dispose(),Be.dispose(),Xe.dispose(),St.dispose(),St.removeEventListener("sessionstart",Qr),St.removeEventListener("sessionend",Sr),Dr.stop()};function _t(Q){Q.preventDefault(),yb("WebGLRenderer: Context Lost."),O=!0}function ze(){yb("WebGLRenderer: Context Restored."),O=!1;const Q=Ut.autoReset,ye=ht.enabled,be=ht.autoUpdate,ke=ht.needsUpdate,Ae=ht.type;mt(),Ut.autoReset=Q,ht.enabled=ye,ht.autoUpdate=be,ht.needsUpdate=ke,ht.type=Ae}function wt(Q){Gn("WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function qt(Q){const ye=Q.target;ye.removeEventListener("dispose",qt),wn(ye)}function wn(Q){Cn(Q),Ct.remove(Q)}function Cn(Q){const ye=Ct.get(Q).programs;ye!==void 0&&(ye.forEach(function(be){Xe.releaseProgram(be)}),Q.isShaderMaterial&&Xe.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,ye,be,ke,Ae,Ke){ye===null&&(ye=Ue);const st=Ae.isMesh&&Ae.matrixWorld.determinant()<0,gt=Ge(Q,ye,be,ke,Ae);ct.setMaterial(ke,st);let yt=be.index,Tt=1;if(ke.wireframe===!0){if(yt=Je.getWireframeAttribute(be),yt===void 0)return;Tt=2}const vt=be.drawRange,Rt=be.attributes.position;let Ht=vt.start*Tt,yn=(vt.start+vt.count)*Tt;Ke!==null&&(Ht=Math.max(Ht,Ke.start*Tt),yn=Math.min(yn,(Ke.start+Ke.count)*Tt)),yt!==null?(Ht=Math.max(Ht,0),yn=Math.min(yn,yt.count)):Rt!=null&&(Ht=Math.max(Ht,0),yn=Math.min(yn,Rt.count));const cn=yn-Ht;if(cn<0||cn===1/0)return;ve.setup(Ae,ke,gt,be,yt);let Mn,Pn=Se;if(yt!==null&&(Mn=Ie.get(yt),Pn=Le,Pn.setIndex(Mn)),Ae.isMesh)ke.wireframe===!0?(ct.setLineWidth(ke.wireframeLinewidth*De()),Pn.setMode(le.LINES)):Pn.setMode(le.TRIANGLES);else if(Ae.isLine){let Xt=ke.linewidth;Xt===void 0&&(Xt=1),ct.setLineWidth(Xt*De()),Ae.isLineSegments?Pn.setMode(le.LINES):Ae.isLineLoop?Pn.setMode(le.LINE_LOOP):Pn.setMode(le.LINE_STRIP)}else Ae.isPoints?Pn.setMode(le.POINTS):Ae.isSprite&&Pn.setMode(le.TRIANGLES);if(Ae.isBatchedMesh)if(Ae._multiDrawInstances!==null)K0("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Pn.renderMultiDrawInstances(Ae._multiDrawStarts,Ae._multiDrawCounts,Ae._multiDrawCount,Ae._multiDrawInstances);else if(at.get("WEBGL_multi_draw"))Pn.renderMultiDraw(Ae._multiDrawStarts,Ae._multiDrawCounts,Ae._multiDrawCount);else{const Xt=Ae._multiDrawStarts,Bn=Ae._multiDrawCounts,rn=Ae._multiDrawCount,kn=yt?Ie.get(yt).bytesPerElement:1,or=Ct.get(ke).currentProgram.getUniforms();for(let Tn=0;Tn<rn;Tn++)or.setValue(le,"_gl_DrawID",Tn),Pn.render(Xt[Tn]/kn,Bn[Tn])}else if(Ae.isInstancedMesh)Pn.renderInstances(Ht,cn,Ae.count);else if(be.isInstancedBufferGeometry){const Xt=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,Bn=Math.min(be.instanceCount,Xt);Pn.renderInstances(Ht,cn,Bn)}else Pn.render(Ht,cn)};function zn(Q,ye,be){Q.transparent===!0&&Q.side===fl&&Q.forceSinglePass===!1?(Q.side=Wo,Q.needsUpdate=!0,J(Q,ye,be),Q.side=uu,Q.needsUpdate=!0,J(Q,ye,be),Q.side=fl):J(Q,ye,be)}this.compile=function(Q,ye,be=null){be===null&&(be=Q),E=nn.get(be),E.init(ye),M.push(E),be.traverseVisible(function(Ae){Ae.isLight&&Ae.layers.test(ye.layers)&&(E.pushLight(Ae),Ae.castShadow&&E.pushShadow(Ae))}),Q!==be&&Q.traverseVisible(function(Ae){Ae.isLight&&Ae.layers.test(ye.layers)&&(E.pushLight(Ae),Ae.castShadow&&E.pushShadow(Ae))}),E.setupLights();const ke=new Set;return Q.traverse(function(Ae){if(!(Ae.isMesh||Ae.isPoints||Ae.isLine||Ae.isSprite))return;const Ke=Ae.material;if(Ke)if(Array.isArray(Ke))for(let st=0;st<Ke.length;st++){const gt=Ke[st];zn(gt,be,Ae),ke.add(gt)}else zn(Ke,be,Ae),ke.add(Ke)}),E=M.pop(),ke},this.compileAsync=function(Q,ye,be=null){const ke=this.compile(Q,ye,be);return new Promise(Ae=>{function Ke(){if(ke.forEach(function(st){Ct.get(st).currentProgram.isReady()&&ke.delete(st)}),ke.size===0){Ae(Q);return}setTimeout(Ke,10)}at.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let sr=null;function ji(Q){sr&&sr(Q)}function Qr(){Dr.stop()}function Sr(){Dr.start()}const Dr=new FQ;Dr.setAnimationLoop(ji),typeof self<"u"&&Dr.setContext(self),this.setAnimationLoop=function(Q){sr=Q,St.setAnimationLoop(Q),Q===null?Dr.stop():Dr.start()},St.addEventListener("sessionstart",Qr),St.addEventListener("sessionend",Sr),this.render=function(Q,ye){if(ye!==void 0&&ye.isCamera!==!0){Gn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),St.enabled===!0&&St.isPresenting===!0&&(St.cameraAutoUpdate===!0&&St.updateCamera(ye),ye=St.getCamera()),Q.isScene===!0&&Q.onBeforeRender(R,Q,ye,I),E=nn.get(Q,M.length),E.init(ye),M.push(E),Te.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),fe.setFromProjectionMatrix(Te,ka,ye.reversedDepth),Pe=this.localClippingEnabled,xe=Kt.init(this.clippingPlanes,Pe),A=Dt.get(Q,C.length),A.init(),C.push(A),St.enabled===!0&&St.isPresenting===!0){const Ke=R.xr.getDepthSensingMesh();Ke!==null&&Xr(Ke,ye,-1/0,R.sortObjects)}Xr(Q,ye,0,R.sortObjects),A.finish(),R.sortObjects===!0&&A.sort(Y,ae),ot=St.enabled===!1||St.isPresenting===!1||St.hasDepthSensing()===!1,ot&&pt.addToRenderList(A,Q),this.info.render.frame++,xe===!0&&Kt.beginShadows();const be=E.state.shadowsArray;ht.render(be,Q,ye),xe===!0&&Kt.endShadows(),this.info.autoReset===!0&&this.info.reset();const ke=A.opaque,Ae=A.transmissive;if(E.setupLights(),ye.isArrayCamera){const Ke=ye.cameras;if(Ae.length>0)for(let st=0,gt=Ke.length;st<gt;st++){const yt=Ke[st];Sn(ke,Ae,Q,yt)}ot&&pt.render(Q);for(let st=0,gt=Ke.length;st<gt;st++){const yt=Ke[st];er(A,Q,yt,yt.viewport)}}else Ae.length>0&&Sn(ke,Ae,Q,ye),ot&&pt.render(Q),er(A,Q,ye);I!==null&&D===0&&(Et.updateMultisampleRenderTarget(I),Et.updateRenderTargetMipmap(I)),Q.isScene===!0&&Q.onAfterRender(R,Q,ye),ve.resetDefaultState(),L=-1,W=null,M.pop(),M.length>0?(E=M[M.length-1],xe===!0&&Kt.setGlobalState(R.clippingPlanes,E.state.camera)):E=null,C.pop(),C.length>0?A=C[C.length-1]:A=null};function Xr(Q,ye,be,ke){if(Q.visible===!1)return;if(Q.layers.test(ye.layers)){if(Q.isGroup)be=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(ye);else if(Q.isLight)E.pushLight(Q),Q.castShadow&&E.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||fe.intersectsSprite(Q)){ke&&rt.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(Te);const st=ft.update(Q),gt=Q.material;gt.visible&&A.push(Q,st,gt,be,rt.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||fe.intersectsObject(Q))){const st=ft.update(Q),gt=Q.material;if(ke&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),rt.copy(Q.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),rt.copy(st.boundingSphere.center)),rt.applyMatrix4(Q.matrixWorld).applyMatrix4(Te)),Array.isArray(gt)){const yt=st.groups;for(let Tt=0,vt=yt.length;Tt<vt;Tt++){const Rt=yt[Tt],Ht=gt[Rt.materialIndex];Ht&&Ht.visible&&A.push(Q,st,Ht,be,rt.z,Rt)}}else gt.visible&&A.push(Q,st,gt,be,rt.z,null)}}const Ke=Q.children;for(let st=0,gt=Ke.length;st<gt;st++)Xr(Ke[st],ye,be,ke)}function er(Q,ye,be,ke){const{opaque:Ae,transmissive:Ke,transparent:st}=Q;E.setupLightsView(be),xe===!0&&Kt.setGlobalState(R.clippingPlanes,be),ke&&ct.viewport(q.copy(ke)),Ae.length>0&&Mo(Ae,ye,be),Ke.length>0&&Mo(Ke,ye,be),st.length>0&&Mo(st,ye,be),ct.buffers.depth.setTest(!0),ct.buffers.depth.setMask(!0),ct.buffers.color.setMask(!0),ct.setPolygonOffset(!1)}function Sn(Q,ye,be,ke){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[ke.id]===void 0&&(E.state.transmissionRenderTarget[ke.id]=new wl(1,1,{generateMipmaps:!0,type:at.has("EXT_color_buffer_half_float")||at.has("EXT_color_buffer_float")?ws:qo,minFilter:ml,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mr.workingColorSpace}));const Ke=E.state.transmissionRenderTarget[ke.id],st=ke.viewport||q;Ke.setSize(st.z*R.transmissionResolutionScale,st.w*R.transmissionResolutionScale);const gt=R.getRenderTarget(),yt=R.getActiveCubeFace(),Tt=R.getActiveMipmapLevel();R.setRenderTarget(Ke),R.getClearColor(V),ee=R.getClearAlpha(),ee<1&&R.setClearColor(16777215,.5),R.clear(),ot&&pt.render(be);const vt=R.toneMapping;R.toneMapping=tu;const Rt=ke.viewport;if(ke.viewport!==void 0&&(ke.viewport=void 0),E.setupLightsView(ke),xe===!0&&Kt.setGlobalState(R.clippingPlanes,ke),Mo(Q,be,ke),Et.updateMultisampleRenderTarget(Ke),Et.updateRenderTargetMipmap(Ke),at.has("WEBGL_multisampled_render_to_texture")===!1){let Ht=!1;for(let yn=0,cn=ye.length;yn<cn;yn++){const Mn=ye[yn],{object:Pn,geometry:Xt,material:Bn,group:rn}=Mn;if(Bn.side===fl&&Pn.layers.test(ke.layers)){const kn=Bn.side;Bn.side=Wo,Bn.needsUpdate=!0,bc(Pn,be,ke,Xt,Bn,rn),Bn.side=kn,Bn.needsUpdate=!0,Ht=!0}}Ht===!0&&(Et.updateMultisampleRenderTarget(Ke),Et.updateRenderTargetMipmap(Ke))}R.setRenderTarget(gt,yt,Tt),R.setClearColor(V,ee),Rt!==void 0&&(ke.viewport=Rt),R.toneMapping=vt}function Mo(Q,ye,be){const ke=ye.isScene===!0?ye.overrideMaterial:null;for(let Ae=0,Ke=Q.length;Ae<Ke;Ae++){const st=Q[Ae],{object:gt,geometry:yt,group:Tt}=st;let vt=st.material;vt.allowOverride===!0&&ke!==null&&(vt=ke),gt.layers.test(be.layers)&&bc(gt,ye,be,yt,vt,Tt)}}function bc(Q,ye,be,ke,Ae,Ke){Q.onBeforeRender(R,ye,be,ke,Ae,Ke),Q.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Ae.onBeforeRender(R,ye,be,ke,Q,Ke),Ae.transparent===!0&&Ae.side===fl&&Ae.forceSinglePass===!1?(Ae.side=Wo,Ae.needsUpdate=!0,R.renderBufferDirect(be,ye,ke,Ae,Q,Ke),Ae.side=uu,Ae.needsUpdate=!0,R.renderBufferDirect(be,ye,ke,Ae,Q,Ke),Ae.side=fl):R.renderBufferDirect(be,ye,ke,Ae,Q,Ke),Q.onAfterRender(R,ye,be,ke,Ae,Ke)}function J(Q,ye,be){ye.isScene!==!0&&(ye=Ue);const ke=Ct.get(Q),Ae=E.state.lights,Ke=E.state.shadowsArray,st=Ae.state.version,gt=Xe.getParameters(Q,Ae.state,Ke,ye,be),yt=Xe.getProgramCacheKey(gt);let Tt=ke.programs;ke.environment=Q.isMeshStandardMaterial?ye.environment:null,ke.fog=ye.fog,ke.envMap=(Q.isMeshStandardMaterial?ie:ce).get(Q.envMap||ke.environment),ke.envMapRotation=ke.environment!==null&&Q.envMap===null?ye.environmentRotation:Q.envMapRotation,Tt===void 0&&(Q.addEventListener("dispose",qt),Tt=new Map,ke.programs=Tt);let vt=Tt.get(yt);if(vt!==void 0){if(ke.currentProgram===vt&&ke.lightsStateVersion===st)return Ee(Q,gt),vt}else gt.uniforms=Xe.getUniforms(Q),Q.onBeforeCompile(gt,R),vt=Xe.acquireProgram(gt,yt),Tt.set(yt,vt),ke.uniforms=gt.uniforms;const Rt=ke.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(Rt.clippingPlanes=Kt.uniform),Ee(Q,gt),ke.needsLights=Qe(Q),ke.lightsStateVersion=st,ke.needsLights&&(Rt.ambientLightColor.value=Ae.state.ambient,Rt.lightProbe.value=Ae.state.probe,Rt.directionalLights.value=Ae.state.directional,Rt.directionalLightShadows.value=Ae.state.directionalShadow,Rt.spotLights.value=Ae.state.spot,Rt.spotLightShadows.value=Ae.state.spotShadow,Rt.rectAreaLights.value=Ae.state.rectArea,Rt.ltc_1.value=Ae.state.rectAreaLTC1,Rt.ltc_2.value=Ae.state.rectAreaLTC2,Rt.pointLights.value=Ae.state.point,Rt.pointLightShadows.value=Ae.state.pointShadow,Rt.hemisphereLights.value=Ae.state.hemi,Rt.directionalShadowMap.value=Ae.state.directionalShadowMap,Rt.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,Rt.spotShadowMap.value=Ae.state.spotShadowMap,Rt.spotLightMatrix.value=Ae.state.spotLightMatrix,Rt.spotLightMap.value=Ae.state.spotLightMap,Rt.pointShadowMap.value=Ae.state.pointShadowMap,Rt.pointShadowMatrix.value=Ae.state.pointShadowMatrix),ke.currentProgram=vt,ke.uniformsList=null,vt}function oe(Q){if(Q.uniformsList===null){const ye=Q.currentProgram.getUniforms();Q.uniformsList=Ww.seqWithValue(ye.seq,Q.uniforms)}return Q.uniformsList}function Ee(Q,ye){const be=Ct.get(Q);be.outputColorSpace=ye.outputColorSpace,be.batching=ye.batching,be.batchingColor=ye.batchingColor,be.instancing=ye.instancing,be.instancingColor=ye.instancingColor,be.instancingMorph=ye.instancingMorph,be.skinning=ye.skinning,be.morphTargets=ye.morphTargets,be.morphNormals=ye.morphNormals,be.morphColors=ye.morphColors,be.morphTargetsCount=ye.morphTargetsCount,be.numClippingPlanes=ye.numClippingPlanes,be.numIntersection=ye.numClipIntersection,be.vertexAlphas=ye.vertexAlphas,be.vertexTangents=ye.vertexTangents,be.toneMapping=ye.toneMapping}function Ge(Q,ye,be,ke,Ae){ye.isScene!==!0&&(ye=Ue),Et.resetTextureUnits();const Ke=ye.fog,st=ke.isMeshStandardMaterial?ye.environment:null,gt=I===null?R.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:hu,yt=(ke.isMeshStandardMaterial?ie:ce).get(ke.envMap||st),Tt=ke.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,vt=!!be.attributes.tangent&&(!!ke.normalMap||ke.anisotropy>0),Rt=!!be.morphAttributes.position,Ht=!!be.morphAttributes.normal,yn=!!be.morphAttributes.color;let cn=tu;ke.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(cn=R.toneMapping);const Mn=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Pn=Mn!==void 0?Mn.length:0,Xt=Ct.get(ke),Bn=E.state.lights;if(xe===!0&&(Pe===!0||Q!==W)){const ei=Q===W&&ke.id===L;Kt.setState(ke,Q,ei)}let rn=!1;ke.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==Bn.state.version||Xt.outputColorSpace!==gt||Ae.isBatchedMesh&&Xt.batching===!1||!Ae.isBatchedMesh&&Xt.batching===!0||Ae.isBatchedMesh&&Xt.batchingColor===!0&&Ae.colorTexture===null||Ae.isBatchedMesh&&Xt.batchingColor===!1&&Ae.colorTexture!==null||Ae.isInstancedMesh&&Xt.instancing===!1||!Ae.isInstancedMesh&&Xt.instancing===!0||Ae.isSkinnedMesh&&Xt.skinning===!1||!Ae.isSkinnedMesh&&Xt.skinning===!0||Ae.isInstancedMesh&&Xt.instancingColor===!0&&Ae.instanceColor===null||Ae.isInstancedMesh&&Xt.instancingColor===!1&&Ae.instanceColor!==null||Ae.isInstancedMesh&&Xt.instancingMorph===!0&&Ae.morphTexture===null||Ae.isInstancedMesh&&Xt.instancingMorph===!1&&Ae.morphTexture!==null||Xt.envMap!==yt||ke.fog===!0&&Xt.fog!==Ke||Xt.numClippingPlanes!==void 0&&(Xt.numClippingPlanes!==Kt.numPlanes||Xt.numIntersection!==Kt.numIntersection)||Xt.vertexAlphas!==Tt||Xt.vertexTangents!==vt||Xt.morphTargets!==Rt||Xt.morphNormals!==Ht||Xt.morphColors!==yn||Xt.toneMapping!==cn||Xt.morphTargetsCount!==Pn)&&(rn=!0):(rn=!0,Xt.__version=ke.version);let kn=Xt.currentProgram;rn===!0&&(kn=J(ke,ye,Ae));let or=!1,Tn=!1,mr=!1;const dr=kn.getUniforms(),fr=Xt.uniforms;if(ct.useProgram(kn.program)&&(or=!0,Tn=!0,mr=!0),ke.id!==L&&(L=ke.id,Tn=!0),or||W!==Q){ct.buffers.depth.getReversed()&&Q.reversedDepth!==!0&&(Q._reversedDepth=!0,Q.updateProjectionMatrix()),dr.setValue(le,"projectionMatrix",Q.projectionMatrix),dr.setValue(le,"viewMatrix",Q.matrixWorldInverse);const Rn=dr.map.cameraPosition;Rn!==void 0&&Rn.setValue(le,je.setFromMatrixPosition(Q.matrixWorld)),xt.logarithmicDepthBuffer&&dr.setValue(le,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial)&&dr.setValue(le,"isOrthographic",Q.isOrthographicCamera===!0),W!==Q&&(W=Q,Tn=!0,mr=!0)}if(Ae.isSkinnedMesh){dr.setOptional(le,Ae,"bindMatrix"),dr.setOptional(le,Ae,"bindMatrixInverse");const ei=Ae.skeleton;ei&&(ei.boneTexture===null&&ei.computeBoneTexture(),dr.setValue(le,"boneTexture",ei.boneTexture,Et))}Ae.isBatchedMesh&&(dr.setOptional(le,Ae,"batchingTexture"),dr.setValue(le,"batchingTexture",Ae._matricesTexture,Et),dr.setOptional(le,Ae,"batchingIdTexture"),dr.setValue(le,"batchingIdTexture",Ae._indirectTexture,Et),dr.setOptional(le,Ae,"batchingColorTexture"),Ae._colorsTexture!==null&&dr.setValue(le,"batchingColorTexture",Ae._colorsTexture,Et));const Kr=be.morphAttributes;if((Kr.position!==void 0||Kr.normal!==void 0||Kr.color!==void 0)&&pn.update(Ae,be,kn),(Tn||Xt.receiveShadow!==Ae.receiveShadow)&&(Xt.receiveShadow=Ae.receiveShadow,dr.setValue(le,"receiveShadow",Ae.receiveShadow)),ke.isMeshGouraudMaterial&&ke.envMap!==null&&(fr.envMap.value=yt,fr.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),ke.isMeshStandardMaterial&&ke.envMap===null&&ye.environment!==null&&(fr.envMapIntensity.value=ye.environmentIntensity),fr.dfgLUT!==void 0&&(fr.dfgLUT.value=SBe()),Tn&&(dr.setValue(le,"toneMappingExposure",R.toneMappingExposure),Xt.needsLights&&tt(fr,mr),Ke&&ke.fog===!0&&Yt.refreshFogUniforms(fr,Ke),Yt.refreshMaterialUniforms(fr,ke,te,Z,E.state.transmissionRenderTarget[Q.id]),Ww.upload(le,oe(Xt),fr,Et)),ke.isShaderMaterial&&ke.uniformsNeedUpdate===!0&&(Ww.upload(le,oe(Xt),fr,Et),ke.uniformsNeedUpdate=!1),ke.isSpriteMaterial&&dr.setValue(le,"center",Ae.center),dr.setValue(le,"modelViewMatrix",Ae.modelViewMatrix),dr.setValue(le,"normalMatrix",Ae.normalMatrix),dr.setValue(le,"modelMatrix",Ae.matrixWorld),ke.isShaderMaterial||ke.isRawShaderMaterial){const ei=ke.uniformsGroups;for(let Rn=0,To=ei.length;Rn<To;Rn++){const Ki=ei[Rn];Be.update(Ki,kn),Be.bind(Ki,kn)}}return kn}function tt(Q,ye){Q.ambientLightColor.needsUpdate=ye,Q.lightProbe.needsUpdate=ye,Q.directionalLights.needsUpdate=ye,Q.directionalLightShadows.needsUpdate=ye,Q.pointLights.needsUpdate=ye,Q.pointLightShadows.needsUpdate=ye,Q.spotLights.needsUpdate=ye,Q.spotLightShadows.needsUpdate=ye,Q.rectAreaLights.needsUpdate=ye,Q.hemisphereLights.needsUpdate=ye}function Qe(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(Q,ye,be){const ke=Ct.get(Q);ke.__autoAllocateDepthBuffer=Q.resolveDepthBuffer===!1,ke.__autoAllocateDepthBuffer===!1&&(ke.__useRenderToTexture=!1),Ct.get(Q.texture).__webglTexture=ye,Ct.get(Q.depthTexture).__webglTexture=ke.__autoAllocateDepthBuffer?void 0:be,ke.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Q,ye){const be=Ct.get(Q);be.__webglFramebuffer=ye,be.__useDefaultFramebuffer=ye===void 0};const It=le.createFramebuffer();this.setRenderTarget=function(Q,ye=0,be=0){I=Q,k=ye,D=be;let ke=!0,Ae=null,Ke=!1,st=!1;if(Q){const yt=Ct.get(Q);if(yt.__useDefaultFramebuffer!==void 0)ct.bindFramebuffer(le.FRAMEBUFFER,null),ke=!1;else if(yt.__webglFramebuffer===void 0)Et.setupRenderTarget(Q);else if(yt.__hasExternalTextures)Et.rebindTextures(Q,Ct.get(Q.texture).__webglTexture,Ct.get(Q.depthTexture).__webglTexture);else if(Q.depthBuffer){const Rt=Q.depthTexture;if(yt.__boundDepthTexture!==Rt){if(Rt!==null&&Ct.has(Rt)&&(Q.width!==Rt.image.width||Q.height!==Rt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Et.setupDepthRenderbuffer(Q)}}const Tt=Q.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(st=!0);const vt=Ct.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(vt[ye])?Ae=vt[ye][be]:Ae=vt[ye],Ke=!0):Q.samples>0&&Et.useMultisampledRTT(Q)===!1?Ae=Ct.get(Q).__webglMultisampledFramebuffer:Array.isArray(vt)?Ae=vt[be]:Ae=vt,q.copy(Q.viewport),K.copy(Q.scissor),ne=Q.scissorTest}else q.copy(we).multiplyScalar(te).floor(),K.copy(Fe).multiplyScalar(te).floor(),ne=qe;if(be!==0&&(Ae=It),ct.bindFramebuffer(le.FRAMEBUFFER,Ae)&&ke&&ct.drawBuffers(Q,Ae),ct.viewport(q),ct.scissor(K),ct.setScissorTest(ne),Ke){const yt=Ct.get(Q.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_CUBE_MAP_POSITIVE_X+ye,yt.__webglTexture,be)}else if(st){const yt=ye;for(let Tt=0;Tt<Q.textures.length;Tt++){const vt=Ct.get(Q.textures[Tt]);le.framebufferTextureLayer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0+Tt,vt.__webglTexture,be,yt)}}else if(Q!==null&&be!==0){const yt=Ct.get(Q.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,yt.__webglTexture,be)}L=-1},this.readRenderTargetPixels=function(Q,ye,be,ke,Ae,Ke,st,gt=0){if(!(Q&&Q.isWebGLRenderTarget)){Gn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=Ct.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&st!==void 0&&(yt=yt[st]),yt){ct.bindFramebuffer(le.FRAMEBUFFER,yt);try{const Tt=Q.textures[gt],vt=Tt.format,Rt=Tt.type;if(!xt.textureFormatReadable(vt)){Gn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!xt.textureTypeReadable(Rt)){Gn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=Q.width-ke&&be>=0&&be<=Q.height-Ae&&(Q.textures.length>1&&le.readBuffer(le.COLOR_ATTACHMENT0+gt),le.readPixels(ye,be,ke,Ae,ut.convert(vt),ut.convert(Rt),Ke))}finally{const Tt=I!==null?Ct.get(I).__webglFramebuffer:null;ct.bindFramebuffer(le.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(Q,ye,be,ke,Ae,Ke,st,gt=0){if(!(Q&&Q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=Ct.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&st!==void 0&&(yt=yt[st]),yt)if(ye>=0&&ye<=Q.width-ke&&be>=0&&be<=Q.height-Ae){ct.bindFramebuffer(le.FRAMEBUFFER,yt);const Tt=Q.textures[gt],vt=Tt.format,Rt=Tt.type;if(!xt.textureFormatReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!xt.textureTypeReadable(Rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ht=le.createBuffer();le.bindBuffer(le.PIXEL_PACK_BUFFER,Ht),le.bufferData(le.PIXEL_PACK_BUFFER,Ke.byteLength,le.STREAM_READ),Q.textures.length>1&&le.readBuffer(le.COLOR_ATTACHMENT0+gt),le.readPixels(ye,be,ke,Ae,ut.convert(vt),ut.convert(Rt),0);const yn=I!==null?Ct.get(I).__webglFramebuffer:null;ct.bindFramebuffer(le.FRAMEBUFFER,yn);const cn=le.fenceSync(le.SYNC_GPU_COMMANDS_COMPLETE,0);return le.flush(),await XPe(le,cn,4),le.bindBuffer(le.PIXEL_PACK_BUFFER,Ht),le.getBufferSubData(le.PIXEL_PACK_BUFFER,0,Ke),le.deleteBuffer(Ht),le.deleteSync(cn),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Q,ye=null,be=0){const ke=Math.pow(2,-be),Ae=Math.floor(Q.image.width*ke),Ke=Math.floor(Q.image.height*ke),st=ye!==null?ye.x:0,gt=ye!==null?ye.y:0;Et.setTexture2D(Q,0),le.copyTexSubImage2D(le.TEXTURE_2D,be,0,0,st,gt,Ae,Ke),ct.unbindTexture()};const At=le.createFramebuffer(),Nt=le.createFramebuffer();this.copyTextureToTexture=function(Q,ye,be=null,ke=null,Ae=0,Ke=null){Ke===null&&(Ae!==0?(K0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=Ae,Ae=0):Ke=0);let st,gt,yt,Tt,vt,Rt,Ht,yn,cn;const Mn=Q.isCompressedTexture?Q.mipmaps[Ke]:Q.image;if(be!==null)st=be.max.x-be.min.x,gt=be.max.y-be.min.y,yt=be.isBox3?be.max.z-be.min.z:1,Tt=be.min.x,vt=be.min.y,Rt=be.isBox3?be.min.z:0;else{const Kr=Math.pow(2,-Ae);st=Math.floor(Mn.width*Kr),gt=Math.floor(Mn.height*Kr),Q.isDataArrayTexture?yt=Mn.depth:Q.isData3DTexture?yt=Math.floor(Mn.depth*Kr):yt=1,Tt=0,vt=0,Rt=0}ke!==null?(Ht=ke.x,yn=ke.y,cn=ke.z):(Ht=0,yn=0,cn=0);const Pn=ut.convert(ye.format),Xt=ut.convert(ye.type);let Bn;ye.isData3DTexture?(Et.setTexture3D(ye,0),Bn=le.TEXTURE_3D):ye.isDataArrayTexture||ye.isCompressedArrayTexture?(Et.setTexture2DArray(ye,0),Bn=le.TEXTURE_2D_ARRAY):(Et.setTexture2D(ye,0),Bn=le.TEXTURE_2D),le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,ye.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,ye.unpackAlignment);const rn=le.getParameter(le.UNPACK_ROW_LENGTH),kn=le.getParameter(le.UNPACK_IMAGE_HEIGHT),or=le.getParameter(le.UNPACK_SKIP_PIXELS),Tn=le.getParameter(le.UNPACK_SKIP_ROWS),mr=le.getParameter(le.UNPACK_SKIP_IMAGES);le.pixelStorei(le.UNPACK_ROW_LENGTH,Mn.width),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,Mn.height),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Tt),le.pixelStorei(le.UNPACK_SKIP_ROWS,vt),le.pixelStorei(le.UNPACK_SKIP_IMAGES,Rt);const dr=Q.isDataArrayTexture||Q.isData3DTexture,fr=ye.isDataArrayTexture||ye.isData3DTexture;if(Q.isDepthTexture){const Kr=Ct.get(Q),ei=Ct.get(ye),Rn=Ct.get(Kr.__renderTarget),To=Ct.get(ei.__renderTarget);ct.bindFramebuffer(le.READ_FRAMEBUFFER,Rn.__webglFramebuffer),ct.bindFramebuffer(le.DRAW_FRAMEBUFFER,To.__webglFramebuffer);for(let Ki=0;Ki<yt;Ki++)dr&&(le.framebufferTextureLayer(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ct.get(Q).__webglTexture,Ae,Rt+Ki),le.framebufferTextureLayer(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ct.get(ye).__webglTexture,Ke,cn+Ki)),le.blitFramebuffer(Tt,vt,st,gt,Ht,yn,st,gt,le.DEPTH_BUFFER_BIT,le.NEAREST);ct.bindFramebuffer(le.READ_FRAMEBUFFER,null),ct.bindFramebuffer(le.DRAW_FRAMEBUFFER,null)}else if(Ae!==0||Q.isRenderTargetTexture||Ct.has(Q)){const Kr=Ct.get(Q),ei=Ct.get(ye);ct.bindFramebuffer(le.READ_FRAMEBUFFER,At),ct.bindFramebuffer(le.DRAW_FRAMEBUFFER,Nt);for(let Rn=0;Rn<yt;Rn++)dr?le.framebufferTextureLayer(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Kr.__webglTexture,Ae,Rt+Rn):le.framebufferTexture2D(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,Kr.__webglTexture,Ae),fr?le.framebufferTextureLayer(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,ei.__webglTexture,Ke,cn+Rn):le.framebufferTexture2D(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,ei.__webglTexture,Ke),Ae!==0?le.blitFramebuffer(Tt,vt,st,gt,Ht,yn,st,gt,le.COLOR_BUFFER_BIT,le.NEAREST):fr?le.copyTexSubImage3D(Bn,Ke,Ht,yn,cn+Rn,Tt,vt,st,gt):le.copyTexSubImage2D(Bn,Ke,Ht,yn,Tt,vt,st,gt);ct.bindFramebuffer(le.READ_FRAMEBUFFER,null),ct.bindFramebuffer(le.DRAW_FRAMEBUFFER,null)}else fr?Q.isDataTexture||Q.isData3DTexture?le.texSubImage3D(Bn,Ke,Ht,yn,cn,st,gt,yt,Pn,Xt,Mn.data):ye.isCompressedArrayTexture?le.compressedTexSubImage3D(Bn,Ke,Ht,yn,cn,st,gt,yt,Pn,Mn.data):le.texSubImage3D(Bn,Ke,Ht,yn,cn,st,gt,yt,Pn,Xt,Mn):Q.isDataTexture?le.texSubImage2D(le.TEXTURE_2D,Ke,Ht,yn,st,gt,Pn,Xt,Mn.data):Q.isCompressedTexture?le.compressedTexSubImage2D(le.TEXTURE_2D,Ke,Ht,yn,Mn.width,Mn.height,Pn,Mn.data):le.texSubImage2D(le.TEXTURE_2D,Ke,Ht,yn,st,gt,Pn,Xt,Mn);le.pixelStorei(le.UNPACK_ROW_LENGTH,rn),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,kn),le.pixelStorei(le.UNPACK_SKIP_PIXELS,or),le.pixelStorei(le.UNPACK_SKIP_ROWS,Tn),le.pixelStorei(le.UNPACK_SKIP_IMAGES,mr),Ke===0&&ye.generateMipmaps&&le.generateMipmap(Bn),ct.unbindTexture()},this.initRenderTarget=function(Q){Ct.get(Q).__webglFramebuffer===void 0&&Et.setupRenderTarget(Q)},this.initTexture=function(Q){Q.isCubeTexture?Et.setTextureCube(Q,0):Q.isData3DTexture?Et.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?Et.setTexture2DArray(Q,0):Et.setTexture2D(Q,0),ct.unbindTexture()},this.resetState=function(){k=0,D=0,I=null,ct.reset(),ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ka}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Mr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Mr._getUnpackColorSpace()}}const ABe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:EC,AddEquation:Nf,AddOperation:hZ,AdditiveAnimationBlendMode:_B,AdditiveBlending:FO,AgXToneMapping:yZ,AlphaFormat:yB,AlwaysCompare:OZ,AlwaysDepth:pA,AlwaysStencilFunc:jO,AmbientLight:_Q,AnimationAction:NQ,AnimationClip:Q0,AnimationLoader:BNe,AnimationMixer:IQ,AnimationObjectGroup:s3e,AnimationUtils:INe,ArcCurve:XZ,ArrayCamera:TQ,ArrowHelper:N3e,AttachedBindMode:kO,Audio:PQ,AudioAnalyser:KNe,AudioContext:ZB,AudioListener:$Ne,AudioLoader:GNe,AxesHelper:I3e,BackSide:Wo,BasicDepthPacking:AZ,BasicShadowMap:qJ,BatchedMesh:WZ,Bone:jC,BooleanKeyframeTrack:wm,Box2:m3e,Box3:zs,Box3Helper:P3e,BoxGeometry:_m,BoxHelper:T3e,BufferAttribute:Nr,BufferGeometry:Kn,BufferGeometryLoader:CQ,ByteType:MC,Cache:Jc,Camera:t_,CameraHelper:M3e,CanvasTexture:tNe,CapsuleGeometry:GC,CatmullRomCurve3:KZ,CineonToneMapping:gZ,CircleGeometry:VC,ClampToEdgeWrapping:Ai,Clock:QB,Color:Wt,ColorKeyframeTrack:$B,ColorManagement:Mr,CompressedArrayTexture:QRe,CompressedCubeTexture:eNe,CompressedTexture:HC,CompressedTextureLoader:kNe,ConeGeometry:a_,ConstantAlphaFactor:uZ,ConstantColorFactor:lZ,Controls:F3e,CubeCamera:zZ,CubeReflectionMapping:du,CubeRefractionMapping:Kf,CubeTexture:n_,CubeTextureLoader:yQ,CubeUVReflectionMapping:_v,CubicBezierCurve:kB,CubicBezierCurve3:YZ,CubicInterpolant:pQ,CullFaceBack:OO,CullFaceFront:$J,CullFaceFrontBack:fPe,CullFaceNone:WJ,Curve:xc,CurvePath:ZZ,CustomBlending:XJ,CustomToneMapping:vZ,CylinderGeometry:o_,Cylindrical:p3e,Data3DTexture:BC,DataArrayTexture:DC,DataTexture:xl,DataTextureLoader:qB,DataUtils:Np,DecrementStencilOp:wPe,DecrementWrapStencilOp:APe,DefaultLoadingManager:vQ,DepthFormat:V0,DepthStencilFormat:W0,DepthTexture:FB,DetachedBindMode:bZ,DirectionalLight:JB,DirectionalLightHelper:C3e,DiscreteInterpolant:mQ,DodecahedronGeometry:WC,DoubleSide:fl,DstAlphaFactor:rZ,DstColorFactor:sZ,DynamicCopyUsage:jPe,DynamicDrawUsage:OPe,DynamicReadUsage:BPe,EdgesGeometry:qZ,EllipseCurve:$C,EqualCompare:PZ,EqualDepth:gA,EqualStencilFunc:TPe,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:hb,Euler:Ua,EventDispatcher:xu,ExternalTexture:DB,ExtrudeGeometry:qC,FileLoader:no,Float16BufferAttribute:NRe,Float32BufferAttribute:gn,FloatType:Ei,Fog:LC,FogExp2:kC,FramebufferTexture:ZRe,FrontSide:uu,Frustum:wv,FrustumArray:UC,GLBufferAttribute:d3e,GLSL1:zPe,GLSL3:UO,GreaterCompare:RZ,GreaterDepth:yA,GreaterEqualCompare:IZ,GreaterEqualDepth:vA,GreaterEqualStencilFunc:IPe,GreaterStencilFunc:RPe,GridHelper:A3e,Group:dd,HalfFloatType:ws,HemisphereLight:bQ,HemisphereLightHelper:S3e,IcosahedronGeometry:l_,ImageBitmapLoader:MQ,ImageLoader:wb,ImageUtils:kZ,IncrementStencilOp:_Pe,IncrementWrapStencilOp:SPe,InstancedBufferAttribute:am,InstancedBufferGeometry:EQ,InstancedInterleavedBuffer:u3e,InstancedMesh:NB,Int16BufferAttribute:PRe,Int32BufferAttribute:RRe,Int8BufferAttribute:CRe,IntType:Zb,InterleavedBuffer:i_,InterleavedBufferAttribute:Zf,Interpolant:Sv,InterpolateDiscrete:$0,InterpolateLinear:q0,InterpolateSmooth:Gw,InterpolationSamplingMode:VPe,InterpolationSamplingType:GPe,InvertStencilOp:EPe,KeepStencilOp:yp,KeyframeTrack:El,LOD:VZ,LatheGeometry:XC,Layers:Wp,LessCompare:TZ,LessDepth:mA,LessEqualCompare:SB,LessEqualDepth:om,LessEqualStencilFunc:PPe,LessStencilFunc:MPe,Light:fh,LightProbe:AQ,Line:Ad,Line3:y3e,LineBasicMaterial:Co,LineCurve:LB,LineCurve3:JZ,LineDashedMaterial:dQ,LineLoop:IB,LineSegments:yc,LinearFilter:Rr,LinearInterpolant:WB,LinearMipMapLinearFilter:LO,LinearMipMapNearestFilter:mPe,LinearMipmapLinearFilter:ml,LinearMipmapNearestFilter:a0,LinearSRGBColorSpace:hu,LinearToneMapping:pZ,LinearTransfer:mb,Loader:ro,LoaderUtils:Vf,LoadingManager:tM,LoopOnce:_Z,LoopPingPong:wZ,LoopRepeat:bB,MOUSE:gp,Material:Ss,MaterialLoader:nM,MathUtils:BZ,Matrix2:ik,Matrix3:Qn,Matrix4:Dn,MaxEquation:ZJ,Mesh:Ci,MeshBasicMaterial:da,MeshDepthMaterial:HB,MeshDistanceMaterial:GB,MeshLambertMaterial:cQ,MeshMatcapMaterial:uQ,MeshNormalMaterial:lQ,MeshPhongMaterial:oQ,MeshPhysicalMaterial:Al,MeshStandardMaterial:d_,MeshToonMaterial:aQ,MinEquation:JJ,MirroredRepeatWrapping:z0,MixOperation:fZ,MultiplyBlending:BO,MultiplyOperation:Jb,NearestFilter:js,NearestMipMapLinearFilter:pPe,NearestMipMapNearestFilter:hPe,NearestMipmapLinearFilter:Tp,NearestMipmapNearestFilter:CC,NeutralToneMapping:xZ,NeverCompare:MZ,NeverDepth:hA,NeverStencilFunc:CPe,NoBlending:dc,NoColorSpace:od,NoToneMapping:tu,NormalAnimationBlendMode:FC,NormalBlending:Gp,NotEqualCompare:NZ,NotEqualDepth:xA,NotEqualStencilFunc:NPe,NumberKeyframeTrack:cm,Object3D:wr,ObjectLoader:zNe,ObjectSpaceNormalMap:CZ,OctahedronGeometry:c_,OneFactor:eZ,OneMinusConstantAlphaFactor:dZ,OneMinusConstantColorFactor:cZ,OneMinusDstAlphaFactor:iZ,OneMinusDstColorFactor:oZ,OneMinusSrcAlphaFactor:fA,OneMinusSrcColorFactor:nZ,OrthographicCamera:nu,PCFShadowMap:AC,PCFSoftShadowMap:ax,PMREMGenerator:XO,Path:ZA,PerspectiveCamera:ki,Plane:id,PlaneGeometry:dh,PlaneHelper:R3e,PointLight:YB,PointLightHelper:_3e,Points:OB,PointsMaterial:zC,PolarGridHelper:E3e,PolyhedronGeometry:uh,PositionalAudio:XNe,PropertyBinding:Cr,PropertyMixer:RQ,QuadraticBezierCurve:jB,QuadraticBezierCurve3:UB,Quaternion:Us,QuaternionKeyframeTrack:um,QuaternionLinearInterpolant:gQ,RED_GREEN_RGTC2_Format:$A,RED_RGTC1_Format:VA,REVISION:Yb,RGBADepthPacking:EZ,RGBAFormat:$i,RGBAIntegerFormat:OC,RGBA_ASTC_10x10_Format:LA,RGBA_ASTC_10x5_Format:DA,RGBA_ASTC_10x6_Format:BA,RGBA_ASTC_10x8_Format:kA,RGBA_ASTC_12x10_Format:jA,RGBA_ASTC_12x12_Format:UA,RGBA_ASTC_4x4_Format:MA,RGBA_ASTC_5x4_Format:TA,RGBA_ASTC_5x5_Format:PA,RGBA_ASTC_6x5_Format:RA,RGBA_ASTC_6x6_Format:NA,RGBA_ASTC_8x5_Format:IA,RGBA_ASTC_8x6_Format:OA,RGBA_ASTC_8x8_Format:FA,RGBA_BPTC_Format:zA,RGBA_ETC2_EAC_Format:CA,RGBA_PVRTC_2BPPV1_Format:SA,RGBA_PVRTC_4BPPV1_Format:wA,RGBA_S3TC_DXT1_Format:cx,RGBA_S3TC_DXT3_Format:ux,RGBA_S3TC_DXT5_Format:dx,RGBDepthPacking:vPe,RGBFormat:xB,RGBIntegerFormat:gPe,RGB_BPTC_SIGNED_Format:HA,RGB_BPTC_UNSIGNED_Format:GA,RGB_ETC1_Format:AA,RGB_ETC2_Format:EA,RGB_PVRTC_2BPPV1_Format:_A,RGB_PVRTC_4BPPV1_Format:bA,RGB_S3TC_DXT1_Format:lx,RGDepthPacking:yPe,RGFormat:NC,RGIntegerFormat:IC,RawShaderMaterial:sQ,Ray:bm,Raycaster:rk,RectAreaLight:wQ,RedFormat:Qb,RedIntegerFormat:e_,ReinhardToneMapping:mZ,RenderTarget:EB,RenderTarget3D:a3e,RepeatWrapping:Yf,ReplaceStencilOp:bPe,ReverseSubtractEquation:YJ,RingGeometry:KC,SIGNED_RED_GREEN_RGTC2_Format:qA,SIGNED_RED_RGTC1_Format:WA,SRGBColorSpace:zo,SRGBTransfer:Gr,Scene:r_,ShaderChunk:cr,ShaderLib:sc,ShaderMaterial:Xo,ShadowMaterial:iQ,Shape:$p,ShapeGeometry:YC,ShapePath:O3e,ShapeUtils:cc,ShortType:TC,Skeleton:s_,SkeletonHelper:b3e,SkinnedMesh:RB,Source:kf,Sphere:Hs,SphereGeometry:u_,Spherical:$O,SphericalHarmonics3:SQ,SplineCurve:zB,SpotLight:KB,SpotLightHelper:x3e,Sprite:GZ,SpriteMaterial:PB,SrcAlphaFactor:dA,SrcAlphaSaturateFactor:aZ,SrcColorFactor:tZ,StaticCopyUsage:LPe,StaticDrawUsage:gb,StaticReadUsage:DPe,StereoCamera:VNe,StreamCopyUsage:UPe,StreamDrawUsage:FPe,StreamReadUsage:kPe,StringKeyframeTrack:Sm,SubtractEquation:KJ,SubtractiveBlending:DO,TOUCH:vp,TangentSpaceNormalMap:ch,TetrahedronGeometry:JC,Texture:Ur,TextureLoader:xQ,TextureUtils:j3e,Timer:f3e,TimestampQuery:HPe,TorusGeometry:ZC,TorusKnotGeometry:QC,Triangle:ca,TriangleFanDrawMode:XA,TriangleStripDrawMode:wB,TrianglesDrawMode:SZ,TubeGeometry:eM,UVMapping:Xf,Uint16BufferAttribute:CB,Uint32BufferAttribute:MB,Uint8BufferAttribute:MRe,Uint8ClampedBufferAttribute:TRe,Uniform:nk,UniformsGroup:c3e,UniformsLib:Zt,UniformsUtils:UZ,UnsignedByteType:qo,UnsignedInt101111Type:vB,UnsignedInt248Type:G0,UnsignedInt5999Type:gB,UnsignedIntType:fu,UnsignedShort4444Type:PC,UnsignedShort5551Type:RC,UnsignedShortType:H0,VSMShadowMap:tc,Vector2:dt,Vector3:de,Vector4:Pr,VectorKeyframeTrack:dm,VideoFrameTexture:JRe,VideoTexture:$Z,WebGL3DRenderTarget:mRe,WebGLArrayRenderTarget:pRe,WebGLCoordinateSystem:ka,WebGLCubeRenderTarget:TB,WebGLRenderTarget:wl,WebGLRenderer:sk,WebGLUtils:jQ,WebGPUCoordinateSystem:X0,WebXRController:Vw,WireframeGeometry:rQ,WrapAroundEnding:pb,ZeroCurvatureEnding:Pp,ZeroFactor:QJ,ZeroSlopeEnding:Rp,ZeroStencilOp:xPe,createCanvasElement:DZ,error:Gn,getConsoleFunction:qPe,log:yb,setConsoleFunction:$Pe,warn:Qt,warnOnce:K0},Symbol.toStringTag,{value:"Module"}));var QN={exports:{}},wf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DG;function EBe(){return DG||(DG=1,wf.ConcurrentRoot=1,wf.ContinuousEventPriority=4,wf.DefaultEventPriority=16,wf.DiscreteEventPriority=1,wf.IdleEventPriority=536870912,wf.LegacyRoot=0),wf}var BG;function CBe(){return BG||(BG=1,QN.exports=EBe()),QN.exports}var Gg=CBe();function MBe(n){let e;const t=new Set,r=(u,d)=>{const c=typeof u=="function"?u(e):u;if(c!==e){const f=e;e=d?c:Object.assign({},e,c),t.forEach(m=>m(e,f))}},i=()=>e,s=(u,d=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function m(){const v=d(e);if(!c(f,v)){const b=f;u(f=v,b)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,d,c)=>d||c?s(u,d,c):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const TBe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),kG=TBe?B.useEffect:B.useLayoutEffect;function UQ(n){const e=typeof n=="function"?MBe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(y=>y+1,0),o=e.getState(),a=B.useRef(o),l=B.useRef(r),u=B.useRef(i),d=B.useRef(!1),c=B.useRef();c.current===void 0&&(c.current=r(o));let f,m=!1;(a.current!==o||l.current!==r||u.current!==i||d.current)&&(f=r(o),m=!i(c.current,f)),kG(()=>{m&&(c.current=f),a.current=o,l.current=r,u.current=i,d.current=!1});const v=B.useRef(o);kG(()=>{const y=()=>{try{const A=e.getState(),E=l.current(A);u.current(c.current,E)||(a.current=A,c.current=E,s())}catch{d.current=!0,s()}},w=e.subscribe(y);return e.getState()!==v.current&&y(),w},[]);const b=m?f:c.current;return B.useDebugValue(b),b};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const PBe=n=>typeof n=="object"&&typeof n.then=="function",Op=[];function zQ(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function HQ(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Op)if(zQ(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Op.indexOf(i);s!==-1&&Op.splice(s,1)},promise:(PBe(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Op.push(i),!t)throw i.promise}const RBe=(n,e,t)=>HQ(n,e,!1,t),NBe=(n,e,t)=>void HQ(n,e,!0,t),IBe=n=>{if(n===void 0||n.length===0)Op.splice(0,Op.length);else{const e=Op.find(t=>zQ(n,t.keys,t.equal));e&&e.remove()}};var e3={exports:{}},t3={exports:{}},n3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LG;function OBe(){return LG||(LG=1,(function(n){function e(H,Z){var te=H.length;H.push(Z);e:for(;0<te;){var Y=te-1>>>1,ae=H[Y];if(0<i(ae,Z))H[Y]=Z,H[te]=ae,te=Y;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],te=H.pop();if(te!==Z){H[0]=te;e:for(var Y=0,ae=H.length,we=ae>>>1;Y<we;){var Fe=2*(Y+1)-1,qe=H[Fe],fe=Fe+1,xe=H[fe];if(0>i(qe,te))fe<ae&&0>i(xe,qe)?(H[Y]=xe,H[fe]=te,Y=fe):(H[Y]=qe,H[Fe]=te,Y=Fe);else if(fe<ae&&0>i(xe,te))H[Y]=xe,H[fe]=te,Y=fe;else break e}}return Z}function i(H,Z){var te=H.sortIndex-Z.sortIndex;return te!==0?te:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=H)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function C(H){if(b=!1,E(H),!v)if(t(l)!==null)v=!0,V(M);else{var Z=t(u);Z!==null&&ee(C,Z.startTime-H)}}function M(H,Z){v=!1,b&&(b=!1,w(k),k=-1),m=!0;var te=f;try{for(E(Z),c=t(l);c!==null&&(!(c.expirationTime>Z)||H&&!L());){var Y=c.callback;if(typeof Y=="function"){c.callback=null,f=c.priorityLevel;var ae=Y(c.expirationTime<=Z);Z=n.unstable_now(),typeof ae=="function"?c.callback=ae:c===t(l)&&r(l),E(Z)}else r(l);c=t(l)}if(c!==null)var we=!0;else{var Fe=t(u);Fe!==null&&ee(C,Fe.startTime-Z),we=!1}return we}finally{c=null,f=te,m=!1}}var R=!1,O=null,k=-1,D=5,I=-1;function L(){return!(n.unstable_now()-I<D)}function W(){if(O!==null){var H=n.unstable_now();I=H;var Z=!0;try{Z=O(!0,H)}finally{Z?q():(R=!1,O=null)}}else R=!1}var q;if(typeof A=="function")q=function(){A(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=W,q=function(){ne.postMessage(null)}}else q=function(){y(W,0)};function V(H){O=H,R||(R=!0,q())}function ee(H,Z){k=y(function(){H(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,V(M))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var te=f;f=Z;try{return H()}finally{f=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=f;f=H;try{return Z()}finally{f=te}},n.unstable_scheduleCallback=function(H,Z,te){var Y=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Y+te:Y):te=Y,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,H={id:d++,callback:Z,priorityLevel:H,startTime:te,expirationTime:ae,sortIndex:-1},te>Y?(H.sortIndex=te,e(u,H),t(l)===null&&H===t(u)&&(b?(w(k),k=-1):b=!0,ee(C,te-Y))):(H.sortIndex=ae,e(l,H),v||m||(v=!0,V(M))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var Z=f;return function(){var te=f;f=Z;try{return H.apply(this,arguments)}finally{f=te}}}})(n3)),n3}var jG;function FBe(){return jG||(jG=1,t3.exports=OBe()),t3.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3,UG;function DBe(){return UG||(UG=1,r3=function(e){var t={},r=sE(),i=FBe(),s=Object.assign;function o(x){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+x,T=1;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),M=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}function O(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case c:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case v:return(x.displayName||"Context")+".Consumer";case m:return(x._context.displayName||"Context")+".Provider";case b:var _=x.render;return x=x.displayName,x||(x=_.displayName||_.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case A:return _=x.displayName||null,_!==null?_:O(x.type)||"Memo";case E:_=x._payload,x=x._init;try{return O(x(_))}catch{}}return null}function k(x){var _=x.type;switch(x.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=_.render,x=x.displayName||x.name||"",_.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(_);case 8:return _===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function D(x){var _=x,T=x;if(x.alternate)for(;_.return;)_=_.return;else{x=_;do _=x,(_.flags&4098)!==0&&(T=_.return),x=_.return;while(x)}return _.tag===3?T:null}function I(x){if(D(x)!==x)throw Error(o(188))}function L(x){var _=x.alternate;if(!_){if(_=D(x),_===null)throw Error(o(188));return _!==x?null:x}for(var T=x,F=_;;){var z=T.return;if(z===null)break;var X=z.alternate;if(X===null){if(F=z.return,F!==null){T=F;continue}break}if(z.child===X.child){for(X=z.child;X;){if(X===T)return I(z),x;if(X===F)return I(z),_;X=X.sibling}throw Error(o(188))}if(T.return!==F.return)T=z,F=X;else{for(var ge=!1,Ne=z.child;Ne;){if(Ne===T){ge=!0,T=z,F=X;break}if(Ne===F){ge=!0,F=z,T=X;break}Ne=Ne.sibling}if(!ge){for(Ne=X.child;Ne;){if(Ne===T){ge=!0,T=X,F=z;break}if(Ne===F){ge=!0,F=X,T=z;break}Ne=Ne.sibling}if(!ge)throw Error(o(189))}}if(T.alternate!==F)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?x:_}function W(x){return x=L(x),x!==null?q(x):null}function q(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var _=q(x);if(_!==null)return _;x=x.sibling}return null}function K(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var _=K(x);if(_!==null)return _}x=x.sibling}return null}var ne=Array.isArray,V=e.getPublicInstance,ee=e.getRootHostContext,H=e.getChildHostContext,Z=e.prepareForCommit,te=e.resetAfterCommit,Y=e.createInstance,ae=e.appendInitialChild,we=e.finalizeInitialChildren,Fe=e.prepareUpdate,qe=e.shouldSetTextContent,fe=e.createTextInstance,xe=e.scheduleTimeout,Pe=e.cancelTimeout,Te=e.noTimeout,je=e.isPrimaryRenderer,rt=e.supportsMutation,Ue=e.supportsPersistence,ot=e.supportsHydration,De=e.getInstanceFromNode,le=e.preparePortalMount,et=e.getCurrentEventPriority,at=e.detachDeletedInstance,xt=e.supportsMicrotasks,ct=e.scheduleMicrotask,Ut=e.supportsTestSelectors,Ct=e.findFiberRoot,Et=e.getBoundingRect,ce=e.getTextContent,ie=e.isHiddenSubtree,Ie=e.matchAccessibilityRole,Je=e.setFocusIfFocusable,ft=e.setupIntersectionObserver,Xe=e.appendChild,Yt=e.appendChildToContainer,Dt=e.commitTextUpdate,nn=e.commitMount,Kt=e.commitUpdate,ht=e.insertBefore,pt=e.insertInContainerBefore,pn=e.removeChild,Se=e.removeChildFromContainer,Le=e.resetTextContent,ut=e.hideInstance,ve=e.hideTextInstance,Be=e.unhideInstance,mt=e.unhideTextInstance,St=e.clearContainer,_t=e.cloneInstance,ze=e.createContainerChildSet,wt=e.appendChildToContainerChildSet,qt=e.finalizeContainerChildren,wn=e.replaceContainerChildren,Cn=e.cloneHiddenInstance,zn=e.cloneHiddenTextInstance,sr=e.canHydrateInstance,ji=e.canHydrateTextInstance,Qr=e.canHydrateSuspenseInstance,Sr=e.isSuspenseInstancePending,Dr=e.isSuspenseInstanceFallback,Xr=e.registerSuspenseInstanceRetry,er=e.getNextHydratableSibling,Sn=e.getFirstHydratableChild,Mo=e.getFirstHydratableChildWithinContainer,bc=e.getFirstHydratableChildWithinSuspenseInstance,J=e.hydrateInstance,oe=e.hydrateTextInstance,Ee=e.hydrateSuspenseInstance,Ge=e.getNextHydratableInstanceAfterSuspenseInstance,tt=e.commitHydratedContainer,Qe=e.commitHydratedSuspenseInstance,It=e.clearSuspenseBoundary,At=e.clearSuspenseBoundaryFromContainer,Nt=e.shouldDeleteUnhydratedTailInstances,Q=e.didNotMatchHydratedContainerTextInstance,ye=e.didNotMatchHydratedTextInstance,be;function ke(x){if(be===void 0)try{throw Error()}catch(T){var _=T.stack.trim().match(/\n( *(at )?)/);be=_&&_[1]||""}return`
`+be+x}var Ae=!1;function Ke(x,_){if(!x||Ae)return"";Ae=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(kt){var F=kt}Reflect.construct(x,[],_)}else{try{_.call()}catch(kt){F=kt}x.call(_.prototype)}else{try{throw Error()}catch(kt){F=kt}x()}}catch(kt){if(kt&&F&&typeof kt.stack=="string"){for(var z=kt.stack.split(`
`),X=F.stack.split(`
`),ge=z.length-1,Ne=X.length-1;1<=ge&&0<=Ne&&z[ge]!==X[Ne];)Ne--;for(;1<=ge&&0<=Ne;ge--,Ne--)if(z[ge]!==X[Ne]){if(ge!==1||Ne!==1)do if(ge--,Ne--,0>Ne||z[ge]!==X[Ne]){var it=`
`+z[ge].replace(" at new "," at ");return x.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",x.displayName)),it}while(1<=ge&&0<=Ne);break}}}finally{Ae=!1,Error.prepareStackTrace=T}return(x=x?x.displayName||x.name:"")?ke(x):""}var st=Object.prototype.hasOwnProperty,gt=[],yt=-1;function Tt(x){return{current:x}}function vt(x){0>yt||(x.current=gt[yt],gt[yt]=null,yt--)}function Rt(x,_){yt++,gt[yt]=x.current,x.current=_}var Ht={},yn=Tt(Ht),cn=Tt(!1),Mn=Ht;function Pn(x,_){var T=x.type.contextTypes;if(!T)return Ht;var F=x.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===_)return F.__reactInternalMemoizedMaskedChildContext;var z={},X;for(X in T)z[X]=_[X];return F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=_,x.__reactInternalMemoizedMaskedChildContext=z),z}function Xt(x){return x=x.childContextTypes,x!=null}function Bn(){vt(cn),vt(yn)}function rn(x,_,T){if(yn.current!==Ht)throw Error(o(168));Rt(yn,_),Rt(cn,T)}function kn(x,_,T){var F=x.stateNode;if(_=_.childContextTypes,typeof F.getChildContext!="function")return T;F=F.getChildContext();for(var z in F)if(!(z in _))throw Error(o(108,k(x)||"Unknown",z));return s({},T,F)}function or(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Ht,Mn=yn.current,Rt(yn,x),Rt(cn,cn.current),!0}function Tn(x,_,T){var F=x.stateNode;if(!F)throw Error(o(169));T?(x=kn(x,_,Mn),F.__reactInternalMemoizedMergedChildContext=x,vt(cn),vt(yn),Rt(yn,x)):vt(cn),Rt(cn,T)}var mr=Math.clz32?Math.clz32:Kr,dr=Math.log,fr=Math.LN2;function Kr(x){return x>>>=0,x===0?32:31-(dr(x)/fr|0)|0}var ei=64,Rn=4194304;function To(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function Ki(x,_){var T=x.pendingLanes;if(T===0)return 0;var F=0,z=x.suspendedLanes,X=x.pingedLanes,ge=T&268435455;if(ge!==0){var Ne=ge&~z;Ne!==0?F=To(Ne):(X&=ge,X!==0&&(F=To(X)))}else ge=T&~z,ge!==0?F=To(ge):X!==0&&(F=To(X));if(F===0)return 0;if(_!==0&&_!==F&&(_&z)===0&&(z=F&-F,X=_&-_,z>=X||z===16&&(X&4194240)!==0))return _;if((F&4)!==0&&(F|=T&16),_=x.entangledLanes,_!==0)for(x=x.entanglements,_&=F;0<_;)T=31-mr(_),z=1<<T,F|=x[T],_&=~z;return F}function Id(x,_){switch(x){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ph(x,_){for(var T=x.suspendedLanes,F=x.pingedLanes,z=x.expirationTimes,X=x.pendingLanes;0<X;){var ge=31-mr(X),Ne=1<<ge,it=z[ge];it===-1?((Ne&T)===0||(Ne&F)!==0)&&(z[ge]=Id(Ne,_)):it<=_&&(x.expiredLanes|=Ne),X&=~Ne}}function za(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Od(x){for(var _=[],T=0;31>T;T++)_.push(x);return _}function Cl(x,_,T){x.pendingLanes|=_,_!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,_=31-mr(_),x[_]=T}function Fd(x,_){var T=x.pendingLanes&~_;x.pendingLanes=_,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=_,x.mutableReadLanes&=_,x.entangledLanes&=_,_=x.entanglements;var F=x.eventTimes;for(x=x.expirationTimes;0<T;){var z=31-mr(T),X=1<<z;_[z]=0,F[z]=-1,x[z]=-1,T&=~X}}function Ko(x,_){var T=x.entangledLanes|=_;for(x=x.entanglements;T;){var F=31-mr(T),z=1<<F;z&_|x[F]&_&&(x[F]|=_),T&=~z}}var Xn=0;function Vs(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Ml=i.unstable_scheduleCallback,_c=i.unstable_cancelCallback,Ha=i.unstable_shouldYield,Tv=i.unstable_requestPaint,si=i.unstable_now,Ga=i.unstable_ImmediatePriority,Am=i.unstable_UserBlockingPriority,Va=i.unstable_NormalPriority,Ts=i.unstable_IdlePriority,bu=null,Yo=null;function wc(x){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(bu,x,void 0,(x.current.flags&128)===128)}catch{}}function Sc(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var Ui=typeof Object.is=="function"?Object.is:Sc,Ps=null,va=!1,Dd=!1;function Ac(x){Ps===null?Ps=[x]:Ps.push(x)}function Bd(x){va=!0,Ac(x)}function io(){if(!Dd&&Ps!==null){Dd=!0;var x=0,_=Xn;try{var T=Ps;for(Xn=1;x<T.length;x++){var F=T[x];do F=F(!0);while(F!==null)}Ps=null,va=!1}catch(z){throw Ps!==null&&(Ps=Ps.slice(x+1)),Ml(Ga,io),z}finally{Xn=_,Dd=!1}}return null}var Ec=a.ReactCurrentBatchConfig;function so(x,_){if(Ui(x,_))return!0;if(typeof x!="object"||x===null||typeof _!="object"||_===null)return!1;var T=Object.keys(x),F=Object.keys(_);if(T.length!==F.length)return!1;for(F=0;F<T.length;F++){var z=T[F];if(!st.call(_,z)||!Ui(x[z],_[z]))return!1}return!0}function kd(x){switch(x.tag){case 5:return ke(x.type);case 16:return ke("Lazy");case 13:return ke("Suspense");case 19:return ke("SuspenseList");case 0:case 2:case 15:return x=Ke(x.type,!1),x;case 11:return x=Ke(x.type.render,!1),x;case 1:return x=Ke(x.type,!0),x;default:return""}}function Rs(x,_){if(x&&x.defaultProps){_=s({},_),x=x.defaultProps;for(var T in x)_[T]===void 0&&(_[T]=x[T]);return _}return _}var _u=Tt(null),Jo=null,Zo=null,Ld=null;function Yi(){Ld=Zo=Jo=null}function Tl(x,_,T){je?(Rt(_u,_._currentValue),_._currentValue=T):(Rt(_u,_._currentValue2),_._currentValue2=T)}function wu(x){var _=_u.current;vt(_u),je?x._currentValue=_:x._currentValue2=_}function ya(x,_,T){for(;x!==null;){var F=x.alternate;if((x.childLanes&_)!==_?(x.childLanes|=_,F!==null&&(F.childLanes|=_)):F!==null&&(F.childLanes&_)!==_&&(F.childLanes|=_),x===T)break;x=x.return}}function Wa(x,_){Jo=x,Ld=Zo=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&_)!==0&&(es=!0),x.firstContext=null)}function ds(x){var _=je?x._currentValue:x._currentValue2;if(Ld!==x)if(x={context:x,memoizedValue:_,next:null},Zo===null){if(Jo===null)throw Error(o(308));Zo=x,Jo.dependencies={lanes:0,firstContext:x}}else Zo=Zo.next=x;return _}var oo=null,ao=!1;function Cc(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(x,_){x=x.updateQueue,_.updateQueue===x&&(_.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Qo(x,_){return{eventTime:x,lane:_,tag:0,payload:null,callback:null,next:null}}function $a(x,_){var T=x.updateQueue;T!==null&&(T=T.shared,bi!==null&&(x.mode&1)!==0&&(Zn&2)===0?(x=T.interleaved,x===null?(_.next=_,oo===null?oo=[T]:oo.push(T)):(_.next=x.next,x.next=_),T.interleaved=_):(x=T.pending,x===null?_.next=_:(_.next=x.next,x.next=_),T.pending=_))}function jd(x,_,T){if(_=_.updateQueue,_!==null&&(_=_.shared,(T&4194240)!==0)){var F=_.lanes;F&=x.pendingLanes,T|=F,_.lanes=T,Ko(x,T)}}function Mc(x,_){var T=x.updateQueue,F=x.alternate;if(F!==null&&(F=F.updateQueue,T===F)){var z=null,X=null;if(T=T.firstBaseUpdate,T!==null){do{var ge={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};X===null?z=X=ge:X=X.next=ge,T=T.next}while(T!==null);X===null?z=X=_:X=X.next=_}else z=X=_;T={baseState:F.baseState,firstBaseUpdate:z,lastBaseUpdate:X,shared:F.shared,effects:F.effects},x.updateQueue=T;return}x=T.lastBaseUpdate,x===null?T.firstBaseUpdate=_:x.next=_,T.lastBaseUpdate=_}function Ud(x,_,T,F){var z=x.updateQueue;ao=!1;var X=z.firstBaseUpdate,ge=z.lastBaseUpdate,Ne=z.shared.pending;if(Ne!==null){z.shared.pending=null;var it=Ne,kt=it.next;it.next=null,ge===null?X=kt:ge.next=kt,ge=it;var an=x.alternate;an!==null&&(an=an.updateQueue,Ne=an.lastBaseUpdate,Ne!==ge&&(Ne===null?an.firstBaseUpdate=kt:Ne.next=kt,an.lastBaseUpdate=it))}if(X!==null){var $n=z.baseState;ge=0,an=kt=it=null,Ne=X;do{var En=Ne.lane,tr=Ne.eventTime;if((F&En)===En){an!==null&&(an=an.next={eventTime:tr,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var tn=x,gs=Ne;switch(En=_,tr=T,gs.tag){case 1:if(tn=gs.payload,typeof tn=="function"){$n=tn.call(tr,$n,En);break e}$n=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=gs.payload,En=typeof tn=="function"?tn.call(tr,$n,En):tn,En==null)break e;$n=s({},$n,En);break e;case 2:ao=!0}}Ne.callback!==null&&Ne.lane!==0&&(x.flags|=64,En=z.effects,En===null?z.effects=[Ne]:En.push(Ne))}else tr={eventTime:tr,lane:En,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},an===null?(kt=an=tr,it=$n):an=an.next=tr,ge|=En;if(Ne=Ne.next,Ne===null){if(Ne=z.shared.pending,Ne===null)break;En=Ne,Ne=En.next,En.next=null,z.lastBaseUpdate=En,z.shared.pending=null}}while(!0);if(an===null&&(it=$n),z.baseState=it,z.firstBaseUpdate=kt,z.lastBaseUpdate=an,_=z.shared.interleaved,_!==null){z=_;do ge|=z.lane,z=z.next;while(z!==_)}else X===null&&(z.shared.lanes=0);Ja|=ge,x.lanes=ge,x.memoizedState=$n}}function Em(x,_,T){if(x=_.effects,_.effects=null,x!==null)for(_=0;_<x.length;_++){var F=x[_],z=F.callback;if(z!==null){if(F.callback=null,F=T,typeof z!="function")throw Error(o(191,z));z.call(F)}}}var Cm=new r.Component().refs;function Tc(x,_,T,F){_=x.memoizedState,T=T(F,_),T=T==null?_:s({},_,T),x.memoizedState=T,x.lanes===0&&(x.updateQueue.baseState=T)}var zd={isMounted:function(x){return(x=x._reactInternals)?D(x)===x:!1},enqueueSetState:function(x,_,T){x=x._reactInternals;var F=Er(),z=Ea(x),X=Qo(F,z);X.payload=_,T!=null&&(X.callback=T),$a(x,X),_=Fs(x,z,F),_!==null&&jd(_,x,z)},enqueueReplaceState:function(x,_,T){x=x._reactInternals;var F=Er(),z=Ea(x),X=Qo(F,z);X.tag=1,X.payload=_,T!=null&&(X.callback=T),$a(x,X),_=Fs(x,z,F),_!==null&&jd(_,x,z)},enqueueForceUpdate:function(x,_){x=x._reactInternals;var T=Er(),F=Ea(x),z=Qo(T,F);z.tag=2,_!=null&&(z.callback=_),$a(x,z),_=Fs(x,F,T),_!==null&&jd(_,x,F)}};function gh(x,_,T,F,z,X,ge){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(F,X,ge):_.prototype&&_.prototype.isPureReactComponent?!so(T,F)||!so(z,X):!0}function Mm(x,_,T){var F=!1,z=Ht,X=_.contextType;return typeof X=="object"&&X!==null?X=ds(X):(z=Xt(_)?Mn:yn.current,F=_.contextTypes,X=(F=F!=null)?Pn(x,z):Ht),_=new _(T,X),x.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=zd,x.stateNode=_,_._reactInternals=x,F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=z,x.__reactInternalMemoizedMaskedChildContext=X),_}function vh(x,_,T,F){x=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(T,F),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(T,F),_.state!==x&&zd.enqueueReplaceState(_,_.state,null)}function Hd(x,_,T,F){var z=x.stateNode;z.props=T,z.state=x.memoizedState,z.refs=Cm,Cc(x);var X=_.contextType;typeof X=="object"&&X!==null?z.context=ds(X):(X=Xt(_)?Mn:yn.current,z.context=Pn(x,X)),z.state=x.memoizedState,X=_.getDerivedStateFromProps,typeof X=="function"&&(Tc(x,_,X,T),z.state=x.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(_=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),_!==z.state&&zd.enqueueReplaceState(z,z.state,null),Ud(x,T,z,F),z.state=x.memoizedState),typeof z.componentDidMount=="function"&&(x.flags|=4194308)}var P=[],U=0,$=null,re=0,he=[],me=0,pe=null,Ce=1,Ve="";function bt(x,_){P[U++]=re,P[U++]=$,$=x,re=_}function Vt(x,_,T){he[me++]=Ce,he[me++]=Ve,he[me++]=pe,pe=x;var F=Ce;x=Ve;var z=32-mr(F)-1;F&=~(1<<z),T+=1;var X=32-mr(_)+z;if(30<X){var ge=z-z%5;X=(F&(1<<ge)-1).toString(32),F>>=ge,z-=ge,Ce=1<<32-mr(_)+z|T<<z|F,Ve=X+x}else Ce=1<<X|T<<z|F,Ve=x}function An(x){x.return!==null&&(bt(x,1),Vt(x,1,0))}function vn(x){for(;x===$;)$=P[--U],P[U]=null,re=P[--U],P[U]=null;for(;x===pe;)pe=he[--me],he[me]=null,Ve=he[--me],he[me]=null,Ce=he[--me],he[me]=null}var jt=null,on=null,dn=!1,Ar=!1,ar=null;function yi(x,_){var T=Do(5,null,null,0);T.elementType="DELETED",T.stateNode=_,T.return=x,_=x.deletions,_===null?(x.deletions=[T],x.flags|=16):_.push(T)}function Ns(x,_){switch(x.tag){case 5:return _=sr(_,x.type,x.pendingProps),_!==null?(x.stateNode=_,jt=x,on=Sn(_),!0):!1;case 6:return _=ji(_,x.pendingProps),_!==null?(x.stateNode=_,jt=x,on=null,!0):!1;case 13:if(_=Qr(_),_!==null){var T=pe!==null?{id:Ce,overflow:Ve}:null;return x.memoizedState={dehydrated:_,treeContext:T,retryLane:1073741824},T=Do(18,null,null,0),T.stateNode=_,T.return=x,x.child=T,jt=x,on=null,!0}return!1;default:return!1}}function zi(x){return(x.mode&1)!==0&&(x.flags&128)===0}function Jn(x){if(dn){var _=on;if(_){var T=_;if(!Ns(x,_)){if(zi(x))throw Error(o(418));_=er(T);var F=jt;_&&Ns(x,_)?yi(F,T):(x.flags=x.flags&-4097|2,dn=!1,jt=x)}}else{if(zi(x))throw Error(o(418));x.flags=x.flags&-4097|2,dn=!1,jt=x}}}function Mi(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;jt=x}function lo(x){if(!ot||x!==jt)return!1;if(!dn)return Mi(x),dn=!0,!1;if(x.tag!==3&&(x.tag!==5||Nt(x.type)&&!qe(x.type,x.memoizedProps))){var _=on;if(_){if(zi(x)){for(x=on;x;)x=er(x);throw Error(o(418))}for(;_;)yi(x,_),_=er(_)}}if(Mi(x),x.tag===13){if(!ot)throw Error(o(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));on=Ge(x)}else on=jt?er(x.stateNode):null;return!0}function Pc(){ot&&(on=jt=null,Ar=dn=!1)}function Gd(x){ar===null?ar=[x]:ar.push(x)}function Rc(x,_,T){if(x=T.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var F=T.stateNode}if(!F)throw Error(o(147,x));var z=F,X=""+x;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===X?_.ref:(_=function(ge){var Ne=z.refs;Ne===Cm&&(Ne=z.refs={}),ge===null?delete Ne[X]:Ne[X]=ge},_._stringRef=X,_)}if(typeof x!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,x))}return x}function qa(x,_){throw x=Object.prototype.toString.call(_),Error(o(31,x==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":x))}function Nc(x){var _=x._init;return _(x._payload)}function Su(x){function _($e,Oe){if(x){var nt=$e.deletions;nt===null?($e.deletions=[Oe],$e.flags|=16):nt.push(Oe)}}function T($e,Oe){if(!x)return null;for(;Oe!==null;)_($e,Oe),Oe=Oe.sibling;return null}function F($e,Oe){for($e=new Map;Oe!==null;)Oe.key!==null?$e.set(Oe.key,Oe):$e.set(Oe.index,Oe),Oe=Oe.sibling;return $e}function z($e,Oe){return $e=Hl($e,Oe),$e.index=0,$e.sibling=null,$e}function X($e,Oe,nt){return $e.index=nt,x?(nt=$e.alternate,nt!==null?(nt=nt.index,nt<Oe?($e.flags|=2,Oe):nt):($e.flags|=2,Oe)):($e.flags|=1048576,Oe)}function ge($e){return x&&$e.alternate===null&&($e.flags|=2),$e}function Ne($e,Oe,nt,Jt){return Oe===null||Oe.tag!==6?(Oe=eg(nt,$e.mode,Jt),Oe.return=$e,Oe):(Oe=z(Oe,nt),Oe.return=$e,Oe)}function it($e,Oe,nt,Jt){var bn=nt.type;return bn===d?an($e,Oe,nt.props.children,Jt,nt.key):Oe!==null&&(Oe.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===E&&Nc(bn)===Oe.type)?(Jt=z(Oe,nt.props),Jt.ref=Rc($e,Oe,nt),Jt.return=$e,Jt):(Jt=Qm(nt.type,nt.key,nt.props,null,$e.mode,Jt),Jt.ref=Rc($e,Oe,nt),Jt.return=$e,Jt)}function kt($e,Oe,nt,Jt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==nt.containerInfo||Oe.stateNode.implementation!==nt.implementation?(Oe=tg(nt,$e.mode,Jt),Oe.return=$e,Oe):(Oe=z(Oe,nt.children||[]),Oe.return=$e,Oe)}function an($e,Oe,nt,Jt,bn){return Oe===null||Oe.tag!==7?(Oe=Wu(nt,$e.mode,Jt,bn),Oe.return=$e,Oe):(Oe=z(Oe,nt),Oe.return=$e,Oe)}function $n($e,Oe,nt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=eg(""+Oe,$e.mode,nt),Oe.return=$e,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return nt=Qm(Oe.type,Oe.key,Oe.props,null,$e.mode,nt),nt.ref=Rc($e,null,Oe),nt.return=$e,nt;case u:return Oe=tg(Oe,$e.mode,nt),Oe.return=$e,Oe;case E:var Jt=Oe._init;return $n($e,Jt(Oe._payload),nt)}if(ne(Oe)||R(Oe))return Oe=Wu(Oe,$e.mode,nt,null),Oe.return=$e,Oe;qa($e,Oe)}return null}function En($e,Oe,nt,Jt){var bn=Oe!==null?Oe.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number")return bn!==null?null:Ne($e,Oe,""+nt,Jt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case l:return nt.key===bn?it($e,Oe,nt,Jt):null;case u:return nt.key===bn?kt($e,Oe,nt,Jt):null;case E:return bn=nt._init,En($e,Oe,bn(nt._payload),Jt)}if(ne(nt)||R(nt))return bn!==null?null:an($e,Oe,nt,Jt,null);qa($e,nt)}return null}function tr($e,Oe,nt,Jt,bn){if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number")return $e=$e.get(nt)||null,Ne(Oe,$e,""+Jt,bn);if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case l:return $e=$e.get(Jt.key===null?nt:Jt.key)||null,it(Oe,$e,Jt,bn);case u:return $e=$e.get(Jt.key===null?nt:Jt.key)||null,kt(Oe,$e,Jt,bn);case E:var Yn=Jt._init;return tr($e,Oe,nt,Yn(Jt._payload),bn)}if(ne(Jt)||R(Jt))return $e=$e.get(nt)||null,an(Oe,$e,Jt,bn,null);qa(Oe,Jt)}return null}function tn($e,Oe,nt,Jt){for(var bn=null,Yn=null,qn=Oe,br=Oe=0,Pi=null;qn!==null&&br<nt.length;br++){qn.index>br?(Pi=qn,qn=null):Pi=qn.sibling;var xr=En($e,qn,nt[br],Jt);if(xr===null){qn===null&&(qn=Pi);break}x&&qn&&xr.alternate===null&&_($e,qn),Oe=X(xr,Oe,br),Yn===null?bn=xr:Yn.sibling=xr,Yn=xr,qn=Pi}if(br===nt.length)return T($e,qn),dn&&bt($e,br),bn;if(qn===null){for(;br<nt.length;br++)qn=$n($e,nt[br],Jt),qn!==null&&(Oe=X(qn,Oe,br),Yn===null?bn=qn:Yn.sibling=qn,Yn=qn);return dn&&bt($e,br),bn}for(qn=F($e,qn);br<nt.length;br++)Pi=tr(qn,$e,br,nt[br],Jt),Pi!==null&&(x&&Pi.alternate!==null&&qn.delete(Pi.key===null?br:Pi.key),Oe=X(Pi,Oe,br),Yn===null?bn=Pi:Yn.sibling=Pi,Yn=Pi);return x&&qn.forEach(function(Gl){return _($e,Gl)}),dn&&bt($e,br),bn}function gs($e,Oe,nt,Jt){var bn=R(nt);if(typeof bn!="function")throw Error(o(150));if(nt=bn.call(nt),nt==null)throw Error(o(151));for(var Yn=bn=null,qn=Oe,br=Oe=0,Pi=null,xr=nt.next();qn!==null&&!xr.done;br++,xr=nt.next()){qn.index>br?(Pi=qn,qn=null):Pi=qn.sibling;var Gl=En($e,qn,xr.value,Jt);if(Gl===null){qn===null&&(qn=Pi);break}x&&qn&&Gl.alternate===null&&_($e,qn),Oe=X(Gl,Oe,br),Yn===null?bn=Gl:Yn.sibling=Gl,Yn=Gl,qn=Pi}if(xr.done)return T($e,qn),dn&&bt($e,br),bn;if(qn===null){for(;!xr.done;br++,xr=nt.next())xr=$n($e,xr.value,Jt),xr!==null&&(Oe=X(xr,Oe,br),Yn===null?bn=xr:Yn.sibling=xr,Yn=xr);return dn&&bt($e,br),bn}for(qn=F($e,qn);!xr.done;br++,xr=nt.next())xr=tr(qn,$e,br,xr.value,Jt),xr!==null&&(x&&xr.alternate!==null&&qn.delete(xr.key===null?br:xr.key),Oe=X(xr,Oe,br),Yn===null?bn=xr:Yn.sibling=xr,Yn=xr);return x&&qn.forEach(function(sy){return _($e,sy)}),dn&&bt($e,br),bn}function Bo($e,Oe,nt,Jt){if(typeof nt=="object"&&nt!==null&&nt.type===d&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case l:e:{for(var bn=nt.key,Yn=Oe;Yn!==null;){if(Yn.key===bn){if(bn=nt.type,bn===d){if(Yn.tag===7){T($e,Yn.sibling),Oe=z(Yn,nt.props.children),Oe.return=$e,$e=Oe;break e}}else if(Yn.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===E&&Nc(bn)===Yn.type){T($e,Yn.sibling),Oe=z(Yn,nt.props),Oe.ref=Rc($e,Yn,nt),Oe.return=$e,$e=Oe;break e}T($e,Yn);break}else _($e,Yn);Yn=Yn.sibling}nt.type===d?(Oe=Wu(nt.props.children,$e.mode,Jt,nt.key),Oe.return=$e,$e=Oe):(Jt=Qm(nt.type,nt.key,nt.props,null,$e.mode,Jt),Jt.ref=Rc($e,Oe,nt),Jt.return=$e,$e=Jt)}return ge($e);case u:e:{for(Yn=nt.key;Oe!==null;){if(Oe.key===Yn)if(Oe.tag===4&&Oe.stateNode.containerInfo===nt.containerInfo&&Oe.stateNode.implementation===nt.implementation){T($e,Oe.sibling),Oe=z(Oe,nt.children||[]),Oe.return=$e,$e=Oe;break e}else{T($e,Oe);break}else _($e,Oe);Oe=Oe.sibling}Oe=tg(nt,$e.mode,Jt),Oe.return=$e,$e=Oe}return ge($e);case E:return Yn=nt._init,Bo($e,Oe,Yn(nt._payload),Jt)}if(ne(nt))return tn($e,Oe,nt,Jt);if(R(nt))return gs($e,Oe,nt,Jt);qa($e,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,Oe!==null&&Oe.tag===6?(T($e,Oe.sibling),Oe=z(Oe,nt),Oe.return=$e,$e=Oe):(T($e,Oe),Oe=eg(nt,$e.mode,Jt),Oe.return=$e,$e=Oe),ge($e)):T($e,Oe)}return Bo}var Pl=Su(!0),x_=Su(!1),Vd={},co=Tt(Vd),Au=Tt(Vd),Eu=Tt(Vd);function xa(x){if(x===Vd)throw Error(o(174));return x}function Tm(x,_){Rt(Eu,_),Rt(Au,x),Rt(co,Vd),x=ee(_),vt(co),Rt(co,x)}function Wd(){vt(co),vt(Au),vt(Eu)}function b_(x){var _=xa(Eu.current),T=xa(co.current);_=H(T,x.type,_),T!==_&&(Rt(Au,x),Rt(co,_))}function Pv(x){Au.current===x&&(vt(co),vt(Au))}var oi=Tt(0);function Pm(x){for(var _=x;_!==null;){if(_.tag===13){var T=_.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||Sr(T)||Dr(T)))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Po=[];function Cu(){for(var x=0;x<Po.length;x++){var _=Po[x];je?_._workInProgressVersionPrimary=null:_._workInProgressVersionSecondary=null}Po.length=0}var yh=a.ReactCurrentDispatcher,Ro=a.ReactCurrentBatchConfig,Mu=0,ai=null,Ji=null,Zi=null,Rm=!1,Xa=!1,Tu=0,xh=0;function Qi(){throw Error(o(321))}function Nm(x,_){if(_===null)return!1;for(var T=0;T<_.length&&T<x.length;T++)if(!Ui(x[T],_[T]))return!1;return!0}function $d(x,_,T,F,z,X){if(Mu=X,ai=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,yh.current=x===null||x.memoizedState===null?Dv:Bv,x=T(F,z),Xa){X=0;do{if(Xa=!1,Tu=0,25<=X)throw Error(o(301));X+=1,Zi=Ji=null,_.updateQueue=null,yh.current=kv,x=T(F,z)}while(Xa)}if(yh.current=Yd,_=Ji!==null&&Ji.next!==null,Mu=0,Zi=Ji=ai=null,Rm=!1,_)throw Error(o(300));return x}function Ic(){var x=Tu!==0;return Tu=0,x}function ba(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?ai.memoizedState=Zi=x:Zi=Zi.next=x,Zi}function _a(){if(Ji===null){var x=ai.alternate;x=x!==null?x.memoizedState:null}else x=Ji.next;var _=Zi===null?ai.memoizedState:Zi.next;if(_!==null)Zi=_,Ji=x;else{if(x===null)throw Error(o(310));Ji=x,x={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},Zi===null?ai.memoizedState=Zi=x:Zi=Zi.next=x}return Zi}function Ka(x,_){return typeof _=="function"?_(x):_}function bh(x){var _=_a(),T=_.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=x;var F=Ji,z=F.baseQueue,X=T.pending;if(X!==null){if(z!==null){var ge=z.next;z.next=X.next,X.next=ge}F.baseQueue=z=X,T.pending=null}if(z!==null){X=z.next,F=F.baseState;var Ne=ge=null,it=null,kt=X;do{var an=kt.lane;if((Mu&an)===an)it!==null&&(it=it.next={lane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),F=kt.hasEagerState?kt.eagerState:x(F,kt.action);else{var $n={lane:an,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null};it===null?(Ne=it=$n,ge=F):it=it.next=$n,ai.lanes|=an,Ja|=an}kt=kt.next}while(kt!==null&&kt!==X);it===null?ge=F:it.next=Ne,Ui(F,_.memoizedState)||(es=!0),_.memoizedState=F,_.baseState=ge,_.baseQueue=it,T.lastRenderedState=F}if(x=T.interleaved,x!==null){z=x;do X=z.lane,ai.lanes|=X,Ja|=X,z=z.next;while(z!==x)}else z===null&&(T.lanes=0);return[_.memoizedState,T.dispatch]}function _h(x){var _=_a(),T=_.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=x;var F=T.dispatch,z=T.pending,X=_.memoizedState;if(z!==null){T.pending=null;var ge=z=z.next;do X=x(X,ge.action),ge=ge.next;while(ge!==z);Ui(X,_.memoizedState)||(es=!0),_.memoizedState=X,_.baseQueue===null&&(_.baseState=X),T.lastRenderedState=X}return[X,F]}function Rv(){}function Nv(x,_){var T=ai,F=_a(),z=_(),X=!Ui(F.memoizedState,z);if(X&&(F.memoizedState=z,es=!0),F=F.queue,qd(Rl.bind(null,T,F,x),[x]),F.getSnapshot!==_||X||Zi!==null&&Zi.memoizedState.tag&1){if(T.flags|=2048,Sh(9,Ov.bind(null,T,F,z,_),void 0,null),bi===null)throw Error(o(349));(Mu&30)!==0||Iv(T,_,z)}return z}function Iv(x,_,T){x.flags|=16384,x={getSnapshot:_,value:T},_=ai.updateQueue,_===null?(_={lastEffect:null,stores:null},ai.updateQueue=_,_.stores=[x]):(T=_.stores,T===null?_.stores=[x]:T.push(x))}function Ov(x,_,T,F){_.value=T,_.getSnapshot=F,Im(_)&&Fs(x,1,-1)}function Rl(x,_,T){return T(function(){Im(_)&&Fs(x,1,-1)})}function Im(x){var _=x.getSnapshot;x=x.value;try{var T=_();return!Ui(x,T)}catch{return!0}}function wh(x){var _=ba();return typeof x=="function"&&(x=x()),_.memoizedState=_.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:x},_.queue=x,x=x.dispatch=dM.bind(null,ai,x),[_.memoizedState,x]}function Sh(x,_,T,F){return x={tag:x,create:_,destroy:T,deps:F,next:null},_=ai.updateQueue,_===null?(_={lastEffect:null,stores:null},ai.updateQueue=_,_.lastEffect=x.next=x):(T=_.lastEffect,T===null?_.lastEffect=x.next=x:(F=T.next,T.next=x,x.next=F,_.lastEffect=x)),x}function __(){return _a().memoizedState}function Oc(x,_,T,F){var z=ba();ai.flags|=x,z.memoizedState=Sh(1|_,T,void 0,F===void 0?null:F)}function Om(x,_,T,F){var z=_a();F=F===void 0?null:F;var X=void 0;if(Ji!==null){var ge=Ji.memoizedState;if(X=ge.destroy,F!==null&&Nm(F,ge.deps)){z.memoizedState=Sh(_,T,X,F);return}}ai.flags|=x,z.memoizedState=Sh(1|_,T,X,F)}function Fm(x,_){return Oc(8390656,8,x,_)}function qd(x,_){return Om(2048,8,x,_)}function Vr(x,_){return Om(4,2,x,_)}function Dm(x,_){return Om(4,4,x,_)}function Ah(x,_){if(typeof _=="function")return x=x(),_(x),function(){_(null)};if(_!=null)return x=x(),_.current=x,function(){_.current=null}}function Xd(x,_,T){return T=T!=null?T.concat([x]):null,Om(4,4,Ah.bind(null,_,x),T)}function Bm(){}function km(x,_){var T=_a();_=_===void 0?null:_;var F=T.memoizedState;return F!==null&&_!==null&&Nm(_,F[1])?F[0]:(T.memoizedState=[x,_],x)}function Kd(x,_){var T=_a();_=_===void 0?null:_;var F=T.memoizedState;return F!==null&&_!==null&&Nm(_,F[1])?F[0]:(x=x(),T.memoizedState=[x,_],x)}function Lm(x,_){var T=Xn;Xn=T!==0&&4>T?T:4,x(!0);var F=Ro.transition;Ro.transition={};try{x(!1),_()}finally{Xn=T,Ro.transition=F}}function Pu(){return _a().memoizedState}function w_(x,_,T){var F=Ea(x);T={lane:F,action:T,hasEagerState:!1,eagerState:null,next:null},S_(x)?Fv(_,T):(Eh(x,_,T),T=Er(),x=Fs(x,F,T),x!==null&&Ch(x,_,F))}function dM(x,_,T){var F=Ea(x),z={lane:F,action:T,hasEagerState:!1,eagerState:null,next:null};if(S_(x))Fv(_,z);else{Eh(x,_,z);var X=x.alternate;if(x.lanes===0&&(X===null||X.lanes===0)&&(X=_.lastRenderedReducer,X!==null))try{var ge=_.lastRenderedState,Ne=X(ge,T);if(z.hasEagerState=!0,z.eagerState=Ne,Ui(Ne,ge))return}catch{}finally{}T=Er(),x=Fs(x,F,T),x!==null&&Ch(x,_,F)}}function S_(x){var _=x.alternate;return x===ai||_!==null&&_===ai}function Fv(x,_){Xa=Rm=!0;var T=x.pending;T===null?_.next=_:(_.next=T.next,T.next=_),x.pending=_}function Eh(x,_,T){bi!==null&&(x.mode&1)!==0&&(Zn&2)===0?(x=_.interleaved,x===null?(T.next=T,oo===null?oo=[_]:oo.push(_)):(T.next=x.next,x.next=T),_.interleaved=T):(x=_.pending,x===null?T.next=T:(T.next=x.next,x.next=T),_.pending=T)}function Ch(x,_,T){if((T&4194240)!==0){var F=_.lanes;F&=x.pendingLanes,T|=F,_.lanes=T,Ko(x,T)}}var Yd={readContext:ds,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useInsertionEffect:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useSyncExternalStore:Qi,useId:Qi,unstable_isNewReconciler:!1},Dv={readContext:ds,useCallback:function(x,_){return ba().memoizedState=[x,_===void 0?null:_],x},useContext:ds,useEffect:Fm,useImperativeHandle:function(x,_,T){return T=T!=null?T.concat([x]):null,Oc(4194308,4,Ah.bind(null,_,x),T)},useLayoutEffect:function(x,_){return Oc(4194308,4,x,_)},useInsertionEffect:function(x,_){return Oc(4,2,x,_)},useMemo:function(x,_){var T=ba();return _=_===void 0?null:_,x=x(),T.memoizedState=[x,_],x},useReducer:function(x,_,T){var F=ba();return _=T!==void 0?T(_):_,F.memoizedState=F.baseState=_,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:_},F.queue=x,x=x.dispatch=w_.bind(null,ai,x),[F.memoizedState,x]},useRef:function(x){var _=ba();return x={current:x},_.memoizedState=x},useState:wh,useDebugValue:Bm,useDeferredValue:function(x){var _=wh(x),T=_[0],F=_[1];return Fm(function(){var z=Ro.transition;Ro.transition={};try{F(x)}finally{Ro.transition=z}},[x]),T},useTransition:function(){var x=wh(!1),_=x[0];return x=Lm.bind(null,x[1]),ba().memoizedState=x,[_,x]},useMutableSource:function(){},useSyncExternalStore:function(x,_,T){var F=ai,z=ba();if(dn){if(T===void 0)throw Error(o(407));T=T()}else{if(T=_(),bi===null)throw Error(o(349));(Mu&30)!==0||Iv(F,_,T)}z.memoizedState=T;var X={value:T,getSnapshot:_};return z.queue=X,Fm(Rl.bind(null,F,X,x),[x]),F.flags|=2048,Sh(9,Ov.bind(null,F,X,T,_),void 0,null),T},useId:function(){var x=ba(),_=bi.identifierPrefix;if(dn){var T=Ve,F=Ce;T=(F&~(1<<32-mr(F)-1)).toString(32)+T,_=":"+_+"R"+T,T=Tu++,0<T&&(_+="H"+T.toString(32)),_+=":"}else T=xh++,_=":"+_+"r"+T.toString(32)+":";return x.memoizedState=_},unstable_isNewReconciler:!1},Bv={readContext:ds,useCallback:km,useContext:ds,useEffect:qd,useImperativeHandle:Xd,useInsertionEffect:Vr,useLayoutEffect:Dm,useMemo:Kd,useReducer:bh,useRef:__,useState:function(){return bh(Ka)},useDebugValue:Bm,useDeferredValue:function(x){var _=bh(Ka),T=_[0],F=_[1];return qd(function(){var z=Ro.transition;Ro.transition={};try{F(x)}finally{Ro.transition=z}},[x]),T},useTransition:function(){var x=bh(Ka)[0],_=_a().memoizedState;return[x,_]},useMutableSource:Rv,useSyncExternalStore:Nv,useId:Pu,unstable_isNewReconciler:!1},kv={readContext:ds,useCallback:km,useContext:ds,useEffect:qd,useImperativeHandle:Xd,useInsertionEffect:Vr,useLayoutEffect:Dm,useMemo:Kd,useReducer:_h,useRef:__,useState:function(){return _h(Ka)},useDebugValue:Bm,useDeferredValue:function(x){var _=_h(Ka),T=_[0],F=_[1];return qd(function(){var z=Ro.transition;Ro.transition={};try{F(x)}finally{Ro.transition=z}},[x]),T},useTransition:function(){var x=_h(Ka)[0],_=_a().memoizedState;return[x,_]},useMutableSource:Rv,useSyncExternalStore:Nv,useId:Pu,unstable_isNewReconciler:!1};function Lv(x,_){try{var T="",F=_;do T+=kd(F),F=F.return;while(F);var z=T}catch(X){z=`
Error generating stack: `+X.message+`
`+X.stack}return{value:x,source:_,stack:z}}function jm(x,_){try{console.error(_.value)}catch(T){setTimeout(function(){throw T})}}var fM=typeof WeakMap=="function"?WeakMap:Map;function A_(x,_,T){T=Qo(-1,T),T.tag=3,T.payload={element:null};var F=_.value;return T.callback=function(){nf||(nf=!0,Jr=F),jm(x,_)},T}function Um(x,_,T){T=Qo(-1,T),T.tag=3;var F=x.type.getDerivedStateFromError;if(typeof F=="function"){var z=_.value;T.payload=function(){return F(z)},T.callback=function(){jm(x,_)}}var X=x.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(T.callback=function(){jm(x,_),typeof F!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var ge=_.stack;this.componentDidCatch(_.value,{componentStack:ge!==null?ge:""})}),T}function Nl(x,_,T){var F=x.pingCache;if(F===null){F=x.pingCache=new fM;var z=new Set;F.set(_,z)}else z=F.get(_),z===void 0&&(z=new Set,F.set(_,z));z.has(T)||(z.add(T),x=ny.bind(null,x,_,T),_.then(x,x))}function jv(x){do{var _;if((_=x.tag===13)&&(_=x.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return x;x=x.return}while(x!==null);return null}function Ru(x,_,T,F,z){return(x.mode&1)===0?(x===_?x.flags|=65536:(x.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(_=Qo(-1,1),_.tag=2,$a(T,_))),T.lanes|=1),x):(x.flags|=65536,x.lanes=z,x)}function Hi(x){x.flags|=4}function Jd(x,_){if(x!==null&&x.child===_.child)return!0;if((_.flags&16)!==0)return!1;for(x=_.child;x!==null;){if((x.flags&12854)!==0||(x.subtreeFlags&12854)!==0)return!1;x=x.sibling}return!0}var No,Nu,zm,Hm;if(rt)No=function(x,_){for(var T=_.child;T!==null;){if(T.tag===5||T.tag===6)ae(x,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===_)break;for(;T.sibling===null;){if(T.return===null||T.return===_)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Nu=function(){},zm=function(x,_,T,F,z){if(x=x.memoizedProps,x!==F){var X=_.stateNode,ge=xa(co.current);T=Fe(X,T,x,F,z,ge),(_.updateQueue=T)&&Hi(_)}},Hm=function(x,_,T,F){T!==F&&Hi(_)};else if(Ue){No=function(x,_,T,F){for(var z=_.child;z!==null;){if(z.tag===5){var X=z.stateNode;T&&F&&(X=Cn(X,z.type,z.memoizedProps,z)),ae(x,X)}else if(z.tag===6)X=z.stateNode,T&&F&&(X=zn(X,z.memoizedProps,z)),ae(x,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),No(x,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===_)break;for(;z.sibling===null;){if(z.return===null||z.return===_)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};var Fc=function(x,_,T,F){for(var z=_.child;z!==null;){if(z.tag===5){var X=z.stateNode;T&&F&&(X=Cn(X,z.type,z.memoizedProps,z)),wt(x,X)}else if(z.tag===6)X=z.stateNode,T&&F&&(X=zn(X,z.memoizedProps,z)),wt(x,X);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)X=z.child,X!==null&&(X.return=z),Fc(x,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===_)break;for(;z.sibling===null;){if(z.return===null||z.return===_)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};Nu=function(x,_){var T=_.stateNode;if(!Jd(x,_)){x=T.containerInfo;var F=ze(x);Fc(F,_,!1,!1),T.pendingChildren=F,Hi(_),qt(x,F)}},zm=function(x,_,T,F,z){var X=x.stateNode,ge=x.memoizedProps;if((x=Jd(x,_))&&ge===F)_.stateNode=X;else{var Ne=_.stateNode,it=xa(co.current),kt=null;ge!==F&&(kt=Fe(Ne,T,ge,F,z,it)),x&&kt===null?_.stateNode=X:(X=_t(X,kt,T,ge,F,_,x,Ne),we(X,T,F,z,it)&&Hi(_),_.stateNode=X,x?Hi(_):No(X,_,!1,!1))}},Hm=function(x,_,T,F){T!==F?(x=xa(Eu.current),T=xa(co.current),_.stateNode=fe(F,x,T,_),Hi(_)):_.stateNode=x.stateNode}}else Nu=function(){},zm=function(){},Hm=function(){};function Il(x,_){if(!dn)switch(x.tailMode){case"hidden":_=x.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?x.tail=null:T.sibling=null;break;case"collapsed":T=x.tail;for(var F=null;T!==null;)T.alternate!==null&&(F=T),T=T.sibling;F===null?_||x.tail===null?x.tail=null:x.tail.sibling=null:F.sibling=null}}function xi(x){var _=x.alternate!==null&&x.alternate.child===x.child,T=0,F=0;if(_)for(var z=x.child;z!==null;)T|=z.lanes|z.childLanes,F|=z.subtreeFlags&14680064,F|=z.flags&14680064,z.return=x,z=z.sibling;else for(z=x.child;z!==null;)T|=z.lanes|z.childLanes,F|=z.subtreeFlags,F|=z.flags,z.return=x,z=z.sibling;return x.subtreeFlags|=F,x.childLanes=T,_}function Gm(x,_,T){var F=_.pendingProps;switch(vn(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(_),null;case 1:return Xt(_.type)&&Bn(),xi(_),null;case 3:return F=_.stateNode,Wd(),vt(cn),vt(yn),Cu(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(x===null||x.child===null)&&(lo(_)?Hi(_):x===null||x.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,ar!==null&&(jh(ar),ar=null))),Nu(x,_),xi(_),null;case 5:Pv(_),T=xa(Eu.current);var z=_.type;if(x!==null&&_.stateNode!=null)zm(x,_,z,F,T),x.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!F){if(_.stateNode===null)throw Error(o(166));return xi(_),null}if(x=xa(co.current),lo(_)){if(!ot)throw Error(o(175));x=J(_.stateNode,_.type,_.memoizedProps,T,x,_,!Ar),_.updateQueue=x,x!==null&&Hi(_)}else{var X=Y(z,F,T,x,_);No(X,_,!1,!1),_.stateNode=X,we(X,z,F,T,x)&&Hi(_)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return xi(_),null;case 6:if(x&&_.stateNode!=null)Hm(x,_,x.memoizedProps,F);else{if(typeof F!="string"&&_.stateNode===null)throw Error(o(166));if(x=xa(Eu.current),T=xa(co.current),lo(_)){if(!ot)throw Error(o(176));if(x=_.stateNode,F=_.memoizedProps,(T=oe(x,F,_,!Ar))&&(z=jt,z!==null))switch(X=(z.mode&1)!==0,z.tag){case 3:Q(z.stateNode.containerInfo,x,F,X);break;case 5:ye(z.type,z.memoizedProps,z.stateNode,x,F,X)}T&&Hi(_)}else _.stateNode=fe(F,x,T,_)}return xi(_),null;case 13:if(vt(oi),F=_.memoizedState,dn&&on!==null&&(_.mode&1)!==0&&(_.flags&128)===0){for(x=on;x;)x=er(x);return Pc(),_.flags|=98560,_}if(F!==null&&F.dehydrated!==null){if(F=lo(_),x===null){if(!F)throw Error(o(318));if(!ot)throw Error(o(344));if(x=_.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));Ee(x,_)}else Pc(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;return xi(_),null}return ar!==null&&(jh(ar),ar=null),(_.flags&128)!==0?(_.lanes=T,_):(F=F!==null,T=!1,x===null?lo(_):T=x.memoizedState!==null,F&&!T&&(_.child.flags|=8192,(_.mode&1)!==0&&(x===null||(oi.current&1)!==0?hi===0&&(hi=3):Ym())),_.updateQueue!==null&&(_.flags|=4),xi(_),null);case 4:return Wd(),Nu(x,_),x===null&&le(_.stateNode.containerInfo),xi(_),null;case 10:return wu(_.type._context),xi(_),null;case 17:return Xt(_.type)&&Bn(),xi(_),null;case 19:if(vt(oi),z=_.memoizedState,z===null)return xi(_),null;if(F=(_.flags&128)!==0,X=z.rendering,X===null)if(F)Il(z,!1);else{if(hi!==0||x!==null&&(x.flags&128)!==0)for(x=_.child;x!==null;){if(X=Pm(x),X!==null){for(_.flags|=128,Il(z,!1),x=X.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),_.subtreeFlags=0,x=T,F=_.child;F!==null;)T=F,z=x,T.flags&=14680066,X=T.alternate,X===null?(T.childLanes=0,T.lanes=z,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=X.childLanes,T.lanes=X.lanes,T.child=X.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=X.memoizedProps,T.memoizedState=X.memoizedState,T.updateQueue=X.updateQueue,T.type=X.type,z=X.dependencies,T.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),F=F.sibling;return Rt(oi,oi.current&1|2),_.child}x=x.sibling}z.tail!==null&&si()>kc&&(_.flags|=128,F=!0,Il(z,!1),_.lanes=4194304)}else{if(!F)if(x=Pm(X),x!==null){if(_.flags|=128,F=!0,x=x.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),Il(z,!0),z.tail===null&&z.tailMode==="hidden"&&!X.alternate&&!dn)return xi(_),null}else 2*si()-z.renderingStartTime>kc&&T!==1073741824&&(_.flags|=128,F=!0,Il(z,!1),_.lanes=4194304);z.isBackwards?(X.sibling=_.child,_.child=X):(x=z.last,x!==null?x.sibling=X:_.child=X,z.last=X)}return z.tail!==null?(_=z.tail,z.rendering=_,z.tail=_.sibling,z.renderingStartTime=si(),_.sibling=null,x=oi.current,Rt(oi,F?x&1|2:x&1),_):(xi(_),null);case 22:case 23:return Uh(),F=_.memoizedState!==null,x!==null&&x.memoizedState!==null!==F&&(_.flags|=8192),F&&(_.mode&1)!==0?(Os&1073741824)!==0&&(xi(_),rt&&_.subtreeFlags&6&&(_.flags|=8192)):xi(_),null;case 24:return null;case 25:return null}throw Error(o(156,_.tag))}var Uv=a.ReactCurrentOwner,es=!1;function fi(x,_,T,F){_.child=x===null?x_(_,null,T,F):Pl(_,x.child,T,F)}function Wr(x,_,T,F,z){T=T.render;var X=_.ref;return Wa(_,z),F=$d(x,_,T,F,X,z),T=Ic(),x!==null&&!es?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~z,uo(x,_,z)):(dn&&T&&An(_),_.flags|=1,fi(x,_,F,z),_.child)}function Hr(x,_,T,F,z){if(x===null){var X=T.type;return typeof X=="function"&&!Zm(X)&&X.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(_.tag=15,_.type=X,Ol(x,_,X,F,z)):(x=Qm(T.type,null,F,_,_.mode,z),x.ref=_.ref,x.return=_,_.child=x)}if(X=x.child,(x.lanes&z)===0){var ge=X.memoizedProps;if(T=T.compare,T=T!==null?T:so,T(ge,F)&&x.ref===_.ref)return uo(x,_,z)}return _.flags|=1,x=Hl(X,F),x.ref=_.ref,x.return=_,_.child=x}function Ol(x,_,T,F,z){if(x!==null&&so(x.memoizedProps,F)&&x.ref===_.ref)if(es=!1,(x.lanes&z)!==0)(x.flags&131072)!==0&&(es=!0);else return _.lanes=x.lanes,uo(x,_,z);return Fl(x,_,T,F,z)}function fs(x,_,T){var F=_.pendingProps,z=F.children,X=x!==null?x.memoizedState:null;if(F.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null},Rt(Uu,Os),Os|=T;else if((T&1073741824)!==0)_.memoizedState={baseLanes:0,cachePool:null},F=X!==null?X.baseLanes:T,Rt(Uu,Os),Os|=F;else return x=X!==null?X.baseLanes|T:T,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:x,cachePool:null},_.updateQueue=null,Rt(Uu,Os),Os|=x,null;else X!==null?(F=X.baseLanes|T,_.memoizedState=null):F=T,Rt(Uu,Os),Os|=F;return fi(x,_,z,T),_.child}function Ws(x,_){var T=_.ref;(x===null&&T!==null||x!==null&&x.ref!==T)&&(_.flags|=512,_.flags|=2097152)}function Fl(x,_,T,F,z){var X=Xt(T)?Mn:yn.current;return X=Pn(_,X),Wa(_,z),T=$d(x,_,T,F,X,z),F=Ic(),x!==null&&!es?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~z,uo(x,_,z)):(dn&&F&&An(_),_.flags|=1,fi(x,_,T,z),_.child)}function Iu(x,_,T,F,z){if(Xt(T)){var X=!0;or(_)}else X=!1;if(Wa(_,z),_.stateNode===null)x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),Mm(_,T,F),Hd(_,T,F,z),F=!0;else if(x===null){var ge=_.stateNode,Ne=_.memoizedProps;ge.props=Ne;var it=ge.context,kt=T.contextType;typeof kt=="object"&&kt!==null?kt=ds(kt):(kt=Xt(T)?Mn:yn.current,kt=Pn(_,kt));var an=T.getDerivedStateFromProps,$n=typeof an=="function"||typeof ge.getSnapshotBeforeUpdate=="function";$n||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ne!==F||it!==kt)&&vh(_,ge,F,kt),ao=!1;var En=_.memoizedState;ge.state=En,Ud(_,F,ge,z),it=_.memoizedState,Ne!==F||En!==it||cn.current||ao?(typeof an=="function"&&(Tc(_,T,an,F),it=_.memoizedState),(Ne=ao||gh(_,T,Ne,F,En,it,kt))?($n||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(_.flags|=4194308)):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=F,_.memoizedState=it),ge.props=F,ge.state=it,ge.context=kt,F=Ne):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),F=!1)}else{ge=_.stateNode,mh(x,_),Ne=_.memoizedProps,kt=_.type===_.elementType?Ne:Rs(_.type,Ne),ge.props=kt,$n=_.pendingProps,En=ge.context,it=T.contextType,typeof it=="object"&&it!==null?it=ds(it):(it=Xt(T)?Mn:yn.current,it=Pn(_,it));var tr=T.getDerivedStateFromProps;(an=typeof tr=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ne!==$n||En!==it)&&vh(_,ge,F,it),ao=!1,En=_.memoizedState,ge.state=En,Ud(_,F,ge,z);var tn=_.memoizedState;Ne!==$n||En!==tn||cn.current||ao?(typeof tr=="function"&&(Tc(_,T,tr,F),tn=_.memoizedState),(kt=ao||gh(_,T,kt,F,En,tn,it)||!1)?(an||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(F,tn,it),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(F,tn,it)),typeof ge.componentDidUpdate=="function"&&(_.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof ge.componentDidUpdate!="function"||Ne===x.memoizedProps&&En===x.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ne===x.memoizedProps&&En===x.memoizedState||(_.flags|=1024),_.memoizedProps=F,_.memoizedState=tn),ge.props=F,ge.state=tn,ge.context=it,F=kt):(typeof ge.componentDidUpdate!="function"||Ne===x.memoizedProps&&En===x.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ne===x.memoizedProps&&En===x.memoizedState||(_.flags|=1024),F=!1)}return Is(x,_,T,F,X,z)}function Is(x,_,T,F,z,X){Ws(x,_);var ge=(_.flags&128)!==0;if(!F&&!ge)return z&&Tn(_,T,!1),uo(x,_,X);F=_.stateNode,Uv.current=_;var Ne=ge&&typeof T.getDerivedStateFromError!="function"?null:F.render();return _.flags|=1,x!==null&&ge?(_.child=Pl(_,x.child,null,X),_.child=Pl(_,null,Ne,X)):fi(x,_,Ne,X),_.memoizedState=F.state,z&&Tn(_,T,!0),_.child}function Mh(x){var _=x.stateNode;_.pendingContext?rn(x,_.pendingContext,_.pendingContext!==_.context):_.context&&rn(x,_.context,!1),Tm(x,_.containerInfo)}function zv(x,_,T,F,z){return Pc(),Gd(z),_.flags|=256,fi(x,_,T,F),_.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ou(x){return{baseLanes:x,cachePool:null}}function Hv(x,_,T){var F=_.pendingProps,z=oi.current,X=!1,ge=(_.flags&128)!==0,Ne;if((Ne=ge)||(Ne=x!==null&&x.memoizedState===null?!1:(z&2)!==0),Ne?(X=!0,_.flags&=-129):(x===null||x.memoizedState!==null)&&(z|=1),Rt(oi,z&1),x===null)return Jn(_),x=_.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((_.mode&1)===0?_.lanes=1:Dr(x)?_.lanes=8:_.lanes=1073741824,null):(z=F.children,x=F.fallback,X?(F=_.mode,X=_.child,z={mode:"hidden",children:z},(F&1)===0&&X!==null?(X.childLanes=0,X.pendingProps=z):X=Gh(z,F,0,null),x=Wu(x,F,T,null),X.return=_,x.return=_,X.sibling=x,_.child=X,_.child.memoizedState=Ou(T),_.memoizedState=Th,x):wa(_,z));if(z=x.memoizedState,z!==null){if(Ne=z.dehydrated,Ne!==null){if(ge)return _.flags&256?(_.flags&=-257,Rh(x,_,T,Error(o(422)))):_.memoizedState!==null?(_.child=x.child,_.flags|=128,null):(X=F.fallback,z=_.mode,F=Gh({mode:"visible",children:F.children},z,0,null),X=Wu(X,z,T,null),X.flags|=2,F.return=_,X.return=_,F.sibling=X,_.child=F,(_.mode&1)!==0&&Pl(_,x.child,null,T),_.child.memoizedState=Ou(T),_.memoizedState=Th,X);if((_.mode&1)===0)_=Rh(x,_,T,null);else if(Dr(Ne))_=Rh(x,_,T,Error(o(419)));else if(F=(T&x.childLanes)!==0,es||F){if(F=bi,F!==null){switch(T&-T){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}F=(X&(F.suspendedLanes|T))!==0?0:X,F!==0&&F!==z.retryLane&&(z.retryLane=F,Fs(x,F,-1))}Ym(),_=Rh(x,_,T,Error(o(421)))}else Sr(Ne)?(_.flags|=128,_.child=x.child,_=P_.bind(null,x),Xr(Ne,_),_=null):(T=z.treeContext,ot&&(on=bc(Ne),jt=_,dn=!0,ar=null,Ar=!1,T!==null&&(he[me++]=Ce,he[me++]=Ve,he[me++]=pe,Ce=T.id,Ve=T.overflow,pe=_)),_=wa(_,_.pendingProps.children),_.flags|=4096);return _}return X?(F=Vm(x,_,F.children,F.fallback,T),X=_.child,z=x.child.memoizedState,X.memoizedState=z===null?Ou(T):{baseLanes:z.baseLanes|T,cachePool:null},X.childLanes=x.childLanes&~T,_.memoizedState=Th,F):(T=Ph(x,_,F.children,T),_.memoizedState=null,T)}return X?(F=Vm(x,_,F.children,F.fallback,T),X=_.child,z=x.child.memoizedState,X.memoizedState=z===null?Ou(T):{baseLanes:z.baseLanes|T,cachePool:null},X.childLanes=x.childLanes&~T,_.memoizedState=Th,F):(T=Ph(x,_,F.children,T),_.memoizedState=null,T)}function wa(x,_){return _=Gh({mode:"visible",children:_},x.mode,0,null),_.return=x,x.child=_}function Ph(x,_,T,F){var z=x.child;return x=z.sibling,T=Hl(z,{mode:"visible",children:T}),(_.mode&1)===0&&(T.lanes=F),T.return=_,T.sibling=null,x!==null&&(F=_.deletions,F===null?(_.deletions=[x],_.flags|=16):F.push(x)),_.child=T}function Vm(x,_,T,F,z){var X=_.mode;x=x.child;var ge=x.sibling,Ne={mode:"hidden",children:T};return(X&1)===0&&_.child!==x?(T=_.child,T.childLanes=0,T.pendingProps=Ne,_.deletions=null):(T=Hl(x,Ne),T.subtreeFlags=x.subtreeFlags&14680064),ge!==null?F=Hl(ge,F):(F=Wu(F,X,z,null),F.flags|=2),F.return=_,T.return=_,T.sibling=F,_.child=T,F}function Rh(x,_,T,F){return F!==null&&Gd(F),Pl(_,x.child,null,T),x=wa(_,_.pendingProps.children),x.flags|=2,_.memoizedState=null,x}function E_(x,_,T){x.lanes|=_;var F=x.alternate;F!==null&&(F.lanes|=_),ya(x.return,_,T)}function Ya(x,_,T,F,z){var X=x.memoizedState;X===null?x.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:F,tail:T,tailMode:z}:(X.isBackwards=_,X.rendering=null,X.renderingStartTime=0,X.last=F,X.tail=T,X.tailMode=z)}function Fu(x,_,T){var F=_.pendingProps,z=F.revealOrder,X=F.tail;if(fi(x,_,F.children,T),F=oi.current,(F&2)!==0)F=F&1|2,_.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=_.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&E_(x,T,_);else if(x.tag===19)E_(x,T,_);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===_)break e;for(;x.sibling===null;){if(x.return===null||x.return===_)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}F&=1}if(Rt(oi,F),(_.mode&1)===0)_.memoizedState=null;else switch(z){case"forwards":for(T=_.child,z=null;T!==null;)x=T.alternate,x!==null&&Pm(x)===null&&(z=T),T=T.sibling;T=z,T===null?(z=_.child,_.child=null):(z=T.sibling,T.sibling=null),Ya(_,!1,z,T,X);break;case"backwards":for(T=null,z=_.child,_.child=null;z!==null;){if(x=z.alternate,x!==null&&Pm(x)===null){_.child=z;break}x=z.sibling,z.sibling=T,T=z,z=x}Ya(_,!0,T,null,X);break;case"together":Ya(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function uo(x,_,T){if(x!==null&&(_.dependencies=x.dependencies),Ja|=_.lanes,(T&_.childLanes)===0)return null;if(x!==null&&_.child!==x.child)throw Error(o(153));if(_.child!==null){for(x=_.child,T=Hl(x,x.pendingProps),_.child=T,T.return=_;x.sibling!==null;)x=x.sibling,T=T.sibling=Hl(x,x.pendingProps),T.return=_;T.sibling=null}return _.child}function Wm(x,_,T){switch(_.tag){case 3:Mh(_),Pc();break;case 5:b_(_);break;case 1:Xt(_.type)&&or(_);break;case 4:Tm(_,_.stateNode.containerInfo);break;case 10:Tl(_,_.type._context,_.memoizedProps.value);break;case 13:var F=_.memoizedState;if(F!==null)return F.dehydrated!==null?(Rt(oi,oi.current&1),_.flags|=128,null):(T&_.child.childLanes)!==0?Hv(x,_,T):(Rt(oi,oi.current&1),x=uo(x,_,T),x!==null?x.sibling:null);Rt(oi,oi.current&1);break;case 19:if(F=(T&_.childLanes)!==0,(x.flags&128)!==0){if(F)return Fu(x,_,T);_.flags|=128}var z=_.memoizedState;if(z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Rt(oi,oi.current),F)break;return null;case 22:case 23:return _.lanes=0,fs(x,_,T)}return uo(x,_,T)}function $m(x,_){switch(vn(_),_.tag){case 1:return Xt(_.type)&&Bn(),x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 3:return Wd(),vt(cn),vt(yn),Cu(),x=_.flags,(x&65536)!==0&&(x&128)===0?(_.flags=x&-65537|128,_):null;case 5:return Pv(_),null;case 13:if(vt(oi),x=_.memoizedState,x!==null&&x.dehydrated!==null){if(_.alternate===null)throw Error(o(340));Pc()}return x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 19:return vt(oi),null;case 4:return Wd(),null;case 10:return wu(_.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var $s=!1,ts=!1,Du=typeof WeakSet=="function"?WeakSet:Set,$t=null;function ea(x,_){var T=x.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(F){Xs(x,_,F)}else T.current=null}function Dl(x,_,T){try{T()}catch(F){Xs(x,_,F)}}var Gv=!1;function Vv(x,_){for(Z(x.containerInfo),$t=_;$t!==null;)if(x=$t,_=x.child,(x.subtreeFlags&1028)!==0&&_!==null)_.return=x,$t=_;else for(;$t!==null;){x=$t;try{var T=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var F=T.memoizedProps,z=T.memoizedState,X=x.stateNode,ge=X.getSnapshotBeforeUpdate(x.elementType===x.type?F:Rs(x.type,F),z);X.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:rt&&St(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ne){Xs(x,x.return,Ne)}if(_=x.sibling,_!==null){_.return=x.return,$t=_;break}$t=x.return}return T=Gv,Gv=!1,T}function Bl(x,_,T){var F=_.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var z=F=F.next;do{if((z.tag&x)===x){var X=z.destroy;z.destroy=void 0,X!==void 0&&Dl(_,T,X)}z=z.next}while(z!==F)}}function hs(x,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&x)===x){var F=T.create;T.destroy=F()}T=T.next}while(T!==_)}}function qs(x){var _=x.ref;if(_!==null){var T=x.stateNode;switch(x.tag){case 5:x=V(T);break;default:x=T}typeof _=="function"?_(x):_.current=x}}function Yr(x,_,T){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(bu,_)}catch{}switch(_.tag){case 0:case 11:case 14:case 15:if(x=_.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var F=x=x.next;do{var z=F,X=z.destroy;z=z.tag,X!==void 0&&((z&2)!==0||(z&4)!==0)&&Dl(_,T,X),F=F.next}while(F!==x)}break;case 1:if(ea(_,T),x=_.stateNode,typeof x.componentWillUnmount=="function")try{x.props=_.memoizedProps,x.state=_.memoizedState,x.componentWillUnmount()}catch(ge){Xs(_,T,ge)}break;case 5:ea(_,T);break;case 4:rt?qv(x,_,T):Ue&&Ue&&(_=_.stateNode.containerInfo,T=ze(_),wn(_,T))}}function ta(x,_,T){for(var F=_;;)if(Yr(x,F,T),F.child===null||rt&&F.tag===4){if(F===_)break;for(;F.sibling===null;){if(F.return===null||F.return===_)return;F=F.return}F.sibling.return=F.return,F=F.sibling}else F.child.return=F,F=F.child}function Wv(x){var _=x.alternate;_!==null&&(x.alternate=null,Wv(_)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(_=x.stateNode,_!==null&&at(_)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function $v(x){return x.tag===5||x.tag===3||x.tag===4}function qm(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||$v(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Xm(x){if(rt){e:{for(var _=x.return;_!==null;){if($v(_))break e;_=_.return}throw Error(o(160))}var T=_;switch(T.tag){case 5:_=T.stateNode,T.flags&32&&(Le(_),T.flags&=-33),T=qm(x),Zd(x,T,_);break;case 3:case 4:_=T.stateNode.containerInfo,T=qm(x),Km(x,T,_);break;default:throw Error(o(161))}}}function Km(x,_,T){var F=x.tag;if(F===5||F===6)x=x.stateNode,_?pt(T,x,_):Yt(T,x);else if(F!==4&&(x=x.child,x!==null))for(Km(x,_,T),x=x.sibling;x!==null;)Km(x,_,T),x=x.sibling}function Zd(x,_,T){var F=x.tag;if(F===5||F===6)x=x.stateNode,_?ht(T,x,_):Xe(T,x);else if(F!==4&&(x=x.child,x!==null))for(Zd(x,_,T),x=x.sibling;x!==null;)Zd(x,_,T),x=x.sibling}function qv(x,_,T){for(var F=_,z=!1,X,ge;;){if(!z){z=F.return;e:for(;;){if(z===null)throw Error(o(160));switch(X=z.stateNode,z.tag){case 5:ge=!1;break e;case 3:X=X.containerInfo,ge=!0;break e;case 4:X=X.containerInfo,ge=!0;break e}z=z.return}z=!0}if(F.tag===5||F.tag===6)ta(x,F,T),ge?Se(X,F.stateNode):pn(X,F.stateNode);else if(F.tag===18)ge?At(X,F.stateNode):It(X,F.stateNode);else if(F.tag===4){if(F.child!==null){X=F.stateNode.containerInfo,ge=!0,F.child.return=F,F=F.child;continue}}else if(Yr(x,F,T),F.child!==null){F.child.return=F,F=F.child;continue}if(F===_)break;for(;F.sibling===null;){if(F.return===null||F.return===_)return;F=F.return,F.tag===4&&(z=!1)}F.sibling.return=F.return,F=F.sibling}}function Dc(x,_){if(rt){switch(_.tag){case 0:case 11:case 14:case 15:Bl(3,_,_.return),hs(3,_),Bl(5,_,_.return);return;case 1:return;case 5:var T=_.stateNode;if(T!=null){var F=_.memoizedProps;x=x!==null?x.memoizedProps:F;var z=_.type,X=_.updateQueue;_.updateQueue=null,X!==null&&Kt(T,X,z,x,F,_)}return;case 6:if(_.stateNode===null)throw Error(o(162));T=_.memoizedProps,Dt(_.stateNode,x!==null?x.memoizedProps:T,T);return;case 3:ot&&x!==null&&x.memoizedState.isDehydrated&&tt(_.stateNode.containerInfo);return;case 12:return;case 13:Qd(_);return;case 19:Qd(_);return;case 17:return}throw Error(o(163))}switch(_.tag){case 0:case 11:case 14:case 15:Bl(3,_,_.return),hs(3,_),Bl(5,_,_.return);return;case 12:return;case 13:Qd(_);return;case 19:Qd(_);return;case 3:ot&&x!==null&&x.memoizedState.isDehydrated&&tt(_.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ue){switch(_.tag){case 1:case 5:case 6:break e;case 3:case 4:_=_.stateNode,wn(_.containerInfo,_.pendingChildren);break e}throw Error(o(163))}}function Qd(x){var _=x.updateQueue;if(_!==null){x.updateQueue=null;var T=x.stateNode;T===null&&(T=x.stateNode=new Du),_.forEach(function(F){var z=R_.bind(null,x,F);T.has(F)||(T.add(F),F.then(z,z))})}}function hM(x,_){for($t=_;$t!==null;){_=$t;var T=_.deletions;if(T!==null)for(var F=0;F<T.length;F++){var z=T[F];try{var X=x;rt?qv(X,z,_):ta(X,z,_);var ge=z.alternate;ge!==null&&(ge.return=null),z.return=null}catch(bn){Xs(z,_,bn)}}if(T=_.child,(_.subtreeFlags&12854)!==0&&T!==null)T.return=_,$t=T;else for(;$t!==null;){_=$t;try{var Ne=_.flags;if(Ne&32&&rt&&Le(_.stateNode),Ne&512){var it=_.alternate;if(it!==null){var kt=it.ref;kt!==null&&(typeof kt=="function"?kt(null):kt.current=null)}}if(Ne&8192)switch(_.tag){case 13:if(_.memoizedState!==null){var an=_.alternate;(an===null||an.memoizedState===null)&&(kh=si())}break;case 22:var $n=_.memoizedState!==null,En=_.alternate,tr=En!==null&&En.memoizedState!==null;if(T=_,rt){e:if(F=T,z=$n,X=null,rt)for(var tn=F;;){if(tn.tag===5){if(X===null){X=tn;var gs=tn.stateNode;z?ut(gs):Be(tn.stateNode,tn.memoizedProps)}}else if(tn.tag===6){if(X===null){var Bo=tn.stateNode;z?ve(Bo):mt(Bo,tn.memoizedProps)}}else if((tn.tag!==22&&tn.tag!==23||tn.memoizedState===null||tn===F)&&tn.child!==null){tn.child.return=tn,tn=tn.child;continue}if(tn===F)break;for(;tn.sibling===null;){if(tn.return===null||tn.return===F)break e;X===tn&&(X=null),tn=tn.return}X===tn&&(X=null),tn.sibling.return=tn.return,tn=tn.sibling}}if($n&&!tr&&(T.mode&1)!==0){$t=T;for(var $e=T.child;$e!==null;){for(T=$t=$e;$t!==null;){F=$t;var Oe=F.child;switch(F.tag){case 0:case 11:case 14:case 15:Bl(4,F,F.return);break;case 1:ea(F,F.return);var nt=F.stateNode;if(typeof nt.componentWillUnmount=="function"){var Jt=F.return;try{nt.props=F.memoizedProps,nt.state=F.memoizedState,nt.componentWillUnmount()}catch(bn){Xs(F,Jt,bn)}}break;case 5:ea(F,F.return);break;case 22:if(F.memoizedState!==null){Kv(T);continue}}Oe!==null?(Oe.return=F,$t=Oe):Kv(T)}$e=$e.sibling}}}switch(Ne&4102){case 2:Xm(_),_.flags&=-3;break;case 6:Xm(_),_.flags&=-3,Dc(_.alternate,_);break;case 4096:_.flags&=-4097;break;case 4100:_.flags&=-4097,Dc(_.alternate,_);break;case 4:Dc(_.alternate,_)}}catch(bn){Xs(_,_.return,bn)}if(T=_.sibling,T!==null){T.return=_.return,$t=T;break}$t=_.return}}}function Nh(x,_,T){$t=x,Ih(x)}function Ih(x,_,T){for(var F=(x.mode&1)!==0;$t!==null;){var z=$t,X=z.child;if(z.tag===22&&F){var ge=z.memoizedState!==null||$s;if(!ge){var Ne=z.alternate,it=Ne!==null&&Ne.memoizedState!==null||ts;Ne=$s;var kt=ts;if($s=ge,(ts=it)&&!kt)for($t=z;$t!==null;)ge=$t,it=ge.child,ge.tag===22&&ge.memoizedState!==null?Bu(z):it!==null?(it.return=ge,$t=it):Bu(z);for(;X!==null;)$t=X,Ih(X),X=X.sibling;$t=z,$s=Ne,ts=kt}Xv(x)}else(z.subtreeFlags&8772)!==0&&X!==null?(X.return=z,$t=X):Xv(x)}}function Xv(x){for(;$t!==null;){var _=$t;if((_.flags&8772)!==0){var T=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:ts||hs(5,_);break;case 1:var F=_.stateNode;if(_.flags&4&&!ts)if(T===null)F.componentDidMount();else{var z=_.elementType===_.type?T.memoizedProps:Rs(_.type,T.memoizedProps);F.componentDidUpdate(z,T.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var X=_.updateQueue;X!==null&&Em(_,X,F);break;case 3:var ge=_.updateQueue;if(ge!==null){if(T=null,_.child!==null)switch(_.child.tag){case 5:T=V(_.child.stateNode);break;case 1:T=_.child.stateNode}Em(_,ge,T)}break;case 5:var Ne=_.stateNode;T===null&&_.flags&4&&nn(Ne,_.type,_.memoizedProps,_);break;case 6:break;case 4:break;case 12:break;case 13:if(ot&&_.memoizedState===null){var it=_.alternate;if(it!==null){var kt=it.memoizedState;if(kt!==null){var an=kt.dehydrated;an!==null&&Qe(an)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ts||_.flags&512&&qs(_)}catch($n){Xs(_,_.return,$n)}}if(_===x){$t=null;break}if(T=_.sibling,T!==null){T.return=_.return,$t=T;break}$t=_.return}}function Kv(x){for(;$t!==null;){var _=$t;if(_===x){$t=null;break}var T=_.sibling;if(T!==null){T.return=_.return,$t=T;break}$t=_.return}}function Bu(x){for(;$t!==null;){var _=$t;try{switch(_.tag){case 0:case 11:case 15:var T=_.return;try{hs(4,_)}catch(it){Xs(_,T,it)}break;case 1:var F=_.stateNode;if(typeof F.componentDidMount=="function"){var z=_.return;try{F.componentDidMount()}catch(it){Xs(_,z,it)}}var X=_.return;try{qs(_)}catch(it){Xs(_,X,it)}break;case 5:var ge=_.return;try{qs(_)}catch(it){Xs(_,ge,it)}}}catch(it){Xs(_,_.return,it)}if(_===x){$t=null;break}var Ne=_.sibling;if(Ne!==null){Ne.return=_.return,$t=Ne;break}$t=_.return}}var Oh=0,ku=1,Lu=2,kl=3,ef=4;if(typeof Symbol=="function"&&Symbol.for){var ju=Symbol.for;Oh=ju("selector.component"),ku=ju("selector.has_pseudo_class"),Lu=ju("selector.role"),kl=ju("selector.test_id"),ef=ju("selector.text")}function Fh(x){var _=De(x);if(_!=null){if(typeof _.memoizedProps["data-testname"]!="string")throw Error(o(364));return _}if(x=Ct(x),x===null)throw Error(o(362));return x.stateNode.current}function Dh(x,_){switch(_.$$typeof){case Oh:if(x.type===_.value)return!0;break;case ku:e:{_=_.value,x=[x,0];for(var T=0;T<x.length;){var F=x[T++],z=x[T++],X=_[z];if(F.tag!==5||!ie(F)){for(;X!=null&&Dh(F,X);)z++,X=_[z];if(z===_.length){_=!0;break e}else for(F=F.child;F!==null;)x.push(F,z),F=F.sibling}}_=!1}return _;case Lu:if(x.tag===5&&Ie(x.stateNode,_.value))return!0;break;case ef:if((x.tag===5||x.tag===6)&&(x=ce(x),x!==null&&0<=x.indexOf(_.value)))return!0;break;case kl:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===_.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Bc(x){switch(x.$$typeof){case Oh:return"<"+(O(x.value)||"Unknown")+">";case ku:return":has("+(Bc(x)||"")+")";case Lu:return'[role="'+x.value+'"]';case ef:return'"'+x.value+'"';case kl:return'[data-testname="'+x.value+'"]';default:throw Error(o(365))}}function Io(x,_){var T=[];x=[x,0];for(var F=0;F<x.length;){var z=x[F++],X=x[F++],ge=_[X];if(z.tag!==5||!ie(z)){for(;ge!=null&&Dh(z,ge);)X++,ge=_[X];if(X===_.length)T.push(z);else for(z=z.child;z!==null;)x.push(z,X),z=z.sibling}}return T}function Ll(x,_){if(!Ut)throw Error(o(363));x=Fh(x),x=Io(x,_),_=[],x=Array.from(x);for(var T=0;T<x.length;){var F=x[T++];if(F.tag===5)ie(F)||_.push(F.stateNode);else for(F=F.child;F!==null;)x.push(F),F=F.sibling}return _}var Yv=Math.ceil,Bh=a.ReactCurrentDispatcher,Sa=a.ReactCurrentOwner,Br=a.ReactCurrentBatchConfig,Zn=0,bi=null,kr=null,ti=0,Os=0,Uu=Tt(0),hi=0,tf=null,Ja=0,Oo=0,zu=0,jl=null,Ti=null,kh=0,kc=1/0;function Hu(){kc=si()+500}var nf=!1,Jr=null,Aa=null,rf=!1,Za=null,Gu=0,Vu=0,Ul=null,$r=-1,pi=0;function Er(){return(Zn&6)!==0?si():$r!==-1?$r:$r=si()}function Ea(x){return(x.mode&1)===0?1:(Zn&2)!==0&&ti!==0?ti&-ti:Ec.transition!==null?(pi===0&&(x=ei,ei<<=1,(ei&4194240)===0&&(ei=64),pi=x),pi):(x=Xn,x!==0?x:et())}function Fs(x,_,T){if(50<Vu)throw Vu=0,Ul=null,Error(o(185));var F=Lc(x,_);return F===null?null:(Cl(F,_,T),((Zn&2)===0||F!==bi)&&(F===bi&&((Zn&2)===0&&(Oo|=_),hi===4&&ms(F,ti)),fo(F,T),_===1&&Zn===0&&(x.mode&1)===0&&(Hu(),va&&io())),F)}function Lc(x,_){x.lanes|=_;var T=x.alternate;for(T!==null&&(T.lanes|=_),T=x,x=x.return;x!==null;)x.childLanes|=_,T=x.alternate,T!==null&&(T.childLanes|=_),T=x,x=x.return;return T.tag===3?T.stateNode:null}function fo(x,_){var T=x.callbackNode;ph(x,_);var F=Ki(x,x===bi?ti:0);if(F===0)T!==null&&_c(T),x.callbackNode=null,x.callbackPriority=0;else if(_=F&-F,x.callbackPriority!==_){if(T!=null&&_c(T),_===1)x.tag===0?Bd(Fo.bind(null,x)):Ac(Fo.bind(null,x)),xt?ct(function(){Zn===0&&io()}):Ml(Ga,io),T=null;else{switch(Vs(F)){case 1:T=Ga;break;case 4:T=Am;break;case 16:T=Va;break;case 536870912:T=Ts;break;default:T=Va}T=Jm(T,ps.bind(null,x))}x.callbackPriority=_,x.callbackNode=T}}function ps(x,_){if($r=-1,pi=0,(Zn&6)!==0)throw Error(o(327));var T=x.callbackNode;if(Qa()&&x.callbackNode!==T)return null;var F=Ki(x,x===bi?ti:0);if(F===0)return null;if((F&30)!==0||(F&x.expiredLanes)!==0||_)_=zh(x,F);else{_=F;var z=Zn;Zn|=2;var X=Qv();(bi!==x||ti!==_)&&(Hu(),zl(x,_));do try{M_();break}catch(Ne){Zv(x,Ne)}while(!0);Yi(),Bh.current=X,Zn=z,kr!==null?_=0:(bi=null,ti=0,_=hi)}if(_!==0){if(_===2&&(z=za(x),z!==0&&(F=z,_=Lh(x,z))),_===1)throw T=tf,zl(x,0),ms(x,F),fo(x,si()),T;if(_===6)ms(x,F);else{if(z=x.current.alternate,(F&30)===0&&!Jv(z)&&(_=zh(x,F),_===2&&(X=za(x),X!==0&&(F=X,_=Lh(x,X))),_===1))throw T=tf,zl(x,0),ms(x,F),fo(x,si()),T;switch(x.finishedWork=z,x.finishedLanes=F,_){case 0:case 1:throw Error(o(345));case 2:Ca(x,Ti);break;case 3:if(ms(x,F),(F&130023424)===F&&(_=kh+500-si(),10<_)){if(Ki(x,0)!==0)break;if(z=x.suspendedLanes,(z&F)!==F){Er(),x.pingedLanes|=x.suspendedLanes&z;break}x.timeoutHandle=xe(Ca.bind(null,x,Ti),_);break}Ca(x,Ti);break;case 4:if(ms(x,F),(F&4194240)===F)break;for(_=x.eventTimes,z=-1;0<F;){var ge=31-mr(F);X=1<<ge,ge=_[ge],ge>z&&(z=ge),F&=~X}if(F=z,F=si()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Yv(F/1960))-F,10<F){x.timeoutHandle=xe(Ca.bind(null,x,Ti),F);break}Ca(x,Ti);break;case 5:Ca(x,Ti);break;default:throw Error(o(329))}}}return fo(x,si()),x.callbackNode===T?ps.bind(null,x):null}function Lh(x,_){var T=jl;return x.current.memoizedState.isDehydrated&&(zl(x,_).flags|=256),x=zh(x,_),x!==2&&(_=Ti,Ti=T,_!==null&&jh(_)),x}function jh(x){Ti===null?Ti=x:Ti.push.apply(Ti,x)}function Jv(x){for(var _=x;;){if(_.flags&16384){var T=_.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var F=0;F<T.length;F++){var z=T[F],X=z.getSnapshot;z=z.value;try{if(!Ui(X(),z))return!1}catch{return!1}}}if(T=_.child,_.subtreeFlags&16384&&T!==null)T.return=_,_=T;else{if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function ms(x,_){for(_&=~zu,_&=~Oo,x.suspendedLanes|=_,x.pingedLanes&=~_,x=x.expirationTimes;0<_;){var T=31-mr(_),F=1<<T;x[T]=-1,_&=~F}}function Fo(x){if((Zn&6)!==0)throw Error(o(327));Qa();var _=Ki(x,0);if((_&1)===0)return fo(x,si()),null;var T=zh(x,_);if(x.tag!==0&&T===2){var F=za(x);F!==0&&(_=F,T=Lh(x,F))}if(T===1)throw T=tf,zl(x,0),ms(x,_),fo(x,si()),T;if(T===6)throw Error(o(345));return x.finishedWork=x.current.alternate,x.finishedLanes=_,Ca(x,Ti),fo(x,si()),null}function sf(x){Za!==null&&Za.tag===0&&(Zn&6)===0&&Qa();var _=Zn;Zn|=1;var T=Br.transition,F=Xn;try{if(Br.transition=null,Xn=1,x)return x()}finally{Xn=F,Br.transition=T,Zn=_,(Zn&6)===0&&io()}}function Uh(){Os=Uu.current,vt(Uu)}function zl(x,_){x.finishedWork=null,x.finishedLanes=0;var T=x.timeoutHandle;if(T!==Te&&(x.timeoutHandle=Te,Pe(T)),kr!==null)for(T=kr.return;T!==null;){var F=T;switch(vn(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&Bn();break;case 3:Wd(),vt(cn),vt(yn),Cu();break;case 5:Pv(F);break;case 4:Wd();break;case 13:vt(oi);break;case 19:vt(oi);break;case 10:wu(F.type._context);break;case 22:case 23:Uh()}T=T.return}if(bi=x,kr=x=Hl(x.current,null),ti=Os=_,hi=0,tf=null,zu=Oo=Ja=0,Ti=jl=null,oo!==null){for(_=0;_<oo.length;_++)if(T=oo[_],F=T.interleaved,F!==null){T.interleaved=null;var z=F.next,X=T.pending;if(X!==null){var ge=X.next;X.next=z,F.next=ge}T.pending=F}oo=null}return x}function Zv(x,_){do{var T=kr;try{if(Yi(),yh.current=Yd,Rm){for(var F=ai.memoizedState;F!==null;){var z=F.queue;z!==null&&(z.pending=null),F=F.next}Rm=!1}if(Mu=0,Zi=Ji=ai=null,Xa=!1,Tu=0,Sa.current=null,T===null||T.return===null){hi=1,tf=_,kr=null;break}e:{var X=x,ge=T.return,Ne=T,it=_;if(_=ti,Ne.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var kt=it,an=Ne,$n=an.tag;if((an.mode&1)===0&&($n===0||$n===11||$n===15)){var En=an.alternate;En?(an.updateQueue=En.updateQueue,an.memoizedState=En.memoizedState,an.lanes=En.lanes):(an.updateQueue=null,an.memoizedState=null)}var tr=jv(ge);if(tr!==null){tr.flags&=-257,Ru(tr,ge,Ne,X,_),tr.mode&1&&Nl(X,kt,_),_=tr,it=kt;var tn=_.updateQueue;if(tn===null){var gs=new Set;gs.add(it),_.updateQueue=gs}else tn.add(it);break e}else{if((_&1)===0){Nl(X,kt,_),Ym();break e}it=Error(o(426))}}else if(dn&&Ne.mode&1){var Bo=jv(ge);if(Bo!==null){(Bo.flags&65536)===0&&(Bo.flags|=256),Ru(Bo,ge,Ne,X,_),Gd(it);break e}}X=it,hi!==4&&(hi=2),jl===null?jl=[X]:jl.push(X),it=Lv(it,Ne),Ne=ge;do{switch(Ne.tag){case 3:Ne.flags|=65536,_&=-_,Ne.lanes|=_;var $e=A_(Ne,it,_);Mc(Ne,$e);break e;case 1:X=it;var Oe=Ne.type,nt=Ne.stateNode;if((Ne.flags&128)===0&&(typeof Oe.getDerivedStateFromError=="function"||nt!==null&&typeof nt.componentDidCatch=="function"&&(Aa===null||!Aa.has(nt)))){Ne.flags|=65536,_&=-_,Ne.lanes|=_;var Jt=Um(Ne,X,_);Mc(Ne,Jt);break e}}Ne=Ne.return}while(Ne!==null)}ty(T)}catch(bn){_=bn,kr===T&&T!==null&&(kr=T=T.return);continue}break}while(!0)}function Qv(){var x=Bh.current;return Bh.current=Yd,x===null?Yd:x}function Ym(){(hi===0||hi===3||hi===2)&&(hi=4),bi===null||(Ja&268435455)===0&&(Oo&268435455)===0||ms(bi,ti)}function zh(x,_){var T=Zn;Zn|=2;var F=Qv();bi===x&&ti===_||zl(x,_);do try{C_();break}catch(z){Zv(x,z)}while(!0);if(Yi(),Zn=T,Bh.current=F,kr!==null)throw Error(o(261));return bi=null,ti=0,hi}function C_(){for(;kr!==null;)ey(kr)}function M_(){for(;kr!==null&&!Ha();)ey(kr)}function ey(x){var _=iy(x.alternate,x,Os);x.memoizedProps=x.pendingProps,_===null?ty(x):kr=_,Sa.current=null}function ty(x){var _=x;do{var T=_.alternate;if(x=_.return,(_.flags&32768)===0){if(T=Gm(T,_,Os),T!==null){kr=T;return}}else{if(T=$m(T,_),T!==null){T.flags&=32767,kr=T;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{hi=6,kr=null;return}}if(_=_.sibling,_!==null){kr=_;return}kr=_=x}while(_!==null);hi===0&&(hi=5)}function Ca(x,_){var T=Xn,F=Br.transition;try{Br.transition=null,Xn=1,T_(x,_,T)}finally{Br.transition=F,Xn=T}return null}function T_(x,_,T){do Qa();while(Za!==null);if((Zn&6)!==0)throw Error(o(327));var F=x.finishedWork,z=x.finishedLanes;if(F===null)return null;if(x.finishedWork=null,x.finishedLanes=0,F===x.current)throw Error(o(177));x.callbackNode=null,x.callbackPriority=0;var X=F.lanes|F.childLanes;if(Fd(x,X),x===bi&&(kr=bi=null,ti=0),(F.subtreeFlags&2064)===0&&(F.flags&2064)===0||rf||(rf=!0,Jm(Va,function(){return Qa(),null})),X=(F.flags&15990)!==0,(F.subtreeFlags&15990)!==0||X){X=Br.transition,Br.transition=null;var ge=Xn;Xn=1;var Ne=Zn;Zn|=4,Sa.current=null,Vv(x,F),hM(x,F),te(x.containerInfo),x.current=F,Nh(F),Tv(),Zn=Ne,Xn=ge,Br.transition=X}else x.current=F;if(rf&&(rf=!1,Za=x,Gu=z),X=x.pendingLanes,X===0&&(Aa=null),wc(F.stateNode),fo(x,si()),_!==null)for(T=x.onRecoverableError,F=0;F<_.length;F++)T(_[F]);if(nf)throw nf=!1,x=Jr,Jr=null,x;return(Gu&1)!==0&&x.tag!==0&&Qa(),X=x.pendingLanes,(X&1)!==0?x===Ul?Vu++:(Vu=0,Ul=x):Vu=0,io(),null}function Qa(){if(Za!==null){var x=Vs(Gu),_=Br.transition,T=Xn;try{if(Br.transition=null,Xn=16>x?16:x,Za===null)var F=!1;else{if(x=Za,Za=null,Gu=0,(Zn&6)!==0)throw Error(o(331));var z=Zn;for(Zn|=4,$t=x.current;$t!==null;){var X=$t,ge=X.child;if(($t.flags&16)!==0){var Ne=X.deletions;if(Ne!==null){for(var it=0;it<Ne.length;it++){var kt=Ne[it];for($t=kt;$t!==null;){var an=$t;switch(an.tag){case 0:case 11:case 15:Bl(8,an,X)}var $n=an.child;if($n!==null)$n.return=an,$t=$n;else for(;$t!==null;){an=$t;var En=an.sibling,tr=an.return;if(Wv(an),an===kt){$t=null;break}if(En!==null){En.return=tr,$t=En;break}$t=tr}}}var tn=X.alternate;if(tn!==null){var gs=tn.child;if(gs!==null){tn.child=null;do{var Bo=gs.sibling;gs.sibling=null,gs=Bo}while(gs!==null)}}$t=X}}if((X.subtreeFlags&2064)!==0&&ge!==null)ge.return=X,$t=ge;else e:for(;$t!==null;){if(X=$t,(X.flags&2048)!==0)switch(X.tag){case 0:case 11:case 15:Bl(9,X,X.return)}var $e=X.sibling;if($e!==null){$e.return=X.return,$t=$e;break e}$t=X.return}}var Oe=x.current;for($t=Oe;$t!==null;){ge=$t;var nt=ge.child;if((ge.subtreeFlags&2064)!==0&&nt!==null)nt.return=ge,$t=nt;else e:for(ge=Oe;$t!==null;){if(Ne=$t,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:hs(9,Ne)}}catch(bn){Xs(Ne,Ne.return,bn)}if(Ne===ge){$t=null;break e}var Jt=Ne.sibling;if(Jt!==null){Jt.return=Ne.return,$t=Jt;break e}$t=Ne.return}}if(Zn=z,io(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(bu,x)}catch{}F=!0}return F}finally{Xn=T,Br.transition=_}}return!1}function Hh(x,_,T){_=Lv(T,_),_=A_(x,_,1),$a(x,_),_=Er(),x=Lc(x,1),x!==null&&(Cl(x,1,_),fo(x,_))}function Xs(x,_,T){if(x.tag===3)Hh(x,x,T);else for(;_!==null;){if(_.tag===3){Hh(_,x,T);break}else if(_.tag===1){var F=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Aa===null||!Aa.has(F))){x=Lv(T,x),x=Um(_,x,1),$a(_,x),x=Er(),_=Lc(_,1),_!==null&&(Cl(_,1,x),fo(_,x));break}}_=_.return}}function ny(x,_,T){var F=x.pingCache;F!==null&&F.delete(_),_=Er(),x.pingedLanes|=x.suspendedLanes&T,bi===x&&(ti&T)===T&&(hi===4||hi===3&&(ti&130023424)===ti&&500>si()-kh?zl(x,0):zu|=T),fo(x,_)}function ry(x,_){_===0&&((x.mode&1)===0?_=1:(_=Rn,Rn<<=1,(Rn&130023424)===0&&(Rn=4194304)));var T=Er();x=Lc(x,_),x!==null&&(Cl(x,_,T),fo(x,T))}function P_(x){var _=x.memoizedState,T=0;_!==null&&(T=_.retryLane),ry(x,T)}function R_(x,_){var T=0;switch(x.tag){case 13:var F=x.stateNode,z=x.memoizedState;z!==null&&(T=z.retryLane);break;case 19:F=x.stateNode;break;default:throw Error(o(314))}F!==null&&F.delete(_),ry(x,T)}var iy;iy=function(x,_,T){if(x!==null)if(x.memoizedProps!==_.pendingProps||cn.current)es=!0;else{if((x.lanes&T)===0&&(_.flags&128)===0)return es=!1,Wm(x,_,T);es=(x.flags&131072)!==0}else es=!1,dn&&(_.flags&1048576)!==0&&Vt(_,re,_.index);switch(_.lanes=0,_.tag){case 2:var F=_.type;x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps;var z=Pn(_,yn.current);Wa(_,T),z=$d(null,_,F,x,z,T);var X=Ic();return _.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Xt(F)?(X=!0,or(_)):X=!1,_.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,Cc(_),z.updater=zd,_.stateNode=z,z._reactInternals=_,Hd(_,F,x,T),_=Is(null,_,F,!0,X,T)):(_.tag=0,dn&&X&&An(_),fi(null,_,z,T),_=_.child),_;case 16:F=_.elementType;e:{switch(x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps,z=F._init,F=z(F._payload),_.type=F,z=_.tag=pM(F),x=Rs(F,x),z){case 0:_=Fl(null,_,F,x,T);break e;case 1:_=Iu(null,_,F,x,T);break e;case 11:_=Wr(null,_,F,x,T);break e;case 14:_=Hr(null,_,F,Rs(F.type,x),T);break e}throw Error(o(306,F,""))}return _;case 0:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),Fl(x,_,F,z,T);case 1:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),Iu(x,_,F,z,T);case 3:e:{if(Mh(_),x===null)throw Error(o(387));F=_.pendingProps,X=_.memoizedState,z=X.element,mh(x,_),Ud(_,F,null,T);var ge=_.memoizedState;if(F=ge.element,ot&&X.isDehydrated)if(X={element:F,isDehydrated:!1,cache:ge.cache,transitions:ge.transitions},_.updateQueue.baseState=X,_.memoizedState=X,_.flags&256){z=Error(o(423)),_=zv(x,_,F,T,z);break e}else if(F!==z){z=Error(o(424)),_=zv(x,_,F,T,z);break e}else for(ot&&(on=Mo(_.stateNode.containerInfo),jt=_,dn=!0,ar=null,Ar=!1),T=x_(_,null,F,T),_.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Pc(),F===z){_=uo(x,_,T);break e}fi(x,_,F,T)}_=_.child}return _;case 5:return b_(_),x===null&&Jn(_),F=_.type,z=_.pendingProps,X=x!==null?x.memoizedProps:null,ge=z.children,qe(F,z)?ge=null:X!==null&&qe(F,X)&&(_.flags|=32),Ws(x,_),fi(x,_,ge,T),_.child;case 6:return x===null&&Jn(_),null;case 13:return Hv(x,_,T);case 4:return Tm(_,_.stateNode.containerInfo),F=_.pendingProps,x===null?_.child=Pl(_,null,F,T):fi(x,_,F,T),_.child;case 11:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),Wr(x,_,F,z,T);case 7:return fi(x,_,_.pendingProps,T),_.child;case 8:return fi(x,_,_.pendingProps.children,T),_.child;case 12:return fi(x,_,_.pendingProps.children,T),_.child;case 10:e:{if(F=_.type._context,z=_.pendingProps,X=_.memoizedProps,ge=z.value,Tl(_,F,ge),X!==null)if(Ui(X.value,ge)){if(X.children===z.children&&!cn.current){_=uo(x,_,T);break e}}else for(X=_.child,X!==null&&(X.return=_);X!==null;){var Ne=X.dependencies;if(Ne!==null){ge=X.child;for(var it=Ne.firstContext;it!==null;){if(it.context===F){if(X.tag===1){it=Qo(-1,T&-T),it.tag=2;var kt=X.updateQueue;if(kt!==null){kt=kt.shared;var an=kt.pending;an===null?it.next=it:(it.next=an.next,an.next=it),kt.pending=it}}X.lanes|=T,it=X.alternate,it!==null&&(it.lanes|=T),ya(X.return,T,_),Ne.lanes|=T;break}it=it.next}}else if(X.tag===10)ge=X.type===_.type?null:X.child;else if(X.tag===18){if(ge=X.return,ge===null)throw Error(o(341));ge.lanes|=T,Ne=ge.alternate,Ne!==null&&(Ne.lanes|=T),ya(ge,T,_),ge=X.sibling}else ge=X.child;if(ge!==null)ge.return=X;else for(ge=X;ge!==null;){if(ge===_){ge=null;break}if(X=ge.sibling,X!==null){X.return=ge.return,ge=X;break}ge=ge.return}X=ge}fi(x,_,z.children,T),_=_.child}return _;case 9:return z=_.type,F=_.pendingProps.children,Wa(_,T),z=ds(z),F=F(z),_.flags|=1,fi(x,_,F,T),_.child;case 14:return F=_.type,z=Rs(F,_.pendingProps),z=Rs(F.type,z),Hr(x,_,F,z,T);case 15:return Ol(x,_,_.type,_.pendingProps,T);case 17:return F=_.type,z=_.pendingProps,z=_.elementType===F?z:Rs(F,z),x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),_.tag=1,Xt(F)?(x=!0,or(_)):x=!1,Wa(_,T),Mm(_,F,z),Hd(_,F,z,T),Is(null,_,F,!0,x,T);case 19:return Fu(x,_,T);case 22:return fs(x,_,T)}throw Error(o(156,_.tag))};function Jm(x,_){return Ml(x,_)}function N_(x,_,T,F){this.tag=x,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(x,_,T,F){return new N_(x,_,T,F)}function Zm(x){return x=x.prototype,!(!x||!x.isReactComponent)}function pM(x){if(typeof x=="function")return Zm(x)?1:0;if(x!=null){if(x=x.$$typeof,x===b)return 11;if(x===A)return 14}return 2}function Hl(x,_){var T=x.alternate;return T===null?(T=Do(x.tag,_,x.key,x.mode),T.elementType=x.elementType,T.type=x.type,T.stateNode=x.stateNode,T.alternate=x,x.alternate=T):(T.pendingProps=_,T.type=x.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=x.flags&14680064,T.childLanes=x.childLanes,T.lanes=x.lanes,T.child=x.child,T.memoizedProps=x.memoizedProps,T.memoizedState=x.memoizedState,T.updateQueue=x.updateQueue,_=x.dependencies,T.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},T.sibling=x.sibling,T.index=x.index,T.ref=x.ref,T}function Qm(x,_,T,F,z,X){var ge=2;if(F=x,typeof x=="function")Zm(x)&&(ge=1);else if(typeof x=="string")ge=5;else e:switch(x){case d:return Wu(T.children,z,X,_);case c:ge=8,z|=8;break;case f:return x=Do(12,T,_,z|2),x.elementType=f,x.lanes=X,x;case y:return x=Do(13,T,_,z),x.elementType=y,x.lanes=X,x;case w:return x=Do(19,T,_,z),x.elementType=w,x.lanes=X,x;case C:return Gh(T,z,X,_);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case m:ge=10;break e;case v:ge=9;break e;case b:ge=11;break e;case A:ge=14;break e;case E:ge=16,F=null;break e}throw Error(o(130,x==null?x:typeof x,""))}return _=Do(ge,T,_,z),_.elementType=x,_.type=F,_.lanes=X,_}function Wu(x,_,T,F){return x=Do(7,x,F,_),x.lanes=T,x}function Gh(x,_,T,F){return x=Do(22,x,F,_),x.elementType=C,x.lanes=T,x.stateNode={},x}function eg(x,_,T){return x=Do(6,x,null,_),x.lanes=T,x}function tg(x,_,T){return _=Do(4,x.children!==null?x.children:[],x.key,_),_.lanes=T,_.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},_}function ng(x,_,T,F,z){this.tag=_,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=F,this.onRecoverableError=z,ot&&(this.mutableSourceEagerHydrationData=null)}function I_(x,_,T,F,z,X,ge,Ne,it){return x=new ng(x,_,T,Ne,it),_===1?(_=1,X===!0&&(_|=8)):_=0,X=Do(3,null,null,_),x.current=X,X.stateNode=x,X.memoizedState={element:F,isDehydrated:T,cache:null,transitions:null},Cc(X),x}function O_(x){if(!x)return Ht;x=x._reactInternals;e:{if(D(x)!==x||x.tag!==1)throw Error(o(170));var _=x;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Xt(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(o(171))}if(x.tag===1){var T=x.type;if(Xt(T))return kn(x,T,_)}return _}function F_(x){var _=x._reactInternals;if(_===void 0)throw typeof x.render=="function"?Error(o(188)):(x=Object.keys(x).join(","),Error(o(268,x)));return x=W(_),x===null?null:x.stateNode}function na(x,_){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var T=x.retryLane;x.retryLane=T!==0&&T<_?T:_}}function Vh(x,_){na(x,_),(x=x.alternate)&&na(x,_)}function rg(x){return x=W(x),x===null?null:x.stateNode}function D_(){return null}return t.attemptContinuousHydration=function(x){if(x.tag===13){var _=Er();Fs(x,134217728,_),Vh(x,134217728)}},t.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var _=Er(),T=Ea(x);Fs(x,T,_),Vh(x,T)}},t.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var _=x.stateNode;if(_.current.memoizedState.isDehydrated){var T=To(_.pendingLanes);T!==0&&(Ko(_,T|1),fo(_,si()),(Zn&6)===0&&(Hu(),io()))}break;case 13:var F=Er();sf(function(){return Fs(x,1,F)}),Vh(x,1)}},t.batchedUpdates=function(x,_){var T=Zn;Zn|=1;try{return x(_)}finally{Zn=T,Zn===0&&(Hu(),va&&io())}},t.createComponentSelector=function(x){return{$$typeof:Oh,value:x}},t.createContainer=function(x,_,T,F,z,X,ge){return I_(x,_,!1,null,T,F,z,X,ge)},t.createHasPseudoClassSelector=function(x){return{$$typeof:ku,value:x}},t.createHydrationContainer=function(x,_,T,F,z,X,ge,Ne,it){return x=I_(T,F,!0,x,z,X,ge,Ne,it),x.context=O_(null),T=x.current,F=Er(),z=Ea(T),X=Qo(F,z),X.callback=_??null,$a(T,X),x.current.lanes=z,Cl(x,z,F),fo(x,F),x},t.createPortal=function(x,_,T){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:F==null?null:""+F,children:x,containerInfo:_,implementation:T}},t.createRoleSelector=function(x){return{$$typeof:Lu,value:x}},t.createTestNameSelector=function(x){return{$$typeof:kl,value:x}},t.createTextSelector=function(x){return{$$typeof:ef,value:x}},t.deferredUpdates=function(x){var _=Xn,T=Br.transition;try{return Br.transition=null,Xn=16,x()}finally{Xn=_,Br.transition=T}},t.discreteUpdates=function(x,_,T,F,z){var X=Xn,ge=Br.transition;try{return Br.transition=null,Xn=1,x(_,T,F,z)}finally{Xn=X,Br.transition=ge,Zn===0&&Hu()}},t.findAllNodes=Ll,t.findBoundingRects=function(x,_){if(!Ut)throw Error(o(363));_=Ll(x,_),x=[];for(var T=0;T<_.length;T++)x.push(Et(_[T]));for(_=x.length-1;0<_;_--){T=x[_];for(var F=T.x,z=F+T.width,X=T.y,ge=X+T.height,Ne=_-1;0<=Ne;Ne--)if(_!==Ne){var it=x[Ne],kt=it.x,an=kt+it.width,$n=it.y,En=$n+it.height;if(F>=kt&&X>=$n&&z<=an&&ge<=En){x.splice(_,1);break}else if(F!==kt||T.width!==it.width||En<X||$n>ge){if(!(X!==$n||T.height!==it.height||an<F||kt>z)){kt>F&&(it.width+=kt-F,it.x=F),an<z&&(it.width=z-kt),x.splice(_,1);break}}else{$n>X&&(it.height+=$n-X,it.y=X),En<ge&&(it.height=ge-$n),x.splice(_,1);break}}}return x},t.findHostInstance=F_,t.findHostInstanceWithNoPortals=function(x){return x=L(x),x=x!==null?K(x):null,x===null?null:x.stateNode},t.findHostInstanceWithWarning=function(x){return F_(x)},t.flushControlled=function(x){var _=Zn;Zn|=1;var T=Br.transition,F=Xn;try{Br.transition=null,Xn=1,x()}finally{Xn=F,Br.transition=T,Zn=_,Zn===0&&(Hu(),io())}},t.flushPassiveEffects=Qa,t.flushSync=sf,t.focusWithin=function(x,_){if(!Ut)throw Error(o(363));for(x=Fh(x),_=Io(x,_),_=Array.from(_),x=0;x<_.length;){var T=_[x++];if(!ie(T)){if(T.tag===5&&Je(T.stateNode))return!0;for(T=T.child;T!==null;)_.push(T),T=T.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Xn},t.getFindAllNodesFailureDescription=function(x,_){if(!Ut)throw Error(o(363));var T=0,F=[];x=[Fh(x),0];for(var z=0;z<x.length;){var X=x[z++],ge=x[z++],Ne=_[ge];if((X.tag!==5||!ie(X))&&(Dh(X,Ne)&&(F.push(Bc(Ne)),ge++,ge>T&&(T=ge)),ge<_.length))for(X=X.child;X!==null;)x.push(X,ge),X=X.sibling}if(T<_.length){for(x=[];T<_.length;T++)x.push(Bc(_[T]));return`findAllNodes was able to match part of the selector:
  `+(F.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},t.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return V(x.child.stateNode);default:return x.child.stateNode}},t.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:rg,findFiberByHostInstance:x.findFiberByHostInstance||D_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var _=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_.isDisabled||!_.supportsFiber)x=!0;else{try{bu=_.inject(x),Yo=_}catch{}x=!!_.checkDCE}}return x},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(x,_,T,F){if(!Ut)throw Error(o(363));x=Ll(x,_);var z=ft(x,T,F).disconnect;return{disconnect:function(){z()}}},t.registerMutableSourceForHydration=function(x,_){var T=_._getVersion;T=T(_._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[_,T]:x.mutableSourceEagerHydrationData.push(_,T)},t.runWithPriority=function(x,_){var T=Xn;try{return Xn=x,_()}finally{Xn=T}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(x,_,T,F){var z=_.current,X=Er(),ge=Ea(z);return T=O_(T),_.context===null?_.context=T:_.pendingContext=T,_=Qo(X,ge),_.payload={element:x},F=F===void 0?null:F,F!==null&&(_.callback=F),$a(z,_),x=Fs(z,ge,X),x!==null&&jd(x,z,ge),ge},t}),r3}var zG;function BBe(){return zG||(zG=1,e3.exports=DBe()),e3.exports}var kBe=BBe();const LBe=zr(kBe);var i3={exports:{}},s3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HG;function jBe(){return HG||(HG=1,(function(n){function e(H,Z){var te=H.length;H.push(Z);e:for(;0<te;){var Y=te-1>>>1,ae=H[Y];if(0<i(ae,Z))H[Y]=Z,H[te]=ae,te=Y;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],te=H.pop();if(te!==Z){H[0]=te;e:for(var Y=0,ae=H.length,we=ae>>>1;Y<we;){var Fe=2*(Y+1)-1,qe=H[Fe],fe=Fe+1,xe=H[fe];if(0>i(qe,te))fe<ae&&0>i(xe,qe)?(H[Y]=xe,H[fe]=te,Y=fe):(H[Y]=qe,H[Fe]=te,Y=Fe);else if(fe<ae&&0>i(xe,te))H[Y]=xe,H[fe]=te,Y=fe;else break e}}return Z}function i(H,Z){var te=H.sortIndex-Z.sortIndex;return te!==0?te:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,f=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Z=t(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=H)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(u)}}function C(H){if(b=!1,E(H),!v)if(t(l)!==null)v=!0,V(M);else{var Z=t(u);Z!==null&&ee(C,Z.startTime-H)}}function M(H,Z){v=!1,b&&(b=!1,w(k),k=-1),m=!0;var te=f;try{for(E(Z),c=t(l);c!==null&&(!(c.expirationTime>Z)||H&&!L());){var Y=c.callback;if(typeof Y=="function"){c.callback=null,f=c.priorityLevel;var ae=Y(c.expirationTime<=Z);Z=n.unstable_now(),typeof ae=="function"?c.callback=ae:c===t(l)&&r(l),E(Z)}else r(l);c=t(l)}if(c!==null)var we=!0;else{var Fe=t(u);Fe!==null&&ee(C,Fe.startTime-Z),we=!1}return we}finally{c=null,f=te,m=!1}}var R=!1,O=null,k=-1,D=5,I=-1;function L(){return!(n.unstable_now()-I<D)}function W(){if(O!==null){var H=n.unstable_now();I=H;var Z=!0;try{Z=O(!0,H)}finally{Z?q():(R=!1,O=null)}}else R=!1}var q;if(typeof A=="function")q=function(){A(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=W,q=function(){ne.postMessage(null)}}else q=function(){y(W,0)};function V(H){O=H,R||(R=!0,q())}function ee(H,Z){k=y(function(){H(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,V(M))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var te=f;f=Z;try{return H()}finally{f=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=f;f=H;try{return Z()}finally{f=te}},n.unstable_scheduleCallback=function(H,Z,te){var Y=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Y+te:Y):te=Y,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,H={id:d++,callback:Z,priorityLevel:H,startTime:te,expirationTime:ae,sortIndex:-1},te>Y?(H.sortIndex=te,e(u,H),t(l)===null&&H===t(u)&&(b?(w(k),k=-1):b=!0,ee(C,te-Y))):(H.sortIndex=ae,e(l,H),v||m||(v=!0,V(M))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var Z=f;return function(){var te=f;f=Z;try{return H.apply(this,arguments)}finally{f=te}}}})(s3)),s3}var GG;function UBe(){return GG||(GG=1,i3.exports=jBe()),i3.exports}var VG=UBe();const ok={},GQ=n=>void Object.assign(ok,n);function zBe(n,e){function t(d,{args:c=[],attach:f,...m},v){let b=`${d[0].toUpperCase()}${d.slice(1)}`,y;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;y=kg(w,{type:d,root:v,attach:f,primitive:!0})}else{const w=ok[b];if(!w)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(c))throw new Error("R3F: The args prop must be an array!");y=kg(new w(...c),{type:d,root:v,attach:f,memoizedProps:{args:c}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),b!=="inject"&&l3(y,m),y}function r(d,c){let f=!1;if(c){var m,v;(m=c.__r3f)!=null&&m.attach?a3(d,c,c.__r3f.attach):c.isObject3D&&d.isObject3D&&(d.add(c),f=!0),f||(v=d.__r3f)==null||v.objects.push(c),c.__r3f||kg(c,{}),c.__r3f.parent=d,JO(c),Lg(c)}}function i(d,c,f){let m=!1;if(c){var v,b;if((v=c.__r3f)!=null&&v.attach)a3(d,c,c.__r3f.attach);else if(c.isObject3D&&d.isObject3D){c.parent=d,c.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:c});const y=d.children.filter(A=>A!==c),w=y.indexOf(f);d.children=[...y.slice(0,w),c,...y.slice(w)],m=!0}m||(b=d.__r3f)==null||b.objects.push(c),c.__r3f||kg(c,{}),c.__r3f.parent=d,JO(c),Lg(c)}}function s(d,c,f=!1){d&&[...d].forEach(m=>o(c,m,f))}function o(d,c,f){if(c){var m,v,b;if(c.__r3f&&(c.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(C=>C!==c)),(v=c.__r3f)!=null&&v.attach)KG(d,c,c.__r3f.attach);else if(c.isObject3D&&d.isObject3D){var y;d.remove(c),(y=c.__r3f)!=null&&y.root&&XBe($w(c),c)}const A=(b=c.__r3f)==null?void 0:b.primitive,E=!A&&(f===void 0?c.dispose!==null:f);if(!A){var w;s((w=c.__r3f)==null?void 0:w.objects,c,E),s(c.children,c,E)}if(delete c.__r3f,E&&c.dispose&&c.type!=="Scene"){const C=()=>{try{c.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?VG.unstable_scheduleCallback(VG.unstable_IdlePriority,C):C()}Lg(d)}}function a(d,c,f,m){var v;const b=(v=d.__r3f)==null?void 0:v.parent;if(!b)return;const y=t(c,f,d.__r3f.root);if(d.children){for(const w of d.children)w.__r3f&&r(y,w);d.children=d.children.filter(w=>!w.__r3f)}d.__r3f.objects.forEach(w=>r(y,w)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(b,d),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(b,y),y.raycast&&y.__r3f.eventCount&&$w(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=y,w.ref&&(typeof w.ref=="function"?w.ref(y):w.ref.current=y))})}const l=()=>{};return{reconciler:LBe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,c)=>{if(!c)return;const f=d.getState().scene;f.__r3f&&(f.__r3f.root=d,r(f,c))},removeChildFromContainer:(d,c)=>{c&&o(d.getState().scene,c)},insertInContainerBefore:(d,c,f)=>{if(!c||!f)return;const m=d.getState().scene;m.__r3f&&i(m,c,f)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var c;return!!((c=d?.__r3f)!=null?c:{}).handlers},prepareUpdate(d,c,f,m){var v;if(((v=d?.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:w,...A}=m,{args:E=[],children:C,...M}=f;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((O,k)=>O!==E[k]))return[!0];const R=YQ(d,A,M,!0);return R.changes.length?[!1,R]:null}},commitUpdate(d,[c,f],m,v,b,y){c?a(d,m,b,y):l3(d,f)},commitMount(d,c,f,m){var v;const b=(v=d.__r3f)!=null?v:{};d.raycast&&b.handlers&&b.eventCount&&$w(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>kg(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var c;const{attach:f,parent:m}=(c=d.__r3f)!=null?c:{};f&&m&&KG(m,d,f),d.isObject3D&&(d.visible=!1),Lg(d)},unhideInstance(d,c){var f;const{attach:m,parent:v}=(f=d.__r3f)!=null?f:{};m&&v&&a3(v,d,m),(d.isObject3D&&c.visible==null||c.visible)&&(d.visible=!0),Lg(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Gg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ri.fun(performance.now)?performance.now:ri.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ri.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ri.fun(clearTimeout)?clearTimeout:void 0}),applyProps:l3}}var WG,$G;const o3=n=>"colorSpace"in n||"outputColorSpace"in n,VQ=()=>{var n;return(n=ok.ColorManagement)!=null?n:null},WQ=n=>n&&n.isOrthographicCamera,HBe=n=>n&&n.hasOwnProperty("current"),f_=typeof window<"u"&&((WG=window.document)!=null&&WG.createElement||(($G=window.navigator)==null?void 0:$G.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function $Q(n){const e=B.useRef(n);return f_(()=>void(e.current=n),[n]),e}function GBe({set:n}){return f_(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class qQ extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}qQ.getDerivedStateFromError=()=>({error:!0});const XQ="__default",qG=new Map,VBe=n=>n&&!!n.memoized&&!!n.changes;function KQ(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Uy=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function $w(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ri={obj:n=>n===Object(n)&&!ri.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ri.str(n)||ri.num(n)||ri.boo(n))return n===e;const s=ri.obj(n);if(s&&r==="reference")return n===e;const o=ri.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!ri.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(ri.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function WBe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function $Be(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function kg(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function YO(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const XG=/-\d+$/;function a3(n,e,t){if(ri.str(t)){if(XG.test(t)){const s=t.replace(XG,""),{target:o,key:a}=YO(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=YO(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function KG(n,e,t){var r,i;if(ri.str(t)){const{target:s,key:o}=YO(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function YQ(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const d=n.__r3f,c=Object.entries(i),f=[];if(u){const v=Object.keys(l);for(let b=0;b<v.length;b++)i.hasOwnProperty(v[b])||c.unshift([v[b],XQ+"remove"])}c.forEach(([v,b])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||ri.equ(b,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,b,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),f.push([v,b,!1,w]);for(const A in i){const E=i[A];A.startsWith(`${v}-`)&&f.push([A,E,!1,A.split("-")])}});const m={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:f}}function l3(n,e){var t;const r=n.__r3f,i=r?.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=VBe(e)?e:YQ(n,e),l=r?.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[m,v,b,y]=a[f];if(o3(n)){const C="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?C:M):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?C:M)}let w=n,A=w[m];if(y.length&&(A=y.reduce((E,C)=>E[C],n),!(A&&A.set))){const[E,...C]=y.reverse();w=C.reverse().reduce((M,R)=>M[R],n),m=E}if(v===XQ+"remove")if(w.constructor){let E=qG.get(w.constructor);E||(E=new w.constructor,qG.set(w.constructor,E)),v=E[m]}else v=0;if(b&&r)v?r.handlers[m]=v:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Wp)){if(Array.isArray(v))A.fromArray?A.fromArray(v):A.set(...v);else if(A.copy&&v&&v.constructor&&A.constructor===v.constructor)A.copy(v);else if(v!==void 0){var u;const E=(u=A)==null?void 0:u.isColor;!E&&A.setScalar?A.setScalar(v):A instanceof Wp&&v instanceof Wp?A.mask=v.mask:A.set(v),!VQ()&&s&&!s.linear&&E&&A.convertSRGBToLinear()}}else{var d;if(w[m]=v,(d=w[m])!=null&&d.isTexture&&w[m].format===$i&&w[m].type===qo&&s){const E=w[m];o3(E)&&o3(s.gl)?E.colorSpace=s.gl.outputColorSpace:E.encoding=s.gl.outputEncoding}}Lg(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const f=$w(n).getState().internal,m=f.interaction.indexOf(n);m>-1&&f.interaction.splice(m,1),r.eventCount&&f.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&JO(n),n}function Lg(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function JO(n){n.onUpdate==null||n.onUpdate(n)}function JQ(n,e){n.manual||(WQ(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function bw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function qBe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Gg.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Gg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Gg.ContinuousEventPriority;default:return Gg.DefaultEventPriority}}function ZQ(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function XBe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{ZQ(t.capturedMap,e,r,i)})}function KBe(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],c=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+c*c))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var c;return(c=u.__r3f)==null?void 0:c.handlers["onPointer"+d]}))}function r(l,u){const d=n.getState(),c=new Set,f=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let w=0;w<m.length;w++){const A=Uy(m[w]);A&&(A.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(w){const A=Uy(w);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var E;A.events.compute==null||A.events.compute(l,A,(E=A.previousRoot)==null?void 0:E.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(w,!0):[]}let b=m.flatMap(v).sort((w,A)=>{const E=Uy(w.object),C=Uy(A.object);return!E||!C?w.distance-A.distance:C.events.priority-E.events.priority||w.distance-A.distance}).filter(w=>{const A=bw(w);return c.has(A)?!1:(c.add(A),!0)});d.events.filter&&(b=d.events.filter(b,d));for(const w of b){let A=w.object;for(;A;){var y;(y=A.__r3f)!=null&&y.eventCount&&f.push({...w,eventObject:A}),A=A.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let w of d.internal.capturedMap.get(l.pointerId).values())c.has(bw(w.intersection))||f.push(w.intersection);return f}function i(l,u,d,c){const f=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const b=Uy(v.object)||f,{raycaster:y,pointer:w,camera:A,internal:E}=b,C=new de(w.x,w.y,0).unproject(A),M=I=>{var L,W;return(L=(W=E.capturedMap.get(I))==null?void 0:W.has(v.eventObject))!=null?L:!1},R=I=>{const L={intersection:v,target:u.target};E.capturedMap.has(I)?E.capturedMap.get(I).set(v.eventObject,L):E.capturedMap.set(I,new Map([[v.eventObject,L]])),u.target.setPointerCapture(I)},O=I=>{const L=E.capturedMap.get(I);L&&ZQ(E.capturedMap,v.eventObject,L,I)};let k={};for(let I in u){let L=u[I];typeof L!="function"&&(k[I]=L)}let D={...v,...k,pointer:w,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:C,ray:y.ray,camera:A,stopPropagation(){const I="pointerId"in u&&E.capturedMap.get(u.pointerId);if((!I||I.has(v.eventObject))&&(D.stopped=m.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(L=>L.eventObject===v.eventObject))){const L=l.slice(0,l.indexOf(v));s([...L,v])}},target:{hasPointerCapture:M,setPointerCapture:R,releasePointerCapture:O},currentTarget:{hasPointerCapture:M,setPointerCapture:R,releasePointerCapture:O},nativeEvent:u};if(c(D),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(c=>c.object===d.object&&c.index===d.index&&c.instanceId===d.instanceId)){const f=d.eventObject.__r3f,m=f?.handlers;if(u.hovered.delete(bw(d)),f!=null&&f.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let d=0;d<u.length;d++){const c=u[d].__r3f;c==null||c.handlers.onPointerMissed==null||c.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:c,internal:f}=n.getState();f.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(d,m?t:void 0),w=v?e(d):0;l==="onPointerDown"&&(f.initialClick=[d.offsetX,d.offsetY],f.initialHits=y.map(E=>E.eventObject)),v&&!y.length&&w<=2&&(o(d,f.interaction),c&&c(d)),m&&s(y);function A(E){const C=E.eventObject,M=C.__r3f,R=M?.handlers;if(M!=null&&M.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const O=bw(E),k=f.hovered.get(O);k?k.stopped&&E.stopPropagation():(f.hovered.set(O,E),R.onPointerOver==null||R.onPointerOver(E),R.onPointerEnter==null||R.onPointerEnter(E))}R.onPointerMove==null||R.onPointerMove(E)}else{const O=R[l];O?(!v||f.initialHits.includes(C))&&(o(d,f.interaction.filter(k=>!f.initialHits.includes(k))),O(E)):v&&f.initialHits.includes(C)&&o(d,f.interaction.filter(k=>!f.initialHits.includes(k)))}}i(y,d,w,A)}}return{handlePointer:a}}const YBe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],QQ=n=>!!(n!=null&&n.render),ak=B.createContext(null),JBe=(n,e)=>{const t=UQ((a,l)=>{const u=new de,d=new de,c=new de;function f(w=l().camera,A=d,E=l().size){const{width:C,height:M,top:R,left:O}=E,k=C/M;A.isVector3?c.copy(A):c.set(...A);const D=w.getWorldPosition(u).distanceTo(c);if(WQ(w))return{width:C/w.zoom,height:M/w.zoom,top:R,left:O,factor:1,distance:D,aspect:k};{const I=w.fov*Math.PI/180,L=2*Math.tan(I/2)*D,W=L*(C/M);return{width:W,height:L,top:R,left:O,factor:C/W,distance:D,aspect:k}}}let m;const v=w=>a(A=>({performance:{...A.performance,current:w}})),b=new dt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>n(l(),w),advance:(w,A)=>e(w,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QB,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&v(w.performance.min),m=setTimeout(()=>v(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:w=>a(A=>({...A,events:{...A.events,...w}})),setSize:(w,A,E,C,M)=>{const R=l().camera,O={width:w,height:A,top:C||0,left:M||0,updateStyle:E};a(k=>({size:O,viewport:{...k.viewport,...f(R,d,O)}}))},setDpr:w=>a(A=>{const E=KQ(w);return{viewport:{...A.viewport,dpr:E,initialDpr:A.viewport.initialDpr||E}}}),setFrameloop:(w="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,w!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,A,E)=>{const C=l().internal;return C.priority=C.priority+(A>0?1:0),C.subscribers.push({ref:w,priority:A,store:E}),C.subscribers=C.subscribers.sort((M,R)=>M.priority-R.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(A>0?1:0),M.subscribers=M.subscribers.filter(R=>R.ref!==w))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:c}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var f;i=l,s=u.dpr,JQ(a,l),d.setPixelRatio(u.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,c(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let _w,ZBe=new Set,QBe=new Set,eke=new Set;function c3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function zy(n,e){switch(n){case"before":return c3(ZBe,e);case"after":return c3(QBe,e);case"tail":return c3(eke,e)}}let u3,d3;function f3(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),u3=e.internal.subscribers,_w=0;_w<u3.length;_w++)d3=u3[_w],d3.ref.current(d3.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function tke(n){let e=!1,t=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,zy("before",u),t=!0;for(const c of n.values()){var d;s=c.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=f3(u,s))}if(t=!1,zy("after",u),r===0)return zy("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,d=1){var c;if(!u)return n.forEach(f=>a(f.store.getState(),d));(c=u.gl.xr)!=null&&c.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,d=!0,c,f){if(d&&zy("before",u),c)f3(u,c,f);else for(const m of n.values())f3(u,m.store.getState());d&&zy("after",u)}return{loop:o,invalidate:a,advance:l}}function lk(){const n=B.useContext(ak);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uo(n=t=>t,e){return lk()(n,e)}function sM(n,e=0){const t=lk(),r=t.getState().internal.subscribe,i=$Q(n);return f_(()=>r(i,e,t),[e,r,t]),null}const YG=new WeakMap;function eee(n,e){return function(t,...r){let i=YG.get(t);return i||(i=new t,YG.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,WBe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l?.message}`))))))}}function Ed(n,e,t,r){const i=Array.isArray(e)?e:[e],s=RBe(eee(t,r),[n,...i],{equal:ri.equ});return Array.isArray(e)?s:s[0]}Ed.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return NBe(eee(t),[n,...r])};Ed.clear=function(n,e){const t=Array.isArray(e)?e:[e];return IBe([n,...t])};const ev=new Map,{invalidate:JG,advance:ZG}=tke(ev),{reconciler:Sb,applyProps:Pf}=zBe(ev,qBe),Bg={objects:"shallow",strict:!1},nke=(n,e)=>{const t=typeof n=="function"?n(e):n;return QQ(t)?t:new sk({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function rke(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function ike(n){const e=ev.get(n),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||JBe(JG,ZG),o=t||Sb.createContainer(s,Gg.ConcurrentRoot,null,!1,null,"",i,null);e||ev.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(d={}){let{gl:c,size:f,scene:m,events:v,onCreated:b,shadows:y=!1,linear:w=!1,flat:A=!1,legacy:E=!1,orthographic:C=!1,frameloop:M="always",dpr:R=[1,2],performance:O,raycaster:k,camera:D,onPointerMissed:I}=d,L=s.getState(),W=L.gl;L.gl||L.set({gl:W=nke(c,n)});let q=L.raycaster;q||L.set({raycaster:q=new rk});const{params:K,...ne}=k||{};if(ri.equ(ne,q,Bg)||Pf(q,{...ne}),ri.equ(K,q.params,Bg)||Pf(q,{params:{...q.params,...K}}),!L.camera||L.camera===u&&!ri.equ(u,D,Bg)){u=D;const te=D instanceof t_,Y=te?D:C?new nu(0,0,0,0,.1,1e3):new ki(75,0,.1,1e3);te||(Y.position.z=5,D&&(Pf(Y,D),("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(Y.manual=!0,Y.updateProjectionMatrix())),!L.camera&&!(D!=null&&D.rotation)&&Y.lookAt(0,0,0)),L.set({camera:Y}),q.camera=Y}if(!L.scene){let te;m!=null&&m.isScene?te=m:(te=new r_,m&&Pf(te,m)),L.set({scene:kg(te)})}if(!L.xr){var V;const te=(we,Fe)=>{const qe=s.getState();qe.frameloop!=="never"&&ZG(we,!0,qe,Fe)},Y=()=>{const we=s.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?te:null),we.gl.xr.isPresenting||JG(we)},ae={connect(){const we=s.getState().gl;we.xr.addEventListener("sessionstart",Y),we.xr.addEventListener("sessionend",Y)},disconnect(){const we=s.getState().gl;we.xr.removeEventListener("sessionstart",Y),we.xr.removeEventListener("sessionend",Y)}};typeof((V=W.xr)==null?void 0:V.addEventListener)=="function"&&ae.connect(),L.set({xr:ae})}if(W.shadowMap){const te=W.shadowMap.enabled,Y=W.shadowMap.type;if(W.shadowMap.enabled=!!y,ri.boo(y))W.shadowMap.type=ax;else if(ri.str(y)){var ee;const ae={basic:qJ,percentage:AC,soft:ax,variance:tc};W.shadowMap.type=(ee=ae[y])!=null?ee:ax}else ri.obj(y)&&Object.assign(W.shadowMap,y);(te!==W.shadowMap.enabled||Y!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const H=VQ();H&&("enabled"in H?H.enabled=!E:"legacyMode"in H&&(H.legacyMode=E)),l||Pf(W,{outputEncoding:w?3e3:3001,toneMapping:A?tu:EC}),L.legacy!==E&&L.set(()=>({legacy:E})),L.linear!==w&&L.set(()=>({linear:w})),L.flat!==A&&L.set(()=>({flat:A})),c&&!ri.fun(c)&&!QQ(c)&&!ri.equ(c,W,Bg)&&Pf(W,c),v&&!L.events.handlers&&L.set({events:v(s)});const Z=rke(n,f);return ri.equ(Z,L.size,Bg)||L.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),R&&L.viewport.dpr!==KQ(R)&&L.setDpr(R),L.frameloop!==M&&L.setFrameloop(M),L.onPointerMissed||L.set({onPointerMissed:I}),O&&!ri.equ(O,L.performance,Bg)&&L.set(te=>({performance:{...te.performance,...O}})),a=b,l=!0,this},render(d){return l||this.configure(),Sb.updateContainer(p.jsx(ske,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){tee(n)}}}function ske({store:n,children:e,onCreated:t,rootElement:r}){return f_(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),p.jsx(ak.Provider,{value:n,children:e})}function tee(n,e){const t=ev.get(n),r=t?.fiber;if(r){const i=t?.store.getState();i&&(i.internal.active=!1),Sb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),$Be(i),ev.delete(n)}catch{}},500)})}}function oke(n,e,t){return p.jsx(ake,{children:n,container:e,state:t},e.uuid)}function ake({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=lk(),[a]=B.useState(()=>new rk),[l]=B.useState(()=>new dt),u=B.useCallback((c,f)=>{const m={...c};Object.keys(c).forEach(b=>{(YBe.includes(b)||c[b]!==f[b]&&f[b])&&delete m[b]});let v;if(f&&i){const b=f.camera;v=c.viewport.getCurrentViewport(b,new de,i),b!==c.camera&&JQ(b,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...c.events,...f?.events,...r},size:{...c.size,...i},viewport:{...c.viewport,...v},...s}},[n]),[d]=B.useState(()=>{const c=o.getState();return UQ((m,v)=>({...c,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...c.events,...r},size:{...c.size,...i},...s,set:m,get:v,setEvents:b=>m(y=>({...y,events:{...y.events,...b}}))}))});return B.useEffect(()=>{const c=o.subscribe(f=>d.setState(m=>u(f,m)));return()=>{c()}},[u]),B.useEffect(()=>{d.setState(c=>u(o.getState(),c))},[u]),B.useEffect(()=>()=>{d.destroy()},[]),p.jsx(p.Fragment,{children:Sb.createPortal(p.jsx(ak.Provider,{value:d,children:e}),d,null)})}Sb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});const h3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function lke(n){const{handlePointer:e}=KBe(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(h3).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=h3[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=h3[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function QG(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function cke({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=B.useRef(!1);B.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[c,f,m]=B.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:A,top:E,width:C,height:M,bottom:R,right:O,x:k,y:D}=a.current.element.getBoundingClientRect(),I={left:A,top:E,width:C,height:M,bottom:R,right:O,x:k,y:D};a.current.element instanceof HTMLElement&&r&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),d.current&&!hke(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[w,u?QG(w,u):w,l?QG(w,l):w]},[o,r,l,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=w=>{!w||w===a.current.element||(v(),a.current.element=w,a.current.scrollContainers=nee(w),b())};return dke(m,!!e),uke(f),B.useEffect(()=>{v(),b()},[e,m,f]),B.useEffect(()=>v,[]),[y,s,c]}function uke(n){B.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function dke(n,e){B.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function nee(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...nee(n.parentElement)]}const fke=["x","y","top","bottom","left","right","width","height"],hke=(n,e)=>fke.every(t=>n[t]===e[t]);var pke=Object.defineProperty,mke=Object.defineProperties,gke=Object.getOwnPropertyDescriptors,eV=Object.getOwnPropertySymbols,vke=Object.prototype.hasOwnProperty,yke=Object.prototype.propertyIsEnumerable,tV=(n,e,t)=>e in n?pke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nV=(n,e)=>{for(var t in e||(e={}))vke.call(e,t)&&tV(n,t,e[t]);if(eV)for(var t of eV(e))yke.call(e,t)&&tV(n,t,e[t]);return n},xke=(n,e)=>mke(n,gke(e)),rV,iV;typeof window<"u"&&((rV=window.document)!=null&&rV.createElement||((iV=window.navigator)==null?void 0:iV.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function ree(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=ree(r,e,t);if(i)return i;r=r.sibling}}function iee(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const sV=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=sV;return}return sV.apply(this,arguments)};const ck=iee(B.createContext(null));class see extends B.Component{render(){return B.createElement(ck.Provider,{value:this._reactInternals},this.props.children)}}function bke(){const n=B.useContext(ck);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[n,n?.alternate]){if(!r)continue;const i=ree(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function _ke(){const n=bke(),[e]=B.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==ck&&!e.has(i)&&e.set(i,B.useContext(iee(i)))}t=t.return}return e}function wke(){const n=_ke();return B.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>B.createElement(e,null,B.createElement(t.Provider,xke(nV({},r),{value:n.get(t)}))),e=>B.createElement(see,nV({},e))),[n])}const Ske=B.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=lke,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:c,legacy:f,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:w,camera:A,scene:E,onPointerMissed:C,onCreated:M,...R},O){B.useMemo(()=>GQ(ABe),[]);const k=wke(),[D,I]=cke({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=B.useRef(null),W=B.useRef(null);B.useImperativeHandle(O,()=>L.current);const q=$Q(C),[K,ne]=B.useState(!1),[V,ee]=B.useState(!1);if(K)throw K;if(V)throw V;const H=B.useRef(null);f_(()=>{const te=L.current;I.width>0&&I.height>0&&te&&(H.current||(H.current=ike(te)),H.current.configure({gl:s,events:o,shadows:u,linear:d,flat:c,legacy:f,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:w,camera:A,scene:E,size:I,onPointerMissed:(...Y)=>q.current==null?void 0:q.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(a?HBe(a)?a.current:a:W.current),l&&Y.setEvents({compute:(ae,we)=>{const Fe=ae[l+"X"],qe=ae[l+"Y"];we.pointer.set(Fe/we.size.width*2-1,-(qe/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),M?.(Y)}}),H.current.render(p.jsx(k,{children:p.jsx(qQ,{set:ee,children:p.jsx(B.Suspense,{fallback:p.jsx(GBe,{set:ne}),children:e??null})})})))}),B.useEffect(()=>{const te=L.current;if(te)return()=>tee(te)},[]);const Z=a?"none":"auto";return p.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i},...R,children:p.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:p.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}),Ake=B.forwardRef(function(e,t){return p.jsx(see,{children:p.jsx(Ske,{...e,ref:t})})}),oV=n=>{let e;const t=new Set,r=(u,d)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const f=e;e=d??(typeof c!="object"||c===null)?c:Object.assign({},e,c),t.forEach(m=>m(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,i,a);return a},Eke=(n=>n?oV(n):oV),Cke=n=>n;function Mke(n,e=Cke){const t=ue.useSyncExternalStore(n.subscribe,ue.useCallback(()=>e(n.getState()),[n,e]),ue.useCallback(()=>e(n.getInitialState()),[n,e]));return ue.useDebugValue(t),t}const Tke=n=>{const e=Eke(n),t=r=>Mke(e,r);return Object.assign(t,e),t},Pke=(n=>Tke);function Rke(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const ZO=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return ZO(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return ZO(r)(t)}}}},Nke=(n,e)=>(t,r,i)=>{let s={storage:Rke(()=>localStorage),partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...b)},r,i);const d=()=>{const b=s.partialize({...r()});return u.setItem(s.name,{state:b,version:s.version})},c=i.setState;i.setState=(b,y)=>(c(b,y),d());const f=n((...b)=>(t(...b),d()),r,i);i.getInitialState=()=>f;let m;const v=()=>{var b,y;if(!u)return;o=!1,a.forEach(A=>{var E;return A((E=r())!=null?E:f)});const w=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(b=r())!=null?b:f))||void 0;return ZO(u.getItem.bind(u))(s.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==s.version){if(s.migrate){const E=s.migrate(A.state,A.version);return E instanceof Promise?E.then(C=>[!0,C]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var E;const[C,M]=A;if(m=s.merge(M,(E=r())!=null?E:f),t(m,!0),C)return d()}).then(()=>{w?.(m,void 0),m=r(),o=!0,l.forEach(A=>A(m))}).catch(A=>{w?.(void 0,A)})};return i.persist={setOptions:b=>{s={...s,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},s.skipHydration||v(),m||f},Ike=Nke,uk=parseInt(Yb.replace(/\D+/g,""));function aV(n,e){if(e===SZ)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===XA||e===wB){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===XA)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var hl=Uint8Array,jf=Uint16Array,QO=Uint32Array,oee=new hl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aee=new hl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Oke=new hl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lee=function(n,e){for(var t=new jf(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new QO(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},cee=lee(oee,2),uee=cee[0],Fke=cee[1];uee[28]=258,Fke[258]=28;var Dke=lee(aee,0),Bke=Dke[0],eF=new jf(32768);for(var di=0;di<32768;++di){var Sf=(di&43690)>>>1|(di&21845)<<1;Sf=(Sf&52428)>>>2|(Sf&13107)<<2,Sf=(Sf&61680)>>>4|(Sf&3855)<<4,eF[di]=((Sf&65280)>>>8|(Sf&255)<<8)>>>1}var mx=(function(n,e,t){for(var r=n.length,i=0,s=new jf(e);i<r;++i)++s[n[i]-1];var o=new jf(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new jf(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],d=e-n[i],c=o[n[i]-1]++<<d,f=c|(1<<d)-1;c<=f;++c)a[eF[c]>>>l]=u}else for(a=new jf(r),i=0;i<r;++i)n[i]&&(a[i]=eF[o[n[i]-1]++]>>>15-n[i]);return a}),h_=new hl(288);for(var di=0;di<144;++di)h_[di]=8;for(var di=144;di<256;++di)h_[di]=9;for(var di=256;di<280;++di)h_[di]=7;for(var di=280;di<288;++di)h_[di]=8;var dee=new hl(32);for(var di=0;di<32;++di)dee[di]=5;var kke=mx(h_,9,1),Lke=mx(dee,5,1),p3=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Jl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},m3=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},jke=function(n){return(n/8|0)+(n&7&&1)},Uke=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof jf?jf:n instanceof QO?QO:hl)(t-e);return r.set(n.subarray(e,t)),r},zke=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new hl(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new hl(r*3));var o=function(fe){var xe=e.length;if(fe>xe){var Pe=new hl(Math.max(xe*2,fe));Pe.set(e),e=Pe}},a=t.f||0,l=t.p||0,u=t.b||0,d=t.l,c=t.d,f=t.m,m=t.n,v=r*8;do{if(!d){t.f=a=Jl(n,l,1);var b=Jl(n,l+1,3);if(l+=3,b)if(b==1)d=kke,c=Lke,f=9,m=5;else if(b==2){var E=Jl(n,l,31)+257,C=Jl(n,l+10,15)+4,M=E+Jl(n,l+5,31)+1;l+=14;for(var R=new hl(M),O=new hl(19),k=0;k<C;++k)O[Oke[k]]=Jl(n,l+k*3,7);l+=C*3;for(var D=p3(O),I=(1<<D)-1,L=mx(O,D,1),k=0;k<M;){var W=L[Jl(n,l,I)];l+=W&15;var y=W>>>4;if(y<16)R[k++]=y;else{var q=0,K=0;for(y==16?(K=3+Jl(n,l,3),l+=2,q=R[k-1]):y==17?(K=3+Jl(n,l,7),l+=3):y==18&&(K=11+Jl(n,l,127),l+=7);K--;)R[k++]=q}}var ne=R.subarray(0,E),V=R.subarray(E);f=p3(ne),m=p3(V),d=mx(ne,f,1),c=mx(V,m,1)}else throw"invalid block type";else{var y=jke(l)+4,w=n[y-4]|n[y-3]<<8,A=y+w;if(A>r){if(s)throw"unexpected EOF";break}i&&o(u+w),e.set(n.subarray(y,A),u),t.b=u+=w,t.p=l=A*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var ee=(1<<f)-1,H=(1<<m)-1,Z=l;;Z=l){var q=d[m3(n,l)&ee],te=q>>>4;if(l+=q&15,l>v){if(s)throw"unexpected EOF";break}if(!q)throw"invalid length/literal";if(te<256)e[u++]=te;else if(te==256){Z=l,d=null;break}else{var Y=te-254;if(te>264){var k=te-257,ae=oee[k];Y=Jl(n,l,(1<<ae)-1)+uee[k],l+=ae}var we=c[m3(n,l)&H],Fe=we>>>4;if(!we)throw"invalid distance";l+=we&15;var V=Bke[Fe];if(Fe>3){var ae=aee[Fe];V+=m3(n,l)&(1<<ae)-1,l+=ae}if(l>v){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var qe=u+Y;u<qe;u+=4)e[u]=e[u-V],e[u+1]=e[u+1-V],e[u+2]=e[u+2-V],e[u+3]=e[u+3-V];u=qe}}t.l=d,t.p=Z,t.b=u,d&&(a=1,t.m=f,t.d=c,t.n=m)}while(!a);return u==e.length?e:Uke(e,0,u)},Hke=new hl(0),Gke=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function ww(n,e){return zke((Gke(n),n.subarray(2,-4)),e)}var Vke=typeof TextDecoder<"u"&&new TextDecoder,Wke=0;try{Vke.decode(Hke,{stream:!0}),Wke=1}catch{}const $ke=n=>n&&n.isCubeTexture;class qke extends Ci{constructor(e,t){var r,i;const s=$ke(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),d=3*Math.max(u,112),c=4*u,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/c}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${uk>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},y=new l_(1,16),w=new Xo({uniforms:b,fragmentShader:v,vertexShader:m,side:fl});super(y,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Xke=Object.defineProperty,Kke=(n,e,t)=>e in n?Xke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yke=(n,e,t)=>(Kke(n,e+"",t),t);class Jke{constructor(){Yke(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Zke=Object.defineProperty,Qke=(n,e,t)=>e in n?Zke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,On=(n,e,t)=>(Qke(n,typeof e!="symbol"?e+"":e,t),t);const Sw=new bm,lV=new id,eLe=Math.cos(70*(Math.PI/180)),cV=(n,e)=>(n%e+e)%e;let tLe=class extends Jke{constructor(e,t){super(),On(this,"object"),On(this,"domElement"),On(this,"enabled",!0),On(this,"target",new de),On(this,"minDistance",0),On(this,"maxDistance",1/0),On(this,"minZoom",0),On(this,"maxZoom",1/0),On(this,"minPolarAngle",0),On(this,"maxPolarAngle",Math.PI),On(this,"minAzimuthAngle",-1/0),On(this,"maxAzimuthAngle",1/0),On(this,"enableDamping",!1),On(this,"dampingFactor",.05),On(this,"enableZoom",!0),On(this,"zoomSpeed",1),On(this,"enableRotate",!0),On(this,"rotateSpeed",1),On(this,"enablePan",!0),On(this,"panSpeed",1),On(this,"screenSpacePanning",!0),On(this,"keyPanSpeed",7),On(this,"zoomToCursor",!1),On(this,"autoRotate",!1),On(this,"autoRotateSpeed",2),On(this,"reverseOrbit",!1),On(this,"reverseHorizontalOrbit",!1),On(this,"reverseVerticalOrbit",!1),On(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),On(this,"mouseButtons",{LEFT:gp.ROTATE,MIDDLE:gp.DOLLY,RIGHT:gp.PAN}),On(this,"touches",{ONE:vp.ROTATE,TWO:vp.DOLLY_PAN}),On(this,"target0"),On(this,"position0"),On(this,"zoom0"),On(this,"_domElementKeyEvents",null),On(this,"getPolarAngle"),On(this,"getAzimuthalAngle"),On(this,"setPolarAngle"),On(this,"setAzimuthalAngle"),On(this,"getDistance"),On(this,"getZoomScale"),On(this,"listenToKeyEvents"),On(this,"stopListenToKeyEvents"),On(this,"saveState"),On(this,"reset"),On(this,"update"),On(this,"connect"),On(this,"dispose"),On(this,"dollyIn"),On(this,"dollyOut"),On(this,"getScale"),On(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Se=>{let Le=cV(Se,2*Math.PI),ut=d.phi;ut<0&&(ut+=2*Math.PI),Le<0&&(Le+=2*Math.PI);let ve=Math.abs(Le-ut);2*Math.PI-ve<ve&&(Le<ut?Le+=2*Math.PI:ut+=2*Math.PI),c.phi=Le-ut,r.update()},this.setAzimuthalAngle=Se=>{let Le=cV(Se,2*Math.PI),ut=d.theta;ut<0&&(ut+=2*Math.PI),Le<0&&(Le+=2*Math.PI);let ve=Math.abs(Le-ut);2*Math.PI-ve<ve&&(Le<ut?Le+=2*Math.PI:ut+=2*Math.PI),c.theta=Le-ut,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",Xe),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Xe),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Se=new de,Le=new de(0,1,0),ut=new Us().setFromUnitVectors(e.up,Le),ve=ut.clone().invert(),Be=new de,mt=new Us,St=2*Math.PI;return function(){const ze=r.object.position;ut.setFromUnitVectors(e.up,Le),ve.copy(ut).invert(),Se.copy(ze).sub(r.target),Se.applyQuaternion(ut),d.setFromVector3(Se),r.autoRotate&&l===a.NONE&&K(W()),r.enableDamping?(d.theta+=c.theta*r.dampingFactor,d.phi+=c.phi*r.dampingFactor):(d.theta+=c.theta,d.phi+=c.phi);let wt=r.minAzimuthAngle,qt=r.maxAzimuthAngle;isFinite(wt)&&isFinite(qt)&&(wt<-Math.PI?wt+=St:wt>Math.PI&&(wt-=St),qt<-Math.PI?qt+=St:qt>Math.PI&&(qt-=St),wt<=qt?d.theta=Math.max(wt,Math.min(qt,d.theta)):d.theta=d.theta>(wt+qt)/2?Math.max(wt,d.theta):Math.min(qt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&D||r.object.isOrthographicCamera?d.radius=we(d.radius):d.radius=we(d.radius*f),Se.setFromSpherical(d),Se.applyQuaternion(ve),ze.copy(r.target).add(Se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(c.theta*=1-r.dampingFactor,c.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(c.set(0,0,0),m.set(0,0,0));let wn=!1;if(r.zoomToCursor&&D){let Cn=null;if(r.object instanceof ki&&r.object.isPerspectiveCamera){const zn=Se.length();Cn=we(zn*f);const sr=zn-Cn;r.object.position.addScaledVector(O,sr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const zn=new de(k.x,k.y,0);zn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),wn=!0;const sr=new de(k.x,k.y,0);sr.unproject(r.object),r.object.position.sub(sr).add(zn),r.object.updateMatrixWorld(),Cn=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Cn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Cn).add(r.object.position):(Sw.origin.copy(r.object.position),Sw.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Sw.direction))<eLe?e.lookAt(r.target):(lV.setFromNormalAndCoplanarPoint(r.object.up,r.target),Sw.intersectPlane(lV,r.target))))}else r.object instanceof nu&&r.object.isOrthographicCamera&&(wn=f!==1,wn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,D=!1,wn||Be.distanceToSquared(r.object.position)>u||8*(1-mt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Be.copy(r.object.position),mt.copy(r.object.quaternion),wn=!1,!0):!1}})(),this.connect=Se=>{r.domElement=Se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",nn),r.domElement.addEventListener("pointerdown",Et),r.domElement.addEventListener("pointercancel",ie),r.domElement.addEventListener("wheel",ft)},this.dispose=()=>{var Se,Le,ut,ve,Be,mt;r.domElement&&(r.domElement.style.touchAction="auto"),(Se=r.domElement)==null||Se.removeEventListener("contextmenu",nn),(Le=r.domElement)==null||Le.removeEventListener("pointerdown",Et),(ut=r.domElement)==null||ut.removeEventListener("pointercancel",ie),(ve=r.domElement)==null||ve.removeEventListener("wheel",ft),(Be=r.domElement)==null||Be.ownerDocument.removeEventListener("pointermove",ce),(mt=r.domElement)==null||mt.ownerDocument.removeEventListener("pointerup",ie),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Xe)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new $O,c=new $O;let f=1;const m=new de,v=new dt,b=new dt,y=new dt,w=new dt,A=new dt,E=new dt,C=new dt,M=new dt,R=new dt,O=new de,k=new dt;let D=!1;const I=[],L={};function W(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function K(Se){r.reverseOrbit||r.reverseHorizontalOrbit?c.theta+=Se:c.theta-=Se}function ne(Se){r.reverseOrbit||r.reverseVerticalOrbit?c.phi+=Se:c.phi-=Se}const V=(()=>{const Se=new de;return function(ut,ve){Se.setFromMatrixColumn(ve,0),Se.multiplyScalar(-ut),m.add(Se)}})(),ee=(()=>{const Se=new de;return function(ut,ve){r.screenSpacePanning===!0?Se.setFromMatrixColumn(ve,1):(Se.setFromMatrixColumn(ve,0),Se.crossVectors(r.object.up,Se)),Se.multiplyScalar(ut),m.add(Se)}})(),H=(()=>{const Se=new de;return function(ut,ve){const Be=r.domElement;if(Be&&r.object instanceof ki&&r.object.isPerspectiveCamera){const mt=r.object.position;Se.copy(mt).sub(r.target);let St=Se.length();St*=Math.tan(r.object.fov/2*Math.PI/180),V(2*ut*St/Be.clientHeight,r.object.matrix),ee(2*ve*St/Be.clientHeight,r.object.matrix)}else Be&&r.object instanceof nu&&r.object.isOrthographicCamera?(V(ut*(r.object.right-r.object.left)/r.object.zoom/Be.clientWidth,r.object.matrix),ee(ve*(r.object.top-r.object.bottom)/r.object.zoom/Be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Z(Se){r.object instanceof ki&&r.object.isPerspectiveCamera||r.object instanceof nu&&r.object.isOrthographicCamera?f=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(Se){Z(f/Se)}function Y(Se){Z(f*Se)}function ae(Se){if(!r.zoomToCursor||!r.domElement)return;D=!0;const Le=r.domElement.getBoundingClientRect(),ut=Se.clientX-Le.left,ve=Se.clientY-Le.top,Be=Le.width,mt=Le.height;k.x=ut/Be*2-1,k.y=-(ve/mt)*2+1,O.set(k.x,k.y,1).unproject(r.object).sub(r.object.position).normalize()}function we(Se){return Math.max(r.minDistance,Math.min(r.maxDistance,Se))}function Fe(Se){v.set(Se.clientX,Se.clientY)}function qe(Se){ae(Se),C.set(Se.clientX,Se.clientY)}function fe(Se){w.set(Se.clientX,Se.clientY)}function xe(Se){b.set(Se.clientX,Se.clientY),y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Le=r.domElement;Le&&(K(2*Math.PI*y.x/Le.clientHeight),ne(2*Math.PI*y.y/Le.clientHeight)),v.copy(b),r.update()}function Pe(Se){M.set(Se.clientX,Se.clientY),R.subVectors(M,C),R.y>0?te(q()):R.y<0&&Y(q()),C.copy(M),r.update()}function Te(Se){A.set(Se.clientX,Se.clientY),E.subVectors(A,w).multiplyScalar(r.panSpeed),H(E.x,E.y),w.copy(A),r.update()}function je(Se){ae(Se),Se.deltaY<0?Y(q()):Se.deltaY>0&&te(q()),r.update()}function rt(Se){let Le=!1;switch(Se.code){case r.keys.UP:H(0,r.keyPanSpeed),Le=!0;break;case r.keys.BOTTOM:H(0,-r.keyPanSpeed),Le=!0;break;case r.keys.LEFT:H(r.keyPanSpeed,0),Le=!0;break;case r.keys.RIGHT:H(-r.keyPanSpeed,0),Le=!0;break}Le&&(Se.preventDefault(),r.update())}function Ue(){if(I.length==1)v.set(I[0].pageX,I[0].pageY);else{const Se=.5*(I[0].pageX+I[1].pageX),Le=.5*(I[0].pageY+I[1].pageY);v.set(Se,Le)}}function ot(){if(I.length==1)w.set(I[0].pageX,I[0].pageY);else{const Se=.5*(I[0].pageX+I[1].pageX),Le=.5*(I[0].pageY+I[1].pageY);w.set(Se,Le)}}function De(){const Se=I[0].pageX-I[1].pageX,Le=I[0].pageY-I[1].pageY,ut=Math.sqrt(Se*Se+Le*Le);C.set(0,ut)}function le(){r.enableZoom&&De(),r.enablePan&&ot()}function et(){r.enableZoom&&De(),r.enableRotate&&Ue()}function at(Se){if(I.length==1)b.set(Se.pageX,Se.pageY);else{const ut=pn(Se),ve=.5*(Se.pageX+ut.x),Be=.5*(Se.pageY+ut.y);b.set(ve,Be)}y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Le=r.domElement;Le&&(K(2*Math.PI*y.x/Le.clientHeight),ne(2*Math.PI*y.y/Le.clientHeight)),v.copy(b)}function xt(Se){if(I.length==1)A.set(Se.pageX,Se.pageY);else{const Le=pn(Se),ut=.5*(Se.pageX+Le.x),ve=.5*(Se.pageY+Le.y);A.set(ut,ve)}E.subVectors(A,w).multiplyScalar(r.panSpeed),H(E.x,E.y),w.copy(A)}function ct(Se){const Le=pn(Se),ut=Se.pageX-Le.x,ve=Se.pageY-Le.y,Be=Math.sqrt(ut*ut+ve*ve);M.set(0,Be),R.set(0,Math.pow(M.y/C.y,r.zoomSpeed)),te(R.y),C.copy(M)}function Ut(Se){r.enableZoom&&ct(Se),r.enablePan&&xt(Se)}function Ct(Se){r.enableZoom&&ct(Se),r.enableRotate&&at(Se)}function Et(Se){var Le,ut;r.enabled!==!1&&(I.length===0&&((Le=r.domElement)==null||Le.ownerDocument.addEventListener("pointermove",ce),(ut=r.domElement)==null||ut.ownerDocument.addEventListener("pointerup",ie)),Kt(Se),Se.pointerType==="touch"?Yt(Se):Ie(Se))}function ce(Se){r.enabled!==!1&&(Se.pointerType==="touch"?Dt(Se):Je(Se))}function ie(Se){var Le,ut,ve;ht(Se),I.length===0&&((Le=r.domElement)==null||Le.releasePointerCapture(Se.pointerId),(ut=r.domElement)==null||ut.ownerDocument.removeEventListener("pointermove",ce),(ve=r.domElement)==null||ve.ownerDocument.removeEventListener("pointerup",ie)),r.dispatchEvent(o),l=a.NONE}function Ie(Se){let Le;switch(Se.button){case 0:Le=r.mouseButtons.LEFT;break;case 1:Le=r.mouseButtons.MIDDLE;break;case 2:Le=r.mouseButtons.RIGHT;break;default:Le=-1}switch(Le){case gp.DOLLY:if(r.enableZoom===!1)return;qe(Se),l=a.DOLLY;break;case gp.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enablePan===!1)return;fe(Se),l=a.PAN}else{if(r.enableRotate===!1)return;Fe(Se),l=a.ROTATE}break;case gp.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enableRotate===!1)return;Fe(Se),l=a.ROTATE}else{if(r.enablePan===!1)return;fe(Se),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Je(Se){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;xe(Se);break;case a.DOLLY:if(r.enableZoom===!1)return;Pe(Se);break;case a.PAN:if(r.enablePan===!1)return;Te(Se);break}}function ft(Se){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Se.preventDefault(),r.dispatchEvent(s),je(Se),r.dispatchEvent(o))}function Xe(Se){r.enabled===!1||r.enablePan===!1||rt(Se)}function Yt(Se){switch(pt(Se),I.length){case 1:switch(r.touches.ONE){case vp.ROTATE:if(r.enableRotate===!1)return;Ue(),l=a.TOUCH_ROTATE;break;case vp.PAN:if(r.enablePan===!1)return;ot(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case vp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;le(),l=a.TOUCH_DOLLY_PAN;break;case vp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;et(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Dt(Se){switch(pt(Se),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;at(Se),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;xt(Se),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ut(Se),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ct(Se),r.update();break;default:l=a.NONE}}function nn(Se){r.enabled!==!1&&Se.preventDefault()}function Kt(Se){I.push(Se)}function ht(Se){delete L[Se.pointerId];for(let Le=0;Le<I.length;Le++)if(I[Le].pointerId==Se.pointerId){I.splice(Le,1);return}}function pt(Se){let Le=L[Se.pointerId];Le===void 0&&(Le=new dt,L[Se.pointerId]=Le),Le.set(Se.pageX,Se.pageY)}function pn(Se){const Le=Se.pointerId===I[0].pointerId?I[1]:I[0];return L[Le.pointerId]}this.dollyIn=(Se=q())=>{Y(Se),r.update()},this.dollyOut=(Se=q())=>{te(Se),r.update()},this.getScale=()=>f,this.setScale=Se=>{Z(Se),r.update()},this.getZoomScale=()=>q(),t!==void 0&&this.connect(t),this.update()}};function QA(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Fp="srgb",vd="srgb-linear",uV=3001,nLe=3e3;class dk extends ro{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new aLe(t)}),this.register(function(t){return new lLe(t)}),this.register(function(t){return new vLe(t)}),this.register(function(t){return new yLe(t)}),this.register(function(t){return new xLe(t)}),this.register(function(t){return new uLe(t)}),this.register(function(t){return new dLe(t)}),this.register(function(t){return new fLe(t)}),this.register(function(t){return new hLe(t)}),this.register(function(t){return new oLe(t)}),this.register(function(t){return new pLe(t)}),this.register(function(t){return new cLe(t)}),this.register(function(t){return new gLe(t)}),this.register(function(t){return new mLe(t)}),this.register(function(t){return new iLe(t)}),this.register(function(t){return new bLe(t)}),this.register(function(t){return new _Le(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Vf.extractUrlBase(e);o=Vf.resolveURL(u,this.path)}else o=Vf.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new no(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(QA(new Uint8Array(e.slice(0,4)))===fee){try{o[vr.KHR_BINARY_GLTF]=new wLe(e)}catch(d){i&&i(d);return}s=JSON.parse(o[vr.KHR_BINARY_GLTF].content)}else s=JSON.parse(QA(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new DLe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],c=s.extensionsRequired||[];switch(d){case vr.KHR_MATERIALS_UNLIT:o[d]=new sLe;break;case vr.KHR_DRACO_MESH_COMPRESSION:o[d]=new SLe(s,this.dracoLoader);break;case vr.KHR_TEXTURE_TRANSFORM:o[d]=new ALe;break;case vr.KHR_MESH_QUANTIZATION:o[d]=new ELe;break;default:c.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function rLe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const vr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class iLe{constructor(e){this.parser=e,this.name=vr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new Wt(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],vd);const c=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new JB(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new YB(d),u.distance=c;break;case"spot":u=new KB(d),u.distance=c,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,rd(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class sLe{constructor(){this.name=vr.KHR_MATERIALS_UNLIT}getMaterialType(){return da}extendParams(e,t,r){const i=[];e.color=new Wt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],vd),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Fp))}return Promise.all(i)}}class oLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class aLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new dt(a,a)}return Promise.all(s)}}class lLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class cLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class uLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Wt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],vd)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Fp)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class dLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class fLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Wt().setRGB(a[0],a[1],a[2],vd),Promise.all(s)}}class hLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class pLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Wt().setRGB(a[0],a[1],a[2],vd),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Fp)),Promise.all(s)}}class mLe{constructor(e){this.parser=e,this.name=vr.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class gLe{constructor(e){this.parser=e,this.name=vr.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class vLe{constructor(e){this.parser=e,this.name=vr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class yLe{constructor(e){this.parser=e,this.name=vr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class xLe{constructor(e){this.parser=e,this.name=vr.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bLe{constructor(e){this.name=vr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,d=i.count,c=i.byteStride,f=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,c,f,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*c);return o.decodeGltfBuffer(new Uint8Array(m),d,c,f,i.mode,i.filter),m})})}else return null}}class _Le{constructor(e){this.name=vr.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==ll.TRIANGLES&&u.mode!==ll.TRIANGLE_STRIP&&u.mode!==ll.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(d=>(l[u]=d,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const d=u.pop(),c=d.isGroup?d.children:[d],f=u[0].count,m=[];for(const v of c){const b=new Dn,y=new de,w=new Us,A=new de(1,1,1),E=new NB(v.geometry,v.material,f);for(let C=0;C<f;C++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&w.fromBufferAttribute(l.ROTATION,C),l.SCALE&&A.fromBufferAttribute(l.SCALE,C),E.setMatrixAt(C,b.compose(y,w,A));for(const C in l)if(C==="_COLOR_0"){const M=l[C];E.instanceColor=new am(M.array,M.itemSize,M.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&v.geometry.setAttribute(C,l[C]);wr.prototype.copy.call(E,v),this.parser.assignFinalMaterial(E),m.push(E)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const fee="glTF",Hy=12,dV={JSON:1313821514,BIN:5130562};class wLe{constructor(e){this.name=vr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Hy);if(this.header={magic:QA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==fee)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Hy,i=new DataView(e,Hy);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===dV.JSON){const l=new Uint8Array(e,Hy+s,o);this.content=QA(l)}else if(a===dV.BIN){const l=Hy+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class SLe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const c=tF[d]||d.toLowerCase();a[c]=o[d]}for(const d in e.attributes){const c=tF[d]||d.toLowerCase();if(o[d]!==void 0){const f=r.accessors[e.attributes[d]],m=c0[f.componentType];u[c]=m.name,l[c]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(c,f){i.decodeDracoFile(d,function(m){for(const v in m.attributes){const b=m.attributes[v],y=l[v];y!==void 0&&(b.normalized=y)}c(m)},a,u,vd,f)})})}}class ALe{constructor(){this.name=vr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ELe{constructor(){this.name=vr.KHR_MESH_QUANTIZATION}}class hee extends Sv{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,d=i-t,c=(r-t)/d,f=c*c,m=f*c,v=e*u,b=v-u,y=-2*m+3*f,w=m-f,A=1-y,E=w-f+c;for(let C=0;C!==a;C++){const M=o[b+C+a],R=o[b+C+l]*d,O=o[v+C+a],k=o[v+C]*d;s[C]=A*M+E*R+y*O+w*k}return s}}const CLe=new Us;class MLe extends hee{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return CLe.fromArray(s).normalize().toArray(s),s}}const ll={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},c0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},fV={9728:js,9729:Rr,9984:CC,9985:a0,9986:Tp,9987:ml},hV={33071:Ai,33648:z0,10497:Yf},g3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},tF={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...uk>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Af={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},TLe={CUBICSPLINE:void 0,LINEAR:q0,STEP:$0},v3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function PLe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new d_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:uu})),n.DefaultMaterial}function fp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function rd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function RLe(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const c=e[u];if(c.POSITION!==void 0&&(r=!0),c.NORMAL!==void 0&&(i=!0),c.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,d=e.length;u<d;u++){const c=e[u];if(r){const f=c.POSITION!==void 0?t.getDependency("accessor",c.POSITION):n.attributes.position;o.push(f)}if(i){const f=c.NORMAL!==void 0?t.getDependency("accessor",c.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=c.COLOR_0!==void 0?t.getDependency("accessor",c.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],c=u[1],f=u[2];return r&&(n.morphAttributes.position=d),i&&(n.morphAttributes.normal=c),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function NLe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ILe(n){let e;const t=n.extensions&&n.extensions[vr.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+y3(t.attributes):e=n.indices+":"+y3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+y3(n.targets[r]);return e}function y3(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function nF(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function OLe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const FLe=new Dn;class DLe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new rLe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new xQ(this.options.manager):this.textureLoader=new MQ(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new no(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return fp(s,a,i),rd(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[vr.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Vf.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=g3[i.type],a=c0[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Nr(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=g3[i.type],u=c0[i.componentType],d=u.BYTES_PER_ELEMENT,c=d*l,f=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let b,y;if(m&&m!==c){const w=Math.floor(f/m),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let E=t.cache.get(A);E||(b=new u(a,w*m,i.count*m/d),E=new i_(b,m/d),t.cache.add(A,E)),y=new Zf(E,l,f%m/d,v)}else a===null?b=new u(i.count*l):b=new u(a,f,i.count*l),y=new Nr(b,l,v);if(i.sparse!==void 0){const w=g3.SCALAR,A=c0[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,C=i.sparse.values.byteOffset||0,M=new A(o[1],E,i.sparse.count*w),R=new u(o[2],C,i.sparse.count*l);a!==null&&(y=new Nr(y.array.slice(),y.itemSize,y.normalized));for(let O=0,k=M.length;O<k;O++){const D=M[O];if(y.setX(D,R[O*l]),l>=2&&y.setY(D,R[O*l+1]),l>=3&&y.setZ(D,R[O*l+2]),l>=4&&y.setW(D,R[O*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return d.magFilter=fV[f.magFilter]||Rr,d.minFilter=fV[f.minFilter]||ml,d.wrapS=hV[f.wrapS]||Yf,d.wrapT=hV[f.wrapT]||Yf,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(c=>c.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(c){u=!0;const f=new Blob([c],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(c){return new Promise(function(f,m){let v=f;t.isImageBitmapLoader===!0&&(v=function(b){const y=new Ur(b);y.needsUpdate=!0,f(y)}),t.load(Vf.resolveURL(c,s.path),v,void 0,m)})}).then(function(c){return u===!0&&a.revokeObjectURL(l),rd(c,o),c.userData.mimeType=o.mimeType||OLe(o.uri),c}).catch(function(c){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),c});return this.sourceCache[e]=d,d}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[vr.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[vr.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[vr.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===uV?Fp:vd),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Fp?uV:nLe),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new zC,Ss.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Co,Ss.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return d_}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[vr.KHR_MATERIALS_UNLIT]){const c=i[vr.KHR_MATERIALS_UNLIT];o=c.getMaterialType(),u.push(c.extendParams(a,s,t))}else{const c=s.pbrMetallicRoughness||{};if(a.color=new Wt(1,1,1),a.opacity=1,Array.isArray(c.baseColorFactor)){const f=c.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],vd),a.opacity=f[3]}c.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",c.baseColorTexture,Fp)),a.metalness=c.metallicFactor!==void 0?c.metallicFactor:1,a.roughness=c.roughnessFactor!==void 0?c.roughnessFactor:1,c.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",c.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",c.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=fl);const d=s.alphaMode||v3.OPAQUE;if(d===v3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===v3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==da&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new dt(1,1),s.normalTexture.scale!==void 0)){const c=s.normalTexture.scale;a.normalScale.set(c,c)}if(s.occlusionTexture!==void 0&&o!==da&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==da){const c=s.emissiveFactor;a.emissive=new Wt().setRGB(c[0],c[1],c[2],vd)}return s.emissiveTexture!==void 0&&o!==da&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Fp)),Promise.all(u).then(function(){const c=new o(a);return s.name&&(c.name=s.name),rd(c,s),t.associations.set(c,{materials:e}),s.extensions&&fp(i,c,s),c})}createUniqueName(e){const t=Cr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[vr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return pV(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=ILe(u),c=i[d];if(c)o.push(c.promise);else{let f;u.extensions&&u.extensions[vr.KHR_DRACO_MESH_COMPRESSION]?f=s(u):f=pV(new Kn,u,t),i[d]={primitive:u,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?PLe(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],c=[];for(let m=0,v=d.length;m<v;m++){const b=d[m],y=o[m];let w;const A=u[m];if(y.mode===ll.TRIANGLES||y.mode===ll.TRIANGLE_STRIP||y.mode===ll.TRIANGLE_FAN||y.mode===void 0)w=s.isSkinnedMesh===!0?new RB(b,A):new Ci(b,A),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),y.mode===ll.TRIANGLE_STRIP?w.geometry=aV(w.geometry,wB):y.mode===ll.TRIANGLE_FAN&&(w.geometry=aV(w.geometry,XA));else if(y.mode===ll.LINES)w=new yc(b,A);else if(y.mode===ll.LINE_STRIP)w=new Ad(b,A);else if(y.mode===ll.LINE_LOOP)w=new IB(b,A);else if(y.mode===ll.POINTS)w=new OB(b,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(w.geometry.morphAttributes).length>0&&NLe(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),rd(w,s),y.extensions&&fp(i,w,y),t.assignFinalMaterial(w),c.push(w)}for(let m=0,v=c.length;m<v;m++)t.associations.set(c[m],{meshes:e,primitives:m});if(c.length===1)return s.extensions&&fp(i,c[0],s),c[0];const f=new dd;s.extensions&&fp(i,f,s),t.associations.set(f,{meshes:e});for(let m=0,v=c.length;m<v;m++)f.add(c[m]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new ki(BZ.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new nu(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),rd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,d=o.length;u<d;u++){const c=o[u];if(c){a.push(c);const f=new Dn;s!==null&&f.fromArray(s.array,u*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new s_(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],u=[],d=[];for(let c=0,f=i.channels.length;c<f;c++){const m=i.channels[c],v=i.samplers[m.sampler],b=m.target,y=b.node,w=i.parameters!==void 0?i.parameters[v.input]:v.input,A=i.parameters!==void 0?i.parameters[v.output]:v.output;b.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",w)),l.push(this.getDependency("accessor",A)),u.push(v),d.push(b))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(c){const f=c[0],m=c[1],v=c[2],b=c[3],y=c[4],w=[];for(let A=0,E=f.length;A<E;A++){const C=f[A],M=m[A],R=v[A],O=b[A],k=y[A];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const D=r._createAnimationTracks(C,M,R,O,k);if(D)for(let I=0;I<D.length;I++)w.push(D[I])}return new Q0(s,void 0,w)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,d=a.length;u<d;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const d=u[0],c=u[1],f=u[2];f!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(f,FLe)});for(let m=0,v=c.length;m<v;m++)d.add(c[m]);return d})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let d;if(s.isBone===!0?d=new jC:u.length>1?d=new dd:u.length===1?d=u[0]:d=new wr,d!==u[0])for(let c=0,f=u.length;c<f;c++)d.add(u[c]);if(s.name&&(d.userData.name=s.name,d.name=o),rd(d,s),s.extensions&&fp(r,d,s),s.matrix!==void 0){const c=new Dn;c.fromArray(s.matrix),d.applyMatrix4(c)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new dd;r.name&&(s.name=i.createUniqueName(r.name)),rd(s,r),r.extensions&&fp(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,c=l.length;d<c;d++)s.add(l[d]);const u=d=>{const c=new Map;for(const[f,m]of i.associations)(f instanceof Ss||f instanceof Ur)&&c.set(f,m);return d.traverse(f=>{const m=i.associations.get(f);m!=null&&c.set(f,m)}),c};return i.associations=u(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Af[s.path]===Af.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(a);let u;switch(Af[s.path]){case Af.weights:u=cm;break;case Af.rotation:u=um;break;case Af.position:case Af.scale:u=dm;break;default:switch(r.itemSize){case 1:u=cm;break;case 2:case 3:default:u=dm;break}break}const d=i.interpolation!==void 0?TLe[i.interpolation]:q0,c=this._getArrayFromAccessor(r);for(let f=0,m=l.length;f<m;f++){const v=new u(l[f]+"."+Af[s.path],t.array,c,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=nF(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof um?MLe:hee;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function BLe(n,e,t){const r=e.attributes,i=new zs;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new de(l[0],l[1],l[2]),new de(u[0],u[1],u[2])),a.normalized){const d=nF(c0[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new de,l=new de;for(let u=0,d=s.length;u<d;u++){const c=s[u];if(c.POSITION!==void 0){const f=t.json.accessors[c.POSITION],m=f.min,v=f.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),f.normalized){const b=nF(c0[f.componentType]);l.multiplyScalar(b)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Hs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function pV(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=tF[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return rd(n,e),BLe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?RLe(n,e.targets,t):n})}class kLe extends qB{constructor(e){super(e),this.type=ws}parse(e){const o=function(k,D){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(D||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(D||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(D||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(D||""))}},c=function(k,D,I){D=D||1024;let W=k.pos,q=-1,K=0,ne="",V=String.fromCharCode.apply(null,new Uint16Array(k.subarray(W,W+128)));for(;0>(q=V.indexOf(`
`))&&K<D&&W<k.byteLength;)ne+=V,K+=V.length,W+=128,V+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(W,W+128)));return-1<q?(k.pos+=K+q+1,ne+V.slice(0,q)):!1},f=function(k){const D=/^#\?(\S+)/,I=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,L=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,W=/^\s*FORMAT=(\S+)\s*$/,q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ne,V;for((k.pos>=k.byteLength||!(ne=c(k)))&&o(1,"no header found"),(V=ne.match(D))||o(3,"bad initial token"),K.valid|=1,K.programtype=V[1],K.string+=ne+`
`;ne=c(k),ne!==!1;){if(K.string+=ne+`
`,ne.charAt(0)==="#"){K.comments+=ne+`
`;continue}if((V=ne.match(I))&&(K.gamma=parseFloat(V[1])),(V=ne.match(L))&&(K.exposure=parseFloat(V[1])),(V=ne.match(W))&&(K.valid|=2,K.format=V[1]),(V=ne.match(q))&&(K.valid|=4,K.height=parseInt(V[1],10),K.width=parseInt(V[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||o(3,"missing format specifier"),K.valid&4||o(3,"missing image size specifier"),K},m=function(k,D,I){const L=D;if(L<8||L>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);L!==(k[2]<<8|k[3])&&o(3,"wrong scanline width");const W=new Uint8Array(4*D*I);W.length||o(4,"unable to allocate buffer space");let q=0,K=0;const ne=4*L,V=new Uint8Array(4),ee=new Uint8Array(ne);let H=I;for(;H>0&&K<k.byteLength;){K+4>k.byteLength&&o(1),V[0]=k[K++],V[1]=k[K++],V[2]=k[K++],V[3]=k[K++],(V[0]!=2||V[1]!=2||(V[2]<<8|V[3])!=L)&&o(3,"bad rgbe scanline format");let Z=0,te;for(;Z<ne&&K<k.byteLength;){te=k[K++];const ae=te>128;if(ae&&(te-=128),(te===0||Z+te>ne)&&o(3,"bad scanline data"),ae){const we=k[K++];for(let Fe=0;Fe<te;Fe++)ee[Z++]=we}else ee.set(k.subarray(K,K+te),Z),Z+=te,K+=te}const Y=L;for(let ae=0;ae<Y;ae++){let we=0;W[q]=ee[ae+we],we+=L,W[q+1]=ee[ae+we],we+=L,W[q+2]=ee[ae+we],we+=L,W[q+3]=ee[ae+we],q+=4}H--}return W},v=function(k,D,I,L){const W=k[D+3],q=Math.pow(2,W-128)/255;I[L+0]=k[D+0]*q,I[L+1]=k[D+1]*q,I[L+2]=k[D+2]*q,I[L+3]=1},b=function(k,D,I,L){const W=k[D+3],q=Math.pow(2,W-128)/255;I[L+0]=Np.toHalfFloat(Math.min(k[D+0]*q,65504)),I[L+1]=Np.toHalfFloat(Math.min(k[D+1]*q,65504)),I[L+2]=Np.toHalfFloat(Math.min(k[D+2]*q,65504)),I[L+3]=Np.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const w=f(y),A=w.width,E=w.height,C=m(y.subarray(y.pos),A,E);let M,R,O;switch(this.type){case Ei:O=C.length/4;const k=new Float32Array(O*4);for(let I=0;I<O;I++)v(C,I*4,k,I*4);M=k,R=Ei;break;case ws:O=C.length/4;const D=new Uint16Array(O*4);for(let I=0;I<O;I++)b(C,I*4,D,I*4);M=D,R=ws;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:A,height:E,data:M,header:w.string,gamma:w.gamma,exposure:w.exposure,type:R}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Ei:case ws:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Rr,o.magFilter=Rr,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const Gy=uk>=152;class LLe extends qB{constructor(e){super(e),this.type=ws}parse(e){const D=Math.pow(2.7182818,2.2);function I(J,oe){for(var Ee=0,Ge=0;Ge<65536;++Ge)(Ge==0||J[Ge>>3]&1<<(Ge&7))&&(oe[Ee++]=Ge);for(var tt=Ee-1;Ee<65536;)oe[Ee++]=0;return tt}function L(J){for(var oe=0;oe<16384;oe++)J[oe]={},J[oe].len=0,J[oe].lit=0,J[oe].p=null}const W={l:0,c:0,lc:0};function q(J,oe,Ee,Ge,tt){for(;Ee<J;)oe=oe<<8|pn(Ge,tt),Ee+=8;Ee-=J,W.l=oe>>Ee&(1<<J)-1,W.c=oe,W.lc=Ee}const K=new Array(59);function ne(J){for(var oe=0;oe<=58;++oe)K[oe]=0;for(var oe=0;oe<65537;++oe)K[J[oe]]+=1;for(var Ee=0,oe=58;oe>0;--oe){var Ge=Ee+K[oe]>>1;K[oe]=Ee,Ee=Ge}for(var oe=0;oe<65537;++oe){var tt=J[oe];tt>0&&(J[oe]=tt|K[tt]++<<6)}}function V(J,oe,Ee,Ge,tt,Qe,It){for(var At=Ee,Nt=0,Q=0;tt<=Qe;tt++){if(At.value-Ee.value>Ge)return!1;q(6,Nt,Q,J,At);var ye=W.l;if(Nt=W.c,Q=W.lc,It[tt]=ye,ye==63){if(At.value-Ee.value>Ge)throw"Something wrong with hufUnpackEncTable";q(8,Nt,Q,J,At);var be=W.l+6;if(Nt=W.c,Q=W.lc,tt+be>Qe+1)throw"Something wrong with hufUnpackEncTable";for(;be--;)It[tt++]=0;tt--}else if(ye>=59){var be=ye-59+2;if(tt+be>Qe+1)throw"Something wrong with hufUnpackEncTable";for(;be--;)It[tt++]=0;tt--}}ne(It)}function ee(J){return J&63}function H(J){return J>>6}function Z(J,oe,Ee,Ge){for(;oe<=Ee;oe++){var tt=H(J[oe]),Qe=ee(J[oe]);if(tt>>Qe)throw"Invalid table entry";if(Qe>14){var It=Ge[tt>>Qe-14];if(It.len)throw"Invalid table entry";if(It.lit++,It.p){var At=It.p;It.p=new Array(It.lit);for(var Nt=0;Nt<It.lit-1;++Nt)It.p[Nt]=At[Nt]}else It.p=new Array(1);It.p[It.lit-1]=oe}else if(Qe)for(var Q=0,Nt=1<<14-Qe;Nt>0;Nt--){var It=Ge[(tt<<14-Qe)+Q];if(It.len||It.p)throw"Invalid table entry";It.len=Qe,It.lit=oe,Q++}}return!0}const te={c:0,lc:0};function Y(J,oe,Ee,Ge){J=J<<8|pn(Ee,Ge),oe+=8,te.c=J,te.lc=oe}const ae={c:0,lc:0};function we(J,oe,Ee,Ge,tt,Qe,It,At,Nt,Q){if(J==oe){Ge<8&&(Y(Ee,Ge,tt,It),Ee=te.c,Ge=te.lc),Ge-=8;var ye=Ee>>Ge,ye=new Uint8Array([ye])[0];if(Nt.value+ye>Q)return!1;for(var be=At[Nt.value-1];ye-- >0;)At[Nt.value++]=be}else if(Nt.value<Q)At[Nt.value++]=J;else return!1;ae.c=Ee,ae.lc=Ge}function Fe(J){return J&65535}function qe(J){var oe=Fe(J);return oe>32767?oe-65536:oe}const fe={a:0,b:0};function xe(J,oe){var Ee=qe(J),Ge=qe(oe),tt=Ge,Qe=Ee+(tt&1)+(tt>>1),It=Qe,At=Qe-tt;fe.a=It,fe.b=At}function Pe(J,oe){var Ee=Fe(J),Ge=Fe(oe),tt=Ee-(Ge>>1)&65535,Qe=Ge+tt-32768&65535;fe.a=Qe,fe.b=tt}function Te(J,oe,Ee,Ge,tt,Qe,It){for(var At=It<16384,Nt=Ee>tt?tt:Ee,Q=1,ye;Q<=Nt;)Q<<=1;for(Q>>=1,ye=Q,Q>>=1;Q>=1;){for(var be=0,ke=be+Qe*(tt-ye),Ae=Qe*Q,Ke=Qe*ye,st=Ge*Q,gt=Ge*ye,yt,Tt,vt,Rt;be<=ke;be+=Ke){for(var Ht=be,yn=be+Ge*(Ee-ye);Ht<=yn;Ht+=gt){var cn=Ht+st,Mn=Ht+Ae,Pn=Mn+st;At?(xe(J[Ht+oe],J[Mn+oe]),yt=fe.a,vt=fe.b,xe(J[cn+oe],J[Pn+oe]),Tt=fe.a,Rt=fe.b,xe(yt,Tt),J[Ht+oe]=fe.a,J[cn+oe]=fe.b,xe(vt,Rt),J[Mn+oe]=fe.a,J[Pn+oe]=fe.b):(Pe(J[Ht+oe],J[Mn+oe]),yt=fe.a,vt=fe.b,Pe(J[cn+oe],J[Pn+oe]),Tt=fe.a,Rt=fe.b,Pe(yt,Tt),J[Ht+oe]=fe.a,J[cn+oe]=fe.b,Pe(vt,Rt),J[Mn+oe]=fe.a,J[Pn+oe]=fe.b)}if(Ee&Q){var Mn=Ht+Ae;At?xe(J[Ht+oe],J[Mn+oe]):Pe(J[Ht+oe],J[Mn+oe]),yt=fe.a,J[Mn+oe]=fe.b,J[Ht+oe]=yt}}if(tt&Q)for(var Ht=be,yn=be+Ge*(Ee-ye);Ht<=yn;Ht+=gt){var cn=Ht+st;At?xe(J[Ht+oe],J[cn+oe]):Pe(J[Ht+oe],J[cn+oe]),yt=fe.a,J[cn+oe]=fe.b,J[Ht+oe]=yt}ye=Q,Q>>=1}return be}function je(J,oe,Ee,Ge,tt,Qe,It,At,Nt,Q){for(var ye=0,be=0,ke=At,Ae=Math.trunc(tt.value+(Qe+7)/8);tt.value<Ae;)for(Y(ye,be,Ee,tt),ye=te.c,be=te.lc;be>=14;){var Ke=ye>>be-14&16383,st=oe[Ke];if(st.len)be-=st.len,we(st.lit,It,ye,be,Ee,Ge,tt,Nt,Q,ke),ye=ae.c,be=ae.lc;else{if(!st.p)throw"hufDecode issues";var gt;for(gt=0;gt<st.lit;gt++){for(var yt=ee(J[st.p[gt]]);be<yt&&tt.value<Ae;)Y(ye,be,Ee,tt),ye=te.c,be=te.lc;if(be>=yt&&H(J[st.p[gt]])==(ye>>be-yt&(1<<yt)-1)){be-=yt,we(st.p[gt],It,ye,be,Ee,Ge,tt,Nt,Q,ke),ye=ae.c,be=ae.lc;break}}if(gt==st.lit)throw"hufDecode issues"}}var Tt=8-Qe&7;for(ye>>=Tt,be-=Tt;be>0;){var st=oe[ye<<14-be&16383];if(st.len)be-=st.len,we(st.lit,It,ye,be,Ee,Ge,tt,Nt,Q,ke),ye=ae.c,be=ae.lc;else throw"hufDecode issues"}return!0}function rt(J,oe,Ee,Ge,tt,Qe){var It={value:0},At=Ee.value,Nt=pt(oe,Ee),Q=pt(oe,Ee);Ee.value+=4;var ye=pt(oe,Ee);if(Ee.value+=4,Nt<0||Nt>=65537||Q<0||Q>=65537)throw"Something wrong with HUF_ENCSIZE";var be=new Array(65537),ke=new Array(16384);L(ke);var Ae=Ge-(Ee.value-At);if(V(J,oe,Ee,Ae,Nt,Q,be),ye>8*(Ge-(Ee.value-At)))throw"Something wrong with hufUncompress";Z(be,Nt,Q,ke),je(be,ke,J,oe,Ee,ye,Q,Qe,tt,It)}function Ue(J,oe,Ee){for(var Ge=0;Ge<Ee;++Ge)oe[Ge]=J[oe[Ge]]}function ot(J){for(var oe=1;oe<J.length;oe++){var Ee=J[oe-1]+J[oe]-128;J[oe]=Ee}}function De(J,oe){for(var Ee=0,Ge=Math.floor((J.length+1)/2),tt=0,Qe=J.length-1;!(tt>Qe||(oe[tt++]=J[Ee++],tt>Qe));)oe[tt++]=J[Ge++]}function le(J){for(var oe=J.byteLength,Ee=new Array,Ge=0,tt=new DataView(J);oe>0;){var Qe=tt.getInt8(Ge++);if(Qe<0){var It=-Qe;oe-=It+1;for(var At=0;At<It;At++)Ee.push(tt.getUint8(Ge++))}else{var It=Qe;oe-=2;for(var Nt=tt.getUint8(Ge++),At=0;At<It+1;At++)Ee.push(Nt)}}return Ee}function et(J,oe,Ee,Ge,tt,Qe){var cn=new DataView(Qe.buffer),It=Ee[J.idx[0]].width,At=Ee[J.idx[0]].height,Nt=3,Q=Math.floor(It/8),ye=Math.ceil(It/8),be=Math.ceil(At/8),ke=It-(ye-1)*8,Ae=At-(be-1)*8,Ke={value:0},st=new Array(Nt),gt=new Array(Nt),yt=new Array(Nt),Tt=new Array(Nt),vt=new Array(Nt);for(let rn=0;rn<Nt;++rn)vt[rn]=oe[J.idx[rn]],st[rn]=rn<1?0:st[rn-1]+ye*be,gt[rn]=new Float32Array(64),yt[rn]=new Uint16Array(64),Tt[rn]=new Uint16Array(ye*64);for(let rn=0;rn<be;++rn){var Rt=8;rn==be-1&&(Rt=Ae);var Ht=8;for(let or=0;or<ye;++or){or==ye-1&&(Ht=ke);for(let Tn=0;Tn<Nt;++Tn)yt[Tn].fill(0),yt[Tn][0]=tt[st[Tn]++],at(Ke,Ge,yt[Tn]),xt(yt[Tn],gt[Tn]),ct(gt[Tn]);Ut(gt);for(let Tn=0;Tn<Nt;++Tn)Ct(gt[Tn],Tt[Tn],or*64)}let kn=0;for(let or=0;or<Nt;++or){const Tn=Ee[J.idx[or]].type;for(let mr=8*rn;mr<8*rn+Rt;++mr){kn=vt[or][mr];for(let dr=0;dr<Q;++dr){const fr=dr*64+(mr&7)*8;cn.setUint16(kn+0*Tn,Tt[or][fr+0],!0),cn.setUint16(kn+2*Tn,Tt[or][fr+1],!0),cn.setUint16(kn+4*Tn,Tt[or][fr+2],!0),cn.setUint16(kn+6*Tn,Tt[or][fr+3],!0),cn.setUint16(kn+8*Tn,Tt[or][fr+4],!0),cn.setUint16(kn+10*Tn,Tt[or][fr+5],!0),cn.setUint16(kn+12*Tn,Tt[or][fr+6],!0),cn.setUint16(kn+14*Tn,Tt[or][fr+7],!0),kn+=16*Tn}}if(Q!=ye)for(let mr=8*rn;mr<8*rn+Rt;++mr){const dr=vt[or][mr]+8*Q*2*Tn,fr=Q*64+(mr&7)*8;for(let Kr=0;Kr<Ht;++Kr)cn.setUint16(dr+Kr*2*Tn,Tt[or][fr+Kr],!0)}}}for(var yn=new Uint16Array(It),cn=new DataView(Qe.buffer),Mn=0;Mn<Nt;++Mn){Ee[J.idx[Mn]].decoded=!0;var Pn=Ee[J.idx[Mn]].type;if(Ee[Mn].type==2)for(var Xt=0;Xt<At;++Xt){const rn=vt[Mn][Xt];for(var Bn=0;Bn<It;++Bn)yn[Bn]=cn.getUint16(rn+Bn*2*Pn,!0);for(var Bn=0;Bn<It;++Bn)cn.setFloat32(rn+Bn*2*Pn,Be(yn[Bn]),!0)}}}function at(J,oe,Ee){for(var Ge,tt=1;tt<64;)Ge=oe[J.value],Ge==65280?tt=64:Ge>>8==255?tt+=Ge&255:(Ee[tt]=Ge,tt++),J.value++}function xt(J,oe){oe[0]=Be(J[0]),oe[1]=Be(J[1]),oe[2]=Be(J[5]),oe[3]=Be(J[6]),oe[4]=Be(J[14]),oe[5]=Be(J[15]),oe[6]=Be(J[27]),oe[7]=Be(J[28]),oe[8]=Be(J[2]),oe[9]=Be(J[4]),oe[10]=Be(J[7]),oe[11]=Be(J[13]),oe[12]=Be(J[16]),oe[13]=Be(J[26]),oe[14]=Be(J[29]),oe[15]=Be(J[42]),oe[16]=Be(J[3]),oe[17]=Be(J[8]),oe[18]=Be(J[12]),oe[19]=Be(J[17]),oe[20]=Be(J[25]),oe[21]=Be(J[30]),oe[22]=Be(J[41]),oe[23]=Be(J[43]),oe[24]=Be(J[9]),oe[25]=Be(J[11]),oe[26]=Be(J[18]),oe[27]=Be(J[24]),oe[28]=Be(J[31]),oe[29]=Be(J[40]),oe[30]=Be(J[44]),oe[31]=Be(J[53]),oe[32]=Be(J[10]),oe[33]=Be(J[19]),oe[34]=Be(J[23]),oe[35]=Be(J[32]),oe[36]=Be(J[39]),oe[37]=Be(J[45]),oe[38]=Be(J[52]),oe[39]=Be(J[54]),oe[40]=Be(J[20]),oe[41]=Be(J[22]),oe[42]=Be(J[33]),oe[43]=Be(J[38]),oe[44]=Be(J[46]),oe[45]=Be(J[51]),oe[46]=Be(J[55]),oe[47]=Be(J[60]),oe[48]=Be(J[21]),oe[49]=Be(J[34]),oe[50]=Be(J[37]),oe[51]=Be(J[47]),oe[52]=Be(J[50]),oe[53]=Be(J[56]),oe[54]=Be(J[59]),oe[55]=Be(J[61]),oe[56]=Be(J[35]),oe[57]=Be(J[36]),oe[58]=Be(J[48]),oe[59]=Be(J[49]),oe[60]=Be(J[57]),oe[61]=Be(J[58]),oe[62]=Be(J[62]),oe[63]=Be(J[63])}function ct(J){const oe=.5*Math.cos(.7853975),Ee=.5*Math.cos(3.14159/16),Ge=.5*Math.cos(3.14159/8),tt=.5*Math.cos(3*3.14159/16),Qe=.5*Math.cos(5*3.14159/16),It=.5*Math.cos(3*3.14159/8),At=.5*Math.cos(7*3.14159/16);for(var Nt=new Array(4),Q=new Array(4),ye=new Array(4),be=new Array(4),ke=0;ke<8;++ke){var Ae=ke*8;Nt[0]=Ge*J[Ae+2],Nt[1]=It*J[Ae+2],Nt[2]=Ge*J[Ae+6],Nt[3]=It*J[Ae+6],Q[0]=Ee*J[Ae+1]+tt*J[Ae+3]+Qe*J[Ae+5]+At*J[Ae+7],Q[1]=tt*J[Ae+1]-At*J[Ae+3]-Ee*J[Ae+5]-Qe*J[Ae+7],Q[2]=Qe*J[Ae+1]-Ee*J[Ae+3]+At*J[Ae+5]+tt*J[Ae+7],Q[3]=At*J[Ae+1]-Qe*J[Ae+3]+tt*J[Ae+5]-Ee*J[Ae+7],ye[0]=oe*(J[Ae+0]+J[Ae+4]),ye[3]=oe*(J[Ae+0]-J[Ae+4]),ye[1]=Nt[0]+Nt[3],ye[2]=Nt[1]-Nt[2],be[0]=ye[0]+ye[1],be[1]=ye[3]+ye[2],be[2]=ye[3]-ye[2],be[3]=ye[0]-ye[1],J[Ae+0]=be[0]+Q[0],J[Ae+1]=be[1]+Q[1],J[Ae+2]=be[2]+Q[2],J[Ae+3]=be[3]+Q[3],J[Ae+4]=be[3]-Q[3],J[Ae+5]=be[2]-Q[2],J[Ae+6]=be[1]-Q[1],J[Ae+7]=be[0]-Q[0]}for(var Ke=0;Ke<8;++Ke)Nt[0]=Ge*J[16+Ke],Nt[1]=It*J[16+Ke],Nt[2]=Ge*J[48+Ke],Nt[3]=It*J[48+Ke],Q[0]=Ee*J[8+Ke]+tt*J[24+Ke]+Qe*J[40+Ke]+At*J[56+Ke],Q[1]=tt*J[8+Ke]-At*J[24+Ke]-Ee*J[40+Ke]-Qe*J[56+Ke],Q[2]=Qe*J[8+Ke]-Ee*J[24+Ke]+At*J[40+Ke]+tt*J[56+Ke],Q[3]=At*J[8+Ke]-Qe*J[24+Ke]+tt*J[40+Ke]-Ee*J[56+Ke],ye[0]=oe*(J[Ke]+J[32+Ke]),ye[3]=oe*(J[Ke]-J[32+Ke]),ye[1]=Nt[0]+Nt[3],ye[2]=Nt[1]-Nt[2],be[0]=ye[0]+ye[1],be[1]=ye[3]+ye[2],be[2]=ye[3]-ye[2],be[3]=ye[0]-ye[1],J[0+Ke]=be[0]+Q[0],J[8+Ke]=be[1]+Q[1],J[16+Ke]=be[2]+Q[2],J[24+Ke]=be[3]+Q[3],J[32+Ke]=be[3]-Q[3],J[40+Ke]=be[2]-Q[2],J[48+Ke]=be[1]-Q[1],J[56+Ke]=be[0]-Q[0]}function Ut(J){for(var oe=0;oe<64;++oe){var Ee=J[0][oe],Ge=J[1][oe],tt=J[2][oe];J[0][oe]=Ee+1.5747*tt,J[1][oe]=Ee-.1873*Ge-.4682*tt,J[2][oe]=Ee+1.8556*Ge}}function Ct(J,oe,Ee){for(var Ge=0;Ge<64;++Ge)oe[Ee+Ge]=Np.toHalfFloat(Et(J[Ge]))}function Et(J){return J<=1?Math.sign(J)*Math.pow(Math.abs(J),2.2):Math.sign(J)*Math.pow(D,Math.abs(J)-1)}function ce(J){return new DataView(J.array.buffer,J.offset.value,J.size)}function ie(J){var oe=J.viewer.buffer.slice(J.offset.value,J.offset.value+J.size),Ee=new Uint8Array(le(oe)),Ge=new Uint8Array(Ee.length);return ot(Ee),De(Ee,Ge),new DataView(Ge.buffer)}function Ie(J){var oe=J.array.slice(J.offset.value,J.offset.value+J.size),Ee=ww(oe),Ge=new Uint8Array(Ee.length);return ot(Ee),De(Ee,Ge),new DataView(Ge.buffer)}function Je(J){for(var oe=J.viewer,Ee={value:J.offset.value},Ge=new Uint16Array(J.width*J.scanlineBlockSize*(J.channels*J.type)),tt=new Uint8Array(8192),Qe=0,It=new Array(J.channels),At=0;At<J.channels;At++)It[At]={},It[At].start=Qe,It[At].end=It[At].start,It[At].nx=J.width,It[At].ny=J.lines,It[At].size=J.type,Qe+=It[At].nx*It[At].ny*It[At].size;var Nt=mt(oe,Ee),Q=mt(oe,Ee);if(Q>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Nt<=Q)for(var At=0;At<Q-Nt+1;At++)tt[At+Nt]=Se(oe,Ee);var ye=new Uint16Array(65536),be=I(tt,ye),ke=pt(oe,Ee);rt(J.array,oe,Ee,ke,Ge,Qe);for(var At=0;At<J.channels;++At)for(var Ae=It[At],Ke=0;Ke<It[At].size;++Ke)Te(Ge,Ae.start+Ke,Ae.nx,Ae.size,Ae.ny,Ae.nx*Ae.size,be);Ue(ye,Ge,Qe);for(var st=0,gt=new Uint8Array(Ge.buffer.byteLength),yt=0;yt<J.lines;yt++)for(var Tt=0;Tt<J.channels;Tt++){var Ae=It[Tt],vt=Ae.nx*Ae.size,Rt=new Uint8Array(Ge.buffer,Ae.end*2,vt*2);gt.set(Rt,st),st+=vt*2,Ae.end+=vt}return new DataView(gt.buffer)}function ft(J){var oe=J.array.slice(J.offset.value,J.offset.value+J.size),Ee=ww(oe);const Ge=J.lines*J.channels*J.width,tt=J.type==1?new Uint16Array(Ge):new Uint32Array(Ge);let Qe=0,It=0;const At=new Array(4);for(let Nt=0;Nt<J.lines;Nt++)for(let Q=0;Q<J.channels;Q++){let ye=0;switch(J.type){case 1:At[0]=Qe,At[1]=At[0]+J.width,Qe=At[1]+J.width;for(let be=0;be<J.width;++be){const ke=Ee[At[0]++]<<8|Ee[At[1]++];ye+=ke,tt[It]=ye,It++}break;case 2:At[0]=Qe,At[1]=At[0]+J.width,At[2]=At[1]+J.width,Qe=At[2]+J.width;for(let be=0;be<J.width;++be){const ke=Ee[At[0]++]<<24|Ee[At[1]++]<<16|Ee[At[2]++]<<8;ye+=ke,tt[It]=ye,It++}break}}return new DataView(tt.buffer)}function Xe(J){var oe=J.viewer,Ee={value:J.offset.value},Ge=new Uint8Array(J.width*J.lines*(J.channels*J.type*2)),tt={version:Le(oe,Ee),unknownUncompressedSize:Le(oe,Ee),unknownCompressedSize:Le(oe,Ee),acCompressedSize:Le(oe,Ee),dcCompressedSize:Le(oe,Ee),rleCompressedSize:Le(oe,Ee),rleUncompressedSize:Le(oe,Ee),rleRawSize:Le(oe,Ee),totalAcUncompressedCount:Le(oe,Ee),totalDcUncompressedCount:Le(oe,Ee),acCompression:Le(oe,Ee)};if(tt.version<2)throw"EXRLoader.parse: "+er.compression+" version "+tt.version+" is unsupported";for(var Qe=new Array,It=mt(oe,Ee)-2;It>0;){var At=Yt(oe.buffer,Ee),Nt=Se(oe,Ee),Q=Nt>>2&3,ye=(Nt>>4)-1,be=new Int8Array([ye])[0],ke=Se(oe,Ee);Qe.push({name:At,index:be,type:ke,compression:Q}),It-=At.length+3}for(var Ae=er.channels,Ke=new Array(J.channels),st=0;st<J.channels;++st){var gt=Ke[st]={},yt=Ae[st];gt.name=yt.name,gt.compression=0,gt.decoded=!1,gt.type=yt.pixelType,gt.pLinear=yt.pLinear,gt.width=J.width,gt.height=J.lines}for(var Tt={idx:new Array(3)},vt=0;vt<J.channels;++vt)for(var gt=Ke[vt],st=0;st<Qe.length;++st){var Rt=Qe[st];gt.name==Rt.name&&(gt.compression=Rt.compression,Rt.index>=0&&(Tt.idx[Rt.index]=vt),gt.offset=vt)}if(tt.acCompressedSize>0)switch(tt.acCompression){case 0:var cn=new Uint16Array(tt.totalAcUncompressedCount);rt(J.array,oe,Ee,tt.acCompressedSize,cn,tt.totalAcUncompressedCount);break;case 1:var Ht=J.array.slice(Ee.value,Ee.value+tt.totalAcUncompressedCount),yn=ww(Ht),cn=new Uint16Array(yn.buffer);Ee.value+=tt.totalAcUncompressedCount;break}if(tt.dcCompressedSize>0){var Mn={array:J.array,offset:Ee,size:tt.dcCompressedSize},Pn=new Uint16Array(Ie(Mn).buffer);Ee.value+=tt.dcCompressedSize}if(tt.rleRawSize>0){var Ht=J.array.slice(Ee.value,Ee.value+tt.rleCompressedSize),yn=ww(Ht),Xt=le(yn.buffer);Ee.value+=tt.rleCompressedSize}for(var Bn=0,rn=new Array(Ke.length),st=0;st<rn.length;++st)rn[st]=new Array;for(var kn=0;kn<J.lines;++kn)for(var or=0;or<Ke.length;++or)rn[or].push(Bn),Bn+=Ke[or].width*J.type*2;et(Tt,rn,Ke,cn,Pn,Ge);for(var st=0;st<Ke.length;++st){var gt=Ke[st];if(!gt.decoded)switch(gt.compression){case 2:for(var Tn=0,mr=0,kn=0;kn<J.lines;++kn){for(var dr=rn[st][Tn],fr=0;fr<gt.width;++fr){for(var Kr=0;Kr<2*gt.type;++Kr)Ge[dr++]=Xt[mr+Kr*gt.width*gt.height];mr++}Tn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ge.buffer)}function Yt(J,oe){for(var Ee=new Uint8Array(J),Ge=0;Ee[oe.value+Ge]!=0;)Ge+=1;var tt=new TextDecoder().decode(Ee.slice(oe.value,oe.value+Ge));return oe.value=oe.value+Ge+1,tt}function Dt(J,oe,Ee){var Ge=new TextDecoder().decode(new Uint8Array(J).slice(oe.value,oe.value+Ee));return oe.value=oe.value+Ee,Ge}function nn(J,oe){var Ee=ht(J,oe),Ge=pt(J,oe);return[Ee,Ge]}function Kt(J,oe){var Ee=pt(J,oe),Ge=pt(J,oe);return[Ee,Ge]}function ht(J,oe){var Ee=J.getInt32(oe.value,!0);return oe.value=oe.value+4,Ee}function pt(J,oe){var Ee=J.getUint32(oe.value,!0);return oe.value=oe.value+4,Ee}function pn(J,oe){var Ee=J[oe.value];return oe.value=oe.value+1,Ee}function Se(J,oe){var Ee=J.getUint8(oe.value);return oe.value=oe.value+1,Ee}const Le=function(J,oe){let Ee;return"getBigInt64"in DataView.prototype?Ee=Number(J.getBigInt64(oe.value,!0)):Ee=J.getUint32(oe.value+4,!0)+Number(J.getUint32(oe.value,!0)<<32),oe.value+=8,Ee};function ut(J,oe){var Ee=J.getFloat32(oe.value,!0);return oe.value+=4,Ee}function ve(J,oe){return Np.toHalfFloat(ut(J,oe))}function Be(J){var oe=(J&31744)>>10,Ee=J&1023;return(J>>15?-1:1)*(oe?oe===31?Ee?NaN:1/0:Math.pow(2,oe-15)*(1+Ee/1024):6103515625e-14*(Ee/1024))}function mt(J,oe){var Ee=J.getUint16(oe.value,!0);return oe.value+=2,Ee}function St(J,oe){return Be(mt(J,oe))}function _t(J,oe,Ee,Ge){for(var tt=Ee.value,Qe=[];Ee.value<tt+Ge-1;){var It=Yt(oe,Ee),At=ht(J,Ee),Nt=Se(J,Ee);Ee.value+=3;var Q=ht(J,Ee),ye=ht(J,Ee);Qe.push({name:It,pixelType:At,pLinear:Nt,xSampling:Q,ySampling:ye})}return Ee.value+=1,Qe}function ze(J,oe){var Ee=ut(J,oe),Ge=ut(J,oe),tt=ut(J,oe),Qe=ut(J,oe),It=ut(J,oe),At=ut(J,oe),Nt=ut(J,oe),Q=ut(J,oe);return{redX:Ee,redY:Ge,greenX:tt,greenY:Qe,blueX:It,blueY:At,whiteX:Nt,whiteY:Q}}function wt(J,oe){var Ee=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ge=Se(J,oe);return Ee[Ge]}function qt(J,oe){var Ee=pt(J,oe),Ge=pt(J,oe),tt=pt(J,oe),Qe=pt(J,oe);return{xMin:Ee,yMin:Ge,xMax:tt,yMax:Qe}}function wn(J,oe){var Ee=["INCREASING_Y"],Ge=Se(J,oe);return Ee[Ge]}function Cn(J,oe){var Ee=ut(J,oe),Ge=ut(J,oe);return[Ee,Ge]}function zn(J,oe){var Ee=ut(J,oe),Ge=ut(J,oe),tt=ut(J,oe);return[Ee,Ge,tt]}function sr(J,oe,Ee,Ge,tt){if(Ge==="string"||Ge==="stringvector"||Ge==="iccProfile")return Dt(oe,Ee,tt);if(Ge==="chlist")return _t(J,oe,Ee,tt);if(Ge==="chromaticities")return ze(J,Ee);if(Ge==="compression")return wt(J,Ee);if(Ge==="box2i")return qt(J,Ee);if(Ge==="lineOrder")return wn(J,Ee);if(Ge==="float")return ut(J,Ee);if(Ge==="v2f")return Cn(J,Ee);if(Ge==="v3f")return zn(J,Ee);if(Ge==="int")return ht(J,Ee);if(Ge==="rational")return nn(J,Ee);if(Ge==="timecode")return Kt(J,Ee);if(Ge==="preview")return Ee.value+=tt,"skipped";Ee.value+=tt}function ji(J,oe,Ee){const Ge={};if(J.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ge.version=J.getUint8(4);const tt=J.getUint8(5);Ge.spec={singleTile:!!(tt&2),longName:!!(tt&4),deepFormat:!!(tt&8),multiPart:!!(tt&16)},Ee.value=8;for(var Qe=!0;Qe;){var It=Yt(oe,Ee);if(It==0)Qe=!1;else{var At=Yt(oe,Ee),Nt=pt(J,Ee),Q=sr(J,oe,Ee,At,Nt);Q===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${At}'.`):Ge[It]=Q}}if((tt&-5)!=0)throw console.error("EXRHeader:",Ge),"THREE.EXRLoader: provided file is currently unsupported.";return Ge}function Qr(J,oe,Ee,Ge,tt){const Qe={size:0,viewer:oe,array:Ee,offset:Ge,width:J.dataWindow.xMax-J.dataWindow.xMin+1,height:J.dataWindow.yMax-J.dataWindow.yMin+1,channels:J.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:J.channels[0].pixelType,uncompress:null,getter:null,format:null,[Gy?"colorSpace":"encoding"]:null};switch(J.compression){case"NO_COMPRESSION":Qe.lines=1,Qe.uncompress=ce;break;case"RLE_COMPRESSION":Qe.lines=1,Qe.uncompress=ie;break;case"ZIPS_COMPRESSION":Qe.lines=1,Qe.uncompress=Ie;break;case"ZIP_COMPRESSION":Qe.lines=16,Qe.uncompress=Ie;break;case"PIZ_COMPRESSION":Qe.lines=32,Qe.uncompress=Je;break;case"PXR24_COMPRESSION":Qe.lines=16,Qe.uncompress=ft;break;case"DWAA_COMPRESSION":Qe.lines=32,Qe.uncompress=Xe;break;case"DWAB_COMPRESSION":Qe.lines=256,Qe.uncompress=Xe;break;default:throw"EXRLoader.parse: "+J.compression+" is unsupported"}if(Qe.scanlineBlockSize=Qe.lines,Qe.type==1)switch(tt){case Ei:Qe.getter=St,Qe.inputSize=2;break;case ws:Qe.getter=mt,Qe.inputSize=2;break}else if(Qe.type==2)switch(tt){case Ei:Qe.getter=ut,Qe.inputSize=4;break;case ws:Qe.getter=ve,Qe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Qe.type+" for "+J.compression+".";Qe.blockCount=(J.dataWindow.yMax+1)/Qe.scanlineBlockSize;for(var It=0;It<Qe.blockCount;It++)Le(oe,Ge);Qe.outputChannels=Qe.channels==3?4:Qe.channels;const At=Qe.width*Qe.height*Qe.outputChannels;switch(tt){case Ei:Qe.byteArray=new Float32Array(At),Qe.channels<Qe.outputChannels&&Qe.byteArray.fill(1,0,At);break;case ws:Qe.byteArray=new Uint16Array(At),Qe.channels<Qe.outputChannels&&Qe.byteArray.fill(15360,0,At);break;default:console.error("THREE.EXRLoader: unsupported type: ",tt);break}return Qe.bytesPerLine=Qe.width*Qe.inputSize*Qe.channels,Qe.outputChannels==4?Qe.format=$i:Qe.format=Qb,Gy?Qe.colorSpace="srgb-linear":Qe.encoding=3e3,Qe}const Sr=new DataView(e),Dr=new Uint8Array(e),Xr={value:0},er=ji(Sr,e,Xr),Sn=Qr(er,Sr,Dr,Xr,this.type),Mo={value:0},bc={R:0,G:1,B:2,A:3,Y:0};for(let J=0;J<Sn.height/Sn.scanlineBlockSize;J++){const oe=pt(Sr,Xr);Sn.size=pt(Sr,Xr),Sn.lines=oe+Sn.scanlineBlockSize>Sn.height?Sn.height-oe:Sn.scanlineBlockSize;const Ge=Sn.size<Sn.lines*Sn.bytesPerLine?Sn.uncompress(Sn):ce(Sn);Xr.value+=Sn.size;for(let tt=0;tt<Sn.scanlineBlockSize;tt++){const Qe=tt+J*Sn.scanlineBlockSize;if(Qe>=Sn.height)break;for(let It=0;It<Sn.channels;It++){const At=bc[er.channels[It].name];for(let Nt=0;Nt<Sn.width;Nt++){Mo.value=(tt*(Sn.channels*Sn.width)+It*Sn.width+Nt)*Sn.inputSize;const Q=(Sn.height-1-Qe)*(Sn.width*Sn.outputChannels)+Nt*Sn.outputChannels+At;Sn.byteArray[Q]=Sn.getter(Ge,Mo)}}}}return{header:er,width:Sn.width,height:Sn.height,data:Sn.byteArray,format:Sn.format,[Gy?"colorSpace":"encoding"]:Sn[Gy?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){Gy?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=Rr,o.magFilter=Rr,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const x3=new WeakMap;class jLe extends ro{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new no(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(x3.has(e)){const l=x3.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,d)=>{i._callbacks[s]={resolve:u,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),x3.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Kn;e.index&&t.setIndex(new Nr(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Nr(o,a))}return t}_loadLibrary(e,t){const r=new no(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=ULe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ULe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(c){d({draco:c})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const c=d.draco,f=new c.Decoder,m=new c.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(c,f,m,u),b=v.attributes.map(y=>y.array.buffer);v.index&&b.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},b)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{c.destroy(m),c.destroy(f)}});break}};function t(o,a,l,u){const d=u.attributeIDs,c=u.attributeTypes;let f,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)f=new o.Mesh,m=a.DecodeBufferToMesh(l,f);else if(v===o.POINT_CLOUD)f=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const b={index:null,attributes:[]};for(const y in d){const w=self[c[y]];let A,E;if(u.useUniqueIDs)E=d[y],A=a.GetAttributeByUniqueId(f,E);else{if(E=a.GetAttributeId(f,o[d[y]]),E===-1)continue;A=a.GetAttribute(f,E)}b.attributes.push(i(o,a,f,y,w,A))}return v===o.TRIANGULAR_MESH&&(b.index=r(o,a,f)),o.destroy(f),b}function r(o,a,l){const d=l.num_faces()*3,c=d*4,f=o._malloc(c);a.GetTrianglesUInt32Array(l,c,f);const m=new Uint32Array(o.HEAPF32.buffer,f,d).slice();return o._free(f),{array:m,itemSize:1}}function i(o,a,l,u,d,c){const f=c.num_components(),v=l.num_points()*f,b=v*d.BYTES_PER_ELEMENT,y=s(o,d),w=o._malloc(b);a.GetAttributeDataArrayForAllPoints(l,c,y,b,w);const A=new d(o.HEAPF32.buffer,w,v).slice();return o._free(w),{name:u,array:A,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Aw;const b3=()=>{if(Aw)return Aw;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(c=>{s=c.instance,s.exports.__wasm_call_ctors()});function a(c){const f=new Uint8Array(c.length);for(let v=0;v<c.length;++v){const b=c.charCodeAt(v);f[v]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let m=0;for(let v=0;v<c.length;++v)f[m++]=f[v]<60?r[f[v]]:(f[v]-60)*64+f[++v];return f.buffer.slice(0,m)}function l(c,f,m,v,b,y){const w=s.exports.sbrk,A=m+3&-4,E=w(A*v),C=w(b.length),M=new Uint8Array(s.exports.memory.buffer);M.set(b,C);const R=c(E,m,v,C,b.length);if(R===0&&y&&y(E,A,v),f.set(M.subarray(E,E+m*v)),w(E-w(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Aw={ready:o,supported:!0,decodeVertexBuffer(c,f,m,v,b){l(s.exports.meshopt_decodeVertexBuffer,c,f,m,v,s.exports[u[b]])},decodeIndexBuffer(c,f,m,v){l(s.exports.meshopt_decodeIndexBuffer,c,f,m,v)},decodeIndexSequence(c,f,m,v){l(s.exports.meshopt_decodeIndexSequence,c,f,m,v)},decodeGltfBuffer(c,f,m,v,b,y){l(s.exports[d[b]],c,f,m,v,s.exports[u[y]])}},Aw};let Ew=null,pee="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function mee(n=!0,e=!0,t){return r=>{t&&t(r),n&&(Ew||(Ew=new jLe),Ew.setDecoderPath(typeof n=="string"?n:pee),r.setDRACOLoader(Ew)),e&&r.setMeshoptDecoder(typeof b3=="function"?b3():b3)}}const p_=(n,e,t,r)=>Ed(dk,n,mee(e,t,r));p_.preload=(n,e,t,r)=>Ed.preload(dk,n,mee(e,t,r));p_.clear=n=>Ed.clear(dk,n);p_.setDecoderPath=n=>{pee=n};const zLe=B.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},d)=>{const c=Uo(R=>R.invalidate),f=Uo(R=>R.camera),m=Uo(R=>R.gl),v=Uo(R=>R.events),b=Uo(R=>R.setEvents),y=Uo(R=>R.set),w=Uo(R=>R.get),A=Uo(R=>R.performance),E=e||f,C=r||v.connected||m.domElement,M=B.useMemo(()=>new tLe(E),[E]);return sM(()=>{M.enabled&&M.update()},-1),B.useEffect(()=>(s&&M.connect(s===!0?C:s),M.connect(C),()=>void M.dispose()),[s,C,t,M,c]),B.useEffect(()=>{const R=D=>{c(),t&&A.regress(),o&&o(D)},O=D=>{a&&a(D)},k=D=>{l&&l(D)};return M.addEventListener("change",R),M.addEventListener("start",O),M.addEventListener("end",k),()=>{M.removeEventListener("start",O),M.removeEventListener("end",k),M.removeEventListener("change",R)}},[o,a,l,M,c,b]),B.useEffect(()=>{if(n){const R=w().controls;return y({controls:M}),()=>y({controls:R})}},[n,M]),B.createElement("primitive",GS({ref:d,object:M,enableDamping:i},u))}),HLe=3e3,GLe=3001,gee=(n,e,t)=>{let r;switch(n){case qo:r=new Uint8ClampedArray(e*t*4);break;case ws:r=new Uint16Array(e*t*4);break;case fu:r=new Uint32Array(e*t*4);break;case MC:r=new Int8Array(e*t*4);break;case TC:r=new Int16Array(e*t*4);break;case Zb:r=new Int32Array(e*t*4);break;case Ei:r=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return r};let Cw;const VLe=(n,e,t,r)=>{if(Cw!==void 0)return Cw;const i=new wl(1,1,r);e.setRenderTarget(i);const s=new Ci(new dh,new da({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=gee(n,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),Cw=o[0]!==0,Cw};class fk{constructor(e){var t,r,i,s,o,a,l,u,d,c,f,m,v,b,y,w;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(E){throw this._renderer.setRenderTarget(null),E}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const A={format:$i,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:Rr,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:Rr,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Ai,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT:Ai};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=fk.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new r_,this._camera=new nu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!VLe(this._type,this._renderer,this._camera,A)){let E;switch(this._type){case ws:E=this._renderer.extensions.has("EXT_color_buffer_float")?Ei:void 0;break}E!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ei}`),this._type=E):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Ci(new dh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new wl(this.width,this.height,A),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping:Xf}static instantiateRenderer(){const e=new sk;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=gee(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new xl(this.toArray(),this.width,this.height,$i,this._type,e?.mapping||Xf,e?.wrapS||Ai,e?.wrapT||Ai,e?.magFilter||Rr,e?.minFilter||Rr,e?.anisotropy||1,hu);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Xo&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Ur&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Ur&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const WLe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,$Le=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class qLe extends Xo{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:WLe,fragmentShader:$Le,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new de(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new de().fromArray(t)},offsetSdr:{value:new de().fromArray(r)},gainMapMin:{value:new de().fromArray(i)},gainMapMax:{value:new de().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:dc,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class vee extends Error{}class yee extends Error{}const Vy=(n,e,t)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},XLe=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const r=e.indexOf("x:xmpmeta>",t),i=e.slice(t,r+10);try{const s=Vy(i,"hdrgm:GainMapMin","0"),o=Vy(i,"hdrgm:GainMapMax"),a=Vy(i,"hdrgm:Gamma","1"),l=Vy(i,"hdrgm:OffsetSDR","0.015625"),u=Vy(i,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),c=d?d[1]:"0",f=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!f)throw new Error("Incomplete gainmap metadata");const m=f[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(v=>parseFloat(v)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(c),hdrCapacityMax:parseFloat(m)}}catch{}t=e.indexOf("<x:xmpmeta",r)}};class KLe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,u;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(u=s.getUint8(a+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const d=a+4;if(s.getUint32(d)===1297106432){const c=d+4;let f;if(s.getUint16(c)===18761)f=!1;else if(s.getUint16(c)===19789)f=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(c+2,!f)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(c+4,!f);if(m<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=c+m,b=s.getUint16(v,!f),y=v+2;let w=0;for(let M=y;M<y+12*b;M+=12)s.getUint16(M,!f)===45057&&(w=s.getUint32(M+8,!f));const E=v+2+b*12+4,C=[];for(let M=E;M<E+w*16;M+=16){const R={MPType:s.getUint32(M,!f),size:s.getUint32(M+4,!f),dataOffset:s.getUint32(M+8,!f),dependantImages:s.getUint32(M+12,!f),start:-1,end:-1,isFII:!1};R.dataOffset?(R.start=c+R.dataOffset,R.isFII=!1):(R.start=0,R.isFII=!0),R.end=R.start+R.size,C.push(R)}if(this.options.extractNonFII&&C.length){const M=new Blob([s]),R=[];for(const O of C){if(O.isFII&&!this.options.extractFII)continue;const k=M.slice(O.start,O.end+1,"image/jpeg");R.push(k)}t(R)}}}a+=2+s.getUint16(a+2)}})}}const YLe=async n=>{const e=XLe(n);if(!e)throw new yee("Gain map XMP metadata not found");const r=await new KLe({extractFII:!0,extractNonFII:!0}).extract(n);if(r.length!==2)throw new vee("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},mV=n=>new Promise((e,t)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{t(i)},r.src=URL.createObjectURL(n)});class xee extends ro{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new tM}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new qLe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Ur,sdr:new Ur});return new fk({width:16,height:16,type:ws,colorSpace:hu,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,u=!1;if(typeof createImageBitmap>"u"){const f=await Promise.all([s?mV(s):Promise.resolve(void 0),mV(o)]);l=f[0],a=f[1],u=!0}else{const f=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=f[0],a=f[1]}const d=new Ur(l||new ImageData(2,2),Xf,Ai,Ai,Rr,LO,$i,qo,1,hu);d.flipY=u,d.needsUpdate=!0;const c=new Ur(a,Xf,Ai,Ai,Rr,LO,$i,qo,1,zo);c.flipY=u,c.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=d,e.material.sdr=c,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class JLe extends xee{load([e,t,r],i,s,o){const a=this.prepareQuadRenderer();let l,u,d;const c=async()=>{if(l&&u&&d){try{await this.render(a,d,l,u)}catch(D){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),typeof o=="function"&&o(D),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let f=!0,m=0,v=0,b=!0,y=0,w=0,A=!0,E=0,C=0;const M=()=>{if(typeof s=="function"){const D=m+y+E,I=v+w+C,L=f&&b&&A;s(new ProgressEvent("progress",{lengthComputable:L,loaded:I,total:D}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);const R=new no(this._internalLoadingManager);R.setResponseType("arraybuffer"),R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(e,async D=>{if(typeof D=="string")throw new Error("Invalid sdr buffer");l=D,await c()},D=>{f=D.lengthComputable,v=D.loaded,m=D.total,M()},D=>{this.manager.itemError(e),typeof o=="function"&&o(D)});const O=new no(this._internalLoadingManager);O.setResponseType("arraybuffer"),O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(t,async D=>{if(typeof D=="string")throw new Error("Invalid gainmap buffer");u=D,await c()},D=>{b=D.lengthComputable,w=D.loaded,y=D.total,M()},D=>{this.manager.itemError(t),typeof o=="function"&&o(D)});const k=new no(this._internalLoadingManager);return k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(r,async D=>{if(typeof D!="string")throw new Error("Invalid metadata string");d=JSON.parse(D),await c()},D=>{A=D.lengthComputable,C=D.loaded,E=D.total,M()},D=>{this.manager.itemError(r),typeof o=="function"&&o(D)}),a}}class ZLe extends xee{load(e,t,r,i){const s=this.prepareQuadRenderer(),o=new no(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let u,d,c;try{const f=await YLe(l);u=f.sdr,d=f.gainMap,c=f.metadata}catch(f){if(f instanceof yee||f instanceof vee)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),c={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw f}try{await this.render(s,c,u,d)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const Ab={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},bee="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",u0=n=>Array.isArray(n),hk=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function oM({files:n=hk,path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;t&&(pk(t),n=Ab[t],e=bee),o=u0(n);const{extension:a,isCubemap:l}=mk(n);if(s=gk(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=Uo(m=>m.gl);B.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function m(){Ed.clear(s,o?[n]:n)}u.domElement.addEventListener("webglcontextlost",m,{once:!0})},[n,u.domElement]);const d=Ed(s,o?[n]:n,m=>{(a==="webp"||a==="jpg"||a==="jpeg")&&m.setRenderer(u),m.setPath==null||m.setPath(e),i&&i(m)});let c=o?d[0]:d;if(a==="jpg"||a==="jpeg"||a==="webp"){var f;c=(f=c.renderTarget)==null?void 0:f.texture}return c.mapping=l?du:U0,"colorSpace"in c?c.colorSpace=r??l?"srgb":"srgb-linear":c.encoding=r??l?GLe:HLe,c}const QLe={files:hk,path:"",preset:void 0,extensions:void 0};oM.preload=n=>{const e={...QLe,...n};let{files:t,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(pk(i),t=Ab[i],r=bee);const{extension:o}=mk(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=gk(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ed.preload(a,u0(t)?[t]:t,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const eje={files:hk,preset:void 0};oM.clear=n=>{const e={...eje,...n};let{files:t}=e;const{preset:r}=e;r&&(pk(r),t=Ab[r]);const{extension:i}=mk(t),s=gk(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ed.clear(s,u0(t)?[t]:t)};function pk(n){if(!(n in Ab))throw new Error("Preset must be one of: "+Object.keys(Ab).join(", "))}function mk(n){var e;const t=u0(n)&&n.length===6,r=u0(n)&&n.length===3&&n.some(o=>o.endsWith("json")),i=u0(n)?n[0]:n;return{extension:t?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:r}}function gk(n){return n==="cube"?yQ:n==="hdr"?kLe:n==="exr"?LLe:n==="jpg"||n==="jpeg"?ZLe:n==="webp"?JLe:null}const tje=n=>n.current&&n.current.isScene,nje=n=>tje(n)?n.current:n;function vk(n,e,t,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=nje(e||t),d=u.background,c=u.environment,f={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(a=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return n!=="only"&&(u.environment=r),n&&(u.background=r),Pf(u,i),()=>{n!=="only"&&(u.environment=c),n&&(u.background=d),Pf(u,f)}}function yk({scene:n,background:e=!1,map:t,...r}){const i=Uo(s=>s.scene);return B.useLayoutEffect(()=>{if(t)return vk(e,n,i,t,r)}),null}function _ee({background:n=!1,scene:e,blur:t,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const u=oM(l),d=Uo(c=>c.scene);return B.useLayoutEffect(()=>vk(n,e,d,u,{backgroundBlurriness:t??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),B.useEffect(()=>()=>{u.dispose()},[u]),null}function rje({children:n,near:e=.1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:c,environmentRotation:f,scene:m,files:v,path:b,preset:y=void 0,extensions:w}){const A=Uo(k=>k.gl),E=Uo(k=>k.scene),C=B.useRef(null),[M]=B.useState(()=>new r_),R=B.useMemo(()=>{const k=new TB(r);return k.texture.type=ws,k},[r]);B.useEffect(()=>()=>{R.dispose()},[R]),B.useLayoutEffect(()=>{if(i===1){const k=A.autoClear;A.autoClear=!0,C.current.update(A,M),A.autoClear=k}return vk(o,m,E,R.texture,{backgroundBlurriness:a??l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:c,environmentRotation:f})},[n,M,R.texture,m,E,o,i,A]);let O=1;return sM(()=>{if(i===1/0||O<i){const k=A.autoClear;A.autoClear=!0,C.current.update(A,M),A.autoClear=k,O++}}),B.createElement(B.Fragment,null,oke(B.createElement(B.Fragment,null,n,B.createElement("cubeCamera",{ref:C,args:[e,t,R]}),v||y?B.createElement(_ee,{background:!0,files:v,preset:y,path:b,extensions:w}):s?B.createElement(yk,{background:!0,map:s,extensions:w}):null),M))}function ije(n){var e,t,r,i;const s=oM(n),o=n.map||s;B.useMemo(()=>GQ({GroundProjectedEnvImpl:qke}),[]),B.useEffect(()=>()=>{s.dispose()},[s]);const a=B.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,d=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return B.createElement(B.Fragment,null,B.createElement(yk,GS({},n,{map:o})),B.createElement("groundProjectedEnvImpl",{args:a,scale:d,height:l,radius:u}))}function sje(n){return n.ground?B.createElement(ije,n):n.map?B.createElement(yk,n):n.children?B.createElement(rje,n):B.createElement(_ee,n)}const xk=B.createContext({});function bk(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const _k=typeof window<"u",wee=_k?B.useLayoutEffect:B.useEffect,aM=B.createContext(null);function wk(n,e){n.indexOf(e)===-1&&n.push(e)}function Sk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Cd=(n,e,t)=>t>e?e:t<n?n:t;let Ak=()=>{};const Md={},See=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Aee(n){return typeof n=="object"&&n!==null}const Eee=n=>/^0[^.\s]+$/u.test(n);function Ek(n){let e;return()=>(e===void 0&&(e=n()),e)}const bl=n=>n,oje=(n,e)=>t=>e(n(t)),m_=(...n)=>n.reduce(oje),Eb=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Ck{constructor(){this.subscriptions=[]}add(e){return wk(this.subscriptions,e),()=>Sk(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ru=n=>n*1e3,gl=n=>n/1e3;function Cee(n,e){return e?n*(1e3/e):0}const Mee=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,aje=1e-7,lje=12;function cje(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=Mee(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>aje&&++a<lje);return o}function g_(n,e,t,r){if(n===e&&t===r)return bl;const i=s=>cje(s,0,1,n,t);return s=>s===0||s===1?s:Mee(i(s),e,r)}const Tee=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Pee=n=>e=>1-n(1-e),Ree=g_(.33,1.53,.69,.99),Mk=Pee(Ree),Nee=Tee(Mk),Iee=n=>(n*=2)<1?.5*Mk(n):.5*(2-Math.pow(2,-10*(n-1))),Tk=n=>1-Math.sin(Math.acos(n)),Oee=Pee(Tk),Fee=Tee(Tk),uje=g_(.42,0,1,1),dje=g_(0,0,.58,1),Dee=g_(.42,0,.58,1),fje=n=>Array.isArray(n)&&typeof n[0]!="number",Bee=n=>Array.isArray(n)&&typeof n[0]=="number",hje={linear:bl,easeIn:uje,easeInOut:Dee,easeOut:dje,circIn:Tk,circInOut:Fee,circOut:Oee,backIn:Mk,backInOut:Nee,backOut:Ree,anticipate:Iee},pje=n=>typeof n=="string",gV=n=>{if(Bee(n)){Ak(n.length===4);const[e,t,r,i]=n;return g_(e,t,r,i)}else if(pje(n))return hje[n];return n},Mw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mje(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),n()),d(a)}const u={schedule:(d,c=!1,f=!1)=>{const v=f&&i?t:r;return c&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const gje=40;function kee(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Mw.reduce((E,C)=>(E[C]=mje(s),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:c,preRender:f,render:m,postRender:v}=o,b=()=>{const E=Md.useManualTiming?i.timestamp:performance.now();t=!1,Md.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,gje),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),c.process(i),f.process(i),m.process(i),v.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(b))},y=()=>{t=!0,r=!0,i.isProcessing||n(b)};return{schedule:Mw.reduce((E,C)=>{const M=o[C];return E[C]=(R,O=!1,k=!1)=>(t||y(),M.schedule(R,O,k)),E},{}),cancel:E=>{for(let C=0;C<Mw.length;C++)o[Mw[C]].cancel(E)},state:i,steps:o}}const{schedule:vi,cancel:Qf,state:Zs,steps:_3}=kee(typeof requestAnimationFrame<"u"?requestAnimationFrame:bl,!0);let qw;function vje(){qw=void 0}const fa={now:()=>(qw===void 0&&fa.set(Zs.isProcessing||Md.useManualTiming?Zs.timestamp:performance.now()),qw),set:n=>{qw=n,queueMicrotask(vje)}},Lee=n=>e=>typeof e=="string"&&e.startsWith(n),Pk=Lee("--"),yje=Lee("var(--"),Rk=n=>yje(n)?xje.test(n.split("/*")[0].trim()):!1,xje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ev={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Cb={...Ev,transform:n=>Cd(0,1,n)},Tw={...Ev,default:1},gx=n=>Math.round(n*1e5)/1e5,Nk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bje(n){return n==null}const _je=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ik=(n,e)=>t=>!!(typeof t=="string"&&_je.test(t)&&t.startsWith(n)||e&&!bje(t)&&Object.prototype.hasOwnProperty.call(t,e)),jee=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Nk);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},wje=n=>Cd(0,255,n),w3={...Ev,transform:n=>Math.round(wje(n))},Dp={test:Ik("rgb","red"),parse:jee("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+w3.transform(n)+", "+w3.transform(e)+", "+w3.transform(t)+", "+gx(Cb.transform(r))+")"};function Sje(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rF={test:Ik("#"),parse:Sje,transform:Dp.transform},v_=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Mf=v_("deg"),iu=v_("%"),Un=v_("px"),Aje=v_("vh"),Eje=v_("vw"),vV={...iu,parse:n=>iu.parse(n)/100,transform:n=>iu.transform(n*100)},Vg={test:Ik("hsl","hue"),parse:jee("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+iu.transform(gx(e))+", "+iu.transform(gx(t))+", "+gx(Cb.transform(r))+")"},os={test:n=>Dp.test(n)||rF.test(n)||Vg.test(n),parse:n=>Dp.test(n)?Dp.parse(n):Vg.test(n)?Vg.parse(n):rF.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Dp.transform(n):Vg.transform(n),getAnimatableNone:n=>{const e=os.parse(n);return e.alpha=0,os.transform(e)}},Cje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Mje(n){return isNaN(n)&&typeof n=="string"&&(n.match(Nk)?.length||0)+(n.match(Cje)?.length||0)>0}const Uee="number",zee="color",Tje="var",Pje="var(",yV="${}",Rje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mb(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Rje,l=>(os.test(l)?(r.color.push(s),i.push(zee),t.push(os.parse(l))):l.startsWith(Pje)?(r.var.push(s),i.push(Tje),t.push(l)):(r.number.push(s),i.push(Uee),t.push(parseFloat(l))),++s,yV)).split(yV);return{values:t,split:a,indexes:r,types:i}}function Hee(n){return Mb(n).values}function Gee(n){const{split:e,types:t}=Mb(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===Uee?s+=gx(i[o]):a===zee?s+=os.transform(i[o]):s+=i[o]}return s}}const Nje=n=>typeof n=="number"?0:os.test(n)?os.getAnimatableNone(n):n;function Ije(n){const e=Hee(n);return Gee(n)(e.map(Nje))}const eh={test:Mje,parse:Hee,createTransformer:Gee,getAnimatableNone:Ije};function S3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Oje({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=S3(l,a,n+1/3),s=S3(l,a,n),o=S3(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function eE(n,e){return t=>t>0?e:n}const wi=(n,e,t)=>n+(e-n)*t,A3=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Fje=[rF,Dp,Vg],Dje=n=>Fje.find(e=>e.test(n));function xV(n){const e=Dje(n);if(!e)return!1;let t=e.parse(n);return e===Vg&&(t=Oje(t)),t}const bV=(n,e)=>{const t=xV(n),r=xV(e);if(!t||!r)return eE(n,e);const i={...t};return s=>(i.red=A3(t.red,r.red,s),i.green=A3(t.green,r.green,s),i.blue=A3(t.blue,r.blue,s),i.alpha=wi(t.alpha,r.alpha,s),Dp.transform(i))},iF=new Set(["none","hidden"]);function Bje(n,e){return iF.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function kje(n,e){return t=>wi(n,e,t)}function Ok(n){return typeof n=="number"?kje:typeof n=="string"?Rk(n)?eE:os.test(n)?bV:Uje:Array.isArray(n)?Vee:typeof n=="object"?os.test(n)?bV:Lje:eE}function Vee(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>Ok(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function Lje(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Ok(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function jje(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],a=n.values[o]??0;t[i]=a,r[s]++}return t}const Uje=(n,e)=>{const t=eh.createTransformer(e),r=Mb(n),i=Mb(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?iF.has(n)&&!i.values.length||iF.has(e)&&!r.values.length?Bje(n,e):m_(Vee(jje(r,i),i.values),t):eE(n,e)};function Wee(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?wi(n,e,t):Ok(n)(n,e)}const zje=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>vi.update(e,t),stop:()=>Qf(e),now:()=>Zs.isProcessing?Zs.timestamp:fa.now()}},$ee=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tE=2e4;function Fk(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<tE;)e+=t,r=n.next(e);return e>=tE?1/0:e}function Hje(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(Fk(r),tE);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:gl(i)}}const Gje=5;function qee(n,e,t){const r=Math.max(e-Gje,0);return Cee(t-n(r),e-r)}const Fi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},E3=.001;function Vje({duration:n=Fi.duration,bounce:e=Fi.bounce,velocity:t=Fi.velocity,mass:r=Fi.mass}){let i,s,o=1-e;o=Cd(Fi.minDamping,Fi.maxDamping,o),n=Cd(Fi.minDuration,Fi.maxDuration,gl(n)),o<1?(i=u=>{const d=u*o,c=d*n,f=d-t,m=sF(u,o),v=Math.exp(-c);return E3-f/m*v},s=u=>{const c=u*o*n,f=c*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-c),b=sF(Math.pow(u,2),o);return(-i(u)+E3>0?-1:1)*((f-m)*v)/b}):(i=u=>{const d=Math.exp(-u*n),c=(u-t)*n+1;return-E3+d*c},s=u=>{const d=Math.exp(-u*n),c=(t-u)*(n*n);return d*c});const a=5/n,l=$je(i,s,a);if(n=ru(n),isNaN(l))return{stiffness:Fi.stiffness,damping:Fi.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const Wje=12;function $je(n,e,t){let r=t;for(let i=1;i<Wje;i++)r=r-n(r)/e(r);return r}function sF(n,e){return n*Math.sqrt(1-e*e)}const qje=["duration","bounce"],Xje=["stiffness","damping","mass"];function _V(n,e){return e.some(t=>n[t]!==void 0)}function Kje(n){let e={velocity:Fi.velocity,stiffness:Fi.stiffness,damping:Fi.damping,mass:Fi.mass,isResolvedFromDuration:!1,...n};if(!_V(n,Xje)&&_V(n,qje))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Cd(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Fi.mass,stiffness:i,damping:s}}else{const t=Vje(n);e={...e,...t,mass:Fi.mass},e.isResolvedFromDuration=!0}return e}function nE(n=Fi.visualDuration,e=Fi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:c,velocity:f,isResolvedFromDuration:m}=Kje({...t,velocity:-gl(t.velocity||0)}),v=f||0,b=u/(2*Math.sqrt(l*d)),y=o-s,w=gl(Math.sqrt(l/d)),A=Math.abs(y)<5;r||(r=A?Fi.restSpeed.granular:Fi.restSpeed.default),i||(i=A?Fi.restDelta.granular:Fi.restDelta.default);let E;if(b<1){const M=sF(w,b);E=R=>{const O=Math.exp(-b*w*R);return o-O*((v+b*w*y)/M*Math.sin(M*R)+y*Math.cos(M*R))}}else if(b===1)E=M=>o-Math.exp(-w*M)*(y+(v+w*y)*M);else{const M=w*Math.sqrt(b*b-1);E=R=>{const O=Math.exp(-b*w*R),k=Math.min(M*R,300);return o-O*((v+b*w*y)*Math.sinh(k)+M*y*Math.cosh(k))/M}}const C={calculatedDuration:m&&c||null,next:M=>{const R=E(M);if(m)a.done=M>=c;else{let O=M===0?v:0;b<1&&(O=M===0?ru(v):qee(E,M,R));const k=Math.abs(O)<=r,D=Math.abs(o-R)<=i;a.done=k&&D}return a.value=a.done?o:R,a},toString:()=>{const M=Math.min(Fk(C),tE),R=$ee(O=>C.next(M*O).value,M,30);return M+"ms "+R},toTransition:()=>{}};return C}nE.applyToOptions=n=>{const e=Hje(n,100,nE);return n.ease=e.ease,n.duration=ru(e.duration),n.type="keyframes",n};function oF({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const c=n[0],f={done:!1,value:c},m=k=>a!==void 0&&k<a||l!==void 0&&k>l,v=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let b=t*e;const y=c+b,w=o===void 0?y:o(y);w!==y&&(b=w-c);const A=k=>-b*Math.exp(-k/r),E=k=>w+A(k),C=k=>{const D=A(k),I=E(k);f.done=Math.abs(D)<=u,f.value=f.done?w:I};let M,R;const O=k=>{m(f.value)&&(M=k,R=nE({keyframes:[f.value,v(f.value)],velocity:qee(E,k,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:k=>{let D=!1;return!R&&M===void 0&&(D=!0,C(k),O(k)),M!==void 0&&k>=M?R.next(k-M):(!D&&C(k),f)}}}function Yje(n,e,t){const r=[],i=t||Md.mix||Wee,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||bl:e;a=m_(l,a)}r.push(a)}return r}function Jje(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(Ak(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=Yje(e,r,i),l=a.length,u=d=>{if(o&&d<n[0])return e[0];let c=0;if(l>1)for(;c<n.length-2&&!(d<n[c+1]);c++);const f=Eb(n[c],n[c+1],d);return a[c](f)};return t?d=>u(Cd(n[0],n[s-1],d)):u}function Zje(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Eb(0,e,r);n.push(wi(t,1,i))}}function Qje(n){const e=[0];return Zje(e,n.length-1),e}function eUe(n,e){return n.map(t=>t*e)}function tUe(n,e){return n.map(()=>e||Dee).splice(0,n.length-1)}function vx({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=fje(r)?r.map(gV):gV(r),s={done:!1,value:e[0]},o=eUe(t&&t.length===e.length?t:Qje(e),n),a=Jje(o,e,{ease:Array.isArray(i)?i:tUe(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const nUe=n=>n!==null;function Dk(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(nUe),a=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const rUe={decay:oF,inertia:oF,tween:vx,keyframes:vx,spring:nE};function Xee(n){typeof n.type=="string"&&(n.type=rUe[n.type])}class Bk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const iUe=n=>n/100;class kk extends Bk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==fa.now()&&this.tick(fa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Xee(e);const{type:t=vx,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=t||vx;l!==vx&&typeof a[0]!="number"&&(this.mixKeyframes=m_(iUe,Wee(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Fk(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:c,repeatType:f,repeatDelay:m,type:v,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,C=r;if(c){const k=Math.min(this.currentTime,i)/a;let D=Math.floor(k),I=k%1;!I&&k>=1&&(I=1),I===1&&D--,D=Math.min(D,c+1),!!(D%2)&&(f==="reverse"?(I=1-I,m&&(I-=m/a)):f==="mirror"&&(C=o)),E=Cd(0,1,I)*a}const M=A?{done:!1,value:d[0]}:C.next(E);s&&(M.value=s(M.value));let{done:R}=M;!A&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return O&&v!==oF&&(M.value=Dk(d,this.options,y,this.speed)),b&&b(M.value),O&&this.finish(),M}then(e,t){return this.finished.then(e,t)}get duration(){return gl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gl(e)}get time(){return gl(this.currentTime)}set time(e){e=ru(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fa.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=zje,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function sUe(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Bp=n=>n*180/Math.PI,aF=n=>{const e=Bp(Math.atan2(n[1],n[0]));return lF(e)},oUe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:aF,rotateZ:aF,skewX:n=>Bp(Math.atan(n[1])),skewY:n=>Bp(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},lF=n=>(n=n%360,n<0&&(n+=360),n),wV=aF,SV=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),AV=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),aUe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SV,scaleY:AV,scale:n=>(SV(n)+AV(n))/2,rotateX:n=>lF(Bp(Math.atan2(n[6],n[5]))),rotateY:n=>lF(Bp(Math.atan2(-n[2],n[0]))),rotateZ:wV,rotate:wV,skewX:n=>Bp(Math.atan(n[4])),skewY:n=>Bp(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cF(n){return n.includes("scale")?1:0}function uF(n,e){if(!n||n==="none")return cF(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=aUe,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=oUe,i=a}if(!i)return cF(e);const s=r[e],o=i[1].split(",").map(cUe);return typeof s=="function"?s(o):o[s]}const lUe=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return uF(t,e)};function cUe(n){return parseFloat(n.trim())}const Cv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mv=new Set(Cv),EV=n=>n===Ev||n===Un,uUe=new Set(["x","y","z"]),dUe=Cv.filter(n=>!uUe.has(n));function fUe(n){const e=[];return dUe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const qp={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>uF(e,"x"),y:(n,{transform:e})=>uF(e,"y")};qp.translateX=qp.x;qp.translateY=qp.y;const Xp=new Set;let dF=!1,fF=!1,hF=!1;function Kee(){if(fF){const n=Array.from(Xp).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=fUe(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fF=!1,dF=!1,Xp.forEach(n=>n.complete(hF)),Xp.clear()}function Yee(){Xp.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(fF=!0)})}function hUe(){hF=!0,Yee(),Kee(),hF=!1}class Lk{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xp.add(this),dF||(dF=!0,vi.read(Yee),vi.resolveKeyframes(Kee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const a=r.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}sUe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xp.delete(this)}cancel(){this.state==="scheduled"&&(Xp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pUe=n=>n.startsWith("--");function mUe(n,e,t){pUe(e)?n.style.setProperty(e,t):n.style[e]=t}const gUe=Ek(()=>window.ScrollTimeline!==void 0),vUe={};function yUe(n,e){const t=Ek(n);return()=>vUe[e]??t()}const Jee=yUe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ex=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,CV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ex([0,.65,.55,1]),circOut:ex([.55,0,1,.45]),backIn:ex([.31,.01,.66,-.59]),backOut:ex([.33,1.53,.69,.99])};function Zee(n,e){if(n)return typeof n=="function"?Jee()?$ee(n,e):"ease-out":Bee(n)?ex(n):Array.isArray(n)?n.map(t=>Zee(t,e)||CV.easeOut):CV[n]}function xUe(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:t};l&&(d.offset=l);const c=Zee(a,i);Array.isArray(c)&&(d.easing=c);const f={delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),n.animate(d,f)}function Qee(n){return typeof n=="function"&&"applyToOptions"in n}function bUe({type:n,...e}){return Qee(n)&&Jee()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _Ue extends Bk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Ak(typeof e.type!="string");const u=bUe(e);this.animation=xUe(t,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Dk(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):mUe(t,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gl(e)}get time(){return gl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ru(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&gUe()?(this.animation.timeline=e,bl):t(this)}}const ete={anticipate:Iee,backInOut:Nee,circInOut:Fee};function wUe(n){return n in ete}function SUe(n){typeof n.ease=="string"&&wUe(n.ease)&&(n.ease=ete[n.ease])}const MV=10;class AUe extends _Ue{constructor(e){SUe(e),Xee(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new kk({...o,autoplay:!1}),l=ru(this.finishedTime??this.time);t.setWithVelocity(a.sample(l-MV).value,a.sample(l).value,MV),a.stop()}}const TV=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(eh.test(n)||n==="0")&&!n.startsWith("url("));function EUe(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function CUe(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=TV(i,e),a=TV(s,e);return!o||!a?!1:EUe(n)||(t==="spring"||Qee(t))&&r}function pF(n){n.duration=0,n.type="keyframes"}const MUe=new Set(["opacity","clipPath","filter","transform"]),TUe=Ek(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PUe(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return TUe()&&t&&MUe.has(t)&&(t!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const RUe=40;class NUe extends Bk{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fa.now();const f={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:d,...c},m=d?.KeyframeResolver||Lk;this.keyframeResolver=new m(a,(v,b,y)=>this.onKeyframesResolved(v,b,f,!y),l,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=fa.now(),CUe(e,s,o,a)||((Md.instantAnimations||!l)&&d?.(Dk(e,r,t)),e[0]=e[e.length-1],pF(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>RUe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},m=!u&&PUe(f)?new AUe({...f,element:f.motionValue.owner.current}):new kk(f);m.finished.then(()=>this.notifyFinished()).catch(bl),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hUe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const IUe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OUe(n){const e=IUe.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function tte(n,e,t=1){const[r,i]=OUe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return See(o)?parseFloat(o):o}return Rk(i)?tte(i,e,t+1):i}function jk(n,e){return n?.[e]??n?.default??n}const nte=new Set(["width","height","top","left","right","bottom",...Cv]),FUe={test:n=>n==="auto",parse:n=>n},rte=n=>e=>e.test(n),ite=[Ev,Un,iu,Mf,Eje,Aje,FUe],PV=n=>ite.find(rte(n));function DUe(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Eee(n):!0}const BUe=new Set(["brightness","contrast","saturate","opacity"]);function kUe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Nk)||[];if(!r)return n;const i=t.replace(r,"");let s=BUe.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const LUe=/\b([a-z-]*)\(.*?\)/gu,mF={...eh,getAnimatableNone:n=>{const e=n.match(LUe);return e?e.map(kUe).join(" "):n}},RV={...Ev,transform:Math.round},jUe={rotate:Mf,rotateX:Mf,rotateY:Mf,rotateZ:Mf,scale:Tw,scaleX:Tw,scaleY:Tw,scaleZ:Tw,skew:Mf,skewX:Mf,skewY:Mf,distance:Un,translateX:Un,translateY:Un,translateZ:Un,x:Un,y:Un,z:Un,perspective:Un,transformPerspective:Un,opacity:Cb,originX:vV,originY:vV,originZ:Un},Uk={borderWidth:Un,borderTopWidth:Un,borderRightWidth:Un,borderBottomWidth:Un,borderLeftWidth:Un,borderRadius:Un,radius:Un,borderTopLeftRadius:Un,borderTopRightRadius:Un,borderBottomRightRadius:Un,borderBottomLeftRadius:Un,width:Un,maxWidth:Un,height:Un,maxHeight:Un,top:Un,right:Un,bottom:Un,left:Un,padding:Un,paddingTop:Un,paddingRight:Un,paddingBottom:Un,paddingLeft:Un,margin:Un,marginTop:Un,marginRight:Un,marginBottom:Un,marginLeft:Un,backgroundPositionX:Un,backgroundPositionY:Un,...jUe,zIndex:RV,fillOpacity:Cb,strokeOpacity:Cb,numOctaves:RV},UUe={...Uk,color:os,backgroundColor:os,outlineColor:os,fill:os,stroke:os,borderColor:os,borderTopColor:os,borderRightColor:os,borderBottomColor:os,borderLeftColor:os,filter:mF,WebkitFilter:mF},ste=n=>UUe[n];function ote(n,e){let t=ste(n);return t!==mF&&(t=eh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const zUe=new Set(["auto","none","0"]);function HUe(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!zUe.has(s)&&Mb(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=ote(t,i)}class GUe extends Lk{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Rk(u))){const d=tte(u,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nte.has(r)||e.length!==2)return;const[i,s]=e,o=PV(i),a=PV(s);if(o!==a)if(EV(o)&&EV(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else qp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||DUe(e[i]))&&r.push(i);r.length&&HUe(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=qp[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function VUe(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const ate=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function lte(n){return Aee(n)&&"offsetHeight"in n}const NV=30,WUe=n=>!isNaN(parseFloat(n));class $Ue{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=fa.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WUe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ck);const r=this.events[e].add(t);return e==="change"?()=>{r(),vi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>NV)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,NV);return Cee(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tv(n,e){return new $Ue(n,e)}const{schedule:zk}=kee(queueMicrotask,!1),Ql={x:!1,y:!1};function cte(){return Ql.x||Ql.y}function qUe(n){return n==="x"||n==="y"?Ql[n]?null:(Ql[n]=!0,()=>{Ql[n]=!1}):Ql.x||Ql.y?null:(Ql.x=Ql.y=!0,()=>{Ql.x=Ql.y=!1})}function ute(n,e){const t=VUe(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function IV(n){return!(n.pointerType==="touch"||cte())}function XUe(n,e,t={}){const[r,i,s]=ute(n,t),o=a=>{if(!IV(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=c=>{IV(c)&&(u(c),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const dte=(n,e)=>e?n===e?!0:dte(n,e.parentElement):!1,Hk=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,KUe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YUe(n){return KUe.has(n.tagName)||n.tabIndex!==-1}const Xw=new WeakSet;function OV(n){return e=>{e.key==="Enter"&&n(e)}}function C3(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JUe=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=OV(()=>{if(Xw.has(t))return;C3(t,"down");const i=OV(()=>{C3(t,"up")}),s=()=>C3(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function FV(n){return Hk(n)&&!cte()}function ZUe(n,e,t={}){const[r,i,s]=ute(n,t),o=a=>{const l=a.currentTarget;if(!FV(a))return;Xw.add(l);const u=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",f),Xw.has(l)&&Xw.delete(l),FV(m)&&typeof u=="function"&&u(m,{success:v})},c=m=>{d(m,l===window||l===document||t.useGlobalTarget||dte(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",c,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),lte(a)&&(a.addEventListener("focus",u=>JUe(u,i)),!YUe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function fte(n){return Aee(n)&&"ownerSVGElement"in n}function QUe(n){return fte(n)&&n.tagName==="svg"}const So=n=>!!(n&&n.getVelocity),e4e=[...ite,os,eh],t4e=n=>e4e.find(rte(n)),Gk=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function DV(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function n4e(...n){return e=>{let t=!1;const r=n.map(i=>{const s=DV(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():DV(n[i],null)}}}}function r4e(...n){return B.useCallback(n4e(...n),n)}class i4e extends B.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=lte(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function s4e({children:n,isPresent:e,anchorX:t,root:r}){const i=B.useId(),s=B.useRef(null),o=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=B.useContext(Gk),l=r4e(s,n?.ref);return B.useInsertionEffect(()=>{const{width:u,height:d,top:c,left:f,right:m}=o.current;if(e||!s.current||!u||!d)return;const v=t==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const y=r??document.head;return y.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${c}px !important;
          }
        `),()=>{y.contains(b)&&y.removeChild(b)}},[e]),p.jsx(i4e,{isPresent:e,childRef:s,sizeRef:o,children:B.cloneElement(n,{ref:l})})}const o4e=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=bk(a4e),d=B.useId();let c=!0,f=B.useMemo(()=>(c=!1,{id:d,initial:e,isPresent:t,custom:i,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[t,u,r]);return s&&c&&(f={...f}),B.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[t]),B.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),o==="popLayout"&&(n=p.jsx(s4e,{isPresent:t,anchorX:a,root:l,children:n})),p.jsx(aM.Provider,{value:f,children:n})};function a4e(){return new Map}function hte(n=!0){const e=B.useContext(aM);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=B.useId();B.useEffect(()=>{if(n)return i(s)},[n]);const o=B.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const Pw=n=>n.key||"";function BV(n){const e=[];return B.Children.forEach(n,t=>{B.isValidElement(t)&&e.push(t)}),e}const Tb=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=hte(o),c=B.useMemo(()=>BV(n),[n]),f=o&&!u?[]:c.map(Pw),m=B.useRef(!0),v=B.useRef(c),b=bk(()=>new Map),[y,w]=B.useState(c),[A,E]=B.useState(c);wee(()=>{m.current=!1,v.current=c;for(let R=0;R<A.length;R++){const O=Pw(A[R]);f.includes(O)?b.delete(O):b.get(O)!==!0&&b.set(O,!1)}},[A,f.length,f.join("-")]);const C=[];if(c!==y){let R=[...c];for(let O=0;O<A.length;O++){const k=A[O],D=Pw(k);f.includes(D)||(R.splice(O,0,k),C.push(k))}return s==="wait"&&C.length&&(R=C),E(BV(R)),w(c),null}const{forceRender:M}=B.useContext(xk);return p.jsx(p.Fragment,{children:A.map(R=>{const O=Pw(R),k=o&&!u?!1:c===A||f.includes(O),D=()=>{if(b.has(O))b.set(O,!0);else return;let I=!0;b.forEach(L=>{L||(I=!1)}),I&&(M?.(),E(v.current),o&&d?.(),r&&r())};return p.jsx(o4e,{isPresent:k,initial:!m.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:k?void 0:D,anchorX:a,children:R},O)})})},pte=B.createContext({strict:!1}),kV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nv={};for(const n in kV)nv[n]={isEnabled:e=>kV[n].some(t=>!!e[t])};function l4e(n){for(const e in n)nv[e]={...nv[e],...n[e]}}const c4e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rE(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||c4e.has(n)}let mte=n=>!rE(n);function u4e(n){typeof n=="function"&&(mte=e=>e.startsWith("on")?!rE(e):n(e))}try{u4e(require("@emotion/is-prop-valid").default)}catch{}function d4e(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(mte(i)||t===!0&&rE(i)||!e&&!rE(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const lM=B.createContext({});function cM(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Pb(n){return typeof n=="string"||Array.isArray(n)}const Vk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wk=["initial",...Vk];function uM(n){return cM(n.animate)||Wk.some(e=>Pb(n[e]))}function gte(n){return!!(uM(n)||n.variants)}function f4e(n,e){if(uM(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Pb(t)?t:void 0,animate:Pb(r)?r:void 0}}return n.inherit!==!1?e:{}}function h4e(n){const{initial:e,animate:t}=f4e(n,B.useContext(lM));return B.useMemo(()=>({initial:e,animate:t}),[LV(e),LV(t)])}function LV(n){return Array.isArray(n)?n.join(" "):n}const Rb={};function p4e(n){for(const e in n)Rb[e]=n[e],Pk(e)&&(Rb[e].isCSSVariable=!0)}function vte(n,{layout:e,layoutId:t}){return Mv.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Rb[n]||n==="opacity")}const m4e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g4e=Cv.length;function v4e(n,e,t){let r="",i=!0;for(let s=0;s<g4e;s++){const o=Cv[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=ate(a,Uk[o]);if(!l){i=!1;const d=m4e[o]||o;r+=`${d}(${u}) `}t&&(e[o]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function $k(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(Mv.has(l)){o=!0;continue}else if(Pk(l)){i[l]=u;continue}else{const d=ate(u,Uk[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||t?r.transform=v4e(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const qk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yte(n,e,t){for(const r in e)!So(e[r])&&!vte(r,t)&&(n[r]=e[r])}function y4e({transformTemplate:n},e){return B.useMemo(()=>{const t=qk();return $k(t,e,n),Object.assign({},t.vars,t.style)},[e])}function x4e(n,e){const t=n.style||{},r={};return yte(r,t,n),Object.assign(r,y4e(n,e)),r}function b4e(n,e){const t={},r=x4e(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const _4e={offset:"stroke-dashoffset",array:"stroke-dasharray"},w4e={offset:"strokeDashoffset",array:"strokeDasharray"};function S4e(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?_4e:w4e;n[s.offset]=Un.transform(-r);const o=Un.transform(e),a=Un.transform(t);n[s.array]=`${o} ${a}`}function xte(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,d){if($k(n,a,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:c,style:f}=n;c.transform&&(f.transform=c.transform,delete c.transform),(f.transform||c.transformOrigin)&&(f.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),f.transform&&(f.transformBox=d?.transformBox??"fill-box",delete c.transformBox),e!==void 0&&(c.x=e),t!==void 0&&(c.y=t),r!==void 0&&(c.scale=r),i!==void 0&&S4e(c,i,s,o,!1)}const bte=()=>({...qk(),attrs:{}}),_te=n=>typeof n=="string"&&n.toLowerCase()==="svg";function A4e(n,e,t,r){const i=B.useMemo(()=>{const s=bte();return xte(s,e,_te(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};yte(s,n.style,n),i.style={...s,...i.style}}return i}const E4e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xk(n){return typeof n!="string"||n.includes("-")?!1:!!(E4e.indexOf(n)>-1||/[A-Z]/u.test(n))}function C4e(n,e,t,{latestValues:r},i,s=!1){const a=(Xk(n)?A4e:b4e)(e,r,i,n),l=d4e(e,typeof n=="string",s),u=n!==B.Fragment?{...l,...a,ref:t}:{},{children:d}=e,c=B.useMemo(()=>So(d)?d.get():d,[d]);return B.createElement(n,{...u,children:c})}function jV(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Kk(n,e,t,r){if(typeof e=="function"){const[i,s]=jV(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=jV(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function Kw(n){return So(n)?n.get():n}function M4e({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:T4e(t,r,i,n),renderState:e()}}function T4e(n,e,t,r){const i={},s=r(n,{});for(const f in s)i[f]=Kw(s[f]);let{initial:o,animate:a}=n;const l=uM(n),u=gte(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const c=d?a:o;if(c&&typeof c!="boolean"&&!cM(c)){const f=Array.isArray(c)?c:[c];for(let m=0;m<f.length;m++){const v=Kk(n,f[m]);if(v){const{transitionEnd:b,transition:y,...w}=v;for(const A in w){let E=w[A];if(Array.isArray(E)){const C=d?E.length-1:0;E=E[C]}E!==null&&(i[A]=E)}for(const A in b)i[A]=b[A]}}}return i}const wte=n=>(e,t)=>{const r=B.useContext(lM),i=B.useContext(aM),s=()=>M4e(n,e,r,i);return t?s():bk(s)};function Yk(n,e,t){const{style:r}=n,i={};for(const s in r)(So(r[s])||e.style&&So(e.style[s])||vte(s,n)||t?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const P4e=wte({scrapeMotionValuesFromProps:Yk,createRenderState:qk});function Ste(n,e,t){const r=Yk(n,e,t);for(const i in n)if(So(n[i])||So(e[i])){const s=Cv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const R4e=wte({scrapeMotionValuesFromProps:Ste,createRenderState:bte}),N4e=Symbol.for("motionComponentSymbol");function Wg(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function I4e(n,e,t){return B.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Wg(t)&&(t.current=r))},[e])}const Jk=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),O4e="framerAppearId",Ate="data-"+Jk(O4e),Ete=B.createContext({});function F4e(n,e,t,r,i){const{visualElement:s}=B.useContext(lM),o=B.useContext(pte),a=B.useContext(aM),l=B.useContext(Gk).reducedMotion,u=B.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,c=B.useContext(Ete);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&D4e(u.current,t,i,c);const f=B.useRef(!1);B.useInsertionEffect(()=>{d&&f.current&&d.update(t,a)});const m=t[Ate],v=B.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return wee(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),B.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),v.current=!1),d.enteringChildren=void 0)}),d}function D4e(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Cte(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Wg(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function Cte(n){if(n)return n.options.allowProjection!==!1?n.projection:Cte(n.parent)}function M3(n,{forwardMotionProps:e=!1}={},t,r){t&&l4e(t);const i=Xk(n)?R4e:P4e;function s(a,l){let u;const d={...B.useContext(Gk),...a,layoutId:B4e(a)},{isStatic:c}=d,f=h4e(a),m=i(a,c);if(!c&&_k){k4e();const v=L4e(d);u=v.MeasureLayout,f.visualElement=F4e(n,m,d,r,v.ProjectionNode)}return p.jsxs(lM.Provider,{value:f,children:[u&&f.visualElement?p.jsx(u,{visualElement:f.visualElement,...d}):null,C4e(n,a,I4e(m,f.visualElement,l),m,c,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=B.forwardRef(s);return o[N4e]=n,o}function B4e({layoutId:n}){const e=B.useContext(xk).id;return e&&n!==void 0?e+"-"+n:n}function k4e(n,e){B.useContext(pte).strict}function L4e(n){const{drag:e,layout:t}=nv;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function j4e(n,e){if(typeof Proxy>"u")return M3;const t=new Map,r=(s,o)=>M3(s,o,n,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(t.has(o)||t.set(o,M3(o,void 0,n,e)),t.get(o))})}function Mte({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function U4e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function z4e(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function T3(n){return n===void 0||n===1}function gF({scale:n,scaleX:e,scaleY:t}){return!T3(n)||!T3(e)||!T3(t)}function xp(n){return gF(n)||Tte(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Tte(n){return UV(n.x)||UV(n.y)}function UV(n){return n&&n!=="0%"}function iE(n,e,t){const r=n-t,i=e*r;return t+i}function zV(n,e,t,r,i){return i!==void 0&&(n=iE(n,i,r)),iE(n,t,r)+e}function vF(n,e=0,t=1,r,i){n.min=zV(n.min,e,t,r,i),n.max=zV(n.max,e,t,r,i)}function Pte(n,{x:e,y:t}){vF(n.x,e.translate,e.scale,e.originPoint),vF(n.y,t.translate,t.scale,t.originPoint)}const HV=.999999999999,GV=1.0000000000001;function H4e(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qg(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Pte(n,o)),r&&xp(s.latestValues)&&qg(n,s.latestValues))}e.x<GV&&e.x>HV&&(e.x=1),e.y<GV&&e.y>HV&&(e.y=1)}function $g(n,e){n.min=n.min+e,n.max=n.max+e}function VV(n,e,t,r,i=.5){const s=wi(n.min,n.max,i);vF(n,e,t,s,r)}function qg(n,e){VV(n.x,e.x,e.scaleX,e.scale,e.originX),VV(n.y,e.y,e.scaleY,e.scale,e.originY)}function Rte(n,e){return Mte(z4e(n.getBoundingClientRect(),e))}function G4e(n,e,t){const r=Rte(n,t),{scroll:i}=e;return i&&($g(r.x,i.offset.x),$g(r.y,i.offset.y)),r}const WV=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xg=()=>({x:WV(),y:WV()}),$V=()=>({min:0,max:0}),Wi=()=>({x:$V(),y:$V()}),yF={current:null},Nte={current:!1};function V4e(){if(Nte.current=!0,!!_k)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>yF.current=n.matches;n.addEventListener("change",e),e()}else yF.current=!1}const W4e=new WeakMap;function $4e(n,e,t){for(const r in e){const i=e[r],s=t[r];if(So(i))n.addValue(r,i);else if(So(s))n.addValue(r,tv(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,tv(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const qV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q4e{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=fa.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,vi.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=uM(t),this.isVariantNode=gte(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in c){const m=c[f];l[f]!==void 0&&So(m)&&m.set(l[f])}}mount(e){this.current=e,W4e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Nte.current||V4e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yF.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qf(this.notifyUpdate),Qf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Mv.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&vi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nv){const t=nv[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<qV.length;r++){const i=qV[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$4e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=tv(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(See(r)||Eee(r))?r=parseFloat(r):!t4e(r)&&eh.test(t)&&(r=ote(e,t)),this.setBaseTarget(e,So(r)?r.get():r)),So(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=Kk(this.props,t,this.presenceContext?.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!So(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Ck),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){zk.render(this.render)}}class Ite extends q4e{constructor(){super(...arguments),this.KeyframeResolver=GUe}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;So(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Ote(n,{style:e,vars:t},r,i){const s=n.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in t)s.setProperty(o,t[o])}function X4e(n){return window.getComputedStyle(n)}class K4e extends Ite{constructor(){super(...arguments),this.type="html",this.renderInstance=Ote}readValueFromInstance(e,t){if(Mv.has(t))return this.projection?.isProjecting?cF(t):lUe(e,t);{const r=X4e(e),i=(Pk(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Rte(e,t)}build(e,t,r){$k(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Yk(e,t,r)}}const Fte=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y4e(n,e,t,r){Ote(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Fte.has(i)?i:Jk(i),e.attrs[i])}class J4e extends Ite{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mv.has(t)){const r=ste(t);return r&&r.default||0}return t=Fte.has(t)?t:Jk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Ste(e,t,r)}build(e,t,r){xte(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){Y4e(e,t,r,i)}mount(e){this.isSVGTag=_te(e.tagName),super.mount(e)}}const Z4e=(n,e)=>Xk(n)?new J4e(e):new K4e(e,{allowProjection:n!==B.Fragment});function d0(n,e,t){const r=n.getProps();return Kk(r,e,t!==void 0?t:r.custom,n)}const xF=n=>Array.isArray(n);function Q4e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,tv(t))}function e6e(n){return xF(n)?n[n.length-1]||0:n}function t6e(n,e){const t=d0(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=e6e(s[o]);Q4e(n,o,a)}}function n6e(n){return!!(So(n)&&n.add)}function bF(n,e){const t=n.getValue("willChange");if(n6e(t))return t.add(e);if(!t&&Md.WillChange){const r=new Md.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Dte(n){return n.props[Ate]}const r6e=n=>n!==null;function i6e(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(r6e),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const s6e={type:"spring",stiffness:500,damping:25,restSpeed:10},o6e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),a6e={type:"keyframes",duration:.8},l6e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c6e=(n,{keyframes:e})=>e.length>2?a6e:Mv.has(n)?n.startsWith("scale")?o6e(e[1]):s6e:l6e;function u6e({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Zk=(n,e,t,r={},i,s)=>o=>{const a=jk(r,n)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ru(l);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};u6e(a)||Object.assign(d,c6e(n,d)),d.duration&&(d.duration=ru(d.duration)),d.repeatDelay&&(d.repeatDelay=ru(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let c=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(pF(d),d.delay===0&&(c=!0)),(Md.instantAnimations||Md.skipAnimations)&&(c=!0,pF(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,c&&!s&&e.get()!==void 0){const f=i6e(d.keyframes,a);if(f!==void 0){vi.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new kk(d):new NUe(d)};function d6e({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Bte(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const c=n.getValue(d,n.latestValues[d]??null),f=a[d];if(f===void 0||u&&d6e(u,d))continue;const m={delay:t,...jk(s||{},d)},v=c.get();if(v!==void 0&&!c.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const w=Dte(n);if(w){const A=window.MotionHandoffAnimation(w,d,vi);A!==null&&(m.startTime=A,b=!0)}}bF(n,d),c.start(Zk(d,c,f,n.shouldReduceMotion&&nte.has(d)?{type:!1}:m,n,b));const y=c.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{vi.update(()=>{o&&t6e(n,o)})}),l}function kte(n,e,t,r=0,i=1){const s=Array.from(n).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=n.size,a=(o-1)*r;return typeof t=="function"?t(s,o):i===1?s*r:a-s*r}function _F(n,e,t={}){const r=d0(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(Bte(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:c}=i;return f6e(n,e,l,u,d,c,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function f6e(n,e,t=0,r=0,i=0,s=1,o){const a=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),a.push(_F(l,e,{...o,delay:t+(typeof r=="function"?0:r)+kte(n.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function h6e(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>_F(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=_F(n,e,t);else{const i=typeof e=="function"?d0(n,e,t.custom):e;r=Promise.all(Bte(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function Lte(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const p6e=Wk.length;function jte(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?jte(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<p6e;t++){const r=Wk[t],i=n.props[r];(Pb(i)||i===!1)&&(e[r]=i)}return e}const m6e=[...Vk].reverse(),g6e=Vk.length;function v6e(n){return e=>Promise.all(e.map(({animation:t,options:r})=>h6e(n,t,r)))}function y6e(n){let e=v6e(n),t=XV(),r=!0;const i=l=>(u,d)=>{const c=d0(n,d,l==="exit"?n.presenceContext?.custom:void 0);if(c){const{transition:f,transitionEnd:m,...v}=c;u={...u,...v,...m}}return u};function s(l){e=l(n)}function o(l){const{props:u}=n,d=jte(n.parent)||{},c=[],f=new Set;let m={},v=1/0;for(let y=0;y<g6e;y++){const w=m6e[y],A=t[w],E=u[w]!==void 0?u[w]:d[w],C=Pb(E),M=w===l?A.isActive:null;M===!1&&(v=y);let R=E===d[w]&&E!==u[w]&&C;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),A.protectedKeys={...m},!A.isActive&&M===null||!E&&!A.prevProp||cM(E)||typeof E=="boolean")continue;const O=x6e(A.prevProp,E);let k=O||w===l&&A.isActive&&!R&&C||y>v&&C,D=!1;const I=Array.isArray(E)?E:[E];let L=I.reduce(i(w),{});M===!1&&(L={});const{prevResolvedValues:W={}}=A,q={...W,...L},K=ee=>{k=!0,f.has(ee)&&(D=!0,f.delete(ee)),A.needsAnimating[ee]=!0;const H=n.getValue(ee);H&&(H.liveStyle=!1)};for(const ee in q){const H=L[ee],Z=W[ee];if(m.hasOwnProperty(ee))continue;let te=!1;xF(H)&&xF(Z)?te=!Lte(H,Z):te=H!==Z,te?H!=null?K(ee):f.add(ee):H!==void 0&&f.has(ee)?K(ee):A.protectedKeys[ee]=!0}A.prevProp=E,A.prevResolvedValues=L,A.isActive&&(m={...m,...L}),r&&n.blockInitialAnimation&&(k=!1);const ne=R&&O;k&&(!ne||D)&&c.push(...I.map(ee=>{const H={type:w};if(typeof ee=="string"&&r&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Z}=n,te=d0(Z,ee);if(Z.enteringChildren&&te){const{delayChildren:Y}=te.transition||{};H.delay=kte(Z.enteringChildren,n,Y)}}return{animation:ee,options:H}}))}if(f.size){const y={};if(typeof u.initial!="boolean"){const w=d0(n,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(y.transition=w.transition)}f.forEach(w=>{const A=n.getBaseTarget(w),E=n.getValue(w);E&&(E.liveStyle=!0),y[w]=A??null}),c.push({animation:y})}let b=!!c.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(c):Promise.resolve()}function a(l,u){if(t[l].isActive===u)return Promise.resolve();n.variantChildren?.forEach(c=>c.animationState?.setActive(l,u)),t[l].isActive=u;const d=o(l);for(const c in t)t[c].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=XV()}}}function x6e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Lte(e,n):!1}function hp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XV(){return{animate:hp(!0),whileInView:hp(),whileHover:hp(),whileTap:hp(),whileDrag:hp(),whileFocus:hp(),exit:hp()}}class hh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class b6e extends hh{constructor(e){super(e),e.animationState||(e.animationState=y6e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cM(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _6e=0;class w6e extends hh{constructor(){super(...arguments),this.id=_6e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const S6e={animation:{Feature:b6e},exit:{Feature:w6e}};function Nb(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function y_(n){return{point:{x:n.pageX,y:n.pageY}}}const A6e=n=>e=>Hk(e)&&n(e,y_(e));function yx(n,e,t,r){return Nb(n,e,A6e(t),r)}const Ute=1e-4,E6e=1-Ute,C6e=1+Ute,zte=.01,M6e=0-zte,T6e=0+zte;function Vo(n){return n.max-n.min}function P6e(n,e,t){return Math.abs(n-e)<=t}function KV(n,e,t,r=.5){n.origin=r,n.originPoint=wi(e.min,e.max,n.origin),n.scale=Vo(t)/Vo(e),n.translate=wi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=E6e&&n.scale<=C6e||isNaN(n.scale))&&(n.scale=1),(n.translate>=M6e&&n.translate<=T6e||isNaN(n.translate))&&(n.translate=0)}function xx(n,e,t,r){KV(n.x,e.x,t.x,r?r.originX:void 0),KV(n.y,e.y,t.y,r?r.originY:void 0)}function YV(n,e,t){n.min=t.min+e.min,n.max=n.min+Vo(e)}function R6e(n,e,t){YV(n.x,e.x,t.x),YV(n.y,e.y,t.y)}function JV(n,e,t){n.min=e.min-t.min,n.max=n.min+Vo(e)}function bx(n,e,t){JV(n.x,e.x,t.x),JV(n.y,e.y,t.y)}function al(n){return[n("x"),n("y")]}const Hte=({current:n})=>n?n.ownerDocument.defaultView:null,ZV=(n,e)=>Math.abs(n-e);function N6e(n,e){const t=ZV(n.x,e.x),r=ZV(n.y,e.y);return Math.sqrt(t**2+r**2)}class Gte{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=R3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=N6e(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:b}=f,{timestamp:y}=Zs;this.history.push({...b,timestamp:y});const{onStart:w,onMove:A}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=P3(m,this.transformPagePoint),vi.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=R3(f.type==="pointercancel"?this.lastMoveEventInfo:P3(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,w),b&&b(f,w)},!Hk(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=y_(e),l=P3(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=Zs;this.history=[{...u,timestamp:d}];const{onSessionStart:c}=t;c&&c(e,R3(l,this.history)),this.removeListeners=m_(yx(this.contextWindow,"pointermove",this.handlePointerMove),yx(this.contextWindow,"pointerup",this.handlePointerUp),yx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qf(this.updatePoint)}}function P3(n,e){return e?{point:e(n.point)}:n}function QV(n,e){return{x:n.x-e.x,y:n.y-e.y}}function R3({point:n},e){return{point:n,delta:QV(n,Vte(e)),offset:QV(n,I6e(e)),velocity:O6e(e,.1)}}function I6e(n){return n[0]}function Vte(n){return n[n.length-1]}function O6e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Vte(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ru(e)));)t--;if(!r)return{x:0,y:0};const s=gl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function F6e(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?wi(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?wi(t,n,r.max):Math.min(n,t)),n}function e7(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function D6e(n,{top:e,left:t,bottom:r,right:i}){return{x:e7(n.x,t,i),y:e7(n.y,e,r)}}function t7(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function B6e(n,e){return{x:t7(n.x,e.x),y:t7(n.y,e.y)}}function k6e(n,e){let t=.5;const r=Vo(n),i=Vo(e);return i>r?t=Eb(e.min,e.max-r,n.min):r>i&&(t=Eb(n.min,n.max-i,e.min)),Cd(0,1,t)}function L6e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const wF=.35;function j6e(n=wF){return n===!1?n=0:n===!0&&(n=wF),{x:n7(n,"left","right"),y:n7(n,"top","bottom")}}function n7(n,e,t){return{min:r7(n,e),max:r7(n,t)}}function r7(n,e){return typeof n=="number"?n:n[e]||0}const U6e=new WeakMap;class z6e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(y_(c).point)},o=(c,f)=>{const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qUe(m),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),al(w=>{let A=this.getAxisMotionValue(w).get()||0;if(iu.test(A)){const{projection:E}=this.visualElement;if(E&&E.layout){const C=E.layout.layoutBox[w];C&&(A=Vo(C)*(parseFloat(A)/100))}}this.originPoint[w]=A}),b&&vi.postRender(()=>b(c,f)),bF(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,f)=>{this.latestPointerEvent=c,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(v&&this.currentDirection===null){this.currentDirection=H6e(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(c,f)},l=(c,f)=>{this.latestPointerEvent=c,this.latestPanInfo=f,this.stop(c,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>al(c=>this.getAnimationState(c)==="paused"&&this.getAxisMotionValue(c).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Gte(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Hte(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&vi.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Rw(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=F6e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Wg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=D6e(r.layoutBox,e):this.constraints=!1,this.elastic=j6e(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&al(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=L6e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=G4e(r,i.root,this.visualElement.getTransformPagePoint());let o=B6e(i.layout.layoutBox,s);if(t){const a=t(U4e(o));this.hasMutatedConstraints=!!a,a&&(o=Mte(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=al(d=>{if(!Rw(d,t,this.currentDirection))return;let c=l&&l[d]||{};o&&(c={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return bF(this.visualElement,e),r.start(Zk(e,r,0,t,this.visualElement,!1))}stopAnimation(){al(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){al(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){al(t=>{const{drag:r}=this.getProps();if(!Rw(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-wi(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Wg(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};al(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=k6e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),al(o=>{if(!Rw(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(wi(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;U6e.set(this.visualElement,this);const e=this.visualElement.current,t=yx(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vi.read(r);const o=Nb(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(al(d=>{const c=this.getAxisMotionValue(d);c&&(this.originPoint[d]+=l[d].translate,c.set(c.get()+l[d].translate))}),this.visualElement.render())}));return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=wF,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Rw(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function H6e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class G6e extends hh{constructor(e){super(e),this.removeGroupControls=bl,this.removeListeners=bl,this.controls=new z6e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bl}unmount(){this.removeGroupControls(),this.removeListeners()}}const i7=n=>(e,t)=>{n&&vi.postRender(()=>n(e,t))};class V6e extends hh{constructor(){super(...arguments),this.removePointerDownListener=bl}onPointerDown(e){this.session=new Gte(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hte(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:i7(e),onStart:i7(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&vi.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=yx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s7(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Wy={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Un.test(n))n=parseFloat(n);else return n;const t=s7(n,e.target.x),r=s7(n,e.target.y);return`${t}% ${r}%`}},W6e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=eh.parse(n);if(i.length>5)return r;const s=eh.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=wi(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let N3=!1;class $6e extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;p4e(q6e),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),N3&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Yw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,N3=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||vi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;N3=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wte(n){const[e,t]=hte(),r=B.useContext(xk);return p.jsx($6e,{...n,layoutGroup:r,switchLayoutGroup:B.useContext(Ete),isPresent:e,safeToRemove:t})}const q6e={borderRadius:{...Wy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wy,borderTopRightRadius:Wy,borderBottomLeftRadius:Wy,borderBottomRightRadius:Wy,boxShadow:W6e};function X6e(n,e,t){const r=So(n)?n:tv(n);return r.start(Zk("",r,e,t)),r.animation}const K6e=(n,e)=>n.depth-e.depth;class Y6e{constructor(){this.children=[],this.isDirty=!1}add(e){wk(this.children,e),this.isDirty=!0}remove(e){Sk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K6e),this.isDirty=!1,this.children.forEach(e)}}function J6e(n,e){const t=fa.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Qf(r),n(s-e))};return vi.setup(r,!0),()=>Qf(r)}const $te=["TopLeft","TopRight","BottomLeft","BottomRight"],Z6e=$te.length,o7=n=>typeof n=="string"?parseFloat(n):n,a7=n=>typeof n=="number"||Un.test(n);function Q6e(n,e,t,r,i,s){i?(n.opacity=wi(0,t.opacity??1,e5e(r)),n.opacityExit=wi(e.opacity??1,0,t5e(r))):s&&(n.opacity=wi(e.opacity??1,t.opacity??1,r));for(let o=0;o<Z6e;o++){const a=`border${$te[o]}Radius`;let l=l7(e,a),u=l7(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||a7(l)===a7(u)?(n[a]=Math.max(wi(o7(l),o7(u),r),0),(iu.test(u)||iu.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=wi(e.rotate||0,t.rotate||0,r))}function l7(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const e5e=qte(0,.5,Oee),t5e=qte(.5,.95,bl);function qte(n,e,t){return r=>r<n?0:r>e?1:t(Eb(n,e,r))}function c7(n,e){n.min=e.min,n.max=e.max}function ol(n,e){c7(n.x,e.x),c7(n.y,e.y)}function u7(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function d7(n,e,t,r,i){return n-=e,n=iE(n,1/t,r),i!==void 0&&(n=iE(n,1/i,r)),n}function n5e(n,e=0,t=1,r=.5,i,s=n,o=n){if(iu.test(e)&&(e=parseFloat(e),e=wi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=wi(s.min,s.max,r);n===s&&(a-=e),n.min=d7(n.min,e,t,a,i),n.max=d7(n.max,e,t,a,i)}function f7(n,e,[t,r,i],s,o){n5e(n,e[t],e[r],e[i],e.scale,s,o)}const r5e=["x","scaleX","originX"],i5e=["y","scaleY","originY"];function h7(n,e,t,r){f7(n.x,e,r5e,t?t.x:void 0,r?r.x:void 0),f7(n.y,e,i5e,t?t.y:void 0,r?r.y:void 0)}function p7(n){return n.translate===0&&n.scale===1}function Xte(n){return p7(n.x)&&p7(n.y)}function m7(n,e){return n.min===e.min&&n.max===e.max}function s5e(n,e){return m7(n.x,e.x)&&m7(n.y,e.y)}function g7(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Kte(n,e){return g7(n.x,e.x)&&g7(n.y,e.y)}function v7(n){return Vo(n.x)/Vo(n.y)}function y7(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class o5e{constructor(){this.members=[]}add(e){wk(this.members,e),e.scheduleRender()}remove(e){if(Sk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a5e(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=t?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:d,rotateX:c,rotateY:f,skewX:m,skewY:v}=t;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),c&&(r+=`rotateX(${c}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const I3=["","X","Y","Z"],l5e=1e3;let c5e=0;function O3(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Yte(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Dte(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",vi,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Yte(r)}function Jte({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=c5e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f5e),this.nodes.forEach(g5e),this.nodes.forEach(v5e),this.nodes.forEach(h5e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y6e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ck),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=fte(o)&&!QUe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),n){let d,c=0;const f=()=>this.root.updateBlockedByResize=!1;vi.read(()=>{c=window.innerWidth}),n(o,()=>{const m=window.innerWidth;m!==c&&(c=m,this.root.updateBlockedByResize=!0,d&&d(),d=J6e(f,250),Yw.hasAnimatedSinceResize&&(Yw.hasAnimatedSinceResize=!1,this.nodes.forEach(_7)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||w5e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!Kte(this.targetLayout,m),A=!c&&f;if(this.options.layoutRoot||this.resumeFrom||A||c&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...jk(v,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,A)}else c||_7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y5e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const c=this.path[d];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x7);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b7);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(m5e),this.nodes.forEach(u5e),this.nodes.forEach(d5e)):this.nodes.forEach(b7),this.clearAllSnapshots();const a=fa.now();Zs.delta=Cd(0,1e3/60,a-Zs.timestamp),Zs.timestamp=a,Zs.isProcessing=!0,_3.update.process(Zs),_3.preRender.process(Zs),_3.render.process(Zs),Zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p5e),this.sharedNodes.forEach(x5e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vo(this.snapshot.measuredBox.x)&&!Vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Xte(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||xp(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),S5e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wi();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A5e))){const{scroll:u}=this.root;u&&($g(a.x,u.offset.x),$g(a.y,u.offset.y))}return a}removeElementScroll(o){const a=Wi();if(ol(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:c}=u;u!==this.root&&d&&c.layoutScroll&&(d.wasRoot&&ol(a,o),$g(a.x,d.offset.x),$g(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Wi();ol(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xp(d.latestValues)&&qg(l,d.latestValues)}return xp(this.latestValues)&&qg(l,this.latestValues),l}removeTransform(o){const a=Wi();ol(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xp(u.latestValues))continue;gF(u.latestValues)&&u.updateSnapshot();const d=Wi(),c=u.measurePageBox();ol(d,c),h7(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return xp(this.latestValues)&&h7(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:c}=this.options;if(!(!this.layout||!(d||c))){if(this.resolvedRelativeTargetAt=Zs.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wi(),this.relativeTargetOrigin=Wi(),bx(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wi(),this.targetWithTransforms=Wi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R6e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ol(this.target,this.layout.layoutBox),Pte(this.target,this.targetDelta)):ol(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wi(),this.relativeTargetOrigin=Wi(),bx(this.relativeTargetOrigin,this.target,f.target),ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gF(this.parent.latestValues)||Tte(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zs.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ol(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,f=this.treeScale.y;H4e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wi());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u7(this.prevProjectionDelta.x,this.projectionDelta.x),u7(this.prevProjectionDelta.y,this.projectionDelta.y)),xx(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==f||!y7(this.projectionDelta.x,this.prevProjectionDelta.x)||!y7(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xg(),this.projectionDelta=Xg(),this.projectionDeltaWithTransform=Xg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},c=Xg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Wi(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=m!==v,y=this.getStack(),w=!y||y.members.length<=1,A=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(_5e));this.animationProgress=0;let E;this.mixTargetDelta=C=>{const M=C/1e3;w7(c.x,o.x,M),w7(c.y,o.y,M),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bx(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b5e(this.relativeTarget,this.relativeTargetOrigin,f,M),E&&s5e(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Wi()),ol(E,this.relativeTarget)),b&&(this.animationValues=d,Q6e(d,u,this.latestValues,M,A,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vi.update(()=>{Yw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tv(0)),this.currentAnimation=X6e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l5e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Zte(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wi();const c=Vo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+c;const f=Vo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ol(a,l),qg(a,d),xx(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new o5e),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&O3("z",o,u,this.animationValues);for(let d=0;d<I3.length;d++)O3(`rotate${I3[d]}`,o,u,this.animationValues),O3(`skew${I3[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Kw(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Kw(a?.pointerEvents)||""),this.hasProjected&&!xp(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let c=a5e(this.projectionDeltaWithTransform,this.treeScale,d);l&&(c=l(d,c)),o.transform=c;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Rb){if(d[v]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:w}=Rb[v],A=c==="none"?d[v]:b(d[v],u);if(y){const E=y.length;for(let C=0;C<E;C++)o[y[C]]=A}else w?this.options.visualElement.renderState.vars[v]=A:o[v]=A}this.options.layoutId&&(o.pointerEvents=u===this?Kw(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(x7),this.root.sharedNodes.clear()}}}function u5e(n){n.updateLayout()}function d5e(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,s=e.source!==n.layout.source;i==="size"?al(d=>{const c=s?e.measuredBox[d]:e.layoutBox[d],f=Vo(c);c.min=t[d].min,c.max=c.min+f}):Zte(i,e.layoutBox,t)&&al(d=>{const c=s?e.measuredBox[d]:e.layoutBox[d],f=Vo(t[d]);c.max=c.min+f,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+f)});const o=Xg();xx(o,t,e.layoutBox);const a=Xg();s?xx(a,n.applyTransform(r,!0),e.measuredBox):xx(a,t,e.layoutBox);const l=!Xte(o);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:c,layout:f}=d;if(c&&f){const m=Wi();bx(m,e.layoutBox,c.layoutBox);const v=Wi();bx(v,t,f.layoutBox),Kte(m,v)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=m,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function f5e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function h5e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function p5e(n){n.clearSnapshot()}function x7(n){n.clearMeasurements()}function b7(n){n.isLayoutDirty=!1}function m5e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function _7(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function g5e(n){n.resolveTargetDelta()}function v5e(n){n.calcProjection()}function y5e(n){n.resetSkewAndRotation()}function x5e(n){n.removeLeadSnapshot()}function w7(n,e,t){n.translate=wi(e.translate,0,t),n.scale=wi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function S7(n,e,t,r){n.min=wi(e.min,t.min,r),n.max=wi(e.max,t.max,r)}function b5e(n,e,t,r){S7(n.x,e.x,t.x,r),S7(n.y,e.y,t.y,r)}function _5e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const w5e={duration:.45,ease:[.4,0,.1,1]},A7=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),E7=A7("applewebkit/")&&!A7("chrome/")?Math.round:bl;function C7(n){n.min=E7(n.min),n.max=E7(n.max)}function S5e(n){C7(n.x),C7(n.y)}function Zte(n,e,t){return n==="position"||n==="preserve-aspect"&&!P6e(v7(e),v7(t),.2)}function A5e(n){return n!==n.root&&n.scroll?.wasRoot}const E5e=Jte({attachResizeListener:(n,e)=>Nb(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),F3={current:void 0},Qte=Jte({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!F3.current){const n=new E5e({});n.mount(window),n.setOptions({layoutScroll:!0}),F3.current=n}return F3.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),C5e={pan:{Feature:V6e},drag:{Feature:G6e,ProjectionNode:Qte,MeasureLayout:Wte}};function M7(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&vi.postRender(()=>s(e,y_(e)))}class M5e extends hh{mount(){const{current:e}=this.node;e&&(this.unmount=XUe(e,(t,r)=>(M7(this.node,r,"Start"),i=>M7(this.node,i,"End"))))}unmount(){}}class T5e extends hh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=m_(Nb(this.node.current,"focus",()=>this.onFocus()),Nb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T7(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&vi.postRender(()=>s(e,y_(e)))}class P5e extends hh{mount(){const{current:e}=this.node;e&&(this.unmount=ZUe(e,(t,r)=>(T7(this.node,r,"Start"),(i,{success:s})=>T7(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const SF=new WeakMap,D3=new WeakMap,R5e=n=>{const e=SF.get(n.target);e&&e(n)},N5e=n=>{n.forEach(R5e)};function I5e({root:n,...e}){const t=n||document;D3.has(t)||D3.set(t,{});const r=D3.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(N5e,{root:n,...e})),r[i]}function O5e(n,e,t){const r=I5e(e);return SF.set(n,t),r.observe(n),()=>{SF.delete(n),r.unobserve(n)}}const F5e={some:0,all:1};class D5e extends hh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:F5e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:c}=this.node.getProps(),f=u?d:c;f&&f(l)};return O5e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(B5e(e,t))&&this.startObserver()}unmount(){}}function B5e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const k5e={inView:{Feature:D5e},tap:{Feature:P5e},focus:{Feature:T5e},hover:{Feature:M5e}},L5e={layout:{ProjectionNode:Qte,MeasureLayout:Wte}},j5e={...S6e,...k5e,...C5e,...L5e},Si=j4e(j5e,Z4e),P7=n=>n<200?1:n<400?2:n<700?3:n<1e3?4:5,qc=Pke()(Ike((n,e)=>({xp:0,level:1,addXP:t=>{const r=e().xp,i=e().level,s=r+t,o=P7(s),a=o>i;return n({xp:s,level:o}),a},setXP:t=>{const r=P7(t);n({xp:t,level:r})},reset:()=>n({xp:0,level:1})}),{name:"xp-storage"})),U5e=n=>{const e={1:"#ff4b4b",2:"#ffae42",3:"#4bff85",4:"#42b4ff",5:"#b342ff"};return e[n]||e[5]};function z5e({onAuraChange:n}){const{xp:e,level:t}=qc(),[r,i]=B.useState(0),[s,o]=B.useState(!1),a=e%200,l=a/200*100,u=U5e(t);return B.useEffect(()=>{a<50?i(.3):a>=75?i(1):i(.6),n?.(r)},[a,r,n]),B.useEffect(()=>{if(t>1){o(!0);const d=setTimeout(()=>o(!1),1e3);return()=>clearTimeout(d)}},[t]),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("div",{className:"relative",children:p.jsxs(Si.div,{animate:{scale:s?[1,1.2,1]:1},transition:{duration:.6,ease:"easeOut"},className:"flex items-center gap-2",children:[p.jsx(jp,{className:"text-[#6F66FF]",size:20}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-2xl font-bold text-[#6F66FF]",children:["Level ",t," ",t===5&&""]}),p.jsx("div",{className:"text-xs text-gray-500",children:t===5?"Radiant":`${a}/200 XP`})]})]})})}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-sm font-semibold text-gray-600",children:"Total XP"}),p.jsx("div",{className:"text-xl font-bold text-[#6F66FF]",children:e})]})]}),p.jsxs("div",{className:"relative h-6 bg-gray-200/50 rounded-full overflow-hidden backdrop-blur-sm",children:[p.jsx(Si.div,{className:"absolute inset-y-0 left-0 rounded-full",style:{background:`linear-gradient(90deg, ${u}, ${u}dd)`,boxShadow:`0 0 ${15+a/4}px ${u}80`},initial:{width:0},animate:{width:`${l}%`,boxShadow:`0 0 ${15+a/4}px ${u}80`},transition:{duration:.5,ease:"easeOut"}}),p.jsx(Tb,{children:r>0&&p.jsx(Si.div,{className:"absolute inset-0 rounded-full",style:{background:`linear-gradient(90deg, ${u}40, ${u}20)`,boxShadow:`0 0 ${r*30}px ${u}60`},initial:{opacity:0,scaleX:0},animate:{scaleX:[0,l/100,l/100],opacity:[.3,.6,.3]},exit:{opacity:0},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})}),p.jsx(Tb,{children:s&&p.jsx(Si.div,{className:"absolute inset-0 rounded-full",style:{background:`radial-gradient(circle, ${u}40, transparent 70%)`},initial:{opacity:0,scale:.8},animate:{opacity:[0,1,0],scale:[.8,1.4,1.4]},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"}})}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("span",{className:"text-xs font-semibold text-white drop-shadow-md",children:[Math.round(l),"%"]})})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[p.jsx(ma,{size:14}),p.jsx("span",{children:l>=75?"Almost there! Keep going! ":l>=50?"You're making great progress! ":"Every session builds your strength "})]})]})}const H5e=n=>n<20?"border-green-400/50 bg-green-400/5":n<50?"border-blue-400/50 bg-blue-400/5":"border-orange-400/50 bg-orange-400/5",G5e=n=>n<20?"from-green-400 to-emerald-500":n<50?"from-indigo-400 to-violet-500":"from-pink-400 to-orange-500",V5e=n=>n<20?"bg-green-500/20 text-green-300 border-green-400/30":n<50?"bg-blue-500/20 text-blue-300 border-blue-400/30":"bg-orange-500/20 text-orange-300 border-orange-400/30";function W5e({quests:n,onCompleteQuest:e}){const t=n.filter(r=>r.status!=="completed");return t.length===0?p.jsx(Ot,{className:"border-0 shadow-lg bg-white/10 backdrop-blur-lg",children:p.jsxs(Ft,{className:"p-6 text-center text-gray-400",children:[p.jsx(Ex,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No active quests"}),p.jsx("p",{className:"text-xs mt-2 text-gray-500",children:"Keep healing strong! "})]})}):p.jsxs(Ot,{className:"border-0 shadow-lg bg-white/10 backdrop-blur-lg",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#6F66FF] flex items-center gap-2",children:[p.jsx(Up,{className:"w-5 h-5"}),"Keep Healing Strong "]})}),p.jsx(Ft,{className:"space-y-3",children:p.jsx(Tb,{children:t.map((r,i)=>{const s=r.progress/r.total*100,o=r.progress>=r.total;return p.jsx(Si.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:i*.1},className:`p-4 rounded-xl border-2 transition-all backdrop-blur-sm ${H5e(r.rewardXP)} ${o?"ring-2 ring-[#6F66FF] ring-opacity-50":""}`,whileHover:{scale:1.02,transition:{duration:.2}},children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Si.div,{className:`w-10 h-10 rounded-lg flex items-center justify-center ${o?"bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF]":"bg-gradient-to-br from-gray-400 to-gray-500"}`,animate:o?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:.5},children:o?p.jsx(Up,{className:"w-5 h-5 text-white"}):p.jsx(Ex,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2 gap-2",children:[p.jsx("h4",{className:"text-[#2C2E6F] font-semibold text-sm leading-tight",children:r.title}),p.jsxs(hr,{className:`rounded-full px-2 py-0.5 text-xs font-semibold border ${V5e(r.rewardXP)}`,children:["+",r.rewardXP," XP"]})]}),p.jsxs("div",{className:"space-y-1 mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsxs("span",{className:"text-gray-500",children:[r.progress," / ",r.total]}),p.jsxs("span",{className:"text-[#6F66FF] font-semibold",children:[Math.round(s),"%"]})]}),p.jsx("div",{className:"relative h-2 bg-gray-200/30 rounded-full overflow-hidden",children:p.jsx(Si.div,{className:`h-full rounded-full bg-gradient-to-r ${G5e(r.rewardXP)}`,initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5,ease:"easeOut"}})})]}),o&&p.jsx(Si.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:p.jsxs(Lt,{onClick:()=>e(r.id),className:"w-full bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 text-white",size:"sm",children:[p.jsx(sd,{className:"w-4 h-4 mr-2"}),"Claim Your Reward"]})})]})]})},r.id)})})})]})}function $5e({quests:n,onAuraPulse:e}){const{addXP:t,xp:r,setXP:i}=qc(),{addXP:s,stats:o}=jb(),a=B.useRef(new Set),l=async d=>{const c=n.find(f=>f.id===d);if(c&&!a.current.has(d)&&c.progress>=c.total&&c.status!=="completed"){c.status="completed",a.current.add(d);const f=qc.getState().level,m=o?.totalXp||qc.getState().xp;try{await s(c.rewardXP);const v=m+c.rewardXP;i(v);const b=qc.getState().level,y=b>f;Bi.success(` ${c.title} complete! +${c.rewardXP} XP `,{duration:3e3,description:"Your EchoBody glows brighter!"}),y&&Bi.success(` Level Up! You're now Level ${b}!`,{duration:4e3})}catch{const b=t(c.rewardXP);if(Bi.success(` ${c.title} complete! +${c.rewardXP} XP `,{duration:3e3}),b){const{level:y}=qc.getState();Bi.success(` Level Up! You're now Level ${y}!`,{duration:4e3})}}e?.()}};return B.useEffect(()=>{n.forEach(d=>{d.progress>=d.total&&d.status!=="completed"&&!a.current.has(d.id)&&setTimeout(()=>{l(d.id)},500)})},[n]),{completeQuest:l,xp:r,showXPToast:d=>{Bi.success(`+${d} XP`,{duration:2e3})}}}const AF=n=>{if(n<0){const e=n+1;return new Wt().lerpColors(new Wt(1982639),new Wt(7300863),e)}else{const e=n;return new Wt().lerpColors(new Wt(7300863),new Wt(16498468),e)}},q5e=n=>n<-.3?"from-blue-500 to-cyan-400":n<.3?"from-indigo-500 to-violet-600":"from-pink-500 to-orange-400",X5e=n=>{const e={1:"#ff4b4b",2:"#ffae42",3:"#4bff85",4:"#42b4ff",5:"#b342ff"};return e[n]||e[5]};function K5e({animationName:n="Idle Breathing"}){const e=B.useRef(null),t=B.useRef(null),r=p_("/models/avatar3.glb"),i=r.scene,s=B.useMemo(()=>r.animations||[],[r.animations]);return ue.useEffect(()=>{i&&i.traverse(o=>{o.isMesh})},[i]),ue.useEffect(()=>{if(!s||s.length===0||!i)return;t.current&&(t.current.stopAllAction(),t.current=null),t.current=new IQ(i);const a=s.find(l=>{const u=l.name.toLowerCase(),d=n.toLowerCase();return u.includes(d)||d.includes(u)})||s[0];if(a&&t.current){const l=t.current.clipAction(a);l&&(l.reset(),l.setLoop(bB,1/0),l.play())}},[s,n,i]),sM((o,a)=>{t.current&&t.current.update(a)}),ue.useEffect(()=>{if(!i)return;const o=new zs().setFromObject(i),a=o.getSize(new de),l=o.getCenter(new de),d=Math.min(11/a.y,2),c=Math.max(.01,Math.min(d,2));i.scale.setScalar(c);const f=l.multiplyScalar(c);i.position.x=-f.x,i.position.y=-f.y+1.5,i.position.z=-f.z},[i]),i?p.jsx("group",{ref:e,children:p.jsx("primitive",{object:i})}):null}function Y5e({mood:n}){const{scene:e}=Uo();return sM(()=>{const t=new Wt(7300863),r=AF(n),i=t.clone().lerp(r,.2);e.background instanceof Wt?e.background.lerp(i,.05):e.background=i.clone()}),null}const ene=B.forwardRef((n,e)=>{const{camera:t}=Uo(),r=B.useRef(null),i=B.useRef(new de(0,4.5,0)),s=B.useRef(new de(0,6,10));return B.useImperativeHandle(e,()=>({rotateLeft:()=>{r.current&&r.current.setAzimuthalAngle((r.current.getAzimuthalAngle()||0)-Math.PI/12)},rotateRight:()=>{r.current&&r.current.setAzimuthalAngle((r.current.getAzimuthalAngle()||0)+Math.PI/12)},rotateUp:()=>{r.current&&r.current.setPolarAngle((r.current.getPolarAngle()||Math.PI/2)-Math.PI/12)},rotateDown:()=>{r.current&&r.current.setPolarAngle((r.current.getPolarAngle()||Math.PI/2)+Math.PI/12)},moveCameraUp:()=>{t.position.y+=.5,i.current.y+=.5,r.current&&r.current.target.copy(i.current)},moveCameraDown:()=>{t.position.y-=.5,i.current.y-=.5,r.current&&r.current.target.copy(i.current)},resetCamera:()=>{t.position.copy(s.current),i.current.set(0,4.5,0),r.current&&r.current.target.copy(i.current)}})),B.useEffect(()=>{t.position.copy(s.current),r.current&&r.current.target.copy(i.current)},[t]),p.jsx(zLe,{ref:r,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:4,maxDistance:25,autoRotate:!1,target:i.current})});ene.displayName="CameraControls";function J5e({count:n=15}){const e=Array.from({length:n},(t,r)=>({id:r,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2,duration:3+Math.random()*2}));return p.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:e.map(t=>p.jsx(Si.div,{className:"absolute w-2 h-2 rounded-full bg-white/30 blur-sm",style:{left:`${t.x}%`,top:`${t.y}%`},animate:{y:[0,-30,0],x:[0,Math.sin(t.id)*20,0],opacity:[.3,.8,.3],scale:[1,1.5,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id))})}function Z5e(){const n=B.useRef(null),[e,t]=B.useState(0),{stats:r}=jb(),i=B.useRef(null),{setXP:s,xp:o,level:a}=qc(),[l,u]=B.useState(!1);B.useEffect(()=>{if(r?.totalXp!==void 0){const y=qc.getState().xp;if(Math.abs(y-r.totalXp)>.1){const w=qc.getState().level;s(r.totalXp),qc.getState().level>w&&(u(!0),setTimeout(()=>u(!1),1e3))}}},[r?.totalXp,s]);const d=[{id:"complete_3_sessions_week",title:"Complete 3 sessions this week",total:3,rewardXP:50,progress:r?.questProgress?.complete_3_sessions_week?.progress||0},{id:"perfect_form_x3",title:"Perfect Form x3",total:3,rewardXP:10,progress:r?.questProgress?.perfect_form_x3?.progress||0},{id:"maintain_7_day_streak",title:"Maintain 7-day streak",total:7,rewardXP:100,progress:Math.min(r?.currentStreak||0,7)},{id:"complete_full_exercise_plan",title:"Complete full exercise plan",total:10,rewardXP:75,progress:r?.questProgress?.complete_full_exercise_plan?.progress||0}],{completeQuest:c}=$5e({quests:d,onAuraPulse:()=>{i.current?.()}}),m=(y=>y<-.5?"TiredIdle":y>.5?"VictoryPose":"Idle Breathing")(e),v=q5e(e),b=X5e(a);return p.jsxs("div",{className:"w-full min-h-screen relative overflow-hidden",style:{height:"calc(100vh - 8rem)"},children:[p.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${v} opacity-20`}),p.jsx(J5e,{count:20}),p.jsxs("div",{className:"relative z-10 flex gap-6 h-full p-6",children:[p.jsx(Si.div,{className:"w-56 flex-shrink-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:p.jsxs(Ot,{className:"bg-white/95 backdrop-blur-lg shadow-xl border-2 border-[#6F66FF]/30 h-fit",style:{boxShadow:`0 0 30px ${b}30`},children:[p.jsx(ln,{children:p.jsxs(un,{className:"flex items-center gap-2 text-[#2C2E6F] font-semibold",children:[p.jsx(Wc,{className:"text-[#6F66FF]",size:20}),"Emotional & Camera Controls "]})}),p.jsxs(Ft,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{htmlFor:"emotional-state-slider",className:"text-sm text-[#2C2E6F] font-medium mb-2 block",children:["Your Emotional State: ",e.toFixed(2)]}),p.jsx("div",{className:"mb-1 text-xs text-[#6F66FF] font-semibold",children:e<-.5?" Calm & Resting":e>.5?" Energized & Strong":" Balanced & Ready"}),p.jsx(Nx,{id:"emotional-state-slider",name:"emotionalState",value:[e],onValueChange:y=>t(y[0]),min:-1,max:1,step:.01,className:"w-full","aria-label":"Your Emotional State"}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[p.jsx("span",{children:"Calm"}),p.jsx("span",{children:"Neutral"}),p.jsx("span",{children:"Energized"})]})]}),p.jsxs("div",{className:"text-xs text-gray-700 mb-4 p-2 bg-[#6F66FF]/10 rounded-lg border border-[#6F66FF]/20",children:["Animation: ",p.jsx("span",{className:"font-semibold text-[#6F66FF]",children:m})]}),p.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-300",children:[p.jsx("label",{className:"text-sm font-semibold text-[#2C2E6F] block",children:"Camera View"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Rotation"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateLeft(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(yle,{size:16}),"Left"]}),p.jsxs(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateRight(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(ble,{size:16}),"Right"]}),p.jsxs(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateUp(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(e$,{size:16}),"Up"]}),p.jsxs(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.rotateDown(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(UF,{size:16}),"Down"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Position"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.moveCameraUp(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(lle,{size:16}),"Up"]}),p.jsxs(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.moveCameraDown(),className:"flex items-center justify-center gap-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:[p.jsx(ole,{size:16}),"Down"]})]})]}),p.jsx(Lt,{variant:"outline",size:"sm",onClick:()=>n.current?.resetCamera(),className:"w-full mt-2 bg-white border-gray-300 text-[#2C2E6F] hover:bg-[#6F66FF]/10 hover:border-[#6F66FF]",children:"Reset View"})]})]})]})}),p.jsxs("div",{className:"flex-1 relative flex items-center justify-center",style:{height:"calc(100vh - 12rem)"},children:[p.jsx(Si.div,{className:"absolute inset-0 rounded-3xl",style:{background:`radial-gradient(circle at center, ${b}20, transparent 70%)`},animate:{scale:[1,1.05,1],opacity:[.3,.5,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),p.jsx(Tb,{children:l&&p.jsx(Si.div,{className:"absolute inset-0 rounded-3xl",style:{background:`radial-gradient(circle, ${b}40, transparent 70%)`},initial:{opacity:0,scale:.8},animate:{opacity:[0,1,0],scale:[.8,1.4,1.4]},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"}})}),p.jsx(Si.div,{className:"absolute inset-0 rounded-3xl border-2 pointer-events-none",style:{borderColor:b,boxShadow:`0 0 ${30+o/10}px ${b}60`},animate:{boxShadow:[`0 0 ${30+o/10}px ${b}60`,`0 0 ${40+o/10}px ${b}80`,`0 0 ${30+o/10}px ${b}60`]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),p.jsx("div",{className:"relative w-full h-full rounded-3xl overflow-hidden shadow-2xl",children:p.jsx(Ake,{gl:{antialias:!0,alpha:!0},dpr:[1,2],camera:{position:[0,6,10],fov:70},style:{width:"100%",height:"100%",background:"transparent"},onCreated:({gl:y,scene:w})=>{y.toneMapping=EC,y.toneMappingExposure=1.5,w.background=new Wt(7300863)},children:p.jsxs(B.Suspense,{fallback:null,children:[p.jsx("ambientLight",{intensity:.5}),p.jsx("directionalLight",{position:[5,5,5],intensity:1.2}),p.jsx("pointLight",{position:[-5,0,5],intensity:.6,color:AF(e)}),p.jsx("pointLight",{position:[5,0,-5],intensity:.6,color:AF(e)}),p.jsx(sje,{preset:"sunset"}),p.jsx(K5e,{animationName:m}),p.jsx(Y5e,{mood:e}),p.jsx(ene,{ref:n})]})})})]}),p.jsxs(Si.div,{className:"w-80 flex-shrink-0 flex flex-col gap-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[p.jsxs(Ot,{className:"border-0 shadow-lg bg-white/10 backdrop-blur-lg",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#6F66FF] flex items-center gap-2 text-sm",children:[p.jsx(jp,{className:"w-5 h-5"}),"Your Progress So Far "]})}),p.jsx(Ft,{children:p.jsx(z5e,{onAuraChange:()=>{}})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsx(W5e,{quests:d,onCompleteQuest:c})})]})]})]})}p_.preload("/models/avatar3.glb");var B3={},R7;function Q5e(){return R7||(R7=1,(function(){var n;function e(P){var U=0;return function(){return U<P.length?{done:!1,value:P[U++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(P,U,$){return P==Array.prototype||P==Object.prototype||(P[U]=$.value),P};function r(P){P=[typeof globalThis=="object"&&globalThis,P,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fa=="object"&&Fa];for(var U=0;U<P.length;++U){var $=P[U];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var i=r(this);function s(P,U){if(U)e:{var $=i;P=P.split(".");for(var re=0;re<P.length-1;re++){var he=P[re];if(!(he in $))break e;$=$[he]}P=P[P.length-1],re=$[P],U=U(re),U!=re&&U!=null&&t($,P,{configurable:!0,writable:!0,value:U})}}s("Symbol",function(P){function U(me){if(this instanceof U)throw new TypeError("Symbol is not a constructor");return new $(re+(me||"")+"_"+he++,me)}function $(me,pe){this.h=me,t(this,"description",{configurable:!0,writable:!0,value:pe})}if(P)return P;$.prototype.toString=function(){return this.h};var re="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",he=0;return U}),s("Symbol.iterator",function(P){if(P)return P;P=Symbol("Symbol.iterator");for(var U="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),$=0;$<U.length;$++){var re=i[U[$]];typeof re=="function"&&typeof re.prototype[P]!="function"&&t(re.prototype,P,{configurable:!0,writable:!0,value:function(){return o(e(this))}})}return P});function o(P){return P={next:P},P[Symbol.iterator]=function(){return this},P}function a(P){var U=typeof Symbol<"u"&&Symbol.iterator&&P[Symbol.iterator];return U?U.call(P):{next:e(P)}}function l(P){if(!(P instanceof Array)){P=a(P);for(var U,$=[];!(U=P.next()).done;)$.push(U.value);P=$}return P}var u=typeof Object.assign=="function"?Object.assign:function(P,U){for(var $=1;$<arguments.length;$++){var re=arguments[$];if(re)for(var he in re)Object.prototype.hasOwnProperty.call(re,he)&&(P[he]=re[he])}return P};s("Object.assign",function(P){return P||u});var d=typeof Object.create=="function"?Object.create:function(P){function U(){}return U.prototype=P,new U},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var f;e:{var m={a:!0},v={};try{v.__proto__=m,f=v.a;break e}catch{}f=!1}c=f?function(P,U){if(P.__proto__=U,P.__proto__!==U)throw new TypeError(P+" is not extensible");return P}:null}var b=c;function y(P,U){if(P.prototype=d(U.prototype),P.prototype.constructor=P,b)b(P,U);else for(var $ in U)if($!="prototype")if(Object.defineProperties){var re=Object.getOwnPropertyDescriptor(U,$);re&&Object.defineProperty(P,$,re)}else P[$]=U[$];P.za=U.prototype}function w(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function A(P){if(P.m)throw new TypeError("Generator is already running");P.m=!0}w.prototype.u=function(P){this.i=P};function E(P,U){P.l={ma:U,na:!0},P.h=P.s||P.v}w.prototype.return=function(P){this.l={return:P},this.h=this.v};function C(P,U,$){return P.h=$,{value:U}}function M(P){this.h=new w,this.i=P}function R(P,U){A(P.h);var $=P.h.j;return $?O(P,"return"in $?$.return:function(re){return{value:re,done:!0}},U,P.h.return):(P.h.return(U),k(P))}function O(P,U,$,re){try{var he=U.call(P.h.j,$);if(!(he instanceof Object))throw new TypeError("Iterator result "+he+" is not an object");if(!he.done)return P.h.m=!1,he;var me=he.value}catch(pe){return P.h.j=null,E(P.h,pe),k(P)}return P.h.j=null,re.call(P.h,me),k(P)}function k(P){for(;P.h.h;)try{var U=P.i(P.h);if(U)return P.h.m=!1,{value:U.value,done:!1}}catch($){P.h.i=void 0,E(P.h,$)}if(P.h.m=!1,P.h.l){if(U=P.h.l,P.h.l=null,U.na)throw U.ma;return{value:U.return,done:!0}}return{value:void 0,done:!0}}function D(P){this.next=function(U){return A(P.h),P.h.j?U=O(P,P.h.j.next,U,P.h.u):(P.h.u(U),U=k(P)),U},this.throw=function(U){return A(P.h),P.h.j?U=O(P,P.h.j.throw,U,P.h.u):(E(P.h,U),U=k(P)),U},this.return=function(U){return R(P,U)},this[Symbol.iterator]=function(){return this}}function I(P){function U(re){return P.next(re)}function $(re){return P.throw(re)}return new Promise(function(re,he){function me(pe){pe.done?re(pe.value):Promise.resolve(pe.value).then(U,$).then(me,he)}me(P.next())})}function L(P){return I(new D(new M(P)))}s("Promise",function(P){function U(pe){this.i=0,this.j=void 0,this.h=[],this.u=!1;var Ce=this.l();try{pe(Ce.resolve,Ce.reject)}catch(Ve){Ce.reject(Ve)}}function $(){this.h=null}function re(pe){return pe instanceof U?pe:new U(function(Ce){Ce(pe)})}if(P)return P;$.prototype.i=function(pe){if(this.h==null){this.h=[];var Ce=this;this.j(function(){Ce.m()})}this.h.push(pe)};var he=i.setTimeout;$.prototype.j=function(pe){he(pe,0)},$.prototype.m=function(){for(;this.h&&this.h.length;){var pe=this.h;this.h=[];for(var Ce=0;Ce<pe.length;++Ce){var Ve=pe[Ce];pe[Ce]=null;try{Ve()}catch(bt){this.l(bt)}}}this.h=null},$.prototype.l=function(pe){this.j(function(){throw pe})},U.prototype.l=function(){function pe(bt){return function(Vt){Ve||(Ve=!0,bt.call(Ce,Vt))}}var Ce=this,Ve=!1;return{resolve:pe(this.I),reject:pe(this.m)}},U.prototype.I=function(pe){if(pe===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(pe instanceof U)this.L(pe);else{e:switch(typeof pe){case"object":var Ce=pe!=null;break e;case"function":Ce=!0;break e;default:Ce=!1}Ce?this.F(pe):this.s(pe)}},U.prototype.F=function(pe){var Ce=void 0;try{Ce=pe.then}catch(Ve){this.m(Ve);return}typeof Ce=="function"?this.M(Ce,pe):this.s(pe)},U.prototype.m=function(pe){this.v(2,pe)},U.prototype.s=function(pe){this.v(1,pe)},U.prototype.v=function(pe,Ce){if(this.i!=0)throw Error("Cannot settle("+pe+", "+Ce+"): Promise already settled in state"+this.i);this.i=pe,this.j=Ce,this.i===2&&this.K(),this.H()},U.prototype.K=function(){var pe=this;he(function(){if(pe.D()){var Ce=i.console;typeof Ce<"u"&&Ce.error(pe.j)}},1)},U.prototype.D=function(){if(this.u)return!1;var pe=i.CustomEvent,Ce=i.Event,Ve=i.dispatchEvent;return typeof Ve>"u"?!0:(typeof pe=="function"?pe=new pe("unhandledrejection",{cancelable:!0}):typeof Ce=="function"?pe=new Ce("unhandledrejection",{cancelable:!0}):(pe=i.document.createEvent("CustomEvent"),pe.initCustomEvent("unhandledrejection",!1,!0,pe)),pe.promise=this,pe.reason=this.j,Ve(pe))},U.prototype.H=function(){if(this.h!=null){for(var pe=0;pe<this.h.length;++pe)me.i(this.h[pe]);this.h=null}};var me=new $;return U.prototype.L=function(pe){var Ce=this.l();pe.T(Ce.resolve,Ce.reject)},U.prototype.M=function(pe,Ce){var Ve=this.l();try{pe.call(Ce,Ve.resolve,Ve.reject)}catch(bt){Ve.reject(bt)}},U.prototype.then=function(pe,Ce){function Ve(vn,jt){return typeof vn=="function"?function(on){try{bt(vn(on))}catch(dn){Vt(dn)}}:jt}var bt,Vt,An=new U(function(vn,jt){bt=vn,Vt=jt});return this.T(Ve(pe,bt),Ve(Ce,Vt)),An},U.prototype.catch=function(pe){return this.then(void 0,pe)},U.prototype.T=function(pe,Ce){function Ve(){switch(bt.i){case 1:pe(bt.j);break;case 2:Ce(bt.j);break;default:throw Error("Unexpected state: "+bt.i)}}var bt=this;this.h==null?me.i(Ve):this.h.push(Ve),this.u=!0},U.resolve=re,U.reject=function(pe){return new U(function(Ce,Ve){Ve(pe)})},U.race=function(pe){return new U(function(Ce,Ve){for(var bt=a(pe),Vt=bt.next();!Vt.done;Vt=bt.next())re(Vt.value).T(Ce,Ve)})},U.all=function(pe){var Ce=a(pe),Ve=Ce.next();return Ve.done?re([]):new U(function(bt,Vt){function An(on){return function(dn){vn[on]=dn,jt--,jt==0&&bt(vn)}}var vn=[],jt=0;do vn.push(void 0),jt++,re(Ve.value).T(An(vn.length-1),Vt),Ve=Ce.next();while(!Ve.done)})},U});function W(P,U){P instanceof String&&(P+="");var $=0,re=!1,he={next:function(){if(!re&&$<P.length){var me=$++;return{value:U(me,P[me]),done:!1}}return re=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}s("Array.prototype.keys",function(P){return P||function(){return W(this,function(U){return U})}}),s("Array.prototype.fill",function(P){return P||function(U,$,re){var he=this.length||0;for(0>$&&($=Math.max(0,he+$)),(re==null||re>he)&&(re=he),re=Number(re),0>re&&(re=Math.max(0,he+re)),$=Number($||0);$<re;$++)this[$]=U;return this}});function q(P){return P||Array.prototype.fill}s("Int8Array.prototype.fill",q),s("Uint8Array.prototype.fill",q),s("Uint8ClampedArray.prototype.fill",q),s("Int16Array.prototype.fill",q),s("Uint16Array.prototype.fill",q),s("Int32Array.prototype.fill",q),s("Uint32Array.prototype.fill",q),s("Float32Array.prototype.fill",q),s("Float64Array.prototype.fill",q),s("Object.is",function(P){return P||function(U,$){return U===$?U!==0||1/U===1/$:U!==U&&$!==$}}),s("Array.prototype.includes",function(P){return P||function(U,$){var re=this;re instanceof String&&(re=String(re));var he=re.length;for($=$||0,0>$&&($=Math.max($+he,0));$<he;$++){var me=re[$];if(me===U||Object.is(me,U))return!0}return!1}}),s("String.prototype.includes",function(P){return P||function(U,$){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(U instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(U,$||0)!==-1}});var K=this||self;function ne(P,U){P=P.split(".");var $=K;P[0]in $||typeof $.execScript>"u"||$.execScript("var "+P[0]);for(var re;P.length&&(re=P.shift());)P.length||U===void 0?$[re]&&$[re]!==Object.prototype[re]?$=$[re]:$=$[re]={}:$[re]=U}function V(P){var U;e:{if((U=K.navigator)&&(U=U.userAgent))break e;U=""}return U.indexOf(P)!=-1}var ee=Array.prototype.map?function(P,U){return Array.prototype.map.call(P,U,void 0)}:function(P,U){for(var $=P.length,re=Array($),he=typeof P=="string"?P.split(""):P,me=0;me<$;me++)me in he&&(re[me]=U.call(void 0,he[me],me,P));return re},H={},Z=null;function te(P){var U=P.length,$=3*U/4;$%3?$=Math.floor($):"=.".indexOf(P[U-1])!=-1&&($="=.".indexOf(P[U-2])!=-1?$-2:$-1);var re=new Uint8Array($),he=0;return Y(P,function(me){re[he++]=me}),he!==$?re.subarray(0,he):re}function Y(P,U){function $(Ve){for(;re<P.length;){var bt=P.charAt(re++),Vt=Z[bt];if(Vt!=null)return Vt;if(!/^[\s\xa0]*$/.test(bt))throw Error("Unknown base64 encoding at char: "+bt)}return Ve}ae();for(var re=0;;){var he=$(-1),me=$(0),pe=$(64),Ce=$(64);if(Ce===64&&he===-1)break;U(he<<2|me>>4),pe!=64&&(U(me<<4&240|pe>>2),Ce!=64&&U(pe<<6&192|Ce))}}function ae(){if(!Z){Z={};for(var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),U=["+/=","+/","-_=","-_.","-_"],$=0;5>$;$++){var re=P.concat(U[$].split(""));H[$]=re;for(var he=0;he<re.length;he++){var me=re[he];Z[me]===void 0&&(Z[me]=he)}}}}var we=typeof Uint8Array<"u",Fe=!(V("Trident")||V("MSIE"))&&typeof K.btoa=="function";function qe(P){if(!Fe){var U;U===void 0&&(U=0),ae(),U=H[U];for(var $=Array(Math.floor(P.length/3)),re=U[64]||"",he=0,me=0;he<P.length-2;he+=3){var pe=P[he],Ce=P[he+1],Ve=P[he+2],bt=U[pe>>2];pe=U[(pe&3)<<4|Ce>>4],Ce=U[(Ce&15)<<2|Ve>>6],Ve=U[Ve&63],$[me++]=bt+pe+Ce+Ve}switch(bt=0,Ve=re,P.length-he){case 2:bt=P[he+1],Ve=U[(bt&15)<<2]||re;case 1:P=P[he],$[me]=U[P>>2]+U[(P&3)<<4|bt>>4]+Ve+re}return $.join("")}for(U="";10240<P.length;)U+=String.fromCharCode.apply(null,P.subarray(0,10240)),P=P.subarray(10240);return U+=String.fromCharCode.apply(null,P),btoa(U)}var fe=RegExp("[-_.]","g");function xe(P){switch(P){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Pe(P){if(!Fe)return te(P);fe.test(P)&&(P=P.replace(fe,xe)),P=atob(P);for(var U=new Uint8Array(P.length),$=0;$<P.length;$++)U[$]=P.charCodeAt($);return U}var Te;function je(){return Te||(Te=new Uint8Array(0))}var rt={},Ue=typeof Uint8Array.prototype.slice=="function",ot=0,De=0;function le(P){var U=0>P;P=Math.abs(P);var $=P>>>0;P=Math.floor((P-$)/4294967296),U&&($=a(at($,P)),U=$.next().value,P=$.next().value,$=U),ot=$>>>0,De=P>>>0}var et=typeof BigInt=="function";function at(P,U){return U=~U,P?P=~P+1:U+=1,[P,U]}function xt(P,U){this.i=P>>>0,this.h=U>>>0}function ct(P){if(!P)return Ut||(Ut=new xt(0,0));if(!/^-?\d+$/.test(P))return null;if(16>P.length)le(Number(P));else if(et)P=BigInt(P),ot=Number(P&BigInt(4294967295))>>>0,De=Number(P>>BigInt(32)&BigInt(4294967295));else{var U=+(P[0]==="-");De=ot=0;for(var $=P.length,re=U,he=($-U)%6+U;he<=$;re=he,he+=6)re=Number(P.slice(re,he)),De*=1e6,ot=1e6*ot+re,4294967296<=ot&&(De+=ot/4294967296|0,ot%=4294967296);U&&(U=a(at(ot,De)),P=U.next().value,U=U.next().value,ot=P,De=U)}return new xt(ot,De)}var Ut;function Ct(P,U){return Error("Invalid wire type: "+P+" (at position "+U+")")}function Et(){return Error("Failed to read varint, encoding is invalid.")}function ce(P,U){return Error("Tried to read past the end of the data "+U+" > "+P)}function ie(){throw Error("Invalid UTF8")}function Ie(P,U){return U=String.fromCharCode.apply(null,U),P==null?U:P+U}var Je=void 0,ft,Xe=typeof TextDecoder<"u",Yt,Dt=typeof TextEncoder<"u",nn;function Kt(P){if(P!==rt)throw Error("illegal external caller")}function ht(P,U){if(Kt(U),this.V=P,P!=null&&P.length===0)throw Error("ByteString should be constructed with non-empty values")}function pt(){return nn||(nn=new ht(null,rt))}function pn(P){Kt(rt);var U=P.V;return U=U==null||we&&U!=null&&U instanceof Uint8Array?U:typeof U=="string"?Pe(U):null,U==null?U:P.V=U}function Se(P){if(typeof P=="string")return{buffer:Pe(P),C:!1};if(Array.isArray(P))return{buffer:new Uint8Array(P),C:!1};if(P.constructor===Uint8Array)return{buffer:P,C:!1};if(P.constructor===ArrayBuffer)return{buffer:new Uint8Array(P),C:!1};if(P.constructor===ht)return{buffer:pn(P)||je(),C:!0};if(P instanceof Uint8Array)return{buffer:new Uint8Array(P.buffer,P.byteOffset,P.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Le(P,U){this.i=null,this.m=!1,this.h=this.j=this.l=0,ut(this,P,U)}function ut(P,U,$){$=$===void 0?{}:$,P.S=$.S===void 0?!1:$.S,U&&(U=Se(U),P.i=U.buffer,P.m=U.C,P.l=0,P.j=P.i.length,P.h=P.l)}Le.prototype.reset=function(){this.h=this.l};function ve(P,U){if(P.h=U,U>P.j)throw ce(P.j,U)}function Be(P){var U=P.i,$=P.h,re=U[$++],he=re&127;if(re&128&&(re=U[$++],he|=(re&127)<<7,re&128&&(re=U[$++],he|=(re&127)<<14,re&128&&(re=U[$++],he|=(re&127)<<21,re&128&&(re=U[$++],he|=re<<28,re&128&&U[$++]&128&&U[$++]&128&&U[$++]&128&&U[$++]&128&&U[$++]&128)))))throw Et();return ve(P,$),he}function mt(P,U){if(0>U)throw Error("Tried to read a negative byte length: "+U);var $=P.h,re=$+U;if(re>P.j)throw ce(U,P.j-$);return P.h=re,$}var St=[];function _t(){this.h=[]}_t.prototype.length=function(){return this.h.length},_t.prototype.end=function(){var P=this.h;return this.h=[],P};function ze(P,U,$){for(;0<$||127<U;)P.h.push(U&127|128),U=(U>>>7|$<<25)>>>0,$>>>=7;P.h.push(U)}function wt(P,U){for(;127<U;)P.h.push(U&127|128),U>>>=7;P.h.push(U)}function qt(P,U){if(St.length){var $=St.pop();ut($,P,U),P=$}else P=new Le(P,U);this.h=P,this.j=this.h.h,this.i=this.l=-1,this.setOptions(U)}qt.prototype.setOptions=function(P){P=P===void 0?{}:P,this.ca=P.ca===void 0?!1:P.ca},qt.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function wn(P){var U=P.h;if(U.h==U.j)return!1;P.j=P.h.h;var $=Be(P.h)>>>0;if(U=$>>>3,$&=7,!(0<=$&&5>=$))throw Ct($,P.j);if(1>U)throw Error("Invalid field number: "+U+" (at position "+P.j+")");return P.l=U,P.i=$,!0}function Cn(P){switch(P.i){case 0:if(P.i!=0)Cn(P);else e:{P=P.h;for(var U=P.h,$=U+10,re=P.i;U<$;)if((re[U++]&128)===0){ve(P,U);break e}throw Et()}break;case 1:P=P.h,ve(P,P.h+8);break;case 2:P.i!=2?Cn(P):(U=Be(P.h)>>>0,P=P.h,ve(P,P.h+U));break;case 5:P=P.h,ve(P,P.h+4);break;case 3:U=P.l;do{if(!wn(P))throw Error("Unmatched start-group tag: stream EOF");if(P.i==4){if(P.l!=U)throw Error("Unmatched end-group tag");break}Cn(P)}while(!0);break;default:throw Ct(P.i,P.j)}}var zn=[];function sr(){this.j=[],this.i=0,this.h=new _t}function ji(P,U){U.length!==0&&(P.j.push(U),P.i+=U.length)}function Qr(P,U){if(U=U.R){ji(P,P.h.end());for(var $=0;$<U.length;$++)ji(P,pn(U[$])||je())}}var Sr=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Dr(P,U){return Sr?P[Sr]|=U:P.A!==void 0?P.A|=U:(Object.defineProperties(P,{A:{value:U,configurable:!0,writable:!0,enumerable:!1}}),U)}function Xr(P,U){Sr?P[Sr]&&(P[Sr]&=~U):P.A!==void 0&&(P.A&=~U)}function er(P){var U;return Sr?U=P[Sr]:U=P.A,U??0}function Sn(P,U){Sr?P[Sr]=U:P.A!==void 0?P.A=U:Object.defineProperties(P,{A:{value:U,configurable:!0,writable:!0,enumerable:!1}})}function Mo(P){return Dr(P,1),P}function bc(P,U){Sn(U,(P|0)&-51)}function J(P,U){Sn(U,(P|18)&-41)}var oe={};function Ee(P){return P!==null&&typeof P=="object"&&!Array.isArray(P)&&P.constructor===Object}var Ge,tt=[];Sn(tt,23),Ge=Object.freeze(tt);function Qe(P){if(er(P.o)&2)throw Error("Cannot mutate an immutable Message")}function It(P){var U=P.length;(U=U?P[U-1]:void 0)&&Ee(U)?U.g=1:(U={},P.push((U.g=1,U)))}function At(P){var U=P.i+P.G;return P.B||(P.B=P.o[U]={})}function Nt(P,U){return U===-1?null:U>=P.i?P.B?P.B[U]:void 0:P.o[U+P.G]}function Q(P,U,$,re){Qe(P),ye(P,U,$,re)}function ye(P,U,$,re){P.j&&(P.j=void 0),U>=P.i||re?At(P)[U]=$:(P.o[U+P.G]=$,(P=P.B)&&U in P&&delete P[U])}function be(P,U,$,re){var he=Nt(P,U);Array.isArray(he)||(he=Ge);var me=er(he);if(me&1||Mo(he),re)me&2||Dr(he,2),$&1||Object.freeze(he);else{re=!($&2);var pe=me&2;$&1||!pe?re&&me&16&&!pe&&Xr(he,16):(he=Mo(Array.prototype.slice.call(he)),ye(P,U,he))}return he}function ke(P,U){var $=Nt(P,U),re=$==null?$:typeof $=="number"||$==="NaN"||$==="Infinity"||$==="-Infinity"?Number($):void 0;return re!=null&&re!==$&&ye(P,U,re),re}function Ae(P,U,$,re,he){P.h||(P.h={});var me=P.h[$],pe=be(P,$,3,he);if(!me){var Ce=pe;me=[];var Ve=!!(er(P.o)&16);pe=!!(er(Ce)&2);var bt=Ce;!he&&pe&&(Ce=Array.prototype.slice.call(Ce));for(var Vt=pe,An=0;An<Ce.length;An++){var vn=Ce[An],jt=U,on=!1;if(on=on===void 0?!1:on,vn=Array.isArray(vn)?new jt(vn):on?new jt:void 0,vn!==void 0){jt=vn.o;var dn=on=er(jt);pe&&(dn|=2),Ve&&(dn|=16),dn!=on&&Sn(jt,dn),jt=dn,Vt=Vt||!!(2&jt),me.push(vn)}}return P.h[$]=me,Ve=er(Ce),U=Ve|33,U=Vt?U&-9:U|8,Ve!=U&&(Vt=Ce,Object.isFrozen(Vt)&&(Vt=Array.prototype.slice.call(Vt)),Sn(Vt,U),Ce=Vt),bt!==Ce&&ye(P,$,Ce),(he||re&&pe)&&Dr(me,2),re&&Object.freeze(me),me}return he||(he=Object.isFrozen(me),re&&!he?Object.freeze(me):!re&&he&&(me=Array.prototype.slice.call(me),P.h[$]=me)),me}function Ke(P,U,$){var re=!!(er(P.o)&2);if(U=Ae(P,U,$,re,re),P=be(P,$,3,re),!(re||er(P)&8)){for(re=0;re<U.length;re++){if($=U[re],er($.o)&2){var he=rn($,!1);he.j=$}else he=$;$!==he&&(U[re]=he,P[re]=he.o)}Dr(P,8)}return U}function st(P,U,$){if($!=null&&typeof $!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof $+": "+$);Q(P,U,$)}function gt(P,U,$,re,he){Qe(P);var me=Ae(P,$,U,!1,!1);return $=re??new $,P=be(P,U,2,!1),he!=null?(me.splice(he,0,$),P.splice(he,0,$.o)):(me.push($),P.push($.o)),$.C()&&Xr(P,8),$}function yt(P,U){return P??U}function Tt(P,U,$){return $=$===void 0?0:$,yt(ke(P,U),$)}var vt;function Rt(P){switch(typeof P){case"number":return isFinite(P)?P:String(P);case"object":if(P)if(Array.isArray(P)){if((er(P)&128)!==0)return P=Array.prototype.slice.call(P),It(P),P}else{if(we&&P!=null&&P instanceof Uint8Array)return qe(P);if(P instanceof ht){var U=P.V;return U==null?"":typeof U=="string"?U:P.V=qe(U)}}}return P}function Ht(P,U,$,re){if(P!=null){if(Array.isArray(P))P=yn(P,U,$,re!==void 0);else if(Ee(P)){var he={},me;for(me in P)he[me]=Ht(P[me],U,$,re);P=he}else P=U(P,re);return P}}function yn(P,U,$,re){var he=er(P);re=re?!!(he&16):void 0,P=Array.prototype.slice.call(P);for(var me=0;me<P.length;me++)P[me]=Ht(P[me],U,$,re);return $(he,P),P}function cn(P){return P.ja===oe?P.toJSON():Rt(P)}function Mn(P,U){P&128&&It(U)}function Pn(P,U,$){if($=$===void 0?J:$,P!=null){if(we&&P instanceof Uint8Array)return P.length?new ht(new Uint8Array(P),rt):pt();if(Array.isArray(P)){var re=er(P);return re&2?P:U&&!(re&32)&&(re&16||re===0)?(Sn(P,re|2),P):(P=yn(P,Pn,re&4?J:$,!0),U=er(P),U&4&&U&2&&Object.freeze(P),P)}return P.ja===oe?Bn(P):P}}function Xt(P,U,$,re,he,me,pe){if(P=P.h&&P.h[$]){if(re=er(P),re&2?re=P:(me=ee(P,Bn),J(re,me),Object.freeze(me),re=me),Qe(U),pe=re==null?Ge:Mo([]),re!=null){for(me=!!re.length,P=0;P<re.length;P++){var Ce=re[P];me=me&&!(er(Ce.o)&2),pe[P]=Ce.o}me=(me?8:0)|1,P=er(pe),(P&me)!==me&&(Object.isFrozen(pe)&&(pe=Array.prototype.slice.call(pe)),Sn(pe,P|me)),U.h||(U.h={}),U.h[$]=re}else U.h&&(U.h[$]=void 0);ye(U,$,pe,he)}else Q(U,$,Pn(re,me,pe),he)}function Bn(P){return er(P.o)&2||(P=rn(P,!0),Dr(P.o,2)),P}function rn(P,U){var $=P.o,re=[];Dr(re,16);var he=P.constructor.h;if(he&&re.push(he),he=P.B,he){re.length=$.length,re.fill(void 0,re.length,$.length);var me={};re[re.length-1]=me}(er($)&128)!==0&&It(re),U=U||P.C()?J:bc,me=P.constructor,vt=re,re=new me(re),vt=void 0,P.R&&(re.R=P.R.slice()),me=!!(er($)&16);for(var pe=he?$.length-1:$.length,Ce=0;Ce<pe;Ce++)Xt(P,re,Ce-P.G,$[Ce],!1,me,U);if(he)for(var Ve in he)Xt(P,re,+Ve,he[Ve],!0,me,U);return re}function kn(P,U,$){P==null&&(P=vt),vt=void 0;var re=this.constructor.i||0,he=0<re,me=this.constructor.h,pe=!1;if(P==null){P=me?[me]:[];var Ce=48,Ve=!0;he&&(re=0,Ce|=128),Sn(P,Ce)}else{if(!Array.isArray(P)||me&&me!==P[0])throw Error();var bt=Ce=Dr(P,0);if((Ve=(16&bt)!==0)&&((pe=(32&bt)!==0)||(bt|=32)),he){if(128&bt)re=0;else if(0<P.length){var Vt=P[P.length-1];if(Ee(Vt)&&"g"in Vt){re=0,bt|=128,delete Vt.g;var An=!0,vn;for(vn in Vt){An=!1;break}An&&P.pop()}}}else if(128&bt)throw Error();Ce!==bt&&Sn(P,bt)}this.G=(me?0:-1)-re,this.h=void 0,this.o=P;e:{if(me=this.o.length,re=me-1,me&&(me=this.o[re],Ee(me))){this.B=me,this.i=re-this.G;break e}U!==void 0&&-1<U?(this.i=Math.max(U,re+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!he&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if($){U=Ve&&!pe&&!0,he=this.i;var jt;for(Ve=0;Ve<$.length;Ve++)pe=$[Ve],pe<he?(pe+=this.G,(re=P[pe])?or(re,U):P[pe]=Ge):(jt||(jt=At(this)),(re=jt[pe])?or(re,U):jt[pe]=Ge)}}kn.prototype.toJSON=function(){return yn(this.o,cn,Mn)},kn.prototype.C=function(){return!!(er(this.o)&2)};function or(P,U){if(Array.isArray(P)){var $=er(P),re=1;!U||$&2||(re|=16),($&re)!==re&&Sn(P,$|re)}}kn.prototype.ja=oe,kn.prototype.toString=function(){return this.o.toString()};function Tn(P,U,$){if($){var re={},he;for(he in $){var me=$[he],pe=me.ra;pe||(re.J=me.xa||me.oa.W,me.ia?(re.aa=Id(me.ia),pe=(function(Ce){return function(Ve,bt,Vt){return Ce.J(Ve,bt,Vt,Ce.aa)}})(re)):me.ka?(re.Z=ph(me.da.P,me.ka),pe=(function(Ce){return function(Ve,bt,Vt){return Ce.J(Ve,bt,Vt,Ce.Z)}})(re)):pe=re.J,me.ra=pe),pe(U,P,me.da),re={J:re.J,aa:re.aa,Z:re.Z}}}Qr(U,P)}var mr=Symbol();function dr(P,U,$){return P[mr]||(P[mr]=function(re,he){return U(re,he,$)})}function fr(P){var U=P[mr];if(!U){var $=si(P);U=function(re,he){return Ga(re,he,$)},P[mr]=U}return U}function Kr(P){var U=P.ia;if(U)return fr(U);if(U=P.wa)return dr(P.da.P,U,P.ka)}function ei(P){var U=Kr(P),$=P.da,re=P.oa.U;return U?function(he,me){return re(he,me,$,U)}:function(he,me){return re(he,me,$)}}function Rn(P,U){var $=P[U];return typeof $=="function"&&$.length===0&&($=$(),P[U]=$),Array.isArray($)&&(Vs in $||za in $||0<$.length&&typeof $[0]=="function")?$:void 0}function To(P,U,$,re,he,me){U.P=P[0];var pe=1;if(P.length>pe&&typeof P[pe]!="number"){var Ce=P[pe++];$(U,Ce)}for(;pe<P.length;){$=P[pe++];for(var Ve=pe+1;Ve<P.length&&typeof P[Ve]!="number";)Ve++;switch(Ce=P[pe++],Ve-=pe,Ve){case 0:re(U,$,Ce);break;case 1:(Ve=Rn(P,pe))?(pe++,he(U,$,Ce,Ve)):re(U,$,Ce,P[pe++]);break;case 2:Ve=pe++,Ve=Rn(P,Ve),he(U,$,Ce,Ve,P[pe++]);break;case 3:me(U,$,Ce,P[pe++],P[pe++],P[pe++]);break;case 4:me(U,$,Ce,P[pe++],P[pe++],P[pe++],P[pe++]);break;default:throw Error("unexpected number of binary field arguments: "+Ve)}}return U}var Ki=Symbol();function Id(P){var U=P[Ki];if(!U){var $=Xn(P);U=function(re,he){return Am(re,he,$)},P[Ki]=U}return U}function ph(P,U){var $=P[Ki];return $||($=function(re,he){return Tn(re,he,U)},P[Ki]=$),$}var za=Symbol();function Od(P,U){P.push(U)}function Cl(P,U,$){P.push(U,$.W)}function Fd(P,U,$,re){var he=Id(re),me=Xn(re).P,pe=$.W;P.push(U,function(Ce,Ve,bt){return pe(Ce,Ve,bt,me,he)})}function Ko(P,U,$,re,he,me){var pe=ph(re,me),Ce=$.W;P.push(U,function(Ve,bt,Vt){return Ce(Ve,bt,Vt,re,pe)})}function Xn(P){var U=P[za];return U||(U=To(P,P[za]=[],Od,Cl,Fd,Ko),Vs in P&&za in P&&(P.length=0),U)}var Vs=Symbol();function Ml(P,U){P[0]=U}function _c(P,U,$,re){var he=$.U;P[U]=re?function(me,pe,Ce){return he(me,pe,Ce,re)}:he}function Ha(P,U,$,re,he){var me=$.U,pe=fr(re),Ce=si(re).P;P[U]=function(Ve,bt,Vt){return me(Ve,bt,Vt,Ce,pe,he)}}function Tv(P,U,$,re,he,me,pe){var Ce=$.U,Ve=dr(re,he,me);P[U]=function(bt,Vt,An){return Ce(bt,Vt,An,re,Ve,pe)}}function si(P){var U=P[Vs];return U||(U=To(P,P[Vs]={},Ml,_c,Ha,Tv),Vs in P&&za in P&&(P.length=0),U)}function Ga(P,U,$){for(;wn(U)&&U.i!=4;){var re=U.l,he=$[re];if(!he){var me=$[0];me&&(me=me[re])&&(he=$[re]=ei(me))}if(!he||!he(U,P,re)){he=U,re=P,me=he.j,Cn(he);var pe=he;if(!pe.ca){if(he=pe.h.h-me,pe.h.h=me,pe=pe.h,he==0)he=pt();else{if(me=mt(pe,he),pe.S&&pe.m)he=pe.i.subarray(me,me+he);else{pe=pe.i;var Ce=me;he=me+he,he=Ce===he?je():Ue?pe.slice(Ce,he):new Uint8Array(pe.subarray(Ce,he))}he=he.length==0?pt():new ht(he,rt)}(me=re.R)?me.push(he):re.R=[he]}}}return P}function Am(P,U,$){for(var re=$.length,he=re%2==1,me=he?1:0;me<re;me+=2)(0,$[me+1])(U,P,$[me]);Tn(P,U,he?$[0]:void 0)}function Va(P,U){return{U:P,W:U}}var Ts=Va(function(P,U,$){if(P.i!==5)return!1;P=P.h;var re=P.i,he=P.h,me=re[he],pe=re[he+1],Ce=re[he+2];return re=re[he+3],ve(P,P.h+4),pe=(me<<0|pe<<8|Ce<<16|re<<24)>>>0,P=2*(pe>>31)+1,me=pe>>>23&255,pe&=8388607,Q(U,$,me==255?pe?NaN:1/0*P:me==0?P*Math.pow(2,-149)*pe:P*Math.pow(2,me-150)*(pe+Math.pow(2,23))),!0},function(P,U,$){if(U=ke(U,$),U!=null){wt(P.h,8*$+5),P=P.h;var re=+U;re===0?0<1/re?ot=De=0:(De=0,ot=2147483648):isNaN(re)?(De=0,ot=2147483647):(re=($=0>re?-2147483648:0)?-re:re,34028234663852886e22<re?(De=0,ot=($|2139095040)>>>0):11754943508222875e-54>re?(re=Math.round(re/Math.pow(2,-149)),De=0,ot=($|re)>>>0):(U=Math.floor(Math.log(re)/Math.LN2),re*=Math.pow(2,-U),re=Math.round(8388608*re),16777216<=re&&++U,De=0,ot=($|U+127<<23|re&8388607)>>>0)),$=ot,P.h.push($>>>0&255),P.h.push($>>>8&255),P.h.push($>>>16&255),P.h.push($>>>24&255)}}),bu=Va(function(P,U,$){if(P.i!==0)return!1;var re=P.h,he=0,me=P=0,pe=re.i,Ce=re.h;do{var Ve=pe[Ce++];he|=(Ve&127)<<me,me+=7}while(32>me&&Ve&128);for(32<me&&(P|=(Ve&127)>>4),me=3;32>me&&Ve&128;me+=7)Ve=pe[Ce++],P|=(Ve&127)<<me;if(ve(re,Ce),128>Ve)re=he>>>0,Ve=P>>>0,(P=Ve&2147483648)&&(re=~re+1>>>0,Ve=~Ve>>>0,re==0&&(Ve=Ve+1>>>0)),re=4294967296*Ve+(re>>>0);else throw Et();return Q(U,$,P?-re:re),!0},function(P,U,$){U=Nt(U,$),U!=null&&(typeof U=="string"&&ct(U),U!=null&&(wt(P.h,8*$),typeof U=="number"?(P=P.h,le(U),ze(P,ot,De)):($=ct(U),ze(P.h,$.i,$.h))))}),Yo=Va(function(P,U,$){return P.i!==0?!1:(Q(U,$,Be(P.h)),!0)},function(P,U,$){if(U=Nt(U,$),U!=null&&U!=null)if(wt(P.h,8*$),P=P.h,$=U,0<=$)wt(P,$);else{for(U=0;9>U;U++)P.h.push($&127|128),$>>=7;P.h.push(1)}}),wc=Va(function(P,U,$){if(P.i!==2)return!1;var re=Be(P.h)>>>0;P=P.h;var he=mt(P,re);if(P=P.i,Xe){var me=P,pe;(pe=ft)||(pe=ft=new TextDecoder("utf-8",{fatal:!0})),P=he+re,me=he===0&&P===me.length?me:me.subarray(he,P);try{var Ce=pe.decode(me)}catch(An){if(Je===void 0){try{pe.decode(new Uint8Array([128]))}catch{}try{pe.decode(new Uint8Array([97])),Je=!0}catch{Je=!1}}throw!Je&&(ft=void 0),An}}else{Ce=he,re=Ce+re,he=[];for(var Ve=null,bt,Vt;Ce<re;)bt=P[Ce++],128>bt?he.push(bt):224>bt?Ce>=re?ie():(Vt=P[Ce++],194>bt||(Vt&192)!==128?(Ce--,ie()):he.push((bt&31)<<6|Vt&63)):240>bt?Ce>=re-1?ie():(Vt=P[Ce++],(Vt&192)!==128||bt===224&&160>Vt||bt===237&&160<=Vt||((me=P[Ce++])&192)!==128?(Ce--,ie()):he.push((bt&15)<<12|(Vt&63)<<6|me&63)):244>=bt?Ce>=re-2?ie():(Vt=P[Ce++],(Vt&192)!==128||(bt<<28)+(Vt-144)>>30!==0||((me=P[Ce++])&192)!==128||((pe=P[Ce++])&192)!==128?(Ce--,ie()):(bt=(bt&7)<<18|(Vt&63)<<12|(me&63)<<6|pe&63,bt-=65536,he.push((bt>>10&1023)+55296,(bt&1023)+56320))):ie(),8192<=he.length&&(Ve=Ie(Ve,he),he.length=0);Ce=Ie(Ve,he)}return Q(U,$,Ce),!0},function(P,U,$){if(U=Nt(U,$),U!=null){var re=!1;if(re=re===void 0?!1:re,Dt){if(re&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(U))throw Error("Found an unpaired surrogate");U=(Yt||(Yt=new TextEncoder)).encode(U)}else{for(var he=0,me=new Uint8Array(3*U.length),pe=0;pe<U.length;pe++){var Ce=U.charCodeAt(pe);if(128>Ce)me[he++]=Ce;else{if(2048>Ce)me[he++]=Ce>>6|192;else{if(55296<=Ce&&57343>=Ce){if(56319>=Ce&&pe<U.length){var Ve=U.charCodeAt(++pe);if(56320<=Ve&&57343>=Ve){Ce=1024*(Ce-55296)+Ve-56320+65536,me[he++]=Ce>>18|240,me[he++]=Ce>>12&63|128,me[he++]=Ce>>6&63|128,me[he++]=Ce&63|128;continue}else pe--}if(re)throw Error("Found an unpaired surrogate");Ce=65533}me[he++]=Ce>>12|224,me[he++]=Ce>>6&63|128}me[he++]=Ce&63|128}}U=he===me.length?me:me.subarray(0,he)}wt(P.h,8*$+2),wt(P.h,U.length),ji(P,P.h.end()),ji(P,U)}}),Sc=Va(function(P,U,$,re,he){if(P.i!==2)return!1;U=gt(U,$,re),$=P.h.j,re=Be(P.h)>>>0;var me=P.h.h+re,pe=me-$;if(0>=pe&&(P.h.j=me,he(U,P,void 0,void 0,void 0),pe=me-P.h.h),pe)throw Error("Message parsing ended unexpectedly. Expected to read "+(re+" bytes, instead read "+(re-pe)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return P.h.h=me,P.h.j=$,!0},function(P,U,$,re,he){if(U=Ke(U,re,$),U!=null)for(re=0;re<U.length;re++){var me=P;wt(me.h,8*$+2);var pe=me.h.end();ji(me,pe),pe.push(me.i),me=pe,he(U[re],P),pe=P;var Ce=me.pop();for(Ce=pe.i+pe.h.length()-Ce;127<Ce;)me.push(Ce&127|128),Ce>>>=7,pe.i++;me.push(Ce),pe.i++}});function Ui(P){return function(U,$){e:{if(zn.length){var re=zn.pop();re.setOptions($),ut(re.h,U,$),U=re}else U=new qt(U,$);try{var he=si(P),me=Ga(new he.P,U,he);break e}finally{he=U.h,he.i=null,he.m=!1,he.l=0,he.j=0,he.h=0,he.S=!1,U.l=-1,U.i=-1,100>zn.length&&zn.push(U)}me=void 0}return me}}function Ps(P){return function(){var U=new sr;Am(this,U,Xn(P)),ji(U,U.h.end());for(var $=new Uint8Array(U.i),re=U.j,he=re.length,me=0,pe=0;pe<he;pe++){var Ce=re[pe];$.set(Ce,me),me+=Ce.length}return U.j=[$],$}}function va(P){kn.call(this,P)}y(va,kn);var Dd=[va,1,Yo,2,Ts,3,wc,4,wc];va.prototype.l=Ps(Dd);function Ac(P){kn.call(this,P,-1,Bd)}y(Ac,kn),Ac.prototype.addClassification=function(P,U){return gt(this,1,va,P,U),this};var Bd=[1],io=Ui([Ac,1,Sc,Dd]);function Ec(P){kn.call(this,P)}y(Ec,kn);var so=[Ec,1,Ts,2,Ts,3,Ts,4,Ts,5,Ts];Ec.prototype.l=Ps(so);function kd(P){kn.call(this,P,-1,Rs)}y(kd,kn);var Rs=[1],_u=Ui([kd,1,Sc,so]);function Jo(P){kn.call(this,P)}y(Jo,kn);var Zo=[Jo,1,Ts,2,Ts,3,Ts,4,Ts,5,Ts,6,bu],Ld=Ui(Zo);Jo.prototype.l=Ps(Zo);function Yi(P,U,$){if($=P.createShader($===0?P.VERTEX_SHADER:P.FRAGMENT_SHADER),P.shaderSource($,U),P.compileShader($),!P.getShaderParameter($,P.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+P.getShaderInfoLog($));return $}function Tl(P){return Ke(P,va,1).map(function(U){var $=Nt(U,1);return{index:$??0,qa:Tt(U,2),label:Nt(U,3)!=null?yt(Nt(U,3),""):void 0,displayName:Nt(U,4)!=null?yt(Nt(U,4),""):void 0}})}function wu(P){return{x:Tt(P,1),y:Tt(P,2),z:Tt(P,3),visibility:ke(P,4)!=null?Tt(P,4):void 0}}function ya(P){return Ke(_u(P),Ec,1).map(wu)}function Wa(P,U){this.i=P,this.h=U,this.m=0}function ds(P,U,$){return oo(P,U),typeof P.h.canvas.transferToImageBitmap=="function"?Promise.resolve(P.h.canvas.transferToImageBitmap()):$?Promise.resolve(P.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(P.h.canvas):(P.j===void 0&&(P.j=document.createElement("canvas")),new Promise(function(re){P.j.height=P.h.canvas.height,P.j.width=P.h.canvas.width,P.j.getContext("2d",{}).drawImage(P.h.canvas,0,0,P.h.canvas.width,P.h.canvas.height),re(P.j)}))}function oo(P,U){var $=P.h;if(P.s===void 0){var re=Yi($,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),he=Yi($,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),me=$.createProgram();if($.attachShader(me,re),$.attachShader(me,he),$.linkProgram(me),!$.getProgramParameter(me,$.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+$.getProgramInfoLog(me));re=P.s=me,$.useProgram(re),he=$.getUniformLocation(re,"sampler0"),P.l={O:$.getAttribLocation(re,"aVertex"),N:$.getAttribLocation(re,"aTex"),ya:he},P.v=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,P.v),$.enableVertexAttribArray(P.l.O),$.vertexAttribPointer(P.l.O,2,$.FLOAT,!1,0,0),$.bufferData($.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),$.STATIC_DRAW),$.bindBuffer($.ARRAY_BUFFER,null),P.u=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,P.u),$.enableVertexAttribArray(P.l.N),$.vertexAttribPointer(P.l.N,2,$.FLOAT,!1,0,0),$.bufferData($.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),$.STATIC_DRAW),$.bindBuffer($.ARRAY_BUFFER,null),$.uniform1i(he,0)}re=P.l,$.useProgram(P.s),$.canvas.width=U.width,$.canvas.height=U.height,$.viewport(0,0,U.width,U.height),$.activeTexture($.TEXTURE0),P.i.bindTexture2d(U.glName),$.enableVertexAttribArray(re.O),$.bindBuffer($.ARRAY_BUFFER,P.v),$.vertexAttribPointer(re.O,2,$.FLOAT,!1,0,0),$.enableVertexAttribArray(re.N),$.bindBuffer($.ARRAY_BUFFER,P.u),$.vertexAttribPointer(re.N,2,$.FLOAT,!1,0,0),$.bindFramebuffer($.DRAW_FRAMEBUFFER?$.DRAW_FRAMEBUFFER:$.FRAMEBUFFER,null),$.clearColor(0,0,0,0),$.clear($.COLOR_BUFFER_BIT),$.colorMask(!0,!0,!0,!0),$.drawArrays($.TRIANGLE_FAN,0,4),$.disableVertexAttribArray(re.O),$.disableVertexAttribArray(re.N),$.bindBuffer($.ARRAY_BUFFER,null),P.i.bindTexture2d(0)}function ao(P){this.h=P}var Cc=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function mh(P,U){return U+P}function Qo(P,U){window[P]=U}function $a(P){var U=document.createElement("script");return U.setAttribute("src",P),U.setAttribute("crossorigin","anonymous"),new Promise(function($){U.addEventListener("load",function(){$()},!1),U.addEventListener("error",function(){$()},!1),document.body.appendChild(U)})}function jd(){return L(function(P){switch(P.h){case 1:return P.s=2,C(P,WebAssembly.instantiate(Cc),4);case 4:P.h=3,P.s=0;break;case 2:return P.s=0,P.l=null,P.return(!1);case 3:return P.return(!0)}})}function Mc(P){if(this.h=P,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=P&&P.locateFile||mh,typeof window=="object")var U=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")U=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=U,P.options){U=a(Object.keys(P.options));for(var $=U.next();!$.done;$=U.next()){$=$.value;var re=P.options[$].default;re!==void 0&&(this.l[$]=typeof re=="function"?re():re)}}}n=Mc.prototype,n.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Ud(P){var U,$,re,he,me,pe,Ce,Ve,bt,Vt,An;return L(function(vn){switch(vn.h){case 1:return P.ga?(U=P.h.files===void 0?[]:typeof P.h.files=="function"?P.h.files(P.l):P.h.files,C(vn,jd(),2)):vn.return();case 2:if($=vn.i,typeof window=="object")return Qo("createMediapipeSolutionsWasm",{locateFile:P.locateFile}),Qo("createMediapipeSolutionsPackedAssets",{locateFile:P.locateFile}),pe=U.filter(function(jt){return jt.data!==void 0}),Ce=U.filter(function(jt){return jt.data===void 0}),Ve=Promise.all(pe.map(function(jt){var on=Tc(P,jt.url);if(jt.path!==void 0){var dn=jt.path;on=on.then(function(Ar){return P.overrideFile(dn,Ar),Promise.resolve(Ar)})}return on})),bt=Promise.all(Ce.map(function(jt){return jt.simd===void 0||jt.simd&&$||!jt.simd&&!$?$a(P.locateFile(jt.url,P.ha)):Promise.resolve()})).then(function(){var jt,on,dn;return L(function(Ar){if(Ar.h==1)return jt=window.createMediapipeSolutionsWasm,on=window.createMediapipeSolutionsPackedAssets,dn=P,C(Ar,jt(on),2);dn.i=Ar.i,Ar.h=0})}),Vt=(function(){return L(function(jt){return P.h.graph&&P.h.graph.url?jt=C(jt,Tc(P,P.h.graph.url),0):(jt.h=0,jt=void 0),jt})})(),C(vn,Promise.all([bt,Ve,Vt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return re=U.filter(function(jt){return jt.simd===void 0||jt.simd&&$||!jt.simd&&!$}).map(function(jt){return P.locateFile(jt.url,P.ha)}),importScripts.apply(null,l(re)),he=P,C(vn,createMediapipeSolutionsWasm(Module),6);case 6:he.i=vn.i,P.m=new OffscreenCanvas(1,1),P.i.canvas=P.m,me=P.i.GL.createContext(P.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),P.i.GL.makeContextCurrent(me),vn.h=4;break;case 7:if(P.m=document.createElement("canvas"),An=P.m.getContext("webgl2",{}),!An&&(An=P.m.getContext("webgl",{}),!An))return alert("Failed to create WebGL canvas context when passing video frame."),vn.return();P.K=An,P.i.canvas=P.m,P.i.createContext(P.m,!0,!0,{});case 4:P.j=new P.i.SolutionWasm,P.ga=!1,vn.h=0}})}function Em(P){var U,$,re,he,me,pe,Ce,Ve;return L(function(bt){if(bt.h==1){if(P.h.graph&&P.h.graph.url&&P.fa===P.h.graph.url)return bt.return();if(P.u=!0,!P.h.graph||!P.h.graph.url){bt.h=2;return}return P.fa=P.h.graph.url,C(bt,Tc(P,P.h.graph.url),3)}for(bt.h!=2&&(U=bt.i,P.j.loadGraph(U)),$=a(Object.keys(P.D)),re=$.next();!re.done;re=$.next())he=re.value,P.j.overrideFile(he,P.D[he]);if(P.D={},P.h.listeners)for(me=a(P.h.listeners),pe=me.next();!pe.done;pe=me.next())Ce=pe.value,Mm(P,Ce);Ve=P.l,P.l={},P.setOptions(Ve),bt.h=0})}n.reset=function(){var P=this;return L(function(U){P.j&&(P.j.reset(),P.s={},P.v={}),U.h=0})},n.setOptions=function(P,U){var $=this;if(U=U||this.h.options){for(var re=[],he=[],me={},pe=a(Object.keys(P)),Ce=pe.next();!Ce.done;me={X:me.X,Y:me.Y},Ce=pe.next())if(Ce=Ce.value,!(Ce in this.l&&this.l[Ce]===P[Ce])){this.l[Ce]=P[Ce];var Ve=U[Ce];Ve!==void 0&&(Ve.onChange&&(me.X=Ve.onChange,me.Y=P[Ce],re.push((function(bt){return function(){var Vt;return L(function(An){if(An.h==1)return C(An,bt.X(bt.Y),2);Vt=An.i,Vt===!0&&($.u=!0),An.h=0})}})(me))),Ve.graphOptionXref&&(Ce=Object.assign({},{calculatorName:"",calculatorIndex:0},Ve.graphOptionXref,{valueNumber:Ve.type===1?P[Ce]:0,valueBoolean:Ve.type===0?P[Ce]:!1,valueString:Ve.type===2?P[Ce]:""}),he.push(Ce)))}(re.length!==0||he.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(he),this.F=(this.F===void 0?[]:this.F).concat(re))}};function Cm(P){var U,$,re,he,me,pe,Ce;return L(function(Ve){switch(Ve.h){case 1:if(!P.u)return Ve.return();if(!P.F){Ve.h=2;break}U=a(P.F),$=U.next();case 3:if($.done){Ve.h=5;break}return re=$.value,C(Ve,re(),4);case 4:$=U.next(),Ve.h=3;break;case 5:P.F=void 0;case 2:if(P.H){for(he=new P.i.GraphOptionChangeRequestList,me=a(P.H),pe=me.next();!pe.done;pe=me.next())Ce=pe.value,he.push_back(Ce);P.j.changeOptions(he),he.delete(),P.H=void 0}P.u=!1,Ve.h=0}})}n.initialize=function(){var P=this;return L(function(U){return U.h==1?C(U,Ud(P),2):U.h!=3?C(U,Em(P),3):C(U,Cm(P),0)})};function Tc(P,U){var $,re;return L(function(he){return U in P.L?he.return(P.L[U]):($=P.locateFile(U,""),re=fetch($).then(function(me){return me.arrayBuffer()}),P.L[U]=re,he.return(re))})}n.overrideFile=function(P,U){this.j?this.j.overrideFile(P,U):this.D[P]=U},n.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},n.send=function(P,U){var $=this,re,he,me,pe,Ce,Ve,bt,Vt,An;return L(function(vn){switch(vn.h){case 1:return $.h.inputs?(re=1e3*(U??performance.now()),C(vn,$.I,2)):vn.return();case 2:return C(vn,$.initialize(),3);case 3:for(he=new $.i.PacketDataList,me=a(Object.keys(P)),pe=me.next();!pe.done;pe=me.next())if(Ce=pe.value,Ve=$.h.inputs[Ce]){e:{var jt=P[Ce];switch(Ve.type){case"video":var on=$.s[Ve.stream];if(on||(on=new Wa($.i,$.K),$.s[Ve.stream]=on),on.m===0&&(on.m=on.i.createTexture()),typeof HTMLVideoElement<"u"&&jt instanceof HTMLVideoElement)var dn=jt.videoWidth,Ar=jt.videoHeight;else typeof HTMLImageElement<"u"&&jt instanceof HTMLImageElement?(dn=jt.naturalWidth,Ar=jt.naturalHeight):(dn=jt.width,Ar=jt.height);Ar={glName:on.m,width:dn,height:Ar},dn=on.h,dn.canvas.width=Ar.width,dn.canvas.height=Ar.height,dn.activeTexture(dn.TEXTURE0),on.i.bindTexture2d(on.m),dn.texImage2D(dn.TEXTURE_2D,0,dn.RGBA,dn.RGBA,dn.UNSIGNED_BYTE,jt),on.i.bindTexture2d(0),on=Ar;break e;case"detections":for(on=$.s[Ve.stream],on||(on=new ao($.i),$.s[Ve.stream]=on),on.data||(on.data=new on.h.DetectionListData),on.data.reset(jt.length),Ar=0;Ar<jt.length;++Ar){dn=jt[Ar];var ar=on.data,yi=ar.setBoundingBox,Ns=Ar,zi=dn.la,Jn=new Jo;if(st(Jn,1,zi.sa),st(Jn,2,zi.ta),st(Jn,3,zi.height),st(Jn,4,zi.width),st(Jn,5,zi.rotation),Q(Jn,6,zi.pa),zi=Jn.l(),yi.call(ar,Ns,zi),dn.ea)for(ar=0;ar<dn.ea.length;++ar){Jn=dn.ea[ar],yi=on.data,Ns=yi.addNormalizedLandmark,zi=Ar,Jn=Object.assign({},Jn,{visibility:Jn.visibility?Jn.visibility:0});var Mi=new Ec;st(Mi,1,Jn.x),st(Mi,2,Jn.y),st(Mi,3,Jn.z),Jn.visibility&&st(Mi,4,Jn.visibility),Jn=Mi.l(),Ns.call(yi,zi,Jn)}if(dn.ba)for(ar=0;ar<dn.ba.length;++ar)yi=on.data,Ns=yi.addClassification,zi=Ar,Jn=dn.ba[ar],Mi=new va,st(Mi,2,Jn.qa),Jn.index&&Q(Mi,1,Jn.index),Jn.label&&Q(Mi,3,Jn.label),Jn.displayName&&Q(Mi,4,Jn.displayName),Jn=Mi.l(),Ns.call(yi,zi,Jn)}on=on.data;break e;default:on={}}}switch(bt=on,Vt=Ve.stream,Ve.type){case"video":he.pushTexture2d(Object.assign({},bt,{stream:Vt,timestamp:re}));break;case"detections":An=bt,An.stream=Vt,An.timestamp=re,he.pushDetectionList(An);break;default:throw Error("Unknown input config type: '"+Ve.type+"'")}}return $.j.send(he),C(vn,$.I,4);case 4:he.delete(),vn.h=0}})};function zd(P,U,$){var re,he,me,pe,Ce,Ve,bt,Vt,An,vn,jt,on,dn,Ar;return L(function(ar){switch(ar.h){case 1:if(!$)return ar.return(U);for(re={},he=0,me=a(Object.keys($)),pe=me.next();!pe.done;pe=me.next())Ce=pe.value,Ve=$[Ce],typeof Ve!="string"&&Ve.type==="texture"&&U[Ve.stream]!==void 0&&++he;1<he&&(P.M=!1),bt=a(Object.keys($)),pe=bt.next();case 2:if(pe.done){ar.h=4;break}if(Vt=pe.value,An=$[Vt],typeof An=="string")return dn=re,Ar=Vt,C(ar,gh(P,Vt,U[An]),14);if(vn=U[An.stream],An.type==="detection_list"){if(vn){for(var yi=vn.getRectList(),Ns=vn.getLandmarksList(),zi=vn.getClassificationsList(),Jn=[],Mi=0;Mi<yi.size();++Mi){var lo=Ld(yi.get(Mi)),Pc=Tt(lo,1),Gd=Tt(lo,2),Rc=Tt(lo,3),qa=Tt(lo,4),Nc=Tt(lo,5,0),Su=void 0;Su=Su===void 0?0:Su,lo={la:{sa:Pc,ta:Gd,height:Rc,width:qa,rotation:Nc,pa:yt(Nt(lo,6),Su)},ea:ya(Ns.get(Mi)),ba:Tl(io(zi.get(Mi)))},Jn.push(lo)}yi=Jn}else yi=[];re[Vt]=yi,ar.h=7;break}if(An.type==="proto_list"){if(vn){for(yi=Array(vn.size()),Ns=0;Ns<vn.size();Ns++)yi[Ns]=vn.get(Ns);vn.delete()}else yi=[];re[Vt]=yi,ar.h=7;break}if(vn===void 0){ar.h=3;break}if(An.type==="float_list"){re[Vt]=vn,ar.h=7;break}if(An.type==="proto"){re[Vt]=vn,ar.h=7;break}if(An.type!=="texture")throw Error("Unknown output config type: '"+An.type+"'");return jt=P.v[Vt],jt||(jt=new Wa(P.i,P.K),P.v[Vt]=jt),C(ar,ds(jt,vn,P.M),13);case 13:on=ar.i,re[Vt]=on;case 7:An.transform&&re[Vt]&&(re[Vt]=An.transform(re[Vt])),ar.h=3;break;case 14:dn[Ar]=ar.i;case 3:pe=bt.next(),ar.h=2;break;case 4:return ar.return(re)}})}function gh(P,U,$){var re;return L(function(he){return typeof $=="number"||$ instanceof Uint8Array||$ instanceof P.i.Uint8BlobList?he.return($):$ instanceof P.i.Texture2dDataOut?(re=P.v[U],re||(re=new Wa(P.i,P.K),P.v[U]=re),he.return(ds(re,$,P.M))):he.return(void 0)})}function Mm(P,U){for(var $=U.name||"$",re=[].concat(l(U.wants)),he=new P.i.StringList,me=a(U.wants),pe=me.next();!pe.done;pe=me.next())he.push_back(pe.value);me=P.i.PacketListener.implement({onResults:function(Ce){for(var Ve={},bt=0;bt<U.wants.length;++bt)Ve[re[bt]]=Ce.get(bt);var Vt=P.listeners[$];Vt&&(P.I=zd(P,Ve,U.outs).then(function(An){An=Vt(An);for(var vn=0;vn<U.wants.length;++vn){var jt=Ve[re[vn]];typeof jt=="object"&&jt.hasOwnProperty&&jt.hasOwnProperty("delete")&&jt.delete()}An&&(P.I=An)}))}}),P.j.attachMultiListener(he,me),he.delete()}n.onResults=function(P,U){this.listeners[U||"$"]=P},ne("Solution",Mc),ne("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function vh(P){switch(P===void 0&&(P=0),P){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Hd(P){var U=this;P=P||{},this.h=new Mc({locateFile:P.locateFile,files:function($){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:vh($.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:ya},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:ya},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function($){var re,he,me;return L(function(pe){return pe.h==1?(re=vh($),he="third_party/mediapipe/modules/pose_landmark/"+re,C(pe,Tc(U.h,re),2)):(me=pe.i,U.h.overrideFile(he,me),pe.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}n=Hd.prototype,n.reset=function(){this.h.reset()},n.close=function(){return this.h.close(),Promise.resolve()},n.onResults=function(P){this.h.onResults(P)},n.initialize=function(){var P=this;return L(function(U){return C(U,P.h.initialize(),0)})},n.send=function(P,U){var $=this;return L(function(re){return C(re,$.h.send(P,U),0)})},n.setOptions=function(P){this.h.setOptions(P)},ne("Pose",Hd),ne("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),ne("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),ne("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),ne("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),ne("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),ne("VERSION","0.5.1675469404")}).call(B3)),B3}var e8e=Q5e(),k3={},N7;function t8e(){return N7||(N7=1,(function(){function n(I){var L=0;return function(){return L<I.length?{done:!1,value:I[L++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(I,L,W){return I==Array.prototype||I==Object.prototype||(I[L]=W.value),I};function t(I){I=[typeof globalThis=="object"&&globalThis,I,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fa=="object"&&Fa];for(var L=0;L<I.length;++L){var W=I[L];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=t(this);function i(I,L){if(L)e:{var W=r;I=I.split(".");for(var q=0;q<I.length-1;q++){var K=I[q];if(!(K in W))break e;W=W[K]}I=I[I.length-1],q=W[I],L=L(q),L!=q&&L!=null&&e(W,I,{configurable:!0,writable:!0,value:L})}}i("Symbol",function(I){function L(ne){if(this instanceof L)throw new TypeError("Symbol is not a constructor");return new W(q+(ne||"")+"_"+K++,ne)}function W(ne,V){this.g=ne,e(this,"description",{configurable:!0,writable:!0,value:V})}if(I)return I;W.prototype.toString=function(){return this.g};var q="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",K=0;return L}),i("Symbol.iterator",function(I){if(I)return I;I=Symbol("Symbol.iterator");for(var L="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),W=0;W<L.length;W++){var q=r[L[W]];typeof q=="function"&&typeof q.prototype[I]!="function"&&e(q.prototype,I,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return I});function s(I){return I={next:I},I[Symbol.iterator]=function(){return this},I}function o(I){var L=typeof Symbol<"u"&&Symbol.iterator&&I[Symbol.iterator];return L?L.call(I):{next:n(I)}}function a(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function l(I){if(I.i)throw new TypeError("Generator is already running");I.i=!0}a.prototype.l=function(I){this.o=I};function u(I,L){I.h={F:L,G:!0},I.j=I.m}a.prototype.return=function(I){this.h={return:I},this.j=this.m};function d(I){this.g=new a,this.h=I}function c(I,L){l(I.g);var W=I.g.g;return W?f(I,"return"in W?W.return:function(q){return{value:q,done:!0}},L,I.g.return):(I.g.return(L),m(I))}function f(I,L,W,q){try{var K=L.call(I.g.g,W);if(!(K instanceof Object))throw new TypeError("Iterator result "+K+" is not an object");if(!K.done)return I.g.i=!1,K;var ne=K.value}catch(V){return I.g.g=null,u(I.g,V),m(I)}return I.g.g=null,q.call(I.g,ne),m(I)}function m(I){for(;I.g.j;)try{var L=I.h(I.g);if(L)return I.g.i=!1,{value:L.value,done:!1}}catch(W){I.g.o=void 0,u(I.g,W)}if(I.g.i=!1,I.g.h){if(L=I.g.h,I.g.h=null,L.G)throw L.F;return{value:L.return,done:!0}}return{value:void 0,done:!0}}function v(I){this.next=function(L){return l(I.g),I.g.g?L=f(I,I.g.g.next,L,I.g.l):(I.g.l(L),L=m(I)),L},this.throw=function(L){return l(I.g),I.g.g?L=f(I,I.g.g.throw,L,I.g.l):(u(I.g,L),L=m(I)),L},this.return=function(L){return c(I,L)},this[Symbol.iterator]=function(){return this}}function b(I){function L(q){return I.next(q)}function W(q){return I.throw(q)}return new Promise(function(q,K){function ne(V){V.done?q(V.value):Promise.resolve(V.value).then(L,W).then(ne,K)}ne(I.next())})}i("Promise",function(I){function L(V){this.h=0,this.i=void 0,this.g=[],this.o=!1;var ee=this.j();try{V(ee.resolve,ee.reject)}catch(H){ee.reject(H)}}function W(){this.g=null}function q(V){return V instanceof L?V:new L(function(ee){ee(V)})}if(I)return I;W.prototype.h=function(V){if(this.g==null){this.g=[];var ee=this;this.i(function(){ee.l()})}this.g.push(V)};var K=r.setTimeout;W.prototype.i=function(V){K(V,0)},W.prototype.l=function(){for(;this.g&&this.g.length;){var V=this.g;this.g=[];for(var ee=0;ee<V.length;++ee){var H=V[ee];V[ee]=null;try{H()}catch(Z){this.j(Z)}}}this.g=null},W.prototype.j=function(V){this.i(function(){throw V})},L.prototype.j=function(){function V(Z){return function(te){H||(H=!0,Z.call(ee,te))}}var ee=this,H=!1;return{resolve:V(this.A),reject:V(this.l)}},L.prototype.A=function(V){if(V===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(V instanceof L)this.C(V);else{e:switch(typeof V){case"object":var ee=V!=null;break e;case"function":ee=!0;break e;default:ee=!1}ee?this.v(V):this.m(V)}},L.prototype.v=function(V){var ee=void 0;try{ee=V.then}catch(H){this.l(H);return}typeof ee=="function"?this.D(ee,V):this.m(V)},L.prototype.l=function(V){this.u(2,V)},L.prototype.m=function(V){this.u(1,V)},L.prototype.u=function(V,ee){if(this.h!=0)throw Error("Cannot settle("+V+", "+ee+"): Promise already settled in state"+this.h);this.h=V,this.i=ee,this.h===2&&this.B(),this.H()},L.prototype.B=function(){var V=this;K(function(){if(V.I()){var ee=r.console;typeof ee<"u"&&ee.error(V.i)}},1)},L.prototype.I=function(){if(this.o)return!1;var V=r.CustomEvent,ee=r.Event,H=r.dispatchEvent;return typeof H>"u"?!0:(typeof V=="function"?V=new V("unhandledrejection",{cancelable:!0}):typeof ee=="function"?V=new ee("unhandledrejection",{cancelable:!0}):(V=r.document.createEvent("CustomEvent"),V.initCustomEvent("unhandledrejection",!1,!0,V)),V.promise=this,V.reason=this.i,H(V))},L.prototype.H=function(){if(this.g!=null){for(var V=0;V<this.g.length;++V)ne.h(this.g[V]);this.g=null}};var ne=new W;return L.prototype.C=function(V){var ee=this.j();V.s(ee.resolve,ee.reject)},L.prototype.D=function(V,ee){var H=this.j();try{V.call(ee,H.resolve,H.reject)}catch(Z){H.reject(Z)}},L.prototype.then=function(V,ee){function H(ae,we){return typeof ae=="function"?function(Fe){try{Z(ae(Fe))}catch(qe){te(qe)}}:we}var Z,te,Y=new L(function(ae,we){Z=ae,te=we});return this.s(H(V,Z),H(ee,te)),Y},L.prototype.catch=function(V){return this.then(void 0,V)},L.prototype.s=function(V,ee){function H(){switch(Z.h){case 1:V(Z.i);break;case 2:ee(Z.i);break;default:throw Error("Unexpected state: "+Z.h)}}var Z=this;this.g==null?ne.h(H):this.g.push(H),this.o=!0},L.resolve=q,L.reject=function(V){return new L(function(ee,H){H(V)})},L.race=function(V){return new L(function(ee,H){for(var Z=o(V),te=Z.next();!te.done;te=Z.next())q(te.value).s(ee,H)})},L.all=function(V){var ee=o(V),H=ee.next();return H.done?q([]):new L(function(Z,te){function Y(Fe){return function(qe){ae[Fe]=qe,we--,we==0&&Z(ae)}}var ae=[],we=0;do ae.push(void 0),we++,q(H.value).s(Y(ae.length-1),te),H=ee.next();while(!H.done)})},L});var y=typeof Object.assign=="function"?Object.assign:function(I,L){for(var W=1;W<arguments.length;W++){var q=arguments[W];if(q)for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(I[K]=q[K])}return I};i("Object.assign",function(I){return I||y});var w=this||self,A={facingMode:"user",width:640,height:480};function E(I,L){this.video=I,this.i=0,this.h=Object.assign(Object.assign({},A),L)}E.prototype.stop=function(){var I=this,L,W,q,K;return b(new v(new d(function(ne){if(I.g){for(L=I.g.getTracks(),W=o(L),q=W.next();!q.done;q=W.next())K=q.value,K.stop();I.g=void 0}ne.j=0})))},E.prototype.start=function(){var I=this,L;return b(new v(new d(function(W){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),L=I.h,W.return(navigator.mediaDevices.getUserMedia({video:{facingMode:L.facingMode,width:L.width,height:L.height}}).then(function(q){M(I,q)}).catch(function(q){var K="Failed to acquire camera feed: "+q;throw console.error(K),alert(K),q}))})))};function C(I){window.requestAnimationFrame(function(){R(I)})}function M(I,L){I.g=L,I.video.srcObject=L,I.video.onloadedmetadata=function(){I.video.play(),C(I)}}function R(I){var L=null;I.video.paused||I.video.currentTime===I.i||(I.i=I.video.currentTime,L=I.h.onFrame()),L?L.then(function(){C(I)}):C(I)}var O=["Camera"],k=w;O[0]in k||typeof k.execScript>"u"||k.execScript("var "+O[0]);for(var D;O.length&&(D=O.shift());)O.length||E===void 0?k[D]&&k[D]!==Object.prototype[D]?k=k[D]:k=k[D]={}:k[D]=E}).call(k3)),k3}var n8e=t8e(),L3={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var I7;function r8e(){return I7||(I7=1,(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||t;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||t;if(c=parseFloat(c),f.ctx||d(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,t.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),b=0;b<v.length;b++){var y=f._howls[m]._soundById(v[b]);y&&y._node&&(y._node.volume=y._volume*c)}return f}return f._volume},mute:function(c){var f=this||t;f.ctx||d(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,t.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),b=0;b<v.length;b++){var y=f._howls[m]._soundById(v[b]);y&&y._node&&(y._node.muted=c?!0:y._muted)}return f},stop:function(){for(var c=this||t,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||t,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,d()),c},codecs:function(c){return(this||t)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||t;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||t,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return c}if(!f||typeof f.canPlayType!="function")return c;var m=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",b=v.match(/OPR\/(\d+)/g),y=b&&parseInt(b[0].split("/")[1],10)<33,w=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,A=v.match(/Version\/(.*?) /),E=w&&A&&parseInt(A[1],10)<15;return c._codecs={mp3:!!(!y&&(m||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!m,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||t;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(m){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var b=0;b<c._howls.length;b++)if(!c._howls[b]._webAudio)for(var y=c._howls[b]._getSoundIds(),w=0;w<y.length;w++){var A=c._howls[b]._soundById(y[w]);A&&A._node&&!A._node._unlocked&&(A._node._unlocked=!0,A._node.load())}c._autoResume();var E=c.ctx.createBufferSource();E.buffer=c._scratchBuffer,E.connect(c.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),E.onended=function(){E.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var C=0;C<c._howls.length;C++)c._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||t;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||t;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!t.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var m=0;m<c._howls[f]._sounds.length;m++)if(!c._howls[f]._sounds[m]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!t.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var t=new e,r=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};r.prototype={init:function(c){var f=this;return t.ctx||d(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=t.usingWebAudio&&!f._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(t.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var m=0;m<c._src.length;m++){var v,b;if(c._format&&c._format[m])v=c._format[m];else{if(b=c._src[m],typeof b!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(b),v||(v=/\.([^.]+)$/.exec(b.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&t.codecs(v)){f=c._src[m];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,f){var m=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&m._state==="loaded"&&!m._sprite[c])return null;if(typeof c>"u"&&(c="__default",!m._playLock)){for(var b=0,y=0;y<m._sounds.length;y++)m._sounds[y]._paused&&!m._sounds[y]._ended&&(b++,v=m._sounds[y]._id);b===1?c=null:v=null}}var w=v?m._soundById(v):m._inactiveSound();if(!w)return null;if(v&&!c&&(c=w._sprite||"__default"),m._state!=="loaded"){w._sprite=c,w._ended=!1;var A=w._id;return m._queue.push({event:"play",action:function(){m.play(A)}}),A}if(v&&!w._paused)return f||m._loadQueue("play"),w._id;m._webAudio&&t._autoResume();var E=Math.max(0,w._seek>0?w._seek:m._sprite[c][0]/1e3),C=Math.max(0,(m._sprite[c][0]+m._sprite[c][1])/1e3-E),M=C*1e3/Math.abs(w._rate),R=m._sprite[c][0]/1e3,O=(m._sprite[c][0]+m._sprite[c][1])/1e3;w._sprite=c,w._ended=!1;var k=function(){w._paused=!1,w._seek=E,w._start=R,w._stop=O,w._loop=!!(w._loop||m._sprite[c][2])};if(E>=O){m._ended(w);return}var D=w._node;if(m._webAudio){var I=function(){m._playLock=!1,k(),m._refreshBuffer(w);var K=w._muted||m._muted?0:w._volume;D.gain.setValueAtTime(K,t.ctx.currentTime),w._playStart=t.ctx.currentTime,typeof D.bufferSource.start>"u"?w._loop?D.bufferSource.noteGrainOn(0,E,86400):D.bufferSource.noteGrainOn(0,E,C):w._loop?D.bufferSource.start(0,E,86400):D.bufferSource.start(0,E,C),M!==1/0&&(m._endTimers[w._id]=setTimeout(m._ended.bind(m,w),M)),f||setTimeout(function(){m._emit("play",w._id),m._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?I():(m._playLock=!0,m.once("resume",I),m._clearTimer(w._id))}else{var L=function(){D.currentTime=E,D.muted=w._muted||m._muted||t._muted||D.muted,D.volume=w._volume*t.volume(),D.playbackRate=w._rate;try{var K=D.play();if(K&&typeof Promise<"u"&&(K instanceof Promise||typeof K.then=="function")?(m._playLock=!0,k(),K.then(function(){m._playLock=!1,D._unlocked=!0,f?m._loadQueue():m._emit("play",w._id)}).catch(function(){m._playLock=!1,m._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),w._ended=!0,w._paused=!0})):f||(m._playLock=!1,k(),m._emit("play",w._id)),D.playbackRate=w._rate,D.paused){m._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||w._loop?m._endTimers[w._id]=setTimeout(m._ended.bind(m,w),M):(m._endTimers[w._id]=function(){m._ended(w),D.removeEventListener("ended",m._endTimers[w._id],!1)},D.addEventListener("ended",m._endTimers[w._id],!1))}catch(ne){m._emit("playerror",w._id,ne)}};D.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(D.src=m._src,D.load());var W=window&&window.ejecta||!D.readyState&&t._navigator.isCocoonJS;if(D.readyState>=3||W)L();else{m._playLock=!0,m._state="loading";var q=function(){m._state="loaded",L(),D.removeEventListener(t._canPlayEvent,q,!1)};D.addEventListener(t._canPlayEvent,q,!1),m._clearTimer(w._id)}}return w._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var m=f._getSoundIds(c),v=0;v<m.length;v++){f._clearTimer(m[v]);var b=f._soundById(m[v]);if(b&&!b._paused&&(b._seek=f.seek(m[v]),b._rateSeek=0,b._paused=!0,f._stopFade(m[v]),b._node))if(f._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),f._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||f._emit("pause",b?b._id:null)}return f},stop:function(c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"stop",action:function(){m.stop(c)}}),m;for(var v=m._getSoundIds(c),b=0;b<v.length;b++){m._clearTimer(v[b]);var y=m._soundById(v[b]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,m._stopFade(v[b]),y._node&&(m._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),m._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&m._clearSound(y._node))),f||m._emit("stop",y._id))}return m},mute:function(c,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"mute",action:function(){m.mute(c,f)}}),m;if(typeof f>"u")if(typeof c=="boolean")m._muted=c;else return m._muted;for(var v=m._getSoundIds(f),b=0;b<v.length;b++){var y=m._soundById(v[b]);y&&(y._muted=c,y._interval&&m._stopFade(y._id),m._webAudio&&y._node?y._node.gain.setValueAtTime(c?0:y._volume,t.ctx.currentTime):y._node&&(y._node.muted=t._muted?!0:c),m._emit("mute",y._id))}return m},volume:function(){var c=this,f=arguments,m,v;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var b=c._getSoundIds(),y=b.indexOf(f[0]);y>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length>=2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var w;if(typeof m<"u"&&m>=0&&m<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof v>"u"&&(c._volume=m),v=c._getSoundIds(v);for(var A=0;A<v.length;A++)w=c._soundById(v[A]),w&&(w._volume=m,f[2]||c._stopFade(v[A]),c._webAudio&&w._node&&!w._muted?w._node.gain.setValueAtTime(m,t.ctx.currentTime):w._node&&!w._muted&&(w._node.volume=m*t.volume()),c._emit("volume",w._id))}else return w=v?c._soundById(v):c._sounds[0],w?w._volume:0;return c},fade:function(c,f,m,v){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(c,f,m,v)}}),b;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),m=parseFloat(m),b.volume(c,v);for(var y=b._getSoundIds(v),w=0;w<y.length;w++){var A=b._soundById(y[w]);if(A){if(v||b._stopFade(y[w]),b._webAudio&&!A._muted){var E=t.ctx.currentTime,C=E+m/1e3;A._volume=c,A._node.gain.setValueAtTime(c,E),A._node.gain.linearRampToValueAtTime(f,C)}b._startFadeInterval(A,c,f,m,y[w],typeof v>"u")}}return b},_startFadeInterval:function(c,f,m,v,b,y){var w=this,A=f,E=m-f,C=Math.abs(E/.01),M=Math.max(4,C>0?v/C:v),R=Date.now();c._fadeTo=m,c._interval=setInterval(function(){var O=(Date.now()-R)/v;R=Date.now(),A+=E*O,A=Math.round(A*100)/100,E<0?A=Math.max(m,A):A=Math.min(m,A),w._webAudio?c._volume=A:w.volume(A,c._id,!0),y&&(w._volume=A),(m<f&&A<=m||m>f&&A>=m)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,w.volume(m,c._id),w._emit("fade",c._id))},M)},_stopFade:function(c){var f=this,m=f._soundById(c);return m&&m._interval&&(f._webAudio&&m._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(m._interval),m._interval=null,f.volume(m._fadeTo,c),m._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,m,v,b;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")m=f[0],c._loop=m;else return b=c._soundById(parseInt(f[0],10)),b?b._loop:!1;else f.length===2&&(m=f[0],v=parseInt(f[1],10));for(var y=c._getSoundIds(v),w=0;w<y.length;w++)b=c._soundById(y[w]),b&&(b._loop=m,c._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=m,m&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,c.playing(y[w])&&(c.pause(y[w],!0),c.play(y[w],!0)))));return c},rate:function(){var c=this,f=arguments,m,v;if(f.length===0)v=c._sounds[0]._id;else if(f.length===1){var b=c._getSoundIds(),y=b.indexOf(f[0]);y>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var w;if(typeof m=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof v>"u"&&(c._rate=m),v=c._getSoundIds(v);for(var A=0;A<v.length;A++)if(w=c._soundById(v[A]),w){c.playing(v[A])&&(w._rateSeek=c.seek(v[A]),w._playStart=c._webAudio?t.ctx.currentTime:w._playStart),w._rate=m,c._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.setValueAtTime(m,t.ctx.currentTime):w._node&&(w._node.playbackRate=m);var E=c.seek(v[A]),C=(c._sprite[w._sprite][0]+c._sprite[w._sprite][1])/1e3-E,M=C*1e3/Math.abs(w._rate);(c._endTimers[v[A]]||!w._paused)&&(c._clearTimer(v[A]),c._endTimers[v[A]]=setTimeout(c._ended.bind(c,w),M)),c._emit("rate",w._id)}}else return w=c._soundById(v),w?w._rate:c._rate;return c},seek:function(){var c=this,f=arguments,m,v;if(f.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(f.length===1){var b=c._getSoundIds(),y=b.indexOf(f[0]);y>=0?v=parseInt(f[0],10):c._sounds.length&&(v=c._sounds[0]._id,m=parseFloat(f[0]))}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof m=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var w=c._soundById(v);if(w)if(typeof m=="number"&&m>=0){var A=c.playing(v);A&&c.pause(v,!0),w._seek=m,w._ended=!1,c._clearTimer(v),!c._webAudio&&w._node&&!isNaN(w._node.duration)&&(w._node.currentTime=m);var E=function(){A&&c.play(v,!0),c._emit("seek",v)};if(A&&!c._webAudio){var C=function(){c._playLock?setTimeout(C,0):E()};setTimeout(C,0)}else E()}else if(c._webAudio){var M=c.playing(v)?t.ctx.currentTime-w._playStart:0,R=w._rateSeek?w._rateSeek-w._seek:0;return w._seek+(R+M*Math.abs(w._rate))}else return w._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var m=f._soundById(c);return m?!m._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(c){var f=this,m=f._duration,v=f._soundById(c);return v&&(m=f._sprite[v._sprite][1]/1e3),m},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,m=0;m<f.length;m++)f[m]._paused||c.stop(f[m]._id),c._webAudio||(c._clearSound(f[m]._node),f[m]._node.removeEventListener("error",f[m]._errorFn,!1),f[m]._node.removeEventListener(t._canPlayEvent,f[m]._loadFn,!1),f[m]._node.removeEventListener("ended",f[m]._endFn,!1),t._releaseHtml5Audio(f[m]._node)),delete f[m]._node,c._clearTimer(f[m]._id);var v=t._howls.indexOf(c);v>=0&&t._howls.splice(v,1);var b=!0;for(m=0;m<t._howls.length;m++)if(t._howls[m]._src===c._src||c._src.indexOf(t._howls[m]._src)>=0){b=!1;break}return s&&b&&delete s[c._src],t.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,m,v){var b=this,y=b["_on"+c];return typeof f=="function"&&y.push(v?{id:m,fn:f,once:v}:{id:m,fn:f}),b},off:function(c,f,m){var v=this,b=v["_on"+c],y=0;if(typeof f=="number"&&(m=f,f=null),f||m)for(y=0;y<b.length;y++){var w=m===b[y].id;if(f===b[y].fn&&w||!f&&w){b.splice(y,1);break}}else if(c)v["_on"+c]=[];else{var A=Object.keys(v);for(y=0;y<A.length;y++)A[y].indexOf("_on")===0&&Array.isArray(v[A[y]])&&(v[A[y]]=[])}return v},once:function(c,f,m){var v=this;return v.on(c,f,m,1),v},_emit:function(c,f,m){for(var v=this,b=v["_on"+c],y=b.length-1;y>=0;y--)(!b[y].id||b[y].id===f||c==="load")&&(setTimeout(function(w){w.call(this,f,m)}.bind(v,b[y].fn),0),b[y].once&&v.off(c,b[y].fn,b[y].id));return v._loadQueue(c),v},_loadQueue:function(c){var f=this;if(f._queue.length>0){var m=f._queue[0];m.event===c&&(f._queue.shift(),f._loadQueue()),c||m.action()}return f},_ended:function(c){var f=this,m=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var v=!!(c._loop||f._sprite[m][2]);if(f._emit("end",c._id),!f._webAudio&&v&&f.stop(c._id,!0).play(c._id),f._webAudio&&v){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=t.ctx.currentTime;var b=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),b)}return f._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),t._autoSuspend()),!f._webAudio&&!v&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var m=f._soundById(c);m&&m._node&&m._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,m=0;m<f._sounds.length;m++)if(c===f._sounds[m]._id)return f._sounds[m];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new i(c)},_drain:function(){var c=this,f=c._pool,m=0,v=0;if(!(c._sounds.length<f)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&m++;for(v=c._sounds.length-1;v>=0;v--){if(m<=f)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),m--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var m=[],v=0;v<f._sounds.length;v++)m.push(f._sounds[v]._id);return m}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=t.ctx.createBufferSource(),c._node.bufferSource.buffer=s[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,t.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,m=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return f;if(t._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),m))try{c.bufferSource.buffer=t._scratchBuffer}catch{}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,m=t._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),c._node.gain.setValueAtTime(m,t.ctx.currentTime),c._node.paused=!0,c._node.connect(t.masterGain)):t.noAudio||(c._node=t._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(t._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=m*t.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++t._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(t._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var f=c._src;if(s[f]){c._duration=s[f].duration,u(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var m=atob(f.split(",")[1]),v=new Uint8Array(m.length),b=0;b<m.length;++b)v[b]=m.charCodeAt(b);l(v.buffer,c)}else{var y=new XMLHttpRequest;y.open(c._xhr.method,f,!0),y.withCredentials=c._xhr.withCredentials,y.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(w){y.setRequestHeader(w,c._xhr.headers[w])}),y.onload=function(){var w=(y.status+"")[0];if(w!=="0"&&w!=="2"&&w!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}l(y.response,c)},y.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[f],c.load())},a(y)}},a=function(c){try{c.send()}catch{c.onerror()}},l=function(c,f){var m=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(b){b&&f._sounds.length>0?(s[f._src]=b,u(f,b)):m()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(c).then(v).catch(m):t.ctx.decodeAudioData(c,v,m)},u=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},d=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),f=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),m=f?parseInt(f[1],10):null;if(c&&m&&m<9){var v=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!v&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof Fa<"u"?(Fa.HowlerGlobal=e,Fa.Howler=t,Fa.Howl=r,Fa.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof t=="number")s._pos=[t,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,r,i,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(r=typeof r!="number"?u[1]:r,i=typeof i!="number"?u[2]:i,s=typeof s!="number"?u[3]:s,o=typeof o!="number"?u[4]:o,a=typeof a!="number"?u[5]:a,typeof t=="number")l._orientation=[t,r,i,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(t,r,i,s,o,a);else return u;return l},Howl.prototype.init=(function(t){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var l=i._soundById(o[a]);if(l)if(typeof t=="number")l._stereo=t,l._pos=[t,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(t,0,0):l._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(t,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof t=="number")o._pos=[t,r,i];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var u=o._soundById(a[l]);if(u)if(typeof t=="number")u._pos=[t,r,i],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setPosition(t,r,i)),o._emit("pos",u._id);else return u._pos}return o},Howl.prototype.orientation=function(t,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof t=="number")o._orientation=[t,r,i];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var u=o._soundById(a[l]);if(u)if(typeof t=="number")u._orientation=[t,r,i],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setOrientation(t,r,i)),o._emit("orientation",u._id);else return u._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,i,s,o;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(r[0],10)),o?o._pannerAttr:t._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var a=t._getSoundIds(s),l=0;l<a.length;l++)if(o=t._soundById(a[l]),o){var u=o._pannerAttr;u={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:u.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:u.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:u.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:u.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:u.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:u.panningModel};var d=o._panner;d||(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"),d=o._panner),d.coneInnerAngle=u.coneInnerAngle,d.coneOuterAngle=u.coneOuterAngle,d.coneOuterGain=u.coneOuterGain,d.distanceModel=u.distanceModel,d.maxDistance=u.maxDistance,d.refDistance=u.refDistance,d.rolloffFactor=u.rolloffFactor,d.panningModel=u.panningModel}return t},Sound.prototype.init=(function(t){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,t.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(t){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),t.call(this)}})(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(L3)),L3}var i8e=r8e();function s8e({onScanComplete:n,onError:e}){const t=B.useRef(null),r=B.useRef(null),i=B.useRef(null),s=B.useRef(null),[o,a]=B.useState(0),[l,u]=B.useState(0),d=B.useRef(null),c=B.useRef(null),f=B.useRef(!1);B.useEffect(()=>{try{d.current=new i8e.Howl({src:["/sounds/scan-sound.mp3"],volume:.5,loop:!0,onloaderror:()=>{}})}catch{}return()=>{d.current?.unload()}},[]);const m=B.useCallback(v=>{const b=r.current,y=t.current;if(!b||!y||!y.videoWidth||!y.videoHeight)return;const w=b.getContext("2d");if(w){if((b.width!==y.videoWidth||b.height!==y.videoHeight)&&(b.width=y.videoWidth,b.height=y.videoHeight),w.clearRect(0,0,b.width,b.height),w.drawImage(y,0,0,b.width,b.height),v.poseLandmarks&&Array.isArray(v.poseLandmarks)){const A=v.poseLandmarks;w.strokeStyle="#00ffff",w.lineWidth=3,w.shadowBlur=10,w.shadowColor="#00ffff",[[0,2],[2,4],[0,4],[11,12],[11,23],[12,24],[23,24],[11,13],[13,15],[12,14],[14,16],[23,25],[25,27],[27,29],[29,31],[24,26],[26,28],[28,30],[30,32]].forEach(([C,M])=>{A[C]&&A[M]&&A[C].visibility&&A[C].visibility>.5&&A[M].visibility&&A[M].visibility>.5&&(w.beginPath(),w.moveTo(A[C].x*b.width,A[C].y*b.height),w.lineTo(A[M].x*b.width,A[M].y*b.height),w.stroke())}),A.forEach(C=>{if(C.visibility&&C.visibility>.5){const M=C.x*b.width,R=C.y*b.height;w.fillStyle="#00ffff",w.shadowBlur=15,w.beginPath(),w.arc(M,R,5,0,2*Math.PI),w.fill()}})}if(l>0){const A=w.createLinearGradient(0,l-50,0,l+50);A.addColorStop(0,"rgba(0, 255, 255, 0)"),A.addColorStop(.5,"rgba(0, 255, 255, 0.6)"),A.addColorStop(1,"rgba(0, 255, 255, 0)"),w.fillStyle=A,w.fillRect(0,l-50,b.width,100)}}},[l]);return B.useEffect(()=>{if(f.current||!t.current||!r.current)return;f.current=!0;let v=!1,b=null,y=null,w=null;return(async()=>{try{const E=new e8e.Pose({locateFile:C=>`https://cdn.jsdelivr.net/npm/@mediapipe/pose/${C}`});E.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,smoothSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5}),E.onResults(m);try{const C=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});if(b=C,t.current){const M=t.current;M.srcObject&&(M.srcObject.getTracks().forEach(ne=>ne.stop()),M.srcObject=null,await new Promise(ne=>setTimeout(ne,100))),M.srcObject=C,await new Promise((K,ne)=>{const V=setTimeout(()=>{ne(new Error("Video loading timeout"))},5e3),ee=C.getVideoTracks()[0];if(ee&&ee.readyState==="live"){clearTimeout(V),setTimeout(()=>K(),200);return}const H=()=>{clearTimeout(V),M.removeEventListener("loadedmetadata",H),M.removeEventListener("playing",Z),M.removeEventListener("error",te),setTimeout(()=>K(),100)},Z=()=>{clearTimeout(V),M.removeEventListener("loadedmetadata",H),M.removeEventListener("playing",Z),M.removeEventListener("error",te),K()},te=Y=>{clearTimeout(V),M.removeEventListener("loadedmetadata",H),M.removeEventListener("playing",Z),M.removeEventListener("error",te),ne(Y)};M.readyState>=1?setTimeout(()=>H(),100):M.addEventListener("loadedmetadata",H,{once:!0}),M.addEventListener("playing",Z,{once:!0}),M.addEventListener("error",te,{once:!0})});let R=0;const O=50;for(;(!M.videoWidth||!M.videoHeight)&&R<O&&!v;)if(await new Promise(K=>setTimeout(K,100)),R++,!t.current||t.current!==M)throw new Error("Video element was removed");if(v||!M||!M.videoWidth||!M.videoHeight)throw b&&b.getTracks().forEach(K=>K.stop()),new Error("Video did not load properly - no valid dimensions");const k=M.videoWidth||640,D=M.videoHeight||480,I=new n8e.Camera(M,{onFrame:async()=>{if(!v&&M&&M.readyState===4&&M.videoWidth&&M.videoHeight)try{await E.send({image:M})}catch{}},width:k,height:D});await I.start(),y=E,w=I,i.current=E,s.current=I,d.current?.play();const L=Date.now(),W=3e3,q=()=>{if(v)return;const K=Date.now()-L,ne=Math.min(K/W,1);a(ne);const V=r.current;u(ne*(V?.height||480)*.9),ne<1?c.current=requestAnimationFrame(q):(d.current?.fade(.5,0,500),setTimeout(()=>{v||n()},500))};q()}}catch(C){const M=C;let R="Failed to access camera. ";if(M.name==="NotAllowedError"||M.name==="PermissionDeniedError")R+="Please allow camera permissions in your browser settings.";else if(M.name==="NotFoundError"||M.name==="DevicesNotFoundError")R+="No camera found. Please connect a camera device.";else if(M.name==="NotReadableError"||M.name==="TrackStartError")R+="Camera is already in use by another application. Please close other apps using the camera.";else if(M.name==="OverconstrainedError"||M.name==="ConstraintNotSatisfiedError"){R+="Camera constraints not supported. Trying with basic constraints...";try{const O=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});b=O,t.current&&(t.current.srcObject=O,await t.current.play(),e?.(R))}catch{R="Unable to access camera. Please check your camera permissions and ensure no other app is using it.",e?.(R)}}else R+=`Error: ${M.message||"Unknown error"}`,e?.(R)}}catch{e?.("Failed to initialize pose detection.")}})().catch(()=>{f.current=!1}),()=>{if(v=!0,f.current=!1,c.current&&(cancelAnimationFrame(c.current),c.current=null),w){try{w.stop()}catch{}s.current=null,w=null}if(y){try{y.close()}catch{}i.current=null,y=null}b&&(b.getTracks().forEach(C=>{C.stop(),C.onended=null}),b=null);const E=t.current;E&&(E.srcObject=null,E.onloadedmetadata=null,E.onplaying=null,E.onerror=null),d.current&&d.current.stop()}},[]),p.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[p.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,className:"hidden",style:{display:"none"}}),p.jsx("canvas",{ref:r,className:"absolute inset-0 w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:p.jsxs("div",{className:"bg-black/60 backdrop-blur-sm px-8 py-6 rounded-2xl border border-cyan-400/50 shadow-lg",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx(r$,{className:"text-cyan-400 animate-pulse",size:32}),p.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:"SCANNING..."})]}),p.jsx("div",{className:"w-64 h-2 bg-gray-800 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-blue-500 transition-all duration-100",style:{width:`${o*100}%`}})}),p.jsxs("p",{className:"text-sm text-cyan-300 mt-2 text-center",children:[Math.round(o*100),"% Complete"]})]})})]})}function o8e(){const[n,e]=B.useState("scanning"),[t,r]=B.useState(null),i=Td(),s=()=>{e("transitioning"),setTimeout(()=>{i("/echo-body")},1500)},o=a=>{r(a),setTimeout(()=>{r(null)},5e3)};return p.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[p.jsxs(Tb,{mode:"wait",children:[n==="scanning"&&p.jsx(Si.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0",children:p.jsx(s8e,{onScanComplete:s,onError:o})},"scan"),n==="transitioning"&&p.jsx(Si.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-purple-900",children:p.jsxs(Si.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-center",children:[p.jsx($ae,{className:"w-16 h-16 text-cyan-400 animate-spin mx-auto mb-4"}),p.jsx("h2",{className:"text-3xl font-bold text-cyan-400 mb-2",children:"SCAN COMPLETE"}),p.jsx("p",{className:"text-xl text-cyan-300",children:"Initializing EchoBody..."})]})},"transition")]}),t&&p.jsx(Si.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-red-500/90 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:t})]})}function tne(){const{user:n}=pu(),e=hm(),[t,r]=B.useState([]),[i,s]=B.useState(null),[o,a]=B.useState(null),[l,u]=B.useState([]),[d,c]=B.useState(""),[f,m]=B.useState(""),[v,b]=B.useState(!0),[y,w]=B.useState("loading"),A=B.useRef(null),E=B.useRef(null),C=B.useRef(new Set);B.useEffect(()=>{const V=e.state;V?.userId&&(s(V.userId),a(V.userName||null))},[e.state]),B.useEffect(()=>{let V=!0;const ee=async()=>{try{await R()}catch(Y){console.error("[Messages] Error loading conversations:",Y)}const te=Y=>{if(!V)return;console.log("[Messages] Received conversations_updated event, updating state");const ae=Y||[];r(ae),Vc.updateCache(ae)};return Vc.onConversationsUpdated(te),()=>{Vc.offConversationsUpdated(te)}};let H;const Z=ee().then(te=>{H=te});return()=>{V=!1,H&&H(),Z.then(()=>{H&&H()})}},[]),B.useEffect(()=>{i&&n?.id?M():w("loading")},[i,n?.id]),B.useEffect(()=>{console.log("[Messages] useEffect - selectedConversation:",i,"friendshipStatus:",y);const V=t.some(H=>H.otherUserId===i);if(i){if(C.current.has(i)){console.log("[Messages] Messages already loading for conversation:",i);return}V||y==="friends"?(console.log("[Messages] Loading messages for conversation:",i,"conversationExists:",V,"friendshipStatus:",y),C.current.add(i),O(i).finally(()=>{C.current.delete(i)}),Vc.markConversationAsRead(i).catch(()=>{})):y==="not_friends"?(console.log("[Messages] Not friends, clearing messages"),u([])):y==="loading"&&console.log("[Messages] Waiting for friendship status check...")}else u([]);const ee=H=>{const Z=Number(H.fromUserId),te=Number(H.toUserId),Y=Number(n?.id),ae=Number(i);(Z===ae&&te===Y||te===ae&&Z===Y)&&u(we=>we.some(qe=>qe.id===H.id)?we:[...we,H])};return i&&(V||y==="friends")&&Vc.onMessageReceived(ee),()=>{i&&Vc.offMessageReceived(ee)}},[i,y,n?.id]),B.useEffect(()=>{L()},[l]);const M=async()=>{if(!i||!n?.id){console.log("[Messages] checkFriendshipStatus - missing selectedConversation or user.id");return}console.log("[Messages] checkFriendshipStatus - checking status for userId:",i);try{w("loading");const V=await xo.getFriendRequestStatus(i);console.log("[Messages] Friendship status result:",V.status),w(V.status),e.state&&e.state.userName&&!o&&a(e.state.userName||null)}catch(V){console.error("[Messages] Error checking friendship status:",V),w("not_friends")}},R=async()=>{try{b(!0),console.log("[Messages] loadConversations called");const V=await Vc.getConversations(!0);console.log("[Messages] loadConversations completed, got",V?.length||0,"conversations"),r(V||[])}catch(V){const ee=V;console.error("[Messages] Load conversations error:",V),ee?.code!=="ERR_NETWORK"&&ee?.code!=="ERR_CONNECTION_REFUSED"&&Bi.error("Failed to load conversations");try{const H=localStorage.getItem("hack2heal_conversations");if(H){const Z=JSON.parse(H);r(Z||[])}}catch(H){console.error("[Messages] Cache fallback failed:",H)}}finally{b(!1)}},O=async V=>{console.log("[Messages] loadMessages called for userId:",V);try{b(!0);const ee=await Vc.getMessages(V);console.log("[Messages] Loaded messages:",ee?.length||0,"messages"),console.log("[Messages] Messages data:",ee),ee&&Array.isArray(ee)&&ee.length>0?(console.log("[Messages] Setting messages to state:",ee.length),u(ee),setTimeout(()=>{L()},100)):(console.log("[Messages] No messages found, setting empty array"),u([]))}catch(ee){const H=ee;console.error("[Messages] Error loading messages:",ee),H?.code!=="ERR_NETWORK"&&H?.code!=="ERR_CONNECTION_REFUSED"&&Bi.error("Failed to load messages"),u([])}finally{b(!1),console.log("[Messages] loadMessages completed, isLoading set to false")}},k=async()=>{if(!d.trim()||!i||y!=="friends")return;const V=d.trim();c("");try{await Vc.sendMessage(i,V),await O(i),await R(),Bi.success("Message sent!")}catch(ee){const H=ee;if(H?.code!=="ERR_NETWORK"&&H?.code!=="ERR_CONNECTION_REFUSED"){const Z=H?.response?.data?.message||"Failed to send message";Bi.error(Z)}c(V)}},D=async()=>{if(i)try{await xo.sendFriendRequest(i),Bi.success(`Friend request sent to ${o||"user"}!`),await M()}catch(V){const ee=V;if(ee?.code!=="ERR_NETWORK"&&ee?.code!=="ERR_CONNECTION_REFUSED"){const H=ee?.response?.data?.message||"Failed to send friend request";Bi.error(H)}}},I=async()=>{if(!(!i||y!=="request_received"))try{const V=await xo.getFriendRequestStatus(i);V.request&&(await xo.acceptFriendRequest(V.request.id),Bi.success(`You're now friends with ${o||"user"}!`),await M())}catch(V){const ee=V;ee?.code!=="ERR_NETWORK"&&ee?.code!=="ERR_CONNECTION_REFUSED"&&Bi.error("Failed to accept friend request")}},L=()=>{A.current?.scrollIntoView({behavior:"smooth"})},W=t.filter(V=>V.otherUserName.toLowerCase().includes(f.toLowerCase())),q=t.find(V=>V.otherUserId===i),K=q?.otherUserName||o||"User",ne=q!==void 0||y==="friends";return console.log("[Messages] Render - selectedConversation:",i,"selectedConv:",q,"friendshipStatus:",y,"isFriends:",ne,"messages.length:",l.length,"isLoading:",v),p.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Of,{className:"w-6 h-6"}),"Messages"]}),p.jsx("p",{className:"text-gray-600",children:"Connect and chat with your recovery community"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-12rem)]",children:[p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs("div",{className:"relative",children:[p.jsx("label",{htmlFor:"search-conversations",className:"sr-only",children:"Search conversations"}),p.jsx(Ub,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),p.jsx(bs,{id:"search-conversations",name:"search-conversations",type:"search",autoComplete:"off",placeholder:"Search conversations...",value:f,onChange:V=>m(V.target.value),className:"pl-10"})]})}),p.jsx(Ft,{className:"p-0",children:p.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-20rem)]",children:v?p.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading conversations..."}):W.length===0?p.jsxs("div",{className:"p-8 text-center text-gray-500",children:[p.jsx(Of,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No conversations yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Start a conversation from the leaderboard!"})]}):p.jsx("div",{className:"divide-y divide-gray-200",children:W.map(V=>p.jsx("button",{onClick:()=>{s(V.otherUserId),a(V.otherUserName)},className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${i===V.otherUserId?"bg-[#6F66FF]/10 border-l-4 border-[#6F66FF]":""}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-lg font-semibold flex-shrink-0",children:V.otherUserAvatar||V.otherUserName.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("h4",{className:"text-sm font-semibold text-[#2C2E6F] truncate",children:V.otherUserName}),V.unreadCount>0&&p.jsx(hr,{className:"bg-[#6F66FF] text-white text-xs",children:V.unreadCount})]}),V.lastMessage&&p.jsx("p",{className:"text-xs text-gray-600 truncate",children:V.lastMessage}),V.lastMessageTime&&p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(V.lastMessageTime).toLocaleDateString()})]})]})},V.id))})})})]}),p.jsx("div",{className:"lg:col-span-2",children:i?p.jsxs(Ot,{className:"border-0 shadow-lg flex flex-col",style:{height:"600px",display:"flex",flexDirection:"column"},children:[p.jsx(ln,{className:"border-b flex-shrink-0",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white font-semibold",children:q?.otherUserAvatar||K.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1",children:[p.jsx(un,{className:"text-lg",children:K}),p.jsx("p",{className:"text-xs text-gray-500",children:y==="friends"?"Online":y==="request_sent"?"Friend request sent":y==="request_received"?"Sent you a friend request":y==="loading"?"Checking...":"Not friends yet"})]})]})}),p.jsx(Ft,{className:"flex-1 flex flex-col p-0 overflow-hidden",style:{minHeight:0,flex:"1 1 auto"},children:y==="loading"&&!q?p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsx("p",{className:"text-gray-500",children:"Loading..."})}):ne?p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:E,className:"flex-1 overflow-y-auto p-4 bg-gray-50",style:{minHeight:"400px",height:"100%",display:"flex",flexDirection:"column"},children:v?p.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:p.jsx("p",{className:"text-gray-500",children:"Loading messages..."})}):l.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(Of,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No messages yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Start the conversation!"})]}):p.jsxs("div",{className:"flex flex-col gap-4 py-2",style:{width:"100%"},children:[l.map((V,ee)=>{const H=V.fromUserId===Number(n?.id);return console.log(`[Messages] Rendering message ${ee}:`,V.id,V.content,"isOwnMessage:",H),p.jsx("div",{className:`flex w-full ${H?"justify-end":"justify-start"}`,style:{marginBottom:"8px"},children:p.jsx("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${H?"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF]":""}`,style:{wordWrap:"break-word",wordBreak:"break-word",backgroundColor:H?void 0:"#FFFFFF",border:H?"none":"1px solid #E5E7EB"},children:H?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"whitespace-pre-wrap break-words",style:{color:"#FFFFFF !important",fontSize:"14px !important",fontWeight:"400 !important",lineHeight:"1.5 !important",margin:"0 !important",padding:"0 !important"},children:V.content}),p.jsxs("div",{className:"flex items-center gap-1 mt-1",style:{color:"rgba(255, 255, 255, 0.7) !important",fontSize:"12px !important",lineHeight:"1.5 !important"},children:[p.jsx("span",{children:new Date(V.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),V.read&&p.jsx(sd,{className:"w-3 h-3",style:{color:"rgba(255, 255, 255, 0.7) !important",stroke:"rgba(255, 255, 255, 0.7) !important",fill:"rgba(255, 255, 255, 0.7) !important"}})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"whitespace-pre-wrap break-words",style:{color:"#111827 !important",fontSize:"14px !important",fontWeight:"400 !important",lineHeight:"1.5 !important",margin:"0 !important",padding:"0 !important"},children:V.content}),p.jsx("div",{className:"flex items-center gap-1 mt-1",style:{color:"#6B7280 !important",fontSize:"12px !important",lineHeight:"1.5 !important"},children:p.jsx("span",{children:new Date(V.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})})},V.id)}),p.jsx("div",{ref:A,style:{height:"1px"}})]})}),p.jsx("div",{className:"border-t p-4 bg-white",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("label",{htmlFor:"message-input",className:"sr-only",children:"Type a message"}),p.jsx(bs,{id:"message-input",name:"message",type:"text",autoComplete:"off",placeholder:"Type a message...",value:d,onChange:V=>c(V.target.value),onKeyPress:V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),k())},className:"flex-1"}),p.jsx(Lt,{onClick:k,disabled:!d.trim(),className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90",children:p.jsx(bE,{className:"w-4 h-4"})})]})})]}):p.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:p.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[p.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-2xl font-semibold",children:K.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-[#2C2E6F] mb-2",children:y==="request_sent"?"Friend Request Sent":y==="request_received"?"Friend Request Received":"Not Friends Yet"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y==="request_sent"?`You've sent a friend request to ${K}. Once they accept, you can start messaging!`:y==="request_received"?`${K} sent you a friend request. Accept to start messaging!`:`You need to be friends with ${K} before you can message them. Send a friend request to get started!`})]}),p.jsxs("div",{className:"flex gap-2 justify-center",children:[y==="request_received"&&p.jsxs(Lt,{onClick:I,className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 text-white",children:[p.jsx(zF,{className:"w-4 h-4 mr-2"}),"Accept Request"]}),y==="not_friends"&&p.jsxs(Lt,{onClick:D,className:"bg-gradient-to-r from-[#6F66FF] to-[#8C7BFF] hover:opacity-90 text-white",children:[p.jsx(Mx,{className:"w-4 h-4 mr-2"}),"Send Friend Request"]}),y==="request_sent"&&p.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[p.jsx(Mx,{className:"w-4 h-4"}),p.jsx("span",{children:"Waiting for response..."})]})]})]})})})]}):p.jsx(Ot,{className:"border-0 shadow-lg h-full flex items-center justify-center",children:p.jsxs(Ft,{className:"text-center text-gray-500",children:[p.jsx(Of,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),p.jsx("p",{className:"text-sm",children:"Choose a conversation from the list to start messaging"})]})})})]})]})}function nne(){const[n,e]=B.useState([]),[t,r]=B.useState([]),[i,s]=B.useState(!0),[o,a]=B.useState("incoming");B.useEffect(()=>{l();const c=m=>{e(m.incoming||[]),r(m.outgoing||[])},f=()=>{l()};return xo.onFriendRequestsUpdated(c),xo.onFriendRequestReceived(f),()=>{xo.offFriendRequestsUpdated(c),xo.offFriendRequestReceived(f)}},[]);const l=async()=>{try{s(!0);const c=await xo.getAllFriendRequests();e(c.incoming||[]),r(c.outgoing||[])}catch(c){const f=c;f?.code!=="ERR_NETWORK"&&f?.code!=="ERR_CONNECTION_REFUSED"&&Bi.error("Failed to load friend requests")}finally{s(!1)}},u=async(c,f)=>{try{await xo.acceptFriendRequest(c),Bi.success(`You're now friends with ${f}!`),await l()}catch(m){const v=m;if(v?.code!=="ERR_NETWORK"&&v?.code!=="ERR_CONNECTION_REFUSED"){const b=v?.response?.data?.message||"Failed to accept friend request";Bi.error(b)}}},d=async(c,f)=>{try{await xo.rejectFriendRequest(c),Bi.success(`Friend request from ${f} rejected`),await l()}catch(m){const v=m;v?.code!=="ERR_NETWORK"&&v?.code!=="ERR_CONNECTION_REFUSED"&&Bi.error("Failed to reject friend request")}};return p.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-[#2C2E6F] mb-2 flex items-center gap-2",children:[p.jsx(Tx,{className:"w-6 h-6"}),"Friend Requests"]}),p.jsx("p",{className:"text-gray-600",children:"Manage your friend requests and connections"})]}),p.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[p.jsxs("button",{onClick:()=>a("incoming"),className:`pb-3 px-4 font-semibold transition-colors relative ${o==="incoming"?"text-[#6F66FF]":"text-gray-500 hover:text-gray-700"}`,children:["Incoming",n.length>0&&p.jsx(hr,{className:"ml-2 bg-[#6F66FF] text-white",children:n.length}),o==="incoming"&&p.jsx(Si.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#6F66FF]",layoutId:"activeTab"})]}),p.jsxs("button",{onClick:()=>a("outgoing"),className:`pb-3 px-4 font-semibold transition-colors relative ${o==="outgoing"?"text-[#6F66FF]":"text-gray-500 hover:text-gray-700"}`,children:["Outgoing",t.length>0&&p.jsx(hr,{className:"ml-2 bg-gray-500 text-white",children:t.length}),o==="outgoing"&&p.jsx(Si.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#6F66FF]",layoutId:"activeTab"})]})]}),i?p.jsx(Ot,{className:"border-0 shadow-lg",children:p.jsx(Ft,{className:"p-8 text-center text-gray-500",children:"Loading friend requests..."})}):o==="incoming"?p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(Mx,{className:"w-5 h-5"}),"Incoming Friend Requests",n.length>0&&p.jsx(hr,{className:"ml-2 bg-[#6F66FF] text-white",children:n.length})]})}),p.jsx(Ft,{children:n.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(Mx,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No incoming requests"}),p.jsx("p",{className:"text-sm",children:"You don't have any pending friend requests right now."})]}):p.jsx("div",{className:"space-y-3",children:n.map(c=>p.jsxs(Si.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 hover:border-[#6F66FF]/50 transition-all bg-white",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-lg font-semibold flex-shrink-0",children:c.userAvatar||c.userName?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-[#2C2E6F] font-semibold",children:c.userName||`User ${c.fromUserId}`}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Sent ",new Date(c.createdAt).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Lt,{onClick:()=>u(c.id,c.userName||`User ${c.fromUserId}`),className:"bg-gradient-to-r from-green-500 to-green-600 hover:opacity-90 text-white",children:[p.jsx(zF,{className:"w-4 h-4 mr-2"}),"Accept"]}),p.jsxs(Lt,{onClick:()=>d(c.id,c.userName||`User ${c.fromUserId}`),variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:[p.jsx(Yle,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]},c.id))})})]}):p.jsxs(Ot,{className:"border-0 shadow-lg",children:[p.jsx(ln,{children:p.jsxs(un,{className:"text-[#2C2E6F] flex items-center gap-2",children:[p.jsx(tx,{className:"w-5 h-5"}),"Outgoing Friend Requests",t.length>0&&p.jsx(hr,{className:"ml-2 bg-gray-500 text-white",children:t.length})]})}),p.jsx(Ft,{children:t.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(tx,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No outgoing requests"}),p.jsx("p",{className:"text-sm",children:"You haven't sent any friend requests yet."})]}):p.jsx("div",{className:"space-y-3",children:t.map(c=>p.jsxs(Si.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 bg-white",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white text-lg font-semibold flex-shrink-0",children:c.userAvatar||c.userName?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-[#2C2E6F] font-semibold",children:c.userName||`User ${c.toUserId}`}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Sent ",new Date(c.createdAt).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[p.jsx(tx,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm",children:"Waiting for response"})]})]},c.id))})})]})]})}function a8e(){const n=Td(),[e,t]=B.useState([]),[r,i]=B.useState(""),[s,o]=B.useState(!0);B.useEffect(()=>(a(),xo.onFriendRequestsUpdated(()=>{a()}),()=>{xo.offFriendRequestsUpdated(()=>{})}),[]);const a=async()=>{try{o(!0);const d=(await xo.getFriends()).map(c=>({...c,userName:c.friendName||`User ${c.friendId}`,userAvatar:c.friendName?.charAt(0).toUpperCase()||"?",userId:c.friendId}));t(d)}catch(u){const d=u;console.error("Failed to load friends:",u),d?.code!=="ERR_NETWORK"&&d?.code!=="ERR_CONNECTION_REFUSED"&&Bi.error("Failed to load friends")}finally{o(!1)}},l=e.filter(u=>u.userName?.toLowerCase().includes(r.toLowerCase()));return p.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Friends"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Connect with your recovery community"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white font-semibold",children:p.jsx(Tx,{className:"w-5 h-5"})}),p.jsxs(hr,{className:"bg-[#6F66FF]/10 text-[#6F66FF] border-[#6F66FF]/20",children:[e.length," ",e.length===1?"Friend":"Friends"]})]})]}),p.jsx(Ot,{className:"border-0 shadow-sm",children:p.jsx(Ft,{className:"p-4",children:p.jsxs("div",{className:"relative",children:[p.jsx(Ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx(bs,{type:"text",placeholder:"Search friends...",value:r,onChange:u=>i(u.target.value),className:"pl-10 bg-white border-gray-200"})]})})}),p.jsxs(Ot,{className:"border-0 shadow-sm",children:[p.jsx(ln,{children:p.jsxs(un,{className:"flex items-center gap-2",children:[p.jsx(zF,{className:"w-5 h-5 text-[#6F66FF]"}),"Friends (",l.length,")"]})}),p.jsx(Ft,{children:s?p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx("div",{className:"text-gray-500",children:"Loading friends..."})}):l.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[p.jsx(Tx,{className:"w-16 h-16 text-gray-300 mb-4"}),p.jsx("p",{className:"text-gray-500 text-lg font-medium",children:r?"No friends found":"No friends yet"}),p.jsx("p",{className:"text-gray-400 text-sm mt-2",children:r?"Try a different search term":"Connect with others in the Quests & XP section"})]}):p.jsx("div",{className:"space-y-3",children:l.map((u,d)=>p.jsx(Si.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},children:p.jsx(Ot,{className:"border border-gray-200 hover:border-[#6F66FF]/50 hover:shadow-md transition-all",children:p.jsx(Ft,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#6F66FF] to-[#8C7BFF] flex items-center justify-center text-white font-semibold",children:u.userAvatar||u.userName?.charAt(0).toUpperCase()||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:u.userName||u.friendName||`User ${u.friendId}`}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Friend since ",new Date(u.createdAt).toLocaleDateString()]})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs(Lt,{size:"sm",variant:"outline",onClick:()=>{n("/friends-messages",{state:{tab:"messages",userId:u.friendId,userName:u.userName||u.friendName}})},className:"text-xs h-8 px-3 bg-white border-[#6F66FF] text-[#6F66FF] hover:bg-[#6F66FF]/10",children:[p.jsx(Of,{className:"w-3 h-3 mr-1"}),"Message"]})})]})})})},u.id||u.friendId||d))})})]})]})}function O7(){const n=hm(),[e,t]=B.useState("messages");return B.useEffect(()=>{const r=n.state;r?.tab?t(r.tab):n.pathname==="/friends"&&t("friends")},[n]),p.jsx("div",{className:"p-8",children:p.jsxs(xC,{defaultValue:e,value:e,onValueChange:t,className:"w-full",children:[p.jsxs(bC,{className:"mb-6",children:[p.jsx(Ba,{value:"messages",children:"Messages"}),p.jsx(Ba,{value:"friends",children:"Friends"}),p.jsx(Ba,{value:"friend-requests",children:"Friend Requests"})]}),p.jsx(lc,{value:"messages",className:"mt-0",children:p.jsx("div",{className:"-m-8",children:p.jsx(tne,{})})}),p.jsx(lc,{value:"friends",className:"mt-0",children:p.jsx("div",{className:"-m-8",children:p.jsx(a8e,{})})}),p.jsx(lc,{value:"friend-requests",className:"mt-0",children:p.jsx("div",{className:"-m-8",children:p.jsx(nne,{})})})]})})}var l8e=(n,e,t,r,i,s,o,a)=>{let l=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(n)?n:[n]).forEach(v=>{let b=v==="class",y=b&&s?i.map(w=>s[w]||w):i;b?(l.classList.remove(...y),l.classList.add(s&&s[m]?s[m]:m)):l.setAttribute(v,m)}),c(m)}function c(m){a&&u.includes(m)&&(l.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let m=localStorage.getItem(e)||t,v=o&&m==="system"?f():m;d(v)}catch{}},c8e=B.createContext(void 0),u8e={setTheme:n=>{},themes:[]},d8e=()=>{var n;return(n=B.useContext(c8e))!=null?n:u8e};B.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:u})=>{let d=JSON.stringify([t,e,s,n,a,o,r,i]).slice(1,-1);return B.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${l8e.toString()})(${d})`}})});const f8e=({...n})=>{const{theme:e="system"}=d8e();return p.jsx(GTe,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function h8e(){const{isAuthenticated:n,user:e}=pu(),[t,r]=B.useState("patient"),[i,s]=B.useState("dashboard"),o=Td(),a=hm();B.useEffect(()=>{const f=a.pathname.replace("/","")||"dashboard";s(f)},[a]),B.useEffect(()=>{if(e){const f=e?.role,m=f==="clinician"?"clinician":"patient";r(m);const v=a.pathname.replace("/","")||"dashboard";v==="dashboard"&&f==="clinician"?o("/clinician-dashboard"):v==="clinician-dashboard"&&m==="patient"&&o("/dashboard")}},[e,a.pathname,o]);const l=f=>{r(f);const m=f==="patient"?"dashboard":"clinician-dashboard";s(m),o(`/${m}`)},u=f=>{s(f),o(`/${f}`)};if(!n)return p.jsx(Qq,{onLogin:l});const d=()=>{if(t==="patient")switch(i){case"dashboard":return p.jsx(WH,{});case"ai-plan":return p.jsx(mTe,{});case"live-session":return p.jsx(gTe,{});case"quests":return p.jsx($Te,{});case"friends":return p.jsx(O7,{});case"friends-messages":return p.jsx(O7,{});case"friend-requests":return p.jsx(nne,{});case"messages":return p.jsx(tne,{});case"future-self":return p.jsx(qTe,{});case"clarity-hub":return p.jsx(ZH,{userRole:"patient"});case"body-scan":return p.jsx(o8e,{});case"echo-body":return p.jsx(Z5e,{});case"exercises":return p.jsx(QH,{});case"settings":return p.jsx(e9,{});default:return p.jsx(WH,{})}if(t==="clinician")switch(i){case"clinician-dashboard":case"dashboard":return p.jsx(n9,{onNavigate:u});case"patients":return p.jsx(sPe,{});case"clarity-hub":return p.jsx(ZH,{userRole:"clinician"});case"exercises":return p.jsx(QH,{});case"analytics":return p.jsx(lPe,{});case"actuarial-insights":return p.jsx(dPe,{onBack:()=>u("clinician-dashboard")});case"settings":return p.jsx(e9,{});default:return p.jsx(n9,{onNavigate:u})}return p.jsx(aTe,{})},c=i==="body-scan";return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#E9E6F9] via-white to-white",children:[!c&&p.jsx($fe,{currentPage:i,onPageChange:u,userRole:t}),p.jsx("main",{className:c?"w-full h-screen":"ml-64 p-8",children:d()})]})}function p8e(){return p.jsx(toe,{children:p.jsxs(noe,{children:[p.jsx(f8e,{}),p.jsx(Pre,{children:p.jsxs(Cre,{children:[p.jsx(Nw,{path:"/login",element:p.jsx(Qq,{})}),p.jsx(Nw,{path:"/*",element:p.jsx(roe,{children:p.jsx(h8e,{})})}),p.jsx(Nw,{path:"/",element:p.jsx(K7,{to:"/dashboard",replace:!0})})]})})]})})}Bne.createRoot(document.getElementById("root")).render(p.jsx(ue.StrictMode,{children:p.jsx(p8e,{})}));
